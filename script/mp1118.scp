#include "inc/mons.h"
#include "inc/def.h"
#include "inc/flag.h"
#include "inc/se.h"
#include "inc/music.h"
#include "inc/scr_inc.h"
#include "inc/3dicon.h"
#include "inc/skilldef.h"
#include "inc/vo.h"
#include "inc/fish.h"
#include "inc/temp/mp1118.h"

//-------------------------------------------
// 1118ï¿½F
//-------------------------------------------
// initï¿½Xï¿½Nï¿½ï¿½ï¿½vï¿½g
function "init"
{
	CallFunc("rng:expMult")
	//ï¿½ï¿½ï¿½iï¿½sï¿½Kï¿½vï¿½mï¿½[ï¿½hï¿½íœï¿½ï¿½ï¿½}ï¿½bï¿½vï¿½ï¿½ÆÒ—p
	MapHide( "ground_south_all" , 0 )
	MapHide( "tree_alpha_all" , 0 )
	MapHide( "ground_south" , 1 )
	MapHide( "@BG2_groundfog" , 0 )	//ï¿½ï¿½ï¿½iï¿½Ì”Âƒtï¿½Hï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Gï¿½ï¿½ï¿½A/ï¿½İ’è§ï¿½ï¿½
	EventAreaEnable( "evc_M02S430" , 0 )

	if (FLAG[SF_BOSS_BATTLE])
	{
		//ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Cï¿½ï¿½fï¿½oï¿½bï¿½Oï¿½{ï¿½Xï¿½Wï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½ï¿½ï¿½Ìƒ{ï¿½Xï¿½ï¿½
		if( FLAG[GF_SPEEDRUN_SKILL_SAHAD] &&	// ï¿½ï¿½èï¿½İƒXï¿½Lï¿½ï¿½ï¿½Kï¿½ï¿½ï¿½Fï¿½Aï¿½ï¿½ï¿½Tï¿½nï¿½hï¿½uï¿½rï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
			!FLAG[GF_SPEEDRUN_SKILL_DANA] && FLAG[SF_DANA_JOINOK] )		// ï¿½ï¿½èï¿½İƒXï¿½Lï¿½ï¿½ï¿½Kï¿½ï¿½ï¿½Fï¿½Bï¿½ï¿½ï¿½_ï¿½[ï¿½iï¿½uï¿½rï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
		{	
			SetWork(WK_BGM, BGM_Nothing)
			EventCue("mp1118:Retry_Speedrun_Monkey3_Battle")
		}
	}
	else if( FLAG[SF_EVENT_ON] )
	{
	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
		if( !FLAG[GF_02MP1118_IN_MP1118] ){			// MP1118ï¿½É“ï¿½ï¿½ï¿½ï¿½ï¿½
			SetFlag(GF_02MP1118_IN_MP1118,1)
			//SetFlag(GF_MPxxxx_MAP_NAME_NO_DRAW,1)
			//EventCue("mp1118:EV_M02S420")
		}
		if( !FLAG[GF_02MP1201_BEFORE_INTERCEPT2] ){			// ï¿½ÙŒ`ï¿½Ìbï¿½ï¿½ï¿½}ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
			EventAreaEnable( "evc_M02S430" , 1 )

			SetChrPos("Licht",1138.32f, 412.49f, 0.50f )
			Turn("Licht",53.61f,360.0f)
		}
		//ï¿½Ş‚ï¿½ê§ï¿½ï¿½
		SetFishingAreaState(FISH_AREA_TBOX_04_R , FISH_AREASTATE_DISABLED )	// ï¿½Äoï¿½ï¿½ï¿½ó” ‚ï¿½OFF
		if(FLAG[GF_FISH_FEATURE_T04] )	//ï¿½ï¿½ï¿½ï¿½ó” ‚ï¿½Ş‚ï¿½ã‚°ï¿½Ä‚ï¿½ï¿½ï¿½
		{
			SetFishingAreaState(FISH_AREA_TBOX_04 , FISH_AREASTATE_DISABLED )	// ï¿½ï¿½ï¿½ï¿½ó” ‚ï¿½OFF
			if(rand() % 100 <= 5 || FLAG[TF_MP1118_TBOX_FISHABLE] )		//ï¿½Äoï¿½ï¿½ï¿½ó” ‚ï¿½5ï¿½ï¿½ï¿½ÌŠmï¿½ï¿½ï¿½Å•ï¿½ï¿½ï¿½
			{
				SetFlag(TF_MP1118_TBOX_FISHABLE, 1)
				SetFishingAreaState(FISH_AREA_TBOX_04_R , FISH_AREASTATE_ENABLED )	// ï¿½Äoï¿½ï¿½ï¿½ï¿½ ON
			}
		}

	//ï¿½ï¿½Ê”zï¿½uï¿½tï¿½@ï¿½ï¿½ï¿½Nï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Ä‚Ñoï¿½ï¿½
		CallFunc("mp1118:NpcPosition")

	//ï¿½mï¿½oï¿½bï¿½}ï¿½[ï¿½Jï¿½[ï¿½Zï¿½bï¿½g
		CallFunc("system:SetMarkerNPC")
	}

	//ï¿½}ï¿½bï¿½vï¿½ï¿½ï¿½\ï¿½ï¿½
	if(!FLAG[SF_LOADINIT] && !FLAG[GF_MPxxxx_MAP_NAME_NO_DRAW] && !FLAG[TF_MAPNAME_SHOWN]){
		if( FLAG[SF_LASTENTRY_NO] == 0 || FLAG[SF_LASTENTRY_NO] == 100 ){
			VisualName("visual/mapname/mn_1118.itp",VN_NAMEMAP2,-1,-1,VN_MAPNAME_TIME)//ï¿½ï¿½ï¿½Cï¿½ï¿½
			SetFlag( TF_MAPNAME_SHOWN, 1 )				// ï¿½nï¿½ï¿½ï¿½\ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½iï¿½eï¿½ï¿½ï¿½|ï¿½ï¿½ï¿½ï¿½ï¿½j
		}
	}

}

//////////////////////////////////////////////////////////////////////
//ï¿½ï¿½ï¿½ï¿½Ê”zï¿½u
//////////////////////////////////////////////////////////////////////
//ï¿½ï¿½Ê”zï¿½u
function "NpcPosition"
{
	if( FLAG[GF_SPEEDRUN_SKILL_SAHAD] &&	// ï¿½ï¿½èï¿½İƒXï¿½Lï¿½ï¿½ï¿½Kï¿½ï¿½ï¿½Fï¿½Aï¿½ï¿½ï¿½Tï¿½nï¿½hï¿½uï¿½rï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
		!FLAG[GF_SPEEDRUN_SKILL_DANA] && FLAG[SF_DANA_JOINOK])		// ï¿½ï¿½èï¿½İƒXï¿½Lï¿½ï¿½ï¿½Kï¿½ï¿½ï¿½Fï¿½Bï¿½ï¿½ï¿½_ï¿½[ï¿½iï¿½uï¿½rï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	{
		//ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½O
		SetChrPos("Monkey",1133.42f, 431.52f, 0.11f)
		Turn("Monkey",-134.08f,360.0f)
		ChangeAnimation( "Monkey", "ANI_EV_UDEGUMI", -1, 1 )
	}
}


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//ï¿½ï¿½ï¿½ï¿½ï¿½Cï¿½ï¿½ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Zï¿½Nï¿½Vï¿½ï¿½ï¿½ï¿½

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
function "EV_OpenChack"
{
	SetStopFlag(STOPFLAG_EVENT)
	SaveCamera()

	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cï¿½ï¿½Aï¿½Élï¿½Ì‹Cï¿½zï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½cï¿½c"		//ï¿½ï¿½ï¿½ï¿½ï¿½@ï¿½Xï¿½gï¿½bï¿½pï¿½[ï¿½pï¿½ï¿½ï¿½bï¿½Zï¿½[ï¿½W
		"#7Cï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚İ‚æ‚¤ï¿½ï¿½ï¿½H"
	}
	WaitPrompt()
	WaitCloseWindow()

	//ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚Å‘Ò‹@
	WaitAnimation2( "PLAYER1" ,-1 ,-1 ,ANI_WAIT ,1 )

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")

	WaitPrompt()
	WaitCloseWindow()

	//ï¿½Iï¿½ï¿½ï¿½ï¿½
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½")
	MenuAdd(-1, "ï¿½ï¿½É‚ï¿½ï¿½ï¿½")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
	WaitMenu(0)
	MenuClose(10,0)

	//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	//	ï¿½Ëï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	if (FLAG[TF_MENU_SELECT] == 1){

		FadeOut(FADE_BLACK,FADE_FAST)
		WaitFade()

		EventCue("mp1118:EV_M02S430_ED")

	}
	//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	//	ï¿½ËŒï¿½É‚ï¿½ï¿½ï¿½
	else {

		CrossFade(FADE_NORMAL)

		// PLAYER2ï¿½ï¿½PLAYER3ï¿½Ì‚Ç‚ï¿½ï¿½ç‚©ï¿½ï¿½PLAYER1ï¿½ï¿½ï¿½ï¿½ï¿½è‹—ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½
		// PLAYER1ï¿½Ì‚ï¿½ï¿½Î‚Éƒï¿½ï¿½[ï¿½vï¿½ï¿½ï¿½ï¿½
		SetFlag( TF_CHECK_DISTANCE, 1 )
		SetFlag( TF_CHECK_DISTANCE2, 1 )
		if( WORK[WK_ISEXIST_PLAYER2] )
		{
			CheckChrDistance( TF_CHECK_DISTANCE, "PLAYER1", "PLAYER2", 0, STOPPER_WARPDIS )
		}
		if( WORK[WK_ISEXIST_PLAYER3] )
		{
			CheckChrDistance( TF_CHECK_DISTANCE2, "PLAYER1", "PLAYER3", 0, STOPPER_WARPDIS )
		}
	
		if( FLAG[TF_CHECK_DISTANCE]==0 || FLAG[TF_CHECK_DISTANCE2]==0)
		{
			ChrAlpha( "PLAYER2" , 0.0f , 0 )
			ChrAlpha( "PLAYER3" , 0.0f , 0 )
			ResetPartyPos()
		}

		if( FLAG[TF_CHECK_DISTANCE]==0 || FLAG[TF_CHECK_DISTANCE2]==0)
		{
			ExecuteCmd(3, ChrAlpha, "PLAYER2" , 1.0f , 10 )
			ExecuteCmd(4, ChrAlpha, "PLAYER3" , 1.0f , 10 )
			WaitThread(3)
			WaitThread(4)
		}

		//ï¿½Ä”zï¿½u
		SetChrPos("LEADER",1118.27f,402.63f,2.00f)
		Turn("LEADER",58.76f,360.0f)

		ResetPartyPos()
		ResetFollowPoint()
	
		RestoreCamera(0,0)
		ResetCameraObserver(0)
		ResetCameraZPlane()

		WaitFade()

	}
	//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½


	ResetStopFlag(STOPFLAG_EVENT)
}

//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
//ï¿½ï¿½ï¿½ï¿½ï¿½Ñ‚ğ”²‚ï¿½ï¿½ï¿½(mp1118)
//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
function "EV_M02S420"		//ï¿½ï¿½ï¿½Ñ‚ğ”²‚ï¿½ï¿½ï¿½
{
//ï¿½Jï¿½nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½----------------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Jï¿½nï¿½Oï¿½ï¿½ï¿½Ì•Û‘ï¿½
	SaveEventState()
	SaveCamera()

	//ï¿½pï¿½[ï¿½eï¿½Bï¿½ï¿½Ô‚Ìƒï¿½ï¿½Zï¿½bï¿½g
	CallFunc("system:party_reset")

	//ï¿½Â‹ï¿½ï¿½Ìï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Eï¿½sï¿½vï¿½È‚ï¿½ï¿½Ì‚ï¿½ï¿½Bï¿½ï¿½
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	//ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ô‚Ìİ’ï¿½	
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)
	SetChrPos("ADOL", 1058.09f, 345.37f, 10.13f)
	Turn("ADOL", -136.53f, 360.0f)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")

	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)
	SetChrPos("LAXIA", 1057.11f, 345.61f, 10.14f)
	Turn("LAXIA", -135.06f, 360.0f)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")

	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)
	SetChrPos("SAHAD", 1058.29f, 344.25f, 10.12f)
	Turn("SAHAD", -138.86f, 360.0f)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")

	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)
	SetChrPos("HUMMEL", 1058.77f, 342.88f, 10.12f)
	Turn("HUMMEL", -134.95f, 360.0f)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")

	MoveCameraAt( 0 , 1065.307f , 351.720f , 14.484f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	ChangeCameraDistance( 0 , 10.441f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	ChangeCameraElevation( 0 , 2.303f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	RotateCamera( 0 , 333.677f , 0 )				// ï¿½pï¿½x
	ChangeCameraPers( 0 , 50.000f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]
	// ResetCameraZPlane()	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ÉŒÄ‚Ñoï¿½ï¿½ï¿½Ä‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½}ï¿½bï¿½vï¿½ï¿½ï¿½Ìİ’ï¿½É–ß‚ï¿½ï¿½Ü‚ï¿½ï¿½B

	// ï¿½ï¿½ÊŠEï¿½[ï¿½xï¿½Ìİ’ï¿½
	SetDoF(0, LERP_LINEAR, 5.000, 170.000 ,1.000 ,0.550 ,0.500)
	// ï¿½Oï¿½ï¿½ï¿½Aï¿½Ìİ’ï¿½
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//ï¿½Xï¿½Lï¿½bï¿½vï¿½ï¿½ï¿½ï¿½
	SetSkipScript("mp1118:EV_M02S420_ED")

//ï¿½Jï¿½nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½-----------------------------------------------

	//ï¿½@ï¿½@ï¿½lï¿½Óƒ}ï¿½bï¿½vï¿½Éoï¿½ï¿½ÆƒCï¿½xï¿½ï¿½ï¿½gï¿½Jï¿½nï¿½B
	//ï¿½@ï¿½@ï¿½ï¿½Oï¿½ÉLï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½lï¿½Ó‚ï¿½ï¿½Xï¿½Nï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Â‚ÂŒï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½B
	//ï¿½@ï¿½@ï¿½tï¿½Fï¿½[ï¿½hï¿½Cï¿½ï¿½ï¿½ï¿½ï¿½Ä–ï¿½ï¿½Ñ•ï¿½ï¿½Ê‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Äoï¿½Ä‚ï¿½ï¿½ï¿½Sï¿½lï¿½B
	
	// ï¿½Jï¿½bï¿½g1 ----------------------------------------------------------------------------------------

	// ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½Ú“ï¿½
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 1069.366f , 349.375f , 15.176f , 150 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 10.440f , 150 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -5.603f , 150 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 306.465f , 150 )
	
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	VisualName("visual/mapname/mn_1118.itp",VN_NAMEMAP,-1,-1,VN_MAPNAME_TIME)//ï¿½ï¿½ï¿½Cï¿½ï¿½

	// ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½Ò‚ï¿½
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	// ï¿½Jï¿½bï¿½g2 ----------------------------------------------------------------------------------------

	// ï¿½Nï¿½ï¿½ï¿½Xï¿½tï¿½Fï¿½[ï¿½h
	CrossFade(45)
	
	// ï¿½Jï¿½ï¿½ï¿½ï¿½
	MoveCameraAt( 0 , 1060.496f , 347.248f , 12.860f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	ChangeCameraDistance( 0 , 3.401f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	ChangeCameraElevation( 0 , -9.294f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	RotateCamera( 0 , 128.860f , 0 )				// ï¿½pï¿½x
	ChangeCameraPers( 0 , 50.000f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]
	// ResetCameraZPlane()	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ÉŒÄ‚Ñoï¿½ï¿½ï¿½Ä‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½}ï¿½bï¿½vï¿½ï¿½ï¿½Ìİ’ï¿½É–ß‚ï¿½ï¿½Ü‚ï¿½ï¿½B

	// ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½Ú“ï¿½
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 1060.496f , 347.248f , 11.740f , 75 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.401f , 75 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.710f , 75 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 106.512f , 75 )

	// ï¿½Ú“ï¿½
	ExecuteCmd(1, MoveTo, "ADOL", 1059.70f, 347.43f, 10.14f, 0.1f, 0.18f)
	Wait(3)
	ExecuteCmd(2, MoveTo, "SAHAD", 1060.67f, 347.00f, 10.13f, 0.1f, 0.18f)
	Wait(3)
	ExecuteCmd(3, MoveTo, "LAXIA", 1059.32f, 348.26f, 10.15f, 0.1f, 0.18f)
	ExecuteCmd(4, MoveTo, "HUMMEL", 1061.06f, 345.93f, 10.13f, 0.1f, 0.18f)
	Look("SAHAD", -30.0f, 0.0f)	// ï¿½ç¨

	// ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½Ò‚ï¿½
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// ï¿½qï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#000e#000mï¿½Cï¿½İ‚Éoï¿½ï¿½ï¿½ï¿½ï¿½cï¿½c"
	}
	WaitPrompt()
	WaitCloseWindow()

	// ï¿½Ú“ï¿½ï¿½Ò‚ï¿½
	WaitThread(1)
	WaitThread(2)
	WaitThread(3)
	WaitThread(4)


	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )	// ï¿½rï¿½g

	LookSpd("SAHAD", 0.08f, 0.08f, 0.08f )// ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ß‚Éï¿½ï¿½ï¿½ï¿½

	// ï¿½Tï¿½nï¿½h
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mï¿½Ç‚ï¿½Aï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½cï¿½Ícï¿½c"
		"ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½2ï¿½sï¿½ï¿½"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("SAHAD", 40.0f, 0.0f)	// ï¿½ï¿½ï¿½ï¿½
	Wait(40)
	LookReset("SAHAD")
	Wait(20)
	LookSpd( "SAHAD", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT )

	//ï¿½@ï¿½@ï¿½Tï¿½nï¿½hï¿½Aï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÌŒï¿½Éuï¿½Hï¿½vï¿½Gï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½B
	EmotionEx("SAHAD", 0.05f, EMO_Q, 0, 5, 1, 1, 1.0f )	// ï¿½uï¿½Hï¿½v
	Wait(35)

	// ï¿½Tï¿½nï¿½h
	TalkPopup("SAHAD",  0, 2, 0, 0, 0) {
		"#050e#000mï¿½ï¿½ï¿½Hï¿½@ï¿½ï¿½ï¿½ï¿½ï¿½Æ‚ï¿½ï¿½ï¿½A"
		"ï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½È‚ï¿½ï¿½İ‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½cï¿½c"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// ï¿½è‹¹ï¿½ï¿½ï¿½ï¿½
	LookChr("LAXIA", "SAHAD")

	// ï¿½ï¿½ï¿½Nï¿½Vï¿½ï¿½
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#050e#000mï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½ï¿½È‚Í‚ï¿½ï¿½Ícï¿½c"
	}
	WaitPrompt()
	WaitCloseWindow()

	//ï¿½@ï¿½@ï¿½ï¿½ï¿½ì‹–ï¿½ÂB

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½----------------------------------------------------
	CallFunc("mp1118:EV_M02S420_ED")
}

function "EV_M02S420_ED"											//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Xï¿½Lï¿½bï¿½vï¿½pï¿½ÉIï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ê‚ï¿½functionï¿½Æ‚ï¿½ï¿½Ä—pï¿½Ó‚ï¿½ï¿½Ü‚ï¿½ï¿½B
{
	SetSkipScript("")												//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÍƒXï¿½Lï¿½bï¿½vï¿½Ö~

	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Oï¿½ÌƒLï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ğ•œ‹A
	RestoreEventState()

	//ï¿½ï¿½ï¿½ï¿½ï¿½Xï¿½^ï¿½[ï¿½ğ•œ‹A
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½Nï¿½^ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_HUMMEL")

	//ï¿½pï¿½[ï¿½eï¿½Bï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	ReleaseEventPartyChr()

	//ï¿½}ï¿½bï¿½vï¿½pï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½^ï¿½[ï¿½ï¿½ï¿½Zï¿½bï¿½g
	ResetMapParam(-1)

	//ï¿½tï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½
	SetFlag( GF_02MP1118_IN_MP1118 , 1 )			// ï¿½ï¿½ï¿½Ñ‚ğ”²‚ï¿½ï¿½ï¿½
	SetFlag(GF_MPxxxx_MAP_NAME_NO_DRAW,0)
	SetFlag(TF_MAPNAME_SHOWN,1)
	CallFunc("mp1118:init" )

	SetChrPos("LEADER",1060.34f,352.72f,10.16f)
	Turn("LEADER",-140.44f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //ï¿½ï¿½ï¿½ï¿½ï¿½Ò‚ï¿½ï¿½p

	//ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½Ê’uï¿½ï¿½ï¿½Aorï¿½ï¿½ï¿½ï¿½ï¿½Ê’uï¿½İ’ï¿½
	MoveCameraAt( 0 , 1060.345f , 352.724f , 11.991f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	ChangeCameraDistance( 0 , 7.000f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	ChangeCameraElevation( 0 , 1.802f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	RotateCamera( 0 , -42.450f , 0 )				// ï¿½pï¿½x
	ChangeCameraPers( 0 , 60.000f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	SetCameraZPlane( 0.100f , 600.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]

	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½----------------------------------------------------

}


//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
//ï¿½ï¿½ï¿½ï¿½ï¿½qï¿½gï¿½ï¿½ï¿½ï¿½ï¿½Â‚ï¿½ï¿½ï¿½(mp1118)
//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
function "EV_M02S430"		//ï¿½ï¿½ï¿½qï¿½gï¿½ï¿½ï¿½ï¿½ï¿½Â‚ï¿½ï¿½ï¿½
{
//ï¿½Jï¿½nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Jï¿½nï¿½Oï¿½ï¿½ï¿½Ì•Û‘ï¿½
	SaveEventState()
	SaveCamera()

	//ï¿½pï¿½[ï¿½eï¿½Bï¿½ï¿½Ô‚Ìƒï¿½ï¿½Zï¿½bï¿½g
	CallFunc("system:party_reset")

	//ï¿½Â‹ï¿½ï¿½Ìï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Eï¿½sï¿½vï¿½È‚ï¿½ï¿½Ì‚ï¿½ï¿½Bï¿½ï¿½
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	//ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ô‚Ìİ’ï¿½			
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Paro", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrPos("ADOL",1124.07f, 409.32f, 0.82f )
	Turn("ADOL", -104.24f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrPos("LAXIA",1123.25f, 409.83f, 0.80f)
	Turn("LAXIA", -107.32f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("LAXIA")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrPos("SAHAD", 1124.25f, 407.84f, 0.88f )
	Turn("SAHAD", -108.14f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("SAHAD")

	SetChrInfoFlag( "HUMMEL" , INFOFLAG_NOCHRATARI )
	SetChrPos("HUMMEL",1123.07f, 408.50f, 0.87f)
	Turn("HUMMEL", -101.03f, 360.0f)
	ChangeSubAnimation("HUMMEL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("HUMMEL")

	//MTDï¿½ï¿½SEï¿½Â‚ç‚³ï¿½È‚ï¿½
	SetFlag( SF_NOUSE_MTDSE, 1 )

	SetChrInfoFlag( "Paro" , INFOFLAG_NOCHRATARI )
	SetChrInfoFlag( "Paro" , INFOFLAG_INVISIBLE )
	SetChrInfoFlag( "Paro",INFOFLAG_FLING )
	ChangeAnimation("Paro", "ANI_FLY_RUN", -1, 1)
	SetChrPos("Paro", 1125.61f, 406.92f, 3.91f)
	Turn("Paro", -169.39f, 360.0f)

	SetChrInfoFlag( "Licht" , INFOFLAG_NOCHRATARI )
	SetChrPos("Licht",1138.32f, 412.49f, 0.51f )
	Turn("Licht",60.72f,360.0f)
	LookReset("Licht")

	MoveCameraAt( 0 , 1126.834f , 409.706f , 2.893f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	ChangeCameraDistance( 0 , 4.301f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	ChangeCameraElevation( 0 , 2.569f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	RotateCamera( 0 , 267.660f , 0 )				// ï¿½pï¿½x
	ChangeCameraPers( 0 , 60.000f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]
	// ResetCameraZPlane()	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ÉŒÄ‚Ñoï¿½ï¿½ï¿½Ä‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½}ï¿½bï¿½vï¿½ï¿½ï¿½Ìİ’ï¿½É–ß‚ï¿½ï¿½Ü‚ï¿½ï¿½B

	SetFlag(SF_CHARANORECVSHADOW,1)	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½eï¿½ó‚¯‚È‚ï¿½

	// ï¿½ï¿½ÊŠEï¿½[ï¿½xï¿½Ìİ’ï¿½
	SetDoF(0, LERP_LINEAR, 5.000, 170.000 ,2.000 ,0.550 ,0.550)

	// ï¿½Oï¿½ï¿½ï¿½Aï¿½Ìİ’ï¿½
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetSkipScript("mp1118:EV_M02S430_ED")

//ï¿½Jï¿½nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½-----------------------------------------------

	//ï¿½@ï¿½@ï¿½ï¿½ï¿½lï¿½ÌŠï¿½É‹ß‚Ã‚ï¿½ï¿½ÆƒCï¿½xï¿½ï¿½ï¿½gï¿½Jï¿½nï¿½B
	//ï¿½@ï¿½@ï¿½ï¿½ï¿½ï¿½Ó‚É•ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½Aï¿½hï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½B

	// ï¿½Jï¿½bï¿½gX ----------------------------------------------------------------------------------------

	// ï¿½Ú“ï¿½
	ExecuteCmd(1, MoveTo, "ADOL", 1126.74f, 409.73f, 0.76f, 0.1f, 0.16f)
	Wait(3)
	ExecuteCmd(2, MoveTo, "LAXIA", 1126.05f, 410.64f, 0.72f, 0.1f, 0.16f)
	Wait(3)
	ExecuteCmd(3, MoveTo, "SAHAD", 1126.91f, 408.22f, 0.83f, 0.1f, 0.16f)
	ExecuteCmd(4, MoveTo, "HUMMEL", 1125.38f, 408.91f, 0.81f, 0.1f, 0.16f)

	// ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½Ú“ï¿½
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 1127.556f , 409.889f , 2.353f , 70 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.301f , 70 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.423f , 70 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 251.329f , 70 )

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Wait(30)
	FadeBGM(60,30)

	// ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½Ò‚ï¿½
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	//	ï¿½Â”Nï¿½Ìï¿½
	SetName("ï¿½Â”Nï¿½Ìï¿½")
	TalkPopup("Licht",0,3,120,70,0) {
		"#4307Vï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½è‚¢ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½A"
		"ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ö—ï¿½ï¿½È‚ï¿½ï¿½Å‚ï¿½ï¿½ï¿½æ‚¤ï¿½cï¿½c"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	//ï¿½@ï¿½@ï¿½Sï¿½ï¿½ï¿½É‚oï¿½`ï¿½Gï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½B
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// ï¿½uï¿½Iï¿½v
	EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// ï¿½uï¿½Iï¿½v
	EmotionEx("SAHAD", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// ï¿½uï¿½Iï¿½v
	EmotionEx("HUMMEL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// ï¿½uï¿½Iï¿½v
	LookChr("ADOL", "Licht")
	LookChr("LAXIA", "Licht")
	LookChr("SAHAD", "Licht")
	LookChr("HUMMEL", "Licht")
	Wait(35)

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// ï¿½ï¿½ï¿½è˜

	// ï¿½Tï¿½nï¿½h
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mï¿½ï¿½ï¿½Hï¿½@ï¿½Nï¿½ï¿½ï¿½Bï¿½ï¿½Ä‚ï¿½Ì‚ï¿½ï¿½H"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI_S", -1, 1 )	// ï¿½rï¿½g

	//	"HUMMEL"
	TalkPopup("HUMMEL",0,2,0,0,0) {
		"#000e#000mï¿½ï¿½ï¿½ï¿½ï¿½Æ‹ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½æ‚¤ï¿½ï¿½ï¿½ï¿½ï¿½cï¿½c"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// ï¿½è‹¹ï¿½ï¿½ï¿½ï¿½

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mï¿½|ï¿½ï¿½ï¿½ï¿½È‚ï¿½ï¿½Å‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½B\p"
		"ï¿½í‚½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½"
		"ï¿½ï¿½ï¿½È‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½É—ï¿½ï¿½ï¿½ï¿½Ì‚Å‚ï¿½ï¿½B"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	ï¿½Â”Nï¿½Ìï¿½
	SetName("ï¿½Â”Nï¿½Ìï¿½")
	TalkPopup("Licht",0,3,120,70,0) {
		"ï¿½cï¿½cï¿½cï¿½cï¿½cï¿½cï¿½cï¿½cï¿½cï¿½cï¿½cï¿½cï¿½cï¿½c\p"
		"ï¿½cï¿½cï¿½ÙAï¿½{ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½H"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½Sï¿½ï¿½ï¿½Äoï¿½Ä‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½B"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)
	
	// ï¿½Jï¿½bï¿½gX -----------------------------------------------------------------------------------------

	//ï¿½@ï¿½@ï¿½ï¿½Ì‰eï¿½ï¿½ï¿½çƒŠï¿½qï¿½gï¿½ï¿½ï¿½ï¿½ï¿½é‹°ï¿½ï¿½pï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½B
	
	CrossFade(FADE_CROSS)
	SetShadowBound(16,16)


	SetChrPos("Licht",1136.84f,413.80f,0.52f)
	Turn("Licht",53.61f,360.0f)

	MoveCameraAt( 0 , 1134.044f , 414.379f , 0.938f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	ChangeCameraDistance( 0 , 1.618f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	ChangeCameraElevation( 0 , -2.311f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	RotateCamera( 0 , 126.174f , 0 )				// ï¿½pï¿½x
	ChangeCameraPers( 0 , 60.000f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]
	// ResetCameraZPlane()	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ÉŒÄ‚Ñoï¿½ï¿½ï¿½Ä‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½}ï¿½bï¿½vï¿½ï¿½ï¿½Ìİ’ï¿½É–ß‚ï¿½ï¿½Ü‚ï¿½ï¿½B
	
	ExecuteCmd( 1, MoveTo, "Licht" , 1133.80f,414.68f,0.48f , 0.1f , 0.21f )
	
	Wait(FADE_CROSS)

	WaitThread(1)
	Turn("Licht",48.94f,6.0f)

	Wait(30)

	// ï¿½Jï¿½bï¿½gX -----------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)
	SetShadowBound(64,64)

	SetChrPos("Licht",1129.50f,412.52f,0.43f)
	Turn("Licht",48.94f,360.0f)
	SetChrPos("HUMMEL",1125.11f,409.08f,0.52f)
	Turn("HUMMEL",-118.17f,360.0f)
	SetChrPos("LAXIA", 1126.26f, 410.52f, 0.73f)
	Turn("LAXIA", -119.92f, 360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	SetChrPos("ADOL", 1126.39f, 409.31f, 0.78f)
	Turn("ADOL", -128.70f, 360.0f)

	TurnToChr("SAHAD" , "Licht" , 360.0f)
	TurnToChr("HUMMEL" , "Licht" , 360.0f)

	MoveCameraAt( 0 , 1129.335f , 412.556f , 2.070f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	ChangeCameraDistance( 0 , 1.760f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	ChangeCameraElevation( 0 , 0.111f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	RotateCamera( 0 , 332.993f , 0 )				// ï¿½pï¿½x
	ChangeCameraPers( 0 , 41.300f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]
	// ResetCameraZPlane()	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ÉŒÄ‚Ñoï¿½ï¿½ï¿½Ä‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½}ï¿½bï¿½vï¿½ï¿½ï¿½Ìİ’ï¿½É–ß‚ï¿½ï¿½Ü‚ï¿½ï¿½B


	Wait(FADE_CROSS)
	
	Wait(10)
	
	ChangeAnimation( "Licht", "ANI_EV_BORI", -1, 1 )	// ï¿½ï¿½Uï¿½ï¿½
	
	//	ï¿½Cï¿½ã‚»ï¿½ï¿½ï¿½ÈÂ”N
	SetName("ï¿½Cï¿½ã‚»ï¿½ï¿½ï¿½ÈÂ”N")
	TalkPopup("Licht",0,2,0,0,0) {
		"#011eï¿½ÇAï¿½Ç‚ï¿½ï¿½ï¿½ï¿½cï¿½c"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Wait(25)

	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , 1127.016f , 410.024f , 2.219f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	ChangeCameraDistance( 0 , 5.152f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	ChangeCameraElevation( 0 , 7.961f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	RotateCamera( 0 , 325.091f , 0 )				// ï¿½pï¿½x
	ChangeCameraPers( 0 , 35.000f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]
	// ResetCameraZPlane()	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ÉŒÄ‚Ñoï¿½ï¿½ï¿½Ä‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½}ï¿½bï¿½vï¿½ï¿½ï¿½Ìİ’ï¿½É–ß‚ï¿½ï¿½Ü‚ï¿½ï¿½B

	Wait(FADE_CROSS)


	//	"SAHAD"
	SetName("")
	TalkPopup("SAHAD",0,1,400,180,0)
	{
		"#000e#000mï¿½ï¿½ï¿½ï¿½ï¿½Â‚Í‚Ü‚ï¿½"
		"ï¿½Ğã‚»ï¿½ï¿½ï¿½ÈŒZï¿½ï¿½ï¿½ï¿½ñ‚¾‚È‚ï¿½ï¿½B"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI_E", -1, 1 )	// ï¿½rï¿½g
	
	//	"HUMMEL"
	TalkPopup("HUMMEL",0,1,80,180,0)
	{
		"#000e#000mï¿½Ó‚Şcï¿½c"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// ï¿½ï¿½ï¿½è˜ï¿½ï¿½Uï¿½ï¿½

	//	"SAHAD"
	TalkPopup("SAHAD", 0, 1, 400, 180, 0)
	{
		"#000e#000mï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Äƒï¿½ï¿½Vï¿½ç‚©ï¿½ï¿½"
		"ï¿½Rï¿½\ï¿½Rï¿½\ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ñ‚¾H"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Licht" , 0.0f , -15.0f)

	//	ï¿½Cï¿½ã‚»ï¿½ï¿½ï¿½ÈÂ”N
	SetName("ï¿½Cï¿½ã‚»ï¿½ï¿½ï¿½ÈÂ”N")
	TalkPopup("Licht",0,2,0,0,0)
	{
		"#061e#000mï¿½ï¿½ï¿½Ìcï¿½cï¿½Å‚ï¿½ï¿½Ëcï¿½c"
		"#000mï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½Dï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Å‚ï¿½ï¿½Ü‚ï¿½ï¿½Äcï¿½c"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mï¿½Æ‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Æ‚Í‚ï¿½ï¿½È‚ï¿½ï¿½ï¿½"
		"ï¿½ï¿½ï¿½ï¿½ï¿½oï¿½ï¿½ï¿½fï¿½Bï¿½Aï¿½ï¿½ï¿½Ì•ï¿½ï¿½È‚Ì‚Å‚ï¿½ï¿½ËB"
	}
	WaitPrompt()
	WaitCloseWindow()

	// ï¿½Jï¿½bï¿½gX -----------------------------------------------------------------------------------------

	CrossFade(FADE_FAST)
//
//	MoveCameraAt( 0 , 1129.257f , 412.475f , 1.974f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
//	ChangeCameraDistance( 0 , 1.620f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
//	ChangeCameraElevation( 0 , 4.197f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
//	RotateCamera( 0 , 334.451f , 0 )				// ï¿½pï¿½x
//	ChangeCameraPers( 0 , 35.000f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]
//	// ResetCameraZPlane()	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ÉŒÄ‚Ñoï¿½ï¿½ï¿½Ä‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½}ï¿½bï¿½vï¿½ï¿½ï¿½Ìİ’ï¿½É–ß‚ï¿½ï¿½Ü‚ï¿½ï¿½B

	MoveCameraAt( 0 ,1129.257f , 412.475f , 2.234f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	ChangeCameraDistance( 0 , 1.620f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	ChangeCameraElevation( 0 , 4.197f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	RotateCamera( 0 , 334.451f , 0 )				// ï¿½pï¿½x
	ChangeCameraPers( 0 , 35.000f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]
	// ResetCameraZPlane()	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ÉŒÄ‚Ñoï¿½ï¿½ï¿½Ä‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½}ï¿½bï¿½vï¿½ï¿½ï¿½Ìİ’ï¿½É–ß‚ï¿½ï¿½Ü‚ï¿½ï¿½B

	LookSpd("ADOL",1.0f,1.0f,1.0f)
	LookSpd("LAXIA",1.0f,1.0f,1.0f)
	LookSpd("SAHAD",1.0f,1.0f,1.0f)
	LookSpd("HUMMEL",1.0f,1.0f,1.0f)

	SetChrPos("LAXIA", 1125.96f, 410.49f, 0.73f)
	Turn("LAXIA", -73.84f, 360.0f)
	SetChrPos("SAHAD", 1127.06f, 408.60f, 0.81f)
	Turn("SAHAD", 166.96f, 360.0f)
	SetChrPos("ADOL", 1126.28f, 409.44f, 0.78f)
	Turn("ADOL", -137.48f, 360.0f)
	SetChrPos("HUMMEL", 1125.12f, 408.94f, 0.82f)
	Turn("HUMMEL", -128.08f, 360.0f)

	LookChr("SAHAD", "Licht")
	LookChr("ADOL", "Licht")

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 1129.257f , 412.475f , 2.234f, 70)	// ï¿½ï¿½ï¿½ï¿½ï¿½_

	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// ï¿½ï¿½
	LookChr("Licht", "ADOL")

	Wait(FADE_FAST)

	// ï¿½ï¿½ï¿½È‚ï¿½ï¿½ï¿½ï¿½Zï¿½bï¿½g
	HeadYes("Licht" , 1 , 25 )
	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	//	ï¿½Cï¿½ã‚»ï¿½ï¿½ï¿½ÈÂ”N
	SetName("ï¿½Cï¿½ã‚»ï¿½ï¿½ï¿½ÈÂ”N")
	TalkPopup("Licht",0,2,0,0,0)
	{
		"#4308Vï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½{ï¿½Nï¿½Íƒï¿½ï¿½qï¿½gï¿½Æ‚ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

//	WaitThread(1000)
	
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 1129.257f , 412.475f , 2.060f  , 200 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.160f , 200 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.881f  , 200 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,347.293f, 200 )

	//MoveCameraAt( 0 , 1129.257f , 412.475f , 2.060f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	//ChangeCameraDistance( 0 , 2.160f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	//ChangeCameraElevation( 0 , -2.881f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	//RotateCamera( 0 , 347.293f , 0 )				// ï¿½pï¿½x
	//ChangeCameraPers( 0 , 35.000f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]
	//// ResetCameraZPlane()	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ÉŒÄ‚Ñoï¿½ï¿½ï¿½Ä‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½}ï¿½bï¿½vï¿½ï¿½ï¿½Ìİ’ï¿½É–ß‚ï¿½ï¿½Ü‚ï¿½ï¿½B

	Wait(20)

	VisualName("visual/chrname/cn_c107.itp", VN_NAMEVOICE, VN_CHRNAME_LT_X, VN_CHRNAME_LT_Y ,VN_NPCNAME_TIME)	//ï¿½ï¿½ï¿½qï¿½g

	Wait(60)

	//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Iï¿½ï¿½ï¿½ï¿½
	//ï¿½ï¿½SEï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½uï¿½ï¿½ï¿½p
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuAdd( 1 , "" )
	MenuOpen( TF_MENU_SELECT , 0 ,0 , 0 , 0 , 0 , 0 )
	WaitMenu(VN_NPCNAME_SKIP) //ï¿½Eï¿½Fï¿½Cï¿½gï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½l
	MenuClose(0,0)

	if(FLAG[TF_MENU_SELECT] == 0 )
	{
		Wait(30)
	}

	// ï¿½Jï¿½bï¿½gX -----------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)
	VisualNameEnd()

	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	
	LookSpd("Licht",1.0f,1.0f,1.0f)
	SetChrPos("Licht", 1127.82f, 410.82f, 0.69f)
	Turn("Licht", 50.26f, 360.0f)

	MoveCameraAt( 0 , 1126.868f , 410.025f , 2.236f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	ChangeCameraDistance( 0 , 2.701f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	ChangeCameraElevation( 0 , 1.863f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	RotateCamera( 0 , 160.469f , 0 )				// ï¿½pï¿½x
	ChangeCameraPers( 0 , 42.000f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]
	// ResetCameraZPlane()	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ÉŒÄ‚Ñoï¿½ï¿½ï¿½Ä‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½}ï¿½bï¿½vï¿½ï¿½ï¿½Ìİ’ï¿½É–ß‚ï¿½ï¿½Ü‚ï¿½ï¿½B

	Wait(FADE_CROSS)

	ChangeAnimation("Licht", "ANI_EV_TEBURI", -1, 1)

	//	"Licht"
	TalkPopup("Licht",0,1,0,0,0)
	{
		"#4309V#000e#000mï¿½ï¿½ï¿½Æ‚ï¿½ï¿½ï¿½ï¿½Ì“ï¿½ï¿½ï¿½"
		"ï¿½Yï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚Å‚Í‚æ‚©ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚Å‚ï¿½ï¿½ï¿½ï¿½cï¿½c\p"
		"#4310Vï¿½Xï¿½Åbï¿½ÉUï¿½Xï¿½Ç‚ï¿½ï¿½ñ‚³‚ê‚½ï¿½ï¿½ï¿½ï¿½A"
		"ï¿½|ï¿½ï¿½ï¿½Iï¿½Wï¿½Tï¿½ï¿½ï¿½É‚ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Äcï¿½c\p"
		"#4311Vï¿½ï¿½ï¿½İ‚Ü‚ï¿½ï¿½ï¿½cï¿½c"
		"ï¿½Ç‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Æ‚Â‚ï¿½ï¿½cï¿½c"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// ï¿½ï¿½ï¿½è˜
	Wait(10)

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000e#000mï¿½|ï¿½ï¿½ï¿½Iï¿½Wï¿½Tï¿½ï¿½ï¿½H"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookSpd( "ADOL", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT )
	LookSpd( "SAHAD", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT )
	LookSpd( "LAXIA", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT )
	LookSpd( "HUMMEL", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT )
	LookSpd( "Licht", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT )


	//	"HUMMEL"
	TalkPopup("HUMMEL",0,2,0,0,0)
	{
		"#000e#000mï¿½cï¿½cï¿½ï¿½ï¿½ï¿½ï¿½ç‚­ï¿½Xï¿½Ì“ï¿½ï¿½ï¿½ï¿½Å‰ï¿½ï¿½ï¿½ï¿½"
		"ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ï¿½ï¿½Æ‚ï¿½ï¿½ë‚¤ï¿½B\p"
		"ï¿½Nï¿½ï¿½ï¿½ï¿½Tï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½lï¿½qï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÈB"
		"ï¿½ï¿½ï¿½ï¿½4ï¿½sï¿½ï¿½"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_JITO_S,1)
	LookChr("SAHAD", "Licht")

	ChangeAnimation( "SAHAD" , "ANI_EV_TEBURI", -1 , 1 )
	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000mï¿½Aï¿½ï¿½ï¿½^ï¿½Aï¿½ï¿½ï¿½ï¿½ï¿½ï¿½"
		"ï¿½Ç‚ï¿½ï¿½ï¿½æ‚¤ï¿½È‚ï¿½ï¿½Æ‚ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ï¿½ï¿½H"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("HUMMEL", "Licht" )
	LookReset("Licht")
	HeadNo("Licht" ,1 ,25 )
	
	//	"Licht"
	TalkPopup("Licht",0,1,0,0,0)
	{
		"#000e#000mï¿½ÆAï¿½Æ‚ï¿½Å‚ï¿½ï¿½È‚ï¿½ï¿½I"
		"ï¿½Sï¿½ï¿½ï¿½gï¿½ÉŠoï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½B\p"
		"ï¿½lï¿½Í‚ï¿½ï¿½ï¿½ï¿½cï¿½c"
	}
	WaitPrompt()
	WaitCloseWindow()

	//ï¿½@ï¿½@ï¿½ï¿½ï¿½Â‚Ş‚ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½ï¿½qï¿½gï¿½B
	Look("Licht" , 0 , -30)
	Wait(30)

	//ï¿½@ï¿½@ï¿½Tï¿½nï¿½hï¿½Éuï¿½Hï¿½vï¿½Gï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½B
	EmotionEx("SAHAD", 0.01f, EMO_Q, 0, 5, 1, 1, 1.0f )	// ï¿½uï¿½Hï¿½v
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)	// ï¿½ï¿½
	Wait(40)

	ChangeAnimation( "LAXIA" , "ANI_EV_TEBURI", -1 , 1 )

	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mï¿½í‚½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È‚ï¿½ï¿½Æ“ï¿½ï¿½ï¿½"
		"ï¿½ï¿½ï¿½ï¿½ï¿½oï¿½ï¿½ï¿½fï¿½Bï¿½Aï¿½ï¿½ï¿½Ìï¿½qï¿½Å‚ï¿½ï¿½B\p"
		"ï¿½Ğ‚Æ‚Ü‚ï¿½ï¿½Aï¿½Fï¿½ï¿½ï¿½ï¿½"
		"ï¿½Wï¿½Ü‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½êŠï¿½ÖˆÄ“ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Licht" ,"LAXIA")

	//	"Licht"
	TalkPopup("Licht",0,1,0,0,0)
	{
		"#000e#000mï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½ï¿½ï¿½È‚ï¿½Å‚ï¿½ï¿½ï¿½ï¿½H\p"
		"ï¿½ï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½cï¿½c"
		"ï¿½Ç‚ï¿½ï¿½È‚é‚±ï¿½Æ‚ï¿½ï¿½Ævï¿½ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½ï¿½B"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA" ,"ADOL")
	Turn("LAXIA",-36.53f,5.0f)

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mï¿½ï¿½ï¿½ï¿½Å‚ÍƒAï¿½hï¿½ï¿½ï¿½Eï¿½Nï¿½ï¿½ï¿½Xï¿½eï¿½Bï¿½ï¿½ï¿½B"
		"ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Eï¿½pï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½Åcï¿½c"
	}

//	LookChr("ADOL" ,"LAXIA")

	WaitPrompt()
	WaitCloseWindow()

	PlayVoice(Y8V_5247,"Paro",100)	//ï¿½ï¿½ï¿½Ç‚ï¿½I

	//	ï¿½bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	SetName("ï¿½bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½")
	TalkPopup("Paro",0,3,0,0,0)
	{
		"#5Cï¿½ï¿½ï¿½Ç‚ï¿½Iï¿½@ï¿½ï¿½ï¿½Ç‚ï¿½I"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// ï¿½uï¿½Iï¿½v
	EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// ï¿½uï¿½Iï¿½v

//	Wait(20)
//	Look("ADOL", 0, 30)
//	Look("LAXIA", 0, 30)
//	Look("SAHAD", 0, 30)
//	Look("HUMMEL", 0, 30)
//	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SUP_S, 1)

	//MTDï¿½ï¿½SEï¿½Â‚ç‚·
	SetFlag( SF_NOUSE_MTDSE, 0 )

	Wait(30)

	// ï¿½Jï¿½bï¿½gX ----------------------------------------------------------------------------------------

	// ï¿½Nï¿½ï¿½ï¿½Xï¿½tï¿½Fï¿½[ï¿½h
	CrossFade(FADE_NORMAL)

	MoveCameraAt( 0 , 1127.329f , 409.248f , 1.532f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	ChangeCameraDistance( 0 , 1.261f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	ChangeCameraElevation( 0 , 9.613f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	RotateCamera( 0 , 80.865f , 0 )				// ï¿½pï¿½x
	ChangeCameraPers( 0 , 46.200f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]
	// ResetCameraZPlane()	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ÉŒÄ‚Ñoï¿½ï¿½ï¿½Ä‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½}ï¿½bï¿½vï¿½ï¿½ï¿½Ìİ’ï¿½É–ß‚ï¿½ï¿½Ü‚ï¿½ï¿½B
	
	// ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½Ú“ï¿½
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 1127.329f , 409.248f , 2.392f , 75 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.261f , 75 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.170f , 75 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 80.291f , 75 )
	Blur( BLUR_TYPE_AFTERIMAGE ,0.3f , 45 )	// ï¿½cï¿½ï¿½

	ChangeAnimation("ADOL", "ANI_EV_PARO_S", -1, 1)

	ResetChrInfoFlag( "Paro" , INFOFLAG_INVISIBLE )
//	ExecuteCmd(1, MoveTo, "Paro", 1126.57f, 409.45f, 2.32f, 0.1f, 0.45f)
//	ExecuteCmd(2, MoveZ, "Paro", 2.32f, 0, INTERPOLATE_COS, 20)

//	WaitThread(1)
//	StopThread(2)


	LookChr("ADOL" , "Paro")
	LookChr("LAXIA" , "Paro")
	LookChr("SAHAD" , "Paro")
	LookChr("HUMMEL" , "Paro")
	LookChr("Licht", "Paro")

	SetParent("Paro", "ADOL", "Null_Rhand3")
	Wait(30)
	ChangeAnimation("Paro", "ANI_FLY2_E", -1, 1)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	TalkPopup("SAHAD",0,1,0,0,0)
	{
		"#000e#000mï¿½pï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È‚ï¿½ï¿½ï¿½ï¿½cï¿½c"
		"ï¿½â‚¯ï¿½É‚ï¿½ï¿½ï¿½ï¿½^ï¿½Cï¿½~ï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ÈB"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA" , "ANI_EV_TEMUNE_S", -1 , 1 )

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#050e#000mï¿½}ï¿½ï¿½ï¿½ï¿½Ìï¿½ï¿½Wï¿½Å‚ï¿½ï¿½å‚¤ï¿½ï¿½ï¿½H"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Paro", -35, 0)
	//	ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½pï¿½ï¿½
	TalkPopup("Paro",0,2,0,0,0)
	{
		"#5Cï¿½ï¿½ï¿½Ç‚ï¿½Aï¿½Wï¿½Pï¿½ï¿½ï¿½Iï¿½@ï¿½Wï¿½Pï¿½ï¿½ï¿½I"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	name2()
	TalkPopup("Paro",0,2,0,0,0)
	{
		"#5Cï¿½Vï¿½Lï¿½ï¿½ï¿½Eï¿½ï¿½ï¿½hï¿½ï¿½ï¿½Iï¿½@ï¿½Vï¿½Lï¿½ï¿½ï¿½Eï¿½ï¿½ï¿½hï¿½ï¿½ï¿½I"
		"ï¿½ï¿½ï¿½hï¿½ï¿½2ï¿½sï¿½ï¿½"
	}
	WaitPrompt()
	WaitCloseWindow()

	StopBGM(120)

	//ï¿½@ï¿½@ï¿½Aï¿½hï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½Nï¿½Vï¿½ï¿½ï¿½Aï¿½Tï¿½nï¿½hï¿½Éuï¿½Iï¿½vï¿½Gï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½B
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// ï¿½uï¿½Iï¿½v
	EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// ï¿½uï¿½Iï¿½v
	EmotionEx("SAHAD", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// ï¿½uï¿½Iï¿½v
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SUP_S,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SUP_S,1)

	Wait(35)

	TalkPopup("SAHAD", 0, 1, 0, 0, 0)
	{
		"#000mï¿½ï¿½ï¿½Hï¿½@ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Æcï¿½cï¿½H"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA" , "SAHAD")

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#050e#000mï¿½Yï¿½ï¿½ï¿½ï¿½ï¿½É‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚Å‚ï¿½ï¿½å‚¤ï¿½ï¿½ï¿½H"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½pï¿½ï¿½
	TalkPopup("Paro",0,2,0,0,0)
	{
		"#5Cï¿½Vï¿½Lï¿½ï¿½ï¿½Eï¿½ï¿½ï¿½hï¿½ï¿½ï¿½I"
		"#5Cï¿½Î‚ï¿½Î‚ë‚·ï¿½Aï¿½ï¿½ï¿½ï¿½ï¿½fï¿½ï¿½ï¿½I"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("Paro")

	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SAD_S,1)
	LookChr("SAHAD" , "ADOL")

	TalkPopup("SAHAD",0,1,0,0,0)
	{
		"#000e#000mï¿½ÇAï¿½Ç‚ï¿½ï¿½ï¿½ï¿½"
		"ï¿½^ï¿½_ï¿½ï¿½ï¿½ï¿½ï¿½á‚ ï¿½È‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ècï¿½c\p"
		"ï¿½Aï¿½hï¿½ï¿½ï¿½Aï¿½}ï¿½ï¿½ï¿½ï¿½"
		"ï¿½ï¿½ï¿½Ö–ß‚ï¿½ï¿½ï¿½ï¿½Ù‚ï¿½ï¿½ï¿½ï¿½æ‚­ï¿½Ë[ï¿½ï¿½ï¿½H"
	}
	WaitPrompt()
	WaitCloseWindow()

	// ï¿½ï¿½ï¿½È‚ï¿½ï¿½ï¿½ï¿½Zï¿½bï¿½g
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(25)

	//ï¿½@ï¿½@ï¿½Aï¿½hï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\ï¿½ï¿½ï¿½ï¿½ï¿½Ä‰ï¿½ÊˆÃ“]ï¿½B
	//ï¿½@ï¿½@ï¿½Ã“]ï¿½Ì‚Ü‚Üƒiï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½B


	FadeOut(FADE_BLACK,FADE_SLOW)
	Wait(30)
	SetEnvSEPlayState(-1, 0)	//ï¿½Â‹ï¿½SEï¿½Sï¿½ï¿½~
	WaitFade()

	Wait(10)

	//	ï¿½eï¿½Lï¿½Xï¿½g
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Eï¿½pï¿½ï¿½ï¿½É‚ï¿½ï¿½ï¿½ï¿½"
		"#7Cï¿½ï¿½ï¿½ï¿½ï¿½ç‚³ï¿½ê‚½ï¿½Ë‘Rï¿½Ì•ñ‚¹cï¿½c\p"
		"#7Cï¿½Ê‚ï¿½ï¿½ï¿½ï¿½Ä•Yï¿½ï¿½ï¿½ï¿½ï¿½É‰ï¿½ï¿½ï¿½ï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ï¿½ï¿½ë‚¤ï¿½ï¿½ï¿½H\p"
		"#7Cï¿½Aï¿½hï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÍŒï¿½ï¿½ï¿½ï¿½mï¿½ï¿½Ê•sï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÉA"
		"#7Cï¿½Yï¿½ï¿½ï¿½ï¿½ï¿½Ö‚Æ‹}ï¿½sï¿½ï¿½ï¿½ï¿½Ì‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½B"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)

	PlaySE(SE_PARTYIN, 100, 0, 0, 0, 1.0f, 0)	//ï¿½ï¿½ï¿½Ô‚É‰ï¿½ï¿½ï¿½ï¿½
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cï¿½ï¿½ï¿½qï¿½gï¿½ï¿½ï¿½Yï¿½ï¿½ï¿½ï¿½ï¿½ÉQï¿½ï¿½ï¿½ï¿½ï¿½é‚±ï¿½Æ‚É‚È‚ï¿½ï¿½ï¿½ï¿½I#10W" 
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½----------------------------------------------------
	CallFunc("mp1118:EV_M02S430_ED")
}

function "EV_M02S430_ED"											//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Xï¿½Lï¿½bï¿½vï¿½pï¿½ÉIï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ê‚ï¿½functionï¿½Æ‚ï¿½ï¿½Ä—pï¿½Ó‚ï¿½ï¿½Ü‚ï¿½ï¿½B
{
	SetStopFlag(STOPFLAG_EVENT)
	SetSkipScript("")												//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÍƒXï¿½Lï¿½bï¿½vï¿½Ö~

	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Oï¿½ÌƒLï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ğ•œ‹A
	RestoreEventState()

	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½Nï¿½^ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_HUMMEL")

	ResetChrInfoFlag("Paro", INFOFLAG_INVISIBLE)
	SetChrPos("Paro", -100000.00f, 00.00f, 00.00f)
	SetChrPos("Licht", -100000.00f, 00.00f, 00.00f)

	//ï¿½pï¿½[ï¿½eï¿½Bï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	ReleaseEventPartyChr()

	//ï¿½}ï¿½bï¿½vï¿½pï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½^ï¿½[ï¿½ï¿½ï¿½Zï¿½bï¿½g
	ResetMapParam(-1)

	SetFlag(SF_CHARANORECVSHADOW,0)	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½eï¿½ó‚¯‚È‚ï¿½

	//ï¿½tï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½
	CallFunc("rng:0415")
    SetFlag( GF_02MP1118_CALL_PARO , 1 ) // Paro call received

	//SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//ï¿½ï¿½ï¿½qï¿½gï¿½ï¿½ï¿½ï¿½	ï¿½ï¿½ï¿½ï¿½ï¿½l+2

	//ï¿½Nï¿½Gï¿½Xï¿½gï¿½ï¿½ï¿½ï¿½ï¿½Ø‚ï¿½iï¿½ï¿½ï¿½qï¿½gï¿½~ï¿½oï¿½j--------------------------------
	//ï¿½yQS200ï¿½zï¿½xï¿½bï¿½hï¿½Ìì¬ï¿½iï¿½oï¿½ï¿½ï¿½oï¿½ï¿½ï¿½Xï¿½j
	if( FLAG[GF_QUEST_200] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_200, QUEST_FALSE )
	}
	//ï¿½yQS210ï¿½zï¿½Jï¿½[ï¿½eï¿½ï¿½ï¿½Ìdï¿½ï¿½ï¿½Äiï¿½ï¿½ï¿½Nï¿½Vï¿½ï¿½ï¿½j
	if( FLAG[GF_QUEST_210] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_210, QUEST_FALSE )
	}
	//ï¿½yQS221ï¿½zï¿½ï¿½ï¿½Dï¿½Ìì¬ï¿½iï¿½hï¿½Mï¿½j
	if( FLAG[GF_QUEST_221] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_221, QUEST_FALSE )
	}
	//ï¿½yQS231ï¿½zï¿½ï¿½ï¿½ï¿½ï¿½È‚ï¿½Hï¿½ï¿½ï¿½iï¿½Jï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½j
	if( FLAG[GF_QUEST_231] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_231, QUEST_FALSE )
	}

	SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading ï¿½ï¿½ï¿½ï¿½ Tips ï¿½\ï¿½ï¿½ï¿½ï¿½ï¿½Jï¿½bï¿½g

	StopBGM(30)
	SetFlag(SF_NOCHANGEBGM, 1)

	LoadArg("map/mp1201/mp1201.arg")
	EventCue("mp1201:EV_M02S620_ED")
	//LoadArg("map/mp1101/mp1101.arg")
	//EventCue("mp1101:EV_M02S440")

	ResetStopFlag(STOPFLAG_EVENT)

//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½----------------------------------------------------
}



////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//ï¿½ï¿½ï¿½Tï¿½uï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Zï¿½Nï¿½Vï¿½ï¿½ï¿½ï¿½

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
//ï¿½ï¿½ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½Ìƒï¿½ï¿½bï¿½Zï¿½[ï¿½Wï¿½ï¿½ï¿½ï¿½
//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
function "Speedrun_Monkey3"
{
	//ï¿½ï¿½ï¿½Nï¿½Gï¿½Xï¿½gï¿½Bï¿½ï¿½ï¿½ï¿½ && !ï¿½uï¿½ï¿½ï¿½Eï¿½Åí“¬ï¿½ï¿½ï¿½Iï¿½ï¿½ç‚¹ï¿½ï¿½ï¿½v

	//ï¿½@ï¿½@ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½É˜bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÆAï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Jï¿½nï¿½B
	//ï¿½@ï¿½@ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½Ì‘Oï¿½ÉAï¿½pï¿½[ï¿½eï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½oï¿½[ï¿½Sï¿½ï¿½ï¿½ï¿½zï¿½uï¿½ï¿½ï¿½ï¿½B

	//	ï¿½Ëï¿½ï¿½Aï¿½Åí“¬ï¿½ï¿½ï¿½Iï¿½ï¿½ç‚¹ï¿½ï¿½

//ï¿½Jï¿½nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½----------------------------------------------------

	CallFunc("system:party_reset")
	CallFunc("system:event_begin")

	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Jï¿½nï¿½Oï¿½ï¿½ï¿½Ì•Û‘ï¿½
	SaveEventState()
	SaveCamera()

	//ï¿½pï¿½[ï¿½eï¿½Bï¿½ï¿½Ô‚Ìƒï¿½ï¿½Zï¿½bï¿½g
	CallFunc("system:party_reset")

	//ï¿½Â‹ï¿½ï¿½Ìï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Eï¿½sï¿½vï¿½È‚ï¿½ï¿½Ì‚ï¿½ï¿½Bï¿½ï¿½
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ô‚Ìİ’ï¿½
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",1129.07f,427.31f,0.23f)
	Turn("ADOL",-134.89f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookReset( "ADOL" )

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA",1129.72f,427.96f,0.21f)
	Turn("RICOTTA",-133.69f,360.0f)
	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI)
	LookReset( "RICOTTA" )

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",1128.34f,427.94f,0.23f)
	Turn("LAXIA",-111.67f,360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)
	LookReset( "LAXIA" )

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",1129.58f,426.58f,0.22f)
	Turn("SAHAD",-144.26f,360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)
	LookReset( "SAHAD" )

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL",1128.48f,426.04f,0.25f)
	Turn("HUMMEL",-138.77f,360.0f)
	ChangeAnimation( "HUMMEL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("HUMMEL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "HUMMEL" , INFOFLAG_NOCHRATARI)
	LookReset( "HUMMEL" )

	//	ï¿½Ëƒ_ï¿½[ï¿½iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê‡
	if( FLAG[SF_DANA_JOINOK] )		// ï¿½_ï¿½[ï¿½iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	{
		SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("DANA",1127.82f,426.89f,0.25f)
		Turn("DANA",-128.77f,360.0f)
		ChangeAnimation( "DANA" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
		SetChrInfoFlag( "DANA" , INFOFLAG_NOCHRATARI)
		LookReset( "DANA" )
	}

	//ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½O
	SetChrWork("Monkey", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Monkey",1133.42f, 431.52f, 0.11f)
	Turn("Monkey",44.72f,360.0f)
	ChangeAnimation( "Monkey", "ANI_EV_UDEGUMI", -1, 1 )
	ChangeSubAnimation("Monkey",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Monkey",SUBMOT_MOUTH,ANI_M_WAIT,1)
//	ChangeSubAnimation("Monkey",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Monkey" , INFOFLAG_NOCHRATARI)
	LookReset( "Monkey" )

	LookChr("ADOL", "Monkey")
	LookChr("LAXIA", "Monkey")
	LookChr("SAHAD", "Monkey")
	LookChr("RICOTTA", "Monkey")
	LookChr("HUMMEL", "Monkey")
	LookChr("DANA", "Monkey")


	//ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½İ’ï¿½
	MoveCameraAt( 0 , 1132.648f , 427.912f , 2.423f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	ChangeCameraDistance( 0 , 7.000f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	ChangeCameraElevation( 0 , -3.066f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	RotateCamera( 0 , 278.211f , 0 )				// ï¿½pï¿½x
	ChangeCameraPers( 0 , 60.000f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	SetCameraZPlane( 0.100f , 600.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]
	// ResetCameraZPlane()	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ÉŒÄ‚Ñoï¿½ï¿½ï¿½Ä‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½}ï¿½bï¿½vï¿½ï¿½ï¿½Ìİ’ï¿½É–ß‚ï¿½ï¿½Ü‚ï¿½ï¿½B

	// ï¿½ï¿½ÊŠEï¿½[ï¿½xï¿½Ìİ’ï¿½
	SetDoF(0, LERP_LINEAR, 3.000, 100.000 ,1.000 ,0.700 ,0.500)
	// ï¿½Oï¿½ï¿½ï¿½Aï¿½Ìİ’ï¿½
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//ï¿½Xï¿½Lï¿½bï¿½vï¿½ï¿½ï¿½ï¿½
	SetFlag(TF_MENU_SELECT,0)
	SetSkipScript("mp1118:Speedrun_Monkey3_ED")

//ï¿½Jï¿½nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½-----------------------------------------------

	Wait(10)

	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

	//	ï¿½Ëí“¬ï¿½Â”\ï¿½Èƒ^ï¿½Cï¿½~ï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½nï¿½}ï¿½ï¿½ï¿½Sï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½È‚ï¿½ï¿½ê‡
	if( ALLITEMWORK[ICON3D_US_MANGO_S] == 0 )	//ï¿½uï¿½ï¿½ï¿½nï¿½}ï¿½ï¿½ï¿½Sï¿½[ï¿½vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½È‚ï¿½ FLAG[GF_NPC_5_03_GOTO_GHOSTHIP] &&		//ï¿½ï¿½ï¿½ï¿½Ü•ï¿½ï¿½Bï¿½Hï¿½ï¿½Dï¿½ğ’²‚×‚ÉŒï¿½ï¿½ï¿½ï¿½ï¿½
	{
		//ï¿½@ï¿½@ï¿½ï¿½ï¿½ï¿½ï¿½Ú‚ï¿½Â‚ï¿½ï¿½Äï¿½ï¿½Uï¿½ï¿½B
		ChangeSubAnimation("Monkey", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		HeadNo("Monkey" , 1 , 25)
		Wait(30)
		
		TalkPopup("RICOTTA",0,2,0,0,0)
		{
			"#000e#000mï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½B"
			"ï¿½wï¿½ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ò‚Í‘ï¿½ï¿½ï¿½É‚ï¿½ï¿½Êx\p"
			"ï¿½İ‚ï¿½ÈAï¿½wï¿½ï¿½ï¿½nï¿½}ï¿½ï¿½ï¿½Sï¿½[ï¿½xï¿½pï¿½Ó‚ï¿½ï¿½ï¿½I"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		SetFlag(TF_MENU_SELECT,0)
	}
	//	ï¿½Ëí“¬ï¿½Â”\ï¿½Èƒ^ï¿½Cï¿½~ï¿½ï¿½ï¿½Oï¿½Aï¿½ï¿½ï¿½ÂŠï¿½ï¿½nï¿½}ï¿½ï¿½ï¿½Sï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ê‡
	else if( ALLITEMWORK[ICON3D_US_MANGO_S] )		//ï¿½uï¿½ï¿½ï¿½nï¿½}ï¿½ï¿½ï¿½Sï¿½[ï¿½vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ FLAG[GF_NPC_5_03_GOTO_GHOSTHIP] &&	//ï¿½ï¿½ï¿½ï¿½Ü•ï¿½ï¿½Bï¿½Hï¿½ï¿½Dï¿½ğ’²‚×‚ÉŒï¿½ï¿½ï¿½ï¿½ï¿½
	{
		//ï¿½@ï¿½@ï¿½Ä—pï¿½{ï¿½Cï¿½Xï¿½uï¿½ï¿½ï¿½Ù‚Ùiï¿½mï¿½ï¿½uï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Èvï¿½jï¿½vï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½Â‚ÂA
		//ï¿½@ï¿½@ï¿½È‰ï¿½ï¿½Ìï¿½ï¿½ï¿½ï¿½B
		PlayVoice(Y8V_5663,"Monkey",100)
		Wait(35)
		//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
		//	ï¿½Ëƒ_ï¿½[ï¿½iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
		if( FLAG[SF_DANA_JOINOK] )		// ï¿½_ï¿½[ï¿½iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
		{
			//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
			//	ï¿½Ëï¿½ï¿½ï¿½Ì‚ï¿½
			if( !FLAG[GF_SPEEDRUN_SKILL_DANA_1ST] )	// ï¿½ï¿½èï¿½İƒXï¿½Lï¿½ï¿½ï¿½Kï¿½ï¿½ï¿½Fï¿½Bï¿½ï¿½ï¿½_ï¿½[ï¿½iï¿½uï¿½rï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½@ï¿½ï¿½ï¿½ï¿½ï¿½b
			{
				TalkPopup("RICOTTA",0,2,0,0,0)
				{
					"#000e#000mï¿½wï¿½ï¿½ï¿½Í‘ï¿½ï¿½ï¿½ï¿½Ì–ï¿½ï¿½Aï¿½ï¿½ï¿½ï¿½Éï¿½ï¿½ï¿½ï¿½æ‚¤ï¿½x"
					"ï¿½ÆŒï¿½ï¿½ï¿½ï¿½Ä‚ï¿½B"
				}
				WaitPrompt()
				WaitCloseWindow()
				
			PlayVoice(Y8V_2997,"DANA",100)	//ï¿½Ó‚Óiï¿½ï¿½ï¿½Îj
			
			TalkPopup("DANA",0,2,0,0,0)
				{
					"#000e#000mï¿½Ó‚ÓAï¿½È‚ï¿½í‚½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½Æ‚ï¿½ï¿½ËB"
				}
				WaitPrompt()
				WaitCloseWindow()
				
				SetFlag( GF_SPEEDRUN_SKILL_DANA_1ST, 1 )	// ï¿½ï¿½èï¿½İƒXï¿½Lï¿½ï¿½ï¿½Kï¿½ï¿½ï¿½Fï¿½Bï¿½ï¿½ï¿½_ï¿½[ï¿½iï¿½uï¿½rï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½@ï¿½ï¿½ï¿½ï¿½ï¿½b
			}
			//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

			//	ï¿½iï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½
			TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
			{
				"#7Cï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½ï¿½#2Cï¿½u#245Iï¿½ï¿½ï¿½nï¿½}ï¿½ï¿½ï¿½Sï¿½[ï¿½v#7Cï¿½ï¿½ï¿½ï¿½ï¿½ã‚µï¿½Ü‚ï¿½ï¿½ï¿½ï¿½H"
				"#7Cï¿½ï¿½ï¿½ï¿½ï¿½ã‚·ï¿½ï¿½ÆAï¿½_ï¿½[ï¿½iï¿½ï¿½lï¿½ï¿½"
				"#7C  ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½Æí“¬ï¿½ï¿½ï¿½sï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B"
			}
			WaitPrompt()
			WaitCloseWindow()

			//ï¿½Iï¿½ï¿½ï¿½ï¿½
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
//			MenuAdd(1,"ï¿½wï¿½ï¿½ï¿½nï¿½}ï¿½ï¿½ï¿½Sï¿½[ï¿½xï¿½ï¿½ï¿½ï¿½ï¿½ã‚·ï¿½ï¿½")
			MenuAdd(1,"#2C#245Iï¿½ï¿½ï¿½nï¿½}ï¿½ï¿½ï¿½Sï¿½[#0Cï¿½ï¿½ï¿½ï¿½ï¿½ã‚·ï¿½ï¿½")
			MenuAdd(2,"ï¿½ï¿½ß‚Ä‚ï¿½ï¿½ï¿½")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
			WaitMenu(0)
			MenuClose(10,0)
			
			//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
			//	ï¿½Ëwï¿½ï¿½ï¿½nï¿½}ï¿½ï¿½ï¿½Sï¿½[ï¿½xï¿½ï¿½ï¿½ï¿½ï¿½ã‚·ï¿½ï¿½
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	ï¿½Aï¿½Cï¿½eï¿½ï¿½ï¿½ï¿½ï¿½nï¿½ï¿½ï¿½bï¿½Zï¿½[ï¿½W
				TalkPopup(UNDEF, 0, 5, 0, 0, 0)
				{
					"#8S"
					"#-1W#4Cï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½ï¿½#2Cï¿½u#245Iï¿½ï¿½ï¿½nï¿½}ï¿½ï¿½ï¿½Sï¿½[ï¿½v#4Cï¿½ï¿½ï¿½ï¿½ï¿½ã‚µï¿½ï¿½ï¿½I#10W"
					"#8S"
				}
				Wait(10)
				WaitPrompt()
				WaitCloseWindow()
				
				StopBGM(60)
				//ï¿½@ï¿½@ï¿½ï¿½ï¿½ï¿½ÊˆÃ“]ï¿½ï¿½ï¿½Äuï¿½í“¬ï¿½Jï¿½nï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½vï¿½ÉÚ‘ï¿½
			}
			//	ï¿½Ë‚ï¿½ß‚Ä‚ï¿½ï¿½ï¿½
			else if (FLAG[TF_MENU_SELECT] == 2)
			{
				//ï¿½@ï¿½@ï¿½ï¿½ï¿½ï¿½ï¿½È‚ï¿½ï¿½Å‘ï¿½ï¿½ì‹–ï¿½ÂB
			}
			//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
		}
		//	ï¿½Ëƒ_ï¿½[ï¿½iï¿½ï¿½ï¿½ï¿½ï¿½È‚ï¿½
		else
		{
			TalkPopup("RICOTTA",0,0,0,0,0)
			{
				"#000e#000mï¿½wï¿½ï¿½ï¿½ï¿½ï¿½Ìï¿½ï¿½Í‚ï¿½ï¿½È‚ï¿½ï¿½Ì‚ï¿½ï¿½A"
				"ï¿½@ï¿½È‚ï¿½Îoï¿½ï¿½ï¿½ï¿½ï¿½Ä—ï¿½ï¿½é‚ªï¿½ï¿½ï¿½ï¿½ï¿½x"
				"ï¿½ÆŒï¿½ï¿½ï¿½ï¿½Ä‚ï¿½B\p"
				"ï¿½İ‚ï¿½ÈAï¿½}ï¿½ï¿½ï¿½Åƒ_ï¿½[ï¿½iï¿½Ç‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½I"
			}
			WaitPrompt()
			WaitCloseWindow()
			
			SetFlag(TF_MENU_SELECT,0)
		}
		//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	}
	//	ï¿½Ëí“¬ï¿½ï¿½ï¿½Å‚ï¿½ï¿½È‚ï¿½ï¿½^ï¿½Cï¿½~ï¿½ï¿½ï¿½O
	//	  ï¿½uï¿½ï¿½ï¿½Aï¿½Åí“¬ï¿½ï¿½ï¿½Iï¿½ï¿½ç‚¹ï¿½ï¿½ï¿½v&& !ï¿½uï¿½ï¿½ï¿½ï¿½Ü•ï¿½ï¿½Bï¿½Hï¿½ï¿½Dï¿½ğ’²‚×‚ÉŒï¿½ï¿½ï¿½ï¿½ï¿½ï¿½v
	else
	{
		//ï¿½@ï¿½@ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½Ú‚ï¿½Â‚ï¿½ï¿½Äï¿½ï¿½Uï¿½ï¿½B
		ChangeSubAnimation("Monkey", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		HeadNo("Monkey" , 1 , 25)
		Wait(30)

		TalkPopup("RICOTTA",0,0,0,0,0)
		{
			"#000e#000mï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½B2"
			"ï¿½wï¿½ï¿½ï¿½ï¿½ï¿½}ï¿½ï¿½ï¿½ÈAï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Õ‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½x\p"
			"ï¿½İ‚ï¿½ÈAï¿½Ü‚ï¿½ï¿½ï¿½ï¿½ß‚Ä—ï¿½ï¿½ï¿½B"
		}
		WaitPrompt()
		WaitCloseWindow()

		SetFlag(TF_MENU_SELECT,0)
	}

	FadeOut(FADE_BLACK,FADE_FAST)
	WaitFade()

//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½----------------------------------------------------
	CallFunc("mp1118:Speedrun_Monkey3_ED")
}
function "Speedrun_Monkey3_ED"
{
	//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÍƒXï¿½Lï¿½bï¿½vï¿½Ö~
	SetSkipScript("")

	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Oï¿½ÌƒLï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ğ•œ‹A
	RestoreEventState()

	//ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ğ•œ‹Aï¿½B
	ResetChrPos((CHRTYPE_MONS | RESET_POS))
//	ResetChrPos((CHRTYPE_MONS | RESET_STATUS))
//	ResetChrPos((CHRTYPE_MONS | RESET_AISTATE))

	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	CallFunc("system:reset_chrmot_ALL")

	//ï¿½pï¿½[ï¿½eï¿½Bï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	ReleaseEventPartyChr()

	//ï¿½}ï¿½bï¿½vï¿½pï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½^ï¿½[ï¿½ï¿½ï¿½Zï¿½bï¿½g
	ResetMapParam(-1)

	//	ï¿½Ëwï¿½ï¿½ï¿½nï¿½}ï¿½ï¿½ï¿½Sï¿½[ï¿½xï¿½ï¿½ï¿½ï¿½ï¿½ã‚·ï¿½ï¿½
	if( FLAG[TF_MENU_SELECT] == 1 )
	{
		DeleteItem( ICON3D_US_MANGO_S, 1 )			// ï¿½wï¿½ï¿½ï¿½nï¿½}ï¿½ï¿½ï¿½Sï¿½[ï¿½x
		
		//ï¿½@ï¿½@ï¿½ï¿½ï¿½ï¿½ÊˆÃ“]ï¿½ï¿½ï¿½Äuï¿½í“¬ï¿½Jï¿½nï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½vï¿½ÉÚ‘ï¿½
		EventCue("mp1118:Speedrun_Monkey3_Battle")
	}
	//	ï¿½Ëí“¬ï¿½ï¿½ï¿½Å‚ï¿½ï¿½È‚ï¿½ï¿½^ï¿½Cï¿½~ï¿½ï¿½ï¿½O
	//	ï¿½Ë‚ï¿½ß‚Ä‚ï¿½ï¿½ï¿½
	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Xï¿½Lï¿½bï¿½v
	else
	{
		//ï¿½@ï¿½@ï¿½ï¿½ï¿½ì‹–ï¿½ï¿½
		CallFunc("mp1118:init")

		//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½ÌÄ”zï¿½u
		SetChrPos("LEADER",1128.75f,426.50f,0.24f)
		Turn("LEADER",43.34f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //ï¿½ï¿½ï¿½ï¿½ï¿½Ò‚ï¿½ï¿½p

		//ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½Ê’uï¿½ï¿½ï¿½A
		//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
		//ChangeCameraDistance( 0 , 0.0f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
		//ChangeCameraElevation( 0 , 0.0f , 0 )		// ï¿½ï¿½{ï¿½ÂŠp
		//RotateCamera( 0 , 0.0f , 0 )				// ï¿½pï¿½x
		//ChangeCameraPers( 0 , 0.0f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
		//SetCameraZPlane( 0 , 0.0f )					// ZPlane
		//RollCamera( 0 , 0.0f , 0 )					// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]

		RestoreCamera(0, 0)		//ï¿½ï¿½ï¿½ï¿½Lï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½Ê’uï¿½ï¿½ï¿½wï¿½è‚·ï¿½ï¿½ê‡ï¿½Í•sï¿½v
		CallFunc("system:camera_reset")

		ResetStopFlag(STOPFLAG_EVENT)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½----------------------------------------------------
}
//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
//ï¿½ï¿½ï¿½í“¬ï¿½Jï¿½nï¿½Cï¿½xï¿½ï¿½ï¿½g
//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
function "Speedrun_Monkey3_Battle"
{
	//ï¿½ï¿½ï¿½_ï¿½[ï¿½iï¿½uï¿½rï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½O

//ï¿½Jï¿½nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½----------------------------------------------------

	CallFunc("system:event_begin")

	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Jï¿½nï¿½Oï¿½ï¿½ï¿½Ì•Û‘ï¿½
	SaveEventState()
	SaveCamera()

	//ï¿½pï¿½[ï¿½eï¿½Bï¿½ï¿½Ô‚Ìƒï¿½ï¿½Zï¿½bï¿½g
	CallFunc("system:party_reset")

	//ï¿½Â‹ï¿½ï¿½Ìï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Eï¿½sï¿½vï¿½È‚ï¿½ï¿½Ì‚ï¿½ï¿½Bï¿½ï¿½
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ô‚Ìİ’ï¿½
	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA",1126.85f, 425.56f, 0.28f)
	Turn("DANA",-130.83f, 360.0f)
	ChangeAnimation( "DANA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "DANA" , INFOFLAG_NOCHRATARI)
	LookChr( "DANA", "Monkey")
	SetChrWork( "DANA" , CWK_BATTLEMODE , 1 )

	//ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½O
	SetChrWork("Monkey", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Monkey",1133.42f, 431.52f, 0.11f)
	Turn("Monkey",44.72f,360.0f)
	ChangeAnimation( "Monkey" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Monkey",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Monkey",SUBMOT_MOUTH,ANI_M_WAIT,1)
//	ChangeSubAnimation("Monkey",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Monkey" , INFOFLAG_NOCHRATARI)
	LookChr( "Monkey", "DANA" )

	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",1137.13f,419.97f,0.27f)
	Turn("ADOL",144.20f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookReset( "ADOL" )

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA",1137.86f,420.56f,0.23f)
	Turn("RICOTTA",144.20f,360.0f)
	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI)
	LookReset( "RICOTTA" )

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",1136.47f,419.23f,0.31f)
	Turn("LAXIA",143.73f,360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)
	LookReset( "LAXIA" )

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",1135.64f,418.53f,0.36f)
	Turn("SAHAD",154.85f,360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)
	LookReset( "SAHAD" )

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL",1139.08f,420.52f,0.22f)
	Turn("HUMMEL",136.52f,360.0f)
	ChangeAnimation( "HUMMEL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("HUMMEL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "HUMMEL" , INFOFLAG_NOCHRATARI)
	LookReset( "HUMMEL" )

	//BGMï¿½İ’èŸ
	//PlayBGM( BGM_FIELD_101 , XX )

	//ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½İ’ï¿½
	MoveCameraAt( 0 , 1129.526f , 426.659f , 1.854f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	ChangeCameraDistance( 0 , 5.700f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	ChangeCameraElevation( 0 , -10.647f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	RotateCamera( 0 , 271.515f , 0 )				// ï¿½pï¿½x
	ChangeCameraPers( 0 , 60.000f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	SetCameraZPlane( 0.100f , 600.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]
	// ResetCameraZPlane()	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ÉŒÄ‚Ñoï¿½ï¿½ï¿½Ä‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½}ï¿½bï¿½vï¿½ï¿½ï¿½Ìİ’ï¿½É–ß‚ï¿½ï¿½Ü‚ï¿½ï¿½B

	// ï¿½ï¿½ÊŠEï¿½[ï¿½xï¿½Ìİ’ï¿½
	SetDoF(0, LERP_LINEAR, 3.000, 100.000 ,1.000 ,0.700 ,0.500)
	// ï¿½Oï¿½ï¿½ï¿½Aï¿½Ìİ’ï¿½
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//ï¿½Xï¿½Lï¿½bï¿½vï¿½ï¿½ï¿½ï¿½
//	SetSkipScript("mp1118:Speedrun_Monkey3_Battle_ED")

//ï¿½Jï¿½nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½-----------------------------------------------

	PlayBGM(BGM_BOSS_002, 0)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//ï¿½@ï¿½@ï¿½ï¿½Êƒtï¿½Fï¿½[ï¿½hï¿½Cï¿½ï¿½ï¿½ï¿½ï¿½ÄAï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ÆŒï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½_ï¿½[ï¿½iï¿½B
	//ï¿½@ï¿½@ï¿½ï¿½ï¿½Ô‚Íï¿½ï¿½Í‚É‚ï¿½ï¿½ï¿½B

	//ï¿½@ï¿½@ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ĞŠdï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Äí“¬ï¿½Jï¿½nï¿½B
	ChangeAnimation( "Monkey", "ANI_UNI1", -1, 1 )
	Wait(10)
	PlayVoice(Y8V_5652, "Monkey", 100)	//ï¿½ï¿½ï¿½Ù‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½cï¿½iï¿½Cï¿½ï¿½ï¿½ï¿½ï¿½ğ—­‚ß‚ï¿½ 
	Wait(35)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	WaitAnimation2( "Monkey" , -1, 1, "ANI_UNI1",  0)

//	TalkPopup("UNDEF",0,0,0,0,0)
//	{
//		"#7Cï¿½ï¿½ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½pï¿½Ì‹ï¿½Cï¿½Aï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½"
//	}
//	WaitPrompt()
//	WaitCloseWindow()

//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½----------------------------------------------------
	CallFunc("mp1118:Speedrun_Monkey3_Battle_ED")
}
function "Speedrun_Monkey3_Battle_ED"
{
	//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÍƒXï¿½Lï¿½bï¿½vï¿½Ö~
	SetSkipScript("")

	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Oï¿½ÌƒLï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ğ•œ‹A
	RestoreEventState()

	//ï¿½}ï¿½bï¿½vï¿½pï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½^ï¿½[ï¿½ï¿½ï¿½Zï¿½bï¿½g
	ResetMapParam(-1)

	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½Nï¿½^ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	CallFunc("system:reset_chrmot_ALL")

	// ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ÊŠOï¿½ÉˆÚ“ï¿½ï¿½iï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Xï¿½Lï¿½bï¿½vï¿½ï¿½ï¿½ï¿½ï¿½ê‡ï¿½pï¿½É“ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½j
	SetChrPos("Monkey" , -100000.00f  , 0.00f ,0.00f )

	//NowLoading ï¿½ï¿½ï¿½ï¿½ Tips ï¿½\ï¿½ï¿½ï¿½ï¿½ï¿½Jï¿½bï¿½g
	SetFlag(TF_LOADING_TIPS_OFF, 1)

	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	EventCue("mp1118:Retry_Speedrun_Monkey3_Battle")	//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÍFï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½í“¬
}
// ï¿½í“¬ï¿½ï¿½ï¿½ï¿½
function "Retry_Speedrun_Monkey3_Battle"
{
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	//ï¿½_ï¿½[ï¿½iï¿½Ğ‚Æ‚ï¿½ -----------------------------------
	SavePartyMember()							// ï¿½ï¿½ï¿½İ‚Ìƒpï¿½[ï¿½eï¿½Bï¿½Òï¿½ï¿½ï¿½ï¿½oï¿½ï¿½ï¿½ï¿½
	// ï¿½pï¿½[ï¿½eï¿½Bï¿½Òï¿½ï¿½Â”\ï¿½ó‹µƒoï¿½bï¿½Nï¿½Aï¿½bï¿½v
	SetFlag(SF_ADOL_JOINOKBK, FLAG[SF_ADOL_JOINOK])
	SetFlag(SF_LAXIA_JOINOKBK, FLAG[SF_LAXIA_JOINOK])
	SetFlag(SF_SAHAD_JOINOKBK, FLAG[SF_SAHAD_JOINOK])
	SetFlag(SF_HUMMEL_JOINOKBK, FLAG[SF_HUMMEL_JOINOK])
	SetFlag(SF_RICOTTA_JOINOKBK, FLAG[SF_RICOTTA_JOINOK])
	SetFlag(SF_DANA_JOINOKBK, FLAG[SF_DANA_JOINOK])
	// ï¿½Ğ‚Æ‚è‚¾ï¿½ï¿½ï¿½É‚ï¿½ï¿½ï¿½
	SetFlag(SF_ADOL_JOINOK, 0)
	SetFlag(SF_LAXIA_JOINOK, 0)
	SetFlag(SF_SAHAD_JOINOK, 0)
	SetFlag(SF_HUMMEL_JOINOK, 0)
	SetFlag(SF_RICOTTA_JOINOK, 0)
	SetFlag(SF_DANA_JOINOK, 1)
	SetPartyMember(PARTY_DANA, -1, -1)

	//ï¿½{ï¿½Xï¿½zï¿½uï¿½Eï¿½Aï¿½jï¿½ï¿½--------------------------------
	SetChrPos("mons_Monkey",1133.42f, 431.52f, 0.11f)
	Turn("mons_Monkey",44.72f,360.0f)
	ChangeAnimation("mons_Monkey", "ANI_WAIT", -1, 1)
	//PLAYERï¿½zï¿½u--------------------------------------
	SetChrPos("PLAYER1",1126.85f, 425.56f, 0.28f)
	Turn("PLAYER1",-130.83f, 360.0f)
	//TurnToChr("PLAYER1" , "mons_Monkey" , 360.0f )
	//TurnToChr("mons_Monkey" , "PLAYER1" , 360.0f )

	//ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½İ’ï¿½--------------------------------------
	// argï¿½Ìİ’ï¿½ï¿½ï¿½ã‘ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
//	SetYs8Camera(7.0f, 60.0f, 10.0f, 0.0f, 0.0f)		//ï¿½cï¿½cï¿½{ï¿½Xï¿½ï¿½ï¿½[ï¿½`ï¿½ï¿½ï¿½ì¬ï¿½Ò‚Ìwï¿½è‚ªï¿½ï¿½ï¿½ï¿½Î“ï¿½ï¿½ï¿½
	MoveCameraAt( 0 , 1126.846f , 425.556f , 2.152f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	ChangeCameraDistance( 0 , 7.000f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	ChangeCameraElevation( 0 , 14.000f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	RotateCamera( 0 , -47.637f , 0 )				// ï¿½pï¿½x
	ChangeCameraPers( 0 , 60.000f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	SetCameraZPlane( 0.100f , 600.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]

	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½oï¿½gï¿½ï¿½ï¿½pCallFunc------------------------
	CallFunc("system:boss_start")						//ï¿½cï¿½cï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½oï¿½gï¿½ï¿½ï¿½pï¿½ÌFï¿½Xï¿½Èï¿½ï¿½ï¿½ï¿½ï¿½ï¿½sï¿½ï¿½function

	//ï¿½ï¿½ï¿½Ì‘ï¿½ï¿½ï¿½ï¿½ï¿½--------------------------------------
	PlayBGM(BGM_BOSS_002, 15)	//ï¿½ï¿½ï¿½ï¿½ï¿½Ø”Å—pï¿½ï¿½
	MapAnime("CT_EVENT","close")					//ï¿½cï¿½cï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È‚ï¿½ï¿½Xï¿½gï¿½bï¿½pï¿½[ï¿½Nï¿½ï¿½
	SetFlag( GF_SPEEDRUN_SKILL_BATTLE, 1)			// ï¿½ï¿½èï¿½İƒXï¿½Lï¿½ï¿½ï¿½Kï¿½ï¿½ï¿½Fï¿½í“¬ï¿½ï¿½ï¿½Ç—ï¿½ï¿½pï¿½i1ï¿½ï¿½ï¿½í“¬ï¿½ï¿½ï¿½j
	SetFlag( GF_QS400_KONG_LV, 2)					// ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ÌƒLï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½hï¿½i2=ï¿½_ï¿½[ï¿½iï¿½j
	SetLevel( "mons_Monkey", 48 )					// ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ï¿½Lv.48
	
	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

	ResetStopFlag(STOPFLAG_EVENT)
	//------------------------------------------------

	//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	//	ï¿½Ëí“¬ï¿½Éï¿½ï¿½ï¿½
	//		Speedrun_Monkey3_Win
	//	ï¿½Ë”sï¿½k
	//		Speedrun_Monkey3_Lose
	//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
}
// ï¿½í“¬ï¿½sï¿½kï¿½ï¿½ï¿½Cï¿½xï¿½ï¿½ï¿½g
function "Speedrun_Monkey3_Lose"
{
	//ï¿½ï¿½ï¿½_ï¿½[ï¿½iï¿½uï¿½rï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½O
	//	ï¿½Ë”sï¿½k

//ï¿½í“¬ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½-----------------------------------------------

	//ï¿½ï¿½ï¿½GONï¿½Eï¿½Fï¿½Xï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½---------------------------
	SetFlag(SF_ALLMUTEKI,1)								//ï¿½cï¿½cï¿½ï¿½ï¿½Gï¿½nï¿½m

	Wait(90)											//ï¿½cï¿½cï¿½{ï¿½Xï¿½ï¿½ï¿½Sï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é•ï¿½hï¿½ï¿½ï¿½bï¿½vï¿½Aï¿½Cï¿½eï¿½ï¿½ï¿½ï¿½ï¿½Eï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	StopBGM(90)
	Wait(60)

	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½oï¿½gï¿½ï¿½ï¿½pCallFunc-------------------------
	CallFunc("system:boss_end")							//ï¿½cï¿½cï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½oï¿½gï¿½ï¿½ï¿½pï¿½ÌFï¿½Xï¿½Èï¿½ï¿½ï¿½ï¿½ï¿½ï¿½sï¿½ï¿½function

	//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Eï¿½{ï¿½Xï¿½ï¿½ï¿½ï¿½-------------------------------
	MapAnime("CT_EVENT","open")							//ï¿½cï¿½cï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È‚ï¿½ï¿½Xï¿½gï¿½bï¿½pï¿½[ï¿½ï¿½ï¿½ï¿½
	SetChrPos(mons_Monkey,-100000.00f,0.00f,0.00f)		//ï¿½cï¿½cï¿½{ï¿½Xï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È‚ï¿½ï¿½Ê’uï¿½É”ï¿½Î‚ï¿½
	//ResetChrPos((CHRTYPE_MONS | REMOVE_POS))			//ï¿½cï¿½cï¿½Uï¿½Rï¿½È‚ç‚±ï¿½ï¿½ï¿½ï¿½

	//ï¿½ï¿½ï¿½ãˆï¿½ï¿½-----------------------------------------
		////-----------------------------------
		//// ï¿½^ï¿½Cï¿½ï¿½ï¿½Aï¿½^ï¿½bï¿½Nï¿½ï¿½
		//if (FLAG[SF_TIMEATK])
		//{
		//	EndTimeAtk()		// ï¿½^ï¿½Cï¿½ï¿½ï¿½Aï¿½^ï¿½bï¿½Nï¿½Iï¿½ï¿½ï¿½iï¿½Xï¿½Nï¿½ï¿½ï¿½vï¿½gï¿½ï¿½ï¿½ç‹­ï¿½ï¿½ï¿½Iï¿½É”ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ë‚¢ï¿½ëˆï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½j
		//}
		////-----------------------------------

	FadeOut(FADE_WHITE,FADE_NORMAL)
	WaitFade()

	SetFlag( GF_SPEEDRUN_SKILL_BATTLE, 0)	// ï¿½ï¿½èï¿½İƒXï¿½Lï¿½ï¿½ï¿½Kï¿½ï¿½ï¿½Fï¿½í“¬ï¿½ï¿½ï¿½Ç—ï¿½ï¿½pï¿½i1ï¿½ï¿½ï¿½í“¬ï¿½ï¿½ï¿½j

//ï¿½í“¬ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½-----------------------------------------------
//ï¿½Jï¿½nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½-----------------------------------------------

//	CallFunc("system:event_begin")

	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Jï¿½nï¿½Oï¿½ï¿½ï¿½Ì•Û‘ï¿½
	SaveEventState()
	SaveCamera()

	// ï¿½pï¿½[ï¿½eï¿½Bï¿½Òï¿½ï¿½Â”\ï¿½ó‹µ‚ï¿½ß‚ï¿½
	SetFlag(SF_ADOL_JOINOK, FLAG[SF_ADOL_JOINOKBK])
	SetFlag(SF_LAXIA_JOINOK, FLAG[SF_LAXIA_JOINOKBK])
	SetFlag(SF_SAHAD_JOINOK, FLAG[SF_SAHAD_JOINOKBK])
	SetFlag(SF_HUMMEL_JOINOK, FLAG[SF_HUMMEL_JOINOKBK])
	SetFlag(SF_RICOTTA_JOINOK, FLAG[SF_RICOTTA_JOINOKBK])
	SetFlag(SF_DANA_JOINOK, FLAG[SF_DANA_JOINOKBK])

	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ô‚Ìİ’ï¿½
	RestorePartyMember()						// ï¿½pï¿½[ï¿½eï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½oï¿½[ï¿½ï¿½ß‚ï¿½

	//ï¿½pï¿½[ï¿½eï¿½Bï¿½ï¿½Ô‚Ìƒï¿½ï¿½Zï¿½bï¿½g
	CallFunc("system:party_reset")

	//ï¿½Â‹ï¿½ï¿½Ìï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Eï¿½sï¿½vï¿½È‚ï¿½ï¿½Ì‚ï¿½ï¿½Bï¿½ï¿½
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ô‚Ìİ’ï¿½
	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA",1127.58f,426.18f,0.26f)
	Turn("DANA",-132.22f, 360.0f)
	ChangeAnimation( "DANA" , "ANI_EV_ZEEWAIT2", -1 , 1 )
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "DANA" , INFOFLAG_NOCHRATARI)
	LookChr( "DANA", "Monkey")

	//ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½O
	SetChrWork("Monkey", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Monkey",1133.42f, 431.52f, 0.11f)
	Turn("Monkey",44.72f,360.0f)
	ChangeAnimation( "Monkey", "ANI_EV_UDEGUMI", -1, 1 )
	ChangeSubAnimation("Monkey",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Monkey",SUBMOT_MOUTH,ANI_M_WAIT,1)
//	ChangeSubAnimation("Monkey",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Monkey" , INFOFLAG_NOCHRATARI)
	LookChr( "Monkey", "DANA" )

	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",1137.13f,419.97f,0.27f)
	Turn("ADOL",144.20f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookReset( "ADOL" )

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA",1137.86f,420.56f,0.23f)
	Turn("RICOTTA",144.20f,360.0f)
	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI)
	LookReset( "RICOTTA" )

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",1136.47f,419.23f,0.31f)
	Turn("LAXIA",143.73f,360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)
	LookReset( "LAXIA" )

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",1135.64f,418.53f,0.36f)
	Turn("SAHAD",154.85f,360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)
	LookReset( "SAHAD" )

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL",1139.08f,420.52f,0.22f)
	Turn("HUMMEL",136.52f,360.0f)
	ChangeAnimation( "HUMMEL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("HUMMEL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "HUMMEL" , INFOFLAG_NOCHRATARI)
	LookReset( "HUMMEL" )

	//BGMï¿½İ’èŸ
	//PlayBGM( BGM_FIELD_101 , XX )

	//ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½İ’ï¿½
	MoveCameraAt( 0 , 1131.286f , 427.212f , 1.803f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	ChangeCameraDistance( 0 , 7.000f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	ChangeCameraElevation( 0 , -6.479f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	RotateCamera( 0 , 273.845f , 0 )				// ï¿½pï¿½x
	ChangeCameraPers( 0 , 60.000f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	SetCameraZPlane( 0.100f , 600.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]
	// ResetCameraZPlane()	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ÉŒÄ‚Ñoï¿½ï¿½ï¿½Ä‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½}ï¿½bï¿½vï¿½ï¿½ï¿½Ìİ’ï¿½É–ß‚ï¿½ï¿½Ü‚ï¿½ï¿½B

	// ï¿½ï¿½ÊŠEï¿½[ï¿½xï¿½Ìİ’ï¿½
	SetDoF(0, LERP_LINEAR, 3.000, 100.000 ,1.000 ,0.700 ,0.500)
	// ï¿½Oï¿½ï¿½ï¿½Aï¿½Ìİ’ï¿½
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//ï¿½Xï¿½Lï¿½bï¿½vï¿½ï¿½ï¿½ï¿½
//	SetSkipScript("mp1118:Speedrun_Monkey3_Lose_ED")
	
//ï¿½Jï¿½nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½-----------------------------------------------
	
	FadeIn(FADE_WHITE,FADE_NORMAL)
	WaitFade()
	
	//ï¿½@ï¿½@ï¿½_ï¿½[ï¿½iï¿½ï¿½ï¿½Gï¿½ï¿½ï¿½Â‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½B

	TalkPopup("DANA",0,0,0,0,0)
	{
		"#000e#000mï¿½ï¿½ï¿½Î‚Íƒï¿½ï¿½Rï¿½bï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ï¿½ï¿½tï¿½ï¿½ï¿½ï¿½ï¿½ï¿½cï¿½c"
		"ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½ï¿½rï¿½Oï¿½ï¿½ï¿½ËB"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	ï¿½iï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½ÆÄí‚µï¿½ï¿½ï¿½ï¿½ï¿½ê‡ï¿½ÍA"
//		"#7Cï¿½Ä‚Ñwï¿½ï¿½ï¿½nï¿½}ï¿½ï¿½ï¿½Sï¿½[ï¿½xï¿½ï¿½ï¿½ï¿½ï¿½ã‚µï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½B"
		"#7Cï¿½Ä‚ï¿½#2Cï¿½u#245Iï¿½ï¿½ï¿½nï¿½}ï¿½ï¿½ï¿½Sï¿½[ï¿½v#7Cï¿½ï¿½ï¿½ï¿½ï¿½ã‚µï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½B"
	}
	WaitPrompt()
	WaitCloseWindow()

	//ï¿½@ï¿½@ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½ì‹–ï¿½ÂB
	FadeOut(FADE_BLACK,FADE_FAST)
	WaitFade()

//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½----------------------------------------------------
	CallFunc("mp1118:Speedrun_Monkey3_Lose_ED")
}
function "Speedrun_Monkey3_Lose_ED"
{
	//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÍƒXï¿½Lï¿½bï¿½vï¿½Ö~
	SetSkipScript("")

	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Oï¿½ÌƒLï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ğ•œ‹A
	RestoreEventState()

	//ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ğ•œ‹Aï¿½B
	ResetChrPos((CHRTYPE_MONS | RESET_POS))
//	ResetChrPos((CHRTYPE_MONS | RESET_STATUS))
//	ResetChrPos((CHRTYPE_MONS | RESET_AISTATE))

	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	CallFunc("system:reset_chrmot_ALL")	

	//ï¿½pï¿½[ï¿½eï¿½Bï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	ReleaseEventPartyChr()

	//ï¿½}ï¿½bï¿½vï¿½pï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½^ï¿½[ï¿½ï¿½ï¿½Zï¿½bï¿½g
	ResetMapParam(-1)

	//ï¿½tï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½
	SetFlag(SF_BOSS_BATTLE, 0)		//ï¿½{ï¿½Xï¿½ï¿½Iï¿½ï¿½

	// ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ÊŠOï¿½ÉˆÚ“ï¿½ï¿½iï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Xï¿½Lï¿½bï¿½vï¿½ï¿½ï¿½ï¿½ï¿½ê‡ï¿½pï¿½É“ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½j
	SetChrPos("Monkey" , -100000.00f  , 0.00f ,0.00f )

	CallFunc("mp1118:init")

	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½ÌÄ”zï¿½u
	SetChrPos("LEADER",1128.75f,426.50f,0.24f)
	Turn("LEADER",43.34f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //ï¿½ï¿½ï¿½ï¿½ï¿½Ò‚ï¿½ï¿½p

	//ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½Ê’uï¿½ï¿½ï¿½A
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// ï¿½ï¿½{ï¿½ÂŠp
	//RotateCamera( 0 , 0.0f , 0 )				// ï¿½pï¿½x
	//ChangeCameraPers( 0 , 0.0f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]

	RestoreCamera(0, 0)		//ï¿½ï¿½ï¿½ï¿½Lï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½Ê’uï¿½ï¿½ï¿½wï¿½è‚·ï¿½ï¿½ê‡ï¿½Í•sï¿½v
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	PlayBGM(BGM_1118, 0)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½----------------------------------------------------
}
//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
//ï¿½ï¿½ï¿½Nï¿½Gï¿½Xï¿½gï¿½Bï¿½ï¿½ï¿½Cï¿½xï¿½ï¿½ï¿½g
//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
function "Speedrun_Monkey3_Win"
{
	//ï¿½ï¿½ï¿½GONï¿½Eï¿½Fï¿½Xï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½---------------------------
	SetFlag(SF_ALLMUTEKI,1)		//ï¿½ï¿½ï¿½Gï¿½nï¿½m

	Wait(30)
	StopBGM(120)
	Wait(90)

	CallFunc("system:boss_end")
	SetFlag(SF_ADOL_JOINOK, FLAG[SF_ADOL_JOINOKBK])
	SetFlag(SF_LAXIA_JOINOK, FLAG[SF_LAXIA_JOINOKBK])
	SetFlag(SF_SAHAD_JOINOK, FLAG[SF_SAHAD_JOINOKBK])
	SetFlag(SF_HUMMEL_JOINOK, FLAG[SF_HUMMEL_JOINOKBK])
	SetFlag(SF_RICOTTA_JOINOK, FLAG[SF_RICOTTA_JOINOKBK])
	SetFlag(SF_DANA_JOINOK, FLAG[SF_DANA_JOINOKBK])

	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ô‚Ìİ’ï¿½
	RestorePartyMember()						// ï¿½pï¿½[ï¿½eï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½oï¿½[ï¿½ï¿½ß‚ï¿½

	//ï¿½pï¿½[ï¿½eï¿½Bï¿½ï¿½Ô‚Ìƒï¿½ï¿½Zï¿½bï¿½g
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")
	SetStopFlag(STOPFLAG_EVENT)

	// adding this line to remove the invisible walls after the fight
	MapAnime("CT_EVENT","open")							//â€¦â€¦é€ƒã’ã‚‰ã‚Œãªã„ã‚¹ãƒˆãƒƒãƒ‘ãƒ¼è§£é™¤

	// changed CueEvent to CallFunc to prevent softlock after fight
	CallFunc("mp1118:Speedrun_Monkey3_Win_ED")
}

function "Speedrun_Monkey3_Win_old"
{
	//ï¿½ï¿½ï¿½_ï¿½[ï¿½iï¿½uï¿½rï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½O
	//	ï¿½Ëí“¬ï¿½Éï¿½ï¿½ï¿½

//ï¿½í“¬ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½-----------------------------------------------

	//ï¿½ï¿½ï¿½GONï¿½Eï¿½Fï¿½Xï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½---------------------------
	SetFlag(SF_ALLMUTEKI,1)								//ï¿½cï¿½cï¿½ï¿½ï¿½Gï¿½nï¿½m

	Wait(90)											//ï¿½cï¿½cï¿½{ï¿½Xï¿½ï¿½ï¿½Sï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é•ï¿½hï¿½ï¿½ï¿½bï¿½vï¿½Aï¿½Cï¿½eï¿½ï¿½ï¿½ï¿½ï¿½Eï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	StopBGM(90)
	Wait(60)

	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½oï¿½gï¿½ï¿½ï¿½pCallFunc-------------------------
	CallFunc("system:boss_end")							//ï¿½cï¿½cï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½oï¿½gï¿½ï¿½ï¿½pï¿½ÌFï¿½Xï¿½Èï¿½ï¿½ï¿½ï¿½ï¿½ï¿½sï¿½ï¿½function

	//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Eï¿½{ï¿½Xï¿½ï¿½ï¿½ï¿½-------------------------------
	MapAnime("CT_EVENT","open")							//ï¿½cï¿½cï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È‚ï¿½ï¿½Xï¿½gï¿½bï¿½pï¿½[ï¿½ï¿½ï¿½ï¿½
	SetChrPos(mons_Monkey,-100000.00f,0.00f,0.00f)		//ï¿½cï¿½cï¿½{ï¿½Xï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È‚ï¿½ï¿½Ê’uï¿½É”ï¿½Î‚ï¿½
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))			//ï¿½cï¿½cï¿½Uï¿½Rï¿½È‚ç‚±ï¿½ï¿½ï¿½ï¿½

	//ï¿½ï¿½ï¿½ãˆï¿½ï¿½-----------------------------------------
		////-----------------------------------
		//// ï¿½^ï¿½Cï¿½ï¿½ï¿½Aï¿½^ï¿½bï¿½Nï¿½ï¿½
		//if (FLAG[SF_TIMEATK])
		//{
		//	EndTimeAtk()		// ï¿½^ï¿½Cï¿½ï¿½ï¿½Aï¿½^ï¿½bï¿½Nï¿½Iï¿½ï¿½ï¿½iï¿½Xï¿½Nï¿½ï¿½ï¿½vï¿½gï¿½ï¿½ï¿½ç‹­ï¿½ï¿½ï¿½Iï¿½É”ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ë‚¢ï¿½ëˆï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½j
		//}
		////-----------------------------------

	FadeOut(FADE_WHITE,FADE_NORMAL)
	WaitFade()

	SetFlag( GF_SPEEDRUN_SKILL_BATTLE, 0)	// ï¿½ï¿½èï¿½İƒXï¿½Lï¿½ï¿½ï¿½Kï¿½ï¿½ï¿½Fï¿½í“¬ï¿½ï¿½ï¿½Ç—ï¿½ï¿½pï¿½i1ï¿½ï¿½ï¿½í“¬ï¿½ï¿½ï¿½j

//ï¿½í“¬ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½-----------------------------------------------
//ï¿½Jï¿½nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½----------------------------------------------------

//	CallFunc("system:event_begin")

	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Jï¿½nï¿½Oï¿½ï¿½ï¿½Ì•Û‘ï¿½
	SaveEventState()
	SaveCamera()

	// ï¿½pï¿½[ï¿½eï¿½Bï¿½Òï¿½ï¿½Â”\ï¿½ó‹µ‚ï¿½ß‚ï¿½
	SetFlag(SF_ADOL_JOINOK, FLAG[SF_ADOL_JOINOKBK])
	SetFlag(SF_LAXIA_JOINOK, FLAG[SF_LAXIA_JOINOKBK])
	SetFlag(SF_SAHAD_JOINOK, FLAG[SF_SAHAD_JOINOKBK])
	SetFlag(SF_HUMMEL_JOINOK, FLAG[SF_HUMMEL_JOINOKBK])
	SetFlag(SF_RICOTTA_JOINOK, FLAG[SF_RICOTTA_JOINOKBK])
	SetFlag(SF_DANA_JOINOK, FLAG[SF_DANA_JOINOKBK])

	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ô‚Ìİ’ï¿½
	RestorePartyMember()						// ï¿½pï¿½[ï¿½eï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½oï¿½[ï¿½ï¿½ß‚ï¿½

	//ï¿½pï¿½[ï¿½eï¿½Bï¿½ï¿½Ô‚Ìƒï¿½ï¿½Zï¿½bï¿½g
	CallFunc("system:party_reset")

	//ï¿½Â‹ï¿½ï¿½Ìï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Eï¿½sï¿½vï¿½È‚ï¿½ï¿½Ì‚ï¿½ï¿½Bï¿½ï¿½
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ô‚Ìİ’ï¿½
	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA",1127.58f,426.18f,0.26f)
	Turn("DANA",-132.22f, 360.0f)
	ChangeAnimation( "DANA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "DANA" , INFOFLAG_NOCHRATARI)
	LookReset( "DANA" )

	//ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½O
	SetChrWork("Monkey", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Monkey",1133.42f, 431.52f, 0.11f)
	Turn("Monkey",44.72f,360.0f)
	ChangeAnimation( "Monkey" , "ANI_DEAD2", -1 , 1 )	//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÍFï¿½uï¿½ï¿½ï¿½Gï¿½ï¿½ï¿½Â‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½vï¿½Íï¿½ï¿½Sï¿½Å‘ï¿½pï¿½ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½
	ChangeSubAnimation("Monkey",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Monkey",SUBMOT_MOUTH,ANI_M_WAIT,1)
//	ChangeSubAnimation("Monkey",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Monkey" , INFOFLAG_NOCHRATARI)
	LookReset("Monkey")

	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",1137.13f,419.97f,0.27f)
	Turn("ADOL",144.20f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookReset( "ADOL" )

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA",1137.86f,420.56f,0.23f)
	Turn("RICOTTA",144.20f,360.0f)
	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI)
	LookReset( "RICOTTA" )

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",1136.47f,419.23f,0.31f)
	Turn("LAXIA",143.73f,360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)
	LookReset( "LAXIA" )

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",1135.64f,418.53f,0.36f)
	Turn("SAHAD",154.85f,360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)
	LookReset( "SAHAD" )

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL",1139.08f,420.52f,0.22f)
	Turn("HUMMEL",136.52f,360.0f)
	ChangeAnimation( "HUMMEL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("HUMMEL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "HUMMEL" , INFOFLAG_NOCHRATARI)
	LookReset( "HUMMEL" )

	LookChr("ADOL", "Monkey")
	LookChr("LAXIA", "Monkey")
	LookChr("SAHAD", "Monkey")
	LookChr("RICOTTA", "Monkey")
	LookChr("HUMMEL", "Monkey")
	LookChr("DANA", "Monkey")

	// ï¿½_ï¿½[ï¿½iï¿½ÌƒGï¿½tï¿½Fï¿½Nï¿½gï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½h
	SetFlag(TF_MENU_SELECT, 0)
	if (WORK[WK_ISEXIST_PLAYER1] && WORK[WK_PLAYER1] == DANA)
	{
		// ï¿½ï¿½ï¿½É“Ç‚İï¿½ï¿½İÏ‚ï¿½
		SetFlag(TF_MENU_SELECT, 1)
	}
	else if (WORK[WK_ISEXIST_PLAYER2] && WORK[WK_PLAYER2] == DANA)
	{
		// ï¿½ï¿½ï¿½É“Ç‚İï¿½ï¿½İÏ‚ï¿½
		SetFlag(TF_MENU_SELECT, 1)
	}
	else if (WORK[WK_ISEXIST_PLAYER3] && WORK[WK_PLAYER3] == DANA)
	{
		// ï¿½ï¿½ï¿½É“Ç‚İï¿½ï¿½İÏ‚ï¿½
		SetFlag(TF_MENU_SELECT, 1)
	}
	else if (WORK[WK_ISEXIST_PLAYER4] && WORK[WK_PLAYER4] == DANA)
	{
		// ï¿½ï¿½ï¿½É“Ç‚İï¿½ï¿½İÏ‚ï¿½
		SetFlag(TF_MENU_SELECT, 1)
	}

	if (FLAG[TF_MENU_SELECT] == 0)
	{
		// ï¿½Ü‚ï¿½ï¿½Ç‚Ü‚ï¿½Ä‚È‚ï¿½
		LoadEffect("efx_c005.ite")
	}

	//BGMï¿½İ’èŸ
	//PlayBGM( BGM_FIELD_101 , XX )
	PlayBGM(BGM_1118, 0)

	//ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½İ’ï¿½
	MoveCameraAt( 0 , 1131.198f , 428.516f , 0.811f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	ChangeCameraDistance( 0 , 7.000f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	ChangeCameraElevation( 0 , 4.683f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	RotateCamera( 0 , 280.084f , 0 )				// ï¿½pï¿½x
	ChangeCameraPers( 0 , 60.000f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	SetCameraZPlane( 0.100f , 600.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]
	// ResetCameraZPlane()	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ÉŒÄ‚Ñoï¿½ï¿½ï¿½Ä‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½}ï¿½bï¿½vï¿½ï¿½ï¿½Ìİ’ï¿½É–ß‚ï¿½ï¿½Ü‚ï¿½ï¿½B

	// ï¿½ï¿½ÊŠEï¿½[ï¿½xï¿½Ìİ’ï¿½
	SetDoF(0, LERP_LINEAR, 3.000, 100.000 ,1.000 ,0.700 ,0.500)
	// ï¿½Oï¿½ï¿½ï¿½Aï¿½Ìİ’ï¿½
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//ï¿½Xï¿½Lï¿½bï¿½vï¿½ï¿½ï¿½ï¿½
	SetSkipScript("mp1118:Speedrun_Monkey3_Win_ED")

//ï¿½Jï¿½nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½-----------------------------------------------

	Wait(10)

	FadeIn(FADE_WHITE,FADE_NORMAL)
	WaitFade()

	//ï¿½@ï¿½@ï¿½ï¿½Êƒtï¿½Fï¿½[ï¿½hï¿½Cï¿½ï¿½ï¿½ï¿½ï¿½ÄA
	//ï¿½@ï¿½@ï¿½ï¿½ï¿½Gï¿½ï¿½ï¿½Â‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½Æ‚ï¿½ï¿½Ì‘Oï¿½Éƒ_ï¿½[ï¿½iï¿½B
	//ï¿½@ï¿½@ï¿½ï¿½ï¿½Ô‚Íï¿½ï¿½Í‚É‚ï¿½ï¿½ï¿½B

	TalkPopup("DANA",0,0,0,0,0)
	{
		"#000e#000mï¿½Ó‚ï¿½ï¿½Aï¿½ï¿½ï¿½Æ‚ï¿½ï¿½Â‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÈB\p"
		"ï¿½mï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÈŠï¿½ï¿½ï¿½ï¿½Å—Í‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Äcï¿½c"
		"ï¿½ï¿½ï¿½3ï¿½sï¿½ï¿½"
	}
	WaitPrompt()
	WaitCloseWindow()

	//ï¿½@ï¿½@ï¿½_ï¿½[ï¿½iï¿½ï¿½ï¿½ï¿½ï¿½Ìï¿½Åƒhï¿½ï¿½ï¿½Sï¿½ï¿½ï¿½Eï¿½Fï¿½Cï¿½ï¿½ï¿½ğ”­“ï¿½ï¿½ï¿½ï¿½ï¿½B
	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 1127.925f , 426.715f , 1.381f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	ChangeCameraDistance( 0 , 4.800f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	ChangeCameraElevation( 0 , 11.902f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	RotateCamera( 0 , 156.426f , 0 )				// ï¿½pï¿½x
	ChangeCameraPers( 0 , 60.000f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	SetCameraZPlane( 0.100f , 600.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]

	LookReset( "DANA" )
	Wait(FADE_CROSS)
	ChangeAnimation( "DANA", "ANI_EV_SETARM", -1, 1 )
	WaitAnimation2( "DANA" , -1, 1, "ANI_EV_SETARM",  0)
	ChangeAnimation( "DANA", "ANI_SP_B4", -1, 1 )	//ï¿½ï¿½B4ï¿½Eï¿½ï¿½×ºï¿½İƒEï¿½Fï¿½Cï¿½ï¿½
	WaitAnimation2( "DANA" , -1, 1, "ANI_SP_B4",  0)
	Wait(40)
	
	//PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//ï¿½`ï¿½ï¿½ï¿½[ï¿½gï¿½ï¿½ï¿½Aï¿½ï¿½
	PlaySE( SE_SKILLLEARN , 100 , 0,  0, 0, 1.0f, 0)

	//	ï¿½iï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½
//	TalkPopup(UNDEF,0,5,0,0,0)
//	{
//		""
//		"#4Cï¿½_ï¿½[ï¿½iï¿½ÍƒXï¿½Lï¿½ï¿½#2Cï¿½uï¿½hï¿½ï¿½ï¿½Sï¿½ï¿½ï¿½Eï¿½Fï¿½Cï¿½ï¿½ï¿½v#4Cï¿½ï¿½ï¿½Kï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½I"
//	}
//	WaitPrompt()
//	WaitCloseWindow()
	
	Message("#4Cï¿½_ï¿½[ï¿½iï¿½ÍƒXï¿½Lï¿½ï¿½#2Cï¿½uï¿½hï¿½ï¿½ï¿½Sï¿½ï¿½ï¿½Eï¿½Fï¿½Cï¿½ï¿½ï¿½v#4Cï¿½ï¿½ï¿½Kï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½I")
	WaitPrompt()
	Wait(10)

	TalkPopup("DANA",0,0,0,0,0)
	{
		"#011e#080mï¿½Ó‚Ó‚ï¿½ï¿½Aï¿½Ç‚ï¿½ï¿½ï¿½ï¿½"
		"ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ï¿½ï¿½Ì‚É‚Å‚ï¿½ï¿½ï¿½ï¿½İ‚ï¿½ï¿½ï¿½ï¿½B"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	//ï¿½@ï¿½@ï¿½ï¿½ÊƒNï¿½ï¿½ï¿½Xï¿½tï¿½Fï¿½[ï¿½hï¿½ÅAï¿½_ï¿½[ï¿½iï¿½ï¿½ï¿½Ä”zï¿½uï¿½ï¿½ï¿½Â‚Â’ï¿½ï¿½Ô‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Wï¿½Ü‚ï¿½B
	CrossFade(FADE_FAST)
	SetChrPos("DANA",1129.72f,427.96f,0.21f)
	Turn("DANA",-133.69f,360.0f)
	SetChrWork( "DANA" , CWK_BATTLEMODE , 0 )
	ChangeAnimation( "DANA", "ANI_WAIT", -1, 1 )	// ï¿½Ò‹@
	LookChr("DANA", "Monkey")
	SetChrPos("ADOL",1129.07f,427.31f,0.23f)
	Turn("ADOL",-134.89f,360.0f)
	SetChrPos("RICOTTA",1129.58f,426.58f,0.22f)
	Turn("RICOTTA",-144.26f,360.0f)
	SetChrPos("LAXIA",1128.34f,427.94f,0.23f)
	Turn("LAXIA",-111.67f,360.0f)
	SetChrPos("SAHAD",1127.82f,426.89f,0.25f)
	Turn("SAHAD",-128.77f,360.0f)
	SetChrPos("HUMMEL",1128.48f,426.04f,0.25f)
	Turn("HUMMEL",-138.77f,360.0f)

	MoveCameraAt( 0 , 1131.680f , 428.634f , 2.815f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	ChangeCameraDistance( 0 , 7.000f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	ChangeCameraElevation( 0 , -1.499f , 0 )	// ï¿½ï¿½{ï¿½ÂŠp
	RotateCamera( 0 , 272.081f , 0 )				// ï¿½pï¿½x
	ChangeCameraPers( 0 , 60.000f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	SetCameraZPlane( 0.100f , 600.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]
	// ResetCameraZPlane()	// ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ÉŒÄ‚Ñoï¿½ï¿½ï¿½Ä‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½}ï¿½bï¿½vï¿½ï¿½ï¿½Ìİ’ï¿½É–ß‚ï¿½ï¿½Ü‚ï¿½ï¿½B
	
	// ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½Ú“ï¿½
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 1131.680f , 428.634f , 2.175f , 50 )

	Wait(FADE_CROSS)

	// ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½Ò‚ï¿½
	WaitThread(1000)

	//ï¿½@ï¿½@ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ã‚ªï¿½ï¿½ï¿½Ä‰ï¿½bï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½B
	ChangeAnimation( "Monkey", "ANI_RESURRECT", -1, 1 )
	PlaySE(SE_MONKEY_01, 60, 0, 0, 0, 1.0f, 0)
	Wait(10)
	PlayVoice(Y8V_5664, "xxx", 100)	//ï¿½ï¿½ï¿½ÙIï¿½iï¿½ï¿½ï¿½ï¿½ï¿½mï¿½ï¿½uï¿½ï¿½ï¿½Ì’Ê‚ï¿½Iï¿½vï¿½j
	Wait(10)
	PlaySE(SE_MONKEY_02, 60, 0, 0, 0, 1.0f, 0)
	WaitAnimation2( "Monkey" , -1, 1, "ANI_RESURRECT",  0)
	ChangeAnimation( "Monkey", "ANI_EV_UDEGUMI_S", -1, 1 )
	WaitAnimation2( "Monkey" , -1, 1, "ANI_EV_UDEGUMI_S",  0)

	TalkPopup("RICOTTA",0,2,0,0,0)
	{
		"#000e#000mï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½B3"
		"ï¿½wï¿½æ‚­ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½x"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_S", -1, 1 )	// ï¿½ï¿½ï¿½ï¿½ ï¿½Kï¿½gï¿½ï¿½
	Wait(10)
	PlayVoice(Y8V_2997,"DANA",100)	//ï¿½Ó‚Óiï¿½ï¿½ï¿½Îj

	//	"DANA"
	TalkPopup("DANA",0,2,0,0,0)
	{
		"#000e#000mï¿½Ó‚ÓAï¿½Ç‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è‚ªï¿½Æ‚ï¿½ï¿½B"
	}
	WaitPrompt()
	WaitCloseWindow()

	//ï¿½@ï¿½@ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä—pï¿½{ï¿½Cï¿½Xï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Â‚ï¿½
	//ï¿½@ï¿½@ï¿½rï¿½ï¿½gï¿½Şƒï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½B
	PlayVoice(Y8V_5659,"Monkey",100)
	ChangeAnimation( "Monkey", "ANI_EV_UDEGUMI_TEBURI", -1, 1 )
	WaitAnimation2( "Monkey" , -1, 1, "ANI_EV_UDEGUMI_TEBURI",  0)

	TalkPopup("RICOTTA",0,0,0,0,0)
	{
		"#000e#000mï¿½wï¿½ï¿½ï¿½ï¿½É‚ï¿½ï¿½Ä‚ï¿½ï¿½A"
		"ï¿½@ï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½Í‹Ø‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½x\p"
		"ï¿½wï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½İ‚ï¿½ï¿½bï¿½ã‚ªï¿½ï¿½ï¿½ï¿½x\p"
		"ï¿½È‚Í‚ÍAï¿½æ‚©ï¿½ï¿½ï¿½ï¿½ï¿½È‚İ‚ï¿½ÈI\p"
		"ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½Jï¿½ß‚ï¿½Aï¿½Å‘ï¿½ï¿½É‚È‚ï¿½ï¿½I"
		"ï¿½Jï¿½ß‚ï¿½6ï¿½sï¿½ï¿½"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// ï¿½ï¿½ï¿½è˜
	Wait(10)
	PlayVoice(Y8V_1411,"SAHAD",100)	//ï¿½Kï¿½nï¿½nï¿½iï¿½Tï¿½ï¿½ï¿½ß‚ÈÎ‚ï¿½ï¿½j

	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000e#000mï¿½Kï¿½nï¿½nï¿½Aï¿½ï¿½ï¿½ï¿½ï¿½Â‚ÍŒï¿½ï¿½hï¿½ï¿½ï¿½ÈI"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("DANA", 1, 25)	// ï¿½Lï¿½ï¿½ï¿½ï¿½, ï¿½ï¿½ï¿½È‚ï¿½ï¿½ï¿½ï¿½ï¿½, ï¿½ï¿½ï¿½ï¿½

	TalkPopup("DANA",0,2,0,0,0)
	{
		"#000e#000mï¿½ï¿½ï¿½ñ‚¤‚ï¿½Aï¿½mï¿½ï¿½ï¿½ÉI"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000e#000mï¿½Aï¿½hï¿½ï¿½ï¿½ï¿½í‚½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½"
		"ï¿½oï¿½Ô‚Í‚Ü‚ï¿½ï¿½Å‚ï¿½ï¿½ï¿½ï¿½cï¿½c"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("HUMMEL",0,2,0,0,0)
	{
		"#000e#000mï¿½tï¿½bï¿½Aï¿½ï¿½ï¿½ï¿½ï¿½È‚ï¿½Æ•ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ÈB"
	}
	WaitPrompt()
	WaitCloseWindow()

	//ï¿½@ï¿½@ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½bï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½B
	ChangeAnimation( "Monkey", "ANI_EV_UDEGUMI_TEBURI", -1, 1 )
	WaitAnimation2( "Monkey" , -1, 1, "ANI_EV_UDEGUMI_TEBURI",  0)

	TalkPopup("RICOTTA",0,0,0,0,0)
	{
		"#000e#000mï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½B4"
		"ï¿½wï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ò‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½x\p"
		"ï¿½wï¿½ï¿½ï¿½xï¿½Ígï¿½Å‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½Ì’ï¿½ï¿½h"
		"ï¿½@ï¿½É‚Ä‰ï‚¤ï¿½Æ‚ï¿½ï¿½æ‚¤ï¿½x"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_E", -1, 1 )	// ï¿½ï¿½ï¿½ï¿½ ï¿½Kï¿½gï¿½ï¿½

	TalkPopup("DANA",0,2,0,0,0)
	{
		"#000e#000mï¿½Ó‚ÓAï¿½ï¿½ï¿½ê‚¶ï¿½á‚ ï¿½ËB"
	}
	WaitPrompt()
	WaitCloseWindow()

	//ï¿½@ï¿½@ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½Şê‚·ï¿½éƒ‚ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½iï¿½Wï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½ï¿½È‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½j
	ChangeAnimation( "Monkey", "ANI_EV_UDEGUMI_E", -1, 1 )
	WaitAnimation2( "Monkey" , -1, 1, "ANI_EV_UDEGUMI_E",  0)
	//Turn("Monkey", 147.76f, 10.0f)
	Wait(10)
	
	ChangeAnimation( "Monkey", "ANI_EV_JUMP_S", -1, 1 )
	
	LookReset("ADOL")
	LookReset("LAXIA")
	LookReset("SAHAD")
	LookReset("HUMMEL")
	LookReset("RICOTTA")
	LookReset("DANA")
	Wait(10)
	EarthQuake( 0.02f , 0.02f , 20 )	// ï¿½cï¿½hï¿½ê•, ï¿½ï¿½ï¿½hï¿½ê•, ï¿½ï¿½ï¿½ï¿½
	Blur(BLUR_TYPE_EXPAND, 0.2f, 30)	//ï¿½uï¿½ï¿½ï¿½[
	
	WaitAnimation2( "Monkey" , -1, 1, "ANI_EV_JUMP_S",  0)
	SetChrPos("Monkey" , -100000.00f , 0.00f ,0.00f )
	
	Wait(20)
	
	SetEnvSEPlayState(-1, 0)	//ï¿½Â‹ï¿½SEï¿½Sï¿½ï¿½~

	//ï¿½@ï¿½@ï¿½ï¿½ÊˆÃ“]ï¿½B
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//ï¿½Dï¿½ï¿½ï¿½xï¿½Aï¿½bï¿½v

	//	ï¿½iï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ÌDï¿½ï¿½ï¿½xï¿½ï¿½ï¿½ã‚ªï¿½ï¿½ï¿½ï¿½ï¿½I#10W" 
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//ï¿½@ï¿½@ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½ì‹–ï¿½ÂB

//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½----------------------------------------------------
	CallFunc("mp1118:Speedrun_Monkey3_Win_ED")
}
function "Speedrun_Monkey3_Win_ED"
{
	//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÍƒXï¿½Lï¿½bï¿½vï¿½Ö~
	SetSkipScript("")

	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Oï¿½ÌƒLï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ğ•œ‹A
	RestoreEventState()

	//ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ğ•œ‹Aï¿½B
	ResetChrPos((CHRTYPE_MONS | RESET_POS))
//	ResetChrPos((CHRTYPE_MONS | RESET_STATUS))
//	ResetChrPos((CHRTYPE_MONS | RESET_AISTATE))

	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	CallFunc("system:reset_chrmot_ALL")	

	//ï¿½pï¿½[ï¿½eï¿½Bï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	ReleaseEventPartyChr()

	// ï¿½Gï¿½tï¿½Fï¿½Nï¿½gï¿½ï¿½jï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	if (FLAG[TF_MENU_SELECT] == 0)
	{
		// ï¿½Ç‰ï¿½ï¿½Å“Ç‚ï¿½Å‚ï¿½ï¿½ï¿½ê‡ï¿½Ì‚İ”jï¿½ï¿½
		ReleaseEffect("efx_c005.ite")
	}

	//ï¿½}ï¿½bï¿½vï¿½pï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½^ï¿½[ï¿½ï¿½ï¿½Zï¿½bï¿½g
	ResetMapParam(-1)

	//ï¿½tï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½
	SetFlag( GF_SPEEDRUN_SKILL_DANA, 1 )		// ï¿½ï¿½èï¿½İƒXï¿½Lï¿½ï¿½ï¿½Kï¿½ï¿½ï¿½Fï¿½Bï¿½ï¿½ï¿½_ï¿½[ï¿½iï¿½uï¿½rï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	SetFlag( GF_LIKELV_SKILLMONKY, ( FLAG[GF_LIKELV_SKILLMONKY] + 1 ) )	// ï¿½Dï¿½ï¿½ï¿½xï¿½tï¿½o
	SetFlag(SF_BOSS_BATTLE, 0)		//ï¿½{ï¿½Xï¿½ï¿½Iï¿½ï¿½
	if(FLAG[GF_TBOX_DUMMY111]) //if skill shuffle is on
    {
        CallFunc("rng:0582")
    }
	else
	{
		GetSkill(PARTY_DANA, SKILL_DANA_SP_B4, 1)	//ï¿½hï¿½ï¿½ï¿½Sï¿½ï¿½ï¿½Eï¿½Fï¿½Cï¿½ï¿½
	}

	//ï¿½}ï¿½[ï¿½Jï¿½[ï¿½íœï¿½Æİ’u
	DelMapMarker( SMI_SUBEVENT, PAGE_F009, MARKER_SPEEDRUN_SKILL2, 0, 0)	// ï¿½ï¿½èï¿½İƒXï¿½Lï¿½ï¿½ï¿½Kï¿½ï¿½ï¿½Fï¿½ï¿½ï¿½lï¿½É‹ï¿½ï¿½ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½p
	SetMapMarker( SMI_SUBEVENT, PAGE_MP433x, MARKER_SPEEDRUN_SKILL3, 380.40f, -8.23f, 759.63f, 	380.40f, -8.23f,	MARKER_SPEEDRUN_SKILL3, MN_D_MP4341,	4)	// ï¿½ï¿½èï¿½İƒXï¿½Lï¿½ï¿½ï¿½Kï¿½ï¿½ï¿½Fï¿½Wï¿½ï¿½ï¿½ï¿½ï¿½_ï¿½ï¿½ï¿½ï¿½ï¿½É‹ï¿½ï¿½ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½p

	// ï¿½}ï¿½Xï¿½^ï¿½[ï¿½Rï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ÊŠOï¿½ÉˆÚ“ï¿½ï¿½iï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Xï¿½Lï¿½bï¿½vï¿½ï¿½ï¿½ï¿½ï¿½ê‡ï¿½pï¿½É“ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½j
	SetChrPos("Monkey" , -100000.00f  , 0.00f ,0.00f )

	CallFunc("mp1118:init")

	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½ÌÄ”zï¿½u
	SetChrPos("LEADER",1128.75f,426.50f,0.24f)
	Turn("LEADER",43.34f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //ï¿½ï¿½ï¿½ï¿½ï¿½Ò‚ï¿½ï¿½p

	//ï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½Ê’uï¿½ï¿½ï¿½A
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// ï¿½ï¿½ï¿½ï¿½ï¿½_
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// ï¿½ï¿½{ï¿½ÂŠp
	//RotateCamera( 0 , 0.0f , 0 )				// ï¿½pï¿½x
	//ChangeCameraPers( 0 , 0.0f , 0 )			// ï¿½ï¿½ï¿½ï¿½p
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½]

	RestoreCamera(0, 0)		//ï¿½ï¿½ï¿½ï¿½Lï¿½Jï¿½ï¿½ï¿½ï¿½ï¿½Ê’uï¿½ï¿½ï¿½wï¿½è‚·ï¿½ï¿½ê‡ï¿½Í•sï¿½v
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetEnvSEPlayState(-1, 1)	//ï¿½Â‹ï¿½SE

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½----------------------------------------------------
}
