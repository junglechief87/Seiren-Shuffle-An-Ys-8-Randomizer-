#include "inc/flag.h"
#include "inc/def.h"
#include "inc/scr_inc.h"
#include "inc/3dicon.h"
#include "inc/music.h"
#include "inc/se.h"
#include "inc/efx.h"
#include "inc/mons.h"
#include "inc/skilldef.h"
#include "inc/temp/mp1201.h"
#include "inc/vo.h"
#include "inc/fish.h"

//---------------------------------------------------------------
//初期化用
function "init"
{
	//遠景不必要ノード削除◆マップ作業者用
	MapHide( "@BG2_mp1101" , 0 )
	MapHide( "@BG2_mp1102" , 0 )
	MapHide( "@BG2_mp1113_2" , 0 )
	MapHide( "@BG2_mp1131" , 0 )
	MapHide( "@BG2_mp1201" , 0 )
	SetFlag( GF_CAMP_VILLAGE_LV, 7 )
	SetFlag( GF_CAMP_BED_LV, 2 )
	SetFlag(GF_CAMP_PAROWOOD_LV,1)
	SetFlag(GF_CAMP_GRAVE_LV,1 )
	
	//PS4 Patch1.01 #3169 旧地下聖堂最奥の宝箱を消す
	DelMapMarker( SMI_TBOX ,PAGE_MP65xx, MARKER_SUBEV_CRYPT2, 0 , -116 )
	DelMapMarker( SMI_OPENED_TBOX ,PAGE_MP65xx, MARKER_SUBEV_CRYPT2, 0 , -116 )
	
	//PS4 Patch1.01 #3157 mp5102ティティス原始林・流される宝箱のアイコンが表示されたままになっています
	if (!FLAG[GF_SUBEV_PAST_01_GIMMICK_A])
	{
		DelMapMarker( SMI_TBOX ,PAGE_F033, -1, 123 , 712 )
	}

	if(FLAG[GF_MP1202_NOW])	//屋内判定フラグをGFとTFで交換する
	{
		SetFlag(TF_MP1202_NOW,1)
		SetFlag(GF_MP1202_NOW,0)	//イベントで飛んできた時のinit切替用
	}
	if( FLAG[SF_LASTENTRY_NO] == 5 )	//水音の洞窟から出てきた
	{
		SetFlag(TF_MP1202_NOW,1)
	}

	//ゲームクリア済で過去編Ⅶをクリアしていた場合に旧地下聖堂マーカーをセット
	if(FLAG[SF_SYS_CLEARED] && FLAG[GF_SUBEV_PAST_07_CLEAR] && !FLAG[GF_CRYPT_MARKER_SETED])
	{
		SetMapMarker( SMI_SUBEVENT ,PAGE_F032, MARKER_SUBEV_CRYPT, -429.70f,948.39f,14.01f, -429.70f,948.39f,MARKER_SUBEV_CRYPT,MN_F_MP6211,0)			//現代編地下聖堂（入り口
		SetMapMarker( SMI_SUBEVENT ,PAGE_MP65xx, MARKER_SUBEV_CRYPT2, -0.09f, -115.66f, -451.00f, -0.09f, -115.66f,MARKER_SUBEV_CRYPT2,MN_D_MP6569,6)		//現代編地下聖堂（宝箱
		SetFlag(GF_CRYPT_MARKER_SETED,1)		//旧地下聖堂のマーカーをセットした
	}

	SetFlag( TF_NPC_NOLOAD ,0)	//NpcPosition読み込み判定用：念のためクリアしておく
	
	//データ破棄対象の宣言（イベント用データは個別に記述）
	CallFunc("system:ReleaseChr_NPCALL")

//	//★★#29708 パッチ1.01対応　PS4では削除してください★★
//	if (FLAG[GF_03MP1201_TALK_KATRIN] &&		//[M03S180][カトリーンに相談する]
//	FLAG[GF_03MP1201_ALARM_INTERCEPT] &&		//[M03S231][警鐘が鳴り響く]
//	!FLAG[GF_SPEEDRUN_FISH_ENCOUNTER] ){		//リコッタとハシビロコウの遭遇イベント
//
//		//フラグ立て・アイテム入手
//		SetFlag( GF_SPEEDRUN_FISH_ENCOUNTER, 1 )		// やり込み魚渡し：リコッタとハシビロコウの遭遇イベント
//		//SetDiaryCharaFlag( DRCHA_RICOTTA, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（リコッタ）
//		JoinNPC( NPC_BALAENICEPS_REX, JOIN_NPC_JOIN )			// ハシビロコウが仲間になった
//
//		//人物メモ登録	話しかける、またはリコッタとの再会イベントを見ると登録
//		SetFlag(TF_MENU_SELECT,0)
//		GetDiaryCharaFlag( DRCHA_BALAENICEPS_REX, DRCHA_FLAG_OPEN, TF_MENU_SELECT )		//★人物メモ：合流時に登録（ハシビロコウ）
//		if( FLAG[TF_MENU_SELECT] == 0 )
//		{
//			//SetDiaryCharaFlag( DRCHA_BALAENICEPS_REX, DRCHA_FLAG_OPEN, 1 )	//★人物メモ：合流時に登録（ハシビロコウ）
//		}
//		//SetDiaryCharaFlag( DRCHA_BALAENICEPS_REX, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（ハシビロコウ）
//
//		SetFlag(TF_MENU_SELECT,0)
//	}


//-----------------------------------------------------------------------------------------------------------
//ノード・村施設設定

	CallFunc("rng:newInterceptControl")
	
	if(!FLAG[TF_MP1202_NOW])	//mp1201にいるとき
	{
		MapHide( "mp1202_all" , 0 )	//mp1202を不可視
		MapHide( "mp1201_all" , 1 )	//mp1201を可視

		MapSetProp("mp1201_a",MNP_GROUND)	//屋外のアタリをON
		MapDelProp("mp1201_b",MNP_GROUND)	//屋内のアタリをOFF
		//MapHide( "mp1201_a" , 1 )	
		//MapHide( "mp1201_b" , 0 )	

		EntryOn( 01 , 1 )	//mp1202→mp1201エントリーをON
		EntryOn( 04 , 0 )	//mp1202→mp1201エントリーをOFF

		MapHide( "BG2_groundfog_SW2" , 0 )	//遠景の板フォグを消す
		MapHide( "norosi" , 0 )				//◆村仕様次第で変更の可能性アリ
		MapHide( "skyfog2" , 0 )			//濃霧非表示
		MapHide( "memo" , 0 )				//名無しのメッセージ
		MapHide( "que01" , 0 )				//中央焚火の魚料理(サハドの親愛イベント)
		MapHide( "que03" , 0 )				//崖のベンチ(ドギの親愛イベント)
		MapHide( "ground_EV" , 0 )			//高台用の高解像度地面
		MapHide( "EVENT_hiiro" , 0 )		//鍛冶場ヒイロカネ
		MapHide( "boat_sizai1", 0 )			//クエスト(QS_221)加工済み資材
		MapHide( "boat_sizai2", 0 )			//クエスト(QS_221)加工前木材
		MapHide( "EVENT_ED", 0 )			//脱出時の積荷（エピローグ）
		MapHide( "EVENT_kadan", 0)			//防衛柵と周辺の花壇
		MapHide( "sail", 0)					//脱出船（エピローグ）
		MapHide( "barel", 0)				//脱出船（エピローグ）

		CallFunc("mp1201:init_wishtree")	// 願いの木ノード制御
		CallFunc("mp1201:init_camp_lv")		// 漂流村の発展設
		CallFunc("mp1201:init_farm")		// 農場制御

		/////////////////////////////////////////
		//環境SE
		/////////////////////////////////////////
		// ここは mp1201
		// 焚き火などのオブジェクト系SEはここでは未指定
		SoundEfx(SEFX_HILL,1000)		//mp1201のデフォルト

		SetEnvSEPlayState(1201001,1)	//2D
		SetEnvSEPlayState(1201002,1)	//2D
		SetEnvSEPlayState(1201003,1)	//2D

		SetEnvSEPlayState(1201101,1)	//EVBOX 海岸

		SetEnvSEPlayState(1201301,1)	//PS4から追加 EVBOX 波打ち際
		SetEnvSEPlayState(1201302,1)	//PS4から追加 EVBOX 奥の川

		// mp1202 はオフる
		SetEnvSEPlayState(1202001,0)	// 2D

		SetEnvSEPlayState(1202201,0)	// EVBOX 川
		SetEnvSEPlayState(1202202,0)	// POINT mp1201 側の出口付近
		SetEnvSEPlayState(1202203,0)	// POINT mp1201 側の出口付近

		////////////////////////////////////////
		//釣り制御

		SetFlag(SF_DISABLE_FISHING,0)			//釣りができる
		MapAnime("WL_farm","on")				//農場釣り場ON

		if( FLAG[SF_EVENT_ON] ){

			if( FLAG[GF_05MP6330_LOOK_MONOLITH] && !FLAG[GF_05MP1201_GOTO_GHOSTHIP] ){		//幽霊船濃霧
				
				SetFlag(GF_05MP1201_INTO_LOOKOUT,1)
				SetFlag(GF_05MP1201_UP_LOOKOUT,1)
				SetFlag(GF_05MP1201_GOTO_GHOSTHIP,1)
				SetFlag(GF_05MP1201_NOTICE_MIST,1)
				if(!FLAG[GF_05MP1201_INTO_LOOKOUT])		//霧消す用
				{
					MapHide( "skyfog2" , 1 )		//濃霧表示する
					MapHide( "BG2_sky1" , 0 )		//元の空非表示
					MapHide( "BG2_sky2" , 0 )		//元の空非表示

					SetFog(FOG_BOTH, 0x00828c9e, 0.0f, 120.0f , 2.0f, 0.3f, 0.9f, FOGPARAM_MAP_DEFAULT, FOGPARAM_MAP_DEFAULT, 0)
					SetFogBack(FOG_BOTH, 0x00939aa0, 200.0f, 1000.0f , 1.0f , 0.7f , 0.9f , FOGPARAM_MAP_DEFAULT, FOGPARAM_MAP_DEFAULT, 0 )
					SetMapLightColor( 1.0f, 1.0f, 1.0f, 1.0f, 0.8f )
				}
			}
	//		if (FLAG[GF_02MP1305_CALL_PARO]){		// パロの緊急連絡（迎撃戦）
	//			MapHide("gate_Lv0" , 1)	//初回柵表示
	//			MapHide("gate_Lv1" , 0)	//強化柵を非表示
	//		}
			if (FLAG[GF_02MP1202_GET_CLOTHES] && !FLAG[GF_02MP1201_TAKE_BREAKFAST]){
				// 第二部冒頭でドギが火の準備をするまでは焚き火非表示
				//MapAnime( "fire_alpha", off )	
				SetEnvSEPlayState(1201201, 0)
				MapHide( "fire_alpha", 0 )
			}

			if(FLAG[GF_QS303_QUESTEVENT] && !FLAG[GF_QS303_QUESTCLEAR])		//カトリーン精錬中にヒイロカネを出す
			{
				MapHide( "EVENT_hiiro" , 1 )		//鍛冶場ヒイロカネ
			}
			//バルバロスの墓のお守り
			if (FLAG[GF_QUEST_502] < QUEST_SUCCESS)	// 【QS502】航海のお守り（クイナ）　クエストを未達成
			{
				MapHide("que02", 0)
			}

			//ショップＬＰ
			if( FLAG[GF_02MP1201_TAKE_BREAKFAST] && !FLAG[GF_07MP1202_AWAKE_ADOL]){		// 料理
				SetChrPos( "LP_cook",27.20f	-1421.82f	9.83f)
				SetChrPos( "TALKPT_LP_cook",27.20f	-1421.82f	9.83f)
			}
			
			if( FLAG[GF_02MP1201_TEST_SMITH] && !FLAG[GF_02MP1201_JOIN_KATRIN]){		// 鍛冶
				SetChrPos("LP_smith",-5.10f,-1419.42f,15.55f)
			}
			if( FLAG[GF_02MP1201_TEST_TRADE] && !FLAG[GF_02MP1119_JOIN_DINA]){		// トレード
				SetChrPos("LP_trade",12.62f,-1419.23f,10.58f)
				//SetChrWork( "LP_trade" , CWK_CHECKRADIUS , 3.0f )		// 範囲

			}
			if( FLAG[GF_02MP1201_TEST_DRUG] && !FLAG[DF_JOIN_LICHT]) //( FLAG[GF_02MP1201_TEST_DRUG] && !FLAG[GF_02MP1307_JOIN_KIERGAARD] || 		// 調薬
			{	                                                     //FLAG[GF_01MP1201_DRUG ] && !FLAG[GF_02MP1307_JOIN_KIERGAARD]){
				SetChrPos("LP_drug",18.56f,-1431.00f,10.61f)
			}
			if( FLAG[GF_02MP1101_LOOK_WAIE] && !FLAG[GF_03MP1202_AWAKE_ADOL]) {		// 調薬２
				SetChrPos("LP_drug",18.56f,-1431.00f,12.11f)
			}

			//クエスト掲示板
			if( FLAG[GF_02MP1201_INFO_QUEST]){		// クエスト掲示板
				SetChrPos("LP_bbs",32.01f, -1410.88f, 11.35f)
			}
			if( FLAG[GF_02MP1202_GET_CLOTHES] && !FLAG[GF_02MP1201_INFO_QUEST] )	// ラクシャから探索服をもらう～！依頼の説明を受けた
			{
				SetChrPos("LP_1201_bbs",32.01f,-1410.88f,11.35f)	//【ＬＰ：クエスト掲示板（クエストチュートリアル前）】
			}
		}
	}
	else						//mp1202にいるとき
	{
		MapHide( "mp1202_all" , 1 )	//mp1202を可視
		MapHide( "mp1201_all" , 0 )	//mp1201を不可視

		MapDelProp("mp1201_a",MNP_GROUND)	//屋外のアタリをOFF
		MapSetProp("mp1201_b",MNP_GROUND)	//屋内のアタリをON
		//MapHide( "mp1201_a" , 0 )	
		//MapHide( "mp1201_b" , 1 )	

		EntryOn( 01 , 0 )	//mp1202→mp1201エントリーをOFF
		EntryOn( 04 , 1 )	//mp1202→mp1201エントリーをON

		//mp1202側ノード
		MapHide( "skyfog2" , 0 )			//濃霧非表示
		MapHide( "map" , 0 )				//海図を消す
		CallFunc("mp1201:init_camp_lv_b")		// 漂流村の発展設定：mp1202

		MapHide("que04_monoris_L", 0)		//クエスト：モノリス片_左
		MapHide("que04_monoris_full", 0)	//クエスト：モノリス片_左右
		MapHide("locator_mono", 0)			//クエスト：情報表示エフェクト

		MapHide("que03_food1", 0)			//クエスト：美味なる食事の料理
		MapHide("que03_food2", 0)			//クエスト：美味なる食事の料理	焼き魚(質素)
		//MapHide("que03_food30", 0)		//クエスト：美味なる食事の料理
		MapHide("que03_food3", 0)			//クエスト：ムニエル(豪華)です。皿込みです。
		//MapHide("que03_food31", 0)		//クエスト：つまみと焼き魚用の皿です
		MapHide("que03_sara", 0)			//クエスト：つまみと焼き魚用の皿です
		
		MapHide("obj_que01", 0)				//クエスト：アリスン椅子
		MapHide("obj_que01b", 0)			//クエスト：アリスン椅子
		MapAnime("obj_que01b", "off")		//クエスト：アリスン椅子
		MapHide("obj_que01_flower", 0)		//クエスト：アリスン紫鈴草の花瓶
		MapHide("bed2_blanketB", 0)			//クエスト：人の膨らみあり
		//MapHide("bed2_blanketA", 0)			//クエスト：膨らみ無し	

		MapHide("obj_que02", 0)				//クエスト：ラクシャ机の上の書類

		MapHide("obj_que06", 0)			//親愛：アリスン・エド
		MapHide("obj_que05", 0)			//親愛：タナトス

		MapHide(BG2_sky1,1)	//昼用の空をON
		MapHide(BG2_sky2,1)	//昼用の空をON
		MapHide(BG2_sky_t3,0)	//昼用の空をON

		/////////////////////////////////////////
		//環境SE
		/////////////////////////////////////////
		// ここは mp1202
		SoundEfx(SEFX_EV_CAVE_S,1000)		// mp1202のデフォルト

		SetEnvSEPlayState(1202001,1)	// 2D

		SetEnvSEPlayState(1202201,1)	// EVBOX 川
		SetEnvSEPlayState(1202202,1)	// POINT mp1201 側の出口付近
		SetEnvSEPlayState(1202203,1)	// POINT mp1201 側の出口付近

		// mp1201 はオフる
		// 焚き火などのオブジェクト系SEはここでは未指定
		SetEnvSEPlayState(1201001,0)	// 2D
		SetEnvSEPlayState(1201002,0)	// 2D
		SetEnvSEPlayState(1201003,0)	// 2D

		SetEnvSEPlayState(1201101,0)	// EVBOX 海岸

		SetEnvSEPlayState(1201301,0)	//PS4から追加 EVBOX 波打ち際
		SetEnvSEPlayState(1201302,0)	//PS4から追加 EVBOX 奥の川

		////////////////////////////////////////
		//釣り制御

		SetFlag(SF_DISABLE_FISHING,1)		//釣りができない
		MapAnime("WL_farm","off")			//農場釣り場OFF
		
		if (FLAG[SF_EVENT_ON])
		{
			//幽霊船濃霧
			if (FLAG[GF_05MP6330_LOOK_MONOLITH] && !FLAG[GF_NPC_5_03_GOTO_GHOSTHIP]){
				MapHide("skyfog2", 1)		//濃霧表示する
				MapHide("BG2_sky1", 0)		//元の空非表示
				MapHide("BG2_sky2", 0)		//元の空非表示

				SetFog(FOG_BOTH,0x00828c9e, 0.0f, 120.0f, 2.0f, 0.3f, 0.9f, FOGPARAM_MAP_DEFAULT, FOGPARAM_MAP_DEFAULT, 0)
				SetFogBack(FOG_BOTH,0x00939aa0, 200.0f, 1000.0f, 1.0f, 0.7f, 0.9f, FOGPARAM_MAP_DEFAULT, FOGPARAM_MAP_DEFAULT, 0)
				SetMapLightColor(1.0f, 1.0f, 1.0f, 1.0f, 0.8f)
			}

			//ショップＬＰ
			if ((FLAG[GF_QS510_LOOK_SUBEV] || FLAG[GF_NPC_5_03_GOTO_GHOSTHIP]) && //【QS510】▼サブイベント・アリスンが倒れる を見た or ▼第五部③幽霊船を調べに向かう
				//!FLAG[GF_NPC_5_03_AFTER_INTERCEPT9] &&	//☆第五部Ｆ迎撃戦⑨を済ませた
				!FLAG[GF_NPC_5_04_GOTO_HOLLOW])			//▼第五部④大空洞へ向かう
			{
				//SetChrPos("LP_QS_510_Shop", 0.25f, -1381.50f, 10.90f)	//【QS510】アリスンがいない時のショップＬＰ
				//SetChrWork("LP_QS_510_Shop", CWK_CHECKRADIUS, 1.5f)		// 範囲

			// クエスト：アリスン用ベッドの布団
				//MapHide("bed2_blanketA", 0)		//膨らみ無し		
				//MapHide("bed2_blanketB", 1)		//人の膨らみあり
			}

			// クエスト：紫鈴草の花瓶
			if (FLAG[GF_QUEST_510] >= QUEST_SUCCESS){
				MapHide("obj_que01_flower", 1)	//花は永続する
			}

			//クエスト：ムニエル(豪華)です。皿込みです。
			if (!FLAG[GF_NPC_2_11_AFTER_INTERCEPT3] && !FLAG[GF_NPC_2_12_HEAR_SHOUT]){
				if (FLAG[GF_QUEST_231] >= QUEST_SUCCESS){
					MapHide("que03_food3", 1)
				}
			}

			//リコッタのティーセットのノード切り替え
			if( !FLAG[GF_NPC_5_02_GOTO_BAHA] )	// ▼第五部②バハの塔に向かう
			{
				//リコッタ参入前 リコッタ参入後
				//teaset　を非表示 ⇒ 表示
				MapHide("teaset", 0)	//ティーポット
			}
			else
			{
				MapHide("teaset", 1)	//ティーポット
			}

			//水音の洞窟エントリー制御
			if( FLAG[GF_02MP1202_GET_CLOTHES] ){	// ◆集落レベルの仕様次第で変更アリ
				//フェンスON
				MapAnime( "fence_EV" , "on" )

				SetChrPos("LP_fence",-6.28f,-1390.87f,11.57f)
				EntryOn( 01 , 0 )//エントリーオフ

				//フェンスLP範囲
				SetChrWork( LP_fence , CWK_CHECKRADIUS , 0.87f )
			}
		}
	}



//-----------------------------------------------------------------------------------------------------------
// イベントエリア・イベントＬＰ制御

	if(!FLAG[TF_MP1202_NOW])	//mp1201にいるとき
	{
		EventAreaEnable( "entry_1201to1202" , 1 )	//mp1202へのエントリーをON
		EventAreaEnable( "entry_1202to1201" , 0 )
	}
	else
	{
		EventAreaEnable( "entry_1201to1202" , 0 )
		EventAreaEnable( "entry_1202to1201" , 1 )	//mp1201へのエントリーをON
	}

	if (FLAG[GF_02MP1202_GET_CLOTHES]){		// 水晶石の切り替え
		// 第二部冒頭でドギが「漂流村」という名称を使って以降は、「漂流村」名称のポイントに切り替える
		SetChrPos("chkpt", -100000.0f, 0.0f, 0.0f)
		SetChrPos("chkpt2", 40.91f, -1420.22f, 10.99f)
		SetPlaceName(MN_T_VILLAGE_MP1201_2)
	}

	EventAreaEnable( "evb2_M01S050" , 0 )
	EventAreaEnable( "evb2_Oka" , 0 )
	EventAreaEnable( "evb2_Kaigan" , 0 )
	EventAreaEnable( "evc_M02S021" , 0 )		//釣りチュートリアル
	EventAreaEnable( "evb2_M02S452" , 0 )
//	EventAreaEnable( "evb2_M02S590", 0)
	EventAreaEnable( "evb2_S003" , 0 )		//【ストッパー：拠点から出れない】
	EventAreaEnable( "evb2_S004" , 0 )		//【ストッパー：屋内に入れない】
//	EventAreaEnable( "evb2_S005" , 0 )
//	EventAreaEnable( "evb2_S006" , 0 )
	EventAreaEnable( "evb2_M03S050" , 0 )
	EventAreaEnable( "evb2_M03S060" , 0 )
//	EventAreaEnable( "evc_M05S141" , 0 )
	EventAreaEnable( "evb2_M05S310" , 0 )		//高台でダーナと話す
	EventAreaEnable( "evb2_M07S000" , 0 )
	EventAreaEnable( "evb2_Tuto_Barbaross" , 0 )
	EventAreaEnable( "evc_SubEV_Help_Present" , 0 )
	EventAreaEnable( "Speedrun_Rex_MeetA" , 0 )	//	やりこみ魚渡し：リコッタとハシビロコウの遭遇イベント 外に出ようとした場合
	EventAreaEnable( "Speedrun_Rex_MeetB" , 0 )	//	やりこみ魚渡し：リコッタとハシビロコウの遭遇イベント ハシビロコウたちに近づいた場合
	EventAreaEnable( "ST_1201_TutoA" , 0 )		// 【ストッパー：武器練成チュートリアル中】Ａ
	EventAreaEnable( "ST_1201_TutoB" , 0 )		// 【ストッパー：武器練成チュートリアル中】Ｂ
	EventAreaEnable( "ST_1201_toHall" , 0 )		// 【ストッパー：屋内方面⇒集会所に行けない】
	EventAreaEnable( "ST_1201_toSlopel" , 0 )	// 【ストッパー：坂上⇒集会所に行けない】
	EventAreaEnable( "ST_1201_Beach" , 0 )		// 【ストッパー：浜辺マップに行けない】
	EventAreaEnable( "ST_1201_Hill" , 0 )		// 【ストッパー：丘マップに行けない】
	EventAreaEnable( "ST_1201_Upland" , 0 )		// 【ストッパー：集会所マップの高台方面に行けない】
	EventAreaEnable("ST_1204_Fence", 0)		//【ストッパー：迎撃戦マップ・丘に入れない】

	EventAreaEnable("ST_1203_Fence", 0)		//【ストッパー：迎撃戦マップ・丘に入れない】
	EventAreaEnable("ST_1203_Fishing", 0)	//【ストッパー：釣りチュートリアル中】
	SetFishingAreaState( FISH_AREA_MP1203_TUTORIAL, FISH_AREASTATE_DISABLED )	//チュートリアル漁場 off

	EventAreaEnable( "SubEV_05_Follow_TalkA" , 0 )	//	▼エドとアリスンのフォロー会話	外に出ようとした場合
	EventAreaEnable( "SubEV_05_Follow_TalkB" , 0 )	//	▼エドとアリスンのフォロー会話	休息所に入ろうとした場合
	EventAreaEnable( "SubEV_05_Follow_Talk" , 0 )	//	▼エドとアリスンのフォロー会話	エドたちに近づいた場合

	EventAreaEnable( "evb2_QS_510_Start" , 0 )

	if( FLAG[SF_EVENT_ON] ){
		//漂流物制御------------------------------------------------
		CallFunc("mp1201:RandBoxInit")	//漂流物の初期化

		if( !FLAG[GF_01MP1201_CHECK_STONE]) { //FLAG[GF_01MP1201_IN_BASE] && !FLAG[GF_01MP1201_MEET_BARBAROSS] ){
			EventAreaEnable( "evb2_S003" , 1 )		//【ストッパー：拠点から出れない】
			
			if( !FLAG[GF_01MP1201_CHECK_STONE] ){
				SetChrPos("chkpt_dummy",40.91f,-1420.22f,10.99f,48.0f)
				SetChrPos("chkpt",-100000.00f,0.00f,0.00f,0)
			}
			if( !FLAG[GF_01MP1201_TALK_LAXIA] ){
				EventAreaEnable( "evb2_M01S050" , 1 )
			}
			if( !FLAG[GF_01MP1201_LOOK_MAN] ){
				EntryOn(01,0)	//洞窟エントリーOFF
				EventAreaEnable( "evb2_S004" , 1 )		//【ストッパー：屋内に入れない】
			}
			if( !FLAG[GF_01MP1201_LOOK_MAN] && !FLAG[GF_SUBEV_1201_CHECK_RIVER] ){
				SetChrPos("SubEV_Check_River",-46.25f	-1397.56f	25.40f)
				SetChrPos("SubEV_Check_River_sub",-51.37f	-1396.57f	29.25f)
				SetChrWork("SubEV_Check_River_sub",CWK_CHECKRADIUS,18.0f)
			}
		}
		if( FLAG[GF_02MP1201_TALK_DOGISAHAD] && !FLAG[GF_02MP1201_TAKE_BREAKFAST] ){	//第二部冒頭：施設チュートリアル

			if(!FLAG[GF_02MP1203_START_FISHING] ){
				//EventCue("mp1201:EV_M02S021")
				//EventAreaEnable( "evc_M02S021" , 1 )		//釣りチュートリアル
			}
			if( !FLAG[GF_02MP1201_TEST_SMITH] ){
				SetChrPos("LP_M02S023",-5.10f,-1419.42f,15.55f)
			}
			if( !FLAG[GF_02MP1201_TEST_TRADE] ){
				SetChrPos("LP_M02S024",10.62f,-1419.23f,10.58f)
			}
			if( !FLAG[GF_01MP1201_DRUG] && !FLAG[GF_02MP1201_TEST_DRUG] ){
				SetChrPos("LP_M02S025",18.56f,-1431.00f,10.61f)
			}
		}
		if( FLAG[GF_02MP1202_GET_CLOTHES] && !FLAG[GF_02MP1201_INFO_QUEST] ){
			EventAreaEnable( "evb2_S003" , 1 )		//【ストッパー：拠点から出れない】
		}
		if( FLAG[GF_02MP1201_JOIN_ALISON] && !FLAG[GF_02MP1202_OPEN_DRESS] ){
			EventAreaEnable( "evb2_S003" , 1 )		//【ストッパー：拠点から出れない】
		}
		if( FLAG[GF_02MP1201_TAKE_BREAKFAST] && !FLAG[GF_02MP1201_INFO_QUEST] ){
			EventAreaEnable( "evb2_Oka" , 1 )
		}
		if( FLAG[GF_02MP1201_BEFORE_INTERCEPT] && !FLAG[GF_02MP1201_AFTER_INTERCEPT] ){
			//EventAreaEnable( "evb2_Kaigan" , 1 )
		}
		if( FLAG[GF_02MP1202_HEAR_SHOUT] && !FLAG[GF_02MP1201_BEFORE_INTERCEPT2] ){			// カーラン卿が襲われた
			EventAreaEnable( "evb2_M02S452" , 1 )
			EventAreaEnable( "evb2_S003" , 1 )		//【ストッパー：拠点から出れない】
			//EventCue("mp1201:EV_M02S452")

		}
		if (FLAG[GF_TBOX_DUMMY072] && !FLAG[GF_03MP1204_VISIT_GRAVE]){			// 墓前でラクシャと話す
			//EventAreaEnable("evb2_M03S060", 1)
		}
		if( FLAG[GF_02MP1201_LOST_CURRAN] && !FLAG[GF_02MP1201_LOOK_CURRAN] ){
			EventAreaEnable( "evb2_Kaigan" , 1 )
			EventAreaEnable( "evb2_S003" , 1 )		//【ストッパー：拠点から出れない】
		}
		if( FLAG[GF_02MP1201_START_HEARING] && !FLAG[GF_02MP1201_LOOK_MAN] ){
			EventAreaEnable( "evb2_S003" , 1 )		//【ストッパー：拠点から出れない】
		}
		if( FLAG[GF_02MP1201_UNMASK_NEMO] && !FLAG[GF_02MP1201_CHASE_KIERGAARD] ){
			EventAreaEnable( "evb2_Oka" , 1 )
			EventAreaEnable( "evb2_S003" , 1 )		//【ストッパー：拠点から出れない】
		}
//		if (FLAG[GF_02MP1201_START_HEARING] && !FLAG[GF_02MP1201_LOOK_MAN]){
//				EventAreaEnable("evb2_M02S590", 1)		//サハドが人影を発見する
//			}
//		}
		//if( FLAG[GF_02MP1201_JOIN_KATRIN] && !FLAG[GF_02MP1201_TUTO_QS220] )			// 【QS220】見張り台の建設（バルバロス）初期状態		
		//{// カトリーンのチュートリアルイベント後 && 「▽バルバロスが通りかかり必須クエスト開始」前
		//	EventAreaEnable( "evb2_Tuto_Barbaross" , 0 )
		//}
		if( FLAG[GF_03MP1202_AWAKE_ADOL] && !FLAG[GF_03MP1201_GOTO_GENSD] ){
			EventAreaEnable( "evb2_S003" , 1 )		//【ストッパー：拠点から出れない】
		}
		if( FLAG[GF_TBOX_DUMMY061] && !FLAG[GF_TBOX_DUMMY072] ){				//クイナとぶつかるアドル
			EventAreaEnable( "evb2_M03S050" , 1 )
		}
		if( FLAG[GF_TBOX_DUMMY072] && !FLAG[GF_HELP_A41] ) {
			// ▼[M03S050][クイナとぶつかるアドル] && ▽チュートリアル：プレゼントイベント
			EventAreaEnable( "evc_SubEV_Help_Present" , 1 )
		}
		//if( FLAG[GF_TBOX_DUMMY072] && !FLAG[GF_03MP1201_VISIT_GRAVE] ){				//墓前でラクシャと話す(mp1204移行)
		//	EventAreaEnable( "evb2_M03S060" , 1 )
		//}
//		if (FLAG[GF_05MP1201_NOTICE_MIST] && !FLAG[GF_05MP1201_UP_LOOKOUT]) {
			// ▼[M05S140][漂流村の騒がしさに気づく]	&& ▽[M05S141][見張り台を登ることにする]
//			EventAreaEnable( "evc_M05S141" , 1 )
//		}
		if (FLAG[GF_05MP1201_NOTICE_MIST] && !FLAG[GF_05MP1201_GOTO_GHOSTHIP]){
			SetChrPos("LP_lookout", 19.67f, -1426.31f, 19.29f)
			SetChrPos("LP_lookoutB", 22.68f, -1424.39f, 11.83f)
		}
		if (FLAG[GF_05MP1201_UP_LOOKOUT] && !FLAG[GF_05MP1201_GOTO_GHOSTHIP]) {
			EventAreaEnable( "evb2_S003" , 1 )		//【ストッパー：拠点から出れない】
			EventAreaEnable( "evb2_S004" , 1 )		//【ストッパー：屋内に入れない】
		}
		if (FLAG[GF_05MP1201_HOLD_PARTY] && !FLAG[GF_TBOX_DUMMY078]) {			// [M05S300][漂流村で決起会が催される]
			EventAreaEnable( "evb2_S003" , 1 )		//【ストッパー：拠点から出れない】
		}
		if( FLAG[GF_07MP1202_AWAKE_ADOL] && !FLAG[GF_07MP1201_TALK_ALL] ){
			EventAreaEnable( "evb2_S003" , 1 )		//【ストッパー：拠点から出れない】
		}
		if (FLAG[GF_07MP1201_CHECK_VILLAGE]){		//ＥＤⅢ セイレン島を脱出する
			EventAreaEnable( "evb2_S003" , 1 )		//【ストッパー：拠点から出れない】
		}
		if (FLAG[GF_07MP1202_AWAKE_ADOL]){		 //[M07S000][漂流村でアドルが目を覚ます]
//			SetFlag(SF_OVERWRITENOTICE,1)	//セーブ使用とすると警告メッセージを表示			5/23カット
			if (FLAG[GF_07MP1201_TALK_ALL]){		 //漂流村を回ってみる後（全員と話して北部に向かうことにした）
				EventAreaEnable( "evb2_M07S000" , 1 )
			}
		}
		//!FLAG[GF_NPC_3_04_ALARM_INTERCEPT] )	//★第三部④迎撃戦⑥が発生
		//{
		//if( !FLAG[GF_SPEEDRUN_FISH_ENCOUNTER] )		// リコッタとハシビロコウの遭遇イベント を見た
		//}
		if( FLAG[SF_RICOTTA_JOINOK] && !FLAG[GF_SPEEDRUN_FISH_ENCOUNTER] )		//▼第三部③リコッタが仲間になった
		{
			EventAreaEnable( "Speedrun_Rex_MeetA" , 1 )	//	やりこみ魚渡し：リコッタとハシビロコウの遭遇イベント 外に出ようとした場合
			EventAreaEnable( "Speedrun_Rex_MeetB" , 1 )	//	やりこみ魚渡し：リコッタとハシビロコウの遭遇イベント ハシビロコウたちに近づいた場合
		}
		if( FLAG[GF_TBOX_DUMMY077] &&		//▼第五部④大空洞へ向かう
			!FLAG[GF_NPC_5_05_BEFORE_INTERCEPT10] )	//☆第五部⑤迎撃戦⑩（対オケアノス）が発生
		{
			if( FLAG[GF_QUEST_510] != QUEST_SUCCESS &&		// 【QS510】故郷の花	クエストを達成していない
				!FLAG[GF_SUBEV_MP1201_FOLLOW_TALK] )		// ▼エドとアリスンのフォロー会話 を見た
			{
				EventAreaEnable( "SubEV_05_Follow_TalkA" , 1 )	//	▼エドとアリスンのフォロー会話	外に出ようとした場合
				EventAreaEnable( "SubEV_05_Follow_TalkB" , 1 )	//	▼エドとアリスンのフォロー会話	休息所に入ろうとした場合
				EventAreaEnable( "SubEV_05_Follow_Talk" , 1 )	//	▼エドとアリスンのフォロー会話	エドたちに近づいた場合
			}
		}
		if( FLAG[GF_05MP1201_HOLD_PARTY] &&		//[M05S300][漂流村で決起会が催される
			!FLAG[GF_TBOX_DUMMY078] )	//[M05S360][王家の谷へ向かうことにする
		{
				EventAreaEnable( "evb2_M05S310" , 1 )		//高台でダーナと話す
		}
		// ストッパー制御
		if( FLAG[GF_02MP1201_JOIN_KATRIN] &&	// カトリーンが合流した（武器の強化が可能になる２）
			!FLAG[GF_02MP1201_TEST_RENSEI] )	// 武器の強化した
		{
			EventAreaEnable( "ST_1201_TutoA" , 1 )	// 【ストッパー：武器練成チュートリアル中】Ａ
			EventAreaEnable( "ST_1201_TutoB" , 1 )	// 【ストッパー：武器練成チュートリアル中】Ｂ
		}
		if( FLAG[GF_02MP1202_HEAR_SHOUT] &&			// 叫び声を聞いた
			!FLAG[GF_02MP1201_BEFORE_INTERCEPT2] )	// 迎撃戦の準備をはじめた
		{
			EventAreaEnable( "ST_1201_toHall" , 1 )		// 【ストッパー：屋内方面⇒集会所に行けない】
			EventAreaEnable( "ST_1201_toSlopel" , 1 )	// 【ストッパー：坂上⇒集会所に行けない】
			//◆未入力：坂の部分に空気アタリは未入力です
		}
		if( FLAG[GF_05MP1201_UP_LOOKOUT] &&			// 見張り台を登ることにする
			!FLAG[GF_05MP1201_GOTO_GHOSTHIP] )		// 幽霊船を調査することになる
		{
			EventAreaEnable( "ST_1201_Beach" , 1 )		// 【ストッパー：浜辺マップに行けない】
			EventAreaEnable( "ST_1201_Hill" , 1 )		// 【ストッパー：丘マップに行けない】
			EventAreaEnable( "ST_1201_Upland" , 1 )		// 【ストッパー：集会所マップの高台方面に行けない】
		}
		if( !FLAG[GF_02MP1305_CALL_PARO] )	// パロから緊急連絡をうけた
		{
			EventAreaEnable("ST_1204_Fence", 1)	//【ストッパー：迎撃戦マップ・丘に入れない】
		}
		if( FLAG[GF_02MP1203_START_FISHING] &&	// 朝食用の魚を釣りに行く
			!FLAG[GF_02MP1203_GET_FISH] )		// 朝食用の魚を釣った
		{
			EventAreaEnable("ST_1203_Fishing", 1)	//【ストッパー：釣りチュートリアル中】
		}

		// ＬＰ制御
		if(FLAG[GF_05MP1201_NOTICE_MIST] && !FLAG[GF_05MP1201_GOTO_GHOSTHIP])
		{
			SetChrPos("LP_1201_LadderL",-100000.00f,0.00f,0.00f)	// 【ＬＰ：見張り台下段の梯子】
			SetChrPos("LP_1201_LadderM",-100000.00f,0.00f,0.00f)	// 【ＬＰ：見張り台中段の梯子】
			SetChrPos("LP_1201_LadderH",-100000.00f,0.00f,0.00f)	// 【ＬＰ：見張り台最上段の梯子】
		}
		else if( FLAG[GF_SUBEV_MAKE_LOOKOUT] )		// 見張り台を作成した
		{
			SetChrPos("LP_1201_LadderL",22.68f,-1424.39f,11.83f)	// 【ＬＰ：見張り台下段の梯子】
			SetChrPos("LP_1201_LadderM",19.67f,-1426.31f,19.29f)	// 【ＬＰ：見張り台中段の梯子】
			SetChrPos("LP_1201_LadderH",18.24f,-1427.25f,30.34f)	// 【ＬＰ：見張り台最上段の梯子】
		}
		else
		{
			SetChrPos("LP_1201_LadderL",-100000.00f,0.00f,0.00f)	// 【ＬＰ：見張り台下段の梯子】
			SetChrPos("LP_1201_LadderM",-100000.00f,0.00f,0.00f)	// 【ＬＰ：見張り台中段の梯子】
			SetChrPos("LP_1201_LadderH",-100000.00f,0.00f,0.00f)	// 【ＬＰ：見張り台最上段の梯子】
		}
		
		if( FLAG[GF_02MP1307_JOIN_KIERGAARD])	//カーランとキルゴールに出会う
		{
			SetChrPos("LP_bed",20.998f , -1432.665f , 10.271f )		//ベッド休憩LP設置
		}
		if( !FLAG[GF_03MP6410M_HEAR_TREE] )	// ダーナ編①	植樹祭の説明を受けるV
		{
			SetChrPos("LP_1204_Grave",-100000.00f,0.00f,0.00f)	// 【ＬＰ：バルバロスの墓】
		}

		if( FLAG[GF_01MP1201_IN_BASE] && !FLAG[GF_01MP1201_MEET_BARBAROSS] ){
			if( !FLAG[GF_01MP1201_GET_DRIFT] ){
				SetChrPos("tbox",5.80f,	-1507.12f,	0.22f)	//LP
				Turn2("tbox",-34.0f,360.0f,0)
			}
		}
		if (FLAG[GF_02MP1201_LOST_CURRAN] && !FLAG[GF_02MP1201_LOOK_CURRAN]){		//カーラン卿を探す
			SetChrPos("SubEV_Check_Rope",-3.32f,-1521.97f,-1.333f)

			if (FLAG[GF_SUBEV_1203_CHECK_ROPE])
			{
				//EventAreaEnable("evc_M02S520", 1)

				//マップマーカー
				SetMapMarker(SMI_EVENTPT_MAIN, PAGE_MP120x, MARKER_EV_M02S520, 7.43f, -1504.26f, 0.51f, 7.43f, -1504.26f, 0, MN_T_VILLAGE_MP1201,0)	//サハド
			}
		}

		//選択肢付き水晶石の入れ替え判定
		SetChrPos("LP_chkpt",-100000.00f,0.0f,0.0f )		//init再コール用

		if (FLAG[GF_SUBEV_PAST_07_ADD] && !FLAG[GF_NPC_7_01_GOTO_TEM])	//過去編Ⅶ進入　水晶石ON
		{
			SetChrPos("LP_chkpt",40.91f,-1420.22f,10.99f )
		}
		else if (GOTITEMWORK[ICON3D_AC_067] || GOTITEMWORK[ICON3D_AC_068] || GOTITEMWORK[ICON3D_AC_069])	//行動メンバー変更　一度でもメダルを入手していたら
		{
			SetChrPos("LP_chkpt",40.91f,-1420.22f,10.99f )
		}

		// 釣り場制御
		if( FLAG[GF_02MP1202_GET_CLOTHES] && !FLAG[GF_02MP1203_GET_FISH])			// 朝食用の魚を釣りに行く
		{
			//チュートリアルが終わるまでは、チュートリアルのみ on
			SetFishingAreaState( FISH_AREA_MP1203_TUTORIAL, FISH_AREASTATE_ENABLED )	//チュートリアル漁場 on
			SetFishingAreaState( FISH_AREA_MP1203_01, FISH_AREASTATE_DISABLED )	// 通常漁場 off
			SetFishingAreaState( FISH_AREA_MP1203_02, FISH_AREASTATE_DISABLED )	// 通常漁場 off
			SetFishingAreaState( FISH_AREA_MP1203_11, FISH_AREASTATE_DISABLED )	// 通常漁場 off
			SetFishingAreaState( FISH_AREA_MP1203_12, FISH_AREASTATE_DISABLED )	// 通常漁場 off

			SetEventDriven( EED_TYPE_LANDFISH, -1, "mp1201:EV_M02S022")		// 釣ったらイベント起動
		}
		
		if (FLAG[GF_02MP1203_GET_FISH] && !FLAG[GF_NPC_7_01_GOTO_TEM])
		{
			SetFishingAreaState( FISH_AREA_MP1203_01, FISH_AREASTATE_ENABLED )	// 通常漁場 on
			SetFishingAreaState( FISH_AREA_MP1203_02, FISH_AREASTATE_ENABLED )	// 通常漁場 on
			SetFishingAreaState( FISH_AREA_MP1203_11, FISH_AREASTATE_ENABLED )	// 通常漁場 on
			SetFishingAreaState( FISH_AREA_MP1203_12, FISH_AREASTATE_ENABLED )	// 通常漁場 on
		}

		if (FLAG[GF_NPC_7_01_GOTO_TEM])
		{
			SetFishingAreaState(FISH_AREA_MP1203_01, FISH_AREASTATE_DISABLED)	// 通常漁場 off
			SetFishingAreaState(FISH_AREA_MP1203_02, FISH_AREASTATE_DISABLED)	// 通常漁場 off
			SetFishingAreaState(FISH_AREA_MP1203_11, FISH_AREASTATE_DISABLED)	// 通常漁場 off
			SetFishingAreaState(FISH_AREA_MP1203_12, FISH_AREASTATE_DISABLED)	// 通常漁場 off
		}
		
		//mp1202側イベントボックス

		// 【QS510】故郷の花
		if( FLAG[GF_NPC_5_03_GOTO_GHOSTHIP] && !FLAG[GF_TBOX_DUMMY069] &&		//▼第五部③幽霊船を調べに向かう
			FLAG[GF_QUEST_510] == QUEST_NOTHING )
		{
			//▼クエスト開始イベント　　「▼第五部③幽霊船を調べに向かう」に向かうタイミング
			//EventAreaEnable( "evb2_QS_510_Start" , 1 )
		}

		if( FLAG[GF_02MP1202_GET_CLOTHES])	//ラクシャから探索用の服をもらう
		{
			SetChrPos("LP_bed_2",-14.329f , -1358.245f , 10.656f)		//ベッド休憩LP設置
		}
	}

//-----------------------------------------------------------------------------------------------------------
// イベント発生制御		※漂流村に入ったところでイベント起動するタイプは、そのタイミングでレーヤ合流イベントが発生しないようにmp1114を対応してください
	
	if( FLAG[SF_EVENT_ON] ){
		if( FLAG[GF_01MP1101_JOIN_LAXIA] && !FLAG[GF_01MP1201_IN_BASE] ){
			SetFlag( TF_NPC_NOLOAD ,1)	//NpcPosition読み込み判定用
			EventCue("mp1201:EV_M01S040")
			SetFlag( GF_MPxxxx_MAP_NAME_NO_DRAW, 1)		// 地名表示制御
		}
		if( FLAG[GF_01MP1103_JOIN_SAHAD] && !FLAG[GF_01MP1201_JOIN_DOGI]){		// サハドと行動を開始した
			//SetFlag( TF_NPC_NOLOAD ,1)	//NpcPosition読み込み判定用
			//EventCue("mp1201:EV_M02S010_ED")
		}
		if( FLAG[GF_02MP1305_CALL_PARO] && !FLAG[GF_02MP1201_BEFORE_INTERCEPT]){		// 迎撃戦の準備をはじめた
			SetFlag( TF_NPC_NOLOAD ,1)	//NpcPosition読み込み判定用
			EventCue("mp1201:EV_M02S150")
		}
		if( FLAG[GF_02MP1201_START_INTERCEPT] && !FLAG[GF_02MP1201_AFTER_INTERCEPT]){		// 迎撃戦が終わった
			// 迎撃戦終了した
			SetEnvSEPlayState(-1, 0)	//環境SE全停止
			SetFlag( TF_NPC_NOLOAD ,1)	//NpcPosition読み込み判定用
			EventCue("mp1201:EV_M02S170")

			//ファイナルフェーズ突破時にフラグを立てるよう対処したので以下不要
			//if (WORK[WK_ISINTERCEPT])
			//{
			//	// 迎撃戦ゲームオーバーで戻ってきた
			//	SetFlag(GF_02MP1201_START_INTERCEPT, 0)		// フラグ下ろす
			//}
			//else
			//{
			//	// 迎撃戦終了した
			//	SetEnvSEPlayState(-1, 0)	//環境SE全停止
			//	SetFlag( TF_NPC_NOLOAD ,1)	//NpcPosition読み込み判定用
			//	EventCue("mp1201:EV_M02S170")
			//}
		}
		if( FLAG[GF_03MP4202_JOIN_RICOTTA] && !FLAG[GF_03MP1201_VISIT_RICOTTA]){		// リコッタが初めて漂流村へやって来る

			//SetFlag(GF_03MP1201_VISIT_RICOTTA,1)
			//SetFlag( TF_NPC_NOLOAD ,1)	//NpcPosition読み込み判定用
			//EventCue("mp1201:EV_M03S170")
		}
//		if(FLAG[GF_03MP7401_GET_MATERIAL] && !FLAG[GF_03MP1201_ALARM_INTERCEPT]){		//第三部：ヒイロカネの武器が完成する
		if(FLAG[GF_03MP7401_GET_MATERIAL]  && FLAG[GF_02MP1201_JOIN_KATRIN] && !FLAG[GF_QS303_QUESTEVENT]){				//第三部：制圧戦クエスト 

			EventCue("mp1201:EV_M03S231")
		}
		if( FLAG[GF_05MP1213_INTERCEPT_DANA] && !FLAG[GF_05MP1201_JOIN_DANA]){		// ダーナがアドル班に加わる２
			SetEnvSEPlayState(-1, 0)	//環境SE全停止
			SetWork( WK_BGM , BGM_Nothing )
			SetFlag( TF_NPC_NOLOAD ,1)	//NpcPosition読み込み判定用
			EventCue("mp1201:EV_M05S020")
		}
		if (FLAG[GF_05MP6330_LOOK_MONOLITH] && !FLAG[GF_05MP1201_NOTICE_MIST]){		// 漂流村の騒がしさに気づく
			//SetFlag( TF_NPC_NOLOAD ,1)	//NpcPosition読み込み判定用
			//EventCue("mp1201:EV_M05S140")
		}
		if (FLAG[GF_05MP0405_READ_REED] && !FLAG[GF_05MP1202_CHECK_MAP]){		// キャプテン・リードと別れる２
			//SetFlag( TF_NPC_NOLOAD ,1)	//NpcPosition読み込み判定用
			//EventCue("mp1201:EV_M05S180")
		}

		//if(!FLAG[GF_NPC_7_01_GOTO_TEM])		//エピローグでは発生しない
		if(!FLAG[GF_06MPxxxx_6TH_CHAPTER_FINISH])		//エピローグでは発生しない
		{
			//過去編Ⅶ エンドエピソード開放
			if (FLAG[GF_NPC_6_04_GET_MISTILTEINN] && FLAG[GF_SUBEV_PAST_MONOLITH_B5] && !FLAG[GF_SUBEV_PAST_07_ADD]) {
				//SetFlag( GF_SUBEV_PAST_07_ADD ,1)    //カーラン救出後ここに来るが、フラグ設定タイミングによっては二回流れるのを修正 2018.04.24 chen
				//EventCue("mp1201:SubEV_Past_07_Main000") //this will probably be a feature at some point so let's make a note here
															//it would make the most sense to just include all of sanctuary crypt in this 
															//one crystal and keep all other past events removed.
			}
			else if (FLAG[GF_NPC_6_04_GET_MISTILTEINN] && !FLAG[GF_SUBEV_CONTROL3_START]					//ミストルティン入手後
			&& FLAG[GF_CLEAR_CONTROL32] && FLAG[GF_CLEAR_CONTROL34] && FLAG[GF_CLEAR_CONTROL36])	//制圧戦１～６をクリアしている
			{
				//EventCue("mp1201:SubEV_LastCon")
			}
		}

		//アリスンの出産直後の迎撃戦不参加の復帰処理
		if (FLAG[GF_INTERCEPT_LASTSTAGEID] == INTERCEPT_STAGE09)
		{
			//結果に関係なく、復帰させる
			//JoinNPC( NPC_ALISON, JOIN_NPC_JOIN )		// アリスンは、出産直後は不参加だったのを復帰させる
		}

		// 【QS401】新入りはいずこ（レーヤ）
		if( FLAG[GF_QUEST_401] == QUEST_START )
		{
			//浜辺と集会所でピッカードを見ている
			if( FLAG[GF_QS401_LOOK_PICARD_1] && FLAG[GF_QS401_LOOK_PICARD_2] )
			{
				if( !FLAG[GF_QS401_LOOK_PICARD_A] )
				{
					// ▼ピッカード捕獲イベント（屋内Ａ）
					//SetChrPos("LP_QS_401_PICARD_A", -22.10f,-1385.00f,12.42f)
					SetChrPos("LP_QS_401_PICARD_A", -20.77f, -1373.62f, 12.92f)
					SetChrWork( "LP_QS_401_PICARD_A" , CWK_CHECKRADIUS , 1.5f )		// 範囲
				}
				if( !FLAG[GF_QS401_LOOK_PICARD_B] )
				{
					// ▼ピッカード捕獲イベント（屋内Ｂ）男子部屋
					//SetChrPos("LP_QS_401_PICARD_B", -5.69f,-1362.58f,11.64f)
					SetChrPos("LP_QS_401_PICARD_B", -4.53f, -1367.64f, 12.09f)
					SetChrWork( "LP_QS_401_PICARD_B" , CWK_CHECKRADIUS , 1.5f )		// 範囲
				}
			}
			//屋内Ａと屋内Ｂでピッカードを見ている
			LoadChr("ev_QS_401_Picard")

			if( FLAG[GF_QS401_LOOK_PICARD_A] && FLAG[GF_QS401_LOOK_PICARD_B] )
			{
				// ▼ピッカード捕獲イベント（屋内Ｃ）
				SetChrPos("ev_QS_401_Picard",-10.46f,-1382.01f,13.62f)
				Turn("ev_QS_401_Picard",-96.52f,360.0f)
			}
		}




		//セーブ警告
		if (FLAG[GF_07MP1202_AWAKE_ADOL]){		 //[M07S000][漂流村でアドルが目を覚ます]
//			SetFlag(SF_OVERWRITENOTICE,1)	//セーブ使用とすると警告メッセージを表示			5/23カット
		}

//-----------------------------------------------------------------------------------------------------------
//制圧戦で戻ってきた

		//クエストの制圧戦から戻ってきた場合
		if (FLAG[GF_INTERCEPT_LASTSTAGEID] == INTERCEPT_STAGE31 && !FLAG[GF_CLEAR_CONTROL31])	//制圧せよ！　密林地帯　未勝利なら
		{
			if(FLAG[GF_INTERCEPT_LASTRESULT])
			{
					SetFlag(GF_CLEAR_CONTROL31,1)
					//EventCue("mp1201:QS_303_Complete")
			}
		}

		if (FLAG[GF_INTERCEPT_LASTSTAGEID] == INTERCEPT_STAGE32 && !FLAG[GF_CLEAR_CONTROL32])	//制圧せよ！　密林地帯２　未勝利なら
		{
			if(FLAG[GF_INTERCEPT_LASTRESULT])
			{
				SetFlag(GF_CLEAR_CONTROL32,1)
				if (FLAG[GF_NPC_6_04_GET_MISTILTEINN] && !FLAG[GF_SUBEV_CONTROL3_START]					//ミストルティン入手後
				&& FLAG[GF_CLEAR_CONTROL32] && FLAG[GF_CLEAR_CONTROL34] && FLAG[GF_CLEAR_CONTROL36])	//制圧戦１～６をクリアしている
				{
					//EventCue("mp1201:SubEV_LastCon")
				}
			}
		}

		if (FLAG[GF_INTERCEPT_LASTSTAGEID] == INTERCEPT_STAGE33 && !FLAG[GF_CLEAR_CONTROL33])	//制圧せよ！　浸食谷１　未勝利なら
		{
			if(FLAG[GF_INTERCEPT_LASTRESULT])
			{

				SetFlag( GF_QUEST_504, QUEST_SUCCESS )
				SetFlag( GF_QS504_QUESTCLEAR, 1 )			// 【QS504】クリアした
				SetDiaryFlag( DF_QS504_END, 1 )			// 【QS504】

				//Intercept(INTERCEPT_STAGE34, -1)			// 浸食谷２開放

				SetFlag(GF_CLEAR_CONTROL33,1)
				//EventCue("mp1201:Control_Announce")
			}
		}

		if (FLAG[GF_INTERCEPT_LASTSTAGEID] == INTERCEPT_STAGE34 && !FLAG[GF_CLEAR_CONTROL34])	//制圧せよ！　浸食谷２　未勝利なら
		{
			if(FLAG[GF_INTERCEPT_LASTRESULT])
			{
				SetFlag(GF_CLEAR_CONTROL34,1)

				if (FLAG[GF_NPC_6_04_GET_MISTILTEINN] && !FLAG[GF_SUBEV_CONTROL3_START]					//ミストルティン入手後
				&& FLAG[GF_CLEAR_CONTROL32] && FLAG[GF_CLEAR_CONTROL34] && FLAG[GF_CLEAR_CONTROL36])	//制圧戦１～６をクリアしている
				{
					//EventCue("mp1201:SubEV_LastCon")
				}
			}
		}

		if (FLAG[GF_INTERCEPT_LASTSTAGEID] == INTERCEPT_STAGE35 && !FLAG[GF_CLEAR_CONTROL35])	//制圧せよ！　王家の谷１　未勝利なら
		{
			if(FLAG[GF_INTERCEPT_LASTRESULT])
			{
				SetFlag( GF_QUEST_603, QUEST_SUCCESS )
				SetFlag( GF_QS603_QUESTCLEAR, 1 )			// 【QS603】クリアした
				SetDiaryFlag( DF_QS603_END, 1 )			// 【QS603】

				//Intercept(INTERCEPT_STAGE36, -1)			// 王家の谷２開放
				
				SetFlag(GF_CLEAR_CONTROL35,1)
				//EventCue("mp1201:Control_Announce")
			}
		}

		if (FLAG[GF_INTERCEPT_LASTSTAGEID] == INTERCEPT_STAGE36 && !FLAG[GF_CLEAR_CONTROL36])	//制圧せよ！　王家の谷２　未勝利なら
		{
			if(FLAG[GF_INTERCEPT_LASTRESULT])
			{
				SetFlag(GF_CLEAR_CONTROL36,1)

				if (FLAG[GF_NPC_6_04_GET_MISTILTEINN] && !FLAG[GF_SUBEV_CONTROL3_START]					//ミストルティン入手後
				&& FLAG[GF_CLEAR_CONTROL32] && FLAG[GF_CLEAR_CONTROL34] && FLAG[GF_CLEAR_CONTROL36])	//制圧戦１～６をクリアしている
				{
					//EventCue("mp1201:SubEV_LastCon")
				}
			}
		}

		if (FLAG[GF_INTERCEPT_LASTSTAGEID] == INTERCEPT_STAGE37 && !FLAG[GF_CLEAR_CONTROL37])	//制圧せよ！　密林地帯３　未勝利なら
		{
			if(FLAG[GF_INTERCEPT_LASTRESULT])
			{
				SetFlag(GF_CLEAR_CONTROL37,1)
			}
		}

		if (FLAG[GF_INTERCEPT_LASTSTAGEID] == INTERCEPT_STAGE38 && !FLAG[GF_CLEAR_CONTROL38])	//制圧せよ！　浸食谷３　未勝利なら
		{
			if(FLAG[GF_INTERCEPT_LASTRESULT])
			{
				SetFlag(GF_CLEAR_CONTROL38,1)
			}
		}

		if (FLAG[GF_INTERCEPT_LASTSTAGEID] == INTERCEPT_STAGE39 && !FLAG[GF_CLEAR_CONTROL39])	//制圧せよ！　王家の谷３　未勝利なら
		{
			if(FLAG[GF_INTERCEPT_LASTRESULT])
			{
				SetFlag(GF_CLEAR_CONTROL39,1)
			}
		}
		//過去編Ⅶ開放イベントとバッティングするため、制圧戦終了タイミングに判定を仕込む＆上のイベント制御エリアでelse if を使ってどちらかのみ発動する形に

		//制圧戦３　開放
		//if (FLAG[GF_NPC_6_04_GET_MISTILTEINN] && !FLAG[GF_SUBEV_CONTROL3_START]					//ミストルティン入手後
		//&& FLAG[GF_CLEAR_CONTROL32] && FLAG[GF_CLEAR_CONTROL34] && FLAG[GF_CLEAR_CONTROL36])	//制圧戦１～６をクリアしている
		//{
		//	EventCue("mp1201:SubEV_LastCon")
		//}

		//if(FLAG[GF_CLEAR_CONTROL37] && FLAG[GF_CLEAR_CONTROL38] && FLAG[GF_CLEAR_CONTROL39] && !FLAG[GF_SUBEV_CONTROL_ALLCLEAR])		//制圧戦３を全てクリアした（イベント見ていない）
		//{
		//	EventCue("mp1201:SubEV_LastCon_Complete")
		//}

//-----------------------------------------------------------------------------------------------------------
//「果て無き脅威」の追加
		if (FLAG[GF_INTERCEPT_LASTSTAGEID] == INTERCEPT_STAGE21 && !FLAG[GF_06MP1201_AFTER_INTERCEPT21])	//まだ未勝利なら
		{
			if(FLAG[GF_INTERCEPT_LASTRESULT])
			{
				// 迎撃戦終了
				SetFlag(GF_06MP1201_AFTER_INTERCEPT21, 1)		// 迎撃戦21が終了した
			    // 次の迎撃戦を開封
				SetFlag(GF_06MP1201_OCCUR_INTERCEPT22, 1)		// 迎撃戦22が発生した

				EventCue("mp1201:Intercept_Announce")	//【無限迎撃戦の追加アナウンス】

			}
		}
		if (FLAG[GF_INTERCEPT_LASTSTAGEID] == INTERCEPT_STAGE22 && !FLAG[GF_06MP1201_AFTER_INTERCEPT22])	//まだ未勝利なら
		{
			if(FLAG[GF_INTERCEPT_LASTRESULT])
			{
				// 迎撃戦終了
				SetFlag(GF_06MP1201_AFTER_INTERCEPT22, 1)		// 迎撃戦22が終了した
			    // 次の迎撃戦を開封
				SetFlag(GF_06MP1201_OCCUR_INTERCEPT23, 1)		// 迎撃戦23が発生した

				EventCue("mp1201:Intercept_Announce")	//【無限迎撃戦の追加アナウンス】

			}
		}
		if (FLAG[GF_INTERCEPT_LASTSTAGEID] == INTERCEPT_STAGE23 && !FLAG[GF_06MP1201_AFTER_INTERCEPT23])	//まだ未勝利なら
		{
			if(FLAG[GF_INTERCEPT_LASTRESULT])
			{
				// 迎撃戦終了
				SetFlag(GF_06MP1201_AFTER_INTERCEPT23, 1)		// 迎撃戦23が終了した
			    // 次の迎撃戦を開封
				SetFlag(GF_06MP1201_OCCUR_INTERCEPT24, 1)		// 迎撃戦24が発生した

				EventCue("mp1201:Intercept_Announce")	//【無限迎撃戦の追加アナウンス】

			}
		}
		if (FLAG[GF_INTERCEPT_LASTSTAGEID] == INTERCEPT_STAGE24 && !FLAG[GF_06MP1201_AFTER_INTERCEPT24])	//まだ未勝利なら
		{
			if(FLAG[GF_INTERCEPT_LASTRESULT])
			{
				// 迎撃戦終了
				SetFlag(GF_06MP1201_AFTER_INTERCEPT24, 1)		// 迎撃戦24が終了した
			    // 次の迎撃戦を開封
				SetFlag(GF_06MP1201_OCCUR_INTERCEPT25, 1)		// 迎撃戦25が発生した

				EventCue("mp1201:Intercept_Announce")	//【無限迎撃戦の追加アナウンス】

			}
		}
		if (FLAG[GF_INTERCEPT_LASTSTAGEID] == INTERCEPT_STAGE25 && !FLAG[GF_06MP1201_AFTER_INTERCEPT25])	//まだ未勝利なら
		{
			if(FLAG[GF_INTERCEPT_LASTRESULT])
			{
				// 迎撃戦終了
				SetFlag(GF_06MP1201_AFTER_INTERCEPT25, 1)		// 迎撃戦25が終了した
			    // 次の迎撃戦を開封
				SetFlag(GF_06MP1201_OCCUR_INTERCEPT26, 1)		// 迎撃戦26が発生した

				EventCue("mp1201:Intercept_Announce")	//【無限迎撃戦の追加アナウンス】

			}
		}
		if (FLAG[GF_INTERCEPT_LASTSTAGEID] == INTERCEPT_STAGE26 && !FLAG[GF_06MP1201_AFTER_INTERCEPT26])	//まだ未勝利なら
		{
			if(FLAG[GF_INTERCEPT_LASTRESULT])
			{
				// 迎撃戦終了
				SetFlag(GF_06MP1201_AFTER_INTERCEPT26, 1)		// 迎撃戦26が終了した
				
				if (!FLAG[GF_06MP1201_INTERCEPT_ALL_CLEAR])	// 迎撃戦全てクリア（アドル＆ドギのサブイベントを見た）
				{
					EventCue("mp1201:SubEV_INTERCEPT_ALL_CLEAR")
				}
				
			}
		}
		if (FLAG[GF_INTERCEPT_LASTSTAGEID] == INTERCEPT_STAGE27 && !FLAG[GF_SUBEV_LASTINT_CLEAR])	//まだ未勝利なら
		{
			if(FLAG[GF_INTERCEPT_LASTRESULT])
			{
				// 迎撃戦終了
				//SetFlag(GF_SUBEV_LASTINT_CLEAR, 1)		// 迎撃戦27が終了した
				
				if (!FLAG[GF_SUBEV_LASTINT_CLEAR])	// 果てなき脅威・終をクリアした
				{
					EventCue("mp1201:SubEV_LastInt_Complete")
				}
				
			}
		}

		//６部中は再開処理を行う
		if(!FLAG[GF_06MPxxxx_6TH_CHAPTER_FINISH]) {			// 第六部了
			if(FLAG[GF_06MP1201_OCCUR_INTERCEPT21] && !FLAG[GF_06MP1201_AFTER_INTERCEPT21] ){		// 迎撃戦21が終了した？
				//終わっていないので登録
				//Intercept(INTERCEPT_STAGE21, 1)					// 果て無き海からの脅威・序
				//SetFlag(GF_INTERCEPT_NO, INTERCEPT_STAGE21)
			} else if(FLAG[GF_06MP1201_OCCUR_INTERCEPT22] && !FLAG[GF_06MP1201_AFTER_INTERCEPT22] ){		// 迎撃戦22が終了した？
				//終わっていないので登録
				//Intercept(INTERCEPT_STAGE22, 1)					// 果て無き山からの脅威・序
				//SetFlag(GF_INTERCEPT_NO, INTERCEPT_STAGE22)
			} else if(FLAG[GF_06MP1201_OCCUR_INTERCEPT23] && !FLAG[GF_06MP1201_AFTER_INTERCEPT23] ){		// 迎撃戦23が終了した？
				//終わっていないので登録
				//Intercept(INTERCEPT_STAGE23, 1)					// 果て無き海からの脅威・破
				//SetFlag(GF_INTERCEPT_NO, INTERCEPT_STAGE23)
			} else if(FLAG[GF_06MP1201_OCCUR_INTERCEPT24] && !FLAG[GF_06MP1201_AFTER_INTERCEPT24] ){		// 迎撃戦24が終了した？
				//終わっていないので登録
				//Intercept(INTERCEPT_STAGE24, 1)					// 果て無き山からの脅威・破
				//SetFlag(GF_INTERCEPT_NO, INTERCEPT_STAGE24)
			} else if(FLAG[GF_06MP1201_OCCUR_INTERCEPT25] && !FLAG[GF_06MP1201_AFTER_INTERCEPT25] ){		// 迎撃戦25が終了した？
				//終わっていないので登録
				//Intercept(INTERCEPT_STAGE25, 1)					// 果て無き海からの脅威・急
				//SetFlag(GF_INTERCEPT_NO, INTERCEPT_STAGE25)
			} else if(FLAG[GF_06MP1201_OCCUR_INTERCEPT26] && !FLAG[GF_06MP1201_AFTER_INTERCEPT26] ){		// 迎撃戦26が終了した？
				//終わっていないので登録
				//Intercept(INTERCEPT_STAGE26, 1)					// 果て無き山からの脅威・急
				//SetFlag(GF_INTERCEPT_NO, INTERCEPT_STAGE26)
			}
		}

		if( !FLAG[GF_INTERCEPT_LASTRESULT] && (FLAG[GF_INTERCEPT_LASTSTAGEID] > INTERCEPT_STAGE_NONE))		//負けて戻ってきた
		{
			if (FLAG[GF_INTERCEPT_LASTSTAGEID] >= INTERCEPT_STAGE31 )	//制圧戦だった場合
			{
				EventCue("mp1201:ASS_Mes")
				

			}
			else if(FLAG[GF_INTERCEPT_LASTSTAGEID] < INTERCEPT_STAGE31)		//迎撃戦だった場合
			{
				EventCue("mp1201:INT_Mes")
			}
		}
		else
		{
			// フラグリセット
			SetFlag(GF_INTERCEPT_LASTSTAGEID, INTERCEPT_STAGE_NONE)
			SetFlag(GF_INTERCEPT_LASTRESULT, 0)
		}
//-----------------------------------------------------------------------------------------------------------
//一般配置		※talk.scpに移行しました

		if( !FLAG[TF_NPC_NOLOAD] ){
			CallFunc("talk:NpcPosition")
		}
		SetFlag( TF_NPC_NOLOAD ,0)	//念のためクリアしておく

//-----------------------------------------------------------------------------------------------------------
//その他
		//ＮＰＣマーカーセット
		CallFunc("system:SetMarkerNPC")

		//カーラン卿のJoinNPCを制御
		if( FLAG[GF_SUBEV_2101_SIEN03_LOOK] &&		//【ＬＰ：2101⇒2102の岩を調べた】の支援イベントNo.03でカーラン卿が帰るのを見た
			!FLAG[GF_SUBEV_JOIN_CURRAN2] ) {			// カーラン卿が改めて合流した
			//JoinNPC( NPC_CURRAN, JOIN_NPC_LEAVE )		//迎撃戦終了時にカーラン卿を離脱させる
		}

		// アドルおひとり様モード制御
		if(!FLAG[GF_PARTY_NONE]){
			//FixPlayerChr(PARTY_ADOL)	// アドルおひとり様モードON
		}
	}

	//破棄対象に指定したキャラit3を破棄実行
	ReleaseChrGo()

	//マップ名表示
	if(!FLAG[SF_LOADINIT] && !FLAG[GF_MPxxxx_MAP_NAME_NO_DRAW] && !FLAG[TF_MAPNAME_SHOWN]){
		if( FLAG[SF_LASTENTRY_NO] == 0 || FLAG[SF_LASTENTRY_NO] == 100 && !FLAG[TF_MAPNAME_SHOWN] )
		{	
			//フィールド側／ワープ
			if (FLAG[GF_02MP1202_GET_CLOTHES]) {
				VisualName("visual/mapname/mn_1201b.itp",VN_NAMEMAP2,-1,-1,VN_MAPNAME_TIME)//漂流村
			} else {
				//VisualName("visual/mapname/mn_1201.itp",VN_NAMEMAP2,-1,-1,VN_MAPNAME_TIME)//凪の入り江
				VisualName("visual/mapname/mn_1201b.itp",VN_NAMEMAP2,-1,-1,VN_MAPNAME_TIME)
			}
			SetFlag( TF_MAPNAME_SHOWN, 1 )				// 地名表示した（テンポラリ）
		}
	}

//-----------------------------------------------------------------------------------------------------------
//サウンド制御

	if(!FLAG[TF_MP1202_NOW])	//mp1201にいるとき
	{
		if( FLAG[GF_03MP1202_AWAKE_ADOL] && !FLAG[GF_TBOX_DUMMY087] ){	//３部以降
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if (FLAG[GF_TBOX_DUMMY087] && !FLAG[GF_07MP1202_AWAKE_ADOL]){		// ６話以降～ラスボス戦
			//SetWork( WK_BGM , BGM_EVENT_017 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if (FLAG[GF_07MP1202_AWAKE_ADOL] ){
			SetWork( WK_BGM , BGM_TOWN_501 )
		}

		if( FLAG[GF_01MP1101_JOIN_LAXIA] && !FLAG[GF_01MP1201_JOIN_DOGI] ){
			//SetWork( WK_BGM , BGM_EVENT_004 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if( FLAG[GF_02MP1305_CALL_PARO] && !FLAG[GF_02MP1201_BEFORE_INTERCEPT]){		// 迎撃戦の準備をはじめた
			//SetWork( WK_BGM , BGM_EVENT_010 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if( FLAG[GF_02MP1201_BEFORE_INTERCEPT] && !FLAG[GF_02MP1201_START_INTERCEPT]){
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if( FLAG[GF_02MP1202_HEAR_SHOUT] && !FLAG[GF_02MP1201_BEFORE_INTERCEPT2]){
			//SetWork( WK_BGM , BGM_EVENT_010 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if( FLAG[GF_02MP1201_BEFORE_INTERCEPT2] && !FLAG[GF_02MP1201_START_INTERCEPT2]){
			//SetWork( WK_BGM , BGM_EVENT_008 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if( FLAG[GF_02MP1201_LOST_CURRAN] && !FLAG[GF_02MP1113_WIN_ENEMY]){			//カーラン失踪中
			//SetWork( WK_BGM , BGM_EVENT_008 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if( FLAG[GF_02MP1201_START_HEARING] && !FLAG[GF_02MP1103_KILL_KIERGAARD]){	//聞き込み開始～
			//SetWork( WK_BGM , BGM_EVENT_008 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if( FLAG[GF_03MP1201_ALARM_INTERCEPT] && !FLAG[GF_TBOX_DUMMY073]){		//
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if( FLAG[GF_05MP1201_IN_MEETING] && !FLAG[GF_05MP1201_JOIN_DANA] ){		//ダーナ発見～古代種の襲撃
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if( FLAG[GF_05MP6330_LOOK_MONOLITH] && !FLAG[GF_05MP1201_GOTO_GHOSTHIP] ){		//幽霊船を目撃
			//SetWork( WK_BGM , BGM_EVENT_010 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if (FLAG[GF_05MP0405_READ_REED] && !FLAG[GF_05MP1202_CHECK_MAP]){		// キャプテン・リードと別れる２
			//SetWork( WK_BGM , BGM_Nothing )
			//SetEnvSEPlayState(-1, 0)	//環境SE全停止
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if (FLAG[GF_05MP1201_OCEANUS_STANDBY] && !FLAG[GF_05MP1201_HOLD_PARTY]){		// オケアノス戦前
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if (FLAG[GF_05MP1201_HOLD_PARTY] && !FLAG[GF_05MP6231M_GOTO_SKYWAY]){		// 決起会
			//SetWork( WK_BGM , BGM_EVENT_005 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if (FLAG[GF_TBOX_DUMMY079] && !FLAG[GF_06MP1215_APPEAR_ANCIENT]){		// ６話冒頭
			SetWork( WK_BGM , BGM_EVENT_012 )
		}

		if( FLAG[GF_02MP43xx_OCCUR_INTERCEPT2] && !FLAG[GF_TBOX_DUMMY074] && WORK[WK_ISINTERCEPT] == 1 ){			//▼迎撃戦２発生
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if( FLAG[GF_02MP23xx_OCCUR_INTERCEPT3] && !FLAG[GF_02MP2308_KILL_HIPPO] && WORK[WK_ISINTERCEPT] == 1 ){		//▼迎撃戦３発生
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if( FLAG[GF_03MP433x_OCCUR_INTERCEPT5] && !FLAG[GF_02MP4337_KILL_MIDBOSS] && WORK[WK_ISINTERCEPT] == 1 ){		//▼迎撃戦５発生
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if( FLAG[GF_04MP5101_OCCUR_INTERCEPT7] && !FLAG[GF_04MP6204_SEE_THANATOS] && WORK[WK_ISINTERCEPT] == 1 ){		//▼迎撃戦７発生
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if( FLAG[GF_05MP1201_OCCUR_INTERCEPT9] && !FLAG[GF_05MP7411_SAIL_GHOSTSHIP] && WORK[WK_ISINTERCEPT] == 1 ){		//▼迎撃戦９発生
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if( FLAG[GF_06MP6409_OCCUR_INTERCEPT12] && !FLAG[GF_06MP6310_ATTACK_BOSSROOM] && WORK[WK_ISINTERCEPT] == 1 ){		//▼迎撃戦12発生
			SetWork( WK_BGM , BGM_EVENT_012 )
		}
	}
	else
	{
		//サウンド制御
		if( FLAG[GF_03MP1202_AWAKE_ADOL] && !FLAG[GF_TBOX_DUMMY087] ){	//３部以降
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if (FLAG[GF_TBOX_DUMMY087] && !FLAG[GF_07MP1202_AWAKE_ADOL]){		// ６話以降～ラスボス戦
			//SetWork( WK_BGM , BGM_EVENT_017 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if (FLAG[GF_07MP1202_AWAKE_ADOL] ){
			SetWork( WK_BGM , BGM_TOWN_501 )
		}

		if( FLAG[GF_01MP1101_JOIN_LAXIA] && !FLAG[GF_01MP1201_JOIN_DOGI] ){
			//SetWork( WK_BGM , BGM_EVENT_004 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if( FLAG[GF_02MP1305_CALL_PARO] && !FLAG[GF_02MP1201_BEFORE_INTERCEPT]){		// 迎撃戦の準備をはじめた
			//SetWork( WK_BGM , BGM_EVENT_010 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if( FLAG[GF_02MP1201_BEFORE_INTERCEPT] && !FLAG[GF_02MP1201_START_INTERCEPT]){
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if( FLAG[GF_02MP1202_HEAR_SHOUT] && !FLAG[GF_02MP1201_BEFORE_INTERCEPT2]){
			//SetWork( WK_BGM , BGM_EVENT_010 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if( FLAG[GF_02MP1201_BEFORE_INTERCEPT2] && !FLAG[GF_02MP1201_START_INTERCEPT2]){
			//SetWork( WK_BGM , BGM_EVENT_008 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if( FLAG[GF_02MP1201_LOST_CURRAN] && !FLAG[GF_02MP1113_WIN_ENEMY]){			//カーラン失踪中
			//SetWork( WK_BGM , BGM_EVENT_008 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if( FLAG[GF_02MP1201_START_HEARING] && !FLAG[GF_02MP1103_KILL_KIERGAARD]){	//聞き込み開始～
			//SetWork( WK_BGM , BGM_EVENT_008 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if( FLAG[GF_03MP1201_ALARM_INTERCEPT] && !FLAG[GF_TBOX_DUMMY073]){		//
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if( FLAG[GF_05MP1201_IN_MEETING] && !FLAG[GF_05MP1201_JOIN_DANA] ){		//ダーナ発見～古代種の襲撃
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if( FLAG[GF_05MP6330_LOOK_MONOLITH] && !FLAG[GF_05MP1201_GOTO_GHOSTHIP] ){		//幽霊船を目撃
			//SetWork( WK_BGM , BGM_EVENT_010 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if (FLAG[GF_05MP0405_READ_REED] && !FLAG[GF_05MP1202_CHECK_MAP]){		// キャプテン・リードと別れる２
			//SetWork( WK_BGM , BGM_Nothing )
			//SetEnvSEPlayState(-1, 0)	//環境SE全停止
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if (FLAG[GF_05MP1201_OCEANUS_STANDBY] && !FLAG[GF_05MP1201_HOLD_PARTY]){		// オケアノス戦前
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if (FLAG[GF_05MP1201_HOLD_PARTY] && !FLAG[GF_05MP6231M_GOTO_SKYWAY]){		// 決起会
			//SetWork( WK_BGM , BGM_EVENT_005 )
			SetWork( WK_BGM , BGM_TOWN_501 )
		} else if (FLAG[GF_TBOX_DUMMY079] && !FLAG[GF_06MP1215_APPEAR_ANCIENT]){		// ６話冒頭
			SetWork( WK_BGM , BGM_EVENT_012 )
		}

		if( FLAG[GF_02MP43xx_OCCUR_INTERCEPT2] && !FLAG[GF_TBOX_DUMMY074] && WORK[WK_ISINTERCEPT] == 1 ){			//▼迎撃戦２発生
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if( FLAG[GF_02MP23xx_OCCUR_INTERCEPT3] && !FLAG[GF_02MP2308_KILL_HIPPO] && WORK[WK_ISINTERCEPT] == 1 ){		//▼迎撃戦３発生
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if( FLAG[GF_03MP433x_OCCUR_INTERCEPT5] && !FLAG[GF_02MP4337_KILL_MIDBOSS] && WORK[WK_ISINTERCEPT] == 1 ){	//▼迎撃戦５発生
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if( FLAG[GF_04MP5101_OCCUR_INTERCEPT7] && !FLAG[GF_04MP6204_SEE_THANATOS] && WORK[WK_ISINTERCEPT] == 1 ){		//▼迎撃戦７発生
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if( FLAG[GF_05MP1201_OCCUR_INTERCEPT9] && !FLAG[GF_05MP7411_SAIL_GHOSTSHIP] && WORK[WK_ISINTERCEPT] == 1 ){		//▼迎撃戦９発生
			SetWork( WK_BGM , BGM_EVENT_012 )
		} else if( FLAG[GF_06MP6409_OCCUR_INTERCEPT12] && !FLAG[GF_06MP6310_ATTACK_BOSSROOM] && WORK[WK_ISINTERCEPT] == 1 ){		//▼迎撃戦12発生
			SetWork( WK_BGM , BGM_EVENT_012 )
		}
	}
	
	////////////////////////
	// タイムアタック水晶
	//CallFunc("system:ta_crystal_set")
}

//-----------------------------------------------------------------------------------------------------------
//■init終わり

//-----------------------------------------------------------------------------------------------------------
//ショップ

function "LP_cook"	//◆料理作成
{
	SetStopFlag(STOPFLAG_TALK)
	TurnToChr( LEADER , this , 7.5f )
	Wait(10)

	ShopOpen( SHOP_ID_COOK, -1 )		//◆料理作成テスト

	ResetStopFlag(STOPFLAG_TALK)

}

function "LP_smith"	//◆鍛冶屋：アドルが自分で
{
	SetStopFlag(STOPFLAG_TALK)
	TurnToChr( LEADER , this , 7.5f )
	Wait(10)

	ShopOpen( SHOP_ID_WEAPON_A, -1 )	//鍛冶屋：アドルが自分で

	ResetStopFlag(STOPFLAG_TALK)

}

function "LP_drug"	//◆調薬：アドルが自分で
{
	SetStopFlag(STOPFLAG_TALK)
	TurnToChr( LEADER , this , 7.5f )
	Wait(10)

	if( FLAG[GF_02MP1101_LOOK_WAIE] && !FLAG[GF_03MP1202_AWAKE_ADOL]) {		// 調薬２
		ShopOpen( SHOP_ID_DRUG_A2, -1 )	//調薬：アドルが自分で
	} else {
		ShopOpen( SHOP_ID_DRUG_A, -1 )	//調薬：アドルが自分で
	}

	ResetStopFlag(STOPFLAG_TALK)

}

function "LP_trade"	//◆倉庫：アドルが自分で
{
	SetStopFlag(STOPFLAG_TALK)
	TurnToChr( LEADER , this , 7.5f )
	Wait(10)

	ShopOpen( SHOP_ID_TRADE_A, -1 )	//倉庫：アドルが自分で

	ResetStopFlag(STOPFLAG_TALK)

}

function "LP_bbs"	//クエスト掲示板
{
	SetStopFlag(STOPFLAG_TALK)
	TurnToChr( LEADER , this , 7.5f )
	Wait(10)

	GetProgressQuest( TF_MENU_SELECT2 )

	if (FLAG[TF_MENU_SELECT2] == 0) {
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7C依頼は無いようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	else
	{
		//ショップ処理
		ShopOpen( SHOP_ID_QUEST, -1 )		// 掲示板

		//ＮＰＣマーカーセット
		CallFunc("system:SetMarkerNPC")
	}

	ResetStopFlag(STOPFLAG_TALK)

}
function "LP_QS_510_Shop"
{
	//　　※アリスンが倒れている間、
	//　　　仕立て屋のＬＰはアリスンの会話だけのないメニューとなる。
	SetStopFlag(STOPFLAG_TALK)
	TurnToChr( LEADER , this , 7.5f )
	Wait(10)

	//	テキスト
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0)
	{
		"#7Cアリスンが用意してくれた"
		"#7C仕立物が並んでいる。\p"
		"#7C対価となる素材を置き、"
		"#7C必要に応じて持ち出そう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	SetFlag(TF_MENU_SELECT,0)
	while( FLAG[TF_MENU_SELECT] >= 0 )	//選択肢ループ
	{
		// 選択肢作成
		MenuReset()
		MenuAdd( 1 , "仕立てをする")
		MenuAdd( -1, "やめる")
		MenuType(MENUTYPE_POPUP)
		MenuOpen( TF_MENU_SELECT, -1, 200, -1, -2, 10, 1 )		//一般会話用設定
		WaitMenu(0)
		MenuClose(10,0)
		
		if (FLAG[TF_MENU_SELECT] == 1)	// ショップ
		{
			// ショップ処理
			SetFlag(GF_SHOP_VOICE_ALISON, 0)					// アリスンのショップボイスを鳴らすを解除
			ShopOpen( SHOP_ID_DRESS, -1 )		// アリスンの仕立て屋
		}
	}

	ResetStopFlag(STOPFLAG_TALK)
}

function "LP_chkpt"
{
	SetStopFlag(STOPFLAG_TALK)

	TurnToChr( LEADER , this , 10.0f )
	Wait(10)

	SetFlag(TF_MENU_SELECT,0)
	while( FLAG[TF_MENU_SELECT] >= 0 )	//選択肢ループ
	{
		// 選択肢作成
		MenuReset()
		
		if (FLAG[GF_SUBEV_PAST_07_ADD] && !FLAG[GF_NPC_7_01_GOTO_TEM])	//過去編Ⅶ進入　水晶石ON
		{
			MenuAdd( 1 , "水晶石に触れる")
		}
		if (GOTITEMWORK[ICON3D_AC_067] || GOTITEMWORK[ICON3D_AC_068] || GOTITEMWORK[ICON3D_AC_069])	//行動メンバー変更　一度でもメダルを入手していたら
		{
			MenuAdd( 2 , "行動メンバー最大数を変更する")
		}
		MenuAdd( -1, "やめる")
		MenuType(MENUTYPE_POPUP)
		MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
		WaitMenu(0)
		MenuClose(10,0)
		
		if (FLAG[TF_MENU_SELECT] == 1)	//過去編Ⅶへ
		{
		
			FadeOut(FADE_BLACK,FADE_FAST)
			WaitFade()
		
			EventCue("mp1201:SubEV_Past_07_Rearriveb")
			SetFlag(TF_MENU_SELECT,-1)
		}
		else if (FLAG[TF_MENU_SELECT] == 2)	// メンバー数変更
		{
			SetFlag(TF_MENU_SELECT2,0)

			// 選択肢作成
			MenuReset()
			MenuAdd( 1 , "行動メンバー最大数を１人に変更")
			MenuAdd( 2 , "行動メンバー最大数を２人に変更")
			MenuAdd( 3 , "行動メンバー最大数を３人に変更")
			MenuAdd( -1, "やめる")
			MenuType(MENUTYPE_POPUP)
			MenuOpen( TF_MENU_SELECT2 , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)


			if (FLAG[TF_MENU_SELECT2] == 1)	//行動メンバーを１人に変更する
			{
				if(FLAG[SF_ATKMEMBERNUM] != 1 )
				{

					FadeOut(FADE_BLACK,FADE_FAST)
					WaitFade()

					if((FLAG[SF_ATKMEMBERNUM] == 0) || (FLAG[SF_ATKMEMBERNUM] == 3))	//３人からの変更
					{
						SetFlag(SF_ATKMEMBERNUM,1)
						SeparateParty( "PLAYER3" )
						SeparateParty( "PLAYER2" )
					}
					else if(FLAG[SF_ATKMEMBERNUM] == 2)		//２人からの変更
					{
						SetFlag(SF_ATKMEMBERNUM,1)
						SeparateParty( "PLAYER2" )
					}

					PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル

					TalkPopup(UNDEF,0,5,0,0,0)
					{
						"#8S"
						"#-1W#4C行動メンバー最大数を１人に変更しました。#10W"
						"行動メンバー2行目"
						"#8S"
					}
					Wait(10)
					WaitPrompt()
					WaitCloseWindow()

					FadeIn(FADE_BLACK,FADE_FAST)
					WaitFade()
				}
				else
				{
					PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル

					TalkPopup(UNDEF,0,5,0,0,0)
					{
						"#8S"
						"#-1W#4C行動メンバー最大数は既に１人に設定されています。#10W"
						"最大数2行目"
						"#8S"
					}
					Wait(10)
					WaitPrompt()
					WaitCloseWindow()
				}
			}
			else if (FLAG[TF_MENU_SELECT2] == 2)	//行動メンバーを２人に変更する
			{

				if(FLAG[SF_ATKMEMBERNUM] != 2 )
				{
					FadeOut(FADE_BLACK,FADE_FAST)
					WaitFade()

					if((FLAG[SF_ATKMEMBERNUM] == 0) || (FLAG[SF_ATKMEMBERNUM] == 3))	//３人からの変更
					{
						SetFlag(SF_ATKMEMBERNUM,2)
						SeparateParty( "PLAYER3" )
					}
					
					else if(FLAG[SF_ATKMEMBERNUM] == 1)	//１人からの変更
					{
						SetFlag(SF_ATKMEMBERNUM,2)
						
						//パーティにいない誰かをJOIN
						if(!IsPartyIn(PARTY_ADOL))
						{
							//JoinParty( PARTY_ADOL )
						}
						if(!IsPartyIn(PARTY_LAXIA) && FLAG[SF_LAXIA_JOINOK])
						{
							//JoinParty( PARTY_LAXIA )
						}

						ResetPartyPos()
						ResetFollowPoint()

					}
					PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル

					TalkPopup(UNDEF,0,5,0,0,0)
					{
						"#8S"
						"#-1W#4C行動メンバー最大数を２人に変更しました。#10W"
						"最大二人2行目"
						"#8S"
					}
					Wait(10)
					WaitPrompt()
					WaitCloseWindow()

					FadeIn(FADE_BLACK,FADE_FAST)
					WaitFade()

				}
				else
				{

					PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル

					TalkPopup(UNDEF,0,5,0,0,0)
					{
						"#8S"
						"#-1W#4C行動メンバー最大数は既に２人に設定されています。#10W"
						"既に２人2行目"
						"#8S"
					}
					Wait(10)
					WaitPrompt()
					WaitCloseWindow()
				}

			}
			else if (FLAG[TF_MENU_SELECT2] == 3)	//行動メンバーを３人に変更する
			{
				if(FLAG[SF_ATKMEMBERNUM] != 3 )
				{
					FadeOut(FADE_BLACK,FADE_FAST)
					WaitFade()

					SetFlag(SF_ATKMEMBERNUM,3)
						
					//パーティにいない誰かをJOIN
					if(!IsPartyIn(PARTY_ADOL))
					{
						//JoinParty( PARTY_ADOL )
					}
					if(!IsPartyIn(PARTY_LAXIA) && FLAG[SF_LAXIA_JOINOK])
					{
						//JoinParty( PARTY_LAXIA )
					}
					if(!IsPartyIn(PARTY_SAHAD) && FLAG[SF_SAHAD_JOINOK])
					{
						//JoinParty( PARTY_SAHAD )
					}

					ResetPartyPos()
					ResetFollowPoint()

					PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル

					TalkPopup(UNDEF,0,5,0,0,0)
					{
						"#8S"
						"#-1W#4C行動メンバー最大数を３人に変更しました。#10W"
						"最大数３人2行目"
						"#8S"
					}
					Wait(10)
					WaitPrompt()
					WaitCloseWindow()

					FadeIn(FADE_BLACK,FADE_FAST)
					WaitFade()
				}
				else
				{

					PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル

					TalkPopup(UNDEF,0,5,0,0,0)
					{
						"#8S"
						"#-1W#4C行動メンバー最大数は既に３人に設定されています。#10W"
						"既に３人2行目"
						"#8S"
					}
					Wait(10)
					WaitPrompt()
					WaitCloseWindow()
				}
			}
//			SetFlag(TF_MENU_SELECT2,-1)
		}
	}

	ResetStopFlag(STOPFLAG_TALK)

}

//-----------------------------------------------------------------------------------------------------------
// イベントボックス内の制御

function "evb2_Oka"
{
	if( FLAG[GF_02MP1201_TAKE_BREAKFAST] && !FLAG[GF_02MP1201_INFO_QUEST] ){
		EventCue("mp1201:EV_M02S040")
	}
	else if( FLAG[GF_02MP1201_UNMASK_NEMO] && !FLAG[GF_02MP1201_CHASE_KIERGAARD] ){
		EventCue("mp1201:EV_M02S630")
	}

}

//-----------------------------------------------------------------------------------------------------------
// 集落のレベル設定
function "init_camp_lv"
{
// 漂流村の発展設定：■mp1201~mp1204
// 集落LV（共通ノード）
	MapDelProp("CA_all",MNP_GROUND)
	MapDelProp("CW_all",MNP_GROUND)
	MapSetProp("_ca_base",MNP_GROUND)
	MapSetProp("_cw_base",MNP_GROUND)
	switch( FLAG[GF_CAMP_VILLAGE_LV] )	// 漂流村の発展設定：集落LV
	{
	case 0:		MapAnime( "Village" , "Lv0" )	// Lv0			0-1[E]		(初期状態)未開拓です。

				MapSetProp("_ca_Lv0",MNP_GROUND)
				MapSetProp("_cw_Lv0",MNP_GROUND)
				break;
	case 1:		MapAnime( "Village" , "Lv1" )	// Lv1			10-11[E]	岩が撤去され、物置、鍛冶場、診療所が追加されます。

				MapSetProp("_ca_Lv1",MNP_GROUND)
				MapSetProp("_cw_Lv1",MNP_GROUND)
				break;
	case 2:		MapAnime( "Village" , "Lv2" )	// Lv2			20-21[E]	診療所が拡張されます。

				MapSetProp("_ca_Lv2",MNP_GROUND)
				MapSetProp("_cw_Lv2",MNP_GROUND)
				break;
	case 3:		MapAnime( "Village" , "Lv3" )	// Lv3			30-31[E]	鍛冶場が拡張されます。

				MapSetProp("_ca_Lv3",MNP_GROUND)
				MapSetProp("_cw_Lv3",MNP_GROUND)
				break;
	case 4:		MapAnime( "Village" , "Lv4" )	// Lv4			40-41[E]	見張り台、台所が追加され、物置が拡張されます。

				MapSetProp("_ca_Lv4",MNP_GROUND)
				MapSetProp("_cw_Lv4",MNP_GROUND)
				break;
	case 5:		MapAnime( "Village" , "Lv5" )	// Lv5			50-51[E]	物置が拡張されます。

				MapSetProp("_ca_Lv5",MNP_GROUND)
				MapSetProp("_cw_Lv5",MNP_GROUND)
				break;
	case 6:		MapAnime( "Village" , "Lv6" )	// Lv6			60-61[E]	水路、道具屋が追加され、診療所、台所、鍛冶場、物置が拡張されます。

				MapSetProp("_ca_Lv6",MNP_GROUND)
				MapSetProp("_cw_Lv6",MNP_GROUND)
				break;
	case 7:		MapAnime( "Village" , "Lv7" )	// Lv7			70-71[E]	鍛冶場が拡張されます。

				MapSetProp("_ca_Lv7",MNP_GROUND)
				MapSetProp("_cw_Lv7",MNP_GROUND)
				break;
	}

	if (FLAG[GF_CAMP_VILLAGE_LV] == 0 &&
		FLAG[GF_01MP1201_MEET_BARBAROSS] )			// 第一部[M01S163][バルバロスと再会する4]
	{
		MapAnime( "Village" , "Lv0b" )					// Lv0b			5-6[E]		簡易調薬所ができます。※追加
		MapDelProp("CA_all",MNP_GROUND)
		MapDelProp("CW_all",MNP_GROUND)
		MapSetProp("_ca_base",MNP_GROUND)
		MapSetProp("_cw_base",MNP_GROUND)
		MapSetProp("_ca_Lv0b",MNP_GROUND)
		MapSetProp("_cw_Lv0b",MNP_GROUND)
	}
	
	// ▽集落のエフェクトノード（個別ノード）上記Villageのレベルに応じてon/offを切り替えてください。
	//	-----------------------------------------------------------------
	//	fire_alpha		off							中央キャンプの火が消えた状態です。
	//					on							中央キャンプに火がついた状態です。(Lv1以降限定)
	//	※off　状態のときは　fire_alpha　を子に影響でHide設定にして下さい。
	//	　また、Village:Lv1以降のときはイベント指定が無い限りonにして下さい。
	if( FLAG[GF_CAMP_VILLAGE_LV] < 1 )
	{
		SetEnvSEPlayState(1201201, 0)
		//MapAnime( "fire_alpha", "off" )		//◆エラーになるのでマスクしてあります
		MapHide( "fire_alpha", 0 )
	}
	else
	{
		MapAnime( "fire_alpha", "on" )
		MapHide( "fire_alpha", 1 )
	}
	
	//	-----------------------------------------------------------------
	//	flag			off							見張り台の旗が無い状態です。
	//					on							見張り台に旗が有る状態です。(Lv4以降限定)
	//	※off　状態のときは　flag　を子に影響でHide設定にして下さい。
	//	　また、Village:Lv4以降のときはイベント指定が無い限りonにして下さい。
	if( FLAG[GF_CAMP_VILLAGE_LV] < 4 )
	{
		MapAnime( "flag", "off" )
		MapHide( "flag", 0 )
	}
	else
	{
		MapAnime( "flag", "on" )
		MapHide( "flag", 1 )
	}
	
	//	-----------------------------------------------------------------
	//	fire_smithy_Lv3		off						Lv3鍛冶場の火が消えた状態です。
	//						on						Lv3鍛冶場の火がついた状態です。
	//	※off　状態のときは　fire_smithy_Lv3　をHide設定にして下さい。
	//	　また、Village:Lv3～5のときはイベント指定が無い限りonにして下さい。
	//	-----------------------------------------------------------------
	//	fire_smithy_Lv6		off						Lv6鍛冶場の火が消えた状態です。
	//						on						Lv6鍛冶場の火がついた状態です。
	//	※off　状態のときは　fire_smithy_Lv6　をHide設定にして下さい。
	//	　また、Village:Lv6のときはイベント指定が無い限りonにして下さい。
	//	-----------------------------------------------------------------
	//	fire_smithy_Lv7		off						Lv7鍛冶場の火が消えた状態です。
	//						on						Lv7鍛冶場の火がついた状態です。
	//	※off　状態のときは　fire_smithy_Lv7　をHide設定にして下さい。
	//	　また、Village:Lv7のときはイベント指定が無い限りonにして下さい。
	if( FLAG[GF_CAMP_VILLAGE_LV] < 3 )
	{
		SetEnvSEPlayState(1201203, 0)
//		MapAnime( "fire_smithy_Lv3", "off" )		//◆エラーになるのでマスクしてあります
		MapHide( "fire_smithy_Lv3", 0 )
//		MapAnime( "fire_smithy_Lv6", "off" )		//◆エラーになるのでマスクしてあります
		MapHide( "fire_smithy_Lv6", 0 )
//		MapAnime( "fire_smithy_Lv7", "off" )		//◆エラーになるのでマスクしてあります
		MapHide( "fire_smithy_Lv7", 0 )
	}
	else if( FLAG[GF_CAMP_VILLAGE_LV] < 6 )
	{
		SetEnvSEPlayState(1201203, 0)
//		MapAnime( "fire_smithy_Lv3", "on" )			//◆エラーになるのでマスクしてあります
		MapHide( "fire_smithy_Lv3", 1 )
//		MapAnime( "fire_smithy_Lv6", "off" )		//◆エラーになるのでマスクしてあります
		MapHide( "fire_smithy_Lv6", 0 )
//		MapAnime( "fire_smithy_Lv7", "off" )		//◆エラーになるのでマスクしてあります
		MapHide( "fire_smithy_Lv7", 0 )
	}
	else if( FLAG[GF_CAMP_VILLAGE_LV] < 7 )
	{
//		MapAnime( "fire_smithy_Lv3", "off" )		//◆エラーになるのでマスクしてあります
		MapHide( "fire_smithy_Lv3", 0 )
//		MapAnime( "fire_smithy_Lv6", "on" )			//◆エラーになるのでマスクしてあります
		MapHide( "fire_smithy_Lv6", 1 )
//		MapAnime( "fire_smithy_Lv7", "off" )		//◆エラーになるのでマスクしてあります
		MapHide( "fire_smithy_Lv7", 0 )
	}
	else
	{
//		MapAnime( "fire_smithy_Lv3", "off" )		//◆エラーになるのでマスクしてあります
		MapHide( "fire_smithy_Lv3", 0 )
//		MapAnime( "fire_smithy_Lv6", "off" )		//◆エラーになるのでマスクしてあります
		MapHide( "fire_smithy_Lv6", 0 )
//		MapAnime( "fire_smithy_Lv7", "on" )			//◆エラーになるのでマスクしてあります
		MapHide( "fire_smithy_Lv7", 1 )
	}
	
	//	-----------------------------------------------------------------
	//	fire_kitchen	off							台所の火が消えた状態です。
	//					on							台所の火がついた状態です。(Lv4以降限定)
	//	※off　状態のときは　fire_kitchen　を子に影響でHide設定にして下さい。
	//	　また、Village:Lv4以降のときはイベント指定が無い限りonにして下さい。
	if( FLAG[GF_CAMP_VILLAGE_LV] < 4 )
	{
//		MapAnime( "fire_kitchen", "off" )		//◆エラーになるのでマスクしてあります
		SetEnvSEPlayState(1201202, 0)
		MapHide( "fire_kitchen", 0 )
	}
	else
	{
		MapAnime( "fire_kitchen", "on" )
		MapHide( "fire_kitchen", 1 )
	}
	
	//	-----------------------------------------------------------------
	//	water_kitchen	off							台所の水が無い状態です。
	//					on							台所の水が有る状態です。(Lv6以降限定)
	//	※off　状態のときは　water_kitchen　を子に影響でHide設定にして下さい。
	//	　また、Village:Lv6以降のときはイベント指定が無い限りonにして下さい。
	if( FLAG[GF_CAMP_VILLAGE_LV] < 6 )
	{
		SetEnvSEPlayState(1201211, 0)
		SetEnvSEPlayState(1201212, 0)
		MapAnime( "water_kitchen", "off" )
		MapHide( "water_kitchen", 0 )
	}
	else
	{
		MapAnime( "water_kitchen", "on" )
		MapHide( "water_kitchen", 1 )
	}
	//	-----------------------------------------------------------------

// 迎撃戦マップ・海と丘方面の防衛柵（個別ノード）

	switch( FLAG[GF_CAMP_GATE_LV] )		// 漂流村の発展設定：海と丘方面の防衛柵
	{
	case 0:		//①未開拓
		MapAnime( "gate_Lv0" , "open" )		
		MapHide( "gate_Lv0", 0 )	//非表示
		MapAnime( "gate_Lv1" , "open" )		
		MapHide( "gate_Lv1", 0 )	//非表示
		break;
	case 1:		//②★第二部⑥迎撃戦①が発生
		MapAnime( "gate_Lv0" , "close" )	
		MapHide( "gate_Lv0", 1 )	//表示
		MapAnime( "gate_Lv1" , "open" )		
		MapHide( "gate_Lv1", 0 )	//非表示
		break;
	case 2:		//③キークエスト「防衛設備の作成」達成後
		MapAnime( "gate_Lv0" , "open" )		
		MapHide( "gate_Lv0", 0 )	//非表示
		MapAnime( "gate_Lv1" , "close" )	
		MapHide( "gate_Lv1", 1 )	//表示
		break;
	}

// バルバロスの墓LV（個別ノード）
	// ※off　状態のときは　grave　を子に影響でHide設定にして下さい。
	switch( FLAG[GF_CAMP_GRAVE_LV] )	// 漂流村の発展設定：バルバロスの墓LV
	{
	case 0:		// off			0-1[E]		墓が無い状態です
		MapAnime( "grave" , "off" )
		MapHide( "grave", 0 )
		break;
	case 1:		// on			10-19[E]	墓が有る状態です
		MapAnime( "grave" , "on" )
		MapHide( "grave", 1 )
		break;
	}

// 造船所LV（個別ノード）
	switch( FLAG[GF_CAMP_SHIPYARD_LV] )	// 漂流村の発展設定：造船所LV
	{
	case 0:		MapAnime( "Shipyard" , "Lv0" )	break;	// Lv0			0-1[E]		(初期状態)未開拓です。
	case 1:		MapAnime( "Shipyard" , "Lv1" )	break;	// Lv1			10-11[E]	小船建造準備中です。
	case 2:		MapAnime( "Shipyard" , "Lv2" )	break;	// Lv2			20-21[E]	小船建造完了状態です。					イベントで使用？
	case 3:		MapAnime( "Shipyard" , "Lv3" )	break;	// Lv3			30-120[E]	小船建造完了で停泊した状態です。
	case 4:		MapAnime( "Shipyard" , "Lv4" )	break;	// Lv4			130-131[E]	小船がなくなった状態です
	case 5:		MapAnime( "Shipyard" , "Lv5" )	break;	// Lv5			230-231[E]	脱出船の造船足場がある状態です。
	case 6:		MapAnime( "Shipyard" , "Lv6" )	break;	// Lv6			240-241[E]	脱出船が造船を開始した状態です。
	case 7:		MapAnime( "Shipyard" , "Lv7" )	break;	// Lv7			250-251[E]	脱出船が完成間近状態です。
	case 8:		MapAnime( "Shipyard" , "Lv8" )	break;	// Lv8			260-261[E]	脱出船が完成し桟橋がかかった状態です。
	case 9:		MapAnime( "Shipyard" , "Lv9" )	break;	// Lv9			270-271[E]	脱出船が桟橋停泊の状態です。
	case 10:	MapAnime( "Shipyard" , "Lv10" )	break;	// Lv10			280-281[E]	脱出船が出航後の状態です。				イベントで使用？
	}

	if( FLAG[GF_NPC_7_01_GOTO_TEM] &&								// ▼エピローグ①寺院前へ向かう
		!FLAG[GF_NPC_7_03_CHECK_VILLAGE] )							// ▼エピローグ③漂流村を最後に見回る
	{
		MapAnime( "EVENT_ED" , "on" )	//脱出時の積荷（エピローグ）
		MapHide( "EVENT_ED", 1 )		//脱出時の積荷（エピローグ）
	}
	if (FLAG[GF_NPC_7_01_GOTO_TEM])									// ▼エピローグ①寺院前へ向かう
	{
		MapHide("sail", 1)		//脱出船（エピローグ）
		MapHide("barel", 1)		//脱出船（エピローグ）
	}
	// 船名プレート
	MapHide("plate_lombar", 0)
	if (FLAG[GF_CAMP_SHIPYARD_LV] >= 8 &&
		FLAG[GF_QS602_PRESENT_KASHU]) {		// カシュー：▼プレゼントイベント を見た
		MapHide("plate_lombar", 1)
	}

// 農場LV（個別ノード）
	switch( FLAG[GF_CAMP_FARM_LV] )		// 漂流村の発展設定：農場LV
	{
	case 0:		MapAnime( "farm" , "Lv0" )	break;		// Lv0			0-1[E]		(初期状態)未開拓です。							
	case 1:		MapAnime( "farm" , "Lv1" )	break;		// Lv1			10-19[E]	畑が一つ増えます。								
	case 2:		MapAnime( "farm" , "Lv2" )	break;		// Lv2			20-29[E]	畑が一つ増えます。								
	case 3:		MapAnime( "farm" , "Lv3" )	break;		// Lv3			30-39[E]	畑が一つ増えます。								
	}

// 農場柵LV（個別ノード）
	switch( FLAG[GF_CAMP_FARMFENCE_LV] )	// 漂流村の発展設定：農場柵LV
	{
	case 0:		MapAnime( "farmFence" , "Lv0" )	break;	// Lv0			0-1[E]		(初期状態)未開拓です。							
	case 1:		MapAnime( "farmFence" , "Lv1" )	break;	// Lv1			10-19[E]	簡単な柵が作られます。							
	case 2:		MapAnime( "farmFence" , "Lv2" )	break;	// Lv2			20-29[E]	小屋ができます。								
	case 3:		MapAnime( "farmFence" , "Lv3" )	break;	// Lv3			30-39[E]	小屋に棚が追加されます。						
	}

// 願いの木LV（個別ノード）
	switch( FLAG[GF_CAMP_WISHTREE_LV] )	// 漂流村の発展設定：願いの木LV
	{
	case 0:		MapAnime( "wishtree" , "Lv0" )	break;	// Lv0			0-1[E]		木が無い状態です
	case 1:		MapAnime( "wishtree" , "Lv1" )	break;	// Lv1			10-11[E]	木が有る状態です
	case 2:		MapAnime( "wishtree" , "Lv2" )	break;	// Lv2			20-21[E]	木に貝殻が吊るされた状態です
	case 3:		MapAnime( "wishtree" , "Lv3" )	break;	// Lv3			30-31[E]	木に貝殻が更に吊るされた状態です
	case 4:		MapAnime( "wishtree" , "Lv4" )	break;	// Lv4			40-41[E]	木に貝殻が最大で吊るされた状態です
	}
	// ※Lv0　状態のときは　wishtreeとwishtree_alpha　を子に影響でHide設定にして下さい。
	if( FLAG[GF_CAMP_WISHTREE_LV] == 0 )
	{
		MapHide( "wishtree_alpha" , 0 )
	}
	// ※Lv1　以降のときは　wishtree_alpha　を子に影響で表示設定にして下さい。
	else
	{
		MapHide( "wishtree_alpha" , 1 )
	}

// パロの止まり木LV（個別ノード）
	// ※Lv0　状態のときは　parowood　を子に影響でHide設定にして下さい。
	switch( FLAG[GF_CAMP_PAROWOOD_LV] )	// 漂流村の発展設定：パロの止まり木LV
	{
	case 0:		// Lv0			0-1[E]		(初期状態)未開拓です。
		MapAnime( "parowood" , "Lv0" )
		MapHide( "parowood", 0 )
		break;
	case 1:		// Lv1			10-19[E]	パロの止まり木が各地に出現します。
		MapAnime( "parowood" , "Lv1" )
		MapHide( "parowood", 1 )
		break;
	}

}

function "init_camp_lv_b"	//屋内
{
// 漂流村の発展設定：■mp1202
// 拠点屋内（個別ノード）
	switch( FLAG[GF_CAMP_ROOM_LV] )		// 漂流村の発展設定：拠点屋内
	{
	case 0:			// Lv0			0-1[E]		(初期状態)未開拓です。											
		MapAnime( "Room" , "Lv0" )
		MapAnime( "C_1202" , "Lv0" )
		break;
	case 1:			// Lv1			10-19[E]	アイテムボックスと、1人分の寝床が追加されます。(アドルは別枠)
		MapAnime( "Room" , "Lv1" )
		MapAnime( "C_1202" , "Lv1" )
		break;
	case 2:			// Lv2			20-29[E]	棚と机が追加されます。							
		MapAnime( "Room" , "Lv2" )
		MapAnime( "C_1202" , "Lv2" )
		break;
	case 3:			// Lv3			30-39[E]	棚が拡張され、物資が増えます。	
		MapAnime( "Room" , "Lv3" )
		MapAnime( "C_1202" , "Lv3" )
		break;
	}

// 寝床（個別ノード）
	switch( FLAG[GF_CAMP_BED_LV] )		// 漂流村の発展設定：寝床
	{
	case 0:		MapAnime( "bed" , "Lv0" )		break;	// Lv0			0-1[E]		(初期状態)未開拓です。
	case 1:		MapAnime( "bed" , "Lv1" )		break;	// Lv1			10-19[E]	Lv1状態です。ゴザのみです。
	case 2:		MapAnime( "bed" , "Lv2" )		break;	// Lv2			20-29[E]	LvMAX状態です。ベッドが追加されます。
	}
	// ※Lv0　状態のときは　bed　を子に影響でHide設定にして下さい。
	if( FLAG[GF_CAMP_BED_LV] == 0 )
	{
		MapHide( "bed", 0 )
	}
	else
	{
		MapHide( "bed", 1 )
	}

// 女部屋のカーテン（個別ノード）
	// ※off　状態のときは　cuatain　を子に影響でHide設定にして下さい。
	switch( FLAG[GF_CAMP_CURTAIN_LV] )	// 漂流村の発展設定：女部屋のカーテン
	{
	case 0:		// off						カーテンが無い状態です
		MapAnime( "curtain" , "off" )
		MapHide( "curtain", 0 )
		break;
	case 1:		// on						カーテンが有る状態です
		MapAnime( "curtain" , "on" )
		MapHide( "curtain", 1 )
		break;
	}

// 仕立て屋（個別ノード）
	switch( FLAG[GF_CAMP_TAILOR_LV] )	// 漂流村の発展設定：仕立て屋
	{
	case 0:		MapAnime( "tailor" , "Lv0" )	break;	// Lv0			0-1[E]		(初期状態)未開
	case 1:		MapAnime( "tailor" , "Lv1" )	break;	// Lv1			10-19[E]	Lv1状態です。
	case 2:		MapAnime( "tailor" , "Lv2" )	break;	// Lv2			20-29[E]	LvMAX状態です。
	}
	// ※Lv0　状態のときは　fence_EV　を子に影響でHide設定にして下さい。
}


//-----------------------------------------------------------------------------------------------------------
// 願いの木レベル設定
function "init_wishtree"
{
//スクリプトはテスト用のものです

	// 【QS300】祈願の木（サハド）　達成後の願いの木の制御	（村設備表示にやる必要あり）
	if( FLAG[GF_QUEST_300] >= QUEST_SUCCESS )
	{
		CallFunc("mp1201:QS_300_Complete_count")	// 人口カウント
		// 人口15人未満	少ない版
		if( FLAG[TF_MENU_SELECT] < 15 )
		{
			SetFlag( GF_CAMP_WISHTREE_LV, 2 )		// 漂流村の発展設定：願いの木LV2
		}
		// 人口20人未満	並版
		else if( FLAG[TF_MENU_SELECT] < 20 )
		{
			SetFlag( GF_CAMP_WISHTREE_LV, 3 )		// 漂流村の発展設定：願いの木LV3
		}
		// 人口20人以上	多い版
		else
		{
			SetFlag( GF_CAMP_WISHTREE_LV, 4 )		// 漂流村の発展設定：願いの木LV4
		}

		// クエスト制御
		if( FLAG[GF_CAMP_WISHTREE_LV] >= 2 )	// 漂流村の発展設定：願いの木LV
		{
			// ▼祈願の木のＬＰメッセージ（ポイントＡ）
			SetChrPos("LP_Check_Tree_A", -54.22f, -1453.15f, 29.59f)
			SetChrWork( "LP_Check_Tree_A" , CWK_CHECKRADIUS , 1.0f )		// 範囲
			// ▼祈願の木のＬＰメッセージ（ポイントＢ）
			SetChrPos("LP_Check_Tree_B", -52.90f, -1453.50f, 29.60f)
			SetChrWork("LP_Check_Tree_B", CWK_CHECKRADIUS, 1.0f)		// 範囲
			// ▼祈願の木のＬＰメッセージ（ポイントＣ）
			SetChrPos("LP_Check_Tree_C", -55.56f, -1451.87f, 29.38f)
			SetChrWork("LP_Check_Tree_C", CWK_CHECKRADIUS, 1.0f)		// 範囲
		}
	}

	//ノード設定
	//願いの木
	if (FLAG[GF_QUEST_300] < QUEST_SUCCESS)	// 【QS300】祈願の木（サハド　クエストを未達成
	{
		MapHide("wishtree", 0)
		MapHide("wishtree_alpha", 0)
	}
}

//-----------------------------------------------------------------------------------------------------------
// 農場処理

function "init_farm"
{
	// やり込み農場：畑の状態制御（収穫可能数のチェック）
	if(!FLAG[GF_07MP1202_AWAKE_ADOL])		//エピローグに入ったら収穫できない
	{
		CallFunc("mp1201:Speedrun_Reja_Check")
		if( FLAG[GF_CAMP_FARM_LV] > 0 )		// 漂流村の発展設定：農場LV
		{
			if( FLAG[GF_SUBEV_JOIN_REJA] )				// レーヤと合流した
			{
				//	⇒ナスビを植えてから、ナスビ用敵撃破回数が一度も２０を超えていない（最優先）
				if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_KC] ) < 20 ) {
					SetChrPos("LP_Nasubi",-33.31f,-1408.52f,28.65f)		//ナスビのＬＰ（高さ低め）
				} else {
					SetChrPos("LP_Nasubi",-33.31f,-1408.52f,30.25f)		//ナスビのＬＰ
				}
			}
			
			if( FLAG[GF_SPEEDRUN_FARM_PAPRIKA] )		// やり込み農場：パプリカの種を渡した
			{
				//	⇒パプリカを植えてから、パプリカ用敵撃破回数が一度も２５を超えていない（最優先）
				if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_PAPRIKA] ) < 25 ) {
					SetChrPos("LP_Paprika",	-36.48f,-1409.98f,28.65f)	//パプリカのＬＰ（高さ低め）
				} else {
					SetChrPos("LP_Paprika",	-36.48f,-1409.98f,29.2f)	//パプリカのＬＰ
				}
			}
			
			if( FLAG[GF_SPEEDRUN_FARM_CABBAGE] )		// やり込み農場：キャベツの種を渡した
			{
				//	⇒キャベツを植えてから、キャベツ用敵撃破回数が一度も30を超えていない（最優先）
				if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_CABBAGE] ) < 30 ) {
					SetChrPos("LP_Cabbage",	-34.03f,-1414.42f,28.65f)	//キャベツのＬＰ（高さ低め）
				} else {
					SetChrPos("LP_Cabbage",	-34.03f,-1414.42f,29.0f)	//キャベツのＬＰ
				}
			}
			
			if( FLAG[GF_SPEEDRUN_FARM_CORN] )			// やり込み農場：コーンの種を渡した
			{
				//	⇒コーンを植えてから、コーン用敵撃破回数が一度も35を超えていない（最優先）
				if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_CORN] ) < 35 ) {
					SetChrPos("LP_Corn",	-35.42f,-1404.02f,28.650f)	//コーンのＬＰ（高さ低め）
				} else {
					SetChrPos("LP_Corn",	-35.42f,-1404.02f,31.0f)	//コーンのＬＰ
				}
			}
			if( FLAG[GF_SPEEDRUN_FARM_TOMATO] )			// やり込み農場：トマトの種を渡した
			{
				//	⇒トマトを植えてから、トマト用敵撃破回数が一度も40を超えていない（最優先）
				if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_TOMATO] ) < 40 ) {
					SetChrPos("LP_Tomato",	-38.60f,-1405.49f,28.65f)	//トマトのＬＰ（高さ低め）
				} else {
					SetChrPos("LP_Tomato",	-38.60f,-1405.49f,30.25f)	//トマトのＬＰ
				}
			}
			
			if( FLAG[GF_SPEEDRUN_FARM_PUMPKIN] )		// やり込み農場：パンプキンの種を渡した
			{
				//	⇒パンプキンを植えてから、パンプキン用敵撃破回数が一度も40を超えていない（最優先）
				if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_PUMPKIN] ) < 40 ) {
					SetChrPos("LP_Pumpkin",	-30.70f,-1412.76f,28.65f)	//パンプキンのＬＰ（高さ低め）
				} else {
					SetChrPos("LP_Pumpkin",	-30.70f,-1412.76f,28.75f)	//パンプキンのＬＰ
				}
			}
		}
	}
	else		//エピローグ用処理
	{
		if( FLAG[GF_CAMP_FARM_LV] > 0 )		// 漂流村の発展設定：農場LV
		{
			MapHide( "mat4102_body", 0 )
			MapHide( "mat4102_mi", 0 )
			MapHide( "mat4101_body", 0 )
			MapHide( "mat4101_mi", 0 )
			MapHide( "mat4103_body", 0 )
			MapHide( "mat4103_mi", 0 )
			MapHide( "mat4104_body", 0 )
			MapHide( "mat4104_mi", 0 )
			MapHide( "mat4105_body", 0 )
			MapHide( "mat4105_mi", 0 )
			MapHide( "mat4106_body", 0 )
			MapHide( "mat4106_mi", 0 )

			if( FLAG[GF_SUBEV_JOIN_REJA] )				// レーヤと合流した
			{
				MapHide( "mat4102_body", 1 )
				MapHide( "mat4102_mi", 0 )
				SetChrPos("LP_NO_Farm01",-33.31f,-1408.52f,30.25f)		//ナスビのＬＰ
			}
			if( FLAG[GF_SPEEDRUN_FARM_PAPRIKA] )		// やり込み農場：パプリカの種を渡した
			{
				MapHide( "mat4101_body", 1 )
				MapHide( "mat4101_mi", 0 )
				SetChrPos("LP_NO_Farm02",	-36.48f,-1409.98f,29.2f)	//パプリカのＬＰ
			}
			if( FLAG[GF_SPEEDRUN_FARM_CABBAGE] )		// やり込み農場：キャベツの種を渡した
			{
				MapHide( "mat4103_body", 1 )
				MapHide( "mat4103_mi", 0 )
				SetChrPos("LP_NO_Farm03",	-34.03f,-1414.42f,29.0f)	//キャベツのＬＰ
			}
			if( FLAG[GF_SPEEDRUN_FARM_CORN] )			// やり込み農場：コーンの種を渡した
			{
				MapHide( "mat4104_body", 1 )
				MapHide( "mat4104_mi", 0 )
				SetChrPos("LP_NO_Farm04",	-35.42f,-1404.02f,31.0f)	//コーンのＬＰ
			}
			if( FLAG[GF_SPEEDRUN_FARM_TOMATO] )			// やり込み農場：トマトの種を渡した
			{
				MapHide( "mat4105_body", 1 )
				MapHide( "mat4105_mi", 0 )
				SetChrPos("LP_NO_Farm05",	-38.60f,-1405.49f,30.25f)	//トマトのＬＰ
			}
			if( FLAG[GF_SPEEDRUN_FARM_PUMPKIN] )		// やり込み農場：パンプキンの種を渡した
			{
				MapHide( "mat4106_body", 1 )
				MapHide( "mat4106_mi", 0 )
				SetChrPos("LP_NO_Farm06",	-30.70f,-1412.76f,28.75f)	//パンプキンのＬＰ
			}
		}
	}
}

//////////////////////////////////////////////////////////////////////
//■漂流物
//////////////////////////////////////////////////////////////////////
function "RandBoxInit"
{
	//配置処理
//	if(FLAG[GF_NPC_7_01_GOTO_TEM] ){				// ▼エピローグ①寺院前へ向かう
//		SetChrPos("RBOX_2",-100000.00f,0.00f,0.00f)		//消す
//	} else 
	if( (FLAG[GF_NPC_6_02_GOTO_GEND] && !FLAG[GF_MP1201_TBOX09]) ||			// ▼第六部②ジャンダルム頂上へ向かう
		(FLAG[GF_NPC_5_04_GOTO_HOLLOW] && !FLAG[GF_MP1201_TBOX08]) ||		// ▼第五部④大空洞へ向かう
		(FLAG[GF_NPC_5_02_GOTO_BAHA] && !FLAG[GF_MP1201_TBOX07]) ||			// ▼第五部②バハの塔に向かう
		(FLAG[GF_NPC_4_01_GOTO_NORTH] && !FLAG[GF_MP1201_TBOX06]) ||		// ▼第四部①島北部に足を踏み入れた
		(FLAG[GF_NPC_3_01_GOTO_LAXIA] && !FLAG[GF_MP1201_TBOX05]) ||		// ▼第三部①ラクシャの元へ向かう
		(FLAG[GF_NPC_2_11_JOIN_DINA] && !FLAG[GF_MP1201_TBOX04]) ||			// ▼第二部⑪ディナを助けた
		(FLAG[GF_NPC_2_08_JOIN_KATRIN] && !FLAG[GF_MP1201_TBOX03]) ||		// ▼第二部⑧カトリーンを助けた
		(FLAG[GF_NPC_2_02_START_EXPLORE] && !FLAG[GF_MP1201_TBOX02]) ){		// ▼第二部②探索開始
		SetChrPos("RBOX",  22.74f, -1497.56f, 0.19f)
	} else {
		SetChrPos("RBOX",-100000.00f,0.00f,0.00f)		//消す
	}
}

function "EV_RandBox"	//漂流物入手
{
//▼第二部②探索開始					霊薬セット
//▼第二部⑧カトリーンを助けた			★レシピ帳・ラタトゥイユ
//▼第二部⑪ディナを助けた				食材セット
//▼第三部①ラクシャの元へ向かう		状態異常回復薬セット
//▼第四部①島北部に足を踏み入れた		★苗３：キャベツの苗
//▼第五部②バハの塔に向かう			果物セット
//▼第五部④大空洞へ向かう				マルクス物語・下巻（プレゼント・リコッタ）
//▼第六部②ジャンダルム頂上へ向かう	妙薬＋霊薬セット

//	SetStopFlag(STOPFLAG_PC)
	SetStopFlag(STOPFLAG_TALK)

	//　　箱が開くアニメーションとSE。
	ChangeAnimation( "this" , "ANI_OPEN", 0 , 1 )
	Wait(30)

	ChangeAnimation( "LEADER" , "ANI_GET_ITEM", -1 , 1 )	//アイテム入手モーション
	Wait(15)

	if(!FLAG[GF_MP1201_TBOX02]) {
		//霊薬
		GetItem(ICON3D_US_ADD_STR, 1)	//力の霊薬			STR+3
		PlaySE( SE_GET_THE_BOX03 , 100 , 0,  0, 0, 1.0f, 0)		//ITEMMSG_SE_JINGLE
		Message("#2C「#234I力の霊薬」#4Cを手に入れた。")
		//GetItemMessageExPlus(-1 , 1 , ITEMMSG_SE_JINGLE , "#2C「#234I力の霊薬」#4Cを手に入れた。" , 0 , 0 )

		SetFlag(GF_MP1201_TBOX02, 1)
	} else if(!FLAG[GF_MP1201_TBOX03]) {
		//★レシピ帳・ラタトゥイユ：肉厚ラタトゥイユ（漂流物）
		GetItem(ICON3D_COOK_RECIPE02, 1)		//レシピ帳・ラタトゥイユ
		PlaySE( SE_GET_THE_BOX03 , 100 , 0,  0, 0, 1.0f, 0)		//ITEMMSG_SE_JINGLE
		Message("#2C「#263Iレシピ帳・ラタトゥイユ」#4Cを手に入れた。")
		//GetItemMessageExPlus(-1 , 1 , ITEMMSG_SE_JINGLE , "#2C「#263Iレシピ帳・ラタトゥイユ」#4Cを手に入れた。" , 0 , 0 )

		SetFlag(GF_MP1201_TBOX03, 1)
	} else if(!FLAG[GF_MP1201_TBOX04]) {
		//食材セット
		GetItem(ICON3D_FD_SEA_SALT		,10)	//	岩塩
		GetItem(ICON3D_FD_LAND_HONEY	,10)	//	蜂蜜
		GetItem(ICON3D_FD_WHEAT			,10)	//	セイレン麦
		GetItem(ICON3D_FD_LAND_EGG		,10)	//	山鳥の卵
		GetItem(ICON3D_FD_MUSHROOM		,10)	//	白露茸
		GetItem(ICON3D_FD_SEA_SHELLFISH	,10)	//	ムアール貝
		PlaySE( SE_GET_THE_BOX02 , 100 , 0,  0, 0, 1.0f, 0)		//ITEMMSG_SE_BETTER
		Message("#2C「#264I岩塩×10」\n#2C「#265I蜂蜜×10」\n#2C「#266Iセイレン麦×10」\n#2C「#267I山鳥の卵×10」\n#2C「#268I白露茸×10」\n#2C「#269Iムアール貝×10」\n#4Cを手に入れた。")
		//GetItemMessageExPlus(-1 , 1 , ITEMMSG_SE_BETTER , "#2C「#264I岩塩×10」\n#2C「#265I蜂蜜×10」\n#2C「#266Iセイレン麦×10」\n#2C「#267I山鳥の卵×10」\n#2C「#268I白露茸×10」\n#2C「#269Iムアール貝×10」\n#4Cを手に入れた。" , 0 , 0 )

		SetFlag(GF_MP1201_TBOX04, 1)
	} else if(!FLAG[GF_MP1201_TBOX05]) {
		//状態異常回復薬セット
		GetItem(ICON3D_US_CURE_POISON, 3)		//毒消し薬		毒解除
		GetItem(ICON3D_US_CURE_DARK, 3)			//目薬			暗闇解除
		GetItem(ICON3D_US_CURE_PARALYZE, 3)		//麻痺取り薬	麻痺解除
		GetItem(ICON3D_US_CURE_FREEZE, 3)		//解氷薬		凍結解除
		GetItem(ICON3D_US_CURE_FLAME, 3)		//火消し薬		燃焼解除
		GetItem(ICON3D_US_CURE_BLOODLOSS, 3)	//止血薬		失血解除
		PlaySE( SE_GET_THE_BOX02 , 100 , 0,  0, 0, 1.0f, 0)		//ITEMMSG_SE_BETTER
		Message("#2C「#225I毒消し薬×３」\n#2C「#226I目薬×３」\n#2C「#227I麻痺取り薬×３」\n#2C「#228I解氷薬×３」\n#2C「#229I火消し薬×３」\n#2C「#230I止血薬×３」\n#4Cを手に入れた。")
		//GetItemMessageExPlus(-1 , 1 , ITEMMSG_SE_BETTER , "#2C「#225I毒消し薬×３」\n#2C「#226I目薬×３」\n#2C「#227I麻痺取り薬×３」\n#2C「#228I解氷薬×３」\n#2C「#229I火消し薬×３」\n#2C「#230I止血薬×３」\n#4Cを手に入れた。" , 0 , 0 )

		SetFlag(GF_MP1201_TBOX05, 1)
	} else if(!FLAG[GF_MP1201_TBOX06]) {
		//★苗３：キャベツの苗（漂流物）
		GetItem(ICON3D_SEED_CABBAGE, 1)		//キャベツの種
		PlaySE( SE_GET_THE_BOX03 , 100 , 0,  0, 0, 1.0f, 0)		//ITEMMSG_SE_JINGLE
		Message("#2C「#328Iキャベツの種」#4Cを手に入れた。")
		//GetItemMessageExPlus(-1 , 1 , ITEMMSG_SE_JINGLE , "#2C「#328Iキャベツの種」#4Cを手に入れた。" , 0 , 0 )

		SetFlag(GF_MP1201_TBOX06, 1)
	} else if(!FLAG[GF_MP1201_TBOX07]) {
		//果物セット
		GetItem(ICON3D_US_BERRY_S, 3)			//クルの豊実	復活／ＨＰ  50回復
		GetItem(ICON3D_US_COCONUT_S, 3)			//完熟ココヤシ	復活／ＨＰ 150回復
		GetItem(ICON3D_US_MANGO_S, 3)			//完熟マンゴー	復活／ＨＰ 500回復
		GetItem(ICON3D_US_DRAGONFRUIT_S, 1)		//竜樹の宝果	復活／ＨＰ1000回復
		PlaySE( SE_GET_THE_BOX02 , 100 , 0,  0, 0, 1.0f, 0)		//ITEMMSG_SE_BETTER
		Message("#2C「#243Iクルの豊実×３」\n#2C「#244I完熟ココヤシ×３」\n#2C「#245I完熟マンゴー×３」\n#2C「#246I竜樹の宝果」\n#4Cを手に入れた。")
		//GetItemMessageExPlus(-1 , 1 , ITEMMSG_SE_BETTER , "#2C「#243Iクルの豊実×３」\n#2C「#244I完熟ココヤシ×３」\n#2C「#245I完熟マンゴー×３」\n#2C「#246I竜樹の宝果」\n#4Cを手に入れた。" , 0 , 0 )

		SetFlag(GF_MP1201_TBOX07, 1)
	} else if(!FLAG[GF_MP1201_TBOX08]) {
		//マルクス物語・下巻（プレゼント・リコッタ）
		GetItem(ICON3D_PRESENT_RICOTTA2, 1)		//プレゼントアイテム（マルクス物語・下巻：リコッタ）
		PlaySE( SE_GET_THE_BOX03 , 100 , 0,  0, 0, 1.0f, 0)		//ITEMMSG_SE_JINGLE
		Message("#2C「#326Iマルクス物語・下巻」#4Cを手に入れた。")
		//GetItemMessageExPlus(-1 , 1 , ITEMMSG_SE_JINGLE , "#2C「#326Iマルクス物語・下巻」#4Cを手に入れた。" , 0 , 0 )

		SetFlag(GF_MP1201_TBOX08, 1)
	} else if(!FLAG[GF_MP1201_TBOX09]) {
		//最上位薬草セット
		GetItem(ICON3D_MT_R5_FLOWER, 3)		//アウラ草
		PlaySE( SE_GET_THE_BOX03 , 100 , 0,  0, 0, 1.0f, 0)		//ITEMMSG_SE_JINGLE
		Message("#2C「#218Iアウラ草×３」#4Cを手に入れた。")
		//GetItemMessageExPlus(-1 , 1 , ITEMMSG_SE_JINGLE , "#2C「#218Iアウラ草×３」#4Cを手に入れた。" , 0 , 0 )

		SetFlag(GF_MP1201_TBOX09, 1)
	}

	//	テキスト
	WaitPrompt()
	WaitCloseWindow()

	//フラグ
	SetChrWork("this", CWK_CHECKOFF, 1)		// 普通のルックポイントをオフに

//	ResetStopFlag(STOPFLAG_PC)
	ResetStopFlag(STOPFLAG_TALK)
}

//-----------------------------------------------------------------------------------------------------------

function "INT_Mes"
{
	SetStopFlag(STOPFLAG_EVENT)

	FadeOut(FADE_BLACK,0)
	WaitFade()
	CallFunc("system:camera_reset")

	Wait(30)

	//必須迎撃戦だった場合
	if (FLAG[GF_INTERCEPT_NO] == INTERCEPT_STAGE01		//★第二部⑤迎撃戦①
	||	FLAG[GF_INTERCEPT_NO] == INTERCEPT_STAGE04		//★第二部⑪迎撃戦④
	||	FLAG[GF_INTERCEPT_NO] == INTERCEPT_STAGE06		//★第三部③迎撃戦⑥
	||	FLAG[GF_INTERCEPT_NO] == INTERCEPT_STAGE08		//★第五部①迎撃戦⑧
	||	FLAG[GF_INTERCEPT_NO] == INTERCEPT_STAGE11)	//★第六部①迎撃戦⑪
	{
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#-1W#4C※レベルや入手したアイテムを引き継いだまま"
			"#-1W#4C　迎撃戦直前の状態に戻りました。"
			"#-1W#4C　もう一度準備を整えてから挑んでください。#10W"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()

		if( FLAG[GF_05MP1201_IN_MEETING] && !FLAG[GF_05MP1213_INTERCEPT_DANA] && FLAG[SF_DANA_JOINOK]){		// ダーナ加入後に迎撃戦失敗した場合
			//ダーナが加入状態だった場合、パーティから離脱させる
			EquipAccessory(DANA, -1, 0)
			EquipAccessory(DANA, -1, 1)
			EquipShield( DANA, -1 )

			RestorePartyMember()		//ダーナ加入前の構成に戻す
			//SetFlag(SF_DANA_JOINOK,0)	// ダーナ脱退
		}
	}
	else
	{
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cアドル班は迎撃に失敗してしまった……#10W"
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
		
		Wait(25)
		
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cその後、駆けつけたドギ班によって"
			"#7Cアドルたちは助けられ……\p"
			"#7C力を合わせて奮戦を続けた結果、"
			"#7Cどうにか獣たちを退かせることに"
			"#7C成功したのだった。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	Wait(10)

	ActiveVoiceStop(ACTIVEVOICESTOP_FORCE)

	// フラグリセット
	SetFlag(GF_INTERCEPT_LASTSTAGEID, INTERCEPT_STAGE_NONE)
	SetFlag(GF_INTERCEPT_LASTRESULT, 0)

	ResetStopFlag(STOPFLAG_EVENT)
	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
}

function "ASS_Mes"
{
	SetStopFlag(STOPFLAG_EVENT)

	FadeOut(FADE_BLACK,0)
	WaitFade()
	CallFunc("system:camera_reset")

	Wait(30)

	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#-1W#4C※レベルや入手したアイテムを引き継いだまま"
		"#-1W#4C　制圧戦直前の状態に戻りました。"
		"#-1W#4C　もう一度準備を整えてから挑んでください。#10W"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	ActiveVoiceStop(ACTIVEVOICESTOP_FORCE)

	// フラグリセット
	SetFlag(GF_INTERCEPT_LASTSTAGEID, INTERCEPT_STAGE_NONE)
	SetFlag(GF_INTERCEPT_LASTRESULT, 0)

	ResetStopFlag(STOPFLAG_EVENT)
	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
}

// -------------------------------------------------------------------
//【無限迎撃戦の追加アナウンス】
// -------------------------------------------------------------------
function "Intercept_Announce"	//【無限迎撃戦の追加アナウンス】
{

	SetStopFlag(STOPFLAG_SIMPLEEVENT2)

	FadeOut(FADE_BLACK, 0)
	WaitFade()

	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル

	if (FLAG[GF_06MP1201_AFTER_INTERCEPT25]) {			// 迎撃戦25が終了した

		// システムメッセージ
		TalkPopup(UNDEF,0,5,0,0,0) {
			"#8S"
			"#-1W#4C迎撃戦#8C『山からの脅威・急』#4Cが追加された！#10W"
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()

	} else if (FLAG[GF_06MP1201_AFTER_INTERCEPT24]) {	// 迎撃戦24が終了した
	
		// システムメッセージ
		TalkPopup(UNDEF,0,5,0,0,0) {
			"#8S"
			"#-1W#4C迎撃戦#8C『海からの脅威・急』#4Cが追加された！#10W"
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	
	} else if (FLAG[GF_06MP1201_AFTER_INTERCEPT23]) {	// 迎撃戦23が終了した

		// システムメッセージ
		TalkPopup(UNDEF,0,5,0,0,0) {
			"#8S"
			"#-1W#4C迎撃戦#8C『山からの脅威・破』#4Cが追加された！#10W"
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()

	} else if (FLAG[GF_06MP1201_AFTER_INTERCEPT22]) {	// 迎撃戦22が終了した

		// システムメッセージ
		TalkPopup(UNDEF,0,5,0,0,0) {
			"#8S"
			"#-1W#4C迎撃戦#8C『海からの脅威・破』#4Cが追加された！#10W"
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()

	} else if (FLAG[GF_06MP1201_AFTER_INTERCEPT21]) {	// 迎撃戦21が終了した

		// システムメッセージ
		TalkPopup(UNDEF,0,5,0,0,0) {
			"#8S"
			"#-1W#4C迎撃戦#8C『山からの脅威・序』#4Cが追加された！#10W"
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	
	}
	
	// フェードアウト
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)

}
function "Control_Announce"	//制圧戦の追加アナウンス
{

	SetStopFlag(STOPFLAG_SIMPLEEVENT2)

	FadeOut(FADE_BLACK, 0)
	WaitFade()

	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル

	if (FLAG[GF_CLEAR_CONTROL33] && !FLAG[GF_CLEAR_CONTROL35])			// 解放せよ！　浸食谷が終了した
	{
		PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cクエスト#8C【浸食谷を取り戻せ！】#4Cを達成した！#10W" 
			"#8S"
		}
		Wait(10)
		CallFunc("system:QuestVoice_Success")
		WaitPrompt()
		WaitCloseWindow()

		GetItem(ICON3D_MT_R2_PEARL,2)		//大粒の真珠

		//	アイテム入手メッセージ
		GetItemMessageExPlus(ICON3D_MT_R2_PEARL, 2, ITEMMSG_SE_JINGLE, "を受け取った。", 0, 0)	//『大粒の真珠』
		WaitPrompt()
		WaitCloseWindow()
	
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル

		// システムメッセージ
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4C制圧戦#8C『暗窟に潜む巨体』#4Cが追加された！#10W"
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()

	}
	else	//if(FLAG[GF_CLEAR_CONTROL35])	// 撃滅せよ！　王家の谷が終了した
	{
		PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cクエスト#8C【王家の谷の異変】#4Cを達成した！#10W" 
			"#8S"
		}
		Wait(10)
		CallFunc("system:QuestVoice_Success")
		WaitPrompt()
		WaitCloseWindow()

		GetItem(ICON3D_MT_R4_GOLD,2)		//虹色の宝石

		//	アイテム入手メッセージ
		GetItemMessageExPlus(ICON3D_MT_R4_GOLD, 2, ITEMMSG_SE_JINGLE, "を受け取った。2", 0, 0)	//『虹色の宝石』
		WaitPrompt()
		WaitCloseWindow()

		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル

		// システムメッセージ
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4C制圧戦#8C『眠らぬ墓』#4Cが追加された！#10W"
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()

	}

	// フェードアウト
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)

}


function "entry_1201to1202"		//mp1201→mp1202
{
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOEXTERIOR)

	ExecuteCmd( 1, MoveTo, "LEADER", -9.99f,-1378.87f,11.57f, 0.1f, 0.39f )
	FadeOut(FADE_BLACK,FADE_FAST)
	WaitFade()
	
	SetFlag(TF_MP1202_NOW,1)	//mp1202に入った
	SetFlag(SF_LASTENTRY_NO,0)

	CallFunc("mp1201:init")
	ResetStopFlag(STOPFLAG_CAMERA)

	// イベント発生制御
	if( FLAG[GF_01MP1201_LOOK_MAN] && !FLAG[GF_01MP1202_IN_MP1202] ){	// 人影を見つけた
		StopThread(1)

		SetFlag( TF_NPC_NOLOAD ,1)	//NpcPosition読み込み判定用
		EventCue("mp1201:EV_camera_move")
	}
	else
	{

		SetChrPos("LEADER",2.64f,-1390.27f,11.57f)
		Turn("LEADER",130.00f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()

		CallFunc("system:camera_reset")
		ExecuteCmd( 1, MoveTo, "LEADER", -9.99f,-1378.87f,11.57f, 0.1f, 0.39f )

		FadeIn(FADE_BLACK,FADE_FAST)
		WaitFade()
		ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
		StopThread(1)
	}
}

function "entry_1202to1201"		//mp1201←mp1202
{
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOEXTERIOR)

	ExecuteCmd( 1, MoveTo, "LEADER", 14.78f,-1400.02f,11.49f, 0.1f, 0.39f )
	FadeOut(FADE_BLACK,FADE_FAST)
	WaitFade()
	
	SetFlag(TF_MP1202_NOW,0)	//mp1202から出た
	SetFlag(SF_LASTENTRY_NO,0)

	CallFunc("mp1201:init")
	ResetStopFlag(STOPFLAG_CAMERA)

	SetChrPos("LEADER",7.82f,-1394.42f,11.53f)
	Turn("LEADER",-50.00f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()

	//イベント起動
	if (FLAG[GF_07MP1202_AWAKE_ADOL] && !FLAG[GF_07MP1201_VILLAGE_WALK]) {	// [M07S002][漂流村を回ってみる]
		StopThread(1)
		EventCue("mp1201:EV_M07S002")
	}
	
	//通常遷移
	else
	{
		CallFunc("system:camera_reset")
		ExecuteCmd( 1, MoveTo, "LEADER", 14.78f,-1400.02f,11.49f, 0.1f, 0.39f )

		FadeIn(FADE_BLACK,FADE_FAST)
		WaitFade()
		ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
		StopThread(1)
	}
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//■メインイベントセクション

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

function "EV_M01S040"		//拠点初回
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	ClearDebris()
	ResetMotion( "ALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")

	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrPos("ADOL",44.30f,-1410.96f,10.83f)
	Turn("ADOL",70.00f,360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrPos("LAXIA",45.30f,-1411.96f,10.83f)
	Turn("LAXIA",70.00f,360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)

	MoveCameraAt( 0 , 42.106f , -1412.816f , 12.040f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 8.300f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 15.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 87.000f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 90.000 ,0.000 ,0.550 ,0.350)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetSkipScript("mp1201:EV_M01S040_ED")

//開始処理ここまで-----------------------------------------------
	//　　漂流村予定地に入るとイベント開始。
	//　　周囲を見回しながらマップへ入ってくるアドルとラクシャ。
	ExecuteCmd( 1, MoveTo, "ADOL", 37.38f,-1414.56f,10.83f, 0.1f, 0.25f )
	Wait(10)
	ExecuteCmd( 2, MoveTo, "LAXIA", 38.38f,-1415.56f,10.83f, 0.1f, 0.25f )

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 37.988f , -1415.026f , 12.243f , 150 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.700f , 150 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -9.000f , 150 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 107.000f , 150 )

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	Wait(60)
	Look( "ADOL" , 40.0f , 10.0f )
	Wait(15)
	Look( "LAXIA" , -40.0f , 10.0f )
	WaitThread(1)
	WaitThread(2)
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	Wait(15)

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000e#000mここは……少し変わった場所ですね。"
	}
	WaitPrompt()

	LookChr( "LAXIA" , "ADOL" )
	TurnToChr("LAXIA",  "ADOL", 10.0f)

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000e#000m人がいるかどうか、"
		"ちょっと周りを調べてみましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、頷きモーション後に画面フェードアウトして操作許可。
	LookChr( "ADOL" , "LAXIA" )
	TurnToChr("ADOL",  "LAXIA", 10.0f)
	Wait(10)

	HeadYes( "ADOL", 1 , 25 )
	Wait(35)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	Wait(15)

	PlaySE( SE_PARTYIN , 100 , 0,  0, 0, 1.0f, 0)
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cラクシャがパーティから外れました。#10W" 
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　画面フェードアウトして操作許可。
	//　　・ラクシャは海を見渡せる高台に配置。
	//　　・浜辺マップでは漂着物を取得できるようにしておく。
	//　　・洞窟方向には行けるが中には入れないようストッパーをかける。
	//　　・水晶石、浜辺、高台のイベントを見て中央部に戻ると
	//　　　洞窟に入って行くバルバロスを見かけるイベントが起動する。
	//　　　３つのイベントは順不同だが、場所の都合で
	//　　　水晶石のイベントを最後に起動した場合にのみ
	//　　　次のイベントへ直接接続するよう演出。
	//　　・その他にもダミーのルックポイントイベントを仕掛ける？

	Wait(15)

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M01S040_ED")
}

function "EV_M01S040_ED"
{
	SetSkipScript("")
	RestoreEventState()

	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//エフェクトの停止
	StopEffect(-1,ALL,1)

	//フラグ
	SetFlag(GF_01MP1201_IN_BASE,			1)// 拠点に到着した
	//SetFlag( SF_MISSIONNO, MS_01_04 )	//★冒険メモ：この場所を調べてみよう。
	SetMapMarker( SMI_EVENTPT_MAIN,	PAGE_MP120x, MARKER_EV_M01S050, -3.30f,-1478.58f,24.63f,-3.30f,-1478.58f, 0, MN_T_VILLAGE_MP1201,0)				//イベントマーカー（メイン）	// mp1201	ラクシャと会話
	SetMapMarker( SMI_EVENTPT_MAIN,	PAGE_MP120x, MARKER_EV_M01S060, 5.80f,	-1507.12f,	0.22f, 5.80f,	-1507.12f, 0, MN_T_VILLAGE_MP1201,0)			//イベントマーカー（メイン）	// mp1201	漂着物
	SetMapMarker( SMI_EVENTPT_MAIN,	PAGE_MP120x, MARKER_EV_M01S070, 40.91f,-1420.22f,10.99f, 40.91f,-1420.22f, 0, MN_T_VILLAGE_MP1201,0)	//イベントマーカー（メイン）	// mp1201	水晶石

	SetFlag( GF_MPxxxx_MAP_NAME_NO_DRAW, 0)		// 地名表示制御
	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc( "mp1201:init" )

	//ラクシャをパーティから外す
	//SetFlag(SF_LAXIA_JOINOK,0)				
	//SetPartyMember(PARTY_ADOL , -1 , -1)

	SetChrPos("LEADER",38.96f,-1414.70f,10.83f)
	Turn("LEADER",63.00f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	ChangeCameraElevation( 0 , 4.700f , 0 )			// 基本仰角
	RotateCamera( 0 , 113.000f , 0 )				// 角度
	FixCamera()

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()


//終了処理ここまで----------------------------------------------------
}

function "EV_M01S050"		//高台のラクシャ
{
//開始処理ここから----------------------------------------------------

	CallFunc("system:solo_event_begin")
	
	LoadChr("Laxia")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	ClearDebris()
	ResetMotion( "ALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrPos("ADOL",-1.16f,-1473.70f,24.52f)
	Turn("ADOL",15.00f,360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrInfoFlag( "Laxia" , INFOFLAG_NOCHRATARI )
	SetChrPos("Laxia",-3.30f,-1478.58f,24.63f)
	//Turn("Laxia",1.00f,360.0f)
	Turn("Laxia",14.18f,360.0f)
	ChangeSubAnimation("Laxia",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Laxia",SUBMOT_MOUTH,ANI_M_WAIT,1)
//	ChangeSubAnimation("Laxia",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrWork("Laxia", CWK_DEFAULT_SKIPNODE_OFF, 1)

	MoveCameraAt( 0 , -3.300f , -1478.580f , 25.868f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.700f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.600f , 0 )	// 基本仰角
	RotateCamera( 0 , 309.000f , 0 )				// 角度
	ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ChangeSubAnimation("Laxia",SUBMOT_EYE,ANI_E_SAD,1)
	ChangeSubAnimation("Laxia",SUBMOT_EXT1,ANI_E_SAD,1)
//	ChangeSubAnimation("Laxia",SUBMOT_MOUTH,ANI_E_SAD_E,1)

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 100.000 ,0.000 ,0.150 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetSkipScript("mp1201:EV_M01S050_ED")

//開始処理ここまで-----------------------------------------------

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//	⇒ラクシャのいる高台に近づくと以下のイベント開始。
	TalkPopup("Laxia",0,2,0,0,0)
	{
		"#0557V#000m見渡す限り海ですね……"
		"ここは一体どこなのでしょう？\p"
		"#0558Vせめて近くに"
		"人里があればよかったのですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャの眼前に広がる海を見せるカメラワーク。
	CrossFade(FADE_NORMAL)
	ChangeSubAnimation("Laxia",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Laxia",SUBMOT_EXT1,ANI_E_WAIT,1)

	MoveCameraAt( 0 , -3.300f , -1480.580f , 25.868f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 209.000f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -3.300f , -1480.580f , 26.368f , 120 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 7.000f , 120 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 11.000f , 120 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 119.000f , 120 )
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	Wait(20)

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , -1.656f , -1477.145f , 26.067f , 0 )	// 注視点
	//MoveCameraAt( 0 , -2.680f , -1478.079f , 26.067f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.700f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.585f , 0 )	// 基本仰角
	RotateCamera( 0 , 90.350f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -2.680f , -1478.079f , 26.067f , 90 )

	ExecuteCmd( 1, MoveTo, "ADOL", -2.26f,-1477.70f,24.61f, 0.1f, 0.25f )
	WaitThread(1)
	WaitThread(1000)

	//─────────────────────────
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"綺麗な景色だ……")
	MenuAdd(2,"他の人たちはどうしたんだろう？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	ChangeAnimation( "ADOL" , "ANI_EV_UDEGUMI_S", -1 , 1 )
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_UDEGUMI_S",  0)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	ChangeSubAnimation("Laxia",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	Turn("Laxia", -75.0f, 10.0f)
	LookChr( "Laxia" , "ADOL" )
	Wait(10)
	LookChr( "ADOL" , "Laxia" )

	if (FLAG[TF_MENU_SELECT] == 1)
	{
		//	⇒綺麗な景色だ……
		TalkPopup("Laxia",0,2,0,0,0)
		{
			"#042e#000m#000l何を呑気なことを言っているのです。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "Laxia" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

		TalkPopup("Laxia",0,2,0,0,0)
		{
			"#041e#000mあなたは事故を起こした船の"
			"船員として自覚が足りないのでは？"
		}
		WaitPrompt()
		WaitCloseWindow()

		WaitAnimation2( "Laxia" , -1, 1, "ANI_EV_RYOTEKOSI_S",  0)
		ChangeAnimation( "Laxia" , "ANI_EV_RYOTEKOSI_TEBURI", -1 , 1 )

		TalkPopup("Laxia",0,2,0,0,0)
		{
			"#042e#000m他の船員や乗客もここへ"
			"流れ着いているかもしれません。\p"
			"#000mとにかく人を探しましょう。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		//	⇒他の人たちはどうしたんだろう？
		TalkPopup("Laxia",0,2,0,0,0)
		{
			"#012e#000m#000l……それが分からないから、"
			"こうして手がかりを探しているのです。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "Laxia" , "ANI_EV_WAIT2_S", -1 , 1 )

		TalkPopup("Laxia",0,2,0,0,0)
		{
			"#011e#000mわたくしたちと同じように"
			"ここへ流れ着いている可能性もあります。\p"
			"#012e#000mぼやぼやしていないで、"
			"人がいないか探してみましょう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	ChangeAnimation( "ADOL" , "ANI_EV_UDEGUMI_E", -1 , 1 )
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_UDEGUMI_E",  0)

	//　　操作許可。
	FadeOut(FADE_BLACK,FADE_FAST)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M01S050_ED")
}

function "EV_M01S050_ED"
{
	SetSkipScript("")
	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//フラグ処理
	SetFlag(GF_01MP1201_TALK_LAXIA,			1)// ラクシャと話した
	DelMapMarker( SMI_EVENTPT_MAIN,	PAGE_MP120x, MARKER_EV_M01S050, 0, 0)				//イベントマーカー（メイン）	// mp1201	ラクシャと会話

	CallFunc(　"mp1201:init" )

	if( FLAG[GF_01MP1201_TALK_LAXIA] && FLAG[GF_01MP1201_GET_DRIFT] && FLAG[GF_01MP1201_CHECK_STONE] )
	{
		EventCue("mp1201:EV_M01S080")
	}
	else
	{
		SetChrPos("LEADER",-2.26f,-1477.70f,24.61f)
		Turn("LEADER",15.00f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		ResetCameraObserver(0)
		ResetCameraZPlane()
		FixCamera()

		ResetStopFlag(STOPFLAG_EVENT)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
//終了処理ここまで----------------------------------------------------
}

function "EV_M01S060"		//漂流物を調べる
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,FADE_FAST)
	WaitFade()

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()
	
	ClearDebris()
	ResetMotion( "ALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrPos("ADOL",6.73f,-1508.57f,0.13f)
	Turn("ADOL",150.00f,360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	Look( "ADOL" , 0.0f , -10.0f )

	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a07.itp" )	// help_a07：漂着物
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)

	MoveCameraAt( 0 , 6.000f , -1507.120f , 0.570f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 7.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 31.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 0.000f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 2.000, 30.000 ,0.000 ,0.150 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetSkipScript("mp1201:EV_M01S060_ED")

//開始処理ここまで-----------------------------------------------

	ExecuteCmd(1000, ChangeCameraDistance, INTERPOLATE_SPHERE , 6.300f , 45 )

	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

	WaitThread(1000)

	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cどうやら漂着物のようだ……"
	}
	WaitPrompt()
	WaitCloseWindow()


	//　　箱が開くアニメーションとSE。
	ChangeAnimation( "tbox" , "ANI_OPEN", 0 , 1 )
	Wait(30)

	ChangeAnimation( "ADOL" , "ANI_GET_ITEM", -1 , 1 )//テストで入れました(大草)
	Wait(15)

	//	テキスト
	GetItemMessageExPlus(ICON3D_FD_MEAT_01 , 3 , ITEMMSG_SE_BETTER , "を手に入れた。" , 0 , 0 )
	WaitPrompt()
	WaitCloseWindow()

	//　　テキストを閉じると[漂着物]の
	//　　チュートリアルを表示して操作許可。

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_FAST)
	WaitFade()


	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		Portrait_Close(1)
		Portrait_Close(2)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		Portrait_Close(0)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M01S060_ED")
}

function "EV_M01S060_ED"
{
	SetSkipScript("")
	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")

	//マップパラメーターリセット
	ResetMapParam( -1 )

	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//自動送り許可
	SetStopFlag(STOPFLAG_AUTOMESSAGE)

	//フラグ
	SetFlag( GF_HELP_A07, 1 )	// チュートリアル：漂着物
	SetFlag(GF_01MP1201_GET_DRIFT,			1)// 漂流物を入手した
	DelMapMarker( SMI_EVENTPT_MAIN,	PAGE_MP120x, MARKER_EV_M01S060, 0, 0)			//イベントマーカー（メイン）	// mp1201	漂着物
	SetFlag(GF_MP1201_TBOX01, 1)

	//　　アイテム入手
	GetItem(ICON3D_FD_MEAT_01, 3)
//	GetItem(ICON3D_US_BERRY, 1)		

	ChangeAnimation( "tbox" , "ANI_STOP2", 0 , 1 )
	SetChrWork("tbox", CWK_CHECKOFF, 1)		// 普通のルックポイントをオフに
//	SetChrPos("tbox", -100000.00f,	0.00f,	0.00f)
//	SetChrPos("TBOX01",5.80f,	-1507.12f,	0.22f)
//	Turn2("TBOX01",-34.0f,360.0f,0)

	CallFunc("mp1201:init" )

	if( FLAG[GF_01MP1201_TALK_LAXIA] && FLAG[GF_01MP1201_GET_DRIFT] && FLAG[GF_01MP1201_CHECK_STONE] )
	{
		LoadArg("map/mp1201/mp1201.arg")
		EventCue("mp1201:EV_M01S080_ED")
	}
	else
	{
		SetChrPos("LEADER",6.73f,-1508.57f,0.13f)
		Turn("LEADER",150.00f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		ResetCameraObserver(0)
		ResetCameraZPlane()
		FixCamera()

		ResetStopFlag(STOPFLAG_EVENT)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
//終了処理ここまで----------------------------------------------------
}

function "EV_M01S070"		//水晶石を調べる
{
//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin_fast")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	ClearDebris()
	ResetMotion( "ALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrPos("ADOL",39.30f,-1420.30f,10.95f)
	Turn("ADOL",-90.00f,360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	Look( "ADOL" , 0.0f , 5.0f )

	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a06.itp" )	// help_a06：水晶石とリトライ
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	
	MoveCameraAt( 0 , 40.100f , -1420.30f , 12.100f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.100f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 240.000f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 2.000, 30.000 ,0.000 ,0.150 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetSkipScript("mp1201:EV_M01S070_ED")

//開始処理ここまで-----------------------------------------------
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 40.100f , -1420.30f , 12.450f , 60 )

	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

	WaitThread(1000)

	//	⇒水晶石のルックポイントを調べると以下のイベント開始。
	//　　アドルが水晶石に手をかざすとメッセージを表示。

	//	テキスト
//	TalkMes(UNDEF,"#7C水晶石から心地のよい波動を感じる……","","")
//	WaitPrompt()
//	WaitCloseWindow()

	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7C巨大な水晶がある。"
		"#7C近づくと不思議と心身が安らぐようだ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　回復エフェクトを表示する。
	ChangeAnimation( "chkpt_dummy" , "ANI_START", 0 , 1 )

	PlaySE(SE_HEAL, 100, 0,  0, 0, 1.0f, 0)
	Effect2( SYSEFX_SYSHEAL , 39.30f,-1420.30f,11.15f , 0 , 0 , 0 , IMPACT_NONE , KNOCK_EFXPOS , 0 , 1.0f, 1.0f)
	Wait(30)

	//	テキスト
//	TalkMes(UNDEF,"#7Cアドルの体力が回復した！","","")
//	WaitPrompt()
//	WaitCloseWindow()

	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cアドルの体力が回復した！#10W" 
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()


	//　　[水晶石]のチュートリアルを表示。
	//　　チュートリアルを終了後は、
	//　　⇒高台、漂着物いずれかのイベントを見ていない場合は操作許可。
	//　　⇒すでに高台と漂着物のイベントを見ている場合は下記のイベントへ接続

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_FAST)
	WaitFade()

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		Portrait_Close(1)
		Portrait_Close(2)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		Portrait_Close(0)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M01S070_ED")
}

function "EV_M01S070_ED"
{
	SetStopFlag(STOPFLAG_EVENT)
	SetSkipScript("")

	RestoreEventState()

	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	CallFunc("system:reset_chrmot_ADOL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//自動送り許可
	SetStopFlag(STOPFLAG_AUTOMESSAGE)

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//エフェクトの停止
	StopEffect(-1,ALL,1)

	// フラグ処理
	SetFlag(SF_SETRAMSAVE,1)		//リトライセーブ
	SetFlag( GF_HELP_A06, 1 )	// チュートリアル：水晶石とリトライ
	SetFlag(GF_01MP1201_CHECK_STONE,		1)// 水晶石を調べた
	DelMapMarker( SMI_EVENTPT_MAIN,	PAGE_MP120x, MARKER_EV_M01S070, 0, 0)	//イベントマーカー（メイン）	// mp1201	水晶石

	SetChrPos("chkpt_dummy",-100000.00f,0.00f,0.00f,0)		//◆仮　後で自動化される見込み
	SetChrPos("chkpt",40.91f,-1420.22f,10.99f,48.0f)		//◆仮　後で自動化される見込み
	SetCheckPoint(CP_MP1201_01)

	DelMapMarker( SMI_WARPPT, PAGE_MP120x, -1, 41, -1420)	// 古い水晶石マーカーの撤去
	SetMapMarker( SMI_CHECKED_WARPPT, PAGE_MP120x, -1, 41, -1420, 11, 41, -1420, CP_MP1201_01, MN_T_VILLAGE_MP1201,0)	// 新しい水晶石マーカーを設置

	//回復処理
	HP_Recover( 9999 )

	ChangeAnimation( "chkpt" , "ANI_STOP", -1 , 1 )

	CallFunc( "mp1201:init" )

	if( FLAG[GF_01MP1201_TALK_LAXIA] && FLAG[GF_01MP1201_GET_DRIFT] && FLAG[GF_01MP1201_CHECK_STONE] )
	{
		EventCue("mp1201:EV_M01S080_ED")
	}
	else
	{
		SetChrPos("LEADER",38.40f,-1420.30f,10.95f)
		Turn("LEADER",-90.00f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		ResetCameraObserver(0)
		ResetCameraZPlane()
		FixCamera()

		ResetStopFlag(STOPFLAG_EVENT)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()

	}
//終了処理ここまで----------------------------------------------------
}

function "EV_M01S080"		//バルバロスの姿を見かける
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,0)
	WaitFade()
	
	LoadChr("Barbaross")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	ClearDebris()
	ResetMotion( "ALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))

	//ラクシャパーティへ
	//SetFlag(SF_LAXIA_JOINOK,1)							
	//SetPartyMember(PARTY_ADOL , PARTY_LAXIA , -1)		

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("LAXIA",30.96f,-1423.21f,10.83f)
	Turn("LAXIA",-179.42f,360.0f)

	SetChrPos("ADOL",30.91f,-1418.60f,10.83f)
	Turn("ADOL",72.19f,360.0f)
	LookReset( "ADOL" )
	Look( "ADOL" , 0.0f , 30.0f )

	MoveCameraAt( 0 , 30.925f , -1418.609f , 12.546f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.320f , 0 )		// 基本距離
	ChangeCameraDistance( 0 , 3.620f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -8.921f , 0 )	// 基本仰角
	RotateCamera( 0 , 97.768f , 0 )				// 角度
	//RotateCamera( 0 , 107.768f , 0 )				// 角度
	ChangeCameraPers( 0 , 41.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 1.4f , 0 )				// ロール回転
	RollCamera( 0 , 0f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 90.000 ,0.000 ,0.550 ,0.350)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//　　三つのイベントを見終えた場合は
	//　　中央部に戻ると以下のイベントが起動する。
	//　　キャラクターを再配置。
	//　　ラクシャが高台の方向から歩いてくる。

	LookTo( "LAXIA" , 30.915f , -1418.557f , 12.546f )// to アドル
	LookSpd( "LAXIA", 0.15f, 0.15f, 0.15f )// ゆっくりめに首向き
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD_S,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_SAD_S,1)

	SetSkipScript("mp1201:EV_M01S080_ED")

//開始処理ここまで-----------------------------------------------

	ExecuteCmd(1000, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.320f, 45 )

	FadeIn(FADE_BLACK,45)
	WaitFade()

	WaitThread(1000)
	Wait(15)
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.863f , -1419.443f , 12.198f , 75 )
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.263f , 75 )
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE ,123.717f , 75 )
	ExecuteCmd( 1, MoveTo, "LAXIA", 30.92f,-1420.40f,10.83f, 0.1f, 0.25f )

	WaitThread(1)

	LookReset( "ADOL" )
	LookChr( "ADOL" , "LAXIA" )
	TurnToChr("ADOL",  "LAXIA", 10.0f)
	Wait(10)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#050e#000m……一通り見回ってみましたが、"
		"どうやら誰もいないようです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookTo( "LAXIA" , 28.848f , -1419.647f , 13.059f )// to 背景

	//　　改めて周囲を見回すラクシャ。
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000e#000m#000lそれにしても、この場所は"
		"四方を岩壁に囲まれているのですね。"
	}
	WaitPrompt()
	WaitCloseWindow()
	Wait(5)

	//─────────────────────────
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"窮屈な場所だな")
	MenuAdd(2,"身を隠すのに向いているな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	ChangeAnimation( "ADOL" , "ANI_EV_WAIT2_S", -1 , 1 )
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_WAIT2_S",  0)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	LookTo( "LAXIA" , 30.915f , -1418.557f , 12.546f )// to アドル

	if (FLAG[TF_MENU_SELECT] == 1)
	{
		//	⇒窮屈な場所だな
		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#011e#000mそうかもしれませんが、"
			"安全そうな場所ではありますね。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_S", -1 , 1 )

		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#012e#000m獣たちの気配もありませんし、"
			"ここならば行動の拠点に向いて……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		//	⇒身を隠すのに向いているな
		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#011e#000mええ、要害と呼ぶに相応しい場所です。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_S", -1 , 1 )

		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#012e#000m獣たちの気配もないようですし、"
			"ここならば行動の拠点に向いて……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	//　　ラクシャが洞窟方面を見て何かに気づく。
	//　　「！」エモーションを表示。
	LookTo( "LAXIA" ,30.314f , -1418.686f , 12.496f )// to 洞穴

	ChangeSubAnimation("Laxia",SUBMOT_EYE,ANI_E_SUP_S,1)
	ChangeSubAnimation("Laxia",SUBMOT_EXT1,ANI_E_SUP_S,1)
	EmotionEx("LAXIA", 0.00f,EMO_EX,0,5,1,1,1.15f )
	Wait(40)

	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_E", -1 , 1 )

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"あれは……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルに「？」エモーションを表示
	EmotionEx("ADOL", -0.01f,EMO_Q,0,5,1,1,1.0f )
	ChangeAnimation( "ADOL" , "ANI_EV_WAIT2_E", -1 , 1 )

	Wait(30)
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_WAIT2_E",  0)

	ChangeAnimation( "LAXIA" , "ANI_EV_TEBURI", -1 , 1 )

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#030e#000mい、今、そちらの奥に"
		"人影が見えた気がしたのですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset( "ADOL" )
	Turn("ADOL",166.82f,15.0f)

	Wait(25)

	//　　カメラスクロールして後に住居となる洞穴を見せる。
	//　　ここではまだバルバロスの姿を実際に見せない。
	CrossFade(FADE_FAST)

	Turn("ADOL",143.32f,360.0f)
	LookReset( "ADOL" )
	LookReset( "LAXIA" )
	LookSpd( "LAXIA", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT )
	LookTo( "LAXIA" , 32.083f , -1416.242f , 12.372f  )// to アドル2

	SetChrPos("ADOL",32.08f,-1416.34f,10.83f	)
	SetChrPos("LAXIA",32.96f,-1418.20f,10.83f)
	Turn("LAXIA",162.17f,360.0f)

	MoveCameraAt( 0 , 32.656f , -1413.913f , 12.644f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.719f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.945f , 0 )	// 基本仰角
	RotateCamera( 0 , 86.266f , 0 )				// 角度
	ChangeCameraPers( 0 , 53.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.7f , 0 )				// ロール回転
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 25.376f , -1409.152f , 12.644f , 80 )
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE , 69.591f, 80 )

	WaitThread(1000)
	WaitThread(1001)
	Wait(20)

	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , 32.447f , -1416.816f , 12.322f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.249f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.342f , 0 )	// 基本仰角
	RotateCamera( 0 , 174.674f , 0 )				// 角度
	ChangeCameraPers( 0 , 36.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)
	TurnToChr("ADOL",  "LAXIA", 10.0f)
	Wait(10)

	//─────────────────────────
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"誰もいないみたいだな")
	MenuAdd(2,"すぐに追いかけてみよう")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadNo("ADOL" , 1 , 35)
		Wait(45)
	}
	else {
		HeadYes("ADOL" , 1 , 25)
		Wait(35)
	}
	LookTo( "LAXIA" , 32.083f , -1416.242f , 12.372f  )// to アドル2
//	ChangeAnimation( "ADOL" , "ANI_EV_TEBURI", -1 , 1 )
	ChangeAnimation( "LAXIA" , "ANI_EV_WAIT2_S", -1 , 1 )	

	if (FLAG[TF_MENU_SELECT] == 1)
	{
		//	⇒誰もいないみたいだな
		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#030e#000mわたくしの見間違いだとでも？\p"
			"#041e漂流者か住人か判りませんが……"
			"すぐに追いかけましょう！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		//	⇒すぐに追いかけてみよう
		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#030e#000mええ、漂流者か住人か判りませんが、"
			"何か聞き出せるかもしれません。\p"
			"#041eすぐに追いかけましょう！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	Wait(10)
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M01S080_ED")
}

function "EV_M01S080_ED"
{
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,FADE_FAST)

	SetSkipScript("")
	RestoreEventState()

	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//フラグ
	SetFlag(GF_01MP1201_LOOK_MAN,			1)// 人影を見つけた
	//SetFlag( SF_MISSIONNO, MS_01_05 )	//★冒険メモ：ラクシャが見たという人影を追ってみよう。
	//SetFlag( GF_PARTY_NONE , 1)		//パーティ全員行動
	//FixPlayerChr(PARTY_NONE)	// アドルおひとり様モードOFF
	EntryOn(01,1)	//洞窟エントリーON

	SetFlag(GF_TBOX_DUMMY108,0)
	SetFlag(GF_TBOX_DUMMY127,0)
	SetChrPos("Laxia",-100000.0f ,0.0f , 0.0f )
	SetChrPos("Adol",-100000.0f ,0.0f , 0.0f )

	CallFunc("mp1201:init" )

	SetChrPos("LEADER",30.63f,-1417.81f,10.83f)
	Turn("LEADER",130.62f,360.0f)
	
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	MoveCameraAt( 0 , 30.630f , -1417.810f , 12.656f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.627f , 0 )	// 基本仰角
	RotateCamera( 0 , 41.972f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()


//終了処理ここまで----------------------------------------------------
}

function "EV_M01S162"		//バルバロスと再会する3	
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,0)
	WaitFade()
	SetEnvSEPlayState(-1, 0)	//環境SE全停止	ホントはinitでやらないとだめ

	LoadChr("Barbaross")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	ClearDebris()
	ResetMotion( "ALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")

	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrPos("ADOL",27.30f,-1411.54f,11.59f)
	Turn("ADOL",-28.00f,360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrPos("LAXIA",26.70f,-1410.48f,11.59f)
	Turn("LAXIA",-28.00f,360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI )
	SetChrPos("Barbaross",27.90f,-1412.70f,11.50f)
	Turn("Barbaross",-28.00f,360.0f)
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)

	MoveCameraAt( 0 , 30.684f , -1415.990f , 12.120f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.500f , 0 )		// 基本距離
	//ChangeCameraDistance( 0 , 7.500f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 73.000f , 0 )				// 角度
	ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 90.000 ,0.000 ,0.150 ,0.550)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

//	CallFunc("mp1201:init_camp_lv")		// 集落レベルの各種設定を行うスレッドを呼び出す

	SetSkipScript("mp1201:EV_M01S162_ED")

//開始処理ここまで-----------------------------------------------

	Wait(15)

	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cアドルたち三人は来た道を引き返し、"
		"#7C入り江のほとりへと戻ってきた。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd( 1, MoveTo, "Barbaross", 30.08f,-1419.92f,10.83f, 0.1f, 0.28f )
	Wait(3)
	ExecuteCmd( 2, MoveTo, "ADOL", 30.86f,-1418.64f,10.83f, 0.1f, 0.275f )
	Wait(3)
	ExecuteCmd( 3, MoveTo, "LAXIA", 29.84f,-1418.08f,10.83f, 0.1f, 0.27f )

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.561f , -1418.879f , 12.294f , 130 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.500f , 130 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.524f, 130 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 102.439f, 130 )

	SetEnvSEPlayState(1201001, 1)	//環境SE復帰
	SetEnvSEPlayState(1201002, 1)	//環境SE復帰
	SetEnvSEPlayState(1201003, 1)	//環境SE復帰
	SetEnvSEPlayState(1201101, 1)	//環境SE復帰

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　画面フェードインして、バルバロスを先頭に
	//　　３人が漂流村予定地の中央部まで歩いてくる。
	WaitThread(1)
	Turn("Barbaross",-160.0f,10.0f)
	WaitThread(2)
	LookChr( "ADOL" , "Barbaross" )
	TurnToChr("ADOL","Barbaross",10.0f)
	WaitThread(3)
	LookChr( "LAXIA" , "Barbaross" )
	TurnToChr("LAXIA","Barbaross",10.0f)
	Wait(10)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000e#000m……それで、これから"
		"どうなさるおつもりですか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#011e#000mええ、それなのですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルのほうに向きなおるバルバロス。
	LookChr( "Barbaross" , "ADOL" )
	ChangeAnimation( "Barbaross" , "ANI_EV_TEBURI", -1 , 1 )

	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#012e#000mアドル、冒険家である君に"
		"手を貸してほしいことがあるのだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 29.934f , -1418.723f , 12.269f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.412f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.954f , 0 )	// 基本仰角
	RotateCamera( 0 , 162.501f , 0 )				// 角度
	ChangeCameraPers( 0 , 41.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.047f , -1418.759f , 12.269f , 90 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.802f , 90 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -9.530f , 90 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,162.628f , 90 )
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE , -6.4f , 90 )

	//MoveCameraAt( 0 , 30.047f , -1418.759f , 12.269f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.802f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -3.954f , 0 )	// 基本仰角
	//RotateCamera( 0 , 162.502f , 0 )				// 角度
	//ChangeCameraPers( 0 , 41.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転

	//　　ラクシャにPAエモーション
	EmotionEx("LAXIA", 0.00f,EMO_PA,0,5,1,1,1.0f )

	LookChr( "LAXIA" , "ADOL" )
	Wait(35)

	//────────────────────
	if (FLAG[GF_01MP1101_IAM_ADVENTURER] == 1)
	{
		//	⇒アドルが冒険家だとラクシャが聞いている場合
		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#070e#000m冒険家……それではあなた、"
			"本当に船員ではなかったの？"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	else
	{
		//	⇒アドルが冒険家だとラクシャが聞いていない場合
		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#070e#000m冒険家って……あなたのこと？"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	//　　ラクシャに頷くアドル。
	LookChr( "ADOL" , "LAXIA" )
	Wait(13)
	HeadYes( "ADOL", 1 , 25 )
	Wait(30)

	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_JITO_S,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_JITO_S,1)

	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000m#0L……………………………………"	//（険しい顔）"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr( "ADOL" , "Barbaross" )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	LookChr( "LAXIA" , "Barbaross" )
	
	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000e#000mまず一つ目の依頼は、"
		"ラクシャさんのような乗客の捜索だ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Barbaross" , "ANI_EV_TEBURI", -1 , 1 )

	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000e#000m他の乗客も我々のように"
		"この島に漂着している可能性がある。\p"
		"#011e#000m女性や子供もいるかもしれない……"
		"急ぐ必要があるだろう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"心配ですね……")
	MenuAdd(2,"すぐに出発します")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	HeadYes("ADOL" , 1 , 25 )
	Wait(25)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	HeadYes("Barbaross" ,1 , 25 )
	
	//─────────────────────────
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		//	⇒心配ですね……
		TalkPopup("Barbaross",0,2,0,0,0)
		{
			"#000mうむ、獣も徘徊しているようだしな。"
		}
		WaitPrompt()
		ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_CLOSE_E,1)
		WaitCloseWindow()
	}
	else
	{
		//	⇒すぐに出発します
		TalkPopup("Barbaross",0,2,0,0,0)
		{
			"#000mうむ、よろしく頼んだぞ。"
		}
		WaitPrompt()
		ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_CLOSE_E,1)
		WaitCloseWindow()
	}
	//─────────────────────────
	Wait(10)

	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	StopThread(1006)

	MoveCameraAt( 0 , 30.225f , -1419.014f , 12.468f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.760f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -8.682f , 0 )	// 基本仰角
	RotateCamera( 0 , 101.306f , 0 )				// 角度
	ChangeCameraPers( 0 , 39.100f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Turn("Barbaross",-156.22f,10.0f)
	Wait(10)
	ChangeAnimation( "Barbaross" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#011e#000mそれと同時にもう一つ、"
		"やってもらいたいことがあるのだ。\p"
		"#012eそれはこの島……"
		"セイレン島の《地図》を作ることだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"なぜですか？")
	MenuAdd(2,"地図作りは経験があります")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//─────────────────────────
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		//	⇒なぜですか？

		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		HeadNo("ADOL" , 1 , 35 )
		Wait(35)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		TalkPopup("Barbaross",0,2,0,0,0)
		{
			"#000e#000mうむ、考えてもみてくれ……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		//	⇒地図作りは経験があります

		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		HeadYes("ADOL" , 1 , 25 )
		Wait(25)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		TalkPopup("Barbaross",0,2,0,0,0)
		{
			"#070m#080mほう？　それは心強いな。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#011e#000mこの海域に船が通ることはない……"
		"救援が来る可能性は皆無と考えるべきだ。\p"
		"#012e脱出には準備が必要で、"
		"しばらく島に滞在することになるだろう。\p"
		"そうなると正確な地理や周辺状況を"
		"皆で共有する必要が出てくる。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"なるほど……")
	MenuAdd(2,"準備、ですか……？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	ChangeAnimation( "ADOL" , "ANI_EV_SIAN_S", -1 , 1 )
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_SIAN_S",  0)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	//─────────────────────────
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		//	⇒なるほど……
		TalkPopup("Barbaross",0,2,0,0,0)
		{
			"#011e#000mうむ、地図があれば、"
			"乗客の捜索も効率的に行えるだろう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		//	⇒準備、ですか……
		TalkPopup("Barbaross",0,2,0,0,0)
		{
			"#011e#000mうむ、水や食料の蓄えはもちろん……"
			"何とか船を用意しなければな。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	ChangeAnimation( "Barbaross" , "ANI_EV_UDEGUMI_E", -1 , 1 )
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000e#000mどうだろう、アドル。"
		"頼まれてはもらえないか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"僕もロンバルディアの一員です")
	MenuAdd(2,"僕もこの島には興味があります")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	ChangeAnimation( "ADOL" , "ANI_EV_SIAN_E", -1 , 1 )
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_SIAN_E",  0)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	//─────────────────────────
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		//	⇒僕もロンバルディアの一員です
		TalkPopup("Barbaross",0,2,0,0,0)
		{
			"#011e#080mフフ、そうだったな……"
			"なんと頼もしい言葉であることか。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		//	⇒この島には僕も興味があります
		TalkPopup("Barbaross",0,2,0,0,0)
		{
			"#011e#080mフフ、そうだったな…… "
			"さすがは冒険家といったところか。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────
	Wait(10)

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 30.179f , -1419.445f , 12.418f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.250f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 13.305f , 0 )	// 基本仰角
	RotateCamera( 0 , 300.225f , 0 )				// 角度
	ChangeCameraPers( 0 , 43.100f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	ChangeAnimation( "Barbaross" , "ANI_EV_TEBURI", -1 , 1 )	
	TalkPopup("Barbaross",0,1,0,0,0)
	{
		"#000e#000m#020l私も近辺の探索を行いつつ、"
		"ここに拠点を築こうと考えている。\p"
		"#000lしばらく島に滞在するとなれば、"
		"やはり行動の拠点が必要となるだろう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.000f , -1419.137f , 12.418f , 45 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.470f , 45 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 13.306f , 45 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 306.423f , 45 )
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE , -6.4f , 45 )

	//MoveCameraAt( 0 , 30.000f , -1419.137f , 12.418f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.470f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 13.306f , 0 )	// 基本仰角
	//RotateCamera( 0 , 306.423f , 0 )				// 角度
	//ChangeCameraPers( 0 , 43.100f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転


	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_E", -1 , 1 )
	WaitThread(1000)

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000e#000mあの、バルバロス船長。"
		"わたくしは……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr( "ADOL" , "LAXIA" )
	Turn("Barbaross",-176.11f,5.0f)

	LookChr( "Barbaross" , "LAXIA" )

	//	"Barbaross"
	TalkPopup("Barbaross",0,1,0,0,0)
	{
		"#000e#000mラクシャさんには安全のためにも"
		"ここへ残っていただきたい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#011e#000m#0L……………………………………\p"
		"#1L……この状況で指をくわえて、"
		"ただ見ていろと仰るのですか？\p"
		"#042e#000m#001aお心遣いはありがたいのですが、"
		"それではロズウェル家の名折れです。\p"
		"わたくしはこの“冒険家”と"
		"行動をともにさせていただきます。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルに「！」エモーション
	//LookChr( "ADOL" , "LAXIA" )
	EmotionEx("ADOL", 0.0f,EMO_PA,0,5,1,1,1.15f)	// ！
	Wait(40)

	TalkPopup("Barbaross",0,1,0,0,0)
	{
		"#050e#000mしかし……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#011e#000m今回の件でわたくしに同行した"
		"使用人が消息不明になっています。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　バルバロスに「！」エモーション。
	EmotionEx("Barbaross", -0.01f,2,5,5,1,1,1.0f)	// ！
	Wait(40)

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#012e#000mその捜索を人任せにして、"
		"安穏とするわけにはいきません。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//	"Barbaross"
	TalkPopup("Barbaross",0,1,0,0,0)
	{
		"#000m#020lそれは……そうでしたか……\p"
		"#061e#000m#000lわかりました……"
		"そこまでおっしゃるのであれば。\p"
		"#062e#000mですが、どんな危険が"
		"潜んでいるか分からない状況です。\p"
		"くれぐれもお気をつけください。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA" , "ANI_EV_TEMUNE_E", -1 , 1 )

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#011e#000mありがとうございます。"
		"それでは行って参ります。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　画面フェードアウト。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	StopThread(1006)

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M01S162_ED")
}

function "EV_M01S162_ED"
{
	SetSkipScript("")
	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_Barbaross")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//エフェクトの停止
	StopEffect(-1,ALL,1)

	EventCue("mp1201:EV_M01S163")

	ResetStopFlag(STOPFLAG_EVENT)

//終了処理ここまで----------------------------------------------------
}

function "EV_M01S163"		//バルバロスと再会する4	
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	ResetStopFlag(STOPFLAG_CINEMA)

	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Barbaross")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	ClearDebris()
	ResetMotion( "ALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrPos("ADOL", 32.59f, -1416.28f, 10.83f)	//33.30f,-1415.98f,10.83f)
	Turn("ADOL", -122.89f, 360.0f)	//-130.00f,360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrPos("LAXIA",33.83f, -1415.22f, 10.83f)	//33.56f,-1414.80f,10.86f)
	Turn("LAXIA",-113.00f,360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI )
	SetChrPos("Barbaross",30.08f,-1419.92f,10.83f)
	Turn("Barbaross",-28.00f,360.0f)
	ChangeAnimation( "Barbaross" , "ANI_EV_SIAN", -1 , 1 )
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)

	// 初期カメラ
	MoveCameraAt( 0 , 35.840f , -1413.707f , 11.888f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.236f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.147f , 0 )	// 基本仰角
	RotateCamera( 0 , 112.546f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 2.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 90.000 ,0.000 ,0.150 ,0.550)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetSkipScript("mp1201:EV_M01S163_ED")

	//開始処理ここまで-----------------------------------------------

	//　　キャラクターを再配置して
	//　　拠点の外れにアドルとラクシャが
	//　　二人で会話をしている状態。

	// カット1 -----------------------------------------------------------------------------------------

	// 移動
	ExecuteCmd( 1, MoveTo, "LAXIA", 36.56f,-1413.02f,10.86f, 0.1f, 0.19f )
	Wait(5)
	ExecuteCmd( 2, MoveTo, "ADOL", 35.41f, -1413.54f, 10.83f, 0.1f, 0.182f )
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 36.185f , -1413.253f , 12.254f, 80 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.052f , 80 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,  -9.658f , 80 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 140.971f , 80 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 35.000f , 80 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 5.8f , 80 )		// ロール回転

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	// 移動待ち
	WaitThread(1)
	WaitThread(2)
	
	LookChr("ADOL", "LAXIA")

	FadeBGM(70,10)
	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち
	
	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_S", -1 , 1 )	// 腕組み
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_ANGER_CLOSE_S, 1)	// 目


	// ラクシャ
	TalkMes("LAXIA","#0569V#040e#000m#0L………………………………","","")
	WaitPrompt()
	WaitCloseWindow()
	
	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"なぜあんな強引に？")
	MenuAdd(2,"使用人って誰のこと？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// （アドル）手振り
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )

	if (FLAG[TF_MENU_SELECT] == 1)
	{
		PlayVoice(SVO_ADL_CALL_4 , "ADOL" , 100 )	//ええと
	}
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		PlayVoice(SVO_ADL_CALL_1 , "ADOL" , 100 )	//あの
	}

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
//	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_E", -1 , 1 )	// 腕組み（戻す）
	WaitAnimation( "LAXIA" , -1, 1 )
	
	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
//	// カメラ
//	MoveCameraAt( 0 , 35.843f , -1413.320f , 12.174f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 1.940f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -0.774f , 0 )	// 基本仰角
//	RotateCamera( 0 , 323.343f , 0 )				// 角度
//	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 100.000f )			// ZPlane
//	RollCamera( 0 , 14.1f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	MoveCameraAt( 0 , 35.843f , -1413.320f , 12.294f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.090f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.143f , 0 )	// 基本仰角
	RotateCamera( 0 , 323.350f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 100.000f )			// ZPlane
	RollCamera( 0 , 5.2f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 35.843f , -1413.320f , 12.294f, 40 )		// 注視点
	
	Turn("LAXIA", 18.0f, 7.0f)
	LookChr( "LAXIA" , "ADOL" )

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち

	//─────────────────────────
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		//	⇒なぜあんな強引に？
		
		// ラクシャ
		TalkMes("LAXIA","#0570V#030e#000m……アドル・クリスティン、",
			"わたくしの質問に答えなさい。","")
		WaitPrompt()
		
		ChangeAnimation( "LAXIA" , "ANI_EV_TEBURI", -1 , 1 )	// 手振り
		
		// ラクシャ
		TalkMes("LAXIA","#0571V#030e#000mあなたは一体何者なのですか？","","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		//	⇒使用人って誰のこと？
		
		// ラクシャ
		TalkMes("LAXIA","#0572V#030e#000m……あれは船長を",
			"説得するための方便です。","")
		WaitPrompt()
		
		ChangeAnimation( "LAXIA" , "ANI_EV_TEBURI", -1 , 1 )	// 手振り
		
		// ラクシャ
		TalkMes("LAXIA","#0573V#030e#000mそれよりアドル・クリスティン……",
			"あなたは一体何者なのですか？","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//─────────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , 36.006f , -1413.265f , 12.235f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.775f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -6.235f , 0 )	// 基本仰角
	RotateCamera( 0 , 49.415f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 2.2f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 35.900f , -1413.218f , 12.254f, 500 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,  2.612f , 500 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,5.804f , 500 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 337.993f , 500 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 30.000f , 500 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 10.1f , 500 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	//　　アドル「？」エモーション。
	ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	EmotionEx("ADOL", 0.00f, EMO_Q, 0, 5, 1, 1, 0.8f )	// 「？」
	LookRoll("ADOL", -10.0f)	// かしげる
	Wait(40)
	LookRoll("ADOL", 0.0f)	// かしげる戻す
	
	
	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち

	ChangeAnimation( "LAXIA" , "ANI_EV_TEBURI", -1 , 1 )	// 手振り
	
	// ラクシャ
	TalkMes("LAXIA","#0574V#110e#000m剣の腕が立つことは認めましょう……","剣の腕2行目","")
	WaitPrompt()
	
	// ラクシャ
	TalkMes("LAXIA","#0575V#110e#000mでも、“冒険家”とは何ですか？",
		"そんなふざけた肩書は初めて聞きます。","")
	WaitPrompt()
	
	LookSpd("LAXIA", 0.08f, 0.08f, 0.08f )// ゆっくりめに首向き
	LookReset("LAXIA")
	Look("LAXIA", 0.0f, -25.0f)	// うつむく
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_ANGER_CLOSE_S, 1)	// 目
	
	// ラクシャ
	TalkMes("LAXIA","#0576V#000m“冒険”なんてものは、",
		"所詮は道楽の類ではありませんか。","")
	WaitPrompt()
	
	LookSpd("LAXIA", 0.05f, 0.05f, 0.05f )// ゆっくりめに首向き
	Look("LAXIA", 0.0f, 0.0f)	// うつむく戻す
	LookChr("LAXIA", "ADOL")
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_ANGER_CLOSE_E, 1)	// 目
	
	// ラクシャ
	TalkMes("LAXIA","#0577V#000mそれをもっともな役割のように",
		"主張する輩を認めるわけにはいきません！","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了
	LookSpd( "LAXIA", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT )

	//　　アドルに冷や汗エモーション。
	EmotionEx("ADOL",0.0f,16,19,5,1,1,0.8f)	// 冷や汗
	Wait(45)

	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ停止（Ａイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , 36.136f , -1413.236f , 12.214f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.220f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.515f , 0 )	// 基本仰角
	RotateCamera( 0 , 271.522f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 8.0f , 0 )				// ロール回転
	 ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 非表示

	// 位置調整・表情・モーション（次カット用）
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機

	// カメラ移動（Aイベント用）
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 36.136f , -1413.236f , 12.214f , 15 )		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.220f , 15 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.515f , 15 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 271.522f , 15 )		// 角度
//	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 30.000f , 15 )		// 視野角
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 15.5f , 15 )		// ロール回転
	//MoveCameraAt( 0 , 36.136f , -1413.236f , 12.214f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 1.220f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 3.515f , 0 )	// 基本仰角
	//RotateCamera( 0 , 271.522f , 0 )				// 角度
	//ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 8.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

//	Blur( BLUR_TYPE_AFTERIMAGE ,0.3f , 45 )	// 残像

	
	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_S", 0 , 1 )	// 腕組み

//	// カメラ待ち（Aイベント用）
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//	WaitThread(1004)
//	WaitThread(1005)

	// フェード待ち
	Wait(FADE_FAST)

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち

	// ラクシャ
	TalkMes("LAXIA","#0578V#030e#000mよいこと？",
		"アドル・クリスティン。","")
	WaitPrompt()

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 36.304f , -1413.113f , 12.315f , 300 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.147f , 300 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.691f , 300 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 316.240f, 300 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 30.000f , 300 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 5.1f , 300 )		// ロール回転

	// ラクシャ
	TalkMes("LAXIA","#0579V#041e#000mわたくしがあなたに",
		"同行するのは見定めるため……","")
	WaitPrompt()
	
	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_E", 0 , 1 )	// 腕組み
	
	// ラクシャ
	TalkMes("LAXIA","#0580V#042e#000mあなたがわたくしの",
		"大嫌いな人間に似ているからです！","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了
	Wait(10)
	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Ａイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , 35.793f , -1413.432f , 12.272f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.921f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.093f , 0 )	// 基本仰角
	RotateCamera( 0 , 330.221f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 再表示

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 35.793f , -1413.432f , 12.272f, 40 )
//
//	// カメラ待ち
//	WaitThread(1000)

	Wait(10)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"誰のこと？")
	MenuAdd(2,"話が見えないな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	ChangeAnimation( "ADOL", "ANI_EV_WAIT2_S", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	if (FLAG[TF_MENU_SELECT] == 1)
	{
		PlayVoice(SVO_ADL_TNK_1 , "ADOL" , 100 )	//ふむ
	}
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		PlayVoice(SVO_ADL_SIGH_1 , "ADOL" , 100 )	//ふう
	}

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)
//	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_ANGER_CLOSE_S, 1)	// 目
//	
//	// カメラ移動（ズーム）
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.7f , 7 )		// 基本距離
//	Blur(BLUR_TYPE_EXPAND, 0.3f, 7)	//ブラー

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち

//	// カメラ待ち（ズーム）
//	WaitThread(1001)

	//─────────────────────────
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		//	⇒誰のこと？

		EarthQuake( 0.02f , 0.02f , 8 )
		
		// ラクシャ
		TalkMes("LAXIA","#0581V#17S#030e#000m質問は認めません！","","")
		WaitPrompt()
		WaitCloseWindow()

	}
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		//	⇒話が見えないな
		
		EarthQuake( 0.02f , 0.02f , 8 )

//		ChangeSubAnimation("LAXIA",SUBMOT_EXT2,ANI_C_RED_S,1)		//頬：赤

		// ラクシャ
		TalkMes("LAXIA","#0582V#17S#030e#000mお、おだまりなさい！","","")
		WaitPrompt()
		WaitCloseWindow()

//		ChangeSubAnimation("LAXIA",SUBMOT_EXT2,ANI_C_RED_E,1)		//頬：赤
	}
	//─────────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
		
	// カメラ
	MoveCameraAt( 0 , 36.513f , -1413.515f , 12.372f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.473f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.233f , 0 )	// 基本仰角
	RotateCamera( 0 , 53.304f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -12.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,36.549f , -1413.557f , 12.212f, 90 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.585f, 90 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -6.356f , 90 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 63.896f , 90 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 30.000f , 90 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -6.3f , 90 )		// ロール回転

	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_ANGER_CLOSE,1)	// 目
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_ANGER_CLOSE,1)	// 

	// フェード待ち
	Wait(FADE_CROSS)


	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち

	Look( "LAXIA" , -20.0f , -5.0f )
	// ラクシャ
	TalkMes("LAXIA","#0583V#000mお、お、おまけに",
		"わたくしのあのような姿まで……","")
	WaitPrompt()

	ChangeSubAnimation("LAXIA",SUBMOT_EXT2,ANI_C_RED_S,1)
	TalkMes("LAXIA","#0584V#0L#000m……………………………………","","")	//（上気する）
	WaitPrompt()

	TalkMes("LAXIA","#0585V#010l#042e#000mさ、さあ、グズグズしていないで",
		"出発の準備をなさいっ！","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

//	// カメラ停止（Aイベント用）
//	StopThread(1000)
//	StopThread(1001)
//	StopThread(1002)
//	StopThread(1003)
//	StopThread(1004)
//	StopThread(1005)
//
//	// カメラ移動（Aイベント用）
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,36.549f , -1413.557f , 12.412f, 120 )		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.489f, 120 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,2.811f , 120 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 87.394f , 120 )		// 角度
//	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 30.000f , 120 )		// 視野角
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,3.2f , 120 )		// ロール回転
//
//	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_S, 1)	// 目
//	ChangeAnimation( "ADOL", "ANI_EV_HOHOKAKI", -1, 1 )	// 頬かき

	Wait(20)

	// フェードアウト
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

//終了処理ここから----------------------------------------------------

	CallFunc("mp1201:EV_M01S163_ED")
}

function "EV_M01S163_ED"
{
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	SetSkipScript("")
	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//エフェクトの停止
	StopEffect(-1,ALL,1)

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//フラグ
	CallFunc("rng:0402")
	SetFlag(GF_01MP1201_MEET_BARBAROSS,		1)// バルバロスと再会した
	//SetFlag( SF_MISSIONNO, MS_01_08 )	//★冒険メモ：地図作りと漂流者探しを始めよう。
	//SetDiaryFlag( DF_JOIN_BARBAROSS, 1 )	//★足跡メモ：バルバロス船長と再会した。
	// 人物メモを切り替える・バルバロス船長（１）
	////SetDiaryCharaFlag( DRCHA_BARBAROSS, DRCHA_FLAG_OPEN, 1 )	//★人物メモ：合流時に登録（バルバロス船長）
	////SetDiaryCharaFlag( DRCHA_BARBAROSS2, DRCHA_FLAG_OPEN, 0 )	//★人物メモ：合流時に登録（バルバロス船長）
	////SetDiaryCharaFlag( DRCHA_BARBAROSS, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（バルバロス船長）
	////SetDiaryCharaFlag( DRCHA_BARBAROSS2, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（バルバロス船長）

	//SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//バルバロス合流	名声値+2

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init" )

	//イベント後の再配置
	SetChrPos("LEADER",33.48f,-1417.28f,10.83f)
	Turn("LEADER",-120.00f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰 or 初期位置設定
	MoveCameraAt( 0 , 33.485f , -1417.275f , 12.690f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 120.000f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	RestoreCamera(0,0)														//※イベント終了時のカメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENTIMPOSE)

	FadeBGM(100,15)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()


//終了処理ここまで----------------------------------------------------
}

function "EV_M01S190"		//ドギと再会する
{
	//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Barbaross")
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	//ResetChrPos((CHRTYPE_NPC | REMOVE_POS))
	
	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 34.32f, -1419.05f, 10.83f)
	Turn("ADOL", 72.43f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 35.42f, -1419.61f, 10.83f )
	Turn("LAXIA", 72.76f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 35.09f, -1417.81f, 10.83f )
	Turn("SAHAD", 73.72f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Barbaross",29.66f, -1419.84f, 10.83f )
	Turn("Barbaross", 53.62f,360.0f)
	ChangeAnimation("Barbaross", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Barbaross", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Barbaross", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Barbaross")
	SetChrInfoFlag("Barbaross", INFOFLAG_NOCHRATARI)

	MapAnime("Village" , "Lv1" )	// 漂流村Lv.1に設定

	// 初期カメラ
//	MoveCameraAt( 0 , 20.121f , -1432.134f , 14.917f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.165f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 0.177f , 0 )	// 基本仰角
//	RotateCamera( 0 , 344.640f , 0 )				// 角度
//	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000 ,0.000 ,0.500 ,0.520)
	SetDoFFocus(0,0,0)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetSkipScript("mp1201:EV_M01S190_ED")

	//開始処理ここまで-----------------------------------------------

	//　　マップに入るとイベント開始。
	//　　拠点に小屋程度の施設が出来ているのを見せる。
	//　　集落に戻ってきたアドルたちをバルバロスが迎え入れる。
	
	// カメラ
	MoveCameraAt( 0 , 28.955f , -1420.486f , 12.297f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.954f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.496f , 0 )	// 基本仰角
	RotateCamera( 0 , 64.208f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	
	// 非表示・再表示
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 再表示
	
	// 位置調整・表情・モーション
	LookChr("ADOL", "Barbaross")
	LookChr("LAXIA", "Barbaross")
	LookChr("SAHAD", "Barbaross")
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 29.225f , -1420.065f , 12.477f, 120 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.226f , 120)
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -5.792f , 120 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 356.608f , 120 )
	
	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Wait(30)

	ChangeAnimation( "Barbaross", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	Wait(20)
	
	// うなずきセット
	HeadYes("Barbaross" , 1 , 25 )
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(30)
	
	EmotionEx("Barbaross", 0.1f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	ChangeAnimation( "Barbaross", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	Wait(35)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.104f , -1420.183f , 12.477f, 75 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.450f , 75)
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.062f , 75 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 315.929f , 75 )

	ExecuteCmd( 1, MoveTo, "ADOL", 31.37f, -1419.84f, 10.83f , 0.1f, 0.18f )
	Wait(5)
	ExecuteCmd( 2, MoveTo, "LAXIA", 31.98f, -1420.54f, 10.83f , 0.1f, 0.18f )
	Wait(5)
	ExecuteCmd( 3, MoveTo, "SAHAD", 31.65f, -1418.90f, 10.83f , 0.1f, 0.18f )

	WaitAnimation2("Barbaross", -1, 1, "ANI_EV_RYOTEKOSI_E", 0)
	TurnToChr("Barbaross", "ADOL", 7.0f)
	LookChr("Barbaross", "ADOL")

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	PlayVoice(Y8V_3728,"Barbaross",100)	//アドル（平常のテンション）

	// バルバロス
	TalkPopup("Barbaross", 0, 1, 0, 0, 0) {
		"#000e#000mアドル、戻ったのか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(5)

	LookChr("Barbaross", "SAHAD")
	ChangeAnimation( "Barbaross", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// バルバロス
	TalkPopup("Barbaross", 0, 1, 0, 0, 0) {
		"……そちらの方は？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
//	LookChr("Barbaross", "ADOL")

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)

	// テキスト
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0) {
		"#7Cアドルはサハドを紹介した。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	// カット3 ----------------------------------------------------------------------------------------

	//　　バルバロスの前に進み出るサハド。

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , 30.504f , -1419.372f , 12.279f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.704f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.054f , 0 )	// 基本仰角
	RotateCamera( 0 , 247.649f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", 32.19f, -1419.82f, 10.83f)
	Turn("ADOL", 82.11f, 360.0f)
	SetChrPos("LAXIA", 32.21f, -1420.82f, 10.83f)
	Turn("LAXIA", 124.66f, 360.0f)
	SetChrPos("SAHAD", 31.98f, -1418.54f, 10.83f)
	Turn("SAHAD", 68.30f, 360.0f)
	Turn("Barbaross", -118.92f, 360.0f)
	LookChr("Barbaross", "SAHAD")
	LookChr("ADOL", "SAHAD")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.504f , -1419.372f , 12.419f, 70 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.704f , 70 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.627f , 70 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 243.355f , 70 )

	// フェード待ち
	Wait(FADE_CROSS)

	// 移動
	ExecuteCmd( 1, MoveTo, "SAHAD", 31.04f, -1418.96f, 10.83f, 0.1f, 0.20f )
	WaitThread(1)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mロンバルディアの船長さんか……"	//（真剣）
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_CLOSE_S,1)

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#011e#0L#1W……………………………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "SAHAD")
	ChangeAnimation( "LAXIA" , "ANI_EV_TEMUNE_S", -1 , 1 )

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#050e#000mあ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Barbaross" , "ANI_EV_REI_S", -1 , 1 )	

	// バルバロス
	TalkPopup("Barbaross", 0, 1, 0, 0, 0) {
		"#011e#000mサハド殿、この度は……"	//（瞑目）
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　バルバロスの言葉を遮って話すサハド。
	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#012e#000mありゃあ、不幸な事故だったな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Barbaross" , 0 , 30 )

	// バルバロス
	TalkPopup("Barbaross", 0, 1, 0, 0, 0) {
		"#012e#000mふむ……？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("SAHAD" ,  0 , -8 )

	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_CLOSE_S,1)

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#011e#000m海域、天候、潮の流れ……"
		"諸々考えても不自然な沈没だった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_TEBURI", -1, 1 )	// 手振り
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#012e#000m船体に絡みついた妙な触手が"
		"原因だったと考えるしかねえなぁ。"
	}
	WaitPrompt()
	WaitCloseWindow()

//	LookChr("LAXIA", "SAHAD")
	ChangeAnimation( "Barbaross" , "ANI_EV_REI_E", -1 , 1 )
	LookReset("Barbaross")
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#070e#200mえ……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Look("SAHAD" ,  30 , -6 )
	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#011e#000m問題はあの触手が"
		"何なのかってことだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "Barbaross")
	ChangeAnimation( "SAHAD", "ANI_EV_BORI", -1, 1 )	// 頭かき

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#062e#080mまさか伝説の《海の怪#4Rクラーケン#R物》って、"
		"ワケでもあるまいしな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　頭をボリボリ掻くサハド。

	ChangeAnimation( "LAXIA" , "ANI_EV_TEMUNE_E", -1 , 1 )
//	LookReset("LAXIA")
//	Look("LAXIA", 0.0f, -10.0f)	// うつむく
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#0L#1W…………………………"	//（やや驚き）
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , 30.340f , -1419.228f , 12.591f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.288f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.824f , 0 )	// 基本仰角
	RotateCamera( 0 , 344.323f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.340f , -1419.228f , 12.591f, 300 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.288f , 300 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.110f , 300 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 334.010f , 300 )

	// 位置調整・表情・モーション
	Turn("Barbaross", -115.36f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	
	// フェード待ち
	Wait(FADE_FAST)

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#080e#080mま、お互いに"
		"災難だったってことだ。\p"
		"#091e#080mワシは漁師のはしくれでな。"
		"海の男どうし、よろしく頼むぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#020e#020mガハハハハ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Barbaross", 0.0f, -20.0f)	// うつむく

	// バルバロス
	TalkPopup("Barbaross", 0, 1, 0, -40, 1) {
		"#011e#000mサハド殿、お心遣い感謝します。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	// カメラ停止
//	StopThread(1000)
//	StopThread(1001)
//	StopThread(1002)
//	StopThread(1003)
//
//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.431f , -1419.350f , 12.591f, 150 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.128f , 150 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.261f , 150 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 329.428f , 150 )
//
//	Wait(30)

	// フェードアウト
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	Wait(10)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)


//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M01S190_ED")
}

function "EV_M01S190_ED"
{
	SetSkipScript("")
	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Dogi")
	CallFunc("system:reset_chrmot_Barbaross")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	EventCue("mp1201:EV_M01S191")

	ResetStopFlag(STOPFLAG_EVENT)

//終了処理ここまで----------------------------------------------------
}


function "EV_M01S191"		//ドギと再会する２
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENTIMPOSE)	// 字幕付きイベント用のキャラ停止
	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了
	
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Barbaross")
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	//ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 31.56f, -1419.60f, 10.83f)
	Turn("ADOL", 103.43f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 31.03f, -1420.41f, 10.83f)
	Turn("LAXIA", 153.08f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 31.44f, -1418.62f, 10.83f)
	Turn("SAHAD", 57.80f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Barbaross", 29.53f, -1419.61f, 10.83f)
	Turn("Barbaross", -111.81f, 360.0f)
	ChangeAnimation("Barbaross", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Barbaross", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Barbaross", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Barbaross")
	SetChrInfoFlag("Barbaross", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 28.26f, -1412.36f, 11.45f)
	Turn("Dogi", -30.09f, 360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	MapAnime("Village" , "Lv1" )	// 漂流村Lv.1に設定

	// 初期カメラ
	MoveCameraAt( 0 , 30.526f , -1419.319f , 12.296f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.155f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.284f , 0 )	// 基本仰角
	RotateCamera( 0 , 235.712f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,0.000 ,0.500 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetSkipScript("mp1201:EV_M01S191_ED")

	//開始処理ここまで-----------------------------------------------
	
	// カット1 ----------------------------------------------------------------------------------------

	// 位置調整・表情・モーション
	LookChr("ADOL", "Barbaross")
	LookChr("LAXIA", "Barbaross")
	LookChr("SAHAD", "Barbaross")
	LookChr("Barbaross", "SAHAD")
	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI", -1, 1 )	// 腕組
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE,1)
	
	Wait(10)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.594f , -1419.220f , 12.296f  , 300 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.435f , 300 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.003f , 300 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 227.973f , 300 )

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	Wait(20)
//
//	// 手振りセット
//	ChangeAnimation( "SAHAD", "ANI_EV_TEBURI", -1, 1 )
//	SetChrWork("SAHAD", CWK_FORCELIPSYNC, 1)	// 強制クチパク
//	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT_S,1)
//	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
//	Wait(50)
//	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
//	SetChrWork("SAHAD", CWK_FORCELIPSYNC, 0)
//	Wait(10)
//	
//	HeadYes("Barbaross", 1, 25)	// キャラ, うなずき回数, 速さ
//	Wait(40)

	FadeBGM(70,15)

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち

	// 男の声（ドギ）
	TalkMes(UNDEF,"#3647V……どうやら、この分だと",
		"他にもまだ漂流者がいそうだな。","")
	WaitPrompt()
	WaitCloseWindow()
	
	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	//　　不意に奥から男の声が聞こえて、
	//　　バルバロス意外の全員に「！」エモーション。
	//　　声の方向に注目する一同。
	
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("SAHAD", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」

	StopBGM(150)
	
//	LookChr("SAHAD", "Dogi")
//	TurnToChr("SAHAD", "Dogi", 6.0f)
//	LookChr("Barbaross", "Dogi")
//	TurnToChr("Barbaross", "Dogi", 6.0f)
//	LookChr("ADOL", "Dogi")
//	TurnToChr("ADOL", "Dogi", 6.0f)
	LookReset("ADOL")
	LookReset("SAHAD")
	LookReset("LAXIA")
	LookReset("Barbaross")

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SUP_S,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SUP_S,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SUP_S,1)
	//ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_OPEN_S,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_OPEN_S,1)

	Wait(40)

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , 31.435f , -1418.961f , 12.364f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.663f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.266f , 0 )	// 基本仰角
	RotateCamera( 0 , 185.838f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 6.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", 31.43f, -1419.39f, 10.83f)
	Turn("ADOL", 149.97f, 360.0f)
	SetChrPos("SAHAD", 31.95f, -1418.30f, 10.83f)//31.86f, -1418.35f, 10.83f)
	SetChrPos("LAXIA", 30.80f, -1419.98f, 10.83f)
	Turn("LAXIA", 163.74f, 360.0f)
	SetChrPos("Barbaross", 29.78f, -1419.59f, 10.83f)
	Turn("Barbaross", 179.53f, 360.0f)
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 31.042f , -1418.810f , 12.424f, 300 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.775f , 300 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.256f , 300 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 169.222f , 300 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 35.000f , 300 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 2.9f , 300 )		// ロール回転
	
	// フェード待ち
	Turn("ADOL", 137.57f, 9.0f)
	LookChr("ADOL","Dogi")

	LookChr("LAXIA", "Dogi")
	Turn("SAHAD", 137.57f, 7.0f)
	LookChr("SAHAD","Dogi")
	LookChr("LAXIA","Dogi")

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち

	// サハド
	TalkMes("SAHAD","#1565V#070e#000mお？","","")
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// ラクシャ
	TalkMes("LAXIA","#0614V#070e#000mあなたは……？","","")
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "ADOL", "ANI_EV_WAIT2_S", -1, 1 )	// 待機（腰に手）
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)	// 口
	Look("ADOL", 0.0f, -5.0f)	// うつむく
	Wait(20)

	ChangeAnimation( "Barbaross", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// バルバロス
	TalkMes("Barbaross","#3796V#011e#080mフフ、この付近を調べている時に",
		"偶然出会ったのだ。","")
	WaitPrompt()
	WaitCloseWindow()
	
	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了
	
	Wait(10)
	
	// カット3 ----------------------------------------------------------------------------------------

	PlayBGM(BGM_1201, 0)

	//　　カメラ、画面奥から登場したドギの全身を見せる。
	
	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , 30.378f , -1417.396f , 11.744f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.408f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.637f , 0 )	// 基本仰角
	RotateCamera( 0 , 26.904f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	SetChrPos("LAXIA", 30.51f, -1419.77f, 10.83f)
	Turn("LAXIA", -174.94f, 360.0f)
	LookChr("Dogi", "ADOL")
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.645f , -1417.238f , 12.464f, 120 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.512f , 120 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.374f , 120 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 12.580f , 120 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 35.000f , 120 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -6.0f , 120 )		// ロール回転

	// 移動
	ExecuteCmd(1, MoveTo, "Dogi", 30.32f, -1417.28f, 10.83f, 0.1f, 0.18f)

	// フェード待ち
	//Wait(FADE_NORMAL)
	
	Wait(70)

	FadeBGM(70,15)
	
	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち
	
	// ドギ
	TalkMes("Dogi","#3648V#000e#000mよう、アドル。","","")
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "ADOL", "ANI_EV_WAIT2_E", -1, 1 )	// 待機（腰に手）
	Look("ADOL", 0.0f, 0.0f)	// うつむく戻す
	LookChr("ADOL", "Dogi")

	// 移動待ち
	WaitThread(1)

//	// カメラ待ち（Aイベント用）
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//	WaitThread(1004)
//	WaitThread(1005)

	WaitAnimation2("Dogi", -1, 1, "ANI_EV_TEBURI", 0)
	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// ドギ
	TalkMes("Dogi","#3649V#000e#080m悪運の強さだけは",
		"お互い相変わらずってところか。","")
	WaitPrompt()
	WaitCloseWindow()
	
	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了
	Wait(10)
	
	PlayVoice(Y8V_0170,"ADOL",100)	//おお…（感嘆）
	HeadNo("ADOL" , 1 , 35 )
	Wait(45)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"どちらさま？")
	MenuAdd(2,"ドギ！　無事だったのか？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	Wait(10)

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)

	LookChr("SAHAD","Dogi")
	LookChr("LAXIA","Dogi")
	
	// カメラ
	MoveCameraAt( 0 , 30.706f , -1417.583f , 12.484f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.440f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -6.386f , 0 )	// 基本仰角
	RotateCamera( 0 , 77.194f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -6.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	SetChrPos("Barbaross", 29.63f, -1419.83f, 10.83f)
	Turn("Barbaross", -169.81f, 360.0f)
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "Barbaross", "ANI_WAIT", -1, 1 )	// 待機
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SMILE, 1)	// 目
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_SMILE, 1)	// 口
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.553f , -1417.531f , 12.644f, 180 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.216f , 180 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.202f , 180 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,55.709f , 180 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 35.000f , 180 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -6.3f , 180 )		// ロール回転
	
	Wait(FADE_CROSS)
	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち

	//─────────────────────────
	//	⇒どちらさま？
	if (FLAG[TF_MENU_SELECT] == 1) {

		ChangeAnimation( "Dogi", "ANI_EV_GAKKARI_S", -1, 1 )	// がっかり

		// ドギ
		TalkMes("Dogi","#3650V#061e#000mガクッ……","","")
		WaitPrompt()
		WaitCloseWindow()
		
		WaitAnimation2("Dogi", -1, 1, "ANI_EV_GAKKARI_S", 0)
		ChangeAnimation( "Dogi", "ANI_EV_GAKKARI_E", -1, 1 )	// がっかり

		// ドギ
		TalkMes("Dogi","#3651V#062e#000mおいおい、せっかくの",
			"再会だってのにそりゃあないぜ。","")
		WaitPrompt()
		WaitCloseWindow()

	}
	//	⇒ドギ、無事だったのか？
	if (FLAG[TF_MENU_SELECT] == 2) {

		// ドギ
		TalkMes("Dogi","#3652V#011e#080mああ、見ての通りピンピンしてるぜ。","","")
		WaitPrompt()
		WaitCloseWindow()
		
		ChangeAnimation( "Dogi", "ANI_EV_YARUKI_S", -1, 1 )	// こぶしたたきつける
		ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
		Wait(10)
		EarthQuake( 0.02f , 0.02f , 5 )	// 縦揺れ幅, 横揺れ幅, 時間
		
		// ドギ
		TalkMes("Dogi","#3653V#080mこのドギ様がそう簡単に",
			"くたばってたまるかっての。","")
		WaitPrompt()
		WaitCloseWindow()
		
		ChangeAnimation( "Dogi", "ANI_EV_YARUKI_E", -1, 1 )	// こぶしたたきつける
		
	}

	//─────────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了
	Wait(10)
	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , 30.797f , -1418.651f , 12.484f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.861f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.594f , 0 )	// 基本仰角
	RotateCamera( 0 , 245.412f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.4f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("Dogi", 30.55f, -1417.61f, 10.83f)
	Turn("Dogi", -29.91f, 360.0f)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 31.057f , -1418.440f , 12.484f, 300 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.693f , 300 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 5.021f , 300 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 249.422f, 300 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 35.000f , 300 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 1.4f , 300 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち

	// ドギ
	TalkMes("Dogi","#3654V#000e#000mあの後、漂流物に掴まって、",
		"何とかここへたどり着いたんだ。","")
	WaitPrompt()

	WaitAnimation2( "Dogi" , -1, 1, "ANI_EV_YARUKI_E",  0)
	ChangeAnimation( "Dogi", "ANI_EV_AKIRE", -1, 1 )	// あきれ
	
	// ドギ
	TalkMes("Dogi","#3655V#011e#080mまったく……毎度のことと言え、",
		"お前さんといると本当に退屈しないぜ。","")
	WaitPrompt()
	WaitCloseWindow()
	
	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"感謝してよ")
	MenuAdd(2,"それがいいんだろ？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// 手振りセット
	PlayVoice(Y8V_0161,"ADOL",100)	//はは（微笑）
	ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_S, 1)	// 目
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)	// 口
	Wait(40)


	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち
	ChangeAnimation( "Dogi", "ANI_EV_BORI", -1, 1 )	// 頭かき
	LookReset("Dogi")
	//─────────────────────────
	//	⇒感謝してよ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// ドギ
		TalkMes("Dogi","#3656V#050e#000mあのな……",
			"今回はさすがにヤバかったっての。","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒それがいいんだろ？
	if (FLAG[TF_MENU_SELECT] == 2) {
		
		// ドギ
		TalkMes("Dogi","#3657V#050e#000mまあ、お前さんほどじゃないがな。","","")
		WaitPrompt()
		WaitCloseWindow()
		
	}

	//─────────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了
	Wait(10)
	
	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , 30.253f , -1419.594f , 12.352f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.524f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.800f , 0 )	// 基本仰角
	RotateCamera( 0 , 136.761f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -9.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.253f , -1419.594f , 12.352f, 100 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.524f , 100 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -3.644f , 100 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 134.471f , 100 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 35.000f , 100 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -9.7f , 100 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_JITO_S, 1)	// 目

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち

	EmotionEx("LAXIA", 0.00f, EMO_MOYA, 0, 5, 1, 1, 1.0f )	// 「もや」

	// ラクシャ
	TalkMes("LAXIA","#0615V#110e#000mな、何なのですか、この二人は……","","")
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Barbaross", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// バルバロス
	TalkMes("Barbaross","#3797V#011e#080mフフ……",
		"“冒険家”ということなのだろう。","")
	WaitPrompt()
	WaitCloseWindow()
	
	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了
	Wait(10)

	// カット7 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	// カメラ
	MoveCameraAt( 0 , 30.867f , -1418.694f , 12.492f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.139f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.392f , 0 )	// 基本仰角
	RotateCamera( 0 , 253.691f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -2.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", 31.43f, -1419.39f, 10.83f)
	Turn("ADOL", 139.31f, 360.0f)
	SetChrPos("LAXIA", 30.69f, -1419.94f, 10.83f)
	Turn("LAXIA", 167.29f, 360.0f)
	SetChrPos("SAHAD", 31.86f, -1418.35f, 10.83f)
	Turn("SAHAD", 112.70f, 360.0f)
	SetChrPos("Dogi", 30.23f, -1417.54f, 10.83f)
	Turn("Dogi", -29.91f, 360.0f)
	SetChrPos("Barbaross", 29.57f, -1419.27f, 10.83f)
	Turn("Barbaross", -120.07f, 360.0f)
	LookChr("Barbaross", "SAHAD")
//	LookChr("Dogi", "SAHAD")

	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)	// 口
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち
	// サハド
	TalkMes("SAHAD","#1566V#020e#080mガハハ、何だか知らんが",
		"楽しそうな兄さんたちだな。","")
	WaitPrompt()
	WaitCloseWindow()
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.555f , -1419.358f , 12.392f, 140 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.915f, 140 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.257f , 140 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 226.478f , 140 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 35.000f , 140 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -2.3f, 140 )		// ロール回転

	LookChr("Barbaross", "ADOL")
	ChangeAnimation( "Barbaross", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// バルバロス
	TalkMes("Barbaross","#3798V#000e#000mアドル、今日は",
		"お互いに色々あったようだ。","")
	WaitPrompt()

	LookChr("ADOL", "Barbaross")
	ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	LookChr("LAXIA", "Barbaross")
	ChangeAnimation( "Barbaross", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	// バルバロス
	TalkMes("Barbaross","#3799V#010e#000m今後のためにも一旦",
		"情報交換しておいたほうがいいだろう。","")
	WaitPrompt()
	WaitCloseWindow()
	
	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了
	Wait(10)

	// カット8 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , 30.371f , -1419.563f , 12.472f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.420f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -8.253f , 0 )	// 基本仰角
	RotateCamera( 0 , 113.840f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 位置調整・表情・モーション
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// 非表示・再表示
	SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.371f , -1419.563f , 12.472f, 300 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.420f, 300 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.524f , 300 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 108.114f , 300 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 35.000f , 300 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 0.0f, 300 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	Turn("Barbaross", -88.09f, 5.0f)
	Wait(10)
	Look("Barbaross", 40.0f, -3.0f)	// →
	ChangeAnimation( "Barbaross", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち

	// バルバロス
	TalkMes("Barbaross","#3800V#000e#000m#010l見ての通り、ドギのおかげで",
		"少しだけ拠点も形になってきた。","")
	WaitPrompt()
	
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC_S,1)
	Look("Barbaross", 0.0f, 0.0f)
	LookChr("Barbaross", "ADOL")

	// バルバロス
	TalkMes("Barbaross","#3801V#000e#000m#000lもう日も暮れるし、",
		"今日はこのまま休んでいくといい。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.905f , -1419.460f , 14.272f, 240 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.420f, 240 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -12.551f , 240 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 116.127f , 240 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 35.000f , 240 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 0.0f, 240 )		// ロール回転

	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(10)
	
	StopBGM(120)

	// フェードアウト
	FadeOut(FADE_BLACK,FADE_SLOW)
	WaitFade()

	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	Wait(30)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M01S191_ED")
}

function "EV_M01S191_ED"
{
	SetSkipScript("")
	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Dogi")
	CallFunc("system:reset_chrmot_Barbaross")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//フラグ
	SetFlag(GF_01MP1201_JOIN_DOGI,1)		//ドギと再会する２
	//SetDiaryFlag( DF_JOIN_DOGI, 1 )			//★足跡メモ：ドギと再会した。
	////SetDiaryCharaFlag( DRCHA_DOGI, DRCHA_FLAG_OPEN, 1 )		//★人物メモ：合流時に登録（ドギ）
	////SetDiaryCharaFlag( DRCHA_DOGI, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（ドギ）

	//SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//ドギ合流	名声値+2

	//NowLoading 時の Tips 表示をカット
	SetFlag( TF_LOADING_TIPS_OFF, 1 )

	StopBGM(30)

	LoadArg("map/mp1201t2/mp1201t2.arg")
	EventCue("mp1201:EV_M01S192")

	ResetStopFlag(STOPFLAG_EVENTIMPOSE)

//終了処理ここまで----------------------------------------------------
}

function "EV_M01S192"		//夜の話し合い
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Barbaross")
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	//ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 26.38f, -1420.19f, 10.83f )
	Turn("ADOL", -22.67f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 25.34f, -1421.27f, 10.83f)
	Turn("LAXIA",-78.11f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 27.85f, -1423.45f, 10.83f )
	Turn("SAHAD", 145.98f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Barbaross", 26.49f, -1423.83f, 10.83f )
	Turn("Barbaross", -171.67f, 360.0f)
	ChangeAnimation("Barbaross", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Barbaross", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Barbaross", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Barbaross")
	SetChrInfoFlag("Barbaross", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 25.37f, -1422.72f, 10.83f )
	Turn("Dogi", -113.59f, 360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	// マップ設定
	MapAnime("Village" , "Lv1" )	// 漂流村Lv.1に設定
	MapHide( "fire_alpha" , 1 )		// 焚き火ON
	MapAnime( "fire_alpha" , "on" )		// 焚き火ON

	MapHide( "@candlefire_pori" , 0 )
	MapHide( "@fire_pori" , 0 )

	//不自然な光源を消す
	PointLightEnable(fire_craft,0,0)
	PointLightEnable(fire_craft_r,0,0)
	PointLightEnable(fire_clinic,0,0)
	PointLightEnable(fire_clinic_r,0,0)
	PointLightEnable(fire_kichen,0,0)
	PointLightEnable(fire_smithy,0,0)
	PointLightEnable(fire_smithy_r,0,0)
	PointLightEnable(fire_smithy2,0,0)


	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 1920,1080, 0.0f, 0x00ffffff, 0x00000000)

	Portrait_Load(  1 , "visual/portrait/chap21.itp" )	//第一部了エフェクトタイトル
	Portrait_Create(1 , -64 , 28 , 
					0 , 0 , 2048 , 1024 , 
					0.0f , 0x00ffffff , 0x00000000 )

	// 初期カメラ
	MoveCameraAt( 0 , 24.504f , -1415.602f , 19.327f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.980f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -23.083f , 0 )	// 基本仰角
	RotateCamera( 0 , 118.178f , 0 )				// 角度
	ChangeCameraPers( 0 , 80.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 120.000 ,2.000 ,0.550 ,0.600)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetSkipScript("mp1201:EV_M01S192_ED")

	PlayBGM(BGM_EVENT_005, 15 )
	SetEnvSEPlayState(1201201, 1)

	//開始処理ここまで-----------------------------------------------
	
	//　　画面、一旦フェードアウトして、夜マップに切り替え。
	//　　アドル、ラクシャ、サハド、バルバロス、ドギが
	//　　拠点中央で焚火を囲んで座っている状態。
	
	// カット1 ----------------------------------------------------------------------------------------
	
	// 位置調整・表情・モーション
	LookChr("ADOL", "Dogi")
	LookChr("LAXIA", "Dogi")
	LookChr("SAHAD", "Dogi")
	LookChr("Barbaross", "Dogi")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI", -1, 1 )	// 腕組
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI", -1, 1 )	// 両手腰
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 25.522f , -1417.132f , 13.427f , 130 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 6.980f , 130 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -9.046f , 130 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 136.227f , 130 )
	
	// フェードイン
	FadeIn(FADE_BLACK,FADE_SLOW)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ
	MoveCameraAt( 0 , 26.694f , -1421.871f , 11.250f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.961f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.656f , 0 )	// 基本仰角
	RotateCamera( 0 , 98.771f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	
	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 50.000 ,0.000 ,0.550 ,0.500)

	// フェード待ち
	Wait(FADE_FAST)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.026f , -1422.657f , 12.310f, 130 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,5.681f , 130 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.786f , 130 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 137.917f , 130 )
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	ChangeAnimation( "Barbaross", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// バルバロス
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#000e#000m……ドギ、それは本当か？"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("Dogi" , 1 , 25 )

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000mああ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	LookChr("Dogi", "Barbaross")

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#012e#000m俺が流れ着いたのは、"
		"ここからもっと南の浜辺だが……\p"
		"#000e#000m確かに俺のものとは"
		"別の足跡が砂浜に残ってたぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#070e#000mそれって、もしかして……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross" , "LAXIA" )
	HeadYes("Barbaross" , 1 , 25 )

	// バルバロス
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#000e#000mええ、ロンバルディア号の"
		"乗客かもしれません。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Barbaross", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	// バルバロス
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#000e#000mやはり何人かがこの島へ"
		"流れ着いている可能性があります。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , 26.276f , -1422.866f , 12.570f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.065f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.488f , 0 )	// 基本仰角
	RotateCamera( 0 , 188.144f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 非表示・再表示
	SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 非表示
	MapHide( "fire_alpha" , 0 )		// 焚き火OFF
	
	// 位置調整・表情・モーション
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.276f , -1422.866f , 12.570f , 210 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.065f , 210 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.629f , 210 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 202.754f , 210 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	LookChr("Barbaross","Dogi")

	LookReset("Dogi")
	ChangeAnimation( "Dogi", "ANI_EV_SIAN_S", -1, 1 )	// 思案

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#011e#000mそれほど大きな"
		"足跡じゃあなかったはずだ。\p"
		"#012eもしかしたら、"
		"女か子供のものかもしれんな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mお？　そりゃあ心配だな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_SIAN_E", -1, 1 )	// 思案
	LookChr("Dogi" , "SAHAD")
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mああ、周囲を探しちゃみたんだが、"
		"もう近くにはいないみたいだった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Barbaross", 0.0f, -10.0f)	// うつむく
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	ChangeAnimation( "Barbaross", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// バルバロス
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#010e#000m今すぐにでも救出に向かいたいのだが、"
		"土地勘もないまま夜に動くのは危険だ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , 25.870f , -1420.652f , 12.285f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.298f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.109f , 0 )	// 基本仰角
	RotateCamera( 0 , 71.671f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 非表示・再表示
	ResetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 再表示

	// 位置調整・表情・モーション
	SetChrPos("LAXIA", 25.51f, -1420.81f, 10.83f)
	Turn("LAXIA", -71.00f, 360.0f)
	Turn("ADOL", 19.97f, 360.0f)
	
	// カメラ移動（角度）
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 79.117f , 210 )

	// フェード待ち
	Wait(FADE_CROSS)
	
	LookReset("LAXIA")
	Look("LAXIA", 0.0f, -10.0f)	// うつむく

	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#011e#000m無事でいてくれるといいのですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("LAXIA")
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	LookChr("LAXIA" , "ADOL")

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mアドル・クリスティン、"
		"明日になったら探しに行きましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookSpd("ADOL" , 0.10 , 0.10 , 0.10 )
	LookChr("ADOL" , "LAXIA" )
	Wait(10)
	
	//　　アドル、うなずく。
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(30)

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（角度）
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , 26.776f , -1422.906f , 12.353f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.757f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.348f , 0 )	// 基本仰角
	RotateCamera( 0 , 155.084f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	Turn("Dogi", -102.93f, 360.0f)
	LookChr("SAHAD", "Barbaross")
	LookChr("Dogi", "Barbaross")
	LookChr("ADOL", "Barbaross")
	LookChr("LAXIA", "Barbaross")

	// フェード待ち
	Wait(FADE_CROSS)

	Look("Barbaross", 0.0f, 0.0f)	// うつむく戻す
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// バルバロス
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#000e#000mもう一つ気になるのは、"
		"君たちを襲ったという異形の獣だ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mおお、あんなおっかない"
		"獣は今まで見たこともないぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// バルバロス
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#000e#000m話を聞く限りでは"
		"この島特有の獣である可能性も高い。\p"
		"#011e#000mそれほど巨大で獰猛なものが"
		"徘徊しているとなると……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000m俺たち漂流#2Rにんげん#R者にとっちゃ、"
		"脅威でしかねえな。\p"
		"もし乗客が島をうろついてるなら、"
		"早めにここへ連れてこねえと。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Barbaross", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	
	// バルバロス
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#012e#000mうむ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "Dogi")
	
	// バルバロス
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"この拠点も身を守る場所として、"
		"整備したほうがいいかもしれんな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)

	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , 25.926f , -1420.798f , 12.153f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.293f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.186f , 0 )	// 基本仰角
	RotateCamera( 0 , 6.089f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	LookReset("Dogi")
	LookReset("Barbaross")
	
	// カメラ移動（高さ）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 25.926f , -1420.798f , 12.253f, 80 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	Wait(20)

	LookSpd("LAXIA" , 0.10 , 0.10 , 0.10 )

	LookReset("LAXIA")
	Look("LAXIA", 0.0f, -15.0f)	// うつむく
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)	// 目
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000m#0L……………………………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL" , "LAXIA")
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"気分でも悪いのかい？")
	MenuAdd(2,"何か知ってるのかい？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	LookChr("LAXIA" , "ADOL")
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD_CLOSE_E,1)
	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_E", -1, 1 )

	//─────────────────────────
	//	⇒気分でも悪い？
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#000mいえ、大丈夫です……"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒何か知ってるのかい？
	if (FLAG[TF_MENU_SELECT] == 2) {
		
		// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#000mいえ、そういうわけでは……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	Wait(10)
	
	// カット7 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（高さ）
	StopThread(1000)

	// カメラ
	MoveCameraAt( 0 , 26.130f , -1423.337f , 12.533f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.721f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.482f , 0 )	// 基本仰角
	RotateCamera( 0 , 263.805f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("Barbaross", 26.49f, -1423.83f, 10.83f)
	Turn("Barbaross", -164.56f, 360.0f)
	SetChrPos("Dogi", 25.37f, -1422.72f, 10.83f)
	Turn("Dogi", -81.61f, 360.0f)
	SetChrPos("SAHAD", 28.19f, -1423.33f, 10.83f)
	Turn("SAHAD", 128.22f, 360.0f)
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.130f , -1423.337f , 12.533f, 600 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.665f , 600 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 5.769f , 600 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 255.213f , 600 )

	// フェード待ち
	Wait(FADE_CROSS)

	PlayVoice(Y8V_3731,"Barbaross",100)	//ふむ…（平常のテンション。あらゆる場面で使用）

	// バルバロス
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#011e#000mふむ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "Dogi")
	Turn("Barbaross", 145.69f, 8.0f)
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// バルバロス
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#000mドギ、君には明日から"
		"この拠点を任せたいのだが。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi" , "Barbaross")
	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ドギ
	TalkPopup("Dogi", 0, 1, 0, 0, 0) {
		"#000e#000mおう、お安い御用ですぜ。"
		"どうしたらよろしいんで？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// バルバロス
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#000e#000m脱出までの間、乗客が安全に"
		"暮らせる集落を作る必要がある。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Barbaross", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	// バルバロス
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#011e#000m雨露を凌げるのはもちろんだが、"
		"食料を備蓄できる場所が必要だな。\p"
		"#012e#000mそして行く行くは脱出用の"
		"船を造る施設も必要になるだろう。"
	}
	WaitPrompt()
	WaitCloseWindow()
	Wait(10)

	// カット8 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 25.995f , -1423.271f , 12.553f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.408f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.300f , 0 )	// 基本仰角
	RotateCamera( 0 , 87.974f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示

	// 位置調整・表情・モーション
	LookSpd("Dogi" , 1.0 , 1.0 , 1.0 )
	LookSpd("Barbaross" , 1.0 , 1.0 , 1.0 )

	Turn("Dogi", -92.27f, 360.0f)
	Turn("Barbaross", 159.91f, 360.0f)
	LookReset("ADOL")
	LookReset("LAXIA")
	LookReset("SAHAD")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 25.996f , -1423.251f , 12.553f , 300 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.408f , 300 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.300f , 300 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 76.518f , 300 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mへえ、そいつは本格的ですなあ。\p"
		"#000e#080m拠点改め《漂流村》の"
		"建設といったところですかい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("Barbaross", 1, 25)	// キャラ, うなずき回数, 速さ
	ChangeAnimation( "Barbaross", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	
	// バルバロス
	TalkPopup("Barbaross", 0, 1, 0, 0, 0) {
		"#000e#000mうむ、私も手伝うつもりだが、"
		"やはりここは君が頼りになりそうだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_E", -1, 1 )
	WaitAnimation2( "Dogi" , -1, 1, "ANI_EV_RYOTEKOSI_E",  0)

	ChangeAnimation( "Dogi", "ANI_EV_YARUKI_S", -1, 1 )	// こぶしたたきつける
	Wait(15)
	EarthQuake( 0.02f , 0.02f , 5 )	// 縦揺れ幅, 横揺れ幅, 時間

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#080m任せてくれ！"
		"腕が鳴るってもんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	Wait(10)

	// カット9 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
//	MoveCameraAt( 0 , 26.734f , -1421.329f , 12.613f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.928f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -0.486f , 0 )	// 基本仰角
//	RotateCamera( 0 , 163.753f , 0 )				// 角度
//	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	MoveCameraAt( 0 , 26.734f , -1421.329f , 12.313f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.928f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.486f , 0 )	// 基本仰角
	RotateCamera( 0 , 163.753f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 再表示

//	MapHide( "fire_alpha" , 1 )		// 焚き火ON
	MapHide( "fire_alpha" , 0 )		// 焚き火OFF

	// 位置調整・表情・モーション
	SetChrPos("ADOL", 26.31f, -1420.15f, 10.83f)
	Turn("ADOL", 5.76f, 360.0f)
	SetChrPos("LAXIA", 25.45f, -1420.79f, 10.83f)
	Turn("LAXIA", -35.47f, 360.0f)
	SetChrPos("SAHAD", 27.99f, -1423.40f, 10.83f)
	Turn("SAHAD", 149.54f, 360.0f)
	SetChrPos("Dogi", 25.46f, -1423.03f, 10.83f)
	Turn("Dogi", -120.69f, 360.0f)
	SetChrPos("Barbaross", 26.59f, -1423.67f, 10.83f)
	Turn("Barbaross", 152.80f, 360.0f)
	LookChr("ADOL", "Barbaross")

	LookSpd("Dogi" , 0.10 , 0.10 , 0.10 )
	LookSpd("Barbaross" , 0.10 , 0.10 , 0.10 )

//	// カメラ移動（高さ）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.734f , -1421.329f , 12.313f , 70 )

	// フェード待ち
	Wait(FADE_CROSS)
	
	LookChr("Barbaross", "ADOL")
	Turn("Barbaross", -175.22f, 4.0f)
	Wait(10)
	LookChr("Dogi", "ADOL")
	ChangeAnimation( "Dogi", "ANI_EV_YARUKI_E", -1, 1 )	// こぶしたたきつける

	ChangeAnimation( "Barbaross", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	// バルバロス
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#000e#000mアドル、君は引き続き"
		"地図の作成と乗客の捜索を頼む。\p"
		"明日はもう少し"
		"捜索の範囲を広げてみてくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
	Wait(35)

	// テキスト
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0) {
		"#7Cアドルは力強くうなずいた。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD" , "Barbaross")
	ChangeAnimation( "Barbaross", "ANI_EV_UDEGUMI_S", -1, 1 )

	// バルバロス
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#011e#000mしかし、異形の獣か……\p"
		"#012e#000mいくら冒険家の君でも"			//◆君がいくら冒険家の君でも
		"いささか心配ではあるが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Dogi")
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	ChangeAnimation( "Dogi", "ANI_EV_BORI", -1, 1 )	// 頭かき
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000m俺も一緒にと言いたいとこだが、"
		"こっちはこっちで重要だしなあ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	EmotionEx("SAHAD", 0.05f, EMO_PA, 0, 5, 1, 1, 1.3f )	// 「PA」
	LookChr("SAHAD", "Dogi")
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	Wait(35)

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mお、そういうことなら"
		"ワシが一緒に行くとするか。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	LookChr("ADOL", "SAHAD")
	LookChr("Dogi", "SAHAD")
	Wait(10)
	LookChr("SAHAD", "ADOL")
	ChangeAnimation( "SAHAD", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000m昼間はあの獣に驚かされちまったが、"
		"目はいいし、力もあるほうだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Barbaross", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組み
	LookChr("Barbaross" , "SAHAD")

	WaitAnimation( "Barbaross" , -1 , 1 )
	Turn("Barbaross" , -125.79f , 8.0f)

	Wait(10)

	// バルバロス
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#000e#000mふむ、なるほど……"
		"それではよろしくお願いします。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	// カット10 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（高さ）
	StopThread(1000)
	
	// カメラ
//	MoveCameraAt( 0 , 26.316f , -1422.826f , 12.333f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.008f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -2.855f , 0 )	// 基本仰角
//	RotateCamera( 0 , 206.668f , 0 )				// 角度
//	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -0.3f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	MoveCameraAt( 0 , 26.316f , -1422.826f , 12.433f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.008f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.855f , 0 )	// 基本仰角
	RotateCamera( 0 , 206.668f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MapHide( "fire_alpha" , 0 )		// 焚き火OFF

	// 位置調整・表情・モーション
	SetChrPos("Dogi", 25.22f, -1423.10f, 10.83f)
	Turn("Dogi", -149.11f, 360.0f)

	LookSpd("Barbaross" , 1.0 , 1.0 , 1.0 )
	SetChrPos("Barbaross", 26.35f, -1423.74f, 10.83f)
	Turn("Barbaross", -175.53f, 360.0f)
	LookReset("ADOL")

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.316f , -1422.826f , 12.433f, 100 )

	// フェード待ち
	Wait(FADE_CROSS)

	LookChr("Dogi" , "LAXIA")
	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mお嬢さんはどうするんだい？"
		"やっぱアドルについていくのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	
	LookChr("LAXIA" , "Dogi")
	Wait(15)
	HeadYes("LAXIA" , 1 , 25)

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, -40, 1) {
		"#000e#000mえ……ええ、そうですね。"
	}
	WaitPrompt()

	LookSpd("SAHAD" , 0.11 , 0.11 , 0.11 )
	LookChr("SAHAD" , "LAXIA")
	LookSpd("Barbaross" , 0.11 , 0.11 , 0.11 )
	LookChr("Barbaross" , "LAXIA")
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_LAUGH_S,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE_S,1)

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#020e#080mガハハ、歓迎するぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("LAXIA", 0.0f, -10.0f)	// うつむく
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, -40, 1) {
		"#011e#000mうっ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット10 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（高さ）
	StopThread(1000)

	// カメラ
	MoveCameraAt( 0 , 26.228f , -1423.350f , 12.653f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.767f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.051f , 0 )	// 基本仰角
	RotateCamera( 0 , 138.452f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MapHide( "fire_alpha" , 1 )		// 焚き火ON

	// カメラ移動（水平）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.317f , -1423.430f , 12.653f , 150 )

	// フェード待ち
	Wait(FADE_CROSS)

	LookReset("Barbaross")

	ChangeAnimation( "Barbaross", "ANI_EV_RYOTEBURI", -1, 1 )

	// バルバロス
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#000e#000mさて、それでは"
		"今日はそろそろ休むとしよう。\p"
		"#011e#000m皆さん、忙しくなると思いますが、"
		"明日からよろしくお願いします。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　双子の月明かりに照らされた夜の集落を映しつつ
	//　　画面フェードアウト。
	
	// カット11 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_SLOW)

	// カメラ停止
	StopThread(1000)

	// カメラ
	MoveCameraAt( 0 , 12.183f , -1413.447f , 17.028f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.905f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.212f , 0 )	// 基本仰角
	RotateCamera( 0 , 211.822f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -2.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,2.000 ,0.550 ,0.500)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 12.183f , -1413.447f , 18.388f , 210 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.905f , 210 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -27.879f , 210 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 236.173f , 210 )

	Wait(120)

	StopBGM(120)

	FadeOut(FADE_BLACK,FADE_SLOW)
	Wait(30)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	WaitFade()

	
	//★エフェクトタイトル////////////////////////////////////////////////
	Wait(30)

	//擬似フェードアウト
	Portrait_Anime(  0 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f,0)
	FadeIn(FADE_BLACK,0)
	WaitFade()

	Portrait_Anime(  1 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f,FADE_SLOW)
	Wait(30)

	//時限式選択肢
	//◆SE無効化コマンド置換用
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuAdd( 1 , "" )
	MenuOpen( TF_MENU_SELECT , 0 ,0 , 0 , 0 , 0 , 0 )
	WaitMenu(180) //ウェイトしたい数値
	MenuClose(0,0)

	Portrait_Anime(  1 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f,45)
	Wait(45)
	Wait(30)

	//擬似フェードアウト
	FadeOut(FADE_BLACK,0)
	WaitFade()
	Portrait_Anime(  0 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f,0)

	Portrait_Close(  -1 )
	Portrait_Unload( -1 )

	/////////////////////////////////////////////////////////////////////


	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M01S192_ED")
}

function "EV_M01S192_ED"
{
	SetSkipScript("")
	RestoreEventState()

	StopBGM(60)

	Portrait_Close(  -1 )
	Portrait_Unload( -1 )

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//フラグ処理
	SetFlag(GF_01MPxxxx_1ST_CHAPTER_FINISH,1)// 第一部了
	SetFlag( GF_CAMP_VILLAGE_LV, 1 )	// 漂流村の発展設定：集落LV1
	SetFlag( GF_CAMP_ROOM_LV, 1 )		// 漂流村の発展設定：拠点屋内LV1
	SetFlag( GF_CAMP_BED_LV, 1 )		// 漂流村の発展設定：寝床LV1

	//トロフィー入手
	GetTrophy("TROPHY_SCENE_C1_END")		//セイレン島			第一部「セイレン島」をクリアした。

	SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット

	LoadArg("map/mp9999/mp9999.arg")
	EventCue("mp9999:EV_M02S000")

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	ResetStopFlag(STOPFLAG_EVENT)

//終了処理ここまで----------------------------------------------------
}

function "EV_M02S010"		//ラクシャから探索服をもらう
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	ClearDebris()
	ResetMotion( "ALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrInfoFlag( "ADOL" , INFOFLAG_FLING )
	SetChrPos("ADOL",-14.07f,-1358.21f,11.57f)
	Turn("ADOL",-132.20f,360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)

	ChangeAnimation( "ADOL" , "ANI_EV_SLEEP_HM_L", -1 , 1 )	
	ChrNodeHide( "ADOL" , "Null_wp", 1, 1 )	//剣を消す

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
//	SetChrPos("LAXIA",-15.81f,-1360.83f,11.57f)
//	Turn("LAXIA",-153.59f,360.0f)
	SetChrPos("LAXIA",-12.33f, -1361.99f, 11.57f )
	Turn("LAXIA",155.51f,360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	LookChr("LAXIA" , "ADOL")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_INVISIBLE )

	MoveCameraAt( 0 , -14.270f , -1358.674f , 12.950f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.832f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.816f , 0 )	// 基本仰角
	RotateCamera( 0 , 95.895f , 0 )				// 角度
	ChangeCameraPers( 0 , 41.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -5.7f , 0 )				// ロール回転

	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 1920,1080, 0.0f, 0x00ffffff, 0x00000000)

	Portrait_Load(  1 , "visual/portrait/chap30.itp" )	//第二部エフェクトタイトル
	Portrait_Create(1 , -64 , 28 , 
					0 , 0 , 2048 , 1024 , 
					0.0f , 0x00ffffff , 0x00000000 )
	
	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,1.000 ,0.450 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	StopBGM(15)

	SetSkipScript("mp1201:EV_M02S010_ED")

//開始処理ここまで-----------------------------------------------

	//★エフェクトタイトル////////////////////////////////////////////////
	Wait(30)

	//擬似フェードアウト
	Portrait_Anime(  0 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f,0)
	FadeIn(FADE_BLACK,0)
	WaitFade()

	Portrait_Anime(  1 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f,FADE_SLOW)
	Wait(30)

	//時限式選択肢
	//◆SE無効化コマンド置換用
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuAdd( 1 , "" )
	MenuOpen( TF_MENU_SELECT , 0 ,0 , 0 , 0 , 0 , 0 )
	WaitMenu(180) //ウェイトしたい数値
	MenuClose(0,0)

	Portrait_Anime(  1 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f,45)
	Wait(45)
	Wait(30)

	//擬似フェードアウト
	FadeOut(FADE_BLACK,0)
	WaitFade()
	Portrait_Anime(  0 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f,0)

	Portrait_Close(  -1 )
	Portrait_Unload( -1 )

	/////////////////////////////////////////////////////////////////////

	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a15.itp" )	// help_a15：衣装変更
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)

	Wait(30)

	PlaySE("SE_SUZUME", 100, 0,  0, 0, 1.0f, 0)
//	SetEnvSEPlayState(-1, 1)
	SetEnvSEPlayState(1202001, 1)	//環境SEスタート
	SetEnvSEPlayState(1202202, 1)	//環境SEスタート
	SetEnvSEPlayState(1202203, 1)	//環境SEスタート
	SetEnvSEPlayState(1202004, 1)	//環境SEスタート
	SetEnvSEPlayState(1202201, 1)	// EVBOX 川
	Wait(45)

	Wait(15)

	//──────────────────────────────
	//▼ラクシャから探索用の服をもらう(mp1202)
	//──────────────────────────────
	//　　画面暗転のまま、せせらぎと
	//　　鳥(スズメ系)の鳴き声が聞こえてくる。
	//　　フェードイン後に休息所の寝台で
	//　　目を覚まして半身を起こすアドル。
	//　　ちょうどそこへラクシャが入ってくる。


	ChangeAnimation( "ADOL" , "ANI_EV_WAKEUP_HM_S", -1 , 1 )
	PlaySE(SE_M02S010_01, 60, 0, 0, 0, 1.0f, 0)	//起き上がるアドル
	Wait(15)

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , -14.301f , -1358.379f , 12.950f , 120 )				// 注視点

	//MoveCameraAt( 0 , -14.301f , -1358.379f , 12.950f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 1.832f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 4.816f , 0 )	// 基本仰角
	//RotateCamera( 0 , 95.895f , 0 )				// 角度
	//ChangeCameraPers( 0 , 41.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -5.7f , 0 )				// ロール回転

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_WAKEUP_HM_S",  0)
	Wait(20)
	WaitThread(1001)

	TalkPopup("LAXIA",0,3,70,200,0)
	{
		"#000e#000mおはようございます。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_NORMAL)

	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKR_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD,1)

	MoveCameraAt( 0 , -14.187f , -1358.865f , 12.875f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.301f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.640f , 0 )	// 基本仰角
	RotateCamera( 0 , 143.229f , 0 )				// 角度
	ChangeCameraPers( 0 , 37.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 6.0f , 0 )				// ロール回転

	ExecuteCmd( 1, MoveTo, "LAXIA", -13.45f, -1359.47f, 11.56f , 0.1f, 0.18f , 1 , 0)

//終点カメラ
//	MoveCameraAt( 0 , -13.927f , -1359.060f , 12.875f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.301f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 3.640f , 0 )	// 基本仰角
//	RotateCamera( 0 , 171.232f , 0 )				// 角度
//	ChangeCameraPers( 0 , 37.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 6.0f , 0 )				// ロール回転

	//SetWork( WK_BGM , BGM_1202 )		//BGM再生
	PlayBGM(BGM_1202, 0)

	Wait(FADE_NORMAL)

	LookSpd( "ADOL", 0.06f, 0.06f, 0.06f )// ゆっくりめに首向き
	Look("ADOL" ,  45 , 10 )

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , -13.927f , -1359.060f , 12.875f , 70 )				// 注視点
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 171.232f , 70 )				// 角度

	WaitThread(1001)
	WaitThread(1003)

	WaitThread(1)

	//　　歩いてアドルの側に移動してくるラクシャ。
	//　　ラクシャに「？」エモーションを表示。

	Wait(10)

	EmotionEx("LAXIA", 0.015f, EMO_PA, 0, 5, 1, 1, 0.8f )	// 「PA」
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SUP_S,1)

	Wait(35)

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000m……まだ眠そうですね？"
	}
	WaitPrompt()
	WaitCloseWindow()


	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"いや、大丈夫だ")
	MenuAdd(2,"妙な夢を見たせいかな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	Wait(10)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
	HeadNo("ADOL" , 1 , 35 )
	Wait(35)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD_CLOSE_E,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	PlayVoice(Y8V_0369,"LAXIA",100)	//ふむ…（平常のテンション。あらゆる場面で使用）
	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_S", -1 , 1 )	

	//─────────────────────────
	//	⇒いや、大丈夫だ
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_CLOSE_S,1)
		Wait(30)

		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#000m本当ですか？"
			"しっかりなさってください。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒妙な夢を見たせいかな
	if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_FUMAN_S,1)
		Wait(30)

		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#000m夢……ですか？\p"
			"#011eどうやら冒険家とやらも"
			"大したことないようですね。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , -13.753f , -1358.820f , 13.049f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.831f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.110f , 0 )	// 基本仰角
	RotateCamera( 0 , 242.801f , 0 )				// 角度
	ChangeCameraPers( 0 , 26.800f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -2.5f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#012e#000m今日から本格的に"
		"漂流者の方たちを探すのでしょう？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"そうだっけ？")
	MenuAdd(2,"ああ、早速出発しよう")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//─────────────────────────
	//	⇒そうだっけ？
	if (FLAG[TF_MENU_SELECT] == 1)
	{

//		EmotionEx("ADOL",0.0f,0,1,5,2,1,1.1f)	// ？
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SUP_S,1)
		Wait(10)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		HeadNo("ADOL" , 1 , 35 )
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

//		ChangeAnimation( "LAXIA" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )	
		HeadNo("LAXIA" , 1 ,35)

		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#130e#000m寝惚けていないで、"
			"さっさと準備をなさい。"
		}
		WaitPrompt()
		WaitCloseWindow()

		Look("LAXIA" , 30 , -10 )

		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#141e#000m#0L……………………………………"
		}
		WaitPrompt()
		WaitCloseWindow()

		//　　ラクシャ、言い出しにくそうにする素振り。
		Wait(30)

		LookReset("LAXIA")
		ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_E", -1 , 1 )	

//		ChangeAnimation( "LAXIA" , "ANI_EV_TEBURI", -1 , 1 )	
		
		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#010l#050e#000mそ、そうです、アドル・クリスティン。\p"
			"あなたが身だしなみを整えるついでに"
			"見せたいものがあるのですが……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	//	⇒ああ、早速出発しよう
	if (FLAG[TF_MENU_SELECT] == 2)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(10)
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
		HeadYes("ADOL" , 1 , 25 )
		Wait(20)
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#070e#200mえ、今すぐにですか？"
		}
		WaitPrompt()
		WaitCloseWindow()

		Look("LAXIA" , -30 , -10 )

		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#050e#020l#000m#0L……………………………………"
		}
		WaitPrompt()
		WaitCloseWindow()

		//　　ラクシャ、言い出しにくそうにする素振り。
		ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_E", -1 , 1 )	
		LookReset("LAXIA")
		ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC_S,1)

		WaitAnimation( "LAXIA" , -1 , 1 )

		ChangeAnimation( "LAXIA" , "ANI_EV_SEKI", -1 , 1 )
		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#000l#061e#000mコホン……そ、その前に……\p"
			"#012eアドル・クリスティン、"
			"あなたに見せたいものがあるのです。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	//　　アドルに「？」エモーションを表示。
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SUP_S,1)
	EmotionEx("ADOL",-0.02f,EMO_Q,0,5,1,1,0.7f)	// ？
	Wait(40)
	
	ChangeAnimation( "LAXIA" , "ANI_EV_TEMUNE_S", -1 , 1 )	
	
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000l#011e#000m今朝方、散歩をしていたら"
		"浜辺に漂着物がありまして……\p"
		"#12eその中にあなたの背丈に"
		"合いそうな服があったのです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"どんな服だい？")
	MenuAdd(2,"このままで大丈夫だ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	Wait(30)

	//─────────────────────────
	//	⇒どんな服だい？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation( "LAXIA" , "ANI_EV_TEMUNE_E", -1 , 1 )	
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)

		HeadYes("LAXIA" , 1 , 25 )

		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#000l#011e#000mしっかりした作りで"
			"探索に向いていると思います。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "LAXIA" , "ANI_EV_TEBURI", -1 , 1 )	

		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#012eどうぞ、こちらへいらっしゃって。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//	⇒このままで大丈夫だ
	if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation( "LAXIA" , "ANI_EV_TEMUNE_E", -1 , 1 )	
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)

		HeadNo("LAXIA" , 1 , 25 )

		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#000l#061e#000mせ、せっかく用意したのだから、"
			"見るだけ見たらどうなのです？"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "LAXIA" , "ANI_EV_TEBURI", -1 , 1 )	

		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#062eさあ、こちらへいらっしゃって。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────
	//　　キャラ再配置して、暗転中に着替ているＳＥを再生。
	//　　画面フェードインして船員用から探索用の服に
	//　　着替えたアドルを足元から見せていく。

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	SetChrPos("ADOL",-17.44f, -1361.76f, 11.54f )
//	Turn("ADOL",-89.88f,360.0f)
	Turn("ADOL",-66.98f,360.0f)

	ResetChrInfoFlag( "ADOL" , INFOFLAG_FLING )
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
//	Look("ADOL" , 30 , -8 )
	LookReset("ADOL")
	ChangeAnimation( "ADOL" , "ANI_EV_WAIT2", -1 , 1 )	

	
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )	


	EquipCostume(ADOL, -1, EQC_MAIN, EQC_MODE_EVFORCE)		// 強制はしない
	EquipCostume(ADOL, -1, EQC_MAIN, EQC_MODE_EVDEFAULT)	// イベントとしては探索用服を着て欲しい

	MoveCameraAt( 0 , -17.381f , -1361.813f , 11.660f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.227f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 25.165f , 0 )	// 基本仰角
	RotateCamera( 0 , 197.445f , 0 )				// 角度
	ChangeCameraPers( 0 , 38.600f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -8.1f , 0 )				// ロール回転
//	TalkPopup(UNDEF,0,0,0,0,0)
//	{
//		"#7C◆着替えるSEを再生"
//	}
//	WaitPrompt()
//	WaitCloseWindow()

	PlaySE(SE_M02S010_02, 80, 0, 0, 0, 1.0f, 0)	//着替えるアドル

	Wait(60)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	Wait(20)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -17.402f , -1361.860f , 12.974f , 180 )	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.467f , 180 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.490f , 180 )	// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 42.756f , 180 )				// 角度

	//MoveCameraAt( 0 , -17.402f , -1361.860f , 12.974f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 1.467f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -1.490f , 0 )	// 基本仰角
	//RotateCamera( 0 , 42.756f , 0 )				// 角度
	//ChangeCameraPers( 0 , 38.600f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 7.9f , 0 )				// ロール回転

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	SetChrPos("LAXIA",-16.21f,-1361.61f,11.56f)
	Turn("LAXIA",51.15f,360.0f)
	LookChr("LAXIA", "ADOL")

	Wait(30)

	CrossFade(FADE_NORMAL)

	MoveCameraAt( 0 , -16.930f , -1362.149f , 13.025f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.003f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.624f , 0 )	// 基本仰角
	RotateCamera( 0 , 354.279f , 0 )				// 角度
	ChangeCameraPers( 0 , 55.600f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.113f , 80 )		// 基本距離

//	MoveCameraAt( 0 , -16.930f , -1362.149f , 12.925f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 1.113f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 4.625f , 0 )	// 基本仰角
//	RotateCamera( 0 , 354.277f , 0 )				// 角度
//	ChangeCameraPers( 0 , 55.600f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 3.6f , 0 )				// ロール回転

	Wait(FADE_NORMAL)

	Wait(40)

	ChangeAnimation( "LAXIA" , "ANI_EV_TEBURI", -1 , 1 )

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000e#000mいかがでしょうか？"
		"船員服より丈夫かと思いますが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、服をチェックするような仕草と
	//　　「…」エモーションを表示。

	ChangeAnimation( "ADOL" , "ANI_EV_WAIT2_E", -1 , 1 )	

	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKU_S,1)
	LookSpd( "ADOL", 0.10f, 0.10f, 0.10f )// ゆっくりめに首向き
	Look("ADOL" , 0 , -20 )
	Wait(30)

	LookSpd( "ADOL", 0.06f, 0.06f, 0.06f )// ゆっくり首向き
	Look("ADOL" , -40 , -10 )
	Wait(40)
	EmotionEx("ADOL", 0.0f, "EMO_3DOT", 27, 5, 1, 1, 0.8f)	// 「…」
	Look("ADOL" , 40 , -10 )

	WaitThread(1001)

	Wait(60)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKU_E,1)
	LookSpd( "ADOL", 0.10f, 0.10f, 0.10f )// ゆっくりめに首向き
	LookChr("ADOL" , "LAXIA")
	Wait(10)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"まあまあかな？")
	MenuAdd(2,"ありがとう、気に入ったよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	ChangeAnimation( "ADOL" , "ANI_EV_WAIT2_S", -1 , 1 )

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)

	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	Wait(10)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
	HeadYes("ADOL" , 1 , 25 )
	Wait(20)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	Look("LAXIA" , -40 , 0 )
	
	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_S", -1 , 1 )


	//─────────────────────────
	//	⇒まあまあかな？
	if (FLAG[TF_MENU_SELECT] == 1)
	{

		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#011e#020l#000mそ、そうですか。"
			"まあ、拾い物ですから……\p"
			"#012e勝手に拝借していいものか"
			"悩んだのですが……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	//	⇒ありがとう、気に入ったよ
	if (FLAG[TF_MENU_SELECT] == 2)
	{

		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#000e#020l#000m……か、勘違いしないでください。\p"
			"#011eこの状況下ではどんな物でも"
			"有効活用するしかありませんから。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	//─────────────────────────

	Wait(10)

	LookReset("LAXIA")

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000l#012e#000mそれよりサハドの姿が"
		"見当たらないようですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "ADOL")
	Wait(10)

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"彼に声をかけて"
		"出発の準備をいたしましょうか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		SetEnvSEPlayState(-1, 0)	//環境SE全停止

		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		Portrait_Close(1)
		Portrait_Close(2)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		Portrait_Close(0)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================


//終了処理ここから----------------------------------------------------

	CallFunc("mp1201:EV_M02S010_ED")
}

function "EV_M02S010_ED"
{
	SetSkipScript("")
	RestoreEventState()

	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")

	ReleaseEventPartyChr()
	
	ChrNodeHide( "ADOL" , "Null_wp", 0, 1 )	//剣を出す
	LookSpd( "ADOL", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT )

	//着替える
	EquipCostume(ADOL, -1, EQC_MAIN, EQC_MODE_EVFORCE)		// 強制はしない
	EquipCostume(ADOL, -1, EQC_MAIN, EQC_MODE_EVDEFAULT)	// イベントとしては探索用服を着て欲しい

	//船員服に着替えられるようにアイテム入手
	GetItem(ICON3D_COS_ADOL_00, 1)		// 船員服

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//自動送り許可
	SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	ActiveVoiceStop(ACTIVEVOICESTOP_FORCE)		//アクティブボイス強制終了

	//フラグ処理
	SetFlag( GF_02MP1202_GET_CLOTHES , 1 )			// 探索用の服をもらった
	//SetFlag( SF_MISSIONNO, MS_02_01 )	//★冒険メモ：出発の前にサハドに声を掛けよう。
	SetFlag( GF_HELP_A15, 1 )	// チュートリアル：衣装

	DelMapMarker(SMI_SYMBOL, PAGE_F001, MARKER_EV_M01S190, 0, 0)	//拠点に戻ってドギと再会

	//SetFlag(SF_SAHAD_JOINOK,0)	// サハド参加不可
	//SetPartyMember(PARTY_ADOL , PARTY_LAXIA , -1 )

	SetFlag(SF_SETRAMSAVE,1)		//リトライセーブ
	//SetFlag( SF_WARP_DISABLED, 1 )		//ワープ使用不可

	//お一人様モード
	//SetFlag( GF_PARTY_NONE , 1)		//パーティ全員行動ON
	//FixPlayerChr(PARTY_NONE)		// アドルおひとり様モードOFF

	//迎撃戦に参加
	CallFunc("rng:0405")
	CallFunc("rng:0403")
	CallFunc("rng:0471")
	SetFlag(GF_02MP1201_TALK_DOGISAHAD,	1)	// ドギとサハドと話す
	SetFlag(GF_02MP1203_START_FISHING,1)		// 朝食用の魚を釣りに行く
	SetFlag(GF_02MP1203_GET_FISH,1)			// 朝食用の魚を釣った
	SetFlag(GF_02MP1201_TEST_SMITH,	1)		// 武器の強化を試す
	SetFlag(GF_02MP1201_TEST_TRADE,	1)		// アイテム交換を試す
	SetFlag(GF_02MP1201_TEST_DRUG,1)			// 調薬を試す
	SetFlag(GF_02MP1201_TAKE_BREAKFAST,	1)	// ドギが料理を説明する
	SetFlag(GF_02MP1201_INFO_QUEST,1)			// 依頼の説明を受けた
	SetFlag(GF_GALL_EVIMG_01,1)			// p_10000 アドルの夢Ⅰ[牧童の少女]：空を見上げるダーナ
	SetFlag(GF_GALL_EVIMG_02,1)			// p_10001 アドルの夢Ⅰ[牧童の少女]：振り返るダーナ
	SetFlag(GF_GALL_EVIMG_03,1)	
	SetFlag(GF_01MP1201_JOIN_DOGI,1)
	SetFlag(GF_01MPxxxx_1ST_CHAPTER_FINISH,1)// 第一部了
	SetFlag( GF_CAMP_VILLAGE_LV, 1 )	// 漂流村の発展設定：集落LV1
	SetFlag( GF_CAMP_ROOM_LV, 1 )		// 漂流村の発展設定：拠点屋内LV1
	SetFlag( GF_CAMP_BED_LV, 1 )		// 漂流村の発展設定：寝床LV1
	SetFlag(GF_02MP1101_START_EXPLORE, 1)

//近づいて発生するイベントから、話しかけて発生するイベントに変わったため不要になりました。
//	SetMapMarker( SMI_EVENTPT_MAIN,	PAGE_MP120x, MARKER_EV_M02S020　, 27.08f, -1421.96f, 10.83f, 27.08f, -1421.96f ,-1, MN_T_VILLAGE_MP1201,0)	//焚き火近辺

	//水晶石入れ替え
	DelMapMarker( SMI_CHECKED_WARPPT, PAGE_MP120x, -1, 41, -1420)	// 古い水晶石マーカーの撤去
	SetMapMarker( SMI_CHECKED_WARPPT, PAGE_MP120x, -1, 41, -1420, 11, 41, -1420, CP_MP1201_02, MN_T_VILLAGE_MP1201,0)	// 新しい水晶石マーカーを設置
	DelCheckPoint( CP_MP1201_01 )
	SetCheckPoint( CP_MP1201_02 )

	//テント回復処理・リトライセーブ
	CallFunc("system:camp_rest")

	//SetWork( WK_BGM , BGM_1202 )		//BGM再生
	PlayBGM(BGM_1202, 0)
	SetEnvSEPlayState(1202001, 1)
	SetEnvSEPlayState(1202201, 1)
	SetEnvSEPlayState(1202202, 1)
	SetEnvSEPlayState(1202203, 1)
	SetEnvSEPlayState(1202004, 0)

	SetChrPos("LEADER",-9.98f,-1367.18f,11.57f)
	Turn("LEADER",-24.92f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	MoveCameraAt( 0 , -9.980f , -1367.180f , 12.934f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , -155.086f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
	LoadArg("map/mp1201/mp1201.arg")
	EventCue("mp1201:init" )

//終了処理ここまで----------------------------------------------------
}

function "EV_M02S020"	//ドギとサハドと話す
{
//開始処理ここから----------------------------------------------------

	CallFunc("system:solo_event_begin")

	LoadChr("Dogi")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	MoveCameraAt( 0 , 0 , 0 , 0 , 0 )	// 着地音を消す

	ResetMotion( "ALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")

	SetChrPos("Sahad",-100000.00f,00.00f,00.00f)

	//SetFlag(SF_SAHAD_JOINOK,1)	// サハド参加
	//SetPartyMember(PARTY_ADOL , PARTY_LAXIA , PARTY_SAHAD )

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",29.54f,-1416.92f,10.83f)
	Turn("ADOL",47.44f,360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",27.58f,-1420.35f,10.83f)
	Turn("LAXIA",31.88f,360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("LAXIA" , "Dogi")

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrPos("SAHAD",28.42f,-1423.29f,10.83f)
	Turn("SAHAD",124.68f,360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	LookChr("SAHAD" , "Dogi")

	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )
	SetChrPos("Dogi",27.01f,-1423.75f,10.83f)
	Turn("Dogi",178.09f,360.0f)
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Dogi" , "SAHAD")

	LookSpd( "SAHAD", 1.0f, 1.0f, 1.0f )// 即座に変更
	LookSpd( "Dogi", 1.0f, 1.0f, 1.0f )// 即座に変更
	LookSpd( "ADOL", 0.12f, 0.12f, 0.12f )// ゆっくりめに首向き
	LookSpd( "LAXIA", 0.12f, 0.12f, 0.12f )// ゆっくりめに首向き

	Wait(10)

	MoveCameraAt( 0 , 28.523f , -1423.911f , 12.411f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.521f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.977f , 0 )	// 基本仰角
	RotateCamera( 0 , 244.379f , 0 )				// 角度
	ChangeCameraPers( 0 , 37.500f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ExecuteCmd( 1, MoveTo, "ADOL", 26.46f,-1420.32f,10.83f, 0.1f, 0.225f )	//足音用

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,2.000 ,0.550 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetSkipScript("mp1201:EV_M02S020_ED")	


//開始処理ここまで-----------------------------------------------

	SetChrWork("SAHAD", CWK_FORCELIPSYNC, 1)	//強制口パク

	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

	ChangeAnimation( "SAHAD" , "ANI_EV_TEBURI", -1 , 1 )
	Wait(20)

	SetChrWork("SAHAD", CWK_FORCELIPSYNC, 0)
//	SetChrWork("Dogi", CWK_FORCELIPSYNC, 0)

	WaitThread(1)
	SetChrPos("ADOL",26.46f,-1420.32f,10.83f)
	Turn("ADOL",-20.88f,360.0f)

//	EmotionEx("Dogi",0.02f,38,38,10,1, 1, 1.15f)	//パッ
//	EmotionEx("SAHAD",0.02f,38,38,10,1, 1, 1.3f)	//パッ
	EmotionEx("Dogi", 0.05f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	EmotionEx("SAHAD", 0.05f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」

	Wait(10)

	LookSpd( "SAHAD", 0.12f, 0.12f, 0.12f )// ゆっくりめに首向き
	LookSpd( "Dogi", 0.12f, 0.12f, 0.12f )// ゆっくりめに首向き
	LookChr("SAHAD" , "ADOL")
	LookChr("Dogi" , "ADOL")

	Wait(15)

//終点カメラ
//	MoveCameraAt( 0 , 27.615f , -1421.973f , 12.213f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.460f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 3.977f , 0 )	// 基本仰角
//	RotateCamera( 0 , 224.907f , 0 )				// 角度
//	ChangeCameraPers( 0 , 37.500f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -5.3f , 0 )				// ロール回転

	ExecuteCmd( 1001,MoveCameraAt, INTERPOLATE_SPHERE , 27.615f , -1421.973f , 12.213f , 60 )	// 注視点
	ExecuteCmd( 1002,ChangeCameraDistance, INTERPOLATE_SPHERE , 4.460f, 60 )				// 基本距離
	ExecuteCmd( 1003,ChangeCameraElevation, INTERPOLATE_SPHERE , 3.977f , 60 )				// 基本仰角
	ExecuteCmd( 1004,RotateCamera, INTERPOLATE_SPHERE , 224.907f, 60 )				// 角度


	//──────────────────────────────
	//▼釣りを覚えることになる(mp1201)
	//──────────────────────────────
	//　　広場中央の焚火周辺でドギとサハドが話し込んでいる。
	//　　二人のうち、どちらかに話しかけるとイベント開始。

	Wait(60)

	PlayVoice(Y8V_1414,"SAHAD",100)	//お？（疑問）

	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#080e#080mお？　アドルと嬢ちゃんか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#080mアドル、その服はどうしたんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"似合ってるだろう？")
	MenuAdd(2,"大事な人にもらったんだ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	HeadYes("ADOL",1 ,30 )
	ChangeAnimation( "ADOL" , "ANI_EV_WAIT2_S", -1 , 1 )
	WaitAnimation( "ADOL" , -1 , 1 )

	Wait(10)

	//─────────────────────────
	//	⇒似合ってるだろう？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadYes("Dogi" , 1 , 25)
		TalkPopup("Dogi",0,2,0,0,0)
		{
			"#000e#080mああ、まるでお前さんのために"
			"こしらえたような服だな。\p"
			"#080m船員服も悪くないが、"
			"それでこそ冒険家って感じがするぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒大事な人にもらったんだ
	if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_S", -1 , 1 )
		HeadNo("LAXIA" , 1 , 30)
		TalkPopup("LAXIA",0,1,0,0,0)
		{
			"#011e#000mた、単なる拾い物です……"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("LAXIA" ,"ADOL" )

		TalkPopup("LAXIA",0,1,0,0,0)
		{
			"#130e妙な言い方をしないでください。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	//─────────────────────────

	LookChr("LAXIA" , "Dogi")

	//─────────────────────────
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_S", -1 , 1 )
	}
	//─────────────────────────

	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#012e#000mそれよりも二人そろって"
		"こんな所で何をしているのです？"
	}
	WaitPrompt()
	WaitCloseWindow()


	LookChr("Dogi" , "LAXIA")
	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#080mいや何、俺もサハドも腹が減って、"
		"朝早くに目が覚めちまってな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_SMILE_S,1)

	ChangeAnimation( "SAHAD" , "ANI_EV_UDEGUMI_S", -1 , 1 )
	LookReset("SAHAD")

	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#011e#000mやっぱ朝はちゃんと食ってクソしなきゃ、"
		"どうにも落ち着かんぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitThread(1001)

	CrossFade(FADE_CROSS)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_FUMAN,1)

	MoveCameraAt( 0 , 27.133f , -1420.282f , 12.189f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.149f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.524f , 0 )	// 基本仰角
	RotateCamera( 0 , 35.755f , 0 )				// 角度
	ChangeCameraPers( 0 , 25.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,2.930f , 40 )		// 基本距離

	//終点カメラ
	//MoveCameraAt( 0 , 27.133f , -1420.282f , 12.189f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.930f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 2.523f , 0 )	// 基本仰角
	//RotateCamera( 0 , 35.743f , 0 )				// 角度
	//ChangeCameraPers( 0 , 25.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_E", -1 , 1 )

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#070mなっ…#072m…"	
	}

	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2( "LAXIA" , -1, 1, "ANI_EV_UDEGUMI_E",  0)
	ChangeAnimation( "LAXIA" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#141e#000mま、全くあなたたちときたら、"
		"もっと大人として慎みを持った言動を……"
	}
	WaitPrompt()
	WaitCloseWindow()


	PlaySE( SE_M02S020_01 , 40 , 0,  0, 0, 1.0f, 0)		//◆仮　腹減り

	//　　喋っている途中でラクシャのお腹が鳴る。
	//　　アドル、ドギ、サハドに「…」エモーション、
	//　　ラクシャに冷や汗エモーションを表示。

	Wait(40)
	
	LookChr("SAHAD" , "LAXIA")
	TurnToChr("SAHAD" ,"LAXIA" ,360.00f)
	LookChr("Dogi" , "LAXIA")
	TurnToChr("Dogi" ,"LAXIA" ,360.00f)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SUP_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)

	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SUP_S,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT2,ANI_C_RED_S,1)		//頬：赤
//	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)

	Wait(40)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SUP_E,1)
	Look("ADOL" , -27 , -5 )
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKL_S,1)
	Wait(25)

	CrossFade(FADE_NORMAL)

	MoveCameraAt( 0 , 27.768f , -1420.044f , 12.138f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.461f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.203f , 0 )	// 基本仰角
	RotateCamera( 0 , 164.469f , 0 )				// 角度
	ChangeCameraPers( 0 , 21.900f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 5.372f , 100 )		// 基本距離

//終点カメラ
//	MoveCameraAt( 0 , 27.768f , -1420.044f , 12.138f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 5.372f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -0.203f , 0 )	// 基本仰角
//	RotateCamera( 0 , 164.472f , 0 )				// 角度
//	ChangeCameraPers( 0 , 21.900f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	
	WaitFade()

	Wait(FADE_NORMAL)

	EmotionEx("ADOL", 0.0f,EMO_3DOT,0,5,1,1,1.1f)	// …
	EmotionEx("SAHAD", 0.0f,EMO_3DOT,0,5,1,1,1.5f)	// …
	EmotionEx("Dogi", 0.0f,EMO_3DOT,0,5,1,1,1.6f)	// …

	Wait(52)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)		//悲観瞑目

	EmotionEx("LAXIA", 0.00f,EMO_TARA,0,5,1,1,1.0f )
	LookReset("LAXIA")
	ChangeAnimation( "LAXIA" , "ANI_EV_RYOTEKOSI_E", -1 , 1 )
	Wait(40)

//	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#080e#080mガハハ、何だ何だァ？"
		"嬢ちゃんも腹が減ってるんじゃねーか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayVoice(Y8V_3567,"Dogi",100)	//ハハ！

	ChangeAnimation( "Dogi" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#080mまあ、健康な証拠ってヤツだな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_SMILE_S,1)

	CrossFade(10)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)

	LookReset("SAHAD")

	MoveCameraAt( 0 , 27.299f , -1420.437f , 12.237f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.447f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.643f , 0 )	// 基本仰角
	RotateCamera( 0 , 32.100f , 0 )				// 角度
	ChangeCameraPers( 0 , 39.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	SetChrPos("ADOL",26.44f,-1420.06f,10.83f)
//	Turn("ADOL",-41.25f,360.0f)

	Wait(10)
	
	//　　気が動転して思わず赤面するラクシャ。
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.617f , 30 )		// 基本距離

	//終点カメラ
	//MoveCameraAt( 0 , 27.299f , -1420.437f , 12.237f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 1.617f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 3.644f , 0 )	// 基本仰角
	//RotateCamera( 0 , 32.111f , 0 )				// 角度
	//ChangeCameraPers( 0 , 39.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ChangeAnimation( "LAXIA" , "ANI_EV_TEYOKO", -1 , 1 )
	
	
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#040e#000mい、今のは断じて、"
		"わたくしではありませんっ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("LAXIA" , 30 , 0 )

	ChangeAnimation( "LAXIA" , "ANI_EV_TEBURI", -1 , 1 )

	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#042e#010l#000mア、ア、アドル・クリスティン！"
		"貴方、はしたないと思わないのですか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "ADOL" , "ANI_EV_WAIT2_E", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_E,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_E,1)

	WaitThread(1000)
	WaitThread(1001)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"僕じゃない")
	MenuAdd(2,"気をつけるよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//─────────────────────────
	//	⇒僕じゃない
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD_S,1)

		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)

		ChangeAnimation( "ADOL" , "ANI_EV_TEBURI", -1 , 1 )

		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		TalkPopup("LAXIA",0,1,0,0,0)
		{
			"#000l#061e#000mう……あ、あなたでなければ"
			"誰だと言うのです？"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒気をつけるよ
	if (FLAG[TF_MENU_SELECT] == 2)
	{
		LookReset("ADOL")
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKL_E,1)

		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)

		ChangeAnimation( "ADOL" , "ANI_EV_BORI", -1 , 1 )

		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		TalkPopup("LAXIA",0,1,0,0,0)
		{
			"#000l#061e#000mわ、分かればよろしいのです！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────
	//　　ラクシャ、そっぽを向く。

	Look("LAXIA" , -30 , 0)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKL_S,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD_CLOSE_E,1)
	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	Wait(30)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
	Wait(10)

	CrossFade(FADE_CROSS)
	LookReset("SAHAD")
	LookReset("ADOL")
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)

	SetChrPos("ADOL",26.46f,-1420.32f,10.83f)
	Turn("ADOL",-20.88f,360.0f)

	MoveCameraAt( 0 , 27.717f , -1423.865f , 12.541f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.005f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.309f , 0 )	// 基本仰角
	RotateCamera( 0 , 158.776f , 0 )				// 角度
	ChangeCameraPers( 0 , 39.500f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(FADE_CROSS)
	Wait(10)

	TalkPopup("SAHAD",0,1,0,0,0)
	{
		"#091e#000mとにかく、このまま捜索に出ても"
		"力の半分も出せやしねーな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Dogi")

	//	"Dogi"
	ChangeAnimation( "Dogi" , "ANI_EV_SIAN_S", -1 , 1 )

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#011e#000mオレも力仕事だからなぁ……"
		"まず食糧を何とかするとしようぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Dogi" , 20 , 0 )
	LookChr("ADOL" , "Dogi")

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#010l#012e#000mそういえば、サハド。"
		"あんた漁師だとか言ってたよな？\p"
		"もしかして魚釣りとかできるのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi" , "ANI_EV_SIAN_E", -1 , 1 )
	Look("SAHAD" , -20 ,0 )

	TalkPopup("SAHAD",0,1,0,0,0)
	{
		"#000e#020l#000mお？　誰に向かって口を利いてやがる。\p"
		"#011e仕掛けの材料を探す必要はあるが……"
		"ま、何とかなるはずだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2( "Dogi" , -1, 1, "ANI_EV_SIAN_E",  0)

	LookReset("Dogi")
	TurnToChr("Dogi", "SAHAD" , 8.0f)
	Wait(10)
	HeadYes("Dogi" , 1 , 25)
	ChangeAnimation( "Dogi" , "ANI_EV_TEBURI", -1 , 1 )

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000l#000e#000mそうと来りゃあ、話が早い。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi" , "ADOL")
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000mアドル、お前さんたちは"
		"#000mサハドと魚を釣ってきてくれないか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("ADOL" , 1 , 25)

	ChangeSubAnimation("LAXIA",SUBMOT_EXT2,ANI_C_RED_E,1)		//頬：赤
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD_CLOSE_E,1)
	LookChr("LAXIA" , "Dogi")
	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_E", -1 , 1 )

	LookChr("Dogi" , "SAHAD")

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000mオレはその間に料理できるよう"
		"#000m火を起こしておくぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	SetChrPos("SAHAD",30.00f,-1421.36f,10.83f)
	Turn("SAHAD",47.34f,360.0f)
	LookReset("SAHAD")
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)

	MoveCameraAt( 0 , 27.486f , -1420.175f , 12.293f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.905f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.267f , 0 )	// 基本仰角
	RotateCamera( 0 , 317.861f , 0 )				// 角度
	ChangeCameraPers( 0 , 31.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	ChangeAnimation( "LAXIA" , "ANI_EV_TEBURI", -1 , 1 )


	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#050e#000mわ、わたくしもですか？"
		"釣りなんて一度もやったことが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,27.941f , -1420.363f , 12.293f , 60 )		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE ,330.500f , 60 )		// 角度
	//終点カメラ
	//MoveCameraAt( 0 , 27.941f , -1420.363f , 12.293f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.905f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.267f , 0 )	// 基本仰角
	//RotateCamera( 0 , 330.500f , 0 )				// 角度
	//ChangeCameraPers( 0 , 31.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	ExecuteCmd( 1, MoveTo, "SAHAD", 28.59f,-1419.95f,10.83f, 0.1f, 0.2f )

	Wait(20)

	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_S", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKL_S,1)
	Look("LAXIA", 20 , -5)

	WaitThread(1)
	Turn("SAHAD",47.34f,8.0f)
	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )
	LookChr("SAHAD" , "LAXIA")

	WaitThread(1000)

	Wait(10)

	TalkPopup("SAHAD",0,1,350,140,0)
	{
		"#020e#080mガハハ、心配するな。"
		"ワシが手取り足取り教えてやる。\p"
		"働かざる者、食うべからずだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE_S,1)

	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#020l#061e#000mう……わ、わかりました。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , 27.377f , -1421.921f , 12.219f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.697f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.859f , 0 )	// 基本仰角
	RotateCamera( 0 , 213.031f , 0 )				// 角度
	ChangeCameraPers( 0 , 42.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.4f , 0 )				// ロール回転

	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	LookReset("SAHAD")

	Wait(FADE_CROSS)

	//　　ドギにＰＡエモーション表示。
	EmotionEx("Dogi", 0.00f,EMO_PA,0,5,1,1,1.5f )
	Wait(40)

	LookReset("Dogi")
	TurnToChr("Dogi" ,"ADOL" , 8.0f )

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000mそうだ、アドル。"
		"#011eついでと言っちゃ何だが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteFunc(100,"mp1201:EV_M02S020_sahadmove")

	ChangeAnimation( "Dogi" , "ANI_EV_TEBURI", -1 , 1 )

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#012e#000m村の中にお前さんたちの"
		"役に立ちそうな施設を用意しておいた。"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitThread(100)
	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000e#000m施設だって？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(20)

	CrossFade(FADE_NORMAL)
	MoveCameraAt( 0 , -2.001f , -1422.675f , 17.130f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 7.596f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.813f , 0 )	// 基本仰角
	RotateCamera( 0 , 194.925f , 0 )				// 角度
	ChangeCameraPers( 0 , 54.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 8.5f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,-2.951f , -1423.198f , 17.130f , 70 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 7.596f  , 70 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.813f , 70 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 208.785f, 70 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-9.9f, 70 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,38.800f , 140 )		// 視野角

	//MoveCameraAt( 0 , -2.951f , -1423.198f , 17.130f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 7.596f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 4.813f , 0 )	// 基本仰角
	//RotateCamera( 0 , 208.785f , 0 )				// 角度
	//ChangeCameraPers( 0 , 54.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 8.5f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	Wait(20)


	//　　カメラ、順に武器強化場所と倉庫を見せる。
	//　　第一部でバルバロスに調薬を教えてもらってない場合は
	//　　調薬の施設もここで見せておく。


	CrossFade(FADE_FAST)
	MoveCameraAt( 0 , 12.407f , -1418.620f , 15.170f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.195f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.169f , 0 )	// 基本仰角
	RotateCamera( 0 , 122.866f , 0 )				// 角度
	ChangeCameraPers( 0 , 54.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -2.2f , 0 )				// ロール回転

	//次カット準備
	SetChrPos("SAHAD",28.81f,-1421.00f,10.83f)
	Turn("SAHAD",40.35f,360.0f)

	LookChr("SAHAD" , "Dogi")
	LookChr("LAXIA" , "Dogi")
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,12.407f , -1418.620f , 12.839f , 70 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 6.195f , 70 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.169f , 70 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 122.866f, 70 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-9.9f, 70 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,38.800f , 140 )		// 視野角

	//MoveCameraAt( 0 , 12.407f , -1418.620f , 12.839f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 6.195f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.169f , 0 )	// 基本仰角
	//RotateCamera( 0 , 122.866f , 0 )				// 角度
	//ChangeCameraPers( 0 , 54.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -2.2f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	Wait(20)

	if(!FLAG[GF_01MP1201_DRUG]){
		CrossFade(FADE_FAST)
		MoveCameraAt( 0 , 20.017f , -1432.321f , 11.747f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 6.195f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , 17.906f , 0 )	// 基本仰角
		RotateCamera( 0 , 196.891f , 0 )				// 角度
		ChangeCameraPers( 0 , 54.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , -2.2f , 0 )				// ロール回転
		// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

		ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,18.609f , -1432.799f , 11.747f , 70 )		// 注視点
		ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 5.505f , 70 )		// 基本距離
		ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 17.906f , 70 )		// 基本仰角
		ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 207.840f, 70 )		// 角度
	//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-9.9f, 70 )		// ロール回転
	//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,38.800f , 140 )		// 視野角

		//MoveCameraAt( 0 , 18.609f , -1432.799f , 11.747f , 0 )	// 注視点
		//ChangeCameraDistance( 0 , 5.505f , 0 )		// 基本距離
		//ChangeCameraElevation( 0 , 17.906f , 0 )	// 基本仰角
		//RotateCamera( 0 , 207.840f , 0 )				// 角度
		//ChangeCameraPers( 0 , 54.000f , 0 )			// 視野角
		//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		//RollCamera( 0 , -2.2f , 0 )				// ロール回転

		WaitThread(1000)
		WaitThread(1001)
		WaitThread(1002)
		WaitThread(1003)
		WaitThread(1004)
		WaitThread(1005)

		Wait(20)
	}
	CrossFade(FADE_FAST)
	MoveCameraAt( 0 , 27.998f , -1421.472f , 12.144f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.626f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.980f , 0 )	// 基本仰角
	RotateCamera( 0 , 317.900f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_FAST)
	Wait(10)

	ChangeAnimation( "Dogi" , "ANI_EV_BORI", -1 , 1 )

	TalkPopup("Dogi",0,1,0,0,0)
	{
		"#000e#000m……まあ、まだ施設と言えるほど"
		"大層なモンじゃねえがな。\p"
		"浜辺へ行くついでに"
		"そっちも確認しておいてくれや。"
	}
	WaitPrompt()
	WaitCloseWindow()


	HeadYes("SAHAD" , 1 , 25 )
	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#011e#000mおお、パパッと回っちまうか。\p"
		"#012e急がなきゃ、嬢ちゃんの"
		"腹と背中がくっついちまう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	LookChr("LAXIA" , "SAHAD")
	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_E", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKL_S,1)
	
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#130e#000mで、ですから、"
		"あれはわたくしではありませんっ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(20)

	//　　ここで操作許可。

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S020_ED")	
}

function "EV_M02S020_ED"
{
	SetSkipScript("")	
	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Dogi")

	//一般配置用のサハドを隠す
	SetChrPos("Sahad",-100000.00f,00.00f,00.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//エフェクトの停止
	StopEffect(-1,ALL,1)

	//フラグ処理
	SetFlag( GF_02MP1201_TALK_DOGISAHAD , 1 )
	//SetFlag( SF_MISSIONNO, MS_02_02 )	//★冒険メモ：村を回って、魚の調達と施設の確認を行おう。

	//マップマーカー
	DelMapMarker(SMI_EVENTPT_MAIN, PAGE_MP120x, MARKER_EV_M02S020, 0, 0)

	SetMapMarker(SMI_EVENTPT_MAIN, PAGE_MP120x, MARKER_EV_M02S021　, 26.38f,-1479.90f, 5.01f, 26.38f, -1479.90f, GF_02MP1203_GET_FISH		, MN_T_VILLAGE_MP1201,0)	//釣り
	SetMapMarker(SMI_EVENTPT_MAIN, PAGE_MP120x, MARKER_EV_M02S023　, -5.10f,-1419.42f,16.65f, -5.10f, -1419.42f, GF_02MP1201_TEST_SMITH		, MN_T_VILLAGE_MP1201,0)	//Dogi
	SetMapMarker(SMI_EVENTPT_MAIN, PAGE_MP120x, MARKER_EV_M02S024　, 10.62f,-1419.23f,11.58f, 10.62f, -1419.23f, GF_02MP1201_TEST_TRADE		, MN_T_VILLAGE_MP1201,0)	//Dogi

	if(!FLAG[GF_01MP1201_DRUG] )	//第一部で調薬を試していない
	{
		SetMapMarker(SMI_EVENTPT_MAIN, PAGE_MP120x, MARKER_EV_M02S025　, 18.56f,-1431.00f,12.11f, 18.56f, -1431.00f, GF_02MP1201_TEST_DRUG		, MN_T_VILLAGE_MP1201,0)	//Dogi
	}
	else	//第一部で調薬を試していればフラグを立てる
	{
		SetFlag( GF_02MP1201_TEST_DRUG , 1 )
	}

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",32.37f,-1430.56f,11.61f)
	Turn("LEADER",-2.69f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰 or 初期位置設定
	MoveCameraAt( 0 , 32.369f , -1430.556f , 13.456f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.231f , 0 )	// 基本仰角
	RotateCamera( 0 , -177.322f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}
function "EV_M02S020_sahadmove"
{

	ExecuteCmd( 1, MoveTo, "SAHAD", 29.49f,-1422.52f,10.83f, 0.1f, 0.22f )
	//SetChrPos("SAHAD",29.49f,-1422.52f,10.83f)
	//Turn("SAHAD",71.74f,360.0f)
	WaitThread(1)
	Turn("SAHAD",71.74f,8.0f)

}


//──────────────────────────────
//▼サハドに釣りを習う(mp1201)
//──────────────────────────────
function "EV_M02S021"		//朝食用の魚を釣りに行く
{
	//開始処理ここから----------------------------------------------------

	CallFunc("system:solo_event_begin")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	ResetMotion("PARTYALL", 1)
	StopEffect(-1, "ALL", 1)
	StopEmotion("ALL")
	ResetMoveVec("PARTYALL")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 16.59f, -1504.16f, 0.48f)
	Turn("ADOL", -145.26f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("ADOL")

	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 16.01f, -1503.26f, 0.61f)
	Turn("LAXIA", -84.70f, 360.0f)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("LAXIA")

	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 17.66f, -1502.65f, 0.53f)
	Turn("SAHAD", -11.83f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_SMILE, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("SAHAD")

	//BGM設定
	//	PlayBGM( BGM_FIELD_101 , XX )

	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a16.itp" )	// help_a16：釣り①
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(3, "visual/help/hp_a17.itp" )	// help_a17：釣り②
	Portrait_Create(3, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)

	//カメラ設定
	//MoveCameraAt( 0 , 16.480f , -1503.049f , 2.400f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.342f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 2.567f , 0 )	// 基本仰角
	//RotateCamera( 0 , 220.414f , 0 )				// 角度
	//ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転

	MoveCameraAt( 0 , 16.656f , -1503.237f , 2.100f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.334f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.135f , 0 )	// 基本仰角
	RotateCamera( 0 , 252.502f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000, 0.000, 0.150, 0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)

	//終了処理までスキップ許可
	SetSkipScript("mp1201:EV_M02S021_ED")

	//開始処理ここまで-----------------------------------------------

	//　　浜辺マップに入るとイベント開始。

	// カット1（暗転）---------------------------------------------------------------------------------

	// 位置調整・表情・モーション
	LookChr("ADOL", "SAHAD")
	LookChr("LAXIA", "SAHAD")

	// テキスト
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0){
		"#7C浜辺に来たアドルたちは"
		"#7C漂着物から釣りの仕掛けを作り……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// テキスト
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0){
		"#7Cサハドに教えを乞いながら、"
		"#7C釣りを始めるのだった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)
	Turn("SAHAD", 55.68f, 360.0f)

	// カット2 ----------------------------------------------------------------------------------------

	//　　フェードインして浜辺に立つアドル、ラクシャ、サハド。

	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 16.656f , -1503.237f , 2.100f , 120 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.334f , 120 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.135f , 120 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 252.502f , 120 )

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
		
	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
	
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_LAUGH_S, 1)	// 目
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#020e#080mガハハ、波も静かで"
		"いい釣り日和じゃねーか。\p"
		"#080e#080mよーし、じゃんじゃん"
		"釣るとしようぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#051e#000mそ、そうは言われても"
		"一体どうすればいいのです？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "LAXIA")
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// 両手腰手振り

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#080m基本は魚のいる場所を見つけて、"
		"そこに仕掛けを落としてやることだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000m簡単に仰いますが、"
		"魚を見つけるのが難しいのでは？"
	}
	WaitPrompt()
	WaitCloseWindow()

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#021e#080mガハハ、幸いこの島は"
		"魚がかなり沢山いるみてーだからな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#022e#080mそんなに難しく考える必要ないぜ。"
		"ただな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2( "SAHAD" , -1, 1, "ANI_EV_RYOTEKOSI_E",  0)

	//　　サハド、海を見てキョロキョロする。
	LookReset("SAHAD")
	Turn("SAHAD", -36.70f, 7.0f)
	Look("SAHAD", 40.0f, 0.0f)	// 顔←
	Wait(30)
	
	LookSpd("SAHAD", 0.06f, 0.06f, 0.06f )// ゆっくりめに首向き
	Look("SAHAD", -30.0f, 0.0f)	// 顔→
	Wait(30)
	EmotionEx("SAHAD", 0.05f, EMO_PA, 0, 5, 1, 1, 1.2f )	// 「PA」
	Wait(30)
	Turn("SAHAD", -72.23f, 5.0f)
	LookSpd( "SAHAD", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT )
	Wait(20)
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mおお、あそこだ。"
		"２人とも見てくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　サハドの指す方向を二人が見やると、
	//　　魚影オブジェが出現している。
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 16.748f , -1503.938f , 2.180f , 50 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.950f , 50 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 9.156f , 50 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 266.241f, 50 )

	LookReset("ADOL")
	LookReset("LAXIA")
	Turn("ADOL", -88.41f, 5.0f)
	Turn("LAXIA", -74.04f, 5.0f)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	//　　ラクシャに「！」エモーション表示。
	EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	Wait(40)

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mあれは……もしかして……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("SAHAD", 1, 30)	// キャラ, うなずき回数, 速さ

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mおーよ、魚影だ。\p"
		"あそこには魚が集まっている。"
		"大物なんかも釣れやすいかもな。\p"
		"釣ろうと思ったら魚影をまず"
		"探してみるのがいいのかもしれん。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_SIAN_S", -1, 1 )	// 思案

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mな、なるほど……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット3 -----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , 16.998f , -1503.411f , 2.220f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.774f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.979f , 0 )	// 基本仰角
	RotateCamera( 0 , 161.234f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("SAHAD", 17.75f, -1502.86f, 0.50f )
	Turn("ADOL", -120.39f, 360.0f)
	Turn("LAXIA", -95.36f, 360.0f)

	// カメラ移動（垂直）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 16.998f , -1503.411f , 2.100f, 45 )

	// フェード待ち
	Wait(FADE_CROSS)

	LookChr("SAHAD", "LAXIA")
	Turn("SAHAD", 48.39f, 6.0f)
	Wait(10)
	
	LookChr("LAXIA", "SAHAD")
	ChangeAnimation( "LAXIA", "ANI_EV_SIAN_E", -1, 1 )	// 思案
	LookChr("ADOL", "SAHAD")

	// サハド
	TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
		"#000e#000mそれともう一つ……"
		"魚を釣るにはエサがなくちゃな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_TEWATASI_S", -1, 1 )	// 手渡し
	Wait(20)

	//	アイテム入手テキスト
	GetItemMessageExPlus(ICON3D_FISHBAIT_WORM, 10, ITEMMSG_SE_BETTER, "を手に入れた。", 0, 0)
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "SAHAD", "ANI_EV_TEWATASI_E", -1, 1 )	// 手渡し
	Wait(10)
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#050e#000mうう……予想はしていましたが"
		"やはり虫の類なのですね……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// サハド
	TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
		"#080e#080mガハハ、やっぱ現地で調達した"
		"エサが一番食いつきがいいんだぜ。\p"
		"たぶん探索してりゃあ"
		"ちょくちょく手に入るだろうよ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// 両手腰手振り
	
	// サハド
	TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
		"さあ、あとは習うより慣れろだ。"
		"お二人さん、早速釣ってみようぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	//　　ここでチュートリアル画像を表示。
	//　　（１周目のみ）help_a16：釣りの方法
	//　　（１周目のみ）help_a17：魚影について

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示（1枚目）
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_NORMAL)
		
		// ポートレート表示（2枚目）
		PlaySE( SE_PAGE , 100 , 0,  0, 0, 1.0f, 0)		// SE：ページめくり
		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		
		Portrait_Close(0)
		Portrait_Close(1)
		Portrait_Close(2)
		Portrait_Close(3)
		
		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================

	//　　以降浜辺周辺にストッパーを設置して釣りを開始。
	//　　アドルが３匹釣ったところでイベントを再開する。


	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S021_ED")
}

function "EV_M02S021_ED"
{
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//自動送り許可
	SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//フラグ処理
	//SetFlag(GF_02MP1203_START_FISHING, 1)			// 朝食用の魚を釣りに行く
	SetFlag( GF_HELP_A16, 1 )	// チュートリアル：釣り①
	SetFlag( GF_HELP_A17, 1 )	// チュートリアル：釣り②

	CallFunc("mp1201:init")

	//マップマーカー
	DelMapMarker(SMI_EVENTPT_MAIN, PAGE_MP120x, MARKER_EV_M02S021, 0, 0)

	//釣り竿と餌を取得
	//GetItem(ICON3D_FISHINGROD, 1)
	//GetItem(ICON3D_FISHBAIT_WORM, 10)

	//アドルお一人様制御
	//SetFlag(GF_PARTY_NONE, 0)		//パーティ全員行動解除
	//FixPlayerChr(PARTY_ADOL)	// アドルおひとり様モードON

	//イベント後の再配置
	SetChrPos("LEADER", 19.24f, -1502.15f, 0.33f)
	Turn("LEADER", -81.55f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	MoveCameraAt( 0 , 19.244f , -1502.147f , 2.188f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.410f , 0 )	// 基本仰角
	RotateCamera( 0 , -104.621f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 600.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	CallFunc("system:camera_reset")

	// ◆仮処理 //////////////////////////////////////////////////////////
	
//	// 未入力コメント
//	TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0) {
//		"#7C◆釣り未対応 次イベントに接続"
//	}
//	WaitPrompt()
//	WaitCloseWindow()

//	init に移動した
//	SetEventDriven( EED_TYPE_LANDFISH, -1, "mp1201:EV_M02S022")	

//	EventCue("mp1201:EV_M02S022")
	// ◆ /////////////////////////////////////////////////////////////////

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK, FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------
}


function "EV_M02S022"		//朝食用の魚を釣った
{
	//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	CrossFade(FADE_NORMAL)

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
//	ResetMotion("PARTYALL", 1)
//	StopEffect(-1, "ALL", 1)
//	StopEmotion("ALL")
//	ResetMoveVec("PARTYALL")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 22.51f, -1502.31f, -0.20f)
	Turn("ADOL", -52.89f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")

	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 21.89f, -1503.61f, -0.19f)
	Turn("LAXIA", -56.45f, 360.0f)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("LAXIA")

	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 23.21f, -1500.79f, -0.21f)
	Turn("SAHAD", -50.92f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("SAHAD")

	//BGM設定
	//PlayBGM( BGM_EVENT_001 , 15 )

	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a18.itp" )	// help_a16：釣り図鑑
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
//	Portrait_Load(3, "visual/help/hp_a19.itp" )	// help_a17：釣りの評価
//	Portrait_Create(3, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)

	//カメラ設定
	MoveCameraAt( 0 , 22.834f , -1504.229f , 1.099f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.521f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -7.724f , 0 )	// 基本仰角
	RotateCamera( 0 , 356.283f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,0.000 ,0.150 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)

	//終了処理までスキップ許可
	SetSkipScript("mp1201:EV_M02S022_ED")

	//開始処理ここまで-----------------------------------------------
	
	// カット1 ----------------------------------------------------------------------------------------
	
	// 位置調整・表情・モーション
	ChangeAnimation( "ADOL", "ANI_EV_FISH_WAIT", -1, 1 )	// 釣り待機
	ChangeAnimation( "LAXIA", "ANI_EV_FISH_WAIT", -1, 1 )	// 釣り待機
	ChangeAnimation( "SAHAD", "ANI_EV_FISH_WAIT", -1, 1 )	// 釣り待機

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 22.564f , -1504.071f , 1.099f , 100 )
		
	Wait(30)

	//　　釣竿を構えているラクシャに「！」エモーション。
	EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 0.9f )	// 「！」
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SUP_S, 1)	// 目
	Wait(20)
	ChangeAnimation( "LAXIA", "ANI_EV_FISH_STRIKE", -1, 1 )	// 釣りヒット
	EarthQuake( 0.01f , 0.01f , 10 )	// 縦揺れ幅, 横揺れ幅, 時間
	PlaySE(SE_M02S022_01, 40, 0, 0, 0, 1.0f, 0)
	Wait(20)
	
	//	ラクシャの声
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#070e#200mあっ！　わたくしも来ました……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャの釣竿がしなってファイト状態に。
	Look("ADOL", 25 , 0 )
	EarthQuake( 0.01f , 0.01f , 10 )	// 縦揺れ幅, 横揺れ幅, 時間

	//PlaySE(SE_M02S022_02, 50, 0, 0, 0, 1.0f, 0)
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#161e#110mきゃっ！？"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#050e#000mお、思った以上に力強いのですね……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SHOUT_S, 1)	// 目

	ChangeAnimation( "LAXIA", "ANI_EV_FISH_LAND", -1, 1 )	// 釣り上げ
	EarthQuake( 0.01f , 0.01f , 10 )	// 縦揺れ幅, 横揺れ幅, 時間
	PlaySE(SE_M02S022_03, 50, 0, 200, 0, 1.0f, 0)
	Wait(30)

	// カット2 ---------------------------------------------------------------------------------------

	//　　ラクシャ、左右に走る魚と
	//　　格闘しつつも何とか釣り上げてキャッチする(小魚)。

	// クロスフェード
	CrossFade(FADE_SLOW)
	
	// カメラ
	MoveCameraAt( 0 , 21.474f , -1502.875f , 2.203f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.260f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -8.908f , 0 )	// 基本仰角
	RotateCamera( 0 , 302.447f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", 22.64f, -1501.93f, -0.20f)
	Turn("ADOL", -70.66f, 360.0f)
	SetChrPos("SAHAD", 21.94f, -1500.70f, -0.04f)
	Turn("SAHAD", 13.04f, 360.0f)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	LookChr("SAHAD", "LAXIA")

	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE,1)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 21.571f , -1503.042f , 1.263f , 80 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.260f , 80 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.319f, 80 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 324.221f , 80 )
	//MoveCameraAt( 0 , 21.571f , -1503.042f , 1.263f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.260f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -2.319f , 0 )	// 基本仰角
	//RotateCamera( 0 , 324.222f , 0 )				// 角度
	//ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェード待ち
	Wait(FADE_NORMAL)

	ChangeAnimation( "ADOL", "ANI_EV_FISH_END", -1, 1 )	// 釣り終わり
	WaitAnimation2("ADOL", -1, 1, "ANI_EV_FISH_END", 0)
	LookChr("ADOL", "LAXIA")
	TurnToChr("ADOL", "LAXIA", 8.0f)

	Turn("LAXIA", -166.59f, 8.0f)
	Wait(10)

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#021e#080mや、やりました！\p"
		"#022e#000m見てください！"
		"これはわたくしが……って。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャ、照れつつ気まずそうに顔を背ける。
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_KOMA_S, 1)	// 目
	Look("LAXIA", -40.0f, -5.0f)	// （＾＾）→

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#190e#000mその、本当に釣れたので"
		"驚いてしまって……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#020e#080mよかったよかった。"
		"初心者にしては上出来じゃねーか。\p"
		"#080e#080mアドルも嬢ちゃんも"
		"なかなかスジがいいと思うぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "SAHAD")

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mそ、そうでしょうか……？\p"
		"#011e#000mでも、何と言ったらいいのか……"
		"ちょっと夢中になってしまいました。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// 両手腰手振り

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#020e#080mガハハ、釣竿は渡しておくから、"
		"どこでも好きな時に釣ればいい。\p"
		"#080e#080mあとは釣った魚の記録をとっておくと"
		"後々役に立つかもしれねーぜ。\p"
		"#020e#080m急に焼き魚が食いたくなった時とかにな。"
		"ガハハハハ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	GetItemMessageExPlus(ICON3D_FISHINGROD, 1, ITEMMSG_SE_BETTER, "を手に入れた。", 0, 0)
	WaitPrompt()
	WaitCloseWindow()

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	//　　ここでチュートリアル画像を表示。
	//	（１周目のみ）help_a18：釣り図鑑
	//	（１周目のみ）help_a19：釣りの評価

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示（1枚目）
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		
		// ポートレート表示（2枚目）
//		PlaySE( SE_PAGE , 100 , 0,  0, 0, 1.0f, 0)		// SE：ページめくり
//		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
//		Wait(FADE_NORMAL)
//		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
//		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
//		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		
		Portrait_Close(0)
		Portrait_Close(1)
		Portrait_Close(2)
//		Portrait_Close(3)
		
		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================

	// カメラ
	MoveCameraAt( 0 , 18.927f , -1503.535f , 1.823f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.082f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.848f , 0 )	// 基本仰角
	RotateCamera( 0 , 40.756f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", 18.75f, -1504.45f, 0.27f)
	Turn("ADOL", 174.43f, 360.0f)
	SetChrPos("LAXIA", 18.25f, -1503.05f, 0.44f)
	Turn("LAXIA", -45.79f, 360.0f)
	SetChrPos("SAHAD", 19.85f, -1503.22f, 0.17f)
	Turn("SAHAD", 87.65f, 360.0f)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	
	// フェードイン
	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

	// サハド
	TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
		"#000e#000m……よし、これだけ釣れば"
		"朝食には十分だろう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//────────────────────
	//	⇒ドギに言われた用事を全て済ませた
	if (FLAG[GF_02MP1201_TEST_SMITH] && FLAG[GF_02MP1201_TEST_TRADE]
		 && FLAG[GF_02MP1201_TEST_DRUG]){

		// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#000e#000mでは、これで一通り用事を"
			"済ませたことになりますね。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookChr("LAXIA", "ADOL")
		ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )	// 手振り
		
		// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"そろそろ火も準備できたでしょうし、"
			"ドギのところへ向かいましょう。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//────────────────────
	//	⇒ドギに言われた用事が残っている
	else {
		
		ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )	// 手振り
		
		// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#000e#000mええ、それでは他の用事も"
			"済ませてしまいましょう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	//　　イベント終了、操作許可。

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S022_ED")
}

function "EV_M02S022_ED"
{
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//自動送り許可
	SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//フラグ処理
	SetFlag(GF_02MP1203_GET_FISH, 1)			// 朝食用の魚を釣った
	SetFlag( GF_HELP_A18, 1 )	// チュートリアル：釣り図鑑
//	SetFlag( GF_HELP_A19, 1 )	// チュートリアル：釣りの評価

	//	⇒ドギに言われた用事を全て済ませた
	if (FLAG[GF_02MP1201_TEST_SMITH] && FLAG[GF_02MP1201_TEST_TRADE] && FLAG[GF_02MP1203_GET_FISH]
		 && FLAG[GF_02MP1201_TEST_DRUG]){

		SetFlag( GF_02MP1201_DOGITUTO_COMP, 1 )		// 第二部冒頭のドギチュートリアルを一通り終えた
		//SetFlag( SF_MISSIONNO, MS_02_02B )	//★冒険メモ：戻ってドギに報告しよう。
	}

//	//マーカーセット
//	if (FLAG[GF_02MP1201_TEST_SMITH] && FLAG[GF_02MP1201_TEST_TRADE]) {
//		if (FLAG[GF_02MP1201_TEST_DRUG] || FLAG[GF_01MP1201_DRUG]) {	// 1話か2話の調薬イベントを見ている
//			SetMapMarker(SMI_EVENTPT_MAIN, PAGE_MP120x, MARKER_EV_M02S030　, 25.37f, -1422.21f, 10.83f, 25.37f, -1422.21f, GF_02MP1201_TAKE_BREAKFAST, MN_T_VILLAGE_MP1201,0)	//Dogi
//		}
//	}

	CallFunc("mp1201:init")

	//アドルお一人様制御
	//SetFlag( GF_PARTY_NONE , 1)		//パーティ全員行動
	//FixPlayerChr(PARTY_NONE)	// アドルおひとり様モードOFF

	//イベント後の再配置
	SetChrPos("LEADER", 11.07f, -1504.05f, 0.66f)
	Turn("LEADER", -159.05f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	MoveCameraAt( 0 , 11.066f , -1504.046f , 2.523f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.200f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.003f , 0 )	// 基本仰角
	RotateCamera( 0 , 339.050f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK, FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------
}



function "EV_M02S023"	//武器の強化を試す
{
//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	ResetMotion( "PARTYALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -1.86f, -1419.98f, 16.55f)
	Turn("ADOL", 75.40f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("ADOL")
	
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", -1.96f, -1421.40f, 16.55f)
	Turn("LAXIA", 114.48f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("LAXIA")

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrPos("SAHAD", -2.61f, -1418.77f, 16.55f)
	Turn("SAHAD", 43.42f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("SAHAD")

	// カメラ
//	MoveCameraAt( 0 , -3.022f , -1420.408f , 18.366f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.049f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 14.640f , 0 )	// 基本仰角
//	RotateCamera( 0 , 118.089f , 0 )				// 角度
//	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	MoveCameraAt( 0 , -3.022f , -1420.408f , 18.046f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.049f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.623f , 0 )	// 基本仰角
	RotateCamera( 0 , 128.118f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a08.itp" )	// help_a08：素材の採取
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(3, "visual/help/hp_a22.itp" )	// help_a22：武器の強化
	Portrait_Create(3, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
		
	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,1.000 ,0.550 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetSkipScript("mp1201:EV_M02S023_ED")	

	//開始処理ここまで-----------------------------------------------

	//　　鍛冶屋予定地に武器の強化道具が置かれていて、
	//　　ＬＰを調べるとイベント開始。
	
	// カット1 -----------------------------------------------------------------------------------------

	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -3.022f , -1420.408f , 18.046f , 100 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.049f, 100 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 8.623f, 100 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 128.118f , 100 )
	
	LookTo("ADOL", -4.659f , -1421.257f , 17.462f)	// （座標）砥石
	LookTo("LAXIA", -4.659f , -1421.257f , 17.462f)	// （座標）砥石
	LookTo("SAHAD", -4.659f , -1421.257f , 17.462f)	// （座標）砥石
	
	// フェードイン
	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	//　　サハドに「？」エモーション。
	EmotionEx("SAHAD", 0.00f, EMO_Q, 0, 5, 1, 1, 1.0f )	// 「？」
	Wait(40)
	
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	
	// サハド
	TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
		"#000e#000m金床に錆びたハンマーか。"
		"こりゃあ一体……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"武器が手入れできそうだ")
	MenuAdd(2,"美味しい料理が作れそうだ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	LookChr("LAXIA", "ADOL")
	TurnToChr("LAXIA", "SAHAD", 8.0f)

	//────────────────────
	//	⇒武器が手入れできそうだ
	if (FLAG[TF_MENU_SELECT] == 1){
		
		// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#000e#000m確かにある程度のことは"
			"できそうですね……"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒美味しい料理が作れそうだ
	else {

		// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#110e#000m……面白くもない冗談ですね。\p"
			"#112e#000mここはおそらく"
			"武器を手入れする場所なのでは？"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//────────────────────
	
	// カット2 -----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -2.763f , -1420.088f , 17.946f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.485f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.401f , 0 )	// 基本仰角
	RotateCamera( 0 , 263.330f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -2.33f, -1420.10f, 16.55f)
	Turn("ADOL", 78.95f, 360.0f)
	SetChrPos("LAXIA", -2.44f, -1421.17f, 16.55f)
	Turn("LAXIA", 119.93f, 360.0f)
	SetChrPos("SAHAD", -3.14f, -1419.13f, 16.55f)
	Turn("SAHAD", 43.42f, 360.0f)
	
	// フェード待ち
	Wait(FADE_CROSS)
	
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#080mなるほどなあ……"
		"簡素だが、こりゃあ助かるぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("LAXIA")
	ChangeAnimation( "LAXIA", "ANI_EV_SIAN_S", -1, 1 )	// 思案
	//ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#011e#000mあとは手入れに必要な素材が"
		"手に入ればよいのですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#011e#000m素材か……そういや"
		"海辺でこんなモンを拾ったんだが。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "SAHAD")
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	ChangeAnimation( "LAXIA", "ANI_EV_SIAN_E", -1, 1 )	// 思案
	LookChr("ADOL", "SAHAD")

	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	LookReset("SAHAD")
	LookChr("SAHAD", "LAXIA")
	Turn("SAHAD", -6.32f, 8.0f)
	Wait(15)
	ChangeAnimation( "SAHAD", "ANI_EV_TEWATASI_S", -1, 1 )	// 手渡し
	Wait(30)

	GetItemMessageExPlus(ICON3D_MT_N2_STONE,5,ITEMMSG_SE_BETTER,"を手に入れた。",0,0)	//鉄鉱石　５個
	WaitPrompt()
	WaitCloseWindow()

	LookTo("LAXIA", -3.343f , -1419.831f , 17.806f)
	LookTo("ADOL", -3.343f , -1419.831f , 17.806f)

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mこれは……使えそうですね。"
		"時間があれば試してみましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

//	//　　アドルうなずきモーション。
//	HeadYes("ADOL" , 1 , 25 )
//	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
//	Wait(15)
//	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
//	Wait(20)

	//────────────────────
	//	⇒チュートリアル[素材の採取]を見ていない
	//　　[素材の採取]チュートリアル画像を表示。
	//────────────────────
	//　　[武器の強化]チュートリアル画像を表示。

	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] && !FLAG[GF_HELP_A08]) {		// 2周目判定 && チュートリアル：素材の採取

		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_NORMAL)

		// ポートレート表示
		PlaySE( SE_PAGE , 100 , 0,  0, 0, 1.0f, 0)		// SE：ページめくり
		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)	// チュートリアル背景
		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		
		Portrait_Close(0)
		Portrait_Close(1)
		Portrait_Close(2)
		Portrait_Close(3)
		
		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] && FLAG[GF_HELP_A08]) {		// 2周目判定 && チュートリアル：素材採取

		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)	// チュートリアル背景
		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		
		Portrait_Close(0)
		Portrait_Close(1)
		Portrait_Close(2)
		Portrait_Close(3)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================

	//────────────────────
	//	⇒ドギに言われた用事を全て済ませた
	if (FLAG[GF_02MP1203_GET_FISH] && FLAG[GF_02MP1201_TEST_TRADE]) {
		
		if (FLAG[GF_02MP1201_TEST_DRUG] || FLAG[GF_01MP1201_DRUG]) {	// 1話か2話の調薬イベントを見ている
			
			// カメラ
			//MoveCameraAt( 0 , -2.228f , -1420.261f , 18.366f , 0 )	// 注視点
			//ChangeCameraDistance( 0 , 3.025f , 0 )		// 基本距離
			//ChangeCameraElevation( 0 , 6.280f , 0 )	// 基本仰角
			//RotateCamera( 0 , 159.646f , 0 )				// 角度
			//ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
			//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
			//RollCamera( 0 , 0.0f , 0 )				// ロール回転
			
			MoveCameraAt( 0 , -2.222f , -1420.242f , 18.066f , 0 )	// 注視点
			ChangeCameraDistance( 0 , 3.025f , 0 )		// 基本距離
			ChangeCameraElevation( 0 , 6.280f , 0 )	// 基本仰角
			RotateCamera( 0 , 159.646f , 0 )				// 角度
			ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
			SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
			RollCamera( 0 , 0.0f , 0 )				// ロール回転
			// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

			// 位置調整・表情・モーション
			SetChrPos("ADOL", -1.43f, -1419.85f, 16.55f)
			Turn("ADOL", 43.42f, 360.0f)
			SetChrPos("LAXIA", -2.44f, -1421.17f, 16.55f)
			Turn("LAXIA", -158.35f, 360.0f)
			SetChrPos("SAHAD", -2.97f, -1419.60f, 16.55f)
			Turn("SAHAD", 0.78f, 360.0f)
			LookChr("ADOL", "LAXIA")
			LookChr("LAXIA", "ADOL")
			LookChr("SAHAD", "LAXIA")
			ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機

			// カメラ移動（垂直）
			//ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,-2.222f , -1420.242f , 18.066f , 45 )

			// フェードイン
			FadeIn(FADE_BLACK, FADE_FAST)
			WaitFade()

			// カメラ待ち（垂直）
			//WaitThread(1000)

			ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

			// ラクシャ
			TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
				"#000e#000mこれで一通り用事を"
				"済ませたことになりますね。\p"
				"#000e#000mそろそろ火も準備できたでしょうし、"
				"ドギのところへ向かいましょう。2"
			}
			WaitPrompt()
			WaitCloseWindow()

			//　　操作許可。
			
			// フェードアウト
			FadeOut(FADE_BLACK,FADE_NORMAL)
			WaitFade()
		}
	}
	//────────────────────
	//	⇒ドギに言われた用事が残っている
	//　　操作許可。
	//────────────────────
	//　　以降、ＬＰを調べると武器強化ショップが開く。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S023_ED")	
}

function "EV_M02S023_ED"
{
	SetSkipScript("")	

	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//自動送り許可
	SetStopFlag(STOPFLAG_AUTOMESSAGE)

	//エフェクトの停止
	StopEffect(-1,ALL,1)

	//ルックポイント処理
	SetChrPos("LP_M02S023", -100000.00f, 0.00f, 0.00f)

	//アイテム取得
	GetItem(ICON3D_MT_N2_STONE,5)

	//フラグ処理
	SetFlag( GF_HELP_A08, 1 )	// チュートリアル：素材の採取
	SetFlag( GF_HELP_A22, 1 )	// チュートリアル：武器の強化
	SetFlag( GF_02MP1201_TEST_SMITH , 1 )	//武器の強化を試す

	SetDiaryShopFlag(SHOP_ID_WEAPON_A,1)			// "鍛冶場(強化)"
	SetDiaryShopFlag(SHOP_ID_WEAPON,0)				// "カトリーンの武器工房(強化・進化)"
	SetDiaryShopFlag(SHOP_ID_ARMOR,0)				// "カトリーンの武器工房(防具購入)"

	//	⇒ドギに言われた用事を全て済ませた
	if (FLAG[GF_02MP1201_TEST_SMITH] && FLAG[GF_02MP1201_TEST_TRADE] && FLAG[GF_02MP1203_GET_FISH]
		 && FLAG[GF_02MP1201_TEST_DRUG]){

		SetFlag( GF_02MP1201_DOGITUTO_COMP, 1 )		// 第二部冒頭のドギチュートリアルを一通り終えた
		//SetFlag( SF_MISSIONNO, MS_02_02B )	//★冒険メモ：戻ってドギに報告しよう。
	}

	CallFunc("mp1201:init")

	//マップマーカー
	DelMapMarker(SMI_EVENTPT_MAIN, PAGE_MP120x, MARKER_EV_M02S023, 0, 0)

//	if (FLAG[GF_02MP1203_GET_FISH] && FLAG[GF_02MP1201_TEST_TRADE]) {
//		if (FLAG[GF_02MP1201_TEST_DRUG] || FLAG[GF_01MP1201_DRUG]) {	// 1話か2話の調薬イベントを見ている
//			SetMapMarker(SMI_EVENTPT_MAIN, PAGE_MP120x, MARKER_EV_M02S030　, 25.37f, -1422.21f, 10.83f, 25.37f, -1422.21f, GF_02MP1201_TAKE_BREAKFAST, MN_T_VILLAGE_MP1201,0)	//Dogi
//		}
//	}

	//イベント後の再配置
	SetChrPos("LEADER",-0.94f,-1417.82f,16.55f)
	Turn("LEADER",-117.61f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰 or 初期位置設定
	MoveCameraAt( 0 , -0.944f , -1417.823f , 18.426f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 15.786f , 0 )	// 基本仰角
	RotateCamera( 0 , 137.567f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

function "EV_M02S024"	//アイテム交換を試す
{
//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	ResetMotion( "PARTYALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 13.03f, -1420.16f, 11.58f)
	Turn("ADOL", 93.18f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "DANA", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("ADOL")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 12.68f, -1419.15f, 11.58f)
	Turn("LAXIA", 86.07f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("LAXIA")

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrPos("SAHAD", 12.39f, -1421.41f, 11.58f)
	Turn("SAHAD", 125.16f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("SAHAD")

//	MoveCameraAt( 0 , 12.295f , -1420.318f , 13.736f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.440f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 5.042f , 0 )	// 基本仰角
//	RotateCamera( 0 , 87.746f , 0 )				// 角度
//	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , 12.249f , -1419.815f , 13.196f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.440f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.756f , 0 )	// 基本仰角
	RotateCamera( 0 , 94.050f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転


	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a21.itp" )	// help_a21：アイテム交換
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	
	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,1.000 ,0.550 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetSkipScript("mp1201:EV_M02S024_ED")	


	//開始処理ここまで-----------------------------------------------

	//　　倉庫にはＬＰが仕掛けられている。
	//　　調べるとイベント起動。

	// カット1 ----------------------------------------------------------------------------------------

	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 12.249f , -1419.815f , 13.196f , 80 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.440f , 80 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.756f , 80 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 94.050f , 80 )

	// フェードイン
	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()


	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mここはドギが集めた"
		"資材が置かれてるみてーだな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_SIAN_S", -1, 1 )	// 思案

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mメモが張られていますね。"
		"ええと……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// テキスト（色替え）
	TalkPopup(UNDEF, 0, 0, 0, 0, 0) {
		"#7C　　　～　倉庫の決まりごと　～"
		""
	　　"#7C 倉庫の資材は俺たちみんなの財産だ。"
	　　"#7C必要なものを持ち出すのは構わねえが、"
	　　"#7C 代わりに同程度の価値があるものを"
	　　"#7C　　　　 置いていくように。"
	　　""
	　　"#7C　　　　　　　　　　　管理人・ドギ"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット2 -----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , 12.011f , -1420.664f , 13.216f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.728f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.489f , 0 )	// 基本仰角
	RotateCamera( 0 , 296.522f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "SAHAD", "ANI_EV_BORI", -1, 1 )	// 頭かき
//	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SAD_S, 1)	// 目

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#050e#080mなんだか大昔の物々交換みてーだな。\p"
		"#080e#080mガハハ、まあどうしても欲しい物が"
		"あるときは便利かもしれねーぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(20)

	//　　アドルうなずいた後に[交換]のチュートリアル画像表示。
	//────────────────────

	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		Portrait_Close(1)
		Portrait_Close(2)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		Portrait_Close(0)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================


	//────────────────────
	//	⇒ドギに言われた用事を全て済ませた
	if (FLAG[GF_02MP1201_TEST_SMITH] && FLAG[GF_02MP1203_GET_FISH]) {
		
		if (FLAG[GF_02MP1201_TEST_DRUG] || FLAG[GF_01MP1201_DRUG]) {	// 1話か2話の調薬イベントを見ている

			// カメラ
			//MoveCameraAt( 0 , 13.828f , -1420.015f , 13.416f , 0 )	// 注視点
			//ChangeCameraDistance( 0 , 2.908f , 0 )		// 基本距離
			//ChangeCameraElevation( 0 , 3.937f , 0 )	// 基本仰角
			//RotateCamera( 0 , 65.873f , 0 )				// 角度
			//ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
			//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
			//RollCamera( 0 , 0.0f , 0 )				// ロール回転

			MoveCameraAt( 0 , 13.866f , -1420.086f , 13.176f , 0 )	// 注視点
			ChangeCameraDistance( 0 , 2.404f , 0 )		// 基本距離
			ChangeCameraElevation( 0 , 4.797f , 0 )	// 基本仰角
			RotateCamera( 0 , 58.427f , 0 )				// 角度
			ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
			SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
			RollCamera( 0 , 0.0f , 0 )				// ロール回転

			
			// 位置調整・表情・モーション
			SetChrPos("ADOL", 14.72f, -1419.86f, 11.58f)
			Turn("ADOL", 100.29f, 360.0f)
			SetChrPos("SAHAD", 13.78f, -1420.92f, 11.58f)
			Turn("SAHAD", 157.14f, 360.0f)
			SetChrPos("LAXIA", 13.29f, -1419.52f, 11.58f)
			Turn("LAXIA", -56.05f, 360.0f)
			ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
			LookChr("LAXIA", "ADOL")
			LookChr("ADOL", "LAXIA")
			LookChr("SAHAD", "LAXIA")

			//// カメラ移動
			//ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 13.866f , -1420.086f , 13.176f , 70 )
			//ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.404f , 70 )
			//ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.797f , 70 )
			//ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 58.427f , 70 )

			// フェードイン
			FadeIn(FADE_BLACK, FADE_FAST)
			WaitFade()

			//// カメラ待ち
			//WaitThread(1000)
			//WaitThread(1001)
			//WaitThread(1002)
			//WaitThread(1003)

			ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

			// ラクシャ
			TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
				"#000e#000mこれで一通り用事を "
				"済ませたことになりますね。\p "
				"#000e#000mそろそろ火も準備できたでしょうし、 "
				"ドギのところへ向かいましょう。3"
			}
			WaitPrompt()
			WaitCloseWindow()

			//　　操作許可。

			// フェードアウト
			FadeOut(FADE_BLACK,FADE_NORMAL)
			WaitFade()
		}
	}
	//────────────────────
	//	⇒ドギに言われた用事が残っている
	//　　操作許可。
	//────────────────────
	//　　以降、ＬＰを調べると交換ショップが開く。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S024_ED")	
}

function "EV_M02S024_ED"
{
	SetSkipScript("")	

	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//エフェクトの停止
	StopEffect(-1,ALL,1)

	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//自動送り許可
	SetStopFlag(STOPFLAG_AUTOMESSAGE)

	//ルックポイント処理
	SetChrPos("LP_M02S024", -100000.00f, 0.00f, 0.00f)

	//フラグ処理
	SetFlag( GF_02MP1201_TEST_TRADE , 1 )	//アイテム交換を試す
	SetFlag( GF_HELP_A21, 1 )	// チュートリアル：アイテム交換

	SetDiaryShopFlag(SHOP_ID_TRADE_A,1)				// "倉庫"
	SetDiaryShopFlag(SHOP_ID_TRADE,0)				// "ディナの交易所"
	SetDiaryShopFlag(SHOP_ID_TRADE_SELL,0)			// "交易所・引取り"

	//	⇒ドギに言われた用事を全て済ませた
	if (FLAG[GF_02MP1201_TEST_SMITH] && FLAG[GF_02MP1201_TEST_TRADE] && FLAG[GF_02MP1203_GET_FISH]
		 && FLAG[GF_02MP1201_TEST_DRUG]){

		SetFlag( GF_02MP1201_DOGITUTO_COMP, 1 )		// 第二部冒頭のドギチュートリアルを一通り終えた
		//SetFlag( SF_MISSIONNO, MS_02_02B )	//★冒険メモ：戻ってドギに報告しよう。
	}

	CallFunc("mp1201:init")

	//マップマーカー
	DelMapMarker(SMI_EVENTPT_MAIN, PAGE_MP120x, MARKER_EV_M02S024, 0, 0)

//	if (FLAG[GF_02MP1201_TEST_SMITH] && FLAG[GF_02MP1203_GET_FISH]) {
//		if (FLAG[GF_02MP1201_TEST_DRUG] || FLAG[GF_01MP1201_DRUG]) {	// 1話か2話の調薬イベントを見ている
//			SetMapMarker(SMI_EVENTPT_MAIN, PAGE_MP120x, MARKER_EV_M02S030　, 25.37f, -1422.21f, 10.83f, 25.37f, -1422.21f, GF_02MP1201_TAKE_BREAKFAST, MN_T_VILLAGE_MP1201,0)	//Dogi
//		}
//	}

	//イベント後の再配置
	SetChrPos("LEADER",17.39f,-1419.14f,11.58f)
	Turn("LEADER",-89.17f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰 or 初期位置設定
	MoveCameraAt( 0 , 17.386f , -1419.140f , 13.456f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 16.789f , 0 )	// 基本仰角
	RotateCamera( 0 , 67.129f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

function "EV_M02S025"	//調薬を試す
{
//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	ResetMotion( "PARTYALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 19.95f, -1430.09f, 11.65f)
	Turn("ADOL", 54.10f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("ADOL")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 19.97f, -1431.26f, 11.64f)
	Turn("LAXIA", 114.50f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("LAXIA")

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrPos("SAHAD", 18.79f, -1429.44f, 11.64f)
	Turn("SAHAD", 7.91f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("SAHAD")

	// 初期カメラ
	MoveCameraAt( 0 , 19.167f , -1430.720f , 13.080f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.553f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.742f , 0 )	// 基本仰角
	RotateCamera( 0 , 103.250f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a11.itp" )	// help_a11：回復薬の調合
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(3, "visual/help/hp_a08.itp" )	// help_a08：素材の採取
	Portrait_Create(3, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,1.000 ,0.550 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetSkipScript("mp1201:EV_M02S025_ED")	


	//開始処理ここまで-----------------------------------------------

	//　　第一部でバルバロスに調薬を教えてもらっていない場合、
	//　　調合道具ＬＰを調べるとイベント起動。

	// カット1 ----------------------------------------------------------------------------------------

	// 位置調整・表情・モーション
	LookTo("ADOL", 18.007f , -1431.110f , 12.440f)	// （座標）切り株の上のビン
	LookTo("LAXIA", 18.007f , -1431.110f , 12.440f)	// （座標）切り株の上のビン
	LookTo("SAHAD", 18.007f , -1431.110f , 12.440f)	// （座標）切り株の上のビン

	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 19.167f , -1430.720f , 13.080f, 45 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.553f , 45 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 6.742f , 45 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 103.250f , 45 )

	// フェードイン
	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
	
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 0, 0, 0, 0) {
		"#000e#000m……これは調薬の道具のようです。\p"
		"簡単な薬くらいなら"
		"ここで何とか作れそうですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "LAXIA")
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mおお、薬があれば"
		"ずいぶん助かるんじゃねーか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "SAHAD")

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mええ……ですが作った薬は"
		"どう持ち歩けばいいのでしょう？"
	}
	WaitPrompt()
	WaitCloseWindow()
	

	//　　ラクシャにＰＡエモーション表示。
	EmotionEx("LAXIA", 0.05f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て
	Wait(35)
	
	// カット2 ----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 19.602f , -1430.531f , 13.196f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.653f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.670f , 0 )	// 基本仰角
	RotateCamera( 0 , 191.772f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	
	// 位置調整・表情・モーション
	SetChrPos("ADOL", 20.11f, -1429.96f, 11.66f)
	Turn("ADOL", 43.44f, 360.0f)
	SetChrPos("SAHAD", 18.77f, -1429.92f, 11.63f)
	Turn("SAHAD", -20.51f, 360.0f)
	SetChrPos("LAXIA", 19.97f, -1431.26f, 11.64f)
	Turn("LAXIA", 114.50f, 360.0f)

	// フェード待ち
	Wait(FADE_CROSS)

	WaitAnimation2("LAXIA", -1, 1, "ANI_EV_TEMUNE_E", 0)
	LookChr("LAXIA", "ADOL")
	Turn("LAXIA", 174.90f, 6.0f)
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mそういえば、アドル・クリスティン……"
		"あなた確か薬の瓶を持っていましたね。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("ADOL", "LAXIA")
	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"もしかしたら、それが使えるのでは？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// サハド
	TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
		"#000e#000mおお、なるほどな……\p"
		"薬がなくなったら、ここで作って"
		"その瓶に詰めればいいワケか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "SAHAD")

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mええ、無人島だけに瓶は貴重です。"
		"大切に使いましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(20)

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	//　　アドル頷いた後に[調薬]のチュートリアル画像を表示。
	//────────────────────
	//	⇒チュートリアル[素材の採取]を見ていない
	//　　[素材の採取]チュートリアル画像を表示。
	//────────────────────

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_NORMAL)
		
		if ( !FLAG[GF_HELP_A08] ) {	// ▽ チュートリアル：素材の採取
		
			// ポートレート表示
			PlaySE( SE_PAGE , 100 , 0,  0, 0, 1.0f, 0)		// SE：ページめくり
			Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
			Wait(FADE_NORMAL)
			Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
			WaitPrompt()
			Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_NORMAL)
		
		}
		
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_NORMAL)	// 背景用
		Wait(FADE_NORMAL)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()

		Portrait_Close(0)
		Portrait_Close(1)
		Portrait_Close(2)
		Portrait_Close(3)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================


	//────────────────────
	//	⇒ドギに言われた用事を全て済ませた
	if (FLAG[GF_02MP1201_TEST_SMITH] && FLAG[GF_02MP1201_TEST_TRADE]
	 && FLAG[GF_02MP1203_GET_FISH]){
	
		// カメラ
//		MoveCameraAt( 0 , 20.836f , -1430.631f , 13.376f , 0 )	// 注視点
//		ChangeCameraDistance( 0 , 2.653f , 0 )		// 基本距離
//		ChangeCameraElevation( 0 , 9.096f , 0 )	// 基本仰角
//		RotateCamera( 0 , 113.039f , 0 )				// 角度
//		ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
//		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//		RollCamera( 0 , 0.0f , 0 )				// ロール回転
//		// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

		MoveCameraAt( 0 , 20.836f , -1430.631f , 13.236f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 2.653f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , 9.096f , 0 )	// 基本仰角
		RotateCamera( 0 , 113.039f , 0 )				// 角度
		ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , 0.0f , 0 )				// ロール回転
		// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
		
		// 位置調整・表情・モーション
		SetChrPos("ADOL", 21.66f, -1430.92f, 11.66f)
		Turn("ADOL", 82.52f, 360.0f)
		SetChrPos("SAHAD", 20.95f, -1429.81f, 11.65f)
		Turn("SAHAD", 36.34f, 360.0f)
		SetChrPos("LAXIA", 20.00f, -1431.00f, 11.64f)
		Turn("LAXIA", -110.49f, 360.0f)
		LookChr("LAXIA", "ADOL")
	
		// カメラ移動（垂直）
//		ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 20.836f , -1430.631f , 13.236f, 45 )
		
		// フェードイン
		FadeIn(FADE_BLACK, FADE_FAST)
		WaitFade()

		// カメラ待ち（垂直）
//		WaitThread(1000)

		ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

		/// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#000e#000mこれで一通り用事を  "
			"済ませたことになりますね。\p  "
			"そろそろ火も準備できたでしょうし、 "
			"ドギのところへ向かいましょう。4"
		}
		WaitPrompt()
		WaitCloseWindow()

		//　　操作許可。

		// フェードアウト
		FadeOut(FADE_BLACK,FADE_NORMAL)
		WaitFade()
	}
	//────────────────────
	//	⇒ドギに言われた用事が残っている
	//　　操作許可。
	//────────────────────
	//　　以降、ＬＰを調べると調薬ショップが開く。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S025_ED")	
}

function "EV_M02S025_ED"
{
	SetSkipScript("")	

	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//エフェクトの停止
	StopEffect(-1,ALL,1)

	//自動送り許可
	SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//ルックポイント処理
	SetChrPos("LP_M02S025", -100000.00f, 0.00f, 0.00f)

	//フラグ処理
	SetFlag( GF_HELP_A11, 1 )	// チュートリアル：回復薬の調合
	SetFlag( GF_HELP_A08, 1 )	// チュートリアル：素材の採取
	SetFlag( GF_02MP1201_TEST_DRUG , 1 )	//調薬を試す

	//	⇒ドギに言われた用事を全て済ませた
	if (FLAG[GF_02MP1201_TEST_SMITH] && FLAG[GF_02MP1201_TEST_TRADE] && FLAG[GF_02MP1203_GET_FISH]
		 && FLAG[GF_02MP1201_TEST_DRUG]){

		SetFlag( GF_02MP1201_DOGITUTO_COMP, 1 )		// 第二部冒頭のドギチュートリアルを一通り終えた
		//SetFlag( SF_MISSIONNO, MS_02_02B )	//★冒険メモ：戻ってドギに報告しよう。
	}

	CallFunc("mp1201:init")

	SetDiaryShopFlag(SHOP_ID_DRUG_A,1)				// "調薬場"
	SetDiaryShopFlag(SHOP_ID_DRUG,0)				// "キルゴールの診療所"
	SetDiaryShopFlag(SHOP_ID_DRUG_R,0)				// "リヒトの診療所"

	//マップマーカー
	DelMapMarker(SMI_EVENTPT_MAIN, PAGE_MP120x, MARKER_EV_M02S025, 0, 0)

//	if (FLAG[GF_02MP1201_TEST_SMITH] && FLAG[GF_02MP1201_TEST_TRADE]
//	 && FLAG[GF_02MP1203_GET_FISH]){
//		SetMapMarker(SMI_EVENTPT_MAIN, PAGE_MP120x, MARKER_EV_M02S030　, 25.37f, -1422.21f, 10.83f, 25.37f, -1422.21f, GF_02MP1201_TAKE_BREAKFAST, MN_T_VILLAGE_MP1201,0)	//Dogi
//	}

	//イベント後の再配置
	SetChrPos("LEADER",22.52f,-1429.01f,11.62f)
	Turn("LEADER",-115.19f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰 or 初期位置設定
	MoveCameraAt( 0 , 22.520f , -1429.010f , 13.490f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 15.435f , 0 )	// 基本仰角
	RotateCamera( 0 , 115.239f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//──────────────────────────────
//▼ドギが料理を説明する
//──────────────────────────────
function "EV_M02S030"		//ドギが料理を説明する
{
//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")	//EB開始処理

	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 27.00f, -1423.75f, 10.83f)
	Turn("ADOL", 145.32f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	LookChr("ADOL" , "Dogi" )

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 26.44f, -1424.61f, 10.83f)
	Turn("LAXIA", 173.91f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	LookChr("LAXIA" , "Dogi" )

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 28.04f, -1423.55f, 10.83f)
	Turn("SAHAD", 124.76f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	LookChr("SAHAD" , "Dogi" )

	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )
	SetChrPos("Dogi", 25.21f, -1422.47f, 10.83f)	
	Turn("Dogi", -62.10f, 360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Dogi" , "ADOL" )

	//焚き火なし
	MapHide( "fire_alpha" , 0 )

	//カメラ設定
	MoveCameraAt( 0 , 26.412f , -1422.687f , 12.302f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.403f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.037f , 0 )	// 基本仰角
	RotateCamera( 0 , 193.899f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a20.itp" )	// help_a20：料理
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	
	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,1.000 ,0.550 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S030_ED")

	//開始処理ここまで-----------------------------------------------

	//　　武器強化、倉庫、釣り(プレイヤーによっては調薬も追加)の
	//　　チュートリアルを終えて集会所予定地に行くと
	//　　ドギが既に焚き火を熾した状態になっている。
	//　　ドギ話しかけるとイベント開始。
	
	Wait(10)
	
	// カット1 ----------------------------------------------------------------------------------------

	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.412f , -1422.687f , 12.302f , 100 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.403f , 100 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.037f , 100 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 193.899f, 100 )

//	SetEnvSEPlayState(1201201, 1)	//焚き火

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ドギ
	TalkPopup("Dogi", 0, 1 ,0, 0, 0) {
		"#000e#000mよう、戻って来たな。"
		"施設は一通り確認できたか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"どれも役に立ちそうだ")
	MenuAdd(2,"もっと充実させたいところだ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(20)
	
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	//────────────────────
	//	⇒どれも役に立ちそうだ
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// ドギ
		TalkPopup("Dogi", 0, 1, 0, 0, 0) {
			"#000e#000mへへ、そう言ってもらえると"
			"用意した甲斐があるってもんだぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()

	//	⇒もっと充実させたいところだ
	} else {

		// ドギ
		TalkPopup("Dogi", 0, 1, 0, 0, 0) {
			"#000e#000mおいおい、昨日の今日で"
			"無茶を言うなっての。\p"
			"まあ、そこに関しちゃ"
			"今後に期待してくれや。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//────────────────────
	
	// ドギ
	TalkPopup("Dogi", 0, 1, 0, 0, 0) {
		"#000e#000mそれで肝心の釣りのほうは"
		"どうだった？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#020e#080mガハハ、見ての通りだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "SAHAD")

	// ドギ
	TalkPopup("Dogi", 0, 1, 0, 0, 0) {
		"#000e#000mお、なかなか大漁じゃねえか。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_TEBURI", -1, 1 )	// こぶしたたきつける
	
	// ドギ
	TalkPopup("Dogi", 0, 1, 0, 0, 0) {
		"よし、それじゃあ"
		"さっそく料理しちまおうや。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	// カット2 ----------------------------------------------------------------------------------------

	//　　暗転挟んで焚火周辺にキャラ再配置。
	//　　時計周りでドギ、アドル、ラクシャ、サハドを配置。
	//　　※料理名や会話内容は料理仕様が決まったところで
	//　　　改めて見直します。
	
	// カメラ
	//MoveCameraAt( 0 , 26.249f , -1422.332f , 13.943f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.724f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -11.455f , 0 )	// 基本仰角
	//RotateCamera( 0 , 174.473f , 0 )				// 角度
	//ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	MoveCameraAt( 0 , 26.281f , -1422.336f , 12.413f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.264f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.431f , 0 )	// 基本仰角
	RotateCamera( 0 , 169.719f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	
	// 位置調整・表情・モーション
	SetChrPos("ADOL", 26.44f, -1423.57f, 10.83f)
	Turn("ADOL", -172.04f, 360.0f)
	SetChrPos("LAXIA", 25.25f, -1423.04f, 10.83f)
	Turn("LAXIA", -129.23f, 360.0f)
	SetChrPos("SAHAD", 25.40f, -1421.20f, 10.83f)
	Turn("SAHAD", -56.44f, 360.0f)
	SetChrPos("Dogi", 27.82f, -1423.56f, 10.83f)
	Turn("Dogi", 145.12f, 360.0f)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )	// 待機
	LookChr("ADOL", "SAHAD")
	LookChr("Dogi", "SAHAD")
	LookChr("SAHAD", "Dogi")
	LookReset("LAXIA")
	
	Wait(30)	// 暗転時間

	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,26.268f , -1422.335f , 12.422f , 120 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.227f , 120 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.389f , 120 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 170.114f , 120 )

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.453f , -1422.351f , 12.302f , 600 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,4.731f , 600 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.962f , 600 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 164.671f , 600 )
	
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目

	LookSpd("LAXIA",0.08f,0.08f,0.08f)	
	LookChr("LAXIA", "Dogi")
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000mさて、どう料理したもんかね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	LookChr("LAXIA", "SAHAD")

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000m食材は限られてるし、"
		"味付けには工夫が必要だな。\p"
		"なるべく素材の味を活かした"
		"料理にするしかねーだろ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	
	LookChr("LAXIA", "Dogi")
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#011e#000mじゃあ、とりあえず"
		"魚介のスープといったところか。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	WaitAnimation2("Dogi", -1, 1, "ANI_EV_UDEGUMI_E", 0)
	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"調理道具は……"
		"その辺の木を削って作っちまおう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_TEBURI", -1, 1 )	// 腕組手振り
	
	LookChr("LAXIA", "SAHAD")

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mアラは取っておいてくれ。"
		"あとで旨いダシをとってやるぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("LAXIA")
	Look("LAXIA", 0.0f, -20.0f)	// うつむく
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)	// 目

	ChangeAnimation( "Dogi" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#020e#080mお、いいね。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)
	
	// カット3 -----------------------------------------------------------------------------------------
	
	//　　ラクシャに冷や汗エモーション出しつつ
	//　　アドルをほうを見やる。
	
	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 25.935f , -1423.193f , 12.303f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.182f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.557f , 0 )	// 基本仰角
	RotateCamera( 0 , 105.595f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション

	SetChrPos("ADOL",26.44f,-1423.57f,10.83f)
	Turn("ADOL",144.91f,360.0f)

	LookSpd("LAXIA",1.0f,1.0f,1.0f)
	//Turn("ADOL", 166.64f, 360.0f)
	Turn("LAXIA", -107.91f, 360.0f)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SAD_CLOSE, 1)	// 目

	// カメラ移動（水平）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 25.962f , -1423.289f , 12.303f , 60 )

	// フェード待ち
	Wait(FADE_FAST)

	EmotionEx("LAXIA", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f )	// 「冷や汗」
	Wait(25)

	LookSpd("LAXIA",0.08f,0.08f,0.08f)
	LookChr("LAXIA", "ADOL")
	Wait(10)
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// カメラ待ち（水平）
	WaitThread(1000)
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#062e#000mひょ、ひょっとして"
		"あなたも料理ができるのですか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookSpd("LAXIA",0.1f,0.1f,0.1f)
	LookChr("ADOL", "LAXIA")
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"まあ、苦手ではないかな")
	MenuAdd(2,"外で過ごすことが多いからね")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	Look("LAXIA", 0.0f, -10.0f)	// うつむく
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)	// 目

	//────────────────────
	//	⇒まあ、苦手ではないかな
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#000mそ、そうなのですか……"
		}
		WaitPrompt()
		WaitCloseWindow()

	//	⇒外で過ごすことが多いからね
	} else {
	
		// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#000mそ、そういうものですか……"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//────────────────────
	
	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 25.849f , -1422.779f , 12.343f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.182f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.184f , 0 )	// 基本仰角
	RotateCamera( 0 , 223.347f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	
	// 非表示・再表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	
	// 位置調整・表情・モーション
	LookChr("Dogi", "LAXIA")
	
	// フェード待ち
	Wait(FADE_CROSS)
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mラクシャ嬢は料理が苦手か？"
		"ま、そんなことだと思ったが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "Dogi")

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mす、すみません……"
		"ずっと使用人任せだったので。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#011e#080mじゃあ、いい機会じゃねえか。\p"
		"#012e#080m誰でも料理できるよう"
		"レシピをまとめてやるぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi" , "ANI_EV_RYOTEKOSI_TEBURI", -1 , 1 )

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"こいつを見ながら練習してくれよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mあ、ありがとうございます。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　画面一旦暗転してメッセージ表示。

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	// フェードアウト
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
	Wait(10)

	PlaySE(SE_QUEST_ITEM, 80, 0, 0, 0, 1.0f, 0)	//アイテムゲット

	// テキスト（色替え）
	TalkPopup(UNDEF, 0, 5, 0, 0, 0) {
		"#8S"
		"#-1W#4C魚介スープのレシピを受け取った！#10W" 
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　ここで[料理]のチュートリアル画像を表示
	//　　◆（１周目のみ）help_a20：料理
	//　　一通り終了したところで下記の会話に接続する。

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		Portrait_Close(1)
		Portrait_Close(2)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		Portrait_Close(0)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S030_ED")
}

function "EV_M02S030_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//モンスターを復帰
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Dogi")

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//自動送り許可
	SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//NowLoading 時の Tips 表示をカット
	SetFlag( TF_LOADING_TIPS_OFF, 1 )

	LoadArg("map/mp1201/mp1201.arg")
	EventCue("mp1201:EV_M02S031")

	ResetStopFlag(STOPFLAG_EVENT)

//終了処理ここまで----------------------------------------------------
}

function "EV_M02S031"		//ドギが料理を説明する
{
//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")	//EB開始処理

	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 28.83f, -1422.29f, 10.83f)
	Turn("ADOL", -111.64f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("ADOL")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 29.92f, -1420.79f, 10.83f)
	Turn("LAXIA", 9.34f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("LAXIA")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 30.83f, -1422.22f, 10.83f)
	Turn("SAHAD", 110.55f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_LAUGH,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("SAHAD")
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 再表示

	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )
	SetChrPos("Dogi", 30.01f, -1423.29f, 10.83f)
	Turn("Dogi", 173.54f, 360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Dogi","SAHAD")

	//焚き火あり
	MapHide( "fire_alpha" , 1 )
	SetEnvSEPlayState(1201201, 1)	//焚き火

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	// カメラ
	MoveCameraAt( 0 , 29.949f , -1421.764f , 11.779f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.430f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.442f , 0 )	// 基本仰角
	RotateCamera( 0 , 206.887f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,1.000 ,0.550 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S031_ED")

	//開始処理ここまで-----------------------------------------------

	// カット5 -----------------------------------------------------------------------------------------

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 29.866f , -1421.878f , 12.379f , 75 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.430f , 75 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.155f , 75 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 220.063f , 75 )

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#080mゲップ……\p"
		"#020e#080mガハハ、食った食ったァ！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("SAHAD", "LAXIA")
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// 両手腰 手振
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#080e#080mどうだ、嬢ちゃん。"
		"ハラいっぱい食えたか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "SAHAD")
	Wait(10)
	HeadYes("LAXIA", 1, 25)	// キャラ, うなずき回数, 速さ

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mえ、ええ、おかげさまで。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Dogi")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#011e#000m無人島と聞いてどうなるかと思ったが、"
		"食糧に関しちゃ何となりそうだな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	// カット6 --------------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ
	MoveCameraAt( 0 , 30.030f , -1421.931f , 12.419f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.398f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.469f , 0 )	// 基本仰角
	RotateCamera( 0 , 322.434f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	SetChrPos("ADOL", 28.94f, -1422.26f, 10.83f)
	Turn("ADOL", -104.53f, 360.0f)
	SetChrPos("Dogi", 30.26f, -1423.20f, 10.83f)
	Turn("Dogi", 166.44f, 360.0f)
	SetChrPos("LAXIA", 30.14f, -1421.00f, 10.83f)
	Turn("LAXIA", 34.21f, 360.0f)
	SetChrPos("SAHAD", 30.92f, -1421.86f, 10.83f)
	Turn("SAHAD", 92.78f, 360.0f)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	LookChr("SAHAD", "ADOL")
	LookChr("LAXIA", "ADOL")
	
	// フェード待ち
	Wait(FADE_FAST)

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mさて……アドル・クリスティン。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("ADOL", "LAXIA")
	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000mそれではそろそろ漂流者の"
		"捜索に出発するとしましょうか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "ADOL")
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#080e#080mおお、そうするとしようぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "ADOL")

	// ドギ
	TalkPopup("Dogi", 0, 1, 0, 0, 0) {
		"#012e#000mそうだ、アドル。"
	}
	WaitPrompt()
	WaitCloseWindow()
	

	LookChr("ADOL", "Dogi")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	
	// ドギ
	TalkPopup("Dogi", 0, 1, 0, 0, 0) {
		"出発前に一応バルバロス船長に"
		"声をかけたほうがいいんじゃねぇか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "Dogi")
	LookChr("LAXIA", "Dogi")
	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_S", -1, 1 )	// 両手 前組み

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mそれもそうですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "LAXIA")
	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ドギ
	TalkPopup("Dogi", 0, 1, 0, 0, 0) {
		"#000e#000mさっき戻ってきたばかりだから、"
		"まだこの辺りにいるはずだ。\p"
		"悪いが探してみちゃくれねえか。"
	}
	WaitPrompt()
	WaitCloseWindow()

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.030f , -1421.931f , 12.559f , 100 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.406f , 100 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.609f , 100 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 322.148f , 100 )
//
//	Wait(30)

	// フェードアウト
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S031_ED")
}

function "EV_M02S031_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//モンスターを復帰
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Dogi")

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//自動送り許可
	SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	SetFlag( SF_SETRAMSAVE , 1)
	SetFlag( GF_02MP1201_TAKE_BREAKFAST , 1 )			// 朝食を食べ終わった
	//SetFlag( SF_MISSIONNO, MS_02_03 )	//★冒険メモ：バルバロス船長に声をかけよう。
	SetFlag( GF_HELP_A20, 1 )	// チュートリアル：料理
	SetFlag( GF_RECIPE_01, 1 )	// 魚介スープ

	SetDiaryShopFlag(SHOP_ID_COOK,1)	//素材手帳料理レシピ開放

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init" )

	//イベントマーカーセット
	DelMapMarker( SMI_EVENTPT_MAIN,PAGE_MP120x,MARKER_EV_M02S030, 0, 0)

	SetMapMarker( SMI_EVENTPT_MAIN,PAGE_MP120x, MARKER_EV_M02S040　, -4.75f, -1473.30f, 24.47f, -4.75f, -1473.30f ,GF_02MP1201_INFO_QUEST, MN_T_VILLAGE_MP1201,0)	//バルバロス

	//焚き火あり
	MapHide( "fire_alpha" , 1 )

	SetChrPos("LEADER",31.36f,-1418.52f,10.83f)
	Turn("LEADER",51.95f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	MoveCameraAt( 0 , 31.358f , -1418.524f , 12.685f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.340f , 0 )	// 基本仰角
	RotateCamera( 0 , 128.054f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------

}

//──────────────────────────────
//▼リトル・パロを紹介される(mp1201)
//──────────────────────────────
function "EV_M02S040"		//リトル・パロを紹介される
{
//開始処理ここから----------------------------------------------------
	CallFunc("system:event_begin")	//EB開始処理

	LoadChr("Barbaross")
	LoadChr("Paro")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))

	//キャラクター初期化
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Paro", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrPos("ADOL", 4.84f, -1459.99f, 22.43f)
	Turn("ADOL", 51.45f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrPos("LAXIA", 4.06f, -1458.78f, 22.41f)
	Turn("LAXIA", 58.17f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("LAXIA")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrPos("SAHAD", 3.51f, -1457.39f, 22.44f)
	Turn("SAHAD", 45.24f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("SAHAD")

	SetChrInfoFlag("Barbaross", INFOFLAG_NOCHRATARI)
	SetChrPos("Barbaross", -4.75f, -1473.30f, 24.47f)
	Turn("Barbaross", -152.73f, 10.0f)
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Barbaross")

	SetChrInfoFlag("Paro", INFOFLAG_NOCHRATARI)
	SetChrPos("Paro", -4.48f, -1473.37f, 26.22f)
	Turn("Paro", 159.84f, 7.0f)
	SetParent("Paro", "Barbaross", "Null_paro")
	ChangeAnimation("Paro", "ANI_FLY3_WAIT", -1, 1)
	ChangeSubAnimation("Paro", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Paro", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	LookReset("Paro")

	//BGM設定
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt(0, 5.751f, -1460.396f, 24.706f, 0)	// 注視点
	ChangeCameraDistance(0, 1.418f, 0)		// 基本距離
	ChangeCameraElevation(0, 4.380f, 0)	// 基本仰角
	RotateCamera(0, 78.796f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, RotateCamera, INTERPOLATE_SPHERE, 106.234f, 70)		// 角度

	ExecuteCmd(1, MoveTo, "LAXIA", 2.44f, -1459.98f, 23.04f, 0.1f, 0.20f)
	Wait(3)
	ExecuteCmd(2, MoveTo, "SAHAD", 1.95f, -1458.63f, 22.89f,0.1f, 0.15f)
	Wait(5)
	ExecuteCmd(3, MoveTo, "ADOL", 4.02f, -1460.51f, 22.78f, 0.1f, 0.14f)

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,1.000 ,0.550 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S040_ED")

//開始処理ここまで-----------------------------------------------

	//　　漂流村・断崖の上に出るとイベント開始。
	//　　バルバロスが腕の上にオウムを乗せている。
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　バルバロスたちのほうへ歩いて
	//　　フレームインしてくるアドルたち。

	WaitThread(1)
	WaitThread(1000)

	LookChr("LAXIA" , "Barbaross")

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#0616V#000e#000mあら、あれは……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "Barbaross")
	LookChr("ADOL", "Barbaross")

	WaitThread(2)
	WaitThread(3)

	PlaySE(SE_PARO_FRY, 100, 0, 0, 0, 1.0f, 0)	//	羽ばたきループ

	CrossFade(FADE_FAST)

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 40.000, 0.000, 0.450, 0.500)

//	MoveCameraAt(0, -4.718f, -1475.614f, 26.232f, 0)	// 注視点
//	ChangeCameraDistance(0, 4.560f, 0)		// 基本距離
//	ChangeCameraElevation(0, -3.616f, 0)	// 基本仰角
//	RotateCamera(0, 167.359f, 0)				// 角度
//	ChangeCameraPers(0, 57.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, -0.7f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	MoveCameraAt( 0 , -3.882f , -1472.448f , 26.212f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.201f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.898f , 0 )	// 基本仰角
	RotateCamera( 0 , 98.333f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -4.002f , -1472.870f , 26.212f , 80 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.201f , 80 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -7.914f , 80 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 102.338f , 80 )

	Wait(FADE_FAST)

	ChangeAnimation("Paro", "ANI_FLY3_E", -1, 1)
	WaitAnimation2("Paro", -1, 1, "ANI_FLY3_E", 0)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	FadeBGM(70,15)

	ChangeSubAnimation("Barbaross", SUBMOT_MOUTH, ANI_M_SMILE, 1)

//	ChangeAnimation("Barbaross", "ANI_EV_RYOTEBURI", -1, 1)
	TalkPopup("Barbaross", 0, 1, 0, 0, 0)
	{
		"#3802V#080e#080mおはようございます、皆さん。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Barbaross", SUBMOT_EXT1, ANI_E_LOOKR_S, 1)
	Look("Barbaross" , 33 , 5 )
	Wait(20)
	
	SetName("オウム")
	TalkPopup("Paro",0,2,0,0,0)
	{
		"#5280V#5Cオハヨウ、オハヨウ！"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	//ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_LAUGH_S, 1)
	ChangeSubAnimation("Barbaross", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)
	Wait(10)
	
	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)
	SetChrPos("ADOL", -3.26f, -1471.87f, 24.45f)
	Turn("ADOL", 47.33f, 360.0f)
	SetChrPos("LAXIA", -4.30f, -1471.39f, 24.42f)
	Turn("LAXIA", 52.66f, 360.0f)
	SetChrPos("SAHAD", -5.38f, -1471.29f, 24.45f)
	Turn("SAHAD", -35.59f, 360.0f)
//	LookReset("Barbaross")

	ChangeSubAnimation("Barbaross", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Barbaross", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)

//	MoveCameraAt(0, -5.209f, -1472.995f, 25.885f, 0)	// 注視点
//	ChangeCameraDistance(0, 4.561f, 0)		// 基本距離
//	ChangeCameraElevation(0, 5.407f, 0)	// 基本仰角
//	RotateCamera(0, 143.625f, 0)				// 角度
//	ChangeCameraPers(0, 44.100f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, -0.7f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	MoveCameraAt( 0 , -4.500f , -1472.158f , 26.085f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.121f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.615f , 0 )	// 基本仰角
	RotateCamera( 0 , 156.801f , 0 )				// 角度
	ChangeCameraPers( 0 , 44.100f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 139.610f , 900 )

	Wait(FADE_CROSS)

	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SUP_S,1)
	LookChr("SAHAD" , "Paro" )
	LookChr("ADOL" , "Paro" )
	Wait(10)

	//	"SAHAD"
//	LookChr("Paro", "Barbaross")
//	LookChr("Barbaross", "LAXIA")
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#1567V#000mおお？"
		"今、その鳥が喋ったのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#0617V#000e#000mオウムの一種のようですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	FadeBGM(100, 30)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"妙に慣れていますね")
	MenuAdd(2,"船長が捕まえたんですか？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//─────────────────────────
	//	⇒妙に慣れていますね
	if (FLAG[TF_MENU_SELECT] == 1){

//		LookChr("Paro", "ADOL")
		LookChr("Barbaross", "ADOL")
		
		TalkPopup("Barbaross",0,2,0,0,0)
		{
			"#000e#080mうむ、無人島で育ったせいか、"
			"全く人を怖がらないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	//	⇒船長が捕まえたんですか？
	if (FLAG[TF_MENU_SELECT] == 2){
		
//		LookChr("Paro", "ADOL")
		LookChr("Barbaross", "ADOL")

		TalkPopup("Barbaross",0,0,0,0,0)
		{
			"#000e#080mふむ、今朝方この付近を"
			"見回っていた時について来たのだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

//	ChangeAnimation("Barbaross", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000e#080mこうして言葉を教えておけば、"
		"色々と役立つかもしれんと思ってな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	
	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000e#000mおお、なるほど……"
		"しかし鳥のクセにかしこいもんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "SAHAD")
	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000e#080mええ、もう挨拶は覚えたようで"
		"なかなか筋の良い鳥ですよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Barbaross")
	
	TalkPopup("Barbaross",0,2,0,0,0)
	{
	
		"#011e#080mふむ、名前をつけてやらねばな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	// カットX ----------------------------------------------------------------------------------------
	
	CrossFade(FADE_CROSS)
	ChangeAnimation("Barbaross", "ANI_WAIT", -1, 1)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	
	// カメラ停止
	StopThread(1003)
	
//	MoveCameraAt(0, -4.161f, -1472.632f, 26.084f, 0)	// 注視点
//	ChangeCameraDistance(0, 3.064f, 0)		// 基本距離
//	ChangeCameraElevation(0, 10.061f, 0)	// 基本仰角
//	RotateCamera(0, 20.793f, 0)				// 角度
//	ChangeCameraPers(0, 36.500f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	MoveCameraAt( 0 , -3.895f , -1472.887f , 26.164f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.344f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.899f , 0 )	// 基本仰角
	RotateCamera( 0 , 29.963f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetChrPos("SAHAD", -5.38f, -1471.29f, 24.45f)
	Turn("SAHAD", -53.36f, 360.0f)

	Wait(FADE_CROSS)
	
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Barbaross", SUBMOT_MOUTH, ANI_M_WAIT, 1)

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000e#000m言葉というと、ちょうどワシの"
		"娘もしゃべり始めたところでな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA" , "SAHAD")
	//TurnToChr("LAXIA", "SAHAD", 10.0f)
//	ChangeAnimation( "Barbaross", "ANI_EV_SIAN_E", -1, 1 )

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#020l#000e#000mへー、娘さんが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	EmotionEx("LAXIA", 0.05f,2,5,5,1,1,1.0f)	// ！
	Wait(20)
	Turn("LAXIA", 59.56f, 10.0f)
	LookChr("LAXIA" , "SAHAD")
	LookChr("Paro", "SAHAD")
	LookChr("ADOL", "SAHAD")
	ChangeAnimation( "LAXIA", "ANI_EV_SUP_S", -1, 1 )
	LookChr("SAHAD", "LAXIA")
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	EarthQuake(0.12f, 0.12f, 8)
	ChangeAnimation("Paro", "ANI_FLY3_S", -1, 1)
	
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#18S#022l#070e#070m……て、えええええ！？"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#18S#070mあ、あ、あなた結婚していらしたの？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation("Paro", "ANI_FLY3_E", -1, 1)

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#012e#000mお？　そりゃーな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "SAHAD", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#020e#080m言っておくが、ワシのカミさんは"
		"嬢ちゃんと同じくらいベッピンだぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_SUP_E", -1, 1 )

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#011e#000mそ、そうですか……ある意味、"
		"どんな方なのか興味があります。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#020e#080mガハハ、ここから脱出できたら、"
		"是非一度会いに来てくれ。\p"
		"なかなか外から人が来る"
		"場所じゃねーから喜ぶと思うぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()


	HeadYes("LAXIA" , 1 , 25)

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#062e#000mええ、考えておきます……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD" , "Barbaross")
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// 両手腰

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#080e#080m船長殿はお子さんは？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )
	LookChr("LAXIA" , "Barbaross")
	LookChr("ADOL", "Barbaross")
	LookChr("Barbaross","SAHAD")

	CrossFade(FADE_CROSS)
//	SetChrPos("ADOL", -4.10f, -1471.74f, 24.42f)
//	Turn("ADOL", 43.75f, 360.0f)
//	SetChrPos("LAXIA", -4.65f, -1471.26f, 24.43f)
//	Turn("LAXIA", 35.15f, 360.0f)

//	MoveCameraAt(0, -3.886f, -1471.999f, 26.059f, 0)	// 注視点
//	ChangeCameraDistance(0, 1.564f, 0)		// 基本距離
//	ChangeCameraElevation(0, 6.634f, 0)	// 基本仰角
//	RotateCamera(0, 108.172f, 0)				// 角度
//	ChangeCameraPers(0, 40.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.4f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , -4.452f , -1471.943f , 26.139f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.004f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.815f , 0 )	// 基本仰角
	RotateCamera( 0 , 180.080f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.4f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000e#000mお恥ずかしいお話ですが、"
		"私にもまだ幼い娘がおりまして……"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("SAHAD",1 , 30 )

	//	"SAHAD"
	TalkPopup("SAHAD",0,1,0,0,0)
	{
		"#020e#080mガハハ、それはそれは！\p"
		"そんじゃ、お互い"
		"必ず生きて帰らないとな！"
	}
	WaitPrompt()
	WaitCloseWindow()

//	HeadYes("Barbaross" , 1 , 25)

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#011e#080mフフ、もちろんです。"

	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross","ADOL")

	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#012eところでアドル、"
		"捜索へ出る前に相談があるのだが。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL", "Barbaross")
	//　　アドルに「？」エモーション表示して
	//　　画面フェードアウト。
	StopThread(1000)
	Wait(10)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SUP_S,1)
	EmotionEx("ADOL", 0.00f, EMO_Q, 0, 5, 1, 1, 1.0f )	// 「？」

	Wait(45)

//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.882f ,120 )				// 基本距離

	FadeOut(FADE_BLACK,FADE_NORMAL)

//	ChangeAnimation("Paro", "ANI_FLY3_S", -1, 1)
	WaitFade()

//終了処理ここから----------------------------------------------------
	StopThread(1001)
	CallFunc("mp1201:EV_M02S040_ED")
}

function "EV_M02S040_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//マップパラメーターリセット
	ResetMapParam( -1 )
	
	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Paro")
	CallFunc("system:reset_chrmot_Barbaross")

	SetParent("Paro" , "" , "" )	//アタッチ解除

	//NPC復帰
	CallFunc("talk:NpcPosition")											//NPCをREMOVEしている場合に実行

	EventCue("mp1201:EV_M02S050")

	ResetStopFlag(STOPFLAG_EVENT)

	//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼クエストを開始する(mp1201)
//──────────────────────────────
//　　フェードインして掲示板の前に集まっている
//　　アドル、サハド、ラクシャ、バルバロス。
function "EV_M02S050"		//クエストチュートリアル
{
//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Barbaross")
	LoadChr("Paro")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))

	//キャラ初期状態の設定	
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrPos("ADOL", 30.87f, -1412.06f, 11.15f)
	Turn("ADOL", -127.74f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	Look("ADOL" , 0 , 15 )

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrPos("LAXIA", 30.28f, -1411.64f, 11.26f)
	Turn("LAXIA", -86.02f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	Look("LAXIA" , -5 , 10 )

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrPos("SAHAD",29.53f, -1410.85f, 11.46f )
	Turn("SAHAD",-80.11f,360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("SAHAD")

	SetParent("Paro" , "" , "" )	//アタッチ解除
	SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI )
	SetChrPos("Barbaross",32.26f, -1412.28f, 11.07f )
	Turn("Barbaross",115.84f,360.0f)
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	Look("Barbaross" , 0 , 15 )

	SetChrInfoFlag("Paro", INFOFLAG_NOCHRATARI)
	SetChrPos("Paro", 31.32f, -1410.24f, 13.50f)
	Turn("Paro", 35.31f, 360.0f)
	SetParent("Paro", "", "")
	//ChangeAnimation("Paro", "ANI_WAIT5", -1, 1)
	ChangeAnimation("Paro", "ANI_WAIT4", -1, 1)
	ChangeSubAnimation("Paro", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Paro", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	LookReset("Paro")

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a23.itp" )	// help_a23：クエスト
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)

	//カメラ設定
	MoveCameraAt( 0 , 30.414f , -1414.800f , 13.135f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.859f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.959f , 0 )	// 基本仰角
	RotateCamera( 0 , 47.855f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 31.677f , -1413.435f , 13.135f, 90)

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,1.000 ,0.550 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S050_ED")

//開始処理ここまで-----------------------------------------------


	// カットX ----------------------------------------------------------------------------------------

	LookChr("Barbaross" , "ADOL" )
	LookChr("ADOL", "Barbaross")
	LookChr("LAXIA" , "Barbaross" )
	LookChr("SAHAD" , "Barbaross" )

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	WaitThread(1000)
	Wait(20)

	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_FAST)

//	MoveCameraAt( 0 , 31.237f , -1411.855f , 13.232f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.682f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -0.778f , 0 )	// 基本仰角
//	RotateCamera( 0 , 4.813f , 0 )				// 角度
//	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	MoveCameraAt( 0 , 31.237f , -1411.855f , 12.792f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.682f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.778f , 0 )	// 基本仰角
	RotateCamera( 0 , 4.813f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 31.237f , -1411.855f , 12.792f , 60 )

	Wait(FADE_FAST)
//
//	// カメラ待ち
//	WaitThread(1000)
//
	TalkPopup("Barbaross",0,1,0,0,0)
	{
		"#000e#000m漂流村を築くには様々な"
		"資材が必要になりそうだが……\p"
		"私とドギで手分けしても、"
		"収集がなかなか追いつきそうにない。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Barbaross", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	TalkPopup("Barbaross",0,1,0,0,0)
	{
		"そこでアドルたちにも捜索の傍ら、"
		"資材集めに協力してほしいのだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )

	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#011e#000mそれは問題ないと思いますが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000e#000m村の資材っていうからには、"
		"木材とか石ってことになるのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "SAHAD")
	ChangeAnimation( "Barbaross", "ANI_EV_TEBURI", -1, 1 )

	//	"Barbaross"
	TalkPopup("Barbaross",0,1,0,0,0)
	{
		"#000e#000mそうですね、作る物によって"
		"必要な資材は変わってくるでしょう。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookTo("Barbaross", 32.077f , -1410.753f , 12.772f)		// 座標：掲示板の紙
	
	//	"Barbaross"
	TalkPopup("Barbaross",0,1,0,0,0)
	{
		"そこで、この掲示板に詳細を"
		"書き出しておこうと考えています。\p"
		"他にも依頼したいことがあれば、"
		"ここに書き留めていくつもりです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookTo("SAHAD", 32.077f , -1410.753f , 12.772f)		// 座標：掲示板の紙

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000e#000mなるほどな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA" , "ADOL" )
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000m村へ戻った時になるべく"
		"確認するようにいたしましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャの言葉にうなずくアドル。
	//　　ここで「掲示板」と「クエスト」に関するチュートリアルを表示。
	//　　(テキストはチュートリアル内容が決まった段階で作成予定)

	LookSpd("ADOL",0.1f,0.1f,0.1f)
	LookChr("ADOL" , "LAXIA" )
	Wait(15)
	HeadYes("ADOL" , 1 , 25)

	Wait(40)

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.7f, FADE_FAST)

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		
		// 擬似フェードアウト削除
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
//		Wait(FADE_FAST)
		Portrait_Close(2)
		Portrait_Close(1)
		Portrait_Close(0)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================

	CrossFade(FADE_NORMAL)

	SetChrPos("ADOL", 30.79f, -1412.79f, 11.11f)
	Turn("ADOL", -127.74f, 360.0f)
	SetChrPos("LAXIA", 30.29f, -1412.09f, 11.21f)
	Turn("LAXIA", -86.02f, 360.0f)
	SetChrPos("SAHAD", 30.07f, -1411.29f, 11.34f)
	Turn("SAHAD", -80.11f, 360.0f)
	Turn("Barbaross", 94.52f, 360.0f)
	LookChr("ADOL", "Barbaross")
	LookChr("LAXIA", "Barbaross")
	LookChr("SAHAD", "Barbaross")
	LookChr("Barbaross", "ADOL")

	MoveCameraAt( 0 , 30.794f , -1412.690f , 12.791f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.762f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.217f , 0 )	// 基本仰角
	RotateCamera( 0 , 323.686f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.794f , -1412.690f , 12.791f , 60 )

	Wait(FADE_NORMAL)

	// カメラ待ち
//	WaitThread(1000)


	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000e#000m──私からの話は以上だ。"
	}
	WaitPrompt()
	WaitCloseWindow()

//	LookChr("ADOL" , "Barbaross" )
//	LookChr("LAXIA" , "Barbaross" )

	ChangeAnimation( "Barbaross", "ANI_EV_TEBURI", -1, 1 )

	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"それではアドル、いよいよ"
		"漂流者の捜索に向かってほしい。\p"
		"くれぐれもよろしく頼んだぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("ADOL" , 1 , 20)

	Wait(30)

	//　　操作許可。

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	StopThread(1000)


	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S050_ED")
}

function "EV_M02S050_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//モンスターを復帰
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Barbaross")
	CallFunc("system:reset_chrmot_Paro")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//自動送り許可
	SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//フラグ処理
    SetFlag( GF_02MP1201_INFO_QUEST , 1 ) // Request explanation received
    //SetFlag( SF_MISSIONNO, MS_02_04 ) //Adventure memo: Let's continue making maps and searching for castaways.
    SetFlag( GF_HELP_A23, 1 ) // Tutorial: Quest

	//アドルお一人様制御
	//SetFlag(GF_PARTY_NONE, 0)		//パーティ全員行動解除
	//FixPlayerChr(PARTY_ADOL)	// アドルおひとり様モードON

	//イベントマーカー
	DelMapMarker( SMI_EVENTPT_MAIN,PAGE_MP120x,MARKER_EV_M02S040, 0, 0)

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init" )

	SetChrPos("LP_1201_bbs",-100000.00f,0.00f,0.00f)	//【ＬＰ：クエスト掲示板（クエストチュートリアル前）】

	//イベント後の再配置
	SetChrPos("LEADER",32.25f, -1420.40f, 10.83f  )
	Turn("LEADER",77.26f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰or初期位置設定

	MoveCameraAt( 0 , 32.250f , -1420.396f , 12.683f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 106.587f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

//	SetEnvSEPlayState(-1, 1201201)

	FadeIn(FADE_BLACK, FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//──────────────────────────────
//▼アリスンを連れて漂流無へ戻る(mp1201)
//──────────────────────────────
function "EV_M02S090"		//アリスンと漂流村へ戻る
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Barbaross")
	LoadChr("Dogi")
	LoadChr("Alison")	
	
	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	//ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定			
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",27.43f, -1420.21f, 10.83f )
	Turn("ADOL",42.90f,360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("ADOL" , "Alison")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 25.22f, -1421.04f, 10.83f )
	Turn("LAXIA",-79.81f,360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("LAXIA" , "Alison")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 26.35f, -1423.56f, 10.83f )
	Turn("SAHAD", -172.60f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("SAHAD" , "Alison")

	SetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI )
	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison",26.10f, -1420.15f, 10.83f )
	Turn("Alison",-29.87f,360.0f)
	ChangeAnimation( "Alison", "ANI_WAIT", -1, 1 )	// 待機
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	Look("Alison" , 30 , 0 )

	SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI )
	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Barbaross", 25.37f, -1422.19f, 10.83f )
	Turn("Barbaross", -143.58f, 360.0f)
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Barbaross" , "Alison")

	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi",28.47f, -1420.73f, 10.83f )
	Turn("Dogi", 69.50f, 360.0f)
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Dogi" , "Alison")

	SetChrPos("Laxia",-100000.00f, 00.00f, 00.00f )
	SetChrPos("Sahad",-100000.00f, 00.00f, 00.00f )
//	SetChrPos("Dogi" ,-100000.00f, 00.00f, 00.00f )
//	SetChrPos("Barbaross",-100000.00f, 00.00f, 00.00f )
//	SetChrPos("Paro",-100000.00f, 00.00f, 00.00f )

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )
	StopBGM(10)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a26.itp" )	// help_a26：漂流者の救出
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)

	//カメラ設定
	MoveCameraAt( 0 , 28.544f , -1421.637f , 12.833f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.219f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.453f , 0 )	// 基本仰角
	RotateCamera( 0 , 91.896f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 50.000 ,0.000 ,0.450 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S090_ED")

//開始処理ここまで-----------------------------------------------


	//　　画面暗転のまま、下記のテキストメッセージを表示。
	
	//	テキスト
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0) {
		"#7C漂流村へ戻ったアドルたちは"
		"#7Cバルバロスとドギにアリスンを紹介した。\p"
		"#7C無人島へ漂着したことにアリスンは"
		"#7C少なからず衝撃を受けた様子だったが……\p"
		"#7C戸惑いながらも島からの"
		"#7C脱出に力を貸してくれることになった。\p"
		"#7Cそして────"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayBGM(BGM_1201, 0)
	SetEnvSEPlayState(1201001, 1)
	SetEnvSEPlayState(1201002, 1)
	SetEnvSEPlayState(1201003, 1)
	SetEnvSEPlayState(1201101, 1)
	SetEnvSEPlayState(1201201, 1)

	// カットX ----------------------------------------------------------------------------------------

	//　　画面フェードインして、集会所付近に集まっている
	//　　アドル、ラクシャ、サハド、ドギ、バルバロス、アリスン。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,28.307f , -1422.376f , 11.873f , 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.459f , 100 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.594f , 100 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 60.671f , 100 )

	FadeIn(FADE_BLACK,FADE_SLOW)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	Wait(10)

	// カットX ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ
	MoveCameraAt( 0 , 26.112f , -1420.588f , 11.833f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.339f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.885f , 0 )	// 基本仰角
	RotateCamera( 0 , 25.146f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,26.194f , -1420.482f , 12.193f , 280 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.209f , 280 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.985f , 280 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,48.634f , 280 )

	// フェード待ち
	Wait(FADE_FAST)

	FadeBGM(70,15)
	Wait(10)

	// アリスン
	TalkPopup("Alison",0,1,300,180,0) {
		"#4443V#011e#000m状況はわかりました……"
		"私は街で仕立て屋を営んでいました。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(20)

	VisualName("visual/chrname/cn_c108.itp", VN_NAMEVOICE, VN_CHRNAME_LB_X, VN_CHRNAME_LB_Y,VN_NPCNAME_TIME) //アリスン

//	Wait(110)
//	
//	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_CLOSE_E,1)
//
//	Wait(50)
//
//	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
//	LookSpd("Alison" , 0.1 ,0.1 ,0.1 )
//	Look("Alison" , -22 , 5 )

	Wait(60)
	ExecuteFunc(100,"mp1201:alison_eye")
	
	//時限式選択肢
	//◆SE無効化コマンド置換用
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuAdd( 1 , "" )
	MenuOpen( TF_MENU_SELECT , 0 ,0 , 0 , 0 , 0 , 0 )
	WaitMenu(VN_NPCNAME_SKIP) //ウェイトしたい数値
	MenuClose(0,0)

	if(FLAG[TF_MENU_SELECT] == 1 )
	{
		CrossFade(FADE_FAST)
		VisualNameEnd()
		StopThread(100)
		StopThread(1000)
		StopThread(1001)
		StopThread(1002)
		StopThread(1003)
		ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_SMILE,1)
		LookSpd("Alison" , 0.1 ,0.1 ,0.1 )
		Look("Alison" , -22 , 5 )
		
		MoveCameraAt( 0 , 26.194f , -1420.482f , 12.193f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 1.209f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , -1.985f , 0 )	// 基本仰角
		RotateCamera( 0 , 48.634f , 0 )				// 角度
		ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , 0.0f , 0 )				// ロール回転
		// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

		Wait(FADE_FAST)
	}
	else
	{
		Wait(30)
	}

	ChangeAnimation( "Alison", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	
	// アリスン
	TalkPopup("Alison",0,1,300,180,0) {
		"#4444V#080m私にお手伝いできることでしたら、"
		"何なりと言ってください。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)

	FadeBGM(100, 30)

	// カットX ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , 25.716f , -1420.351f , 12.337f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.579f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.698f , 0 )	// 基本仰角
	RotateCamera( 0 , 189.017f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Turn("Alison", -1.45f, 360.0f)
	LookChr("Alison" , "Barbaross")
	
	// フェード待ち
	Wait(FADE_FAST)

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#000e#000mご協力感謝いたします。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Alison", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	//	"Alison"
	TalkPopup("Alison",0,1,0,0,0) {
		"#050e#000mあの……"
		"つかぬことをお伺いしますが……\p"
		"こちらに私と同じくらいの年齢で"
		"エドという男性はいないでしょうか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000m男性……ですか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mお？　今のところ、"
		"ここにいるので全員のはずだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Alison"
	TalkPopup("Alison",0,1,0,0,0) {
		"#061e#000mそ、そう……ですか……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Alison", 0.0f, -20.0f)	// うつむく
	
	//	"Alison"
	TalkPopup("Alison",0,1,0,0,0) {
		"うう……あなた……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャ、ドギ、バルバロス、サハドにＰＡエモーション。
	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	EmotionEx("SAHAD", 0.05f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	EmotionEx("Barbaross", 0.05f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	Wait(35)

	TalkPopup("Barbaross",0,2,0,0,0) {
		"#000e#000m失礼ですが、ご主人がご一緒に"
		"乗船されていたということでしょうか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("Alison", 1, 25)	// キャラ, うなずき回数, 速さ

	//	"Alison"
	TalkPopup("Alison",0,1,0,0,0) {
		"#062e#000mは、はい……"
		"海に落ちたところまで一緒でした。\p"
		"#061eその直後、潮の流れで"
		"散り散りになってしまって……ううっ……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("Alison")
	Look("Alison", 0.0f, -5.0f)	// うつむく

	// カットX ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 25.618f , -1421.423f , 12.277f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.339f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.266f , 0 )	// 基本仰角
	RotateCamera( 0 , 333.407f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	SetChrPos("Alison", 26.01f, -1419.99f, 10.83f)
	Turn("Alison", -26.32f, 360.0f)
	
	// 非表示・再表示
	SetChrInfoFlag("Barbaross", INFOFLAG_INVISIBLE)	// 非表示
	
	// フェード待ち
	Wait(FADE_CROSS)
	
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000mま、まだ諦めないでください。\p"
		"ご主人もアリスンさんのように"
		"ここへ漂着している可能性があります。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA" , "ADOL")
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000mそうですよね、アドル・クリスティン。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"可能性はある……")
	MenuAdd(2,"必ず探し出してみせるさ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//─────────────────────────
	//	⇒可能性はある……
	if (FLAG[TF_MENU_SELECT] == 1){

		LookChr("Alison" , "ADOL" )
		
		TalkPopup("Alison",0,2,0,0,0) {
			"#062e#000m……本当……ですか？\p"
			"アドルさん……"
			"ありがとうございます……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒必ず探し出してみせるさ
	if (FLAG[TF_MENU_SELECT] == 2){

		LookChr("Alison" , "ADOL" )
		
		TalkPopup("Alison",0,2,0,0,0) {
			"#062e#000m……本当……ですか？\p "
			"例え気休めでも……"
			"ありがとうございます……2"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	// カットX ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 26.854f , -1420.434f , 12.357f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.739f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.323f , 0 )	// 基本仰角
	RotateCamera( 0 , 54.196f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag("Barbaross", INFOFLAG_INVISIBLE)	// 再表示

	// フェード待ち
	Wait(FADE_CROSS)

	TalkPopup("Dogi",0,1,0,0,0) {
		"#000e#000mアリスンさん、"
		"漂流してさぞかし疲れただろ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Dogi", "LAXIA")
	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// 両手腰手振り
	
	TalkPopup("Dogi",0,1,0,0,0) {
		"ラクシャ嬢、さっそく"
		"休息所へ案内してやったらどうだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA" , "Dogi")

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000mそうですね……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA" , "Alison")
	TurnToChr("LAXIA" , "Alison" , 8.0f)
	Wait(10)
	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )

	TalkPopup("LAXIA",0,2,0,0,0) {
		"アリスンさん、どうぞこちらへ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Alison" , "LAXIA")

	//	"Alison"
	TalkPopup("Alison",0,2,0,0,0) {
		"#000e#000mはい、よろしくお願いします。"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2( "LAXIA" , -1, 1, "ANI_EV_TEBURI",  0)

	TurnTo("LAXIA" , 25.17f, -1418.60f, 10.83f  , 8.00f)
	ExecuteCmd( 1, MoveTo, "LAXIA" , 25.17f, -1418.60f, 10.83f  , 0.1f , 0.15f )
	Wait(15)

	// カットX ----------------------------------------------------------------------------------------

	//　　ラクシャとアリスンが集会所から去っていく。
	CrossFade(FADE_NORMAL)
	StopThread(1)

	Turn("ADOL" , 120.56f , 360.00f)

	SetChrPos("LAXIA",27.09f, -1418.09f, 10.83f )
	Turn("LAXIA" , -96.62f , 360.00f)

	SetChrPos("Alison",25.93f, -1418.70f, 10.83f  )
	Turn("Alison" , -108.90f , 360.00f)

	MoveCameraAt( 0 , 28.287f , -1420.117f , 12.143f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.632f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.899f , 0 )	// 基本仰角
	RotateCamera( 0 , 100.555f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ExecuteCmd( 1, MoveTo, "LAXIA" , 31.06f, -1416.41f, 10.83f , 0.1f , 0.18f )
	Wait(10)
	ExecuteCmd( 2, MoveTo, "Alison" , 31.06f, -1416.41f, 10.83f , 0.1f , 0.18f )
	ChangeAnimation( "Alison", "ANI_WALK", -1, 1 )	// 待機

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 28.187f , -1419.575f , 12.143f , 150 )		// 注視点

	Wait(90)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	StopThread(1000)
	Wait(10)

	//	テキスト＆ファンファーレ
//	PlaySE(37 , 100 , 0 ,  0, 0, 1.0f, 0)
	PlaySE(SE_PARTYIN, 100, 0, 0, 0, 1.0f, 0)	//仲間に加わる
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cアリスンが漂流村に参加することになった！#10W" 
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　ここで[漂流者救出]のチュートリアル画像を表示。
	//　　（１周目のみ）help_a26：漂流者の救出

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		Portrait_Close(1)
		Portrait_Close(2)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		Portrait_Close(0)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================

	//　　チュートリアル終了後、下記イベントへ接続する。
	//　　画面フェードインして、集会所で向き合っている
	//　　アドル、ドギ、バルバロス船長。

	Wait(20)
	StopThread(1000)

	//画面外へ
	SetChrPos("LAXIA", -100000.00f, 00.00f, 00.00f)
	SetChrPos("SAHAD", -100000.00f, 00.00f, 00.00f)
	SetChrPos("Alison", -100000.00f, 00.00f, 00.00f)

	SetChrPos("ADOL", 25.72f, -1423.99f, 10.83f)
	Turn("ADOL", -70.71f, 360.0f)

	SetChrPos("Dogi", 26.13f, -1425.46f, 10.83f)
	Turn("Dogi", -159.50f, 360.0f)
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )	// 待機

	SetChrPos("Barbaross", 27.36f, -1424.44f, 10.83f)
	Turn("Barbaross", 82.80f, 360.0f)

	LookChr("ADOL" , "Dogi")
	LookChr("Dogi" , "ADOL")
	LookReset("Barbaross")
	
	//MoveCameraAt( 0 , 26.328f , -1424.658f , 12.966f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.224f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -3.649f , 0 )	// 基本仰角
	//RotateCamera( 0 , 225.664f , 0 )				// 角度
	//ChangeCameraPers( 0 , 35.00f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//// カメラ移動
	//ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.328f , -1424.658f , 12.586f , 100 )
	//ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.224f , 100 )
	//ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.934f , 100 )
	//ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 225.662f , 100 )

	MoveCameraAt( 0 , 26.328f , -1424.658f , 12.586f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.224f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.934f , 0 )	// 基本仰角
	RotateCamera( 0 , 225.662f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	
	SetEnvSEPlayState(1201001, 1)
	SetEnvSEPlayState(1201002, 1)
	SetEnvSEPlayState(1201003, 1)
	SetEnvSEPlayState(1201101, 1)
	SetEnvSEPlayState(1201201, 1)

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

//	Wait(30)
	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000e#080mへへ……ここも少しは"
		"賑やかになりそうだな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayVoice(Y8V_3731,"Barbaross",100)	//ふむ…（平常のテンション。あらゆる場面で使用）

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#011e#000mフム……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "Barbaross")
	LookChr("ADOL", "Barbaross")

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000e#000mまた何か考え事ですかい？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "Dogi")
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#012e#000mいや、ここだけの話に"
		"とどめてほしいのだが……\p"
		"最近、周囲の獣たちが"
		"妙に殺気立っている気がしてな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	//	"Dogi"
	TalkPopup("Dogi",0,0,0,0,0) {
		"#000e#000m獣が……？"
		"そいつは穏やかじゃないですなあ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Barbaross"
	TalkPopup("Barbaross",0,0,0,0,0) {
		"#011e#000m今すぐどうこうなるわけでは"
		"なさそうだが……\p"
		"#012e#000m漂流者たちの安全を確保するため、"
		"村の防衛も考えたほうがよさそうだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000e#000mなるほど……言ってくれりゃあ、"
		"何でも力になりますぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#011e#000mうむ、すまない……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	//　　ドギ、不意にアドルのほうへ向き直る。

	// クロスフェード
	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , 26.428f , -1424.617f , 12.506f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.984f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.518f , 0 )	// 基本仰角
	RotateCamera( 0 , 44.612f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
		
	LookReset("Dogi")
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )	// 待機
	Turn("Dogi", 161.42f, 7.0f)
	LookChr("Barbaross", "ADOL")

	// フェード待ち
	Wait(FADE_CROSS)
	
	LookChr("ADOL", "Dogi")
	
	// ドギ
	TalkPopup("Dogi",0,1,0,0,0) {
		"#000e#000mアドルたちは引き続き、"
		"捜索と地図作成を続けるんだろ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	// ドギ
	TalkPopup("Dogi",0,1,0,0,0) {
		"次は一体どこへ向かうつもりなんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Barbaross"
	TalkPopup("Barbaross",0,1,0,0,0) {
		"#000e#000m地図を見せてもらった限り、"
		"この辺り一帯は一通り調べたようだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "Barbaross")
	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	//	"Dogi"
	TalkPopup("Dogi",0,1,0,0,0){
		"#000e#000mそうなると、少しずつ"
		"遠出することになっていくワケか。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Dogi", "ADOL")
	
	//	"Dogi"
	TalkPopup("Dogi",0,1,0,0,0){
		"ま、パロのヤツもいるし、"
		"お前さんなら何とかなるだろ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("Barbaross", 1, 25)	// キャラ, うなずき回数, 速さ
	LookChr("ADOL", "Barbaross")

	//	"Barbaross"
	TalkPopup("Barbaross",0,1,0,0,0) {
		"#000e#000mうむ、まだ行っていない場所を"
		"地図で確認しつつ進むといいだろう。\p"
		"それでは二人とも、頼んだぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　操作許可。
	//　　このタイミングで村の外へ出ようとしたら
	//　　下記のメッセージ出してストッパー。

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S090_ED")
}

function "EV_M02S090_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

//	//モンスターを復帰
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Barbaross")
	CallFunc("system:reset_chrmot_Dogi")
	LookReset("Dogi")
	LookReset("Barbaross")
	LookReset("SAHAD")

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//自動送り許可
	SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//フラグ処理
	CallFunc("rng:0406")
	//SetFlag( GF_02MP1201_JOIN_ALISON , 1 ) // Rescued Alison
    //SetFlag( GF_NPC_2A_03_JOIN_ALISON , 1)
	//SetFlag( GF_HELP_A26, 1 ) // Tutorial: Rescue the castaways
	SetFlag(GF_TBOX_DUMMY059,1)

			//アリスン合流	名声値+2

	//マーカーセット
	DelMapMarker( SMI_SYMBOL,PAGE_F005,MARKER_EV_M02S080, 0, 0)

//	SetMapMarker( SMI_SYMBOL,PAGE_F001, MARKER_EV_M02S095　, -24.17f, -1375.45f, 12.39f ,129.30f, -24.17f, -1375.45f,0, MN_T_VILLAGE_MP1201,0)	//アリスン
	SetMapMarker( SMI_SYMBOL,PAGE_F001, REMOVE_OBJ_1111, 139.51f,-1190.52f,2.79f, 139.51f,-1190.52f ,REMOVE_OBJ_1111_MAIN, MN_F_SOUTHWEST_PLANE_MP1111,0)	//障害物撤去
//	SetMapMarker( SMI_SYMBOL,PAGE_F001, MARKER_EV_M02S100　, -201.62f,-881.93f,40.71f, -201.62f,-881.93f ,MARKER_EV_M02S100, MN_F_SOUTHWEST_PLANE_MP1105,0)	//野営地

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init")

	//イベント後の再配置位置
	SetChrPos("LEADER",31.14f, -1418.29f, 10.83f )
	Turn("LEADER",48.16f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//アドルお一人様制御
	//SetFlag(GF_PARTY_NONE, 0)		//パーティ全員行動解除
	//FixPlayerChr(PARTY_ADOL)	// アドルおひとり様モードON

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//#28570修正
	PlayBGM(BGM_1201, 0)
	SetEnvSEPlayState(1201001, 1)
	SetEnvSEPlayState(1201002, 1)
	SetEnvSEPlayState(1201003, 1)
	SetEnvSEPlayState(1201101, 1)
	SetEnvSEPlayState(1201201, 1)

	//カメラ位置復帰or初期位置設定
	MoveCameraAt( 0 , 31.140f , -1418.290f , 12.683f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 131.172f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")
	
	ResetStopFlag(STOPFLAG_EVENT)
	
	FadeIn(FADE_BLACK,FADE_FAST)

	//WaitFade()
//終了処理ここまで----------------------------------------------------
}

function "alison_eye"
{

	Wait(50)
	
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	Wait(30)

	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	LookSpd("Alison" , 0.1 ,0.1 ,0.1 )
	Look("Alison" , -22 , 5 )
}


function "EV_M02S095"		//アリスンが仕立屋を始める
{
//開始処理ここから----------------------------------------------------

	CallFunc("system:solo_event_begin")

	LoadChr("Alison")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	ClearDebris()
	ResetMotion( "ALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")

	//配置用ラクシャ飛ばす
	SetChrPos("Laxia", -100000.001f, 0.00f, 0.00f)

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrPos("ADOL", -22.71f, -1375.83f, 12.39f)
	Turn("ADOL", 116.39f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	LookReset("ADOL")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrPos("LAXIA", -23.81f, -1374.90f, 12.39f)
	Turn("LAXIA", -58.86f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	LookReset("LAXIA")

	SetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI )
	SetChrPos("Alison", -24.02f, -1375.88f, 12.39f)
	Turn("Alison", -89.69f, 360.0f)
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	LookReset("Alison")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_INVISIBLE )

	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a59.itp" )	// help_a59：アクセサリの作成
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)

	// 初期カメラ
//	MoveCameraAt( 0 , -23.463f , -1375.742f , 14.293f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 1.684f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -0.405f , 0 )	// 基本仰角
//	RotateCamera( 0 , 39.532f , 0 )				// 角度
//	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	MoveCameraAt( 0 , -23.433f , -1375.620f , 13.853f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.885f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.885f , 0 )	// 基本仰角
	RotateCamera( 0 , 27.746f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 50.000 ,1.000 ,0.550 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetSkipScript(mp1201:EV_M02S095_ED)

	//開始処理ここまで-----------------------------------------------

	//　　女性用休息室にいるアリスンかラクシャに
	//　　話しかけるとイベント開始。

	// カット1 -----------------------------------------------------------------------------------------

	// 位置調整・表情・モーション
	LookChr("Alison", "ADOL")
	LookChr("LAXIA", "ADOL")
	LookChr("ADOL", "Alison")
	Wait(20)
	
	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -23.433f , -1375.620f , 13.853f , 70 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.154f , 60 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.887f , 70 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 27.787f , 70 )

	//MoveCameraAt( 0 , -23.433f , -1375.620f , 13.853f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.154f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 1.886f , 0 )	// 基本仰角
	//RotateCamera( 0 , 27.766f , 0 )				// 角度
	//ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	// アリスン
	TalkPopup("Alison", 0, 2, 0, 0, 0) {
		"#000e#000mアドルさん……"
		"様子を見に来てくれたのですか？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Alison", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	
	// アリスン
	TalkPopup("Alison", 0, 2, 0, 0, 0) {
		"#010e#000mここで休ませて頂いたら"
		"少し気分も良くなってきました。\p"
		"#000e#000m本当にありがとうございます。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000m今ちょうど、アリスンさんの"
		"相談に乗っていたところです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL", "LAXIA")
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ラクシャがかい？")
	MenuAdd(2,"何か困ったことでも？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// （アドル）手振り
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_S", -1, 1 )	// 両手 前組み

	//─────────────────────────
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		//	⇒ラクシャがかい？
		
		// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#050e#000mど、どういう意味ですか？"
			"わたくしだって話を聞くことくらい……"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	} else if (FLAG[TF_MENU_SELECT] == 2 ) {

		//	⇒何か困ったことでも？
		
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#050e#000mあ、いえ……"
			"そういうわけではないのですが。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//─────────────────────────

	ChangeAnimation( "Alison", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	LookChr("ADOL", "Alison")

	// アリスン
	TalkPopup("Alison", 0, 2, 0, 0, 0) {
		"#000e#000mどうしたら私がここの"
		"お役に立てるかと思いまして……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -23.326f , -1375.415f , 13.813f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.288f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.611f , 0 )	// 基本仰角
	RotateCamera( 0 , 128.529f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -22.83f, -1375.61f, 12.39f)
	Turn("ADOL", 102.18f, 360.0f)
	Turn("Alison", -100.35f, 360.0f)
	Turn("LAXIA", -16.22f, 360.0f)
	LookChr("LAXIA", "Alison")
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機

	// フェード待ち
	Wait(FADE_CROSS)
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mアリスンさんは確かご主人と"
		"仕立屋を営んでいたそうですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Alison", "LAXIA")
	Wait(10)
	HeadYes("Alison" , 1 , 25 )

	// アリスン
	TalkPopup("Alison", 0, 2, 0, 0, 0) {
		"#000e#000mええ、私は主人の手伝いで"
		"簡単な裁縫をするくらいでしたけど。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アリスンに「…」エモーション表示。
	EmotionEx("Alison", 0.05f, "EMO_3DOT", 27, 5, 1, 1, 0.9f)	// 「…」
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	LookReset("Alison")
	Look("Alison", 0.0f, -10.0f)	// うつむく
	Wait(52)
	ChangeAnimation( "Alison", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	
	// アリスン
	TalkPopup("Alison", 0, 2, 0, 0, 0) {
		"#000mでも、私がお力になれるとしたら"
		"やっぱりそれでしょうか……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Look("Alison", 0.0f, 0.0f)	// うつむく
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	LookChr("Alison", "LAXIA")
	ChangeAnimation( "Alison", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て
	
	// アリスン
	TalkPopup("Alison", 0, 2, 0, 0, 0) {
		"あの、お二人とも……\p"
		"どこか場所をお借りして、"
		"裁縫をやってみたいのですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	//　　一旦、画面暗転してメッセージ表示。
	
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	// テキスト（色替え）
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
		"#7Cアドルたちが相談をもちかけると、"
		"#7Cバルバロスは大いに歓迎とのことであった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// テキスト（色替え）
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
		"#7C裁縫の道具とアリスンの作業場を"
		"#7Cドギに用意してもらうことになった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット3 -----------------------------------------------------------------------------------------

	//　　カメラ切り替わって仕立屋予定地。
	//　　アリスンが定位置に立って、
	//　　アドル＆ラクシャと向かい合った状態。

	//仕立屋Lv1ノードON
	MapAnime( "tailor" , "Lv1" )

	// カメラ
	MoveCameraAt( 0 , -1.337f , -1379.636f , 13.783f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.455f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.404f , 0 )	// 基本仰角
	RotateCamera( 0 , 41.673f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("LAXIA", -0.01f, -1382.72f, 11.57f)
	Turn("LAXIA", -135.02f, 360.0f)
	SetChrPos("ADOL", -0.60f, -1381.78f, 11.57f)
	Turn("ADOL", -99.48f, 360.0f)
	SetChrPos("Alison", 1.25f, -1381.34f, 11.57f)
	Turn("Alison", 52.43f, 360.0f)
	LookReset("Alison")
	LookChr("LAXIA", "Alison")
	LookChr("ADOL", "Alison")
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "Alison", "ANI_WAIT", -1, 1 )	// 待機

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,-1.337f , -1379.636f , 13.423f , 65 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.455f , 65 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.404f , 65 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 41.673f , 65 )

	SetEnvSEPlayState(1202001, 1)	//
	SetEnvSEPlayState(1202201, 1)	//
	SetEnvSEPlayState(1202202, 1)	//
	SetEnvSEPlayState(1202203, 1)	//

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,0.340f , -1381.619f , 12.923f , 85 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.455f , 85 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 6.773f , 85 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 21.320f, 85 )

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	ChangeAnimation( "Alison", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// アリスン
	TalkPopup("Alison", 0, 2, 0, 0, 0) {
		"#000e#000mこれでよし、と……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mだいたい準備できたようですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Alison", "LAXIA")
	ChangeAnimation( "Alison", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// アリスン
	TalkPopup("Alison", 0, 2, 0, 0, 0) {
		"#050e#000mえ、ええ、すみません。"
		"何だか大事になってしまって……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	WaitAnimation2("Alison", -1, 1, "ANI_EV_RYOTEKOSI_E", 0)
	ChangeAnimation( "Alison", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	
	// アリスン
	TalkPopup("Alison", 0, 2, 0, 0, 0) {
		"#011e#000mでも、これで自分の居場所が"
		"できたような気もします。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	WaitAnimation2("Alison", -1, 1, "ANI_EV_TEMUNE_S", 0)
	ChangeAnimation( "Alison", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て
	LookChr("Alison", "ADOL")
	
	// アリスン
	TalkPopup("Alison", 0, 2, 0, 0, 0) {
		"#012e#080mアドルさん、繕い物があったら、"
		"ぜひ私に任せてくださいね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	// フェードアウト
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　画面フェードアウトさせて、暗転のままメッセージ表示。

	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル

	// システムメッセージ
	TalkPopup(UNDEF, 0, 5, 0, 0, 0) {
		"#8S"
		"#-1W#4Cアリスンが《仕立て屋》を始めた！#10W" 
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示
			PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		Portrait_Close(1)
		Portrait_Close(2)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		Portrait_Close(0)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================

	Wait(10)

	// ナレーション
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0){
		"#7Cアリスンには素材から"
		"#7C様々なアイテムを作ってもらえます。\p"
		"#7Cここでしか手に入らない物もあるため、"
		"#7C定期的に顔を出してみましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　画面戻して操作許可。


//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S095_ED")

}

function "EV_M02S095_ED"
{
	SetSkipScript("")
	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_Alison")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//エフェクトの停止
	StopEffect(-1,ALL,1)

	//ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)
	
	//フラグ処理
	SetFlag( SF_SETRAMSAVE , 1)
	SetFlag( GF_02MP1202_OPEN_DRESS , 1 )			// アリスンが仕立屋を始める
	SetFlag( GF_CAMP_TAILOR_LV, 1 )		// 漂流村の発展設定：仕立て屋LV1
	SetFlag(GF_HELP_A59,1)			//チュートリアル：アクセサリの作成の

	SetDiaryShopFlag(SHOP_ID_DRESS,1)				// "アリスンの仕立て屋"
	SetDiaryShopFlag(SHOP_ID_DRESS_E,0)				// "エド＆アリスンの仕立て屋"

	//SetFlag( SF_WARP_DISABLED, 0 )		//ワープ使用不可解除
	//マーカーセット
	DelMapMarker( SMI_EVENTPT_MAIN,PAGE_F001,MARKER_EV_M02S095, 0, 0)

	//お一人様モード
	//SetFlag( GF_PARTY_NONE , 0)		//パーティ全員行動OFF
	//FixPlayerChr(PARTY_ADOL)		// アドルおひとり様モード

	CallFunc("mp1201:init" )

	SetChrPos("LEADER",-3.22f,-1386.89f,11.57f)
	Turn("LEADER",25.39f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	MoveCameraAt( 0 , -3.223f , -1386.895f , 12.956f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 18.578f , 0 )	// 基本仰角
	RotateCamera( 0 , -22.440f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetEnvSEPlayState(1202001, 1)	//
	SetEnvSEPlayState(1202201, 1)	//
	SetEnvSEPlayState(1202202, 1)	//
	SetEnvSEPlayState(1202203, 1)	//

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}



//──────────────────────────────
//▼漂流村が獣に包囲されているのを知る(mp1201)
//──────────────────────────────
function "EV_M02S150"		//獣の包囲を知らされる
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定	
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 43.89f, -1410.84f, 10.75f)
	Turn("ADOL", 55.00f, 360.0f)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_MAJI, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("ADOL", "Dogi")

	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 45.92f, -1409.17f, 10.85f)
	Turn("LAXIA", 60.33f, 360.0f)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_ANGER, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("LAXIA", "Dogi")

	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 46.27f, -1411.32f, 10.81f)
	Turn("SAHAD", 58.93f, 360.0f)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("SAHAD", "Dogi")

	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 32.98f, -1418.13f, 10.83f)
	Turn("Dogi", -128.87f, 360.0f)
	ChangeAnimation( "Dogi" , "ANI_EV_UDEGUMI", -1 , 1 )
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("Dogi", "ADOL")

	MoveCameraAt(0, 47.639f, -1409.053f, 11.746f, 0)	// 注視点
	ChangeCameraDistance(0, 2.350f, 0)		// 基本距離
	ChangeCameraElevation(0, -12.287f, 0)	// 基本仰角
	RotateCamera(0, 120.734f, 0)				// 角度
	ChangeCameraPers(0, 43.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_COS, 40.422f, -1413.352f, 11.746f, 90)		// 注視点
	//ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_COS, 42.000f, -1412.407f, 11.845f, 100)		// 注視点
	//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_COS , 5.000f , 130 )		// 基本距離
	//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_COS , 25.397 , 130 )		// 基本仰角
	//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_COS , 287.767f , 130 )		// 角度

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000, 0.000, 0.550, 0.520)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S150_ED")

	//開始処理ここまで-----------------------------------------------

	SetMotSpd("ADOL" , -1 , 0.9f)
	SetMotSpd("SAHAD" , -1 , 0.8f)
	SetMotSpd("LAXIA" , -1 , 0.86f)

	ExecuteCmd(1, MoveTo, "ADOL", 34.68f, -1416.96f, 10.83f, 0.1f, 0.47f)
	ExecuteCmd(2, MoveTo, "LAXIA", 35.17f, -1416.24f, 10.83f, 0.1f, 0.46f)
	ExecuteCmd(3, MoveTo, "SAHAD", 35.96f, -1417.49f, 10.83f, 0.1f, 0.47f)

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	Wait(40)

	//──────────────────────────────
	//▼漂流村が獣に包囲されているのを知る(mp1201)
	//──────────────────────────────
	//　　画面フェードインして漂流村入り口から
	//　　走って入ってくるアドル、ラクシャ、サハド。
	//　　奥からドギが出てきて出迎える。

	CrossFade(FADE_FAST)
	StopThread(1000)
	StopThread(1)
	StopThread(2)
	StopThread(3)

	SetMotSpd("ADOL" , -1 , 1.0f)
	SetMotSpd("SAHAD" , -1 , 1.0f)
	SetMotSpd("LAXIA" , -1 , 1.0f)

	MoveCameraAt( 0 , 33.786f , -1417.559f , 12.440f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.651f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.334f , 0 )	// 基本仰角
	RotateCamera( 0 , 146.133f , 0 )				// 角度
	ChangeCameraPers( 0 , 44.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.1f , 0 )				// ロール回転

	Wait(30)

	EmotionEx("Dogi", 0.00f,EMO_EX,0,5,1,1,1.0f )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	ChangeAnimation( "Dogi" , "ANI_EV_UDEGUMI_E", -1 , 1 )

	ExecuteCmd(1, MoveTo, "ADOL", 34.68f, -1416.96f, 10.83f, 0.1f, 0.48f)
	ExecuteCmd(2, MoveTo, "LAXIA", 35.17f, -1416.24f, 10.83f, 0.1f, 0.50f)
	ExecuteCmd(3, MoveTo, "SAHAD", 35.96f, -1417.49f, 10.83f, 0.1f, 0.50f)

	ExecuteCmd( 1001,MoveCameraAt, INTERPOLATE_SPHERE , 34.226f , -1417.527f , 12.242f, 100 )	// 注視点
	ExecuteCmd( 1002,ChangeCameraDistance, INTERPOLATE_SPHERE , 3.051f , 100 )				// 基本距離
	ExecuteCmd( 1003,ChangeCameraElevation, INTERPOLATE_SPHERE , 13.033f , 100 )				// 基本仰角
	ExecuteCmd( 1004,RotateCamera, INTERPOLATE_SPHERE , 269.127f , 100 )				// 角度
	ExecuteCmd( 1005,RollCamera, INTERPOLATE_SPHERE , 4.5f , 100 )				// ロール回転

	//MoveCameraAt( 0 , 34.226f , -1417.527f , 12.242f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.051f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 13.033f , 0 )	// 基本仰角
	//RotateCamera( 0 , 269.127f , 0 )				// 角度
	//ChangeCameraPers( 0 , 44.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 4.5f , 0 )				// ロール回転

	WaitThread(1)
	Turn("ADOL",46.58f,360.0f)
	WaitThread(2)
	Turn("LAXIA",60.33f,360.0f)
	WaitThread(3)
	Turn("SAHAD",71.30f,360.0f)

	Wait(20)

	ChangeAnimation( "Dogi" , "ANI_EV_RYOTEBURI", -1 , 1 )

	FadeBGM(70,10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	TalkMes("Dogi", "#3659V#000e#000mアドル！",
	"よかった、戻ってきてくれたか。", "")
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("LAXIA", "ANI_EV_TEBURI", -1, 1)
	//	"LAXIA"
	TalkMes("LAXIA", "#0644V#000m一体何があったのです？", "", "")
	WaitPrompt()
	WaitCloseWindow()

	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	ExecuteCmd( 1001,MoveCameraAt, INTERPOLATE_SPHERE , 34.608f , -1417.574f , 12.038f, 450 )	// 注視点
	ExecuteCmd( 1002,ChangeCameraDistance, INTERPOLATE_SPHERE , 4.161f , 450 )				// 基本距離
	ExecuteCmd( 1003,ChangeCameraElevation, INTERPOLATE_SPHERE , 15.309f , 450 )				// 基本仰角
	ExecuteCmd( 1004,RotateCamera, INTERPOLATE_SPHERE , 162.345f , 450 )				// 角度
	ExecuteCmd( 1005,RollCamera, INTERPOLATE_SPHERE , 4.9f , 450 )				// ロール回転

	//MoveCameraAt( 0 , 34.608f , -1417.574f , 12.038f , 120 )	// 注視点
	//ChangeCameraDistance( 0 , 4.161f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 15.309f , 0 )	// 基本仰角
	//RotateCamera( 0 , 162.345f , 0 )				// 角度
	//ChangeCameraPers( 0 , 44.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 4.9f , 0 )				// ロール回転

	HeadYes("Dogi" ,1, 25) 

	//	"Dogi"
	TalkMes("Dogi", "#3660V#011e#000mああ、それがな。",
	"落ち着いて聞いて欲しいんだが……", "")
	WaitPrompt()

	ChangeAnimation( "Dogi" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	TalkMes("Dogi", "#3661V#012e#000mどうやら、この漂流村が",
	"獣の群れに取り囲まれたみてぇだ。", "")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	//　　アドル、ラクシャ、サハドに「！」エモーション。
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SUP_S, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SAD_S, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SUP_S, 1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_OPEN_S,1)

	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

	EmotionEx("ADOL", 0.05f, 2, 5, 5, 1, 1, 1.0f)	// ！
	EmotionEx("LAXIA", 0.05f, 2, 5, 5, 1, 1, 1.0f)	// ！
	EmotionEx("SAHAD", 0.05f, 2, 5, 5, 1, 1, 1.15f)	// ！

	Wait(60)

	CrossFade(FADE_CROSS)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	SetChrPos("ADOL",34.64f,-1417.03f,10.83f)
	Turn("ADOL",49.35f,360.0f)

	MoveCameraAt( 0 , 35.721f , -1416.890f , 12.367f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.280f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.407f , 0 )	// 基本仰角
	RotateCamera( 0 , 245.086f , 0 )				// 角度
	ChangeCameraPers( 0 , 31.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 2.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd( 1001,MoveCameraAt, INTERPOLATE_SPHERE , 35.721f , -1416.890f , 12.367f, 80 )	// 注視点
	ExecuteCmd( 1002,ChangeCameraDistance, INTERPOLATE_SPHERE ,  2.550f , 80 )				// 基本距離
	ExecuteCmd( 1003,ChangeCameraElevation, INTERPOLATE_SPHERE ,-1.408f , 80 )				// 基本仰角
	ExecuteCmd( 1004,RotateCamera, INTERPOLATE_SPHERE , 245.105f , 80 )				// 角度
//	ExecuteCmd( 1005,RollCamera, INTERPOLATE_SPHERE , -3.7f , 80 )				// ロール回転

	//MoveCameraAt( 0 , 35.721f , -1416.890f , 12.367f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.550f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -1.408f , 0 )	// 基本仰角
	//RotateCamera( 0 , 245.105f , 0 )				// 角度
	//ChangeCameraPers( 0 , 31.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 2.8f , 0 )				// ロール回転

	Wait(FADE_CROSS)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	ChangeAnimation("LAXIA", "ANI_EV_SIAN_S", -1, 1)
	TalkMes("LAXIA", "#0645V#130e#000m獣の群れ……", "", "")
	WaitPrompt()
	WaitCloseWindow()

	LookSpd("SAHAD",0.08f,0.08f,0.08f)
	Look("SAHAD", 25 , -5 )
	//	"SAHAD"
	TalkMes("SAHAD", "#1609V#010l#050e#000mパロが言ってた通りってことか……", "", "")
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	CrossFade(FADE_CROSS)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	MoveCameraAt( 0 , 33.087f , -1418.168f , 12.391f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.181f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.960f , 0 )	// 基本仰角
	RotateCamera( 0 , 159.291f , 0 )				// 角度
	ChangeCameraPers( 0 , 29.800f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.1f , 0 )				// ロール回転

	ExecuteCmd( 1001,MoveCameraAt, INTERPOLATE_SPHERE , 33.087f , -1418.168f , 12.540f, 220 )	// 注視点
	ExecuteCmd( 1002,ChangeCameraDistance, INTERPOLATE_SPHERE , 2.192f , 220 )				// 基本距離
	ExecuteCmd( 1003,ChangeCameraElevation, INTERPOLATE_SPHERE , 2.958f , 220 )				// 基本仰角
	ExecuteCmd( 1004,RotateCamera, INTERPOLATE_SPHERE , 159.306f, 220 )				// 角度
//	ExecuteCmd( 1005,RollCamera, INTERPOLATE_SPHERE , -1.1f , 220 )				// ロール回転

	//MoveCameraAt( 0 , 33.087f , -1418.168f , 12.540f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.192f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 2.958f , 0 )	// 基本仰角
	//RotateCamera( 0 , 159.306f , 0 )				// 角度
	//ChangeCameraPers( 0 , 29.800f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -7.5f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	//	"Dogi"
	TalkMes("Dogi", "#3662V#011e#000m最近どうも獣たちが",
	"殺気立っていると思っちゃいたが……", "")
	WaitPrompt()

	ChangeAnimation( "Dogi" , "ANI_EV_UDEGUMI_TEBURI", -1 , 1 )
	TalkMes("Dogi", "#3663V#012e#000mとにかく詳しいことは",
	"バルバロスの旦那と話すとしようぜ。", "")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	Wait(20)

	FadeOut(FADE_BLACK,FADE_SLOW)
	WaitFade()

	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

//終了処理ここから----------------------------------------------------

	CallFunc("mp1201:EV_M02S150_ED")
}

function "EV_M02S150_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Dogi")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	FadeBGM(100,30)

	EventCue("mp1201:EV_M02S151")

	ResetStopFlag(STOPFLAG_EVENTIMPOSE)


//終了処理ここまで----------------------------------------------------
}

function "EV_M02S151"		//迎撃戦を行うことになる
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,0)
	WaitFade()
	
	LoadChr("Barbaross")
	LoadChr("Dogi")
	LoadChr("Alison")
	LoadChr("Paro")
	LoadChr("Curran")
	LoadChr("Kiergaard")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定	
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 26.97f, -1423.76f, 10.83f)
	Turn("ADOL", -176.58f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("ADOL" , "Dogi")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 28.21f, -1423.42f, 10.83f)
	Turn("LAXIA", 125.34f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("LAXIA" , "Dogi")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 28.71f, -1422.29f, 10.83f)
	Turn("SAHAD", 88.18f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("SAHAD" , "Dogi")

	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 25.14f, -1421.56f, 10.83f)
	Turn("Dogi", -87.22f, 360.0f)
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Dogi" , "ADOL")
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)

	SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI )
	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Barbaross", 25.54f, -1422.99f, 10.83f)
	Turn("Barbaross", -114.47f, 360.0f)
	ChangeAnimation( "Barbaross" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Barbaross" , "LAXIA")

	SetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI )
	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison", 26.06f, -1420.37f, 10.83f)
	Turn("Alison", -23.57f, 360.0f)
	ChangeAnimation( "Alison" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Alison" , "Barbaross")
	
	SetChrInfoFlag( "Kiergaard" , INFOFLAG_NOCHRATARI )
	SetChrWork("Kiergaard", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kiergaard", 27.50f, -1420.16f, 10.83f)
	Turn("Kiergaard", 19.07f, 360.0f)
	ChangeAnimation( "Kiergaard" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Kiergaard" , "Barbaross")
	
	SetChrInfoFlag( "Curran" , INFOFLAG_NOCHRATARI )
	SetChrWork("Curran", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Curran",29.10f,-1421.22f,10.83f)
	ChangeAnimation( "Curran" , "ANI_WAIT", -1 , 1 )
	Turn("Curran",-175.06f,360.0f)
	ChangeSubAnimation("Curran",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_EXT1,ANI_E_LOOKC,1)
	Look("Curran",-25 , 0 )

//	SetChrInfoFlag("Paro", INFOFLAG_NOCHRATARI)
//	SetChrPos("Paro", -4.48f, -1473.37f, 26.22f)
//	Turn("Paro", 159.84f, 7.0f)
//	SetParent("Paro", "Barbaross", "Null_paro")
//	ChangeAnimation("Paro", "ANI_WAIT5", -1, 1)
//	ChangeSubAnimation("Paro", SUBMOT_EYE, ANI_E_WAIT, 1)
//	ChangeSubAnimation("Paro", SUBMOT_MOUTH, ANI_M_WAIT, 1)
//	LookReset("Paro")

	SetChrPos("Laxia",-100000.00f, 00.00f, 00.00f )
	SetChrPos("Sahad",-100000.00f, 00.00f, 00.00f )

MoveCameraAt( 0 , 27.455f , -1421.868f , 12.312f , 0 )	// 注視点
ChangeCameraDistance( 0 , 4.308f , 0 )		// 基本距離
ChangeCameraElevation( 0 , 10.783f , 0 )	// 基本仰角
RotateCamera( 0 , 58.732f , 0 )				// 角度
ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
RollCamera( 0 , 0.0f , 0 )				// ロール回転
// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000, 0.000, 0.150, 0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S151_ED")

//開始処理ここまで-----------------------------------------------

	//　　集会所の焚火周りに集められている漂流者たち。
	//　　時計回りにバルバロス、ドギ、アリスン、キルゴール、
	//　　カーラン、サハド、ラクシャ、アドル。
	//　　(カーラン卿は我関せずと背中を向けるような配置？)

	// カット1 ----------------------------------------------------------------------------------------

	// 位置調整・表情・モーション
	ChangeSubAnimation("Curran", SUBMOT_EYE, ANI_E_CLOSE, 1)	// 目
	ChangeAnimation( "Curran", "ANI_EV_UDEGUMI", -1, 1 )	// 腕組

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.267f , -1422.179f , 12.312f , 80 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.489f , 80 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.768f , 80 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 50.886f , 80 )

	//MoveCameraAt( 0 , 27.267f , -1422.179f , 12.312f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 4.489f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 2.768f , 0 )	// 基本仰角
	//RotateCamera( 0 , 50.886f , 0 )				// 角度
	//ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	Wait(20)
	
	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_NORMAL)

	// カメラ
	MoveCameraAt( 0 , 26.358f , -1422.413f , 12.432f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.569f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.487f , 0 )	// 基本仰角
	RotateCamera( 0 , 268.793f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("Barbaross", 25.53f, -1423.53f, 10.83f)
	Turn("Barbaross", -132.24f, 360.0f)

	Wait(30)

	// カメラ移動
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 278.256f , 450 )
	
	// フェード待ち
	Wait(FADE_NORMAL)

//	// フェードイン
//	FadeIn(FADE_BLACK, FADE_NORMAL)
//	WaitFade()
//
//	Wait(20)

	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000m……囲んでいる獣たちは"
		"どれくらいいるのでしょうか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	//	"Dogi"
	TalkPopup("Dogi",0,1,0,0,0) {
		"#000e#000m正確な数は分からねえが、"
		"少しずつ数を増やしているようだ。\p"
		"こういうこともあるかと思って、"
		"柵を作ったりと準備はしてきたが……\p"
		"まさか本当に役立つ日が来るとはなあ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_GAKKARI_S", -1, 1 )	// がっかり

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#061e#000mトホホ、何てこった……"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2("SAHAD", -1, 1, "ANI_EV_GAKKARI_S", 0)
	ChangeAnimation( "SAHAD", "ANI_EV_GAKKARI_E", -1, 1 )	// がっかり

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#062e#000m縄張りを荒らした人間たちに"
		"腹を立ててるってところか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "SAHAD")
	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000mそれは……ありえる話ですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(20)

	LookReset("Curran")

	//	"Curran"
	TalkPopup("Curran",0,2,0,0,0) {
		"#000e#000mフン……"
	}
	WaitPrompt()
	WaitCloseWindow()


	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , 26.047f , -1421.276f , 12.392f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.290f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.340f , 0 )	// 基本仰角
	RotateCamera( 0 , 1.618f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("Barbaross", 25.54f, -1422.99f, 10.83f)
	Turn("Barbaross", -114.47f, 360.0f)

	// 非表示・再表示
	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 非表示
	MapHide( "fire_alpha" , 0 )		// 焚き火OFF

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Alison", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	//	"Alison"
	TalkPopup("Alison",0,2,0,0,0) {
		"#000e#000mど、どうしたらいいのでしょう……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "Alison")

	//	"Barbaross"
	TalkPopup("Barbaross",0,1,0,0,0) {
		"#000e#000mここは周囲を岩壁に囲まれていて、"
		"身を守るにはうってつけの場所です。\p"
		"外へ逃げ出すのは"
		"逆に危険だと考えていいでしょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	HeadYes("Kiergaard" , 1 , 25 )
	ChangeSubAnimation("Kiergaard", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Kiergaard", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	//	"Kiergaard"
	TalkPopup("Kiergaard",0,2,0,0,0) {
		"#000mなるほど、説得力がありますね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 26.780f , -1422.068f , 12.269f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.250f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.926f , 0 )	// 基本仰角
	RotateCamera( 0 , 55.898f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 非表示・再表示
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 再表示
	MapHide( "fire_alpha" , 1 )		// 焚き火ON

	LookReset("Dogi")
	LookChr("LAXIA", "Barbaross")
	LookChr("SAHAD", "Barbaross")

	// フェード待ち
	Wait(FADE_CROSS)
	
	ChangeAnimation( "SAHAD", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	//	"SAHAD"
	TalkPopup("SAHAD",0,1,0,0,0) {
		"#000e#000mそ、そうなると、"
		"結局どうすればいいんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "SAHAD")

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#000e#000m今後のことを考えても、"
		"ここを守るべきだと考えています。\p"
		"#011e#000mそこで……\p"
		"#012e#000m皆で獣たちを迎え撃とうと思います。"
		"獣5行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、ラクシャ、サハド、アリスンに「！」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("SAHAD", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("Alison", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	Wait(40)
	
	ChangeAnimation( "SAHAD", "ANI_EV_BORI", -1, 1 )	// 頭かき
	
	// サハド
	TalkPopup("SAHAD",0,1,0,0,0) {
		"#000e#000mむ、迎え撃つって言ってもな……"
		"何か作戦でもあるのか？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Dogi", "SAHAD")
	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	
	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000e#000mああ、群れが攻めてくる"
		"ルートは二つに絞ることができる。\p"
		"一つは南側にある浜辺からのルート……\p"
		"そして、もう一つは"
		"北側の山を越えてくるルートだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	HeadYes("Barbaross" , 1 , 25 )
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#000mうむ、そこで我々も"
		"二手に分かれて獣たちを迎え撃ちます。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Barbaross", "ADOL")
	
	LookChr("ADOL", "Barbaross")
	
	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0) {
		"アドル、君はラクシャさんと"
		"サハドさんとともに浜辺を守ってほしい。\p"
		"#011e#000m残った私たちは全員で"
		"山側の迎撃に当たろうと思う。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Barbaross", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#000e#000mどうだろう、頼まれてくれるかね？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"もちろんです")
	MenuAdd(2,"そちらは大丈夫ですか？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//─────────────────────────
	//	⇒もちろんです
	if (FLAG[TF_MENU_SELECT] == 1 ) {
		
		// バルバロス
		TalkPopup("Barbaross",0,2,0,0,0) {
			"#011e#000mありがとう、君には"
			"無理ばかり言ってすまない……"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	if (FLAG[TF_MENU_SELECT] == 2 ) {
	//	⇒そちらは大丈夫ですか？

		LookChr("Dogi", "ADOL")
		ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

		// ドギ
		TalkPopup("Dogi",0,2,0,0,0) {
			"#000e#000mおいおい、アドル。"
			"このドギ様がついているんだぜ？\p"
			"大船に乗った気分でいてもらおうか。"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("Alison", "ADOL")
		ChangeAnimation( "Alison", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

		//	"Alison"
		TalkPopup("Alison",0,2,0,0,0) {
			"#000e#000mわ、私もできる限りのことを"
			"させてもらいます！"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//─────────────────────────
	
	LookReset("Barbaross")
	
	// バルバロス
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#000e#000mそれでは準備ができ次第、"
		"各々の配置についてください。\p"
		"#011e#000m皆様のご武運を！！"
	}
	WaitPrompt()
	WaitCloseWindow()

	StopBGM(120)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	// フェードアウト
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//	テキスト
	PlaySE( SE_TUTORIAL , 100 , 0,  0, 0, 1.0f, 0)		//チュートリアル

	TalkPopup(UNDEF,0,5,0,0,0) {
		"#-1W#4Cドギに話し掛けることで"
		"#4C《迎撃戦》が開始されます。#10W" 
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()
	
	TalkPopup(UNDEF,0,5,0,0,0) {
		"#-1W#4C十分に準備を整えた上で"
		"#4Cドギに話し掛けて出撃してください。#10W"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

//	PlaySE( SE_TUTORIAL , 100 , 0,  0, 0, 1.0f, 0)		//◆検証用

	//　　操作許可。

	StopThread(1000)

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S151_ED")
}

function "EV_M02S151_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//モンスターを復帰
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Barbaross")
	CallFunc("system:reset_chrmot_Alison")
	CallFunc("system:reset_chrmot_Kiergaard")
	CallFunc("system:reset_chrmot_Curran")

//	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 0)
//	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 0)
//	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 0)
//
//	ResetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)
//	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
//	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
//	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
//	LookReset("Dogi")
//
//	ResetChrInfoFlag("Barbaross", INFOFLAG_NOCHRATARI)
//	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_WAIT, 1)
//	ChangeSubAnimation("Barbaross", SUBMOT_MOUTH, ANI_M_WAIT, 1)
//	ChangeSubAnimation("Barbaross", SUBMOT_EXT1, ANI_E_LOOKC, 1)
//	LookReset("Barbaross")
//
//	ResetChrInfoFlag("Alison", INFOFLAG_NOCHRATARI)
//	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_WAIT, 1)
//	ChangeSubAnimation("Alison", SUBMOT_MOUTH, ANI_M_WAIT, 1)
//	ChangeSubAnimation("Alison", SUBMOT_EXT1, ANI_E_LOOKC, 1)
//	LookReset("Alison")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//ミニマップ開封
	OpenMinimap(PAGE_MP120x,0 ,-104.65f, -1487.48f ,40 )
	OpenMinimap(PAGE_MP120x,0 ,-83.66f, -1470.66f ,30 )
	OpenMinimap(PAGE_MP120x,0 ,-66.95f, -1500.91f ,50 )
	OpenMinimap(PAGE_MP120x,0 ,-38.19f, -1516.34f ,30 )
	OpenMinimap(PAGE_MP120x,0 ,-38.83f, -1480.91f ,25 )
	OpenMinimap(PAGE_MP120x,0 ,-19.10f, -1511.86f ,40 )
	OpenMinimap(PAGE_MP120x,0 ,35.71f, -1491.43f ,60 )
	OpenMinimap(PAGE_MP120x,0 ,-10.11f, -1377.97f ,40 )
	OpenMinimap(PAGE_MP120x,0 ,-49.97f, -1489.79f ,100 )

	//フラグ処理
	SetFlag( GF_02MP1201_BEFORE_INTERCEPT , 1 )			// 迎撃戦の準備をはじめた
	//SetFlag( SF_MISSIONNO, MS_02_06 )	//★冒険メモ：力を合わせて獣を迎撃しよう。
	SetFlag( GF_CAMP_GATE_LV, 1 )		// 漂流村の発展設定：海と丘方面の防衛柵（拠点の強化前）

	//SetFlag( SF_WARP_DISABLED, 1 )		//ワープ使用不可
	//マップマーカー
//	SetMapMarker(SMI_EVENTPT_MAIN ,PAGE_MP120x, MARKER_EV_M02S160B , 28.64f,-1420.96f,10.83f, 28.64f,-1420.96f ,0, MN_T_VILLAGE_MP1201,0)	//迎撃戦（dogi
	//SetMapMarker(SMI_EVENTPT_MAIN ,PAGE_MP120x, MARKER_EV_M02S160　, 30.40f,-1478.70f,6.14f, 30.40f,-1478.70f ,0, MN_T_VILLAGE_MP1201,0)	//迎撃戦（浜

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init" )

	SetChrPos("LEADER",32.38f,-1417.91f,10.83f)
	Turn("LEADER",50.34f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰or初期位置設定
	MoveCameraAt( 0 , 32.383f , -1417.906f , 12.690f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 129.657f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetWork( WK_BGM , BGM_EVENT_012 )
	SetEnvSEPlayState(1201001, 1)
	SetEnvSEPlayState(1201002, 1)
	SetEnvSEPlayState(1201003, 1)
	SetEnvSEPlayState(1201101, 1)
	SetEnvSEPlayState(1201201, 1)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
//終了処理ここまで----------------------------------------------------

}



//──────────────────────────────
//▼迎撃戦について話し合う(mp1201)
//──────────────────────────────
function "EV_M02S170"		//迎撃戦について話し合う
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Barbaross")
	LoadChr("Dogi")
	LoadChr("Alison")
	LoadChr("Paro")
	LoadChr("Curran")
	LoadChr("Kiergaard")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	//ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定	
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 26.90f, -1423.98f, 10.83f)
	Turn("ADOL", 155.00f, 360.0f)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	LookReset("ADOL")

	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 28.21f, -1423.42f, 10.83f)
	Turn("LAXIA", 125.34f, 360.0f)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	LookReset("LAXIA")

	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 28.71f, -1422.29f, 10.83f)
	Turn("SAHAD", 88.18f, 360.0f)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	LookReset("SAHAD")

	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 25.19f, -1421.28f, 10.83f)
	Turn("Dogi", -65.90f, 360.0f)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	LookReset("Dogi")

	SetChrInfoFlag("Barbaross", INFOFLAG_NOCHRATARI)
	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Barbaross", 25.17f, -1422.79f, 10.83f)
	Turn("Barbaross", -93.15f, 360.0f)
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Barbaross", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Barbaross", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Barbaross", "ANI_WAIT", -1, 1)
	LookReset("Barbaross")

	SetChrInfoFlag("Alison", INFOFLAG_NOCHRATARI)
	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison", 26.06f, -1420.37f, 10.83f)
	Turn("Alison", -34.23f, 360.0f)
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Alison", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Alison", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Alison", "ANI_WAIT", -1, 1)
	LookReset("Alison")

	SetChrInfoFlag( "Kiergaard" , INFOFLAG_NOCHRATARI )
	SetChrWork("Kiergaard", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kiergaard", 28.00f, -1420.16f, 10.83f)
	Turn("Kiergaard", 36.84f, 360.0f)
	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Kiergaard")
	
	SetChrInfoFlag( "Curran" , INFOFLAG_NOCHRATARI )
	SetChrWork("Curran", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Curran", 29.02f, -1420.31f, 10.83f)
	Turn("Curran", 43.94f, 360.0f)
	ChangeSubAnimation("Curran",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Curran")

//	SetChrInfoFlag("Paro", INFOFLAG_NOCHRATARI)
//	SetChrPos("Paro", -4.48f, -1473.37f, 26.22f)
//	Turn("Paro", 159.84f, 7.0f)
//	SetParent("Paro", "Barbaross", "Null_paro")
//	ChangeAnimation("Paro", "ANI_WAIT5", -1, 1)
//	ChangeSubAnimation("Paro", SUBMOT_EYE, ANI_E_WAIT, 1)
//	ChangeSubAnimation("Paro", SUBMOT_MOUTH, ANI_M_WAIT, 1)
//	LookReset("Paro")

	SetChrPos("Laxia", -100000.00f, 00.00f, 00.00f)
	SetChrPos("Sahad", -100000.00f, 00.00f, 00.00f)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_b20.itp" )	// help_b20：迎撃戦⑤（発生／再戦について）
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(3, "visual/help/hp_b19.itp" )	// help_b19：迎撃戦のリザルトについて
	Portrait_Create(3, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)

	//カメラ設定
//	MoveCameraAt( 0 , 26.776f , -1422.218f , 13.119f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.828f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 2.410f , 0 )	// 基本仰角
//	RotateCamera( 0 , 48.845f , 0 )				// 角度
//	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , 26.672f , -1422.270f , 12.399f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.359f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.847f , 0 )	// 基本仰角
	RotateCamera( 0 , 56.280f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000, 2.000, 0.450, 0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S170_ED")

//開始処理ここまで-----------------------------------------------

	//──────────────────────────────
	//▼迎撃戦について話し合う(mp1201)
	//──────────────────────────────

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)	// チュートリアル背景
		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		Portrait_Close(3)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, 0)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================

	// カットX ----------------------------------------------------------------------------------------

	//　　迎撃戦開始前と同じ配置で
	//　　焚き火前に集まっている漂流者たち。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.672f , -1422.270f , 12.325f, 70 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 5.307f , 70 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 5.847f , 70 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 56.306f , 70 )

	//MoveCameraAt( 0 , 26.672f , -1422.270f , 12.325f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 5.307f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 5.849f , 0 )	// 基本仰角
	//RotateCamera( 0 , 56.306f , 0 )				// 角度
	//ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	SetEnvSEPlayState(1201001, 1)
	SetEnvSEPlayState(1201002, 1)
	SetEnvSEPlayState(1201003, 1)
	SetEnvSEPlayState(1201101, 1)
	SetEnvSEPlayState(1201201, 1)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	Wait(30)
	
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	
	// サハド
	TalkPopup("SAHAD",0,1,0,0,0) {
		"#000e#000mうへぇ、ひたすら戦闘で"
		"さすがにくたびれちまった……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000e#000m奴さんたち、ようやく"
		"周辺から退いてくれたようだな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("LAXIA", 1, 25)	// キャラ, うなずき回数, 速さ

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mええ、もう安心しても"
		"よいのではないでしょうか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Alison", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	Look("Alison", 0.0f, -10.0f)	// うつむく

	//	"Alison"
	TalkPopup("Alison",0,2,0,0,0) {
		"#061e#000mわ、私まだ膝が震えています……"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadNo("Barbaross" , 1 ,35 )

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#011e#000m本来でしたら私どもが"
		"皆さんの安全を守るべきところを……\p"
		"#012e#000m逆に力を貸して頂くことになり、"
		"申し訳ありませんでした。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "Barbaross")
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	//	"SAHAD"
	TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
		"#000e#000mまあ、仕方ねーだろ。"
		"あれじゃ力を合わせるしかないからな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)

	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 25.277f , -1422.312f , 12.547f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.787f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.436f , 0 )	// 基本仰角
	RotateCamera( 0 , 220.154f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	SetChrPos("ADOL", 26.59f, -1423.93f, 10.83f)
	Turn("ADOL", -173.02f, 360.0f)
	SetChrPos("LAXIA", 27.83f, -1423.46f, 10.83f)
	Turn("LAXIA", 136.00f, 360.0f)
	SetChrPos("Dogi", 25.19f, -1421.28f, 10.83f)
	Turn("Dogi", -51.69f, 360.0f)
	SetChrPos("Barbaross", 24.92f, -1423.10f, 10.83f)
	Turn("Barbaross", -139.34f, 360.0f)
	
	LookChr("ADOL", "Dogi")

	// 非表示・再表示
	SetChrInfoFlag("Alison", INFOFLAG_INVISIBLE)	// 非表示

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 25.304f , -1422.234f , 12.547f , 300 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.787f , 300 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.723f , 300 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 234.768f , 300 )

	Wait(FADE_CROSS)

	LookChr("Dogi", "Barbaross")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	
	LookChr("Barbaross", "Dogi")

	//	"Dogi"
	TalkPopup("Dogi",0,1,0,0,0) {
		"#000e#000mそれにしてもバルバロスの旦那……\p"
		"この様子じゃ今後も"
		"獣たちの襲撃があるかもしれませんぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Barbaross")
	ChangeAnimation("Barbaross", "ANI_EV_UDEGUMI_S", -1, 1)
//	HeadYes("Barbaross" , 1 , 25)

	//	"Barbaross"
	TalkPopup("Barbaross",0,1,0,0,0) {
		"#011e#000mうむ、彼らを迎撃するにはもっと"
		"村の守りを堅固にする必要がありそうだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "Dogi")
	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000m手を貸してくださる方も"
		"多いほうがいいかもしれません。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA" , "ADOL")

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"アドル・クリスティン、"
		"漂流者の捜索を急ぎましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookSpd("ADOL", 0.10f, 0.10f, 0.10f )
	LookChr("ADOL" , "LAXIA")
	Wait(15)

	//　　アドル、頷きモーション。

	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(25)

	// カットX ----------------------------------------------------------------------------------------
	
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	//MoveCameraAt( 0 , 26.902f , -1422.939f , 12.771f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 4.371f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 1.287f , 0 )	// 基本仰角
	//RotateCamera( 0 , 82.759f , 0 )				// 角度
	//ChangeCameraPers( 0 , 32.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , 27.039f , -1422.574f , 12.333f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.732f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.994f , 0 )	// 基本仰角
	RotateCamera( 0 , 69.380f , 0 )				// 角度
	ChangeCameraPers( 0 , 32.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転


	// 位置調整・表情・モーション
	SetChrPos("Barbaross", 24.98f, -1422.84f, 10.83f)
	Turn("Barbaross", -78.94f, 360.0f)

	LookChr("ADOL", "Barbaross")
	LookChr("LAXIA", "Barbaross")
	LookChr("Dogi", "ADOL")

	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.902f , -1422.939f , 12.531f , 60 )

	//MoveCameraAt( 0 , 26.902f , -1422.939f , 12.531f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 4.371f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 1.287f , 0 )	// 基本仰角
	//RotateCamera( 0 , 82.759f , 0 )				// 角度
	//ChangeCameraPers( 0 , 32.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	Wait(FADE_CROSS)
	ChangeAnimation("Barbaross", "ANI_EV_UDEGUMI_E", -1, 1)

//	// カメラ待ち
//	WaitThread(1000)

	LookChr("Barbaross" , "ADOL")

	// バルバロス
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#000e#000mアドル、君たちが"
		"来てくれて本当に助かった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Barbaross", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	// バルバロス
	TalkPopup("Barbaross",0,2,0,0,0) {
		"今後も獣の襲撃があった場合は"
		"リトル・パロに連絡を頼むつもりだ。\p"
		"もし駆けつけられる時には"
		"なるべく迎撃に参加してほしい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"努力します")
	MenuAdd(2,"もちろんです2")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//─────────────────────────
	//	⇒努力します
	if (FLAG[TF_MENU_SELECT] == 1){

		// バルバロス
		TalkPopup("Barbaross",0,2,0,0,0) {
			"#000e#000mうむ、漂流者の捜索も重要だからな。\p"
			"その時の状況も考えて……"
			"アドル、君が参加を判断してくれ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	//	⇒もちろんです
	if (FLAG[TF_MENU_SELECT] == 2){
		
		// バルバロス
		TalkPopup("Barbaross",0,2,0,0,0) {
			"#000e#000mうむ、そう言ってもらえると心強いが、"
			"漂流者の捜索や地図の作成も重要だ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "Barbaross" , "ANI_EV_TEBURI", -1 , 1 )

		// バルバロス
		TalkPopup("Barbaross",0,2,0,0,0) {
			"自分たちの状況を考えて、"
			"君が参加を判断してくれればいい。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	//─────────────────────────

	LookChr("LAXIA", "ADOL")

	// ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mさて、それでは漂流者の"
		"捜索を再開いたしましょうか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(15)
	//　　チュートリアルに必要な情報を表示して操作許可。
	
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		SetEnvSEPlayState(-1, 0)	//環境SE全停止

		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		Portrait_Close(1)
		Portrait_Close(2)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		Portrait_Close(0)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S170_ED")
}

function "EV_M02S170_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//モンスターを復帰
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Dogi")
	CallFunc("system:reset_chrmot_Curran")
	CallFunc("system:reset_chrmot_Kiergaard")
	CallFunc("system:reset_chrmot_Alison")
	CallFunc("system:reset_chrmot_paro")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//自動送り許可
	SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//フラグ
	SetFlag(SF_SETRAMSAVE,1)		//リトライセーブ
	SetFlag(SF_ALLMUTEKI,0)		//無敵OFF
	SetFlag( GF_02MP1201_AFTER_INTERCEPT , 1 )			// 迎撃戦一回目が終わった
	//SetFlag( SF_MISSIONNO, MS_02_07 )	//★冒険メモ：地図作りと漂流者探しを進めよう。
	//SetFlag( SF_WARP_DISABLED, 0 )		//ワープ使用可能
	SetFlag( GF_HELP_B19, 1 )	// チュートリアル：迎撃戦のリザルトについて
	SetFlag( GF_HELP_B20, 1 )	// チュートリアル：迎撃戦⑤（発生／再戦について）

	//マップマーカー
	DelMapMarker( SMI_EVENTPT_MAIN,PAGE_MP120x,MARKER_EV_M02S160, 0, 0)
	DelMapMarker( SMI_EVENTPT_MAIN,PAGE_MP120x,MARKER_EV_M02S160B, 0, 0)

	SetEnvSEPlayState(1201001, 1)
	SetEnvSEPlayState(1201002, 1)
	SetEnvSEPlayState(1201003, 1)
	SetEnvSEPlayState(1201101, 1)
	SetEnvSEPlayState(1201201, 1)

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init" )

	SetChrPos("LEADER",33.27f,-1417.26f,10.83f)
	Turn("LEADER",58.81f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰or初期位置設定
	MoveCameraAt( 0 , 33.267f , -1417.264f , 12.698f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 14.023f , 0 )	// 基本仰角
	RotateCamera( 0 , 124.254f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
	//終了処理ここまで----------------------------------------------------
}


//──────────────────────────────
//▼武器の強化が可能になる(mp1201)
//──────────────────────────────
function "EV_M02S230"		//武器の強化が可能になる
{
//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Katrin")

	//イベント開始前情報の保存	
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定	
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -1.74f, -1419.35f, 16.55f )
	Turn("ADOL", 81.39f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("ADOL" , "Katrin")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", -2.21f, -1418.65f, 16.55f)
	Turn("LAXIA", 54.53f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("LAXIA" , "Katrin")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",-3.20f, -1418.14f, 16.55f )
	Turn("SAHAD", 16.91f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("SAHAD" , "Katrin")

	SetChrInfoFlag( "Katrin" , INFOFLAG_NOCHRATARI )
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Katrin", -3.22f, -1420.03f, 16.55f)
	Turn("Katrin", 111.17f, 360.0f)
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)

	// 位置調整・表情・モーション
	ChangeAnimation( "Katrin", "ANI_EV_RYOTEKOSI", -1, 1 )	// 両手腰
	Look("Katrin", 0.0f, -15.0f)	// うつむく

	
	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a35.itp" )	// help_a35：武器の練成
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)

	Portrait_Load(3, "visual/portrait/p_30010.itp")	// カトリーンが取り出す燃石
	Portrait_Create(3, SUBP_POS_X, SUBP_POS_Y,
	0, 0, SUBP_SCALE_X, SUBP_SCALE_Y,
	0.0f, 0x00ffffff, 0x00000000)

	MapAnime("Village", "Lv3")
	
	// 初期カメラ
	MoveCameraAt( 0 , -4.039f , -1419.827f , 17.893f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.874f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.997f , 0 )	// 基本仰角
	RotateCamera( 0 , 218.382f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,1.000 ,0.450 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

//	SetEnvSEPlayState(1201203, 1)

	SetSkipScript("mp1201:EV_M02S230_ED")

	//開始処理ここまで-----------------------------------------------
	
	// カット1 ----------------------------------------------------------------------------------------

	//　　画面フェードインして、
	//　　漂流村に設置された炉や金床を見せていく。

	// 非表示・再表示
	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)	// 非表示

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -4.563f , -1420.020f , 17.744f , 80 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,2.835f, 80 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,  11.955f , 80 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 196.337f , 80 )

	// フェードイン
	FadeIn(FADE_BLACK,45)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

//	Wait(15)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -6.079f , -1418.388f , 17.724f , 110 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,8.184f , 110 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 12.227f, 110 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 125.688f, 110 )
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	Wait(20)

	// カット2 ----------------------------------------------------------------------------------------

	//　　カトリーンを囲むようにアドル、ラクシャ、サハド。

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
//	MoveCameraAt( 0 , -3.820f , -1420.282f , 17.527f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.169f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -7.183f , 0 )	// 基本仰角
//	RotateCamera( 0 , 217.904f , 0 )				// 角度
//	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , -3.629f , -1420.133f , 17.924f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.310f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -7.181f , 0 )	// 基本仰角
	RotateCamera( 0 , 217.885f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)	// 再表示


//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -3.629f , -1420.133f , 17.924f, 90 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.310f , 90 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -7.181f, 90 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 217.885f , 90 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	Wait(10)
	// カトリーン
	TalkPopup("Katrin", 0, 2, 0, 0, 0) {
		"#000e#000mふむ……万全とは言えないけれど、"
		"準備は概ねこんなところね。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Katrin", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	WaitAnimation( "Katrin" , -1, 1 )

//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//
//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -2.864f , -1419.648f , 18.064f, 150 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.478f , 150 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.278f , 150 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 337.632f , 150 )
//
//	Wait(30)
	CrossFade(FADE_FAST)

	MoveCameraAt( 0 , -2.864f , -1419.648f , 18.064f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.478f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.278f , 0 )	// 基本仰角
	RotateCamera( 0 , 337.632f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookChr("Katrin", "LAXIA")
	TurnToChr("Katrin", "LAXIA", 5.0f)
	
//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
	
	Wait(15)
	
	// カトリーン
	TalkPopup("Katrin", 0, 1, 0, 0, 0) {
		"炉の火力が足りないのは"
		"これで補うとしましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　カトリーン、燃石を取り出してみせるモーション。
	ChangeAnimation( "Katrin", "ANI_EV_TEWATASI_S", -1, 1 )	// 手渡し
	Wait(10)
	
	LookTo("ADOL", -2.738f , -1419.728f , 17.644f )	// （座標）カトリーンの右手
	LookTo("LAXIA", -2.738f , -1419.728f , 17.644f )	// （座標）カトリーンの右手
	LookTo("SAHAD", -2.738f , -1419.728f , 17.644f )	// （座標）カトリーンの右手
	
	WaitAnimation2( "Katrin" , -1, 1, "ANI_EV_TEWATASI_S",  0)

	//ポートレート表示
	Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
	Wait(FADE_NORMAL)

	Message2(1, SUBP_BUTTUN_X, SUBP_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
	WaitPrompt()

	//　　ポートレートを消す。
	Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
	Wait(FADE_FAST)
	
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#070e#000mその石は一体……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookTo("Katrin", -2.738f , -1419.728f , 17.644f )	// （座標）カトリーンの右手

	// カトリーン
	TalkPopup("Katrin", 0, 1, 0, 0, 0) {
		"#000e#000mこれは《燃石》といって"
		"炉を高温に保つことができるの。\p"
		"手持ちはこれ１つだけど、"
		"何とかなるはずよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ここでミニポートレート消去。
	
	LookChr("SAHAD", "Katrin")
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mおお、それじゃあついに……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Katrin", "ADOL")
	ChangeAnimation( "Katrin", "ANI_EV_TEWATASI_E", -1, 1 )	// 手渡し

	// カトリーン
	TalkPopup("Katrin", 0, 1, 0, 0, 0) {
		"#000e#000mええ、まずはアドル。"
		"あなたの剣から行くわよ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("ADOL", "Katrin")
	
	// カトリーン
	TalkPopup("Katrin", 0, 1, 0, 0, 0) {
		"武器をより強力なものへと打ち直す──"
		"それが《練成》と呼ばれる技術。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　《錬成》のチュートリアル画像を表示。
	//　　（１周目のみ）help_a35：武器の練成

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.7f, FADE_FAST)

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		
		// 擬似フェードアウト削除
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		Portrait_Close(0)
		Portrait_Close(1)
		Portrait_Close(2)

		Wait(10)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================
	
	// カット3 -----------------------------------------------------------------------------------------

	Wait(15)

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ
	MoveCameraAt( 0 , -2.838f , -1419.763f , 18.104f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.646f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.699f , 0 )	// 基本仰角
	RotateCamera( 0 , 129.636f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	ChangeAnimation( "Katrin", "ANI_WAIT", -1, 1 )	// 待機

	// フェード待ち
	Wait(FADE_FAST)

	ChangeAnimation( "Katrin", "ANI_EV_TEWATASI_S", -1, 1 )	// 手渡し

	// カトリーン
	TalkPopup("Katrin", 0, 2, 0, 0, 0) {
		"#000e#000mアドル、これを受け取りなさい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// アイテム入手テキスト
	GetItemMessageExPlus(ICON3D_MT_N2_STONE,5,ITEMMSG_SE_BETTER,"を受け取った。3",0,0)	//鉄鉱石　５個
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Katrin", "ANI_EV_TEWATASI_E", -1, 1 )	// 手渡し

	// カトリーン
	TalkPopup("Katrin", 0, 2, 0, 0, 0) {
		"#000e#000mドギから預かっていた素材よ。"
		"それを使って試してみなさい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ここで操作許可。
	//　　ストッパーをかけて鍛冶屋から離れられないように。

	// フェードアウト
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S230_ED")
}

function "EV_M02S230_ED"
{

	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Katrin")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//自動送り許可
	SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//エフェクトの停止
	StopEffect(-1,ALL,1)

	//アイテム取得
	GetItem(ICON3D_MT_N2_STONE,5)

	SetChrPos("LP_smith",-100000.0f, 0.0f, 0.0f)

	//フラグ処理
	//CallFunc("rng:0409")
	SetFlag(GF_TBOX_DUMMY058,1)
    //SetFlag( GF_02MP1201_JOIN_KATRIN , 1 ) // Katrin has joined
	
	//SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//カトリーン合流	名声値+2

	//マップマーカー
	//DelMapMarker( SMI_SYMBOL,PAGE_F008,MARKER_EV_M02S220, 0, 0)

	//チュートリアル調整により、武器強化が終わるまではパーティ同行
	//X:\data\doc\シナリオ関連\チュートリアル\＊チュートリアル系調整案件（0511）.txt
	//SetFlag( GF_PARTY_NONE , 1)		//パーティ全員行動
	//FixPlayerChr(PARTY_NONE)	// アドルおひとり様モードOFF

	SetChrPos("LEADER",-0.33f,-1419.02f,16.55f)
	Turn("LEADER",71.78f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//NPC配置等を戻す
	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init")

	MoveCameraAt( 0 , -0.332f , -1419.022f , 18.424f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 15.169f , 0 )	// 基本仰角
	RotateCamera( 0 , 108.218f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


function "EV_M02S231"		//武器の強化が可能になる２
{
//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Katrin")

	//イベント開始前情報の保存	
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	SetFlag( SF_TOWNMODE , 0)
	SetChrWork("ADOL",CWK_BATTLEMODE,1)	
//	SetChrWork("LAXIA",CWK_BATTLEMODE,1)
//	SetChrWork("SAHAD",CWK_BATTLEMODE,1)

	//キャラ初期状態の設定
	SetChrPos("ADOL", 1.18f, -1419.73f, 16.55f )
	Turn("ADOL", -63.95f, 360.0f)

	SetChrPos("LAXIA", -0.48f, -1420.15f, 16.55f)
	Turn("LAXIA", -94.52f , 360.0f)

	SetChrPos("SAHAD", 1.33f, -1418.18f, 16.55f )
	Turn("SAHAD", -10.99f, 360.0f)

	SetChrPos("Katrin",-1.80f, -1417.94f, 16.55f )
	Turn("Katrin",-67.44f,360.0f)

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_FIXED )
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	LookReset("ADOL")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SUP,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	LookReset("LAXIA")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SUP,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI", -1, 1 )	// 両手腰
	LookReset("SAHAD")

	SetChrInfoFlag( "Katrin" , INFOFLAG_NOCHRATARI )
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Katrin" , "ANI_WAIT", -1 , 1 )

	LookChr("Katrin" , "ADOL")

	MapAnime("Village", "Lv3")

	//ショップ閉じからイベントまでのインターバル
	Wait(20)

	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a36.itp" )	// help_a36：防具の作成
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)

	MoveCameraAt( 0 , 0.745f , -1419.928f , 17.394f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.472f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 22.995f , 0 )	// 基本仰角
	RotateCamera( 0 , 353.148f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 23.5f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,1.000 ,0.450 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetSkipScript("mp1201:EV_M02S231_ED")

//開始処理ここまで-----------------------------------------------

	//　　カトリーンに話しかけ、ショップを開くと
	//　　アドルの武器のみ練成が実行できる状態になっている。
	//　　練成を行い、ショップメニューを閉じるとイベント再開。
	//　　新しくなった剣を素振りするアドル。

	LookTo("LAXIA", 1.132f , -1420.035f , 17.464f)	// 座標：アドルの手元
	LookTo("SAHAD", 1.132f , -1420.035f , 17.464f)	// 座標：アドルの手元

	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 1.071f , -1419.833f , 17.763f, 120 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.052f , 120 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -8.340f , 120 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 40.623f , 120 )
	ExecuteCmd(1003, RollCamera, INTERPOLATE_SPHERE , 4.7f , 120 )

	//MoveCameraAt( 0 , 1.071f , -1419.833f , 17.763f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 4.052f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -8.340f , 0 )	// 基本仰角
	//RotateCamera( 0 , 40.623f , 0 )				// 角度
	//ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 4.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(80)
	ChangeAnimation( "ADOL" , "ANI_ATK0_2", -1 , 1 )

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)


	HeadYes("SAHAD",1 , 25 )
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000mおお……大したモンだ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#070e#000m驚きました……見違えるようです。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カットX ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -0.899f , -1418.425f , 18.984f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.601f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.047f , 0 )	// 基本仰角
	RotateCamera( 0 , 265.972f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	SetChrPos("ADOL", 0.93f, -1419.61f, 16.55f)
	Turn("ADOL", -56.84f, 360.0f)
	SetChrPos("LAXIA", -0.75f, -1420.12f, 16.55f)
	Turn("LAXIA", -19.91f, 360.0f)
	SetChrPos("SAHAD", 0.59f, -1418.05f, 16.55f)
	Turn("SAHAD", -96.17f, 360.0f)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機

	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -1.034f , -1418.824f , 18.033f , 80 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.841f , 80 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.239f , 80 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 269.395f , 80 )

	//MoveCameraAt( 0 , -1.034f , -1418.824f , 18.033f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.841f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -0.239f , 0 )	// 基本仰角
	//RotateCamera( 0 , 269.395f , 0 )				// 角度
	//ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.1f , 0 )				// ロール回転

	ChangeAnimation( "ADOL" , "ANI_DISARM", -1 , 1 )
	
	LookChr("SAHAD", "Katrin")
	TurnToChr("SAHAD", "Katrin", 8.0f)

	WaitAnimation2("ADOL", -1, 1, "ANI_DISARM", 0)
	LookChr("ADOL", "Katrin")
	TurnToChr("ADOL", "Katrin", 8.0f)

	LookChr("LAXIA", "Katrin")
	TurnToChr("LAXIA", "Katrin", 8.0f)

	// カメラ待ち
	WaitThread(1000)
	
	ChangeAnimation( "Katrin", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	//	"Katrin"
	TalkPopup("Katrin",0,1,0,0,0) {
		"#000e#000mアドル、どうかしら？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"素晴らしいです")
	MenuAdd(2,"あなたは一体？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//─────────────────────────
	//	⇒素晴らしいです
	if (FLAG[TF_MENU_SELECT] == 1){

		ChangeAnimation( "Katrin", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

		TalkPopup("Katrin",0,1,0,0,0) {
			"#000e#000mフフ、やはりわかるのね。\p"
			"あなたほどの剣士の剣となると、"
			"私もついつい熱が入ってしまうわ。\p"
			"ただし、今の設備と素材では"
			"これが精一杯。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒あなたは一体？
	if (FLAG[TF_MENU_SELECT] == 2){

		ChangeAnimation( "Katrin", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

		TalkPopup("Katrin",0,1,0,0,0) {
			"#000e#000m言ったはず……"
			"しがない鍛冶屋の娘に過ぎないわ。\p"
			"ちなみに今の設備と素材では"
			"これが精一杯。 "
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	TalkPopup("Katrin",0,1,0,0,0) {
		"#000e#000mもっと《燃石》があれば、"
		"さらに優れた武器を練成できるわ。\p"
		"もし見つけたら"
		"ここへ持ってくるといいでしょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#020e#080mガハハ、もちろんだぜ！\p"
		"#080e#080mいやしかし、鍛治師ってのは"
		"大したモンだな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	HeadYes("LAXIA" , 1 , 25 )
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000mええ、自分たちで武器を"
		"手入れするのも限界でしたしね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0) {
		"……もしかして防具も"
		"お願いできたりするのでしょうか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Katrin", "LAXIA")
	ChangeAnimation( "Katrin", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	
	//	"Katrin"
	TalkPopup("Katrin",0,1,0,0,0) {
		"#000e#000mええ、大概のことはやってみせるわ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#080e#080mおお、本当か？"
		"ガハハ、こいつは心強いな！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	[防具作成]に関するチュートリアル画像の表示
	//	（１周目のみ）help_a36：防具の作成

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.7f, FADE_FAST)

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		
		// 擬似フェードアウト削除
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		Portrait_Close(0)
		Portrait_Close(1)
		Portrait_Close(2)

		Wait(10)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================

	Wait(15)

	// カットX ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , -1.238f , -1418.201f , 18.052f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.241f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.384f , 0 )	// 基本仰角
	RotateCamera( 0 , 65.531f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -1.238f , -1418.201f , 18.052f , 300 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.241f , 300 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.957f , 300 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 90.158f , 300 )

	LookReset("Katrin")

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Katrin", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// カトリン
	TalkPopup("Katrin",0,2,0,0,0) {
		"#011e#000m脱出のために私の力が"
		"役に立つのであれば是非もない。\p"
		"#012e#080mいつでも相談に来なさい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　操作許可。

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
//終了処理ここから----------------------------------------------------

	CallFunc("mp1201:EV_M02S231_ED")
}

function "EV_M02S231_ED"
{
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Katrin")

	SetChrWork("ADOL",CWK_BATTLEMODE,0)	
	SetChrWork("LAXIA",CWK_BATTLEMODE,0)
	SetChrWork("SAHAD",CWK_BATTLEMODE,0)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//自動送り許可
	SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//フラグ処理
	//SetFlag( SF_WARP_DISABLED, 0 )		//ワープ許可
	SetFlag( SF_TOWNMODE , 1)

	//マップマーカー
	DelMapMarker( SMI_SUBEVENT ,PAGE_F001, REMOVE_OBJ_2101, 0,0)		//協力　：大河流域へ

	SetMapMarker( SMI_SYMBOL ,PAGE_F001, REMOVE_OBJ_2101, 53.73f, -919.31f, 13.52f, 53.73f, -919.31f,REMOVE_OBJ_2101_MAIN,MN_F_SOUTHWEST_PLANE_MP2101,0)		//協力　：大河流域へ

	//SetFlag( GF_PARTY_NONE , 0)		//パーティ全員行動OFF
	//FixPlayerChr(PARTY_ADOL)		// アドルおひとり様モードON

	SetChrPos("LEADER",0.72f, -1419.57f, 16.55f )
	Turn("LEADER",-69.62f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//NPC配置等を戻す
	CallFunc("mp1201:init")

	MoveCameraAt( 0 , 0.717f , -1419.568f , 18.412f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 54.159f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼キルゴールにバルバロスの容態を聞く(mp1201)
//──────────────────────────────
function "EV_M02S450"		//バルバロスの様態を聞く
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Kiergaard")
	LoadChr("Licht")
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定	
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 25.52f, -1413.04f, 11.63f)
	Turn("ADOL", 145.97f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("ADOL" , "Kiergaard")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 26.18f, -1412.50f, 11.64f)
	Turn("LAXIA", 141.11f, 360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("LAXIA" , "Kiergaard")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 27.64f, -1411.93f, 11.58f)
	Turn("SAHAD", 139.01f, 360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
//	LookChr("SAHAD" , "Kiergaard")
	LookReset("SAHAD")

	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 24.75f, -1411.80f, 11.64f)
	Turn("Dogi", 132.82f, 360.0f)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
//	LookChr("Dogi", "Kiergaard")
	LookReset("Dogi")

	SetChrInfoFlag( "Licht" , INFOFLAG_NOCHRATARI )
	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Licht", 28.80f, -1413.78f, 11.30f)
	Turn("Licht", 137.89f, 360.0f)
	ChangeAnimation( "Licht" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_EXT1,ANI_E_LOOKC,1)

	SetChrInfoFlag( "Kiergaard" , INFOFLAG_NOCHRATARI )
	SetChrWork("Kiergaard", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kiergaard", 18.27f, -1403.49f, 11.49f)
	Turn("Kiergaard", -48.63f, 360.0f)
	ChangeSubAnimation("Kiergaard", SUBMOT_EYE, ANI_E_SAD, 1)
	ChangeSubAnimation("Kiergaard", SUBMOT_MOUTH, ANI_M_MAJI_S, 1)
	ChangeSubAnimation("Kiergaard",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Kiergaard" , "ANI_WAIT", -1 , 1 )
	LookReset("Kiergaard")

	MoveCameraAt(0, 25.758f, -1413.348f, 13.495f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 9.947f, 0)	// 基本仰角
	RotateCamera(0, 298.879f, 0)				// 角度
	ChangeCameraPers(0, 37.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000, 0.000, 0.700, 0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	PlayBGM(BGM_EVENT_004, 0)
	FadeBGM(70,0)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S450_ED")

//開始処理ここまで-----------------------------------------------

	//──────────────────────────────
	//▼キルゴールにバルバロスの容態を聞く(mp1201)
	//──────────────────────────────
	//　　フェードインして漂流村内部。
	//　　入口方面からドギを先頭に休息所へ向かう一行。
	//　　休息所方面からキルゴールが歩いてくるのに出くわす。

	ExecuteCmd(1, MoveTo, "ADOL", 23.45f, -1410.48f, 11.55f,  0.1f, 0.16f)
	Wait(3)
	ExecuteCmd(2, MoveTo, "SAHAD", 25.75f, -1408.48f, 11.50f, 0.1f, 0.16f)
	Wait(3)
	ExecuteCmd(3, MoveTo, "LAXIA", 24.74f, -1409.90f, 11.57f, 0.1f, 0.16f)
	Wait(3)
	ExecuteCmd(4, MoveTo, "Dogi", 23.30f, -1408.50f, 11.49f, 0.1f, 0.16f)
	ExecuteCmd(5, MoveTo, "Licht", 25.35f, -1411.41f, 11.66f, 0.1f, 0.20f)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_COS, 24.158f, -1410.610f, 13.495f, 100)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 10.480f, 100)		// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Wait(30)
	ExecuteCmd(6, MoveTo, "Kiergaard", 21.15f, -1405.99f, 11.49f,0.1f, 0.22f)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1)
	WaitThread(2)
	WaitThread(3)
	WaitThread(4)
	WaitThread(5)

	LookChr("Kiergaard", "ADOL")
	TalkPopup("Kiergaard",0,0,0,0,0)
	{
		"#4178V#050e#000mやあ、アドル君……"
		"大変なことが起きてしまいましたね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	Wait(10)

	CrossFade(FADE_CROSS)
	StopThread(6)
	StopThread(1)
	StopThread(2)
	StopThread(3)
	StopThread(4)
	StopThread(5)

	SetChrPos("ADOL", 22.72f, -1410.19f, 11.52f)
	Turn("ADOL", 141.07f, 360.0f)
	SetChrPos("LAXIA", 23.86f, -1409.65f, 11.52f)
	Turn("LAXIA", 143.89f, 360.0f)
	SetChrPos("SAHAD",25.01f,-1407.82f,11.49f)
	Turn("SAHAD",112.17f,360.0f)
	SetChrPos("Dogi", 23.02f, -1408.08f, 11.49f)
	TurnToChr("Dogi","Kiergaard",360.0f)
	SetChrPos("Kiergaard", 21.59f, -1406.59f, 11.49f)
	Turn("Kiergaard", -34.78f, 360.0f)
	SetChrPos("Licht", 24.00f, -1410.86f, 11.58f)
	Turn("Licht", 147.71f, 360.0f)
	LookChr("Dogi", "Kiergaard")
	
	MoveCameraAt( 0 , 22.364f , -1407.986f , 13.116f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.140f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.848f , 0 )	// 基本仰角
	RotateCamera( 0 , 245.143f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_NORMAL)

	LookChr("Kiergaard", "Dogi")
	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000m先生、バルバロスの旦那は？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Kiergaard", "ANI_EV_TEMUNE_S", -1, 1)
	HeadYes("Kiergaard", 1, 20)
	//	"Kiergaard"
	TalkPopup("Kiergaard",0,1,0,0,0)
	{
		"#000e#000mええ、出血がひどかったのですが、"
		"幸い止血の薬草が効いたようです。\p"
		"しばらく眠っていましたが、"
		"つい先ほど目を覚まされましたよ。\p"
		"今でしたらお話もできると思います。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#011e#000mそうかい。"
		"そりゃあ、よかった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	ChangeAnimation("Kiergaard", "ANI_EV_TEMUNE_E", -1, 1)

	//	"Kiergaard"
	TalkPopup("Kiergaard",0,1,0,0,0)
	{
		"#000e#000mただし、しばらくは"
		"安静にしたほうがいいと思います。\p"
		"僕はこれで一旦失礼しますが、"
		"何かあればいつでも呼んでください。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	HeadYes("Dogi" , 1 , 20 )
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(12)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000mああ、すまねえな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Kiergaard"
	TalkPopup("Kiergaard",0,1,0,0,0)
	{
		"#000e#000mそれでは。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	//　　診療所方面へ戻っていくキルゴール。
	//　　それを一同が見送った後にイベントを再開。

	// クロスフェード
	CrossFade(FADE_NORMAL)

	// カメラ
	MoveCameraAt( 0 , 21.745f , -1408.083f , 13.958f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.769f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.401f , 0 )	// 基本仰角
	RotateCamera( 0 , 184.986f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetChrPos("ADOL", 23.34f, -1408.51f, 11.49f)
	Turn("ADOL", 6.06f, 360.0f)
	SetChrPos("LAXIA", 22.34f, -1408.36f, 11.49f)
	Turn("LAXIA", -5.34f, 360.0f)
	SetChrPos("SAHAD", 23.33f, -1406.79f, 11.49f)
	Turn("SAHAD", 12.70f, 360.0f)
	SetChrPos("Dogi", 21.76f, -1407.54f, 11.49f)
	Turn("Dogi", -1.43f, 360.0f)
	SetChrPos("Kiergaard", 20.56f, -1411.83f, 11.58f)
	Turn("Kiergaard", 19.53f, 360.0f)
	SetChrPos("Licht", 24.58f, -1407.63f, 11.49f)
	Turn("Licht", 30.46f, 360.0f)

	LookChr("ADOL", "Kiergaard")
	LookChr("LAXIA", "Kiergaard")
	LookChr("SAHAD", "Kiergaard")
	LookChr("Dogi", "Kiergaard")
	LookChr("Kiergaard", "Kiergaard")
	LookChr("Licht", "Kiergaard")
	LookReset("Kiergaard")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 21.745f , -1408.083f , 13.238f , 80 )
	
	// 移動
	ExecuteCmd(1, MoveTo, "Kiergaard", 16.54f, -1421.52f, 11.63f, 0.1f, 0.16f)
	
	// カメラ待ち
	WaitThread(1000)

	Wait(15)

	// カットX ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// 移動停止
	StopThread(1)

	// カメラ
	MoveCameraAt( 0 , 22.077f , -1408.532f , 13.138f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.809f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.995f , 0 )	// 基本仰角
	RotateCamera( 0 , 314.913f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation("LAXIA", "ANI_EV_TEMUNE_S", -1, 1)
	
	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000mキルゴール先生がいてくれて"
		"助かりましたね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Dogi")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#011e#000m全くだぜ。さて……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　画面フェードアウト

	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S450_ED")
}

function "EV_M02S450_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//フラグ処理
//	SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット

//	StopBGM(30)
	PlayBGM(BGM_EVENT_004, 0)
//	SetFlag(SF_NOCHANGEBGM, 1)

	SetFlag(GF_MP1202_NOW,1)		//屋内に直接飛ぶ場合
	
	//LoadArg("map/mp1201/mp1201.arg")
	CallFunc("mp1201:init")

	EventCue("mp1201:EV_M02S451")

	ResetStopFlag(STOPFLAG_EVENT)

//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼NEMOの予告文を見る(mp1202)
//──────────────────────────────
function "EV_M02S451"	//NEMOの予告文を見る
{
//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Barbaross2")
//	LoadChr("Licht")
	LoadChr("Aaron")
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定	
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -7.48f, -1356.80f, 11.57f)
	Turn("ADOL", -36.18f, 360.0f)
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", -8.27f, -1357.59f, 11.57f)
	Turn("LAXIA", -72.26f, 360.0f)
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("LAXIA")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", -8.33f, -1359.28f, 11.57f)
	Turn("SAHAD", -121.73f, 360.0f)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("SAHAD")

	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi",-9.18f, -1358.11f, 11.57f)
	Turn("Dogi", -85.71f, 360.0f)
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )	// 待機
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dogi")

	SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI )
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", -12.45f, -1363.50f, 11.57f)
	Turn("Aaron", -136.63f, 360.0f)
	ChangeAnimation( "Aaron", "ANI_WAIT", -1, 1 )	// 待機
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Aaron")

	SetChrInfoFlag( "Barbaross2" , INFOFLAG_NOCHRATARI )
	SetChrInfoFlag( "Barbaross2" , INFOFLAG_FLING )
	SetChrWork("Barbaross2", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Barbaross2",-6.08f, -1357.94f, 12.20f)
	Turn("Barbaross2",74.01f,360.0f)
	ChangeSubAnimation("Barbaross2", SUBMOT_EYE, ANI_E_SAD_CLOSE, 1)
	ChangeSubAnimation("Barbaross2",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross2",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Barbaross2" , "ANI_EV_TAORE_B_L", -1 , 1 )
	LookReset("Barbaross2")

//	SetChrInfoFlag( "Licht" , INFOFLAG_NOCHRATARI )
//	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrPos("Licht", -9.86f, -1359.34f, 11.57f)
//	Turn("Licht", -101.10f, 360.0f)
//	ChangeAnimation( "Licht", "ANI_WAIT", -1, 1 )	// 待機
//	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)
//	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_WAIT,1)
//	ChangeSubAnimation("Licht",SUBMOT_EXT1,ANI_E_LOOKC,1)
//	LookReset("Licht")

	//ベッドのブランケット消す
	MapHide("bed1_blanket" , 0 )

	// ポートレート読み込み
	Portrait_Load(1, "visual/portrait/p_30001.itp")
	Portrait_Create(1, SUBP_POS_X, SUBP_POS_Y,
	0, 0, SUBP_SCALE_X, SUBP_SCALE_Y,
	0.0f, 0x00ffffff, 0x00000000)

	//カメラ設定
	MoveCameraAt( 0 , -9.173f , -1360.389f , 13.643f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.587f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.242f , 0 )	// 基本仰角
	RotateCamera( 0 , 53.758f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,0.000 ,0.450 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

//	PlayBGM(BGM_EVENT_008, 0)
	PlayBGM(BGM_EVENT_004, 0)
	FadeBGM(70,0)
//	SetEnvSEPlayState(1202001, 0)	//環境音オフ◆仮

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S451_ED")
	
//開始処理ここまで-----------------------------------------------

	//　　フェードインして、横たわったバルバロスを
	//　　アドル、ドギ、ラクシャ、サハドが囲んでいる。
	//　　バルバロスは帽子を取って頭に包帯をしている状態？

	// カット1 ----------------------------------------------------------------------------------------

	// 非表示・再表示
	SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 非表示

	// 位置調整・表情・モーション
	LookChr("ADOL", "Barbaross2")
	LookChr("LAXIA", "Barbaross2")
	LookChr("SAHAD", "Barbaross2")
	LookChr("Dogi", "Barbaross2")
//	LookChr("Licht", "Barbaross2")
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE", -1, 1 )	// 手胸当て
	ChangeSubAnimation("Barbaross2", SUBMOT_EYE, ANI_E_SAD_CLOSE, 1)	// 目

	LookSpd("Barbaross2", 0.08f, 0.08f, 0.08f )// ゆっくりめに首向き（→ 怪我してるということでこのイベント中はこの設定を継続）

	Wait(10)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -8.176f , -1360.112f , 13.323f , 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.587f , 100 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 6.539f , 100 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 5.343f , 100 )

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
//	MoveCameraAt( 0 , -7.193f , -1357.477f , 13.223f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.006f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 6.824f , 0 )	// 基本仰角
//	RotateCamera( 0 , 248.608f , 0 )				// 角度
//	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
//	
//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -7.193f , -1357.477f , 12.983f , 45 )

	MoveCameraAt( 0 , -7.193f , -1357.477f , 12.983f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.006f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.824f , 0 )	// 基本仰角
	RotateCamera( 0 , 248.608f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェード待ち
	Wait(15)
	
	PlaySE(SE_M02S451_01, 50 0, 0, 0, 1.0f, 0)	//	起き上がる
	ChangeAnimation( "Barbaross2" , "ANI_EV_TAORE_B_E", -1 , 1 )	// 状態起こし
	Wait(30)

	Look("Barbaross2", 50.0f, 25.0f)	// ←↑（＾＾）
	ChangeSubAnimation("Barbaross2", SUBMOT_EYE, ANI_E_SAD_CLOSE_E, 1)	// 目

	// カメラ待ち
	WaitThread(1000)

	// バルバロス
	TalkPopup("Barbaross2",0,2,0,0,0) {
		"#3803V#050e#000mアドル、来てくれたのか。"
		"このような格好ですまない……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"驚きました")
	MenuAdd(2,"傷は大丈夫ですか？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//─────────────────────────
	//	⇒驚きました
	if (FLAG[TF_MENU_SELECT] == 1){

		// バルバロス
		TalkPopup("Barbaross2",0,2,0,0,0) {
			"#061e#000mうむ、全くもって面目ない……\p"
			"#062e#000mまだ君たちを待っている"
			"漂流者がいるかもしれないというのに。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒傷は大丈夫ですか？
	if (FLAG[TF_MENU_SELECT] == 2){

		// バルバロス
		TalkPopup("Barbaross2",0,2,0,0,0) {
			"#061e#000mああ、見ての通りだ……\p"
			"#062e#000mどうやら皆にもすっかり"
			"心配をかけてしまったようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//─────────────────────────

	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -7.463f , -1357.927f , 12.983f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.605f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.062f , 0 )	// 基本仰角
	RotateCamera( 0 , 123.679f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000mその、どんな状況だったか"
		"お伺いしてもよろしいでしょうか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Barbaross2", 50.0f, 15.0f)	// ←↑（＾＾）

	// バルバロス
	TalkPopup("Barbaross2",0,1,0,0,0) {
		"#000e#000mええ、もちろんです。\p"
		"私は毎日の日課で"
		"村の中を見回っているのですが……\p"
		"今日も海岸を見回っていたところ、"
		"何者かに不意に呼び止められましてな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("Barbaross2")
	
	// バルバロス
	TalkPopup("Barbaross2",0,1,0,0,0) {
		"声のしたほうへ振り向く一瞬のうちに"
		"手足を切り刻まれたのです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#050e#000mい、一瞬だって？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)


	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"相手の姿は見ましたか？")
	MenuAdd(2,"どんな声でしたか？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	Look("Barbaross2", 50.0f, 25.0f)	// ←↑（＾＾）

	//─────────────────────────
	//	⇒相手の姿は見ましたか？
	if (FLAG[TF_MENU_SELECT] == 1){

		// バルバロス
		TalkPopup("Barbaross2",0,1,0,0,0) {
			"#000e#000mうむ……だが見えたのは"
			"ローブを羽織った後ろ姿だけでな。\p"
			"私を呼んだ声はおそらく"
			"男性のものだったと思うのだが……"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookReset("Barbaross2")
		
		// バルバロス
		TalkPopup("Barbaross2",0,1,0,0,0) {
			"情けないことに完全に"
			"不意をつかれてしまったようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒どんな声でしたか？
	if (FLAG[TF_MENU_SELECT] == 2){

		// バルバロス
		TalkPopup("Barbaross2",0,1,0,0,0) {
			"#000e#000m私を呼んだ声はおそらく"
			"男性のものだったと思うのだが……\p"
			"容姿についてはローブを羽織った"
			"後ろ姿を見ただけでな。"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookReset("Barbaross2")

		// バルバロス
		TalkPopup("Barbaross2",0,1,0,0,0) {
			"どうやら完全に"
			"不意をつかれてしまったようだ。 "
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//─────────────────────────
	
	// ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#061e#000mなるほど……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -7.070f , -1358.475f , 13.031f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.426f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -6.010f , 0 )	// 基本仰角
	RotateCamera( 0 , 70.783f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -7.48f, -1357.05f, 11.57f)
	Turn("ADOL", -36.18f, 360.0f)
	SetChrPos("LAXIA", -8.49f, -1357.27f, 11.57f)
	Turn("LAXIA", -72.26f, 360.0f)
	SetChrPos("SAHAD", -7.92f, -1359.45f, 11.57f)
	Turn("SAHAD", -114.62f, 360.0f)
	SetChrPos("Dogi", -9.04f, -1358.46f, 11.57f)
	Turn("Dogi", -117.69f, 360.0f)
	SetChrPos("Barbaross2", -5.96f, -1357.86f, 12.20f)
	Turn("Barbaross2", 66.90f, 360.0f)

	//ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -7.472f , -1358.523f , 13.151f , 450 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.426f , 450 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.713f , 450 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 63.910f , 450 )

	// フェード待ち
	Wait(FADE_CROSS)

	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000e#000m俺が倒れている船長を見つけて、"
		"皆でここへ運び込んだワケだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_TEWATASI_S", -1, 1 )	// 手渡し
	LookTo("Dogi", -8.334f , -1358.443f , 12.931f)		// 座標：ドギの手のひら

	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"その時に“こいつ”が"
		"テーブルに突き刺さっていやがった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	StopBGM(60)

	LookTo("SAHAD", -8.334f , -1358.443f , 12.931f)		// 座標：ドギの手のひら
	Turn("SAHAD", -164.37f, 8.0f)
	LookTo("LAXIA", -8.334f , -1358.443f , 12.931f)		// 座標：ドギの手のひら
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	Turn("LAXIA", -26.07f, 8.0f)
	LookTo("ADOL", -8.334f , -1358.443f , 12.931f)		// 座標：ドギの手のひら
	Turn("ADOL", 6.46f, 8.0f)
	Wait(20)

	//　　アドル、ラクシャ、サハドに「！」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("SAHAD", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	Wait(40)

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mお？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000mこ、これって……"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayBGM(BGM_EVENT_008, 30)

	//　　ナイフと紙片のサブポートレートを表示。
	//　　紙片には荒々しく文字が書き綴られている。
	
	Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
	Wait(FADE_NORMAL)

	Wait(30)

	TalkPopup("UNDEF", 0, 3, STOPPER_PPOSX, STOPPER_PPOSY, 0) {
		"#6C#1Wオマエタチヲ"
		"#6C#1W全員切リ刻ンデ"
		"#6C#1W皆殺シニスル　　　NEMO"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(15)

	//　　サブポートレートを消去。
	Portrait_Anime(1, PR_ANIME_COLOR, 0.0f, 0.0f, 0.0f, 0.0f, FADE_FAST)
	Wait(FADE_FAST)
	Portrait_Close(1)
	Portrait_Unload(1)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -7.107f , -1358.400f , 13.091f , 300 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.906f , 300 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.297f , 300 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 56.749f , 300 )



	ChangeAnimation( "SAHAD", "ANI_EV_SUP_S", -1, 1 )	// 驚く、軽くのけぞる

	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#070e#110mひぃ！？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#070e#000mこれは殺害……予告ですか。"
		"しかも皆殺しだなんて……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#011e#000mああ、穏やかじゃねえな。\p"
		"#012eこの物騒な書置きは既に"
		"他の連中も知っちまっている。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_TEWATASI_E", -1, 1 )	// 手渡し

	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#011e#000m騒ぎになるのも時間の問題だろう。"
		"騒ぎ2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("LAXIA")
	ChangeAnimation( "LAXIA", "ANI_EV_SIAN_S", -1, 1 )	// 思案

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#011e#000m文末の“NEMO”というのは"
		"ひょっとして犯人の署名でしょうか？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Look("Barbaross2", 50.0f, 15.0f)	// ←↑（＾＾）
	
	// バルバロス
	TalkPopup("Barbaross2",0,1,0,0,0) {
		"#000e#000mそれは……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	男の声
	SetName("男の声")
	TalkPopup(UNDEF,0,3,120,220,0) {
		"#3916V“NEM#2Rニーモ#RO”ってのはロムンで"
		"“名無し”を意味する言葉だ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	//　　アドル、ラクシャ、サハドに「！」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("SAHAD", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SUP_S, 1)	// 目
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SUP_S, 1)	// 目
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SUP_S, 1)	// 目
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeAnimation( "LAXIA", "ANI_EV_SIAN_E", -1, 1 )	// 思案
	ChangeAnimation( "SAHAD", "ANI_EV_SUP_E", -1, 1 )	// 驚く、軽くのけぞる
	Wait(40)
	
	// カット4 ----------------------------------------------------------------------------------------

	//　　画面切り替えて、背後に立っているエアランを見せる。
	//　　そのまま歩いてきて輪に加わるエアラン。

	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -7.527f , -1358.150f , 13.771f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.466f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.618f , 0 )	// 基本仰角
	RotateCamera( 0 , 143.256f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 再表示

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -7.28f, -1356.95f, 11.57f)
	Turn("ADOL", 20.67f, 360.0f)
	SetChrPos("LAXIA", -8.49f, -1357.27f, 11.57f)
	Turn("LAXIA", 16.57f, 360.0f)
	SetChrPos("SAHAD", -7.65f, -1359.88f, 11.57f)
	Turn("SAHAD", -157.26f, 360.0f)
	SetChrPos("Dogi", -9.21f, -1358.29f, 11.57f)
	Turn("Dogi", -117.69f, 360.0f)
//	SetChrPos("Licht", -10.19f, -1357.71f, 11.57f)
//	Turn("Licht", 9.04f, 360.0f)
	LookReset("ADOL")
	LookReset("LAXIA")
	LookReset("SAHAD")
	LookReset("Dogi")
//	LookReset("Licht")
	LookReset("Barbaross2")
	LookChr("ADOL", "Aaron")
	LookChr("LAXIA", "Aaron")

	// 移動
	ExecuteCmd(1, MoveTo, "Aaron", -9.41f, -1360.17f, 11.57f, 0.1f, 0.18f)

	// カメラ移動（垂直）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -7.527f , -1358.150f , 13.131f , 100 )

	// フェード待ち
	Wait(FADE_NORMAL)

	LookChr("Dogi", "Aaron")
	Turn("Dogi", 13.77f, 8.0f)
	LookChr("SAHAD", "Aaron")
	Turn("SAHAD", 106.80f, 8.0f)

	// 移動待ち
	WaitThread(1)

	// カメラ待ち（垂直）
	WaitThread(1000)

	LookChr("Aaron", "Barbaross2")
	ChangeAnimation( "Aaron", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#000e#000m遅くなってすまないなァ、"
		"船長さんよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mアンタはロムン憲兵の……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mエアランさん……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("Aaron")
	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#000e#000m近年、ロムン帝都を騒がせている"
		"通称『名無しの切り裂き魔』──\p"
		"#011e#000m鋭利な刃物で男女問わずに"
		"通り魔的な殺人を行う狂気の死神だ。\p"
		"#012e#000mヤツが送りつける犯行予告文には"
		"必ず“NEM#2R名無し#RO”の署名があるという。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Barbaross2", -10.0f, 25.0f)	// （＾＾）↑→

	// バルバロス
	TalkPopup("Barbaross2",0,1,0,0,0) {
		"#000e#000mうむ、噂で聞いたことがある。\p"
		"ロムン全土を震撼させるような"
		"恐怖の殺人鬼が現れたと。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mそ、それではそのロムンの"
		"殺人鬼が船長を切り付けた犯人だと？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mな、な、何だって、"
		"そんなヤツがこの島にいるんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Barbaross2")

	// バルバロス
	TalkPopup("Barbaross2",0,1,0,0,0) {
		"#000e#000mふむ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -8.727f , -1358.510f , 13.091f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.945f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.325f , 0 )	// 基本仰角
	RotateCamera( 0 , 148.154f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("LAXIA", -8.89f, -1357.49f, 11.57f)
	Turn("LAXIA", 16.57f, 360.0f)
	SetChrPos("SAHAD", -7.85f, -1359.59f, 11.57f)
	Turn("SAHAD", 117.46f, 360.0f)
	SetChrPos("Dogi", -9.81f, -1357.79f, 11.57f)
	Turn("Dogi", -25.31f, 360.0f)
	SetChrPos("Aaron", -9.31f, -1359.46f, 11.57f)
	Turn("Aaron", -134.03f, 360.0f)

	// 非表示・再表示
	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 非表示
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -8.727f , -1358.510f , 13.091f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.945f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.898f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 159.327f , 900 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#011e#000m俺は任務でヤツを……"
		"名無しの切り裂き魔を追っていた。\p"
		"そして同僚から名無しと思#2Rおぼ#Rしき"
		"人物がある船に乗船すると聞いた。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mま、まさか……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Aaron", "LAXIA")
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	
	// うなずきセット
//	HeadYes("Aaron" , 1 , 25 )
//	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
//	Wait(15)
//	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#000mああ、それがロンバルディア号だった。\p"
		"情報を得た俺は出航直前の"
		"ロンバルディアに飛び乗った。\p"
		"船内で同僚と連携して名無しを"
		"取り押さえるつもりだったんだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"あとはお前たちも知っての通りだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadNo("SAHAD" ,1 , 35 )

	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#061e#000mブルブル……てことは、"
		"ワシらは凶悪な殺人鬼と同じ船に？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookSpd("Aaron",0.08f,0.08f,0.08f)
	LookChr("Aaron", "SAHAD")

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#000e#000mあー、そういうことになるな……\p"
		"そして、今も名無しは"
		"この島のどこかに潜伏してやがる。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("Aaron")
	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	
	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#011e#000m下手をすれば漂流村の"
		"誰かってことも考えられるがな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、ラクシャ、サハドに「！」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("SAHAD", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SAD_S,1)

	Wait(40)
	
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て
	
	// ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mそ、そんな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000mそ、そ、その名無しってのは"
		"どんなヤツなんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Aaron", "SAHAD")
	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#000e#000m外見的な特徴は"
		"残念ながら俺にも分からない。\p"
		"船上で待ち合わせた同僚に"
		"教えてもらうつもりだったんだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	StopBGM(120)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -8.727f , -1358.510f , 13.211f , 30 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.945f , 30 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.399f , 30 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 159.041f , 30 )

	Blur( BLUR_TYPE_AFTERIMAGE ,0.3f , 15 )	// 残像

	EarthQuake(0.05f, 0.05f, 15)

	//	中年男性の声
	SetName("中年男性の声")
	TalkPopup(UNDEF,0,0,0,0,0) {
		"#4566V#18Sうぎゃああああっ！！"	//（２倍角）
	}
		Wait(10)
		
		//　　その場全員に「！」エモーション
		EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
		EmotionEx("SAHAD", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
		EmotionEx("Aaron", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
		EmotionEx("Dogi", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
		ChangeAnimation("ADOL", "ANI_EV_STWAIT_S", -1, 1)
		ChangeAnimation("LAXIA", "ANI_EV_SUP_S", -1, 1)
		ChangeAnimation("SAHAD", "ANI_EV_BIBIRI_S", -1, 1)
	
		Wait(45)	// ← ボイスに合わせる

	ClosePrompt()
	WaitCloseWindow()
	SetName("")

	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -9.333f , -1359.106f , 13.143f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.604f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.805f , 0 )	// 基本仰角
	RotateCamera( 0 , 359.934f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 再表示

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -8.28f, -1357.53f, 11.57f)
	Turn("ADOL", 17.12f, 360.0f)
	SetChrPos("LAXIA", -9.26f, -1357.70f, 11.57f)
	Turn("LAXIA", 9.46f, 360.0f)
	SetChrPos("SAHAD", -8.01f, -1359.30f, 11.57f)
	Turn("SAHAD", 96.14f, 360.0f)
	SetChrPos("Dogi", -10.26f, -1358.16f, 11.57f)
	Turn("Dogi", -25.31f, 360.0f)
	SetChrPos("Aaron", -10.24f, -1360.19f, 11.57f)
	Turn("Aaron", -126.92f, 360.0f)
//	SetChrPos("Licht", -11.44f, -1359.82f, 11.57f)
//	Turn("Licht", -22.94f, 360.0f)

	LookReset("SAHAD")

	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD,1)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_MAJI,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SHOUT,1)

	LookTo("LAXIA", -8.273f , -1366.935f , 13.639f)		// 座標：外のほう
	LookTo("Dogi", -8.273f , -1366.935f , 13.639f)		// 座標：外のほう
	Look("ADOL", -10.0f, 13.0f)	// ↑（＾＾）

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -9.333f , -1359.106f , 13.143f , 150 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.604f , 150 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.372f , 150 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 348.188f , 150 )

	// フェード待ち
	Wait(FADE_CROSS)

	LookTo("Aaron", -8.273f , -1366.935f , 13.639f)		// 座標：外のほう
	Turn("Aaron", -30.99f, 8.0f)

	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000mひいいっ！？"
	}
	WaitPrompt()
	WaitCloseWindow()

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000mな、何！？"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayBGM(BGM_EVENT_010, 0)
	FadeBGM(100,0)

	ChangeAnimation( "Aaron", "ANI_EV_YARUKI_S", -1, 1 )	// こぶしたたきつける

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#031e#000mチッ、外からだな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルの頷きモーション見せてから操作許可。
	

	Wait(20)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

///終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S451_ED")
}

function "EV_M02S451_ED"
{
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//モンスターを復帰
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Dogi")
	CallFunc("system:reset_chrmot_Aaron")
//	CallFunc("system:reset_chrmot_Licht")
	
	LookSpd( "Barbaross2", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//ポートレート全開放・全クローズ
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//マップパラメーターリセット
	ResetMapParam( -1 )

	ActiveVoiceStop(ACTIVEVOICESTOP_FORCE)		//アクティブボイス強制終了

	SetFlag( GF_02MP1202_HEAR_SHOUT , 1 )			// 叫び声を聞いた
	//SetFlag( SF_MISSIONNO, MS_02_14 )	//★冒険メモ：叫び声の主を探そう。
	SetFlag(GF_NPC_2B_05_HEAR_SHOUT,	1)	//カーラン卿の悲鳴を聞いた
	//JoinNPC( NPC_BARBAROSS, JOIN_NPC_LEAVE )		//バルバロス死亡・迎撃戦離脱
	//JoinNPC( NPC_CURRAN, JOIN_NPC_LEAVE )			//カーラン怪我をして悲鳴・迎撃戦離脱
	//JoinNPC( NPC_LICHT, JOIN_NPC_JOIN )				//迎撃戦にリヒトが参加
	//SetDiaryCharaFlag( DRCHA_AARON, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（エアラン）
	
	
	//ヒュンメル装備解除（武器以外）
	EquipArmor(HUMMEL, -1)
	EquipShield( HUMMEL, -1 )
	EquipAccessory(HUMMEL, -1, 0)
	EquipAccessory(HUMMEL, -1, 1)

	if(FLAG[SF_ATKMEMBERNUM] == 1 )
	{
		if(IsPartyIn(PARTY_HUMMEL))
		{
			//SetPartyMember( PARTY_ADOL , -1, -1 )
		}
		//SetFlag( SF_HUMMEL_JOINOK, 0 )		//	ヒュンメル一時脱退
	}
	else
	{
		//ヒュンメルがパーティにいた場合、パーティからヒュンメルを外す
		if(IsPartyIn(PARTY_HUMMEL)){
			//SeparateParty( PARTY_HUMMEL )
			//SetFlag( SF_HUMMEL_JOINOK, 0 )		//	ヒュンメル一時脱退

			//パーティにいない誰かをJOIN
			if(!IsPartyIn(PARTY_ADOL)){
				//JoinParty( PARTY_ADOL )
			}
			else if(!IsPartyIn(PARTY_LAXIA)){
				//JoinParty( PARTY_LAXIA )
			}
			else if(!IsPartyIn(PARTY_SAHAD)){
				//JoinParty( PARTY_SAHAD )
			}
		}else {
			//SetFlag( SF_HUMMEL_JOINOK, 0 )		//	ヒュンメル一時脱退
		}
	}

	//マーカーセット
	DelMapMarker( SMI_SYMBOL,PAGE_F009,MARKER_EV_M02S430, 0, 0)
	SetMapMarker(SMI_EVENTPT_MAIN ,PAGE_MP120x, MARKER_EV_M02S452, -28.80f,-1424.83f,27.90f,-28.80f,-1424.83f,0, MN_T_VILLAGE_MP1201,0)	//カーラン卿襲われる

	//お一人様モード
	//SetFlag( GF_PARTY_NONE , 1)		//パーティ全員行動ON
	//FixPlayerChr(PARTY_NONE)		// アドルおひとり様モードOFF
	
	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init")

	SetChrPos("LEADER",-12.30f,-1362.77f,11.57f)
	Turn("LEADER",-24.90f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰or初期位置設定
	MoveCameraAt( 0 , -11.470f , -1364.460f , 12.942f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 14.622f , 0 )	// 基本仰角
	RotateCamera( 0 , -153.344f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	//SetWork( WK_BGM , BGM_EVENT_010 )	//◆イベントジャンプ用
	PlayBGM(BGM_EVENT_010, 0)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
	//終了処理ここまで----------------------------------------------------
}

function "EV_M02S452"		//カーラン卿が襲われた	
{
//開始処理ここから----------------------------------------------------

	CallFunc("system:solo_event_begin")
	
	ResetStopFlag(STOPFLAG_EVENT)
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	
	LoadChr("Curran")
	
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	ResetMotion( "ALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")

	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	SetChrPos("ADOL",-8.22f,-1433.23f,20.58f)
	Turn("ADOL",56.62f,360.0f)
	SetChrPos("LAXIA",-5.41f,-1433.41f,19.60f)
	Turn("LAXIA",79.39f,360.0f)
	SetChrPos("SAHAD",-6.21f,-1431.47f,19.60f)
	Turn("SAHAD",70.55f,360.0f)

	SetChrPos("Curran",-38.63f,-1415.27f,29.47f)
	Turn("Curran",18.76f,360.0f)

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_ANGER,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("ADOL" , "Curran")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_ANGER,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("LAXIA" , "Curran")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_ANGER,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("SAHAD" , "Curran")

	SetChrInfoFlag( "Curran" , INFOFLAG_NOCHRATARI )
	SetChrWork("Curran", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeSubAnimation("Curran",SUBMOT_EYE,ANI_E_ANGER_CLOSE,1)
	ChangeSubAnimation("Curran",SUBMOT_MOUTH,ANI_M_SUP,1)
	ChangeSubAnimation("Curran",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Curran" , "ANI_EV_JITABATA_L", -1 , 1 )

	MoveCameraAt( 0 , -6.200f , -1432.622f , 21.881f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 7.100f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -11.897f , 0 )	// 基本仰角
	RotateCamera( 0 , 89.782f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.1f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000 ,1.000 ,0.700 ,0.500)
	SetDoFFocus(0, 0, 0)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetSkipScript("mp1201:EV_M02S452_ED")	

//開始処理ここまで-----------------------------------------------

	SetMotSpd("SAHAD" , -1 , 0.8)
	SetMotSpd("LAXIA" , -1 , 0.9)

	FadeBGM(60,10)
	SetStopFlag(STOPFLAG_CINEMA)

	TalkMes("Curran","#4567V#20Sあ、あ、足がぁぁ！！","","")	//（２倍角）
	Wait(90)
	ClosePrompt()

	TalkMes("Curran","#4568V#20S私の足がぁぁぁぁ！！","","")	//（２倍角）
	Wait(30)

	ExecuteCmd( 1, MoveTo, "ADOL", -24.31f,-1433.50f,25.25f, 0.1f, 0.55f 	)
	ExecuteCmd( 2, MoveTo, "LAXIA", -23.91f,-1435.11f,25.16f, 0.1f, 0.52f )
	ExecuteCmd( 3, MoveTo, "SAHAD", -21.36f,-1434.51f,24.68f, 0.1f, 0.48f )

	//SetChrPos("ADOL",-24.31f,-1433.50f,25.25f)
	//Turn("ADOL",92.27f,360.0f)
	//SetChrPos("LAXIA",-23.91f,-1435.11f,25.16f)
	//Turn("LAXIA",87.13f,360.0f)
	//SetChrPos("SAHAD",-21.36f,-1434.51f,24.68f)
	//Turn("SAHAD",85.81f,360.0f)

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,-13.451f , -1434.578f , 24.113f , 120  )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 7.100f , 120  )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , -11.897f , 120 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE ,66.477f , 120)		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 3.6f , 120  )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 120 )		// 視野角

	//MoveCameraAt( 0 , -13.451f , -1434.578f , 24.113f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 7.100f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -11.897f , 0 )	// 基本仰角
	//RotateCamera( 0 , 66.477f , 0 )				// 角度
	//ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -1.1f , 0 )				// ロール回転

	FadeBGM(70,30)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　村外れ(畑予定地)に駆けつけたところでイベント開始。
	//　　画面スクロールして、カーランが
	//　　足を抱えてひたすらのた打ち回っているのを見える。

	Wait(40)
	ClosePrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	Wait(25)

	CrossFade(FADE_FAST)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	StopThread(1006)

	MoveCameraAt( 0 , -33.576f , -1423.278f , 30.092f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 11.269f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 17.824f , 0 )	// 基本仰角
	RotateCamera( 0 , 248.858f , 0 )				// 角度
	ChangeCameraPers( 0 , 23.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,-35.268f , -1419.443f , 29.447f , 90  )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 11.269f , 90  )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , 10.187f , 90 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 228.044f , 90)		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 3.6f , 90  )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 90 )		// 視野角

	//MoveCameraAt( 0 , -35.268f , -1419.443f , 29.447f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 11.269f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 10.187f , 0 )	// 基本仰角
	//RotateCamera( 0 , 228.044f , 0 )				// 角度
	//ChangeCameraPers( 0 , 23.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転


	WaitThread(1)
	Turn("ADOL",155.24f,10.0f)

	WaitThread(3)
	Turn("SAHAD",140.88f,10.0f)

	WaitThread(2)
	Turn("LAXIA",143.68f,10.0f)

	Wait(5)
	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	//	"LAXIA"
	TalkMes("LAXIA","#0723Vカーラン卿！！","","")
	Wait(20)

	ExecuteCmd( 1, MoveTo, "ADOL", -37.76f,-1416.24f,29.47f, 0.1f, 0.75f )
	ExecuteCmd( 2, MoveTo, "LAXIA", -39.12f,-1416.72f,29.47f, 0.1f, 0.70f )
	ExecuteCmd( 3, MoveTo, "SAHAD", -36.88f,-1415.61f,29.47f, 0.1f, 0.67f )

	//SetChrPos("ADOL",-37.76f,-1416.24f,29.47f)
	//Turn("ADOL",132.43f,360.0f)
	//SetChrPos("LAXIA",-39.12f,-1416.72f,29.47f)
	//Turn("LAXIA",-174.21f,360.0f)
	//SetChrPos("SAHAD",-36.88f,-1415.61f,29.47f)
	//Turn("SAHAD",119.41f,360.0f)

	Wait(60)

	ClosePrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	Wait(20)

	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , -37.903f , -1416.590f , 30.638f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.068f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -10.796f , 0 )	// 基本仰角
	RotateCamera( 0 , 181.069f , 0 )				// 角度
	ChangeCameraPers( 0 , 36.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	TalkMes("SAHAD","#1663V#050e#000mだ、大丈夫なのか？","","")

	WaitThread(1)
	Look("ADOL" , 0 , 10 )
	LookReset("LAXIA")
	ChangeAnimation( "ADOL" , "ANI_EV_SHAGAMI_S", -1 , 1 )

	WaitThread(2)
	Turn("LAXIA",-166.85f,15.0f)
	ChangeAnimation( "LAXIA" , "ANI_EV_SHAGAMI_S", -1 , 1 )

	WaitThread(3)
	Turn("SAHAD",118.84f,15.0f)
	SetMotSpd("SAHAD" , -1 , 1.0)
	SetMotSpd("LAXIA" , -1 , 1.0)

	Wait(20)

	ClosePrompt()
	WaitCloseWindow()

	//　　倒れ込んだカーラン卿のもとに駆け寄るアドルたち。


	Wait(20)

	ChangeAnimation( "SAHAD" , "ANI_EV_SUP_S", -1 , 1 )
	TalkMes("SAHAD","#1664V#040l#061e#200mひいっ、こ、こいつは……","","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	Wait(20)

	CrossFade(45)
	ChangeAnimation( "Curran" , "ANI_EV_SIRI_LEG_L", -1 , 1 )

	MoveCameraAt( 0 , -29.426f , -1434.050f , 28.456f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.628f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.849f , 0 )	// 基本仰角
	RotateCamera( 0 , 31.647f , 0 )				// 角度
	ChangeCameraPers( 0 , 19.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.6f , 0 )				// ロール回転


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 20.000 ,2.000 ,0.100 ,0.500)
	SetDoFFocus(0, 0, 18.0)


	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , -28.409f , -1433.422f , 28.456f , 650  )		// 注視点
//	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 6.368f , 400  )		// 基本距離
//	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , -9.113f , 400 )		// 基本仰角
//	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 325.092f , 400)		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 3.6f , 400  )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 400 )		// 視野角

	//MoveCameraAt( 0 , -28.409f , -1433.422f , 28.456f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 4.628f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -4.849f , 0 )	// 基本仰角
	//RotateCamera( 0 , 31.647f , 0 )				// 角度
	//ChangeCameraPers( 0 , 19.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -0.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	Wait(50)
	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	HeadNo("LAXIA" , 1 , 30 )
	//	"LAXIA"
	TalkMes("LAXIA","#0724V#030e#000m血だわ……","","")
	WaitPrompt()
	TalkMes("LAXIA","#0725V#041e#000m両足に……バルバロス船長と",
		"同じような傷を負っているようです。","")
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルとサハドに「！」エモーション。
	EmotionEx("ADOL", 0.0f,EMO_EX,0,5,1,1,2.0f )
	EmotionEx("SAHAD", 0.0f,EMO_EX,0,5,1,1,2.0f )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SAD_CLOSE_E,1)
	LookChr("SAHAD" , "LAXIA" )

	Wait(40)

	LookReset("SAHAD")
	ChangeAnimation( "SAHAD" , "ANI_EV_SUP_E", -1 , 1 )
	TalkMes("SAHAD","#1665V#000l#061e#000mてことは……","","")
	WaitPrompt()

	WaitAnimation2( "SAHAD" , -1, 1, "ANI_EV_SUP_E",  0)
	ChangeAnimation( "SAHAD" , "ANI_EV_BIBIRI_S", -1 , 1 )

	TalkMes("SAHAD","#1666V#160e#110mひいい！　この辺りに",
		"まだ名無しがいるってことか？","")
	WaitPrompt()
	WaitCloseWindow()

	//　　周囲をキョロキョロするサハド。

	Wait(30)

	//MTDのSE鳴らさない
	SetFlag( SF_NOUSE_MTDSE, 1 )

	CrossFade(FADE_CROSS)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	StopThread(1006)

	SetChrInfoFlag( "Curran" , INFOFLAG_INVISIBLE )
	
	MoveCameraAt( 0 , -39.775f , -1418.112f , 30.911f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.628f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -14.723f , 0 )	// 基本仰角
	RotateCamera( 0 , 143.901f , 0 )				// 角度
	ChangeCameraPers( 0 , 25.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 3.6f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 30.000 ,2.000 ,0.500 ,0.500)
	SetDoFFocus(0, 0, 0)

	Wait(FADE_CROSS)
	Wait(10)

	TalkMes("LAXIA","#0726V#000mカーラン卿の手当てが先です。","手当2行目","")
	WaitPrompt()
	TalkMes("LAXIA","#0727V#042e#000m#010lアドル・クリスティン！",
		"と、とにかく助けを呼びましょう。","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	//　　アドル頷きつつ画面フェードアウト
	LookSpd("ADOL"  , 0.10 , 0.10 , 0.10 )
	Look("ADOL" , -20 , 0 )
	LookRoll("ADOL" , 15 )
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKL_S,1)

	Wait(15)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_ANGER_CLOSE_S,1)
	HeadYes("ADOL" , 1 , 25 )

	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_ANGER_CLOSE_E,1)
	Wait(20)

	StopBGM(120)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	Wait(60)

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S452_ED")
}

function "EV_M02S452_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	StopBGM(30)
	//SetFlag(SF_NOCHANGEBGM, 1)
	//MTDのSE鳴らす
	SetFlag( SF_NOUSE_MTDSE, 0 )

	//フラグ処理
	SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット
	SetFlag( GF_MPxxxx_MAP_NAME_NO_DRAW, 0 )				// 地名表示を消す

	//LoadArg("map/mp1201/mp1201.arg")
	EventCue("mp1201:EV_M02S460")

	ResetStopFlag(STOPFLAG_EVENT)

//終了処理ここまで----------------------------------------------------

}


//──────────────────────────────
//▼集会所で漂流者たちと話し合う
//──────────────────────────────
function "EV_M02S460"		//漂流者たちの話し合い
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Barbaross")
	LoadChr("Dogi")
	LoadChr("Alison")
	LoadChr("Paro")
	LoadChr("Curran")
	LoadChr("Kiergaard")
	LoadChr("Katrin")
	LoadChr("Aaron")
	LoadChr("Licht")
	LoadChr("Dina")

	CallFunc("system:Load_FreeNPC_Event")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定	
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 28.57f, -1420.65f, 10.83f)
	Turn("ADOL", 25.01f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	LookChr("ADOL","Curran")
	
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 28.62f, -1422.74f, 10.83f)
	Turn("LAXIA", 34.33f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	LookChr("LAXIA","Curran")
	
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 27.86f, -1419.97f, 10.83f)
	Turn("SAHAD",18.99f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	LookChr("SAHAD","Curran")

	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 24.84f, -1420.75f, 10.83f)
	Turn("Dogi", -49.25f, 360.0f)
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	LookReset("Dogi")

	SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI )
	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Barbaross", 24.81f, -1422.76f, 10.83f)
	Turn("Barbaross", -102.22f, 360.0f)
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Barbaross", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("Barbaross")

	SetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI )
	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison", 25.96f, -1417.50f, 10.83f)
	Turn("Alison", -14.14f, 360.0f)
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Alison")
	ChangeAnimation("Alison", "ANI_EV_SIT_C", -1, 1)

	SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI )
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 25.66f, -1424.65f, 10.83f)
	Turn("Aaron", -30.78f, 360.0f)
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Aaron")
	ChangeAnimation( "Aaron", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "Licht" , INFOFLAG_NOCHRATARI )
	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Licht", 28.94f, -1425.09f, 10.83f)
	Turn("Licht", 87.78f, 360.0f)
	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Licht")
	ChangeAnimation( "Licht", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "Katrin" , INFOFLAG_NOCHRATARI )
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Katrin", 29.20f, -1423.67f, 10.83f)
	Turn("Katrin", 75.22f, 360.0f)
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Katrin")
	ChangeAnimation( "Katrin", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "Curran" , INFOFLAG_NOCHRATARI )
	SetChrInfoFlag("Curran", INFOFLAG_FLING)
	SetChrWork("Curran", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Curran", 27.36f, -1426.60f, 11.36f)
	Turn("Curran", -113.96f, 360.0f)
	ChangeAnimation("Curran", "ANI_EV_SIRI_L", -1, 1)
	ChangeSubAnimation("Curran",SUBMOT_EYE,ANI_E_ANGER_CLOSE,1)
	ChangeSubAnimation("Curran",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Curran")
	ChangeAnimation("Curran", "ANI_EV_SIRI_LEG_S", -1, 1)

	SetChrPos("eq4031", 27.36f, -1426.60f, 11.36f)
	SetParent("eq4031", "Curran" , "Bone_Lhip")

	SetChrInfoFlag( "Kiergaard" , INFOFLAG_NOCHRATARI )
	SetChrWork("Kiergaard", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kiergaard", 27.42f, -1425.66f, 10.83f)
	Turn("Kiergaard", -0.32f, 360.0f)
	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Kiergaard")
	ChangeAnimation("Kiergaard", "ANI_EV_SHAGAMI", -1, 1)

	SetChrInfoFlag( "Dina" , INFOFLAG_NOCHRATARI )
	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dina", 25.30f, -1417.69f, 10.83f)
	Turn("Dina", -10.61f, 360.0f)
	ChangeSubAnimation("Dina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dina")
	ChangeAnimation("Dina", "ANI_EV_SIT_C", -1, 1)

//	SetChrInfoFlag("Paro", INFOFLAG_NOCHRATARI)
//	SetChrPos("Paro", -4.48f, -1473.37f, 26.22f)
//	Turn("Paro", 159.84f, 7.0f)
//	SetParent("Paro", "Barbaross", "Null_paro")
//	ChangeAnimation("Paro", "ANI_WAIT5", -1, 1)
//	ChangeSubAnimation("Paro", SUBMOT_EYE, ANI_E_WAIT, 1)
//	ChangeSubAnimation("Paro", SUBMOT_MOUTH, ANI_M_WAIT, 1)
//	LookReset("Paro")

	MoveCameraAt( 0 , 27.044f , -1422.101f , 11.266f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.209f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 31.790f , 0 )	// 基本仰角
	RotateCamera( 0 , 5.991f , 0 )				// 角度
	ChangeCameraPers( 0 , 44.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000, 0.000, 0.150, 0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

//	StopBGM(0)

	SetSkipScript("mp1201:EV_M02S460_ED")

//開始処理ここまで-----------------------------------------------

	// カット0（暗転）---------------------------------------------------------------------------------

	//　　画面暗転のまま、焚火のＳＥを聞かせつつ
	//　　以下のメッセージを表示する。

	SetEnvSEPlayState(1201201, 1)
	Wait(30)

	//	テキスト
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0) {
		"#7Cその後、バルバロス船長は怪我を押して、"
		"#7C漂流者全員に状況を説明した。\p"
		"#7Cしかし、カーラン卿もまた"
		"#7C名無しの後ろ姿しか見ていないという。\p"
		"#7C依然、手がかりが少ないことから、"
		"#7C漂流者たちの不安は募る一方であった。\p"
		"#7Cそして──── "
	}
	WaitPrompt()
	WaitCloseWindow()

	SetEnvSEPlayState(1201201, 0)
	Wait(15)

	// カット1 -----------------------------------------------------------------------------------------

	//　　画面フェードインして、夕暮れの漂流村。
	//　　漂流者たちが焚火の周りに集まっている。
	//　　キルゴールはカーラン卿の足を手当てしている。

	MoveCameraAt( 0 , 26.938f , -1420.228f , 13.672f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.801f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.699f , 0 )	// 基本仰角
	RotateCamera( 0 , 159.687f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.097f , -1420.562f , 12.752f , 120 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 6.321f , 120 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.131f , 120 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 126.743f , 120 )

	PlayBGM(BGM_EVENT_008, 0)
	SetEnvSEPlayState(-1, 1)

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	// カット2 -----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_NORMAL)
	
//	// カメラ
//	MoveCameraAt( 0 , 27.009f , -1426.281f , 12.227f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 1.761f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -4.132f , 0 )	// 基本仰角
//	RotateCamera( 0 , 175.444f , 0 )				// 角度
//	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , 27.009f , -1426.281f , 11.907f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.761f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.132f , 0 )	// 基本仰角
	RotateCamera( 0 , 175.444f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Look("Kiergaard", 0.0f, 25.0f)	// 見上げる
	LookChr("Licht", "Curran")
	LookChr("Katrin", "Curran")

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.009f , -1426.281f , 11.907f , 60 )

//	// カメラ待ち
//	WaitThread(1000)
	Wait(FADE_NORMAL)

	// カーラン
	TalkPopup("Curran",0,2,0,0,0) {
		"#042e#000mもう我慢ならんのであるっ！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Look("Curran", -25.0f, 5.0f)	// （＾＾）→
	
	// カーラン
	TalkPopup("Curran",0,2,0,0,0) {
		"この中に殺人鬼がいるなら、"
		"さっさと名乗りでよ！\p"
		"確か貧相な顔した新参者がいたな……"
		"貴様ではないのか！？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Curran", "Licht")

	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , 26.899f , -1426.199f , 12.107f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.001f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.132f , 0 )	// 基本仰角
	RotateCamera( 0 , 289.171f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェード待ち
	Wait(FADE_CROSS)

	// リヒト
	TalkPopup("Licht",0,2,0,0,0) {
		"#051e#000mひいい、そ、そんな……"
		"断じてボクでは……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カーラン
	TalkPopup("Curran",0,1,0,0,0) {
		"#000e#000mよくもこの私の足にこんな……"
		"アイタタタタ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Kiergaard")
	// キルゴール
	TalkPopup("Kiergaard",0,2,0,0,0) {
		"#050e#000m落ち着いてください、カーラン卿。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)
	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 27.117f , -1426.245f , 12.227f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.482f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.986f , 0 )	// 基本仰角
	RotateCamera( 0 , 357.645f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_CLOSE,1)

	LookChr("Aaron", "Curran")

	// カメラ移動
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 352.202f , 300 )

	// フェード待ち
	Wait(FADE_NORMAL)
	
	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#000e#000m考えるまでもないことだがァ、"
		"犯人はリヒトじゃねえ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Curran", -35.0f, 5.0f)	// （＾＾）→
	
	// カーラン
	TalkPopup("Curran",0,1,0,0,0) {
		"#000e#000mなぬ！？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	LookChr("Licht", "LAXIA")

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000mええ、船長が切られた時刻に、"
		"彼はわたくしたちと行動していました。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// リヒト
	TalkPopup("Licht",0,1,0,0,0) {
		"#000e#000mあ、ありがとうございます……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Curran")

	// カーラン
	TalkPopup("Curran",0,1,0,0,0) {
		"#000e#000mフ、フン……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("Katrin")
	ChangeAnimation( "Katrin", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"#011e#000mでも、実際このまま手を"
		"こまねいているわけにもいかないわ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カーラン
	TalkPopup("Curran",0,1,0,0,0) {
		"#010e#000mこれ以上、殺人鬼が潜むような島で"
		"過ごすのはまっぴら御免である！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	EmotionEx("Curran", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	Wait(35)
	Look("Curran", -35.0f, 5.0f)	// （＾＾）→
	
	// カーラン
	TalkPopup("Curran",0,1,0,0,0) {
		"そうだ、そこの大男が"
		"確か小舟を作っておったではないか。\p"
		"あれで海に出て、通りかかった船舶に"
		"助けを求めるのはどうなのだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , 25.420f , -1421.855f , 12.555f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.462f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.241f , 0 )	// 基本仰角
	RotateCamera( 0 , 24.726f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	SetChrPos("SAHAD", 27.38f, -1419.72f, 10.83f)
	Turn("SAHAD", 40.31f, 360.0f)
	LookChr("SAHAD", "Barbaross")

	LookChr("Alison" , Barbaross"")
	LookChr("Dina", "Barbaross")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 25.715f , -1422.212f , 12.555f , 450 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.462f , 450 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.618f , 450 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 2.669f , 450 )

	// 非表示・再表示
	SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 非表示

	// フェード待ち
	Wait(FADE_CROSS)

	LookSpd("Dogi",0.08f,0.08f,0.08f)
	LookChr("Dogi", "Barbaross")

	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000e#000mうーむ、どうなんすかね。"
		"バルバロスの旦那？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dina", "Barbaross")
	ChangeAnimation( "Dina", "ANI_EV_SC_TEBURI", -1, 1 )	// イス手振り
	
	// ディナ
	TalkPopup("Dina",0,2,0,0,0) {
		"#000e#000m私は賛成だわ。"
		"試すくらいアリなんじゃないの？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Barbaross", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	//	"Barbaross"
	TalkPopup("Barbaross",0,1,0,0,0) {
		"#011e#000m……セイレン島の近海は皆恐れて、"
		"船が通ることはまずありません。\p"
		"#012e#000m助けを求めるとなると、"
		"外海まで出る必要があります。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Look("Barbaross", 0.0f, -10.0f)	// うつむく

	//	"Barbaross"
	TalkPopup("Barbaross",0,1,0,0,0) {
		"#011e#000mただ何の装備もない筏同然の"
		"小舟で外海に出るのは……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#011e#000mそりゃー、無謀ってモンよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dina", "SAHAD")

	//	"Dina"
	TalkPopup("Dina",0,2,0,0,0) {
		"#051e#000mそ、そっか……"
	}
	WaitPrompt()
	WaitCloseWindow()


	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 27.373f , -1425.712f , 12.167f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.401f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.335f , 0 )	// 基本仰角
	RotateCamera( 0 , 18.737f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 再表示
	
	// 位置調整・表情・モーション
	SetChrPos("LAXIA", 28.06f, -1423.38f, 10.83f)
	Turn("LAXIA", 30.78f, 360.0f)
	SetChrPos("Aaron", 24.60f, -1424.74f, 10.83f)
	Turn("Aaron", -55.65f, 360.0f)
	Turn("Barbaross", -52.48f, 360.0f)
	LookChr("Dogi", "Curran")
	LookChr("Dina", "Curran")
	LookChr("Alison", "Curran")
	LookChr("Barbaross", "Curran")
	LookChr("SAHAD", "Curran")
	LookChr("Licht", "Curran")
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目

	ChangeAnimation( "Barbaross", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// フェード待ち
	Wait(FADE_CROSS)

	//	"Curran"
	TalkPopup("Curran",0,1,0,0,0) {
		"#000e#000mでは、一体どうしろと言うのだ！？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("Curran")
	
	//	"Curran"
	TalkPopup("Curran",0,1,0,0,0) {
		"#000mあれはダメ、これはダメと言うばかりで"
		"何も解決しないではないか！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Look("Curran", -40.0f, 5.0f)	// （＾＾）→
	
	//	"Curran"
	TalkPopup("Curran",0,1,0,0,0) {
		"元はと言えば船長！"
		"船が沈んだのはアンタの責任であろう！\p"
		"アンタが助けを呼んでくるべきである！"
		"アンタ4行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#050e#000mちょっと……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Barbaross", 0.0f, -10.0f)	// うつむく

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#010e#000m#0L………………………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　不意に聞き覚えのある獣の雄叫びが
	//　　至近から夜空にこだまする。

	EarthQuake( 0.02f , 0.02f , 50 )	// 縦揺れ幅, 横揺れ幅, 時間
	Blur(BLUR_TYPE_EXPAND, 0.2f, 50)	//ブラー
	PlaySE(SE_M02S460_01, 80, 0, 0, 0, 1.0f, 0)

	Wait(10)

	LookReset("Licht")
	LookReset("Barbaross")
	LookReset("Aaron")
	LookReset("SAHAD")
	LookReset("LAXIA")
	LookReset("Dogi")
	Look("Kiergaard" , 0 , 25)

	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_CLOSE_E,1)


	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_ANGER_S,1)
	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_SUP_S,1)
	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_SUP_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_ANGER_S,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_ANGER_S,1)
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_ANGER_S,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_ANGER_S,1)

	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SAD_S,1)

	ChangeAnimation( "Aaron" , "ANI_EV_RYOTEKOSI_E", -1 , 1 )
	ChangeAnimation( "Barbaross" , "ANI_EV_SUP_S", -1 , 1 )
	ChangeAnimation( "Licht" , "ANI_EV_SUP_S", -1 , 1 )
	ChangeAnimation( "LAXIA" , "ANI_EV_SUP_S", -1 , 1 )
	ChangeAnimation( "SAHAD" , "ANI_EV_SUP_S", -1 , 1 )
	ChangeAnimation( "ADOL" , "ANI_EV_STWAIT_S", -1 , 1 )

	Wait(45)

	FadeBGM(70,10)

	// アリスン
	TalkPopup("Alison",0,2,0,0,0) {
		"#4445V#061e#000mきゃ！？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Curran")

	//	"Curran"
	TalkPopup("Curran",0,1,0,0,0) {
		"#4569V#050e#000mこ、こ、今度は一体何なのだ！？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Dogi")
	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0) {
		"#3672V#000m獣どもの襲撃か？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Licht", "Dogi")
	ChangeAnimation( "Licht", "ANI_EV_SUP_E", -1, 1 )	// 手振り

	//	"Licht"
	TalkPopup("Licht",0,1,0,0,0) {
		"#4312V#000e#000mず、ずいぶん近くで聞こえました。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット7 ----------------------------------------------------------------------------------------

	//　　咄嗟に顔を見合わせるアドル、ラクシャ、サハド。

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , 28.713f , -1421.716f , 12.775f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.760f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.537f , 0 )	// 基本仰角
	RotateCamera( 0 , 54.761f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", 29.06f, -1420.79f, 10.83f)
	Turn("ADOL", 42.78f, 360.0f)
	SetChrPos("LAXIA", 28.69f, -1422.60f, 10.83f)
	Turn("LAXIA", 30.78f, 360.0f)
	SetChrPos("SAHAD", 27.47f, -1420.17f, 10.83f)
	Turn("SAHAD", -27.20f, 360.0f)
	SetChrPos("Katrin", 29.38f, -1424.15f, 10.83f)
	Turn("Katrin", 75.22f, 360.0f)
	SetChrPos("Dogi", 25.22f, -1420.50f, 10.83f)
	Turn("Dogi", -24.38f, 360.0f)

	ChangeAnimation( "Licht" , "ANI_WAIT", -1 , 1 )
	ChangeAnimation( "LAXIA" , "ANI_EV_SUP_E", -1 , 1 )
	ChangeAnimation( "SAHAD" , "ANI_EV_SUP_E", -1 , 1 )
	ChangeAnimation( "ADOL" , "ANI_EV_STWAIT_E", -1 , 1 )


	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SAD,1)

	LookChr("ADOL", "LAXIA")
	LookChr("SAHAD", "LAXIA")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 28.713f , -1421.716f , 12.375f , 60 )

	// フェード待ち
	Wait(FADE_CROSS)

	LookChr("LAXIA", "SAHAD")
	Turn("LAXIA", 169.35f, 8.0f)

	// カメラ待ち
	WaitThread(1000)

	// ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#0728V#070e#070mまさか……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	HeadYes("SAHAD" , 1 , 25 )
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SAD_CLOSE_E, 1)

	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#1667V#000mま、間違いねえ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ドギに「！」エモーション。
	EmotionEx("Dogi", 0.025f, EMO_EX, 0, 5, 1, 1, 1.15f )	// 「！」
	
	LookChr("Dogi", "ADOL")
	Turn("Dogi", -67.02f, 6.0f)
	Wait(30)
	
	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#3673V#000mもしかしてサハドのおっさんを"
		"襲ったっていう異形の獣か？"
	}
	WaitPrompt()
	WaitCloseWindow()
		
	LookReset("ADOL")
	Look("ADOL", 0.0f, -10.0f)	// うつむく

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ドギ、みんなを頼む")
	MenuAdd(2,"ラクシャ、サハド、行くぞ！")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//─────────────────────────
	//	⇒ドギ、みんなを頼む
	if (FLAG[TF_MENU_SELECT] == 1){
	
		LookChr("ADOL", "Dogi")

		PlayVoice(Y8V_0164,"ADOL",100)	//ああ…（相槌）

		// 手振りセット
		ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_ANGER_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(20)
	
		ChangeAnimation("Dogi", "ANI_EV_GUTSPOSE_S", -1, 1)
		
		// ドギ
		TalkPopup("Dogi",0,2,0,0,0) {
			"#3674V#000e#080mおう、任せとけ！"
			"お前さんも気をつけろよ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	//	⇒ラクシャ、サハド、行こう！
	if (FLAG[TF_MENU_SELECT] == 2){
		
		LookReset("ADOL")
		Wait(5)
		PlayVoice(Y8V_0174,"ADOL",100)	//行くぞ！（意気込み／呼びかけ）

		ChangeAnimation( "ADOL", "ANI_EV_YARUKI_S", -1, 1 )	// ガッツポーズ
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_ANGER_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(10)
		
		LookChr("LAXIA", "ADOL")
		ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
		
		// ラクシャ
		TalkPopup("LAXIA",0,1,0,0,0) {
			"#0729V#000e#000mえ、ええ……！"
		}
		WaitPrompt()
		WaitCloseWindow()
	
		LookChr("SAHAD", "ADOL")
		ChangeAnimation( "SAHAD", "ANI_EV_BORI", -1, 1 )	// 頭かき
	
		// サハド
		TalkPopup("SAHAD",0,2,0,0,0) {
			"#1668V#051e#000mし、仕方ねーな。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	//─────────────────────────
	//　　操作許可。

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// 終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S460_ED")
}

function "EV_M02S460_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//モンスターを復帰
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_NPCALL")
	SetChrPos("eq4031",-100000.00f ,0.0f , 0.0f )

	ResetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 非表示

/*
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 0)	
	SetChrWork("Curran", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrWork("Kiergaard", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 0)

	ResetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Dogi" , "ANI_WAIT" -1 , 1 )
	LookReset( "Dogi" )

	ResetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI )
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Barbaross" , "ANI_WAIT" -1 , 1 )
	LookReset( "Barbaross" )

	ResetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI )
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Alison" )

	ResetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI )
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Aaron" )

	ResetChrInfoFlag( "Licht" , INFOFLAG_NOCHRATARI )
	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Licht" )

	ResetChrInfoFlag( "Katrin" , INFOFLAG_NOCHRATARI )
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Katrin" )

	ResetChrInfoFlag( "Dina" , INFOFLAG_NOCHRATARI )
	ChangeSubAnimation("Dina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Dina" )

	ResetChrInfoFlag( "Curran" , INFOFLAG_NOCHRATARI )
	ChangeSubAnimation("Curran",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Curran" )

	ResetChrInfoFlag( "Kiergaard" , INFOFLAG_NOCHRATARI )
	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Kiergaard" )
*/

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//フラグセット
	//SetFlag( GF_02MP1201_BEFORE_INTERCEPT2 , 1 )			// 迎撃戦ニ回目前
	//SetFlag( SF_MISSIONNO, MS_02_15 )	//★冒険メモ：力を合わせて獣を迎撃しよう。
	//SetFlag( GF_NPC_2B_06_BEFORE_INTERCEPT , 1)
	//SetFlag( SF_WARP_DISABLED, 1 )		//ワープ使用不可
	//マップマーカー
	DelMapMarker( SMI_EVENTPT_MAIN,PAGE_F005,MARKER_EV_M02S452, 0, 0)
//	SetMapMarker(SMI_EVENTPT_MAIN ,PAGE_MP120x, MARKER_EV_M02S470　, 34.82f,-1470.99f,7.18f, 34.82f,-1470.99f ,0, MN_T_VILLAGE_MP1201,0)	//迎撃戦	不要・ドギに話しかけるに変更

	//迎撃戦処理
	//Intercept(INTERCEPT_STAGE04, 1)	// 時間切れ間近(赤)
	//SetFlag(GF_MP1305_INTERCEPT, 1)
	//SetFlag(GF_INTERCEPT_NO, INTERCEPT_STAGE04)

	//SetFlag( GF_PARTY_NONE , 0)		//パーティ全員行動OFF
	//FixPlayerChr(PARTY_ADOL)		// アドルおひとり様モードON
	
	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init" )

	SetChrPos("LEADER",33.71f,-1417.54f,10.83f)
	Turn("LEADER",53.69f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰or初期位置設定
	MoveCameraAt( 0 , 33.710f , -1417.542f , 12.691f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.492f , 0 )	// 基本仰角
	RotateCamera( 0 , 126.313f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	PlayBGM(BGM_EVENT_008, 0)
	FadeBGM(100,30)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
	//終了処理ここまで----------------------------------------------------
}


function "EV_M02S481"		//古代種をラクシャが語る
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Barbaross")
	LoadChr("Dogi")
	LoadChr("Alison")
	LoadChr("Paro")
	LoadChr("Curran")
	LoadChr("Kiergaard")
	LoadChr("Katrin")
	LoadChr("Aaron")
	LoadChr("Licht")
	LoadChr("Dina")
	CallFunc("system:Load_FreeNPC_Event")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//焚き火・狼煙消し
	//MapHide("fire_alpha", 0)
	MapHide("smoke", 0)	//煙消し

	//キャラ初期状態の設定				
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 28.99f, -1421.90f, 10.83f)
	Turn("ADOL", 82.98f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
//	ChangeAnimation("ADOL", "ANI_EV_PARO", -1, 1)
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 29.23f, -1422.87f, 10.83f)
	Turn("LAXIA", 107.83f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("LAXIA")
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 28.66f, -1424.22f, 10.83f)
	Turn("SAHAD", 155.57f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("SAHAD")
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 28.49f, -1420.52f, 10.83f)
	Turn("Dogi", 30.42f, 360.0f)
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dogi")
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI )
	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Barbaross", 24.97f, -1421.70f, 10.83f)
	Turn("Barbaross", -93.15f, 360.0f)
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Barbaross", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("Barbaross")

	SetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI )
	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison", 28.81f, -1418.53f, 10.83f)
	Turn("Alison", 21.00f, 360.0f)
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Alison")
	ChangeAnimation( "Alison", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI )
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 25.40f, -1420.33f, 10.83f)
	Turn("Aaron", -42.92f, 360.0f)
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Aaron")
	ChangeAnimation( "Aaron", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "Licht" , INFOFLAG_NOCHRATARI )
	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Licht", 24.67f, -1422.94f, 10.83f)
	Turn("Licht", -107.36f, 360.0f)
	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Licht")
	ChangeAnimation( "Licht", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "Katrin" , INFOFLAG_NOCHRATARI )
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Katrin", 27.04f, -1419.60f, 10.83f)
	Turn("Katrin", -0.99f, 360.0f)
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Katrin")
	ChangeAnimation( "Katrin", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "Curran" , INFOFLAG_NOCHRATARI )
	SetChrWork("Curran", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Curran", 25.97f, -1423.71f, 10.83f)
	Turn("Curran", -124.62f, 360.0f)
	ChangeSubAnimation("Curran",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Curran")
	ChangeAnimation( "Curran", "ANI_WAIT", -1, 1 )	// 待機

	SetChrPos("eq4031", 25.97f, -1423.71f, 10.83f)
	SetParent("eq4031", "Curran" , "Bone_Lhip")

	SetChrInfoFlag( "Kiergaard" , INFOFLAG_NOCHRATARI )
	SetChrWork("Kiergaard", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kiergaard", 25.97f, -1424.69f, 10.83f)
	Turn("Kiergaard", -125.32f, 360.0f)
	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Kiergaard")
	ChangeAnimation( "Kiergaard", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag("Dina", INFOFLAG_NOCHRATARI)
	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dina", 27.87f, -1418.04f, 10.83f)
	Turn("Dina", 17.81f, 360.0f)
	ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dina", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dina", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dina")
	ChangeAnimation( "Dina", "ANI_WAIT", -1, 1 )	// 待機

	MoveCameraAt( 0 , 30.726f , -1420.118f , 12.403f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.761f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -11.910f , 0 )	// 基本仰角
	RotateCamera( 0 , 167.942f , 0 )				// 角度
	ChangeCameraPers( 0 , 54.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,2.000 ,0.550 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	StopBGM(0)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S481_ED")

//開始処理ここまで-----------------------------------------------

	//　　フェードインして焚き火前に集っている漂流者たち。
	//　　漂流者たちは憔悴しきったような表情。
	//　　新たにヒュンメルが加わっている。
	//　　陽が沈んで辺りは暗くなっている状態。

	PlayBGM(BGM_EVENT_017, 0)
	FadeBGM(70, 0)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,29.220f , -1419.763f , 12.403f, 85 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,4.760f , 85 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-11.910f , 85 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 152.241f , 85 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 100 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 100 )		// 視野角

	//MoveCameraAt( 0 , 29.220f , -1419.763f , 12.403f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 4.760f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -11.910f , 0 )	// 基本仰角
	//RotateCamera( 0 , 152.241f , 0 )				// 角度
	//ChangeCameraPers( 0 , 54.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	Wait(15)
	
	// カットX ----------------------------------------------------------------------------------------
	
	CrossFade(FADE_NORMAL)
	
	MoveCameraAt( 0 , 26.373f , -1423.023f , 12.189f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.361f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -6.237f , 0 )	// 基本仰角
	RotateCamera( 0 , 54.344f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェード待ち
	Wait(FADE_NORMAL)

	ChangeAnimation("Curran", "ANI_EV_RYOTEKOSI_S", -1, 1)
	
	TalkPopup("Curran",0,1,0,0,0)
	{
		"#040e#000mええい！\p"
		"名無しの件といい、"
		"一体この島はどうなっておるのだ！？"
	}
	WaitPrompt()
	WaitCloseWindow()


	LookChr("Aaron", "Barbaross")
	ChangeAnimation( "Aaron", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	//	"Aaron"
	TalkPopup("Aaron",0,2,0,0,0) {
		"#000e#000mとんでもねえモノを見ちまったなァ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "Aaron")

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000e#000mあれが話に聞いていた異形の獣……"
		"まさか、この付近にまで現れるとは。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	//　　ドギがアドルに語りかける。

	CrossFade(FADE_CROSS)

	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_CLOSE,1)

	MoveCameraAt( 0 , 28.328f , -1422.473f , 12.369f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.521f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.601f , 0 )	// 基本仰角
	RotateCamera( 0 , 325.649f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookChr("Dogi", "ADOL")

	Wait(FADE_CROSS)

	LookChr("Dogi", "ADOL")
	ChangeAnimation("Dogi", "ANI_EV_UDEGUMI_S", -1, 1)

	LookChr("ADOL", "Dogi")

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000m今までの冒険で渡り合ってきた"
		"獣や魔物とはまた異質な感じがしたな。\p"
		"うまく言えねえが、圧倒的な"
		"生命力と獰猛さが漲っているというか……\p"
		"ありゃあ、一体何なんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、「…」エモーション表示した後にラクシャを見やる。
	//　　それに気づいたようにラクシャにＰＡエモーションを表示。

	LookReset("ADOL")
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	EmotionEx("ADOL", 0.0f, "EMO_3DOT", 27, 5, 1, 1, 1.0f)	// 「…」
	Wait(52)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	LookChr("ADOL", "LAXIA")
	Turn("ADOL", 26.13f, 5.0f)
	Wait(20)

	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)
	
	MoveCameraAt( 0 , 28.682f , -1422.167f , 12.318f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.721f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.986f , 0 )	// 基本仰角
	RotateCamera( 0 , 222.931f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 212.042f , 90 )
	
	// フェード待ち
	Wait(FADE_CROSS)
	
	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	LookSpd("LAXIA",0.08f,0.08f,0.08f)
	LookChr("LAXIA", "ADOL")
	Wait(35)

	TalkPopup("LAXIA",0,2,0,0,0) {
		"#061e#000mな、何ですか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"知っていることを話してほしい")
	MenuAdd(2,"今は力を合わせることが大切だ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//─────────────────────────
	//	⇒知っていることを話してほしい
	if (FLAG[TF_MENU_SELECT] == 1){

		// ラクシャ
		TalkPopup("LAXIA",0,2,0,0,0) {
			"#062m#0L………………………………"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookReset("LAXIA")
		
		// ラクシャ
		TalkPopup("LAXIA",0,2,0,0,0) {
			"#010e#000m……わかりました。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒今は力を合わせることが大切だ
	if (FLAG[TF_MENU_SELECT] == 2){

		// ラクシャ
		TalkPopup("LAXIA",0,2,0,0,0) {
			"#062e#000mそ、そんなこと……"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookReset("LAXIA")

		// ラクシャ
		TalkPopup("LAXIA",0,2,0,0,0) {
			"#061e#000m……言われずとも分かっています。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//─────────────────────────

	LookChr("SAHAD", "LAXIA")
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// 両手腰

	TalkPopup("SAHAD",0,2,0,0,0) {
		"#012e#000mお？　嬢ちゃん、何か知ってんのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_NORMAL)
	LookChr("Dogi" , "LAXIA")
	LookChr("Alison", "LAXIA")
	LookChr("Aaron", "LAXIA")
	LookChr("Licht", "LAXIA")
	LookChr("Katrin", "LAXIA")
	LookChr("Curran", "LAXIA")
	LookChr("Kiergaard", "LAXIA")
	LookChr("Dina", "LAXIA")
	LookChr("Barbaross", "LAXIA")


	MoveCameraAt( 0 , 28.287f , -1422.933f , 12.574f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.981f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.209f , 0 )	// 基本仰角
	RotateCamera( 0 , 64.760f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 28.287f , -1422.933f , 12.574f , 600 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.981f , 600 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.650f , 600 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 88.536f , 600 )

	Wait(FADE_NORMAL)

	FadeBGM(60, 30)

	Wait(20)
	//　　皆がラクシャのほうへ向き直る。
	
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#0733V#000e#000m#0L………………………………\p"
		"#0734Vあれは……あの獣は……\p"
		"#0735Vおそらく《古代種》と呼ばれる生物です。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// 両手腰手振り

	//	"SAHAD"
	TalkPopup("SAHAD",0,1,0,0,0) {
		"#1674V#000e#000m古代種……？"
		"確か見張り小屋のメモに書かれてた……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	MoveCameraAt( 0 , 29.097f , -1422.829f , 12.314f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.891f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.645f , 0 )	// 基本仰角
	RotateCamera( 0 , 215.218f , 0 )				// 角度
	ChangeCameraPers( 0 , 23.101f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 232.396f , 600 )

	Wait(FADE_CROSS)

	ChangeAnimation("LAXIA", "ANI_EV_TEMUNE_S", -1, 1)

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#0736V#011e#000m遥か太古の昔──"
		"人がこの地上に現れる以前の話です。\p"
		"#0737V#012e#000m圧倒的な膂力#4Rりょりょく#Rをもって地上を支配し、"
		"やがて絶滅した巨大な生物たちがいました。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation("LAXIA", "ANI_EV_TEMUNE_E", -1, 1)
	
	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#0738V#011e#000mその生物たちの総称こそが《古代種》……\p"
		"#0739V#012e#000mまるで爬虫類のような"
		"容姿や獰猛さは彼らの特徴なのです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1003)

	MoveCameraAt( 0 , 26.024f , -1423.765f , 12.292f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.021f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.543f , 0 )	// 基本仰角
	RotateCamera( 0 , 92.994f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	ChangeSubAnimation("Curran", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目

	Wait(FADE_CROSS)

	ChangeAnimation("Curran", "ANI_EV_RYOTEKOSI_E", -1, 1)

	//	"Curran"
	TalkPopup("Curran",0,2,0,0,0)
	{
		"#4572V#011e#000m何を言い出すかと思えば……\p"
		"何を2行目"
		"#4573V#012e#000m見たこともない"
		"大昔のことがなぜ分かるのだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Kiergaard", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	//	"Kiergaard"
	TalkPopup("Kiergaard",0,2,0,0,0)
	{
//		"#4179V#000e#000m私も聞いたことがあります。\p"
		"#4179V#000e#000m僕も聞いたことがあります。\p"
		"#4180V#011e#000m古い地層から巨大な生物の"
		"遺骸が見つかることがあるとか……\p"
		"#4181V#012e#000m最近はロムン帝国の学術機関でも"
		"研究が始まったそうですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Curran", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	//	"Curran"
	TalkPopup("Curran",0,2,0,0,0)
	{
		"#4574V#011e#000mむ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)
	
	MoveCameraAt( 0 , 29.040f , -1423.565f , 12.389f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.901f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.668f , 0 )	// 基本仰角
	RotateCamera( 0 , 249.129f , 0 )				// 角度
	ChangeCameraPers( 0 , 34.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("LAXIA", 29.39f, -1422.97f, 10.83f)
	Turn("LAXIA", 97.17f, 360.0f)
	SetChrPos("SAHAD", 28.66f, -1424.22f, 10.83f)
	Turn("SAHAD", -179.56f, 360.0f)

	Wait(FADE_CROSS)

	//	"SAHAD"
	TalkPopup("SAHAD",0,1,400,150,0)
	{
		"#1675V#000e#000mひょっとして嬢ちゃんは"
		"その古代種とやらに詳しいのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "SAHAD")

	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_S", -1, 1 )	// 両手 前組み
	
	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#0740V#051e#000mえ、ええ……その……"
		"色々とあって知識はそれなりに。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	//	"SAHAD"
	TalkPopup("SAHAD", 0, 1, 400, 150, 0)
	{
		"#1676V#020e#080mガハハ、スゴイことじゃないか！"
		"スゴイ2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_E", -1, 1 )	// 両手 前組み

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#0741V#070e#000mへっ……？"	//（驚き）"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	//	"SAHAD"
	TalkPopup("SAHAD", 0, 1, 400, 150, 0)
	{
		"#1677V#010e#080m嬢ちゃんがいてくれれば、"
		"ヤツらへの対策ができるかもしれん。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_TEBURI", -1, 1 )	// 腕組手振り
	
	//	"SAHAD"
	TalkPopup("SAHAD", 0, 1, 400, 150, 0)
	{
		"#1678V#012e#080mそういうことなんだろ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	
	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#0742V#050e#080mど、どこまで力になれるのか、"
		"まだ分かりませんが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)
	
	MoveCameraAt( 0 , 28.195f , -1422.621f , 12.481f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.461f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.499f , 0 )	// 基本仰角
	RotateCamera( 0 , 55.316f , 0 )				// 角度
	ChangeCameraPers( 0 , 34.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookChr("SAHAD", "Barbaross")
	LookChr("ADOL", "Barbaross")
	LookChr("Dogi", "Barbaross")

	Wait(FADE_CROSS)
	
	Wait(10)
	
	ChangeAnimation( "Barbaross", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	LookChr("LAXIA", "Barbaross")

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#3804V#000e#000m相手の正体が何も判らなければ"
		"恐怖は膨らみ上がる。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	HeadYes("Barbaross" , 1 , 25 )
	
	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#3805V知っている者がいるということは、"
		"それだけで心強いものです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#0743V#000e#000mそ、そんな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "ADOL")

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#3677V#000e#080m謙遜するなって。なあ、アドル？"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ---------------------------------------------------------------------------------------

	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , 28.878f , -1422.621f , 12.361f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.350f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.079f , 0 )	// 基本仰角
	RotateCamera( 0 , 333.376f , 0 )				// 角度
	ChangeCameraPers( 0 , 34.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示
	
	LookChr("ADOL", "LAXIA")
	
	SetChrPos("ADOL", 29.18f, -1421.75f, 10.83f)
	Turn("ADOL", 26.13f, 360.0f)
	SetChrPos("Dogi", 28.67f, -1420.62f, 10.83f)
	Turn("Dogi", 19.76f, 360.0f)	
	ChangeAnimation( "Curran", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "Kiergaard", "ANI_WAIT", -1, 1 )	// 待機

	// フェード待ち
	Wait(FADE_NORMAL)	
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"よかったね")
	MenuAdd(2,"頼りにしているよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0162,"ADOL",100)	//フッ（微笑）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_WAIT2_S", -1, 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	Wait(10)
	
	LookChr("LAXIA", "ADOL")
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	//─────────────────────────
	//	⇒よかったね
	if (FLAG[TF_MENU_SELECT] == 1){

		TalkPopup("LAXIA",0,1,0,0,0) {
			"#0744V#031e#000mな、何を分かったような"
			"顔をしているのです。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookReset("LAXIA")
		Look("LAXIA", 0.0f, -10.0f)	// うつむく
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_KOMA_S, 1)	// 目
		
		TalkPopup("LAXIA",0,1,0,0,0) {
			"#0745V#000m#0L………………………………"	//（戸惑い）"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒頼りにしているよ
	if (FLAG[TF_MENU_SELECT] == 2){

		TalkPopup("LAXIA",0,1,0,0,0) {
			"#0746V#000e#000mあ……"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		// うなずきセット
		HeadYes("LAXIA" , 1 , 25 )
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		
		TalkPopup("LAXIA",0,1,0,0,0) {
			"#0747V……は、はい。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookReset("LAXIA")
		Look("LAXIA", 0.0f, -10.0f)	// うつむく
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_KOMA_S, 1)	// 目
		
		TalkPopup("LAXIA",0,1,0,0,0) {
			"#0748V#000m#0L………………………………"	//（戸惑い）"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//─────────────────────────

	LookReset("Dogi")
	
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#3678V#000e#000mそれにしても古代種と"
		"名無しの切り裂き魔……\p"
		"#3679V#011e#000m俺たちゃ、その二つの"
		"脅威にさらされているってことか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ---------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)

//	MoveCameraAt( 0 , 26.755f , -1423.743f , 12.174f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 1.760f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -1.902f , 0 )	// 基本仰角
//	RotateCamera( 0 , 158.542f , 0 )				// 角度
//	ChangeCameraPers( 0 , 34.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	MoveCameraAt( 0 , 26.402f , -1423.604f , 12.174f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.760f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.902f , 0 )	// 基本仰角
	RotateCamera( 0 , 158.542f , 0 )				// 角度
	ChangeCameraPers( 0 , 34.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetChrPos("Kiergaard", 26.54f, -1425.15f, 10.83f)
	Turn("Kiergaard", -150.19f, 360.0f)
	LookChr("Kiergaard", "Curran")
	ChangeSubAnimation("Curran", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目

	MapHide( "fire_alpha" , 0 )		// 焚き火OFF
	LookReset("Curran")

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.402f , -1423.604f , 12.174f , 25 )

	//　　カーラン卿、立ち上がるか大げさなアクション。

	Wait(FADE_CROSS)

	ChangeAnimation( "Curran", "ANI_EV_RYOTEBURI", -1, 1 )	// 待機
	EarthQuake( 0.02f , 0.02f , 10 )	// 縦揺れ幅, 横揺れ幅, 時間

	TalkPopup("Curran",0,2,0,0,0) {
		"#4575V#16S#031e#000mい、いい加減にしてくれ！\p"
		"#4576V#011e#000m古代種だか何だか知らんが、"
		"名無しだけでも恐ろしいというのに……\p"
		"#4577V#000e#000mもうこんな島にいるのは耐えられん！\p"
		"#4578V#030e#000mお前たち庶民どもと"
		"同じ空気を吸うのもウンザリである！！"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ---------------------------------------------------------------------------------------

	CrossFade(FADE_NORMAL)
	
	MoveCameraAt( 0 , 28.478f , -1423.660f , 13.542f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 9.458f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.355f , 0 )	// 基本仰角
	RotateCamera( 0 , 212.122f , 0 )				// 角度
	ChangeCameraPers( 0 , 34.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetChrPos("Curran", 35.63f, -1425.22f, 11.52f)
	Turn("Curran", 6.84f, 360.0f)
	Turn("LAXIA", -2.31f, 360.0f)
	Turn("SAHAD", -22.08f, 360.0f)
	Turn("Kiergaard", -43.60f, 360.0f)

	LookChr("ADOL", "Curran")
	LookChr("LAXIA", "Curran")
	LookChr("SAHAD", "Curran")
	LookChr("Dogi", "Curran")
	LookChr("Kiergaard", "Curran")
	LookChr("Barbaross", "Curran")
	LookChr("Aaron", "Curran")
	LookChr("Dina", "Curran")
	LookChr("Katrin", "Curran")
	LookChr("Alison", "Curran")

	// 非表示・再表示
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 再表示

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 28.478f , -1423.660f , 12.722f , 120 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 9.458f , 120 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.355f , 120 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 221.576f , 120 )

	// 移動
	ExecuteCmd(1, MoveTo, "Curran", 34.40f, -1444.21f, 11.24f, 0.1f, 0.18f)

	Wait(FADE_NORMAL)

	//　　カーラン卿、そのまま去っていく。
	
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	Wait(20)

	// カットX ---------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)
	
	MoveCameraAt( 0 , 28.639f , -1422.186f , 12.462f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.258f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.801f , 0 )	// 基本仰角
	RotateCamera( 0 , 5.673f , 0 )				// 角度
	ChangeCameraPers( 0 , 34.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)	// 口
	
	SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 待機
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	
	
	Wait(FADE_CROSS)

	LookReset("Dogi")
	WaitAnimation2( "Dogi" , -1, 1, "ANI_EV_UDEGUMI_E",  0)
	ChangeAnimation( "Dogi", "ANI_EV_BORI", -1, 1 )	// 頭かき

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#3680V#000mやれやれ、世話が焼けるおっさんだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	WaitAnimation2( "Dogi" , -1, 1, "ANI_EV_BORI",  0)
	TurnTo("Dogi", 36.59f, -1416.89f, 10.83f, 8.0f)
	ExecuteCmd(2, MoveTo, "Dogi", 36.59f, -1416.89f, 10.83f, 0.1f, 0.35f)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 29.330f , -1422.556f , 12.462f , 80 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.258f , 80 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.491f , 80 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 56.666f , 80 )

	StopBGM(120)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	//　　ドギがカーラン卿の後を追っていく。
	//　　バルバロスがアドルのほうを向く。
	
	LookChr("Barbaross", "ADOL")
	
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#000e#000m……ふむ、ずいぶん"
		"遅い時間になってしまったな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("ADOL", "Barbaross")
	
	TalkPopup("Barbaross",0,2,0,0,0) {
		"アドル、有志を募って"
		"交代で見張りを立てるとしよう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "Alison")
	ChangeAnimation("Barbaross", "ANI_EV_TEBURI", -1, 1)
	
	//　　バルバロス、漂流者たちのほうを向く。
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000e#000m皆さん、今日はもう休んでください。"

	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Barbaross")

	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"ただし単独行動は控えて頂いて、"
		"なるべく複数人で行動するよう――"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	//　　画面フェードアウト

	FadeOut(FADE_BLACK,45)
	Wait(25)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	WaitFade()

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S481_ED")
}

function "EV_M02S481_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//モンスターを復帰
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")

	ResetChrInfoFlag("Curran", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//BGM設定◆
	StopBGM(30)	//BGM停止
	SetFlag(SF_NOCHANGEBGM, 1)

	SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット

	LoadArg("map/mp1201t2/mp1201t2.arg")
	EventCue("mp1201:EV_M02S490")

	ResetStopFlag(STOPFLAG_EVENT)

//終了処理ここまで----------------------------------------------------
}

function "EV_M02S490"		//ラクシャと二人きりで話す
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	FadeOut(FADE_BLACK,0)
	WaitFade()

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")	
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))


	//焚き火・狼煙消し
	//SetEnvSEPlayState(1201201, 0)
	//MapHide( "fire_alpha" , 0 )
	MapHide( "smoke" , 0 )

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",16.39f,-1426.91f,32.34f)
	Turn("ADOL",-178.36f,360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_EV_SIT_G", -1 , 1 )
	LookReset("ADOL")

	SetChrInfoFlag( "LAXIA",INFOFLAG_FLING )
	SetChrInfoFlag( "LAXIA",INFOFLAG_INVISIBLE)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation( "LAXIA" , "ANI_CLIMB_WAIT", -1 , 1 )
	SetChrPos("LAXIA",18.31f,-1427.34f,29.57f)
	Turn("LAXIA",59.57f,360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("LAXIA")

	LookSpd( "ADOL", 0.10f, 0.10f, 0.10f )// ゆっくりめに首向き
	LookSpd( "LAXIA", 0.10f, 0.10f, 0.10f )// ゆっくりめに首向き

	Wait(15)

	// ポートレート読み込み
	Portrait_Load(1, "visual/portrait/p_30002.itp")	// 海鮮キッシュ
	Portrait_Create(1, SUBP_POS_X, SUBP_POS_Y,
	0, 0, SUBP_SCALE_X, SUBP_SCALE_Y,
	0.0f, 0x00ffffff, 0x00000000)
	
	MoveCameraAt( 0 , 23.211f , -1417.561f , 13.326f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.303f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 19.241f , 0 )	// 基本仰角
	RotateCamera( 0 , 167.775f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 3.6f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 100.000 ,2.000 ,0.500 ,0.550)

	// グレアの設定
//	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.000, 0.800 ,0.500 ,0.600 ,1.000 ,1.000 ,0.400)

	SetSkipScript("mp1201:EV_M02S490_ED")	

//開始処理ここまで-----------------------------------------------

	PlayBGM(BGM_EVENT_005, 0)

	FadeIn(FADE_BLACK,FADE_SLOW)

	Wait(30)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,31.634f , -1420.905f , 14.252f, 180 )		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,9.600f , 150 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-0.918f , 150 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,2.349f , 150 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 150 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 31.634f , -1420.905f , 14.252f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 6.302f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 2.278f , 0 )	// 基本仰角
//	RotateCamera( 0 , 159.475f , 0 )				// 角度
//	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -7.1f , 0 )				// ロール回転

	WaitThread(1000)

	Wait(20)

	CrossFade(FADE_NORMAL)

	MoveCameraAt( 0 , 9.908f , -1431.725f , 25.272f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.302f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -17.136f , 0 )	// 基本仰角
	RotateCamera( 0 , 347.611f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -3.2f , 0 )				// ロール回転


	Wait(40)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,9.908f , -1431.725f , 33.302f, 140 )		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_COS ,9.600f , 150 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_COS ,-0.918f , 150 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_COS ,2.349f , 150 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_COS ,-7.9f, 150 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_COS ,39.000f, 140 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 9.908f , -1431.725f , 33.302f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 6.302f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -17.136f , 0 )	// 基本仰角
//	RotateCamera( 0 , 347.611f , 0 )				// 角度
//	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -3.2f , 0 )				// ロール回転

	WaitThread(1000)

	Wait(30)

	CrossFade(FADE_NORMAL)
	//PlaySE(SE_ENV_BEACH ,20 ,  15, 20, 1.0f, 10)	//波音


	MoveCameraAt( 0 , 16.624f , -1428.100f , 32.806f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 7.902f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.932f , 0 )	// 基本仰角
	RotateCamera( 0 , 216.971f , 0 )				// 角度
	ChangeCameraPers( 0 , 26.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 4.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	Wait(15)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,17.478f , -1427.440f , 32.806f, 140 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,6.001f , 160 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,12.688f , 160 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,209.226f , 160 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 160 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 160 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 17.478f , -1427.440f , 32.806f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 7.902f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 3.932f , 0 )	// 基本仰角
//	RotateCamera( 0 , 209.226f , 0 )				// 角度
//	ChangeCameraPers( 0 , 26.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 4.6f , 0 )				// ロール回転

	Wait(60)

	FadeBGM(70,10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
	Wait(10)

	//	女性の声
	SetName("女性の声")
	TalkMes(UNDEF,"#0749V#12Sきゃ……！","","")	//（小フォント）

	Wait(30)


	//　　アドルにＰＡエモーション表示した後、
	//　　下方向を見やってＰＡエモーション表示。
	//　　画面スクロールして、ラクシャが
	//　　縄梯子を登ってきている姿を見せる。


	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SUP_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKR,1)
//	EmotionEx("ADOL", 0.0f,2,5,5,1,1,1.15f)	// ！
	EmotionEx("ADOL",0.01f,EMO_PA,0,5,1, 1, 1.0f)	//パッ

	Wait(30)
	ClosePrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示


	Look("ADOL" , 30 , -15)

	WaitThread(1000)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,17.895f , -1427.351f , 32.434f, 60 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,4.692f , 60 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,14.122f , 60 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,209.230f ,  60 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 60 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 60 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 17.895f , -1427.351f , 32.434f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.692f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 14.122f , 0 )	// 基本仰角
//	RotateCamera( 0 , 209.230f , 0 )				// 角度
//	ChangeCameraPers( 0 , 26.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 4.6f , 0 )				// ロール回転
//
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	ResetChrInfoFlag( "LAXIA",INFOFLAG_INVISIBLE)

	SetChrPos("ADOL",17.24f,-1427.02f,32.34f)
	Turn("ADOL",-84.71f,360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)

	ChangeAnimation( "ADOL" , "ANI_EV_SHAGAMI", -1 , 1 )
	LookReset("ADOL")

	MoveCameraAt( 0 , 18.389f , -1427.722f , 30.584f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.501f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -21.798f , 0 )	// 基本仰角
	RotateCamera( 0 , 88.916f , 0 )				// 角度
	ChangeCameraPers( 0 , 25.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 4.6f , 0 )				// ロール回転


	Wait(FADE_CROSS)
	Wait(15)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,17.586f , -1427.663f , 31.377f, 140 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,3.501f , 140 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-18.625f , 140 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,112.043f,  140 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 150 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 17.586f , -1427.663f , 31.377f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.501f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -18.625f , 0 )	// 基本仰角
//	RotateCamera( 0 , 112.043f , 0 )				// 角度
//	ChangeCameraPers( 0 , 25.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 4.6f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	Wait(30)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
	Wait(10)

	SetName("")
	TalkMes("LAXIA","#0750V#000e#000mな、何て登りにくいのでしょう……","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示

	//　　画面フェードして何とか縄梯子を登り切るラクシャ。
	//　　かがんで手を貸すような仕草のアドル。

	Wait(20)

	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,17.586f , -1427.663f , 32.866f, 180 )		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,3.901f , 110 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,12.688f , 110 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,202.540f,  110 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 150 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//	MoveCameraAt( 0 , 17.586f , -1427.663f , 32.866f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.501f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -18.625f , 0 )	// 基本仰角
//	RotateCamera( 0 , 112.043f , 0 )				// 角度
//	ChangeCameraPers( 0 , 25.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 4.6f , 0 )				// ロール回転

	Wait(20)

	SetChrInfoFlag( "LAXIA" , INFOFLAG_FIXED )
	//SetChrInfoFlag( "LAXIA" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOATARI )

	PlaySE(SE_M02S490_01, 70, 0, 0, 0, 1.0f, 0)	//はしご
	ChangeAnimation( "LAXIA" , "ANI_CLIMB_UP", -1 , 1 )
	ExecuteCmd(1, MoveZ , "LAXIA" , 0.20f  , 1 , INTERPOLATE_SPHERE  , 10 )
	Wait(20)
	ExecuteCmd(1, MoveZ , "LAXIA" , 0.20f  , 1 , INTERPOLATE_SPHERE  , 10 )
	Wait(25)
	PlaySE(SE_M02S490_01, 70, 0, 0, 0, 1.0f, 0)	//はしご
	ChangeAnimation( "LAXIA" , "ANI_CLIMB_UP2", -1 , 1 )
	ExecuteCmd(1, MoveZ , "LAXIA" , 0.20f  , 1 , INTERPOLATE_SPHERE  , 10 )
	Wait(20)
	ExecuteCmd(1, MoveZ , "LAXIA" , 0.20f  , 1 , INTERPOLATE_SPHERE  , 10 )
	Wait(50)

	ChangeAnimation( "ADOL" , "ANI_EV_SHAGAMI_NOMU_S", -1 , 1 )

	WaitThread(1000)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	StopThread(1)

	Wait(20)
	ResetChrInfoFlag( "LAXIA",INFOFLAG_FLING )
	ResetChrInfoFlag( "LAXIA" , INFOFLAG_FIXED )
	ResetChrInfoFlag( "LAXIA" , INFOFLAG_NOMAPATARICHECK )
	ResetChrInfoFlag( "LAXIA",INFOFLAG_INVISIBLE)


	SetChrPos("ADOL",16.59f,-1426.83f,32.34f)
	Turn("ADOL",178.80f,360.0f)
	
	SetChrPos("LAXIA",17.22f,-1426.70f,32.35f)
	Turn("LAXIA",168.91f,360.0f)

	ChangeAnimation( "ADOL" , "ANI_EV_SIT_G", -1 , 1 )
	ChangeAnimation( "LAXIA" , "ANI_EV_SIT_G_S", -1 , 1 )

//	Look("ADOL" , 20 , 0)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKR,1)

	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD_CLOSE,1)

	MoveCameraAt( 0 , 17.150f , -1427.308f , 33.114f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.194f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -8.925f , 0 )	// 基本仰角
	RotateCamera( 0 , 173.216f , 0 )				// 角度
	ChangeCameraPers( 0 , 25.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 4.6f , 0 )				// ロール回転

	Wait(5)

	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,16.699f , -1427.222f , 32.916f, 130 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,4.344f , 130 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-0.533f , 130 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,160.894f,  130 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 150 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 16.699f , -1427.222f , 32.916f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.344f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -0.533f , 0 )	// 基本仰角
//	RotateCamera( 0 , 160.894f , 0 )				// 角度
//	ChangeCameraPers( 0 , 25.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 4.6f , 0 )				// ロール回転

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
	Wait(10)

	TalkMes("LAXIA","#0751V#000mあ、ありがとうございます。",
		"縄梯子を登るのは初めてで……","")
	WaitPrompt()

	Look("LAXIA" , -30 ,  0)

	TalkMes("LAXIA","#0752V#020l#062e#000mこれほど不安定なものだとは",
		"思いませんでした。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示
	Wait(10)
//	WaitThread(1000)

	CrossFade(FADE_FAST)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	MoveCameraAt( 0 , 17.593f , -1427.323f , 32.965f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.171f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.958f , 0 )	// 基本仰角
	RotateCamera( 0 , 235.379f , 0 )				// 角度
	ChangeCameraPers( 0 , 29.100f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 8.9f , 0 )				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,17.359f , -1427.590f , 32.965f , 1400 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,3.171f , 1400 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,1.958f , 1400 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,213.768f,  1400 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 150 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 17.359f , -1427.590f , 32.965f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.171f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 1.958f , 0 )	// 基本仰角
//	RotateCamera( 0 , 213.768f , 0 )				// 角度
//	ChangeCameraPers( 0 , 29.100f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 8.9f , 0 )				// ロール回転

	Wait(FADE_FAST)	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"なぜここに？")
	MenuAdd(2,"危ないじゃないか")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	MenuClose(10,0)

	if (FLAG[TF_MENU_SELECT] == 1)
	{
		PlayVoice(SVO_ADL_CARE_2 ,"ADOL" , 100)	//どうした
		ChangeAnimation( "ADOL" , "ANI_EV_SG_TEBURI_L", -1 , 1 )
		WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_SG_TEBURI_L",  0)
		Wait(10)

	}
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)

		PlayVoice(SVO_ADL_SIGH_2 ,"ADOL" ,100)	//やれやれ
		HeadNo("ADOL" , 1 , 35 )
		Wait(45)
	}

	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	//ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	//HeadNo("ADOL" , 1 , 35 )
	//Wait(35)
	//ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	//Wait(10)

	//─────────────────────────
	//	⇒なぜここに？
	if (FLAG[TF_MENU_SELECT] == 1){


//		ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_KOMA_S,1)

		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
		Wait(10)
		ChangeSubAnimation("LAXIA",SUBMOT_EXT2,ANI_C_RED_S,1)

		TalkMes("LAXIA","#0753V#010l#051e#000mきょ、今日は色々ありましたし……","","")
		WaitPrompt()
		TalkMes("LAXIA","#0754V#000l#061e#000mわたくしは無神経な",
			"サハドのように簡単に寝付けません。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒危ないじゃないか
	if (FLAG[TF_MENU_SELECT] == 2){


		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
		Wait(10)
		ChangeSubAnimation("LAXIA",SUBMOT_EXT2,ANI_C_RED_S,1)

		TalkMes("LAXIA","#0755V#061e#000m……そ、そうですね。","","")
		WaitPrompt()

		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)

		TalkMes("LAXIA","#0756V#010l#062e#000mでも、今日は色々あったせいか",
			"なかなか寝付けなくて……","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	TalkMes("LAXIA","#0757V#020l#060e#000mその……他にすることも",
		"思いつかなかったものですから……","")
	WaitPrompt()

	ChangeAnimation( "LAXIA" , "ANI_EV_SG_TEWATASI_S", -1 , 1 )

	TalkMes("LAXIA","#0758V#062e#000mこ、これを……","","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	Wait(15)

	//ポートレート表示
	Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
	Wait(FADE_NORMAL)

	Message2(1, SUBP_BUTTUN_X, SUBP_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
	WaitPrompt()

	//　　ポートレートを消す。
	Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
	Wait(FADE_FAST)

	Portrait_Close(1)
	Portrait_Unload(1)


	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示

	//　　※料理アイテムからピックアップ。要四方相談。
	//　　アドルにＰＡエモーション。

	EmotionEx("ADOL", 0.01f,EMO_PA,0,5,1,1,0.78f)	// ！
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SUP_S,1)

	Wait(35)

	ChangeAnimation( "LAXIA" , "ANI_EV_SG_TEWATASI_E", -1 , 1 )

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"作ってくれたのかい？")
	MenuAdd(2,"わざわざこのために？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	//ChangeAnimation( "ADOL" , "ANI_EV_SG_TEBURI_L", -1 , 1 )
	//WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_SG_TEBURI_L",  0)
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	//Wait(10)

	LookReset("LAXIA")

	//─────────────────────────
	//	⇒作ってくれたのかい？
	if (FLAG[TF_MENU_SELECT] == 1){
		PlayVoice(SVO_ADL_RES_4,"ADOL" , 100 )	//もしかして
		ChangeAnimation( "ADOL" , "ANI_EV_SG_TEBURI_L", -1 , 1 )
		WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_SG_TEBURI_L",  0)
		Wait(10)

		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
		Wait(10)

		TalkMes("LAXIA","#0759V#061e#000mえ、ええ、一応……","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒わざわざこのために？
	if (FLAG[TF_MENU_SELECT] == 2){
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)

		PlayVoice(SVO_ADL_RES_2,"ADOL" , 100 )	//それって
		HeadNo("ADOL" , 1 , 35 )
		Wait(45)
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)


		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
		Wait(10)

		TalkMes("LAXIA","#0760V#061e#000mそ、そうです……",
			"感謝なさってください。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	TalkMes("LAXIA","#0761V#010l#012e#000m初めて作ったものですから、",
		"味の保証はいたしませんが……","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"美味しそうじゃないか")
	MenuAdd(2,"お腹が減っていたんだ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	PlayVoice(SVO_ADL_SMI_1,"ADOL" , 100 )	//はは

	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(10)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
	HeadYes("ADOL" , 1 , 25 )
	Wait(20)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	//─────────────────────────
	if (FLAG[TF_MENU_SELECT] == 1){
		//	⇒美味しそうじゃないか

//		Look("LAXIA" , -30 ,  0)
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
		Wait(10)

		TalkMes("LAXIA","#0762V#020l#062e#000mそうでしょうか……",
			"もう少し上手に作れると思ったのですが。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒お腹が減っていたんだ
	if (FLAG[TF_MENU_SELECT] == 2){
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
		Wait(10)

		HeadYes("LAXIA" ,1 ,25)

		TalkMes("LAXIA","#0763V#020l#080e#080mよかった、ちょうど空腹を",
			"満たせるものを考えて作りました。","")

		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示

	Wait(20)

	CrossFade(FADE_NORMAL)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)

	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD_CLOSE,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT2,ANI_C_NORMAL,1)

	Look("ADOL" ,-25 , 0 )
	LookReset("LAXIA")

//	MoveCameraAt( 0 , 18.052f , -1428.176f , 32.915f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.902f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -1.651f , 0 )	// 基本仰角
//	RotateCamera( 0 , 154.381f , 0 )				// 角度
//	ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 4.3f , 0 )				// ロール回転
	MoveCameraAt( 0 , 18.640f , -1428.459f , 32.915f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.902f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.651f , 0 )	// 基本仰角
	RotateCamera( 0 , 164.866f , 0 )				// 角度
	ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 4.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(30)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,16.677f , -1427.517f , 32.915f , 150 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,3.103f , 150 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-1.651f , 150 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,154.386f,  150 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 150 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 16.677f , -1427.517f , 32.915f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.103f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -1.651f , 0 )	// 基本仰角
//	RotateCamera( 0 , 154.386f , 0 )				// 角度
//	ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 4.3f , 0 )				// ロール回転

	Wait(60)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
	Wait(10)

	TalkMes("LAXIA","#0764V#000m#0L……………………………………","","")
	WaitPrompt()

	Wait(20)

	Look("LAXIA" ,-15 ,0 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_CLOSE,1)

	Wait(40)

	ChangeAnimation( "LAXIA" , "ANI_EV_SG_TEBURI", -1 , 1 )
	TalkMes("LAXIA","#0765V#020l#092e#080m……そ、そういえば",
		"ヒュンメルには会いましたか？","")
	WaitPrompt()
	TalkMes("LAXIA","#0766V#000mどこへ行っていたのか聞いたら、",
		"教える義務はないとか言って。","")
	WaitPrompt()
	WaitCloseWindow()

	TalkMes("LAXIA","#0767V#011e#000m一体何が目的なのやら……","","")
	WaitPrompt()
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示

	//　　アドルに「…」エモーション。
	EmotionEx("ADOL", -0.01f,EMO_3DOT,0,5,1,1,0.92f)	// …
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)

	Wait(42)

	PlayVoice(SVO_ADL_TNK_1,"ADOL" , 100 )	//ふむ
	Wait(35)

	Look("ADOL" ,15 ,0 )
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKR_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"なぜ古代種のことを黙ってたんだ？")
	MenuAdd(2,"話したいことが他にあるんじゃないか？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,16.719f , -1427.533f , 32.965f , 120 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,2.762f , 120 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-1.650f , 120 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,159.668f,  120 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 150 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 16.719f , -1427.533f , 32.965f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.762f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -1.650f , 0 )	// 基本仰角
//	RotateCamera( 0 , 159.668f , 0 )				// 角度
//	ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 4.3f , 0 )				// ロール回転

	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	ChangeAnimation( "ADOL" , "ANI_EV_SG_TEBURI_L", -1 , 1 )
	Wait(35)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	//─────────────────────────
	if (FLAG[TF_MENU_SELECT] == 1){
		//	⇒なぜ古代種のことを黙ってたんだ？

		ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SUP_S,1)
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
		Wait(10)

		TalkMes("LAXIA","#0768V#000mえ……#010l#050e#000mそ、それは……","","")
		WaitPrompt()
		WaitCloseWindow()

		LookReset("LAXIA")
	
		//　　ラクシャに「…」エモーション
		EmotionEx("LAXIA", 0.0f,EMO_3DOT,0,5,1,1,0.8f)	// …
		ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)

		Wait(52)

		StopThread(1000)
		StopThread(1001)
		StopThread(1002)
		StopThread(1003)
		StopThread(1004)
		StopThread(1005)

		ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,16.752f , -1427.538f , 32.965f , 60 )		// 注視点
		ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,2.762f , 60 )		// 基本距離
		ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-1.650f , 60 )		// 基本仰角
		ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,167.283f ,  60 )		// 角度
//		ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 150 )		// ロール回転
//		ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//終点カメラ
//		MoveCameraAt( 0 , 16.752f , -1427.538f , 32.965f , 0 )	// 注視点
//		ChangeCameraDistance( 0 , 2.762f , 0 )		// 基本距離
//		ChangeCameraElevation( 0 , -1.650f , 0 )	// 基本仰角
//		RotateCamera( 0 , 167.283f , 0 )				// 角度
//		ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
//		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//		RollCamera( 0 , 4.3f , 0 )				// ロール回転

		Look("LAXIA" ,-30 ,0 )

		TalkMes("LAXIA","#0769V#020l#062e#000m……少し長くなりますが、",
			"聞いていただけますでしょうか。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒話したいことが他にあるんじゃないか？
	if (FLAG[TF_MENU_SELECT] == 2){	
		//　　ラクシャに「！」エモーション

		EmotionEx("LAXIA", -0.01f,EMO_EX,0,5,1,1,0.6f)	// ！
		ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SUP_S,1)

		Wait(40)

		LookReset("LAXIA")
		ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKL_E,1)

		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
		Wait(10)

		TalkMes("LAXIA","#0770V#061e#000mコホン……",
			"さすがにお見通しでしたか。","")
		WaitPrompt()
		TalkMes("LAXIA","#0771V#062e#000m#0L……………………………………","","")
		WaitPrompt()

		StopThread(1000)
		StopThread(1001)
		StopThread(1002)
		StopThread(1003)
		StopThread(1004)
		StopThread(1005)

		ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,16.752f , -1427.538f , 32.965f , 60 )		// 注視点
		ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,2.762f , 60 )		// 基本距離
		ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-1.650f , 60 )		// 基本仰角
		ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,167.283f ,  60 )		// 角度
//		ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 150 )		// ロール回転
//		ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//終点カメラ
//		MoveCameraAt( 0 , 16.752f , -1427.538f , 32.965f , 0 )	// 注視点
//		ChangeCameraDistance( 0 , 2.762f , 0 )		// 基本距離
//		ChangeCameraElevation( 0 , -1.650f , 0 )	// 基本仰角
//		RotateCamera( 0 , 167.283f , 0 )				// 角度
//		ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
//		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//		RollCamera( 0 , 4.3f , 0 )				// ロール回転

		Look("LAXIA" ,-30 ,0 )

		TalkMes("LAXIA","#0772V#020l#000mその……少し長くなりますが、",
			"聞いていただけますでしょうか。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	Wait(10)
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,16.871f , -1427.340f , 34.701f  , 140 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,6.412f , 140 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-19.416f  , 140 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 192.879f,  140 )		// 角度
	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-4.2f, 140 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 16.871f , -1427.340f , 34.701f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 6.412f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -19.416f , 0 )	// 基本仰角
//	RotateCamera( 0 , 192.879f , 0 )				// 角度
//	ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -4.2f , 0 )				// ロール回転

	StopBGM(120)

	Wait(50)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,FADE_SLOW)
	WaitFade()
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)

	SetFlag(SF_NODRAWMAP,1)	//マップ描写しない

	LookReset("LAXIA")
	LookReset("ADOL")

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD_CLOSE,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)

	//ポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)

	Portrait_Load( 1 , "visual/portrait/p_10100.itp" )	//ラクシャ回想[父への想い]
	Portrait_Create(1 , 0 , 0 ,
					0 , 0 , 1920,1080,
					0.0f,0x00ffffff,0x00000000)

	// 擬似フェードアウト（黒）表示
	Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
	Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)

	FadeIn(FADE_BLACK, 0)
	WaitFade()

	Wait(30)
	PlayBGM(BGM_EVENT_016, 0)
	FadeBGM(70,0)

	Portrait_Anime(1 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
	Wait(FADE_NORMAL)

	//　　ここでポートレート[父への想い]を表示。
	//　　幼いラクシャと父親(顔見えなくてＯＫ)を入れた構図。
	//　　本を開いているラクシャに
	//　　父親が何かを教えているような和やかな光景。

	Wait(35)
	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	TalkMes("LAXIA","#0773V……わたくしは父から",
		"古代種のことをたくさん学びました。","")
	WaitPrompt()
	TalkMes("LAXIA","#0774V父は貴族であるとともに考古学……",
		"特に古代種の研究を専門とする学者でした。","")
	WaitPrompt()
	TalkMes("LAXIA","#0775Vわたくしは幼少の時分から研究室に出入りし、",
		"よく発掘調査にも同行したものです。","")
	WaitPrompt()
	TalkMes("LAXIA","#0776Vわたくしは父が大好きで",
		"そして誰よりも尊敬していたのです。","")
	WaitPrompt()

	Portrait_Anime(1 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_NORMAL)
	Wait(FADE_NORMAL)
	
	Portrait_Close(1)
	Portrait_Unload(1)

	TalkMes("LAXIA","#0777Vところがわたくしが１６歳を迎えた頃……","","")
	WaitPrompt()
	TalkMes("LAXIA","#0778V父は古代種の研究や調査に傾倒するあまり、",
		"屋敷に戻らなくなりました。","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	Portrait_Load( 2 , "visual/portrait/p_10110.itp" )	//ラクシャ回想[ロズウェル家の苦難]：領民の反感
	Portrait_Create(2 , 0 , 0 ,
					0 , 0 , 1920,1080,
					0.0f,0x00ffffff,0x00000000)
	Portrait_Load( 3 , "visual/portrait/p_10111.itp" )	//ラクシャ回想[ロズウェル家の苦難]：苦悩する兄
	Portrait_Create(3 , 0 , 0 ,
					0 , 0 , 1920,1080,
					0.0f,0x00ffffff,0x00000000)


	Portrait_Anime(2 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)

	//　　ここでポートレート[ロズウェル家の苦難]を表示
	//　　苦悩するラクシャの兄や母親のイメージ。
	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	TalkMes("LAXIA","#0779V父が領地経営をないがしろにしたことで、",
		"やがて領民たちは暴動を起こしました。","")
	WaitPrompt()
	TalkMes("LAXIA","#0780V兄が当主代行となることで、",
		"何とか暴動は治めたのですが……","")
	WaitPrompt()

	Portrait_Anime(3 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_SLOW)
	Wait(FADE_SLOW)
	Portrait_Close(2)
	Portrait_Unload(2)

	Portrait_Load( 4 , "visual/portrait/p_10112.itp" )	//ラクシャ回想[ロズウェル家の苦難]：床に伏す母
	Portrait_Create(4 , 0 , 0 ,
					0 , 0 , 1920,1080,
					0.0f,0x00ffffff,0x00000000)


	TalkMes("LAXIA","#0781V一度揺らいだ領民たちの信頼を",
		"取り戻すのは容易ではありません。","")
	WaitPrompt()
	
	Portrait_Anime(4 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_SLOW)
	Wait(FADE_SLOW)
	Portrait_Close(3)
	Portrait_Unload(3)

	Portrait_Load( 5 , "visual/portrait/p_10113.itp" )	//ラクシャ回想[ロズウェル家の苦難]：領地剥奪の令状
	Portrait_Create(5 , 0 , 0 ,
					0 , 0 , 1920,1080,
					0.0f,0x00ffffff,0x00000000)


	TalkMes("LAXIA","#0782Vその後、他家の計略もあり兄は失脚……",
		"母は心労から部屋に籠るようになりました。","")
	WaitPrompt()
	TalkMes("LAXIA","#0783Vそして今から三か月ほど前──","","")
	WaitPrompt()
	
	Portrait_Anime(5 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_SLOW)
	Wait(FADE_SLOW)
	Portrait_Close(4)
	Portrait_Unload(4)

	TalkMes("LAXIA","#0784Vついにロズウェル家に",
		"爵位と領地を返上するよう命が下りました。","")
	WaitPrompt()
	TalkMes("LAXIA","#0785Vこのままではロズウェル家は……","ロズウェル2行目","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)


	Portrait_Anime(5 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_SLOW)
	Wait(FADE_SLOW)

	SetFlag(SF_NODRAWMAP,0)	//マップ描写する

	//　　画面フェードインして、見張り台の縁に
	//　　並んで座っているアドルとラクシャ。
	//　　ラクシャに「…」エモーション表示。

	Wait(30)

//	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD_CLOSE,1)
	ChangeAnimation( "LAXIA" , "ANI_EV_LOOKFIRE", -1 , 1 )

	MoveCameraAt( 0 , 16.950f , -1426.889f , 32.640f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.598f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -8.694f , 0 )	// 基本仰角
	RotateCamera( 0 , 201.052f , 0 )				// 角度
	ChangeCameraPers( 0 , 25.300f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 3.6f , 0 )				// ロール回転

	SetEnvSEPlayState(-1, 1)	//環境SE復帰

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,16.950f , -1426.889f , 32.912f , 180 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,3.945f , 180 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-8.701f  , 180 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 201.069f,  180 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-4.2f, 150 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 16.950f , -1426.889f , 32.912f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.945f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -8.701f , 0 )	// 基本仰角
//	RotateCamera( 0 , 201.069f , 0 )				// 角度
//	ChangeCameraPers( 0 , 25.300f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 3.6f , 0 )				// ロール回転

	Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, 45)
	Wait(45)

	Portrait_Close(-1)
	Portrait_Unload(-1)

	EmotionEx("ADOL", 0.0f,24,27,4,1,1,1.0f)	// …
	EmotionEx("LAXIA", 0.0f,24,27,4,1,1,1.0f)	// …

	Wait(52)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
	Wait(10)

	TalkMes("LAXIA","#0786V#062e#000mわたくしはそのような",
		"父から授かった知識を……","")
	WaitPrompt()
	TalkMes("LAXIA","#0787V#010l#000m自分自身の全てを疎ましく",
		"思うようになっていきました。","")
	WaitPrompt()
	TalkMes("LAXIA","#0788V#000l#061e#000mそして居場所を失った",
		"わたくしは……","")
	WaitPrompt()

//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//	WaitThread(1004)

	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,17.151f , -1426.812f , 32.912f , 160 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,3.386f , 160 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-4.584f  , 160 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 212.306f , 160 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-4.2f, 70 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 70 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 17.151f , -1426.812f , 32.912f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.386f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -4.584f , 0 )	// 基本仰角
//	RotateCamera( 0 , 212.306f , 0 )				// 角度
//	ChangeCameraPers( 0 , 25.300f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 3.6f , 0 )				// ロール回転	

	Wait(55)

	TalkMes("LAXIA","#0789V#062e#000m……屋敷から逃げ出したのです。","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示
	Wait(15)
	//　　アドルに「…」エモーション。

	EmotionEx("ADOL", -0.01f,24,27,5,1,1,0.9f)	// …

	Wait(52)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
	Wait(10)

	TalkMes("LAXIA","#0790V#011e#000m……先ほどは戸惑いました。","","")
	WaitPrompt()
	TalkMes("LAXIA","#0791V#000mわたくしの知識が役立つことなんて……","知識2行目","")
	WaitPrompt()

	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,17.103f , -1426.865f , 32.912f , 220 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.386f , 220 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-0.340f   , 220 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 227.908f  , 220)		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-4.2f, 220 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 220 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 17.103f , -1426.865f , 32.912f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.386f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -0.340f , 0 )	// 基本仰角
//	RotateCamera( 0 , 227.908f , 0 )				// 角度
//	ChangeCameraPers( 0 , 25.300f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 3.6f , 0 )				// ロール回転

	TalkMes("LAXIA","#0792V#062e#000m状況を考えれば不謹慎ですが、",
		"#020lその…居場所を見つけた気がして……","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"今はそれでいいと思う")
	MenuAdd(2,"胸を張っていいと思う")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKR_S,1)
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	PlayVoice(SVO_ADL_TNK_2,"ADOL" ,100 )
	HeadYes("ADOL" , 1 , 30 )
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	//─────────────────────────
	//	⇒今はそれでいいと思う
	if (FLAG[TF_MENU_SELECT] == 1){
		Look("LAXIA" , -30 , 0)

		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
		Wait(10)

		TalkMes("LAXIA","#0793V#020l#080e#080mフフ、見た目によらず、",
			"あなたは厳しいことを言いますね。","")
		WaitPrompt()

		LookReset("LAXIA")
		ChangeAnimation( "LAXIA" , "ANI_EV_LOOKFIRE_E", -1 , 1 )
		TalkMes("LAXIA","#0794V#000l#091e#080mもちろん、わたくしも",
			"それに甘えるつもりはありません。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒胸を張っていいと思う
	if (FLAG[TF_MENU_SELECT] == 2){
		Look("LAXIA" , 0 , -15)

		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
		Wait(10)

		TalkMes("LAXIA","#0795V#000l#011e#080mありがとうございます……","","")
		WaitPrompt()

		LookReset("LAXIA")
		ChangeAnimation( "LAXIA" , "ANI_EV_LOOKFIRE_E", -1 , 1 )


		TalkMes("LAXIA","#0796V#012e#000mでも……わたくしは",
			"それに甘えるわけに行きません。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	CrossFade(FADE_NORMAL)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)

	LookSpd( "LAXIA", 0.08f, 0.08f, 0.08f )// ゆっくりめに首向き

	Look("LAXIA" , 20 , 15)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKR,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)

	MoveCameraAt( 0 , 17.021f , -1426.849f , 32.888f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.386f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 23.443f , 0 )	// 基本仰角
	RotateCamera( 0 , 167.954f , 0 )				// 角度
	ChangeCameraPers( 0 , 23.800f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -9.5f , 0 )				// ロール回転

	Wait(FADE_NORMAL)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,17.095f , -1426.642f , 33.036f , 400 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.005f , 400 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,27.980f  , 400 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 160.367f  , 400)		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-4.2f, 400 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 400 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 17.095f , -1426.642f , 33.036f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.005f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 27.980f , 0 )	// 基本仰角
//	RotateCamera( 0 , 160.367f , 0 )				// 角度
//	ChangeCameraPers( 0 , 23.800f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -9.5f , 0 )				// ロール回転

	TalkMes("LAXIA","#0797V#000m父を……あの人を一番",
		"理解できるのはわたくしだと思います。","")
	WaitPrompt()
	TalkMes("LAXIA","#0798V#011e#000mだから……","","")
	WaitPrompt()
	TalkMes("LAXIA","#0799V#000mだから、ここを脱出したら、",
		"わたくしは父を捜すつもりです。","")
	WaitPrompt()
	TalkMes("LAXIA","#0800V#012e#000mわたくしの……",
		"本当の居場所を取り戻すためにも。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示

	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"応援しているよ")
	MenuAdd(2,"必ず見つかるよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	CrossFade(FADE_FAST)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	LookSpd( "ADOL", 0.08f, 0.08f, 0.08f )
	Look("ADOL" , 20 , 5)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKR,1)

	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
	LookReset("LAXIA")

	MoveCameraAt( 0 , 16.461f , -1427.635f , 32.912f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.324f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.809f , 0 )	// 基本仰角
	RotateCamera( 0 , 157.594f , 0 )				// 角度
	ChangeCameraPers( 0 , 21.800f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -10.6f , 0 )				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,16.598f , -1427.691f , 32.912f , 70 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.324f, 70 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,3.809f , 70 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 157.594f  , 70)		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-4.2f, 70 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 70 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 16.598f , -1427.691f , 32.912f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.324f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 3.809f , 0 )	// 基本仰角
//	RotateCamera( 0 , 157.594f , 0 )				// 角度
//	ChangeCameraPers( 0 , 21.800f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -10.6f , 0 )				// ロール回転

	Wait(FADE_FAST)

	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	PlayVoice(SVO_ADL_YES_3,"ADOL" , 100 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
	HeadYes("ADOL" , 1 , 25 )
	Wait(20)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
	Wait(10)
	//─────────────────────────
	//	⇒応援しているよ
	if (FLAG[TF_MENU_SELECT] == 1){
		HeadYes("LAXIA" , 1 , 25)
		Wait(15)

		TalkMes("LAXIA","#0801V#092e#080mええ、#020lありがとうございます。","","")
		WaitPrompt()
		WaitCloseWindow()

	}
	//	⇒必ず見つかるよ
	if (FLAG[TF_MENU_SELECT] == 2){
		TalkMes("LAXIA","#0802V#020l#092e#080mそうだといいのですが……",
			"何せ各地を転々としているようですから。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示

	Wait(10)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SMILE_CLOSE,1)

	LookSpd( "ADOL", 1.0f, 1.0f, 1.0f )// リセット
	LookReset("ADOL")
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)

	Wait(15)

	MoveCameraAt( 0 , 17.415f , -1426.865f , 33.012f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.824f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.599f , 0 )	// 基本仰角
	RotateCamera( 0 , 237.417f , 0 )				// 角度
	ChangeCameraPers( 0 , 26.800f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -4.5f , 0 )				// ロール回転

	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

	Wait(15)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,17.347f , -1426.973f , 33.012f  , 180 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.394f, 180 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,3.809f , 70 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 157.594f  , 70)		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-4.2f, 70 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 70 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 17.347f , -1426.973f , 33.012f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.394f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -3.601f , 0 )	// 基本仰角
//	RotateCamera( 0 , 237.419f , 0 )				// 角度
//	ChangeCameraPers( 0 , 26.800f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -2.4f , 0 )				// ロール回転

	EmotionEx("LAXIA", 0.0f,24,27,5,1,1,0.8f)	// …
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	Wait(52)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
	Wait(10)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT2,ANI_C_RED_S,1)

	Look("LAXIA" , -30 , 0)

	TalkMes("LAXIA","#0803V#020l#062e#000mそ、それとですね……","","")
	WaitPrompt()
	Look("LAXIA" , -30 , -10)
	TalkMes("LAXIA","#0804V#061e#000mわたくし、あなたに",
		"謝らないといけないことが……","")
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	//　　アドルに「？」エモーション表示。
	EmotionEx("ADOL",0.005f,EMO_Q,0,5,1,1,0.7f)	// ？
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SUP_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKR_S,1)

	LookSpd( "ADOL", 0.10f, 0.10f, 0.10f )// ゆっくりめに首向き
	Look("ADOL" , 20 , 0)

	Wait(40)


	TalkMes("LAXIA","#0805V#000m父は貴族でありながら",
		"自由闊達な気風の人間でした。","")
	WaitPrompt()

	TalkMes("LAXIA","#0806V#062e#000mその……どことなく冒険家である",
		"あなたに面影を見ていたと言いますか……","")
	WaitPrompt()
	TalkMes("LAXIA","#0807V#020l#000m何となく顔つきも似ているせいか、",
		"その……これまで強く当たってしまって……","")
	WaitPrompt()

	Look("LAXIA" , -30 , -20)

	TalkMes("LAXIA","#0808V#160e#000mご、ごめんなさい！","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"気にしていない")
	MenuAdd(2,"そういうことだったのか")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,17.118f , -1427.200f , 32.962f  , 140 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.394f, 140 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-3.601f , 140 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 220.915f  , 140)		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-4.2f, 70 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 70 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 17.118f , -1427.200f , 32.962f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.394f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -3.601f , 0 )	// 基本仰角
//	RotateCamera( 0 , 220.915f , 0 )				// 角度
//	ChangeCameraPers( 0 , 21.800f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -4.5f , 0 )				// ロール回転

	PlayVoice(SVO_ADL_SMI_2,"ADOL",100)
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
	HeadNo("ADOL" , 1 , 35 )
	Wait(35)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD_CLOSE,1)
	Look("LAXIA" , -30 , -5)

	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
	Wait(10)

	//─────────────────────────
	//	⇒気にしていない
	if (FLAG[TF_MENU_SELECT] == 1){
		HeadNo("LAXIA" , 1 , 35)

		TalkMes("LAXIA","#0809V#60e#000m……気を遣わないでください。","","")
		WaitPrompt()

		ChangeAnimation( "LAXIA" , "ANI_EV_SG_TEBURI", -1 , 1 )

		TalkMes("LAXIA","#0810V#062e#000m今ではわたくしの",
			"八つ当たりだったと反省しています。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒そういうことだったのか
	if (FLAG[TF_MENU_SELECT] == 2){
		HeadYes("LAXIA" , 1 , 25)

		TalkMes("LAXIA","#0811V#060e#000mえ、ええ、初めて会った時は",
			"わたくしも余裕がなくて……","")
		WaitPrompt()
		TalkMes("LAXIA","#0812V#062e#000m今ではわたくしの",
			"八つ当たりだったと反省しています。","")
		WaitPrompt()
		WaitCloseWindow()
	}

	//─────────────────────────
	ResetStopFlag(STOPFLAG_CINEMA)

	Wait(15)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	LookReset("LAXIA")
	LookChr("LAXIA" , "ADOL")
	Look("ADOL" , 30 , 15)

	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKR,1)

	SetChrPos("LAXIA",17.97f,-1426.47f,32.35f)
	Turn("LAXIA",82.88f,360.0f)

	ChangeSubAnimation("LAXIA",SUBMOT_EXT2,ANI_C_RED_E,1)

	MoveCameraAt( 0 , 17.227f , -1426.796f , 33.185f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.527f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 15.032f , 0 )	// 基本仰角
	RotateCamera( 0 , 136.003f , 0 )				// 角度
	ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -4.6f , 0 )				// ロール回転

	Wait(30)

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,17.227f , -1426.796f , 33.185f  , 140 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.527f, 140 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,15.033f , 80 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 136.002f , 80)		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-4.2f, 70 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 70 )		// 視野角

//	MoveCameraAt( 0 , 17.227f , -1426.796f , 33.185f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.527f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 15.033f , 0 )	// 基本仰角
//	RotateCamera( 0 , 136.002f , 0 )				// 角度
//	ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -4.6f , 0 )				// ロール回転

	ChangeAnimation( "LAXIA" , "ANI_EV_SIT_G_E", -1 , 1 )

	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

	WaitAnimation2( "LAXIA" , -1, 1, "ANI_EV_SIT_G_E",  0)
	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	ChangeAnimation( "LAXIA" , "ANI_EV_RYOTESIRI_S", -1 , 1 )
	//　　立ち上がるラクシャ。
	TalkMes("LAXIA","#0813V#090e#080mさ、さて……わたくしは",
		"そろそろ休息所に戻ります。","")
	WaitPrompt()

	Wait(10)

	CrossFade(FADE_FAST)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	MoveCameraAt( 0 , 17.549f , -1426.795f , 33.408f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.087f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -8.301f , 0 )	// 基本仰角
	RotateCamera( 0 , 262.025f , 0 )				// 角度
	ChangeCameraPers( 0 , 22.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 9.3f , 0 )				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,17.549f , -1426.795f , 33.532f  , 90 )		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.527f, 90 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,15.033f , 80 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 136.002f , 80)		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-4.2f, 70 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 70 )		// 視野角

//	MoveCameraAt( 0 , 17.549f , -1426.795f , 33.532f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.087f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -8.301f , 0 )	// 基本仰角
//	RotateCamera( 0 , 262.026f , 0 )				// 角度
//	ChangeCameraPers( 0 , 22.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 9.3f , 0 )				// ロール回転

	Wait(FADE_FAST)

	TalkMes("LAXIA","#0814V#080mこのような状況で話を聞いて頂いて",
		"ありがとうございました。","")
	WaitPrompt()

	WaitThread(1000)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,17.605f , -1426.727f , 33.606f  , 220 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.637f, 220 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,15.033f , 220 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 261.966f , 220)		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-4.2f, 70)		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 70 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 17.605f , -1426.727f , 33.606f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.637f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -8.302f , 0 )	// 基本仰角
//	RotateCamera( 0 , 261.966f , 0 )				// 角度
//	ChangeCameraPers( 0 , 22.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 9.3f , 0 )				// ロール回転

	Wait(60)

	ChangeSubAnimation("LAXIA",SUBMOT_EXT2,ANI_C_RED_S,1)

	TalkMes("LAXIA","#0815V#020l#062e#000mその……おやすみなさい、ア#2R・#Rド#2R・#Rル#2R・#R。","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示

	//　　画面フェードアウト。

	Wait(40)
//	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_CLOSE_S,1)

	StopBGM(120)

	FadeOut(FADE_BLACK,FADE_SLOW)
	Wait(30)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	WaitFade()

	Wait(60)

	//	テキスト
	//GetItemMessageExPlus(ICON3D_COOK_RECIPE04, 1, ITEMMSG_SE_JINGLE, "を手に入れた。", 0, 0)	//海鮮キッシュ
	//WaitPrompt()
	//WaitCloseWindow()

	StopThread(1000)
	StopThread(1001)

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S490_ED")
}

function "EV_M02S490_ED"
{
	SetSkipScript("")
	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//ポートレート全開放・全クローズ
	Portrait_Close(-1)
	Portrait_Unload(-1)

	SetFlag(SF_NODRAWMAP,0)	//マップ描写する

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット

		SetFlag(GF_GALL_EVIMG_16,1)			// p_10100 ラクシャ回想[父への想い]
		SetFlag(GF_GALL_EVIMG_17,1)			// p_10113 ラクシャ回想[ロズウェル家の苦難]：領地剥奪の令状
		SetFlag(GF_GALL_EV_02_07,1)			// M02S490:ラクシャと二人きりで話す

		StopBGM(30)
		SetFlag(SF_NOCHANGEBGM, 1)

		SetFlag(GF_MP1202_NOW,1)		//屋内に直接飛ぶ場合
		LoadArg("map/mp1201t3/mp1201t3.arg")
		EventCue("mp1201:EV_M02S500")

		SetEnvSEPlayState(-1, 0)	//環境SE全停止

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}
	

//終了処理ここまで----------------------------------------------------
}


//──────────────────────────────
//▼カーラン卿が姿を消したことを知る(mp1201d)
//──────────────────────────────
function "EV_M02S500"	//カーラン卿が姿を消す
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定	
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrInfoFlag( "ADOL" , INFOFLAG_FLING )
	SetChrPos("ADOL",-14.19f, -1358.22f, 11.59f)
	Turn("ADOL", -117.54f, 360.0f)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation("ADOL", "ANI_EV_SLEEP_HM_L", -1, 1)
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)

	ChrNodeHide("ADOL", "Null_wp", 1, 1)	//剣を消す

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", -13.01f, -1359.06f, 11.55f)
	Turn("LAXIA", 148.54f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("LAXIA" , "ADOL")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", -13.80f, -1359.50f, 11.56f)
	Turn("SAHAD", 165.43f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("SAHAD" , "ADOL")

	MoveCameraAt( 0 , -13.935f , -1357.976f , 12.918f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.722f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 14.575f , 0 )	// 基本仰角
	RotateCamera( 0 , 155.186f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000, 0.000, 0.150, 0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	StopBGM(0)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S500_ED")

//開始処理ここまで-----------------------------------------------
	
	//　　画面暗転のままスズメの声とせせらぎが聞こえてきて、
	//　　以下のメッセージを表示する。

	Wait(50)
	PlaySE("SE_SUZUME", 100, 0,  0, 0, 1.0f, 0)		//◆鳥のさえずり
	SetEnvSEPlayState(1202001, 1)	//環境SEスタート
	SetEnvSEPlayState(1202202, 1)	//環境SEスタート
	SetEnvSEPlayState(1202203, 1)	//環境SEスタート
	SetEnvSEPlayState(1202004, 1)	//環境SEスタート
	Wait(15)
	Wait(45)

	// カット0（暗転）---------------------------------------------------------------------------------

	//	女性の声
	SetName("女性の声")
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0) {
		"アドル……アドル……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	name2()
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0) {
		"起きてください、アドル。"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	// カット1 ----------------------------------------------------------------------------------------

	//　　画面フェードインすると、
	//　　アドルが寝台で半身を起こしている状態。
	//　　ラクシャとサハドがその傍に立っている。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -13.698f , -1358.203f , 13.078f , 85 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.963f , 85 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.619f , 85 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 177.245f , 85 )

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(5)
	
	PlaySE(SE_M02S500_01, 60, 0, 0, 0, 1.0f, 0)
	ChangeAnimation("ADOL", "ANI_EV_WAKEUP_HM_S", -1, 1)
	WaitAnimation2("ADOL", -1, 1, "ANI_EV_WAKEUP_HM_S", 0)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mお？　起きたみたいだな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("ADOL", 50.0f, 15.0f)	// ←↑（＾＾）	…無理やりラクシャのほう向かせる
	
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000m休んでいるところをごめんなさい。\p"
		"その、ドギがあなたを"
		"呼べというものですから……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルにＰＡエモーション表示。
	EmotionEx("ADOL", 0.05f, EMO_PA, 0, 5, 1, 1, 0.9f )	// 「PA」
	Wait(35)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ドギが？")
	MenuAdd(2,"何かあったのか？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// ぱくぱくセット
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//─────────────────────────
	//	⇒ドギが？
	if (FLAG[TF_MENU_SELECT] == 1){

		// うなずきセット
		HeadYes("LAXIA" , 1 , 25 )
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		// ラクシャ
		TalkPopup("LAXIA",0,2,0,0,0) {
			"#000mええ、集会所で待っています。\p"
			"どうやらカーラン卿が"
			"村から姿を消したらしいのです。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒何かあったのか？
	if (FLAG[TF_MENU_SELECT] == 2){
	
		ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	
		// サハド
		TalkPopup("SAHAD",0,2,0,0,0) {
			"#000e#000mおお、それなんだが……\p"
			"どうやらカーランの"
			"オッサンがいなくなったらしい。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	//　　アドルに「！」エモーション表示。
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 0.9f )	// 「！」
	Wait(40)

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000mとにかく集会所へ集まりましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(25)

	//　　画面フェードアウト。

	// フェードアウト
	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S500_ED")
}

function "EV_M02S500_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//モンスターを復帰
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")

	ChrNodeHide( "ADOL" , "Null_wp", 0, 1 )	//剣を出す

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	StopBGM(0)
	//SetFlag(SF_NOCHANGEBGM, 1)

	//NowLoading 時の Tips 表示をカット
	//SetFlag( TF_LOADING_TIPS_OFF, 1 )

	SetFlag(TF_MP1202_NOW,0)

	CallFunc("mp1201:init")
	//LoadArg("map/mp1201t3/mp1201t3.arg")
	EventCue("mp1201:EV_M02S510")

	ResetStopFlag(STOPFLAG_EVENT)

//終了処理ここまで----------------------------------------------------
}


//──────────────────────────────
//▼カーランを探すことになる(mp1201)
//──────────────────────────────
function "EV_M02S510"	//カーランを探すことになる
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Barbaross")
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定	
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 32.74f, -1418.96f, 10.83f)
	Turn("ADOL", 46.81f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("ADOL")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 31.76f, -1421.82f, 10.83f)
	Turn("LAXIA", 112.93f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("LAXIA")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 29.72f, -1419.71f, 10.83f)
	Turn("SAHAD", 0.55f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("SAHAD")

	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 29.53f, -1421.30f, 10.83f)
	Turn("Dogi", -118.57f, 360.0f)
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("Dogi")

	SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI )
	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Barbaross", 30.32f, -1422.09f, 10.83f)
	Turn("Barbaross", -152.02f, 360.0f)
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Barbaross", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("Barbaross")

	//カメラ設定
	MoveCameraAt( 0 , 30.706f , -1420.740f , 12.682f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.860f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.443f , 0 )	// 基本仰角
	RotateCamera( 0 , 111.354f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000 ,2.000 ,0.550 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	StopBGM(0)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S510_ED")

//開始処理ここまで-----------------------------------------------

	//　　画面フェードインして集会所の焚火周辺。
	//　　バルバロス、ドギ、アドル、ラクシャ、サハドが集まっている。

	// カット1 ----------------------------------------------------------------------------------------
	
	PlayBGM(BGM_EVENT_008, 0)
	SetEnvSEPlayState(1201201, 1)

	// 位置調整・表情・モーション
	LookChr("Dogi", "ADOL")
	LookChr("Barbaross", "ADOL")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.465f , -1421.113f , 12.402f , 70 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.860f , 70 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.443f , 70 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 111.354f , 70 )

	// 移動
	ExecuteCmd(1, MoveTo, "ADOL", 31.24f, -1420.26f, 10.83f, 0.1f, 0.16f)

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Wait(15)

	// 移動待ち
//	WaitThread(1)

	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000e#000mよう、アドルか。お疲れさん。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Barbaross", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// バルバロス
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#000e#000m昨晩はご苦労だったな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "Barbaross")
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000m船長、カーラン卿は"
		"見つかったのでしょうか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "LAXIA")

	// バルバロス
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#061e#000mいえ、残念ながらまだです。\p"
		"#012e#000mただ明け方にエアラン殿が"
		"カーラン卿を見かけたそうです。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("Barbaross")
	ChangeAnimation( "Barbaross", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	// バルバロス
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#011e#000m出て行ってからそう時間は"
		"経っていないはずなのですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000e#000m今、みんなで手分けして、"
		"村の周りを探しているところだ。\p"
		"アドルを呼んだのは他でもない。"
		"探すのを手伝ってもらいたいんだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mふむ、村の外へ"
		"出て行ったってことはねえのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "SAHAD")
	ChangeAnimation( "Barbaross", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	
	// バルバロス
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#000mあり得るかもしれませんが、"
		"闇雲に探し回るのも危険です。\p"
		"まずは村に手がかりが残ってないか"
		"入念に調べてほしいのです。"
	}
	WaitPrompt()
	WaitCloseWindow()

//	LookChr("Dogi", "SAHAD")

	ChangeAnimation( "Dogi" , "ANI_EV_BORI", -1 , 1 )

	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#011e#000m名無しの件もあるからなあ。\p"
		"昨日の今日でみんな"
		"#012e#000mピリピリしているみたいだ。\p"
		"十分に注意しながら協力してくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S510_ED")
}

function "EV_M02S510_ED"
{
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//モンスターを復帰
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Dogi")
	CallFunc("system:reset_chrmot_Barbaross")

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//フラグ
	SetFlag(SF_SETRAMSAVE,1)		//リトライセーブ
	//SetFlag( GF_02MP1201_LOST_CURRAN , 1 )			// カーラン卿が姿を消す
	//SetFlag( SF_MISSIONNO, MS_02_16 )	//★冒険メモ：カーラン卿の行方を捜そう。
	//SetDiaryCharaFlag( DRCHA_LAXIA, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（ラクシャ）
	//SetFlag( GF_NPC_2B_07_CURRAN_LOST , 1)
	SetFlag( GF_CAMP_SHIPYARD_LV, 4 )	// 漂流村の発展設定：造船所LV4

	//GetItem( ICON3D_COOK_RECIPE04, 1)		//レシピ帳・キッシュ

	//アドルお一人様制御
	//SetFlag( GF_PARTY_NONE , 0)		//パーティ全員行動解除
	//FixPlayerChr(PARTY_ADOL)	// アドルおひとり様モードON

	//マップマーカー
//	DelMapMarker( SMI_EVENTPT_MAIN,PAGE_MP120x,MARKER_EV_M02S470, 0, 0)

	SetFlag( GF_SHIPYARD_LV, 4	)	//◆小船がなくなった状態です
	//SetFlag( SF_WARP_DISABLED, 1 )		//ワープ禁止

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init" )

	SetChrPos("LEADER",34.19f,-1416.66f,10.83f)
	Turn("LEADER",61.86f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰or初期位置設定
	MoveCameraAt( 0 , 34.194f , -1416.656f , 12.683f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 118.143f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	PlayBGM(BGM_EVENT_008, 0)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
	//終了処理ここまで----------------------------------------------------
}


function "EV_M02S520"		//船着き場の異変に気づく
{
	//開始処理ここから----------------------------------------------------

	CallFunc("system:solo_event_begin")

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	//ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定		
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 5.89f, -1505.97f, 0.33f)
	Turn("ADOL", -122.37f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("ADOL" , "SAHAD")

	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 6.95f, -1504.96f, 0.44f)
	Turn("SAHAD", 20.17f, 360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)

	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 12.45f, -1503.52f, 0.71f)
	Turn("Dogi", 69.14f, 360.0f)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")

	SetChrPos("Sahad", -100000.00f, 00.00f, 00.00f)

	MoveCameraAt( 0 , 6.261f , -1506.191f , 1.965f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.121f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.960f , 0 )	// 基本仰角
	RotateCamera( 0 , 14.667f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000, 2.000, 0.450, 0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S520_ED")

	//開始処理ここまで-----------------------------------------------
	
	//　　ルックポイントを調べた後に
	//　　サハドに話しかけることでイベント開始。
	
	// カット1 ----------------------------------------------------------------------------------------
	
	// 位置調整・表情・モーション
	ChangeAnimation( "SAHAD", "ANI_EV_SIAN", -1, 1 )	// 思案

	// 非表示・再表示
	SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 非表示

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 6.476f , -1505.908f , 1.965f , 45 )

	// フェードイン
	FadeIn(FADE_BLACK, FADE_FAST)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#0L………………………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルに「？」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_Q, 0, 5, 1, 1, 1.0f )	// 「？」
	Wait(40)
	
	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "気分でも悪いのかい？2")
	MenuAdd(2, "ちゃんと調査してくれよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	ChangeAnimation( "SAHAD", "ANI_EV_SIAN_E", -1, 1 )	// 思案
	LookChr("SAHAD", "ADOL")

	//─────────────────────────
	//	⇒気分でも悪いのかい？
	if (FLAG[TF_MENU_SELECT] == 1) {

		// サハド
		TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
			"#011e#000mいや……"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒ちゃんと調査してくれよ
	if (FLAG[TF_MENU_SELECT] == 2) {

		// サハド
		TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
			"#061e#000mお？　すまんすまん。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//─────────────────────────

	ChangeAnimation( "SAHAD", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#012e#000mなあ、アドル……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("SAHAD")

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"ここって確か"
		"小舟を係留してなかったか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルにＰＡエモーション。
	EmotionEx("ADOL", 0.05f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	Wait(35)
	
	LookReset("ADOL")
	Turn("ADOL", 12.64f, 8.0f)
	Wait(15)

	// カット2 ----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , 6.130f , -1505.593f , 2.065f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.061f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.043f , 0 )	// 基本仰角
	RotateCamera( 0 , 165.074f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 175.388f , 600 )

	// フェード待ち
	Wait(FADE_NORMAL)

	ChangeAnimation( "ADOL", "ANI_EV_SIAN_S", -1, 1 )	// 思案
	Wait(10)
	
	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "確かに小舟があったはず")
	MenuAdd(2, "よく覚えていないな……")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)

	//─────────────────────────
	//	⇒確かに小舟があったはず
	if (FLAG[TF_MENU_SELECT] == 1) {
		HeadYes("ADOL" , 1 , 25 )	// キャラ, 回数, 速さ
	}
	//	⇒よく覚えていないな……
	if (FLAG[TF_MENU_SELECT] == 2) {
		HeadNo("ADOL", 1, 25)	// キャラ, 回数, 速さ
	}
	//─────────────────────────

	// ぱくぱくセット
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	//─────────────────────────
	//	⇒確かに小舟があったはず
	if (FLAG[TF_MENU_SELECT] == 1) {

		// サハド
		TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
			"#000e#000mやっぱ、そうだよな……"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒よく覚えていないな……
	if (FLAG[TF_MENU_SELECT] == 2) {

		// サハド
		TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
			"#000e#000mいや、確かにあったはずだ。"
			"あったはず2行目"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//─────────────────────────

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mもしかするとカーランの"
			"オッサンは海へ出たのかもしれん。"
	}
	WaitPrompt()
	WaitCloseWindow()


	PlayVoice(Y8V_3560,UNDEF,100)	//アドル…！（真剣）

	//	男性の声
	SetName("男性の声")
	TalkPopup("Dogi", 0, 3, 80, 230, 0) {
		"アドル、ここにいたのか！"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	// カット3 ----------------------------------------------------------------------------------------

	//　　振り向くと背後にドギが立っている。

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , 6.978f , -1505.808f , 1.917f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.581f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.457f , 0 )	// 基本仰角
	RotateCamera( 0 , 320.636f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 再表示

	// 位置調整・表情・モーション
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	LookChr("SAHAD", "Dogi")

	// 移動
	ExecuteCmd(1, MoveTo, "Dogi", 8.39f, -1505.38f, 0.45f, 0.1f, 0.60f)

	LookChr("ADOL", "Dogi")
	Turn("ADOL", -104.61f, 8.0f)
	LookChr("Dogi", "ADOL")
	Turn("SAHAD", -68.66f, 8.0f)

	// フェード待ち
	Wait(FADE_CROSS)

	// 移動待ち
	WaitThread(1)

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mとにかく来てくれ！"
		"カーラン卿が見つかったぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)

	//　　画面フェードアウト。
	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S520_ED")
}

function "EV_M02S520_ED"										
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//モンスターを復帰
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_SAHAD")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	SetFlag(TF_LOADING_TIPS_OFF, 1)	//NowLoading 時の Tips 表示をカット

	LoadArg("map/mp1201/mp1201.arg")
	EventCue("mp1201:EV_M02S530")

	ResetStopFlag(STOPFLAG_EVENT)

	//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼カーランを発見する(mp1201)
//──────────────────────────────
function "EV_M02S530"		//カーランを発見する
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Dogi")
	LoadChr("Curran")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定	
	SetChrInfoFlag( "ADOL",INFOFLAG_FLING )
	SetChrInfoFlag( "LAXIA",INFOFLAG_FLING )
	SetChrInfoFlag( "SAHAD",INFOFLAG_FLING )
	SetChrInfoFlag( "Dogi",INFOFLAG_FLING )
	SetChrInfoFlag( "Curran",INFOFLAG_FLING )

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 18.11f, -1428.93f, 32.37f)
	Turn("ADOL", -21.20f, 360.0f)
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation("ADOL", "ANI_EV_SCOPE", -1, 1)
	SetParent("eq4005", "ADOL", "Null_Rhand2")	//望遠鏡
	ResetChrInfoFlag("eq4005", INFOFLAG_INVISIBLE)
	SetChrPos("eq4005", 16.31f, -1428.99f, 32.37f)
	Turn("eq4005", -24.40f, 360.0f)

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 16.31f, -1428.99f, 32.37f)
	Turn("LAXIA", -24.40f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	LookChr("LAXIA" , "ADOL")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)	// アタリ無視

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 17.51f, -1426.62f, 32.37f)
	Turn("SAHAD", 4.21f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	LookChr("SAHAD" , "ADOL")

	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 16.36f, -1426.89f, 32.37f)
	Turn("Dogi", -39.09f, 360.0f)
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )	// 待機
	LookChr("Dogi" , "ADOL")
	
	SetChrInfoFlag( "Curran" , INFOFLAG_NOCHRATARI )
	SetChrWork("Curran", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Curran",108.63f,-1636.63f,0.23f)
	Turn("Curran",-78.29f,360.0f)
	ChangeSubAnimation("Curran",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation("Curran", "ANI_EV_FUNEKOGU_L", -1, 1)
	LookReset("Curran")

	SetChrPos("eq4023", 110.62f, -1638.03f, 0.23f)
	SetParent("eq4023" , "Curran" , "Null_oar_boat")
	ChangeAnimation( "eq4023" , "ANI_FUNEKOGU", -1 , 1 )

	//カーラン船、沖に出る
	MapAnime("Shipyard" , "curran_ev" )

	//	eq4023	← 櫂

	Portrait_Load( 1 , "visual/portrait/p_50000.itp" )	//双眼鏡
	Portrait_Create(1 , 0 , 0 ,
					0 , 0 , 1920,1080,
					0.0f,0x00ffffff,0x00000000)

	// カメラ設定
	MoveCameraAt( 0 , 18.746f , -1423.294f , 27.199f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.561f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.536f , 0 )	// 基本仰角
	RotateCamera( 0 , 146.712f , 0 )				// 角度
	ChangeCameraPers( 0 , 52.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 16.602f, -1424.089f, 34.740f, 140)		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 7.042f, 140)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, -4.487f, 140)		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 190.614f, 140)		// 角度
		
	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 130.000, 1.000, 0.700, 0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S530_ED")
//開始処理ここまで-----------------------------------------------

	//　　画面フェードインで見張り台の上に立つ
	//　　アドル、ラクシャ、サハド、ドギ。
	//　　可能ならアドルが望遠鏡をのぞいている状況。

	// カットX ----------------------------------------------------------------------------------------

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_FAST)
	
	MoveCameraAt( 0 , 17.343f , -1427.367f , 34.007f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.202f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.510f , 0 )	// 基本仰角
	RotateCamera( 0 , 63.176f , 0 )				// 角度
	ChangeCameraPers( 0 , 36.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_FAST)


	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000e#000mカーランのオッサン……"
		"やっぱり海に出てやがったのか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000m……どうだ、見えるか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 18.004f , -1428.425f , 34.007f , 55 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.202f , 55 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.214f , 55 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 52.288f , 55 )

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	Wait(10)

	FadeOut(FADE_BLACK,FADE_FAST)
	WaitFade()

	// カットX ----------------------------------------------------------------------------------------

//	CrossFade(FADE_NORMAL)
	// 被写界深度の設定

	SetDoF(0, LERP_LINEAR, 2.000, 64.000, 2.000, 0.150, 0.500)

	MoveCameraAt( 0 , 64.859f , -1595.619f , 13.741f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 22.842f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 25.693f , 0 )	// 基本仰角
	RotateCamera( 0 , 194.240f , 0 )				// 角度
	ChangeCameraPers( 0 , 38.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 2000.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Portrait_Anime(1 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)

	SetChrInfoFlag( "Curran" , INFOFLAG_ANYTIMECALC )	// ★
	SetChrInfoFlag( "eq4023" , INFOFLAG_ANYTIMECALC )	// ★

	LoadEffect( "efx_ev02.ite" )
	Effect(3256000 , 111.860f , -1637.683f , 0.00f , 0 ,0 , IMPACT_NONE , KNOCK_EFXPOS,0, 1.8f, 0.20f)	//波紋


	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,  83.589f , -1604.029f , 16.718f , 140 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 22.842f , 140 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 22.000f , 140 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 219.307f , 140 )

	//MoveCameraAt( 0 , 83.589f , -1604.029f , 16.718f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 22.842f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 22.000f , 0 )	// 基本仰角
	//RotateCamera( 0 , 219.307f , 0 )				// 角度
	//ChangeCameraPers( 0 , 38.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 2000.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,  83.589f , -1604.029f , 16.718f , 25 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 18.941f , 25 )
	ExecuteCmd(1003, ChangeCameraPers, INTERPOLATE_SPHERE , 29.000f , 25 )

	//MoveCameraAt( 0 , 83.589f , -1604.029f , 16.718f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 18.941f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 22.001f , 0 )	// 基本仰角
	//RotateCamera( 0 , 219.310f , 0 )				// 角度
	//ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 2000.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	Wait(30)

	//　　可能ならば丸く切り取った映像に
	//　　カーランが必死に筏を漕いでいる姿が映る。
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"思ったより遠くに出てるな")
	MenuAdd(2,"必死に舟を漕いでるみたいだ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//─────────────────────────
	//	⇒思ったより遠くに出てるな
	if (FLAG[TF_MENU_SELECT] == 1){
		TalkPopup("LAXIA",0,3,400,180,0)
		{
			"#000e#000mもしかして、そのまま"
			"島から出るつもりでしょうか？"
		}
		WaitPrompt()
		WaitCloseWindow()
	
		//	"SAHAD"
		TalkPopup("SAHAD",0,3,80,180,0)
		{
			"#000e#000m昨日も言ったが、"
			"ありゃあ無茶ってモンだぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒必死に筏を漕いでるみたいだ
	if (FLAG[TF_MENU_SELECT] == 2){
		TalkPopup("SAHAD",0,3,240,180,0)
		{
			"#000e#000mまさか一人で"
			"船を漕いで出ていくとはなあ。\p"
			"思ったより根性あるが、"
			"ありゃあ無茶ってモンだぜ。 "
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Portrait_Close(  1 )

	// カットX ----------------------------------------------------------------------------------------

	//　　カメラを元に戻して見張り台上の４人を映す。
	//　　全員カーランのいる方向を眺めている。
//	CrossFade(FADE_NORMAL)
	
	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 130.000, 1.000, 0.700, 0.500)

	ResetChrInfoFlag( "Curran" , INFOFLAG_ANYTIMECALC )	// ★
	ResetChrInfoFlag( "eq4023" , INFOFLAG_ANYTIMECALC )	// ★

	SetChrPos("SAHAD", 17.97f, -1427.12f, 32.37f)
	Turn("SAHAD", -27.35f, 360.0f)

	SetChrPos("Dogi", 16.35f, -1426.90f, 32.34f)
	Turn("Dogi", -39.09f, 360.0f)

	SetChrPos("ADOL", 17.66f, -1429.22f, 32.37f)
	Turn("ADOL", -21.20f, 360.0f)

	Look("ADOL", -30, -5)
	Look("SAHAD", -30, -5)
	Look("LAXIA", -30, -5)
	Look("Dogi", -30, -5)

	MoveCameraAt(0, 15.331f, -1426.590f, 34.131f, 0)	// 注視点
	ChangeCameraDistance(0, 4.144f, 0)		// 基本距離
	ChangeCameraElevation(0, 1.538f, 0)	// 基本仰角
	RotateCamera(0, 227.567f, 0)				// 角度
	ChangeCameraPers(0, 30.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()
	
	ChangeAnimation("ADOL", "ANI_EV_SCOPE_E", -1, 1)

	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000e#000mあそこからさらに"
		"沖へ出てしまえば波が高いはずだ。\p"
		"あの程度の小舟じゃあ、"
		"簡単にひっくり返っちまうだろう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_BORI", -1, 1 )	// 頭かき

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000mだが、追いかけようにも舟はねえ。"
		"どうしたもんだかな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　遠くを眺めていたサハドにＰＡエモーション。
	EmotionEx("SAHAD", 0.05f, EMO_PA, 0, 5, 1, 1, 1.3f )	// 「PA」
	Wait(35)

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000e#000mお？2"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)
	SetChrPos("ADOL", 17.78f, -1429.14f, 32.37f)
	SetChrPos("LAXIA", 16.66f, -1429.25f, 32.37f)
	SetChrPos("SAHAD", 17.97f, -1427.12f, 32.37f)
	Turn("SAHAD", 15.96f, 360.0f)

	MoveCameraAt(0, 17.384f, -1428.650f, 33.809f, 0)	// 注視点
	ChangeCameraDistance(0, 4.144f, 0)		// 基本距離
	ChangeCameraElevation(0, 3.276f, 0)	// 基本仰角
	RotateCamera(0, 13.792f, 0)				// 角度
	ChangeCameraPers(0, 30.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	SetParent("eq4005", "", "Null_Rhand2")	//望遠鏡

	Wait(FADE_CROSS)

	LookChr("LAXIA", "SAHAD")
	Turn("LAXIA", -148.00f, 10.0f)
	LookChr("ADOL", "SAHAD")
	Turn("ADOL", 157.82f, 10.0f)
	Wait(10)

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mど、どうしたのです？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000m#0L……………………………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "LAXIA")

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000m風の影響だと思うんだが……"
		"なかなか舟が進まないみてーだ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// 両手腰手振り
	
	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0) {
		"ありゃあ、沖へ出るのは"
		"しばらく難しいかもしれんな。\p"
		"今だったら陸づたいに追いかければ、"
		"追いつけるんじゃないか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、ラクシャ、ドギに「！」エモーション。
	EmotionEx("ADOL", 0.015f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("LAXIA", 0.015f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("Dogi", 0.015f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	Wait(35)

	LookChr("LAXIA", "ADOL")
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mアドル、行きましょう！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookSpd("ADOL",0.1f,0.1f,0.1f)
	LookChr("ADOL", "LAXIA")
	Wait(15)

	//　　アドル、頷きモーション。
	HeadYes("ADOL", 1, 25)
	Wait(30)

	LookChr("Dogi", "ADOL")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	LookChr("ADOL", "Dogi")
	
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000m俺もついて行きたいところだが、"
		"名無しも警戒しなきゃならねえ。\p"
		"バルバロス船長には伝えておくから"
		"すぐに行ってくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()


	//　　アドル頷きモーション後に画面フェードアウトして、
	//　　集会所付近で操作許可。
	HeadYes("ADOL", 1, 25)
	Wait(40)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S530_ED")
}

function "EV_M02S530_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//モンスターを復帰
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Dogi")

	ResetChrInfoFlag( "eq4023" , INFOFLAG_ANYTIMECALC )	// ★
	ResetChrInfoFlag( "Curran" , INFOFLAG_ANYTIMECALC )	// ★
	SetParent("eq4023" , "" , "")
	SetParent("eq4005" , "" , "")

	// 望遠鏡回収
	SetChrPos("eq4005", -100000.00f, 00.00f, 00.00f)
	SetChrPos("eq4023", -100000.00f, 00.00f, 00.00f)

	Portrait_Close(  -1 )
	Portrait_Unload( -1 )

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	ReleaseEffect( "efx_ev02.ite" )

	EventAreaEnable( "evb2_S003" , 0 )	// 出口ストッパー解除

	//フラグ処理
	SetFlag( GF_02MP1201_LOOK_CURRAN , 1 )			// カーラン卿を発見した
	//SetFlag( SF_MISSIONNO, MS_02_17 )	//★冒険メモ：カーラン卿を助けに行こう。

	SetFlag( TF_DOGI_TALK, 0 )			// ドギ
	SetFlag( TF_LICHT_TALK, 0 )			// リヒト
	SetFlag( TF_BARBAROSS_TALK, 0 )		// バルバロス
	SetFlag( TF_BARBAROSS_TALK2, 0 )	// バルバロス

	//アドルお一人様制御
	//SetFlag( GF_PARTY_NONE , 1)		//パーティ全員行動
	//FixPlayerChr(PARTY_NONE)	// アドルおひとり様モードON
	//SetFlag( SF_WARP_DISABLED, 1 )		//ワープ禁止

	//マップマーカー
	DelMapMarker(SMI_EVENTPT_MAIN,PAGE_MP120x,MARKER_EV_M02S520, 0, 0)

	CallFunc("mp1201:init" )

	SetChrPos("LEADER",31.14f, -1418.29f, 10.83f )
	Turn("LEADER",48.16f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰or初期位置設定
	MoveCameraAt( 0 , 31.140f , -1418.290f , 12.684f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.072f , 0 )	// 基本仰角
	RotateCamera( 0 , 133.235f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼NEMOと対決することになる(mp1201)
//──────────────────────────────
function "EV_M02S570"		//NEMOと対決することになる
{
//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Barbaross")
	LoadChr("Dogi")
	LoadChr("Aaron")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//NEMOのメモON
	MapHide("memo", 1)

	//キャラ初期状態の設定			
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 28.82f, -1421.69f, 10.83f)
	Turn("ADOL", 82.98f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 28.82f, -1422.85f, 10.83f)
	Turn("LAXIA", 114.65f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("LAXIA")
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 28.20f, -1423.66f, 10.83f)
	Turn("SAHAD", 120.79f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SAD_CLOSE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("SAHAD")
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 25.02f, -1422.13f, 10.83f)
	Turn("Dogi", -94.38f, 360.0f)
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dogi")
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI )
	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Barbaross", 25.73f, -1423.30f, 10.83f)
	Turn("Barbaross", -131.29f, 360.0f)
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Barbaross")
	ChangeAnimation( "Barbaross", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI )
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 23.17f, -1434.07f, 11.63f)
	Turn("Aaron", 114.81f, 360.0f)
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Aaron")
	ChangeAnimation( "Aaron", "ANI_WAIT", -1, 1 )	// 待機

	MoveCameraAt( 0 , 27.059f , -1421.844f , 13.361f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.281f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.134f , 0 )	// 基本仰角
	RotateCamera( 0 , 200.070f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,0.000 ,0.550 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	// ポートレート読み込み
	Portrait_Load(1, "visual/portrait/p_30003.itp")	// NEMOの予告文、ナイフと紙片２
	Portrait_Create(1, SUBP_POS_X, SUBP_POS_Y,
	0, 0, SUBP_SCALE_X, SUBP_SCALE_Y,
	0.0f, 0x00ffffff, 0x00000000)
	

	StopBGM(0)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S570_ED")

//開始処理ここまで-----------------------------------------------

	//　　画面フェードインして漂流村の集会所。
	//　　すでに日が暮れていて、周囲は暗闇に包まれている。
	//　　バルバロス、ドギ、アドル、ラクシャ、サハドが
	//　　焚火の周囲に集まっている。

	Wait(15)

	PlayBGM(BGM_EVENT_017, 0)
	FadeBGM(70, 0)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.059f , -1421.844f , 12.341f , 75 )

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	WaitThread(1000)

	Wait(5)
	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_NORMAL)
	Look("LAXIA", 0, -7)
	MoveCameraAt( 0 , 28.241f , -1422.295f , 12.341f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.401f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.998f , 0 )	// 基本仰角
	RotateCamera( 0 , 213.250f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SAD_CLOSE, 1)	// 目


	Wait(FADE_NORMAL)
	
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#061m#0L………………………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	Look("SAHAD", 0, -10)
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000mカーランのオッサン…………"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , 25.484f , -1423.029f , 12.501f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.101f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.141f , 0 )	// 基本仰角
	RotateCamera( 0 , 159.665f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	Wait(FADE_CROSS)

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#011e#000m助けられなかったのは残念だったな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	HeadYes("Barbaross" , 1 , 25 )
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	
	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000mうむ、突然あのような"
		"化け物が出てきたのでは……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Look("Barbaross", 0.0f, -10.0f)	// うつむく
	
	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#011e#000mロンバルディア号を沈めたのも"
		"ヤツに間違いないだろう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 28.633f , -1422.634f , 12.601f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.641f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.883f , 0 )	// 基本仰角
	RotateCamera( 0 , 103.795f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)


	LookChr("SAHAD", "Barbaross")
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	//	"SAHAD"
	TalkPopup("SAHAD",0,1,0,0,0)
	{
		"#000e#000mお？　そーなると長年"
		"この辺りで船を沈めてきたのは……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Barbaross", "SAHAD")

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#012e#000m……ええ、ヤツの仕業と"
		"考えて差し支えありません。\p"
		"おそらく何百年にも渡って"
		"この海域を守ってきたのでしょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	LookChr("Dogi", "Barbaross")

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000mそうなるとあれをやっつけなきゃ、"
		"島を出られないってコトですかい？\p"
		"なかなか厄介そうですなあ……"
		"厄介4行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　カメラスクロールして
	//　　集会所の奥にいるエアランが何かを見つける。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 29.071f , -1423.046f , 12.681f , 70 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.640f ,  70 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.727f ,  70 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 132.723f ,  70 )

	Wait(50)
	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	LookTo("Aaron", 21.460f , -1434.108f , 13.717f)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	TalkPopup("Aaron",0,2,0,0,0)
	{
		"#000e#000mあ？　何だァ、こりゃ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , 23.032f , -1433.741f , 13.277f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.819f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -8.214f , 0 )	// 基本仰角
	RotateCamera( 0 , 106.473f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 23.032f , -1433.741f , 13.317f , 300 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.819f , 300 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -9.360f , 300 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 116.212f , 300 )


	Wait(50)

	//　　エアランに「！」エモーション。
	EmotionEx("Aaron", 0.00f, EMO_EX, 0, 5, 1, 1, 0.8f )	// 「！」
	Wait(35)
	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	TalkPopup("Aaron",0,1,0,0,0)
	{
		"#000e#000mこ、こいつは……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_NORMAL)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	//　　壁に貼ってあった張り紙らしきものを剥がすエアラン。
	//　　そのままアドルたちのほうへやって来る。

	MapHide("memo", 0)		//ニーモのメモを消す


	SetChrPos("Aaron",26.09f, -1425.95f, 10.83f)
	Turn("Aaron",-174.24f,360.0f)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)

	SetChrPos("Dogi",25.64f, -1420.76f, 10.83f)
	Turn("Dogi",-5.55f,360.0f)
	SetChrPos("Barbaross",24.83f, -1422.45f, 10.83f)
	Turn("Barbaross",-38.91f,360.0f)
	LookChr("Dogi", "Aaron")
	LookChr("Barbaross", "Aaron")
	LookReset("Aaron")
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目

	LookChr("ADOL", "Barbaross")
	LookChr("LAXIA", "Barbaross")
	LookChr("SAHAD", "Barbaross")

	ExecuteCmd(1, MoveTo, "Aaron", 26.10f, -1423.97f, 10.83f, 0.1f, 0.15f)

	MoveCameraAt( 0 , 25.458f , -1425.012f , 12.787f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.639f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.013f , 0 )	// 基本仰角
	RotateCamera( 0 , 349.362f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 25.556f , -1423.422f , 12.527f , 80 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.639f , 80 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.998f , 80 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 358.531f  , 80 )

	WaitThread(1)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000m何だ、どうした？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Aaron", "Dogi")
	ChangeAnimation("Aaron", "ANI_EV_TEWATASI_S", -1, 1)
	
	//	"Aaron"
	TalkPopup("Aaron",0,1,0,0,0)
	{
		"#000e#000mこいつを見てくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookTo("Dogi", 26.268f , -1423.690f , 12.187f)		// 座標：エアランの手
	LookTo("Barbaross", 26.268f , -1423.690f , 12.187f)	// 座標：エアランの手
	Wait(20)

	//　　バルバロスに「！」エモーション表示。
	EmotionEx("Barbaross", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	Wait(35)

	TalkPopup("Barbaross",0,2,0,0,0) {
		"#031e#000mむ……"
	}
	WaitPrompt()
	WaitCloseWindow()


	//ポートレート表示
	Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
	Wait(FADE_NORMAL)

	Wait(45)

	//　　予告文同様に同様荒々しい文字が書きなぐられている。
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
		""
		"#6Cマズハ一人　　　"
		"#6C　　　　　　NEMO"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(15)
	
	//　　サブポートレートを消去。
	Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
	Wait(FADE_FAST)
	Portrait_Close(1)
	Portrait_Unload(1)

	ChangeAnimation("Aaron", "ANI_EV_TEWATASI_E", -1, 1)
	
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000mこいつは……名無しの野郎か。"
		"一体いつの間に……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Aaron"
	TalkPopup("Aaron",0,1,0,0,0)
	{
		"#000e#000mチッ、なるほどな……\p"
		"心理的に追い詰めて死に追いやることも"
		"あると聞いちゃいたが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#011e#000mカーラン殿は実質、"
		"名無しに殺されたということですか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)
	
	MoveCameraAt( 0 , 28.019f , -1423.150f , 12.527f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.639f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.306f , 0 )	// 基本仰角
	RotateCamera( 0 , 280.727f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_ANGER,1)

	LookReset("Aaron")
	LookReset("Dogi")
	LookReset("Barbaross")

	Wait(FADE_CROSS)

	ChangeAnimation("LAXIA", "ANI_EV_TEMUNE_S", -1, 1)
	
	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#051e#000mそんな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#041e#000mあのオッサンは嫌なヤツだったが、"
		"殺されるほどじゃなかったはずだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_FAST)

	MoveCameraAt( 0 , 26.683f , -1422.523f , 12.407f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.438f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.770f , 0 )	// 基本仰角
	RotateCamera( 0 , 132.687f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetChrPos("Dogi", 25.39f, -1421.36f, 10.83f)
	Turn("Dogi", -58.85f, 360.0f)
	SetChrPos("Barbaross", 25.18f, -1422.67f, 10.83f)
	Turn("Barbaross", -92.21f, 360.0f)

	Wait(FADE_FAST)

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0) {
		"#011e#000mわざわざ、人の出入りが多い場所に"
		"書き置きを残していくとは余裕だな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2("Dogi", -1, 1, "ANI_EV_UDEGUMI_E", 0)
	ChangeAnimation( "Dogi", "ANI_EV_YARUKI_S", -1, 1 )	// こぶしたたきつける

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0) {
		"#031e#000m明らかに楽しんでやがる……"
		"とことん趣味の悪い野郎だぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	//	"Aaron"
	TalkPopup("Aaron",0,2,0,0,0)
	{
		"#000e#000m既に犠牲者が一人……\p"
		"#011e#000mこのまま手をこまねいていれば"
		"間違いなく次の犠牲者が出るだろう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	HeadYes("Barbaross" , 1 , 25 )
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000mうむ……これ以上"
		"犠牲者を出すわけにはいきません。\p"
		"名無しとの対決は"
		"どうやら避けて通れないようです。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Look("Barbaross", 0.0f, -10.0f)	// うつむく
	
	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#011e#000m皆さん、どうかご協力いただきたい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_YARUKI_E", -1, 1 )	// こぶしたたきつける
	LookChr("Dogi", "Barbaross")

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000mそうこなくっちゃな。"
		"で、具体的に何をすればいいんで？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "Dogi")

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000e#000mドギは引き続き"
		"漂流村全体の警護に当たってくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Barbaross", "Aaron")
	
	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"それとエアラン殿……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Aaron", "Barbaross")
	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	//	"Aaron"
	TalkPopup("Aaron",0,2,0,0,0) {
		"#000e#000m捜査の基本といやァ、聞き込みだ。\p"
		"捜査2行目"
		"事件前後に不審なことがなかったか、"
		"漂流者たちの話を徹底的に検証する。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	//	"Aaron"
	TalkPopup("Aaron",0,2,0,0,0) {
		"それから、やっぱり"
		"事件現場の検証も欠かせんな。\p"
		"何か証拠が残っていないか、"
		"もう一度調べてみるべきだろう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	HeadYes("Barbaross" , 1 , 25 )
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000mふむ、さすがですな……\p"
		"聞き込みや調査はエアラン殿と"
		"それからアドルにお願いしましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Barbaross", "ADOL")
	ChangeAnimation( "Barbaross", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"今日はもう遅い……ひとまず警備を固め、"
		"明日の朝から本格的に捜査を始めて下さい。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//　　フェードインして夜の静まり返った漂流村で
	//　　今夜はドギとエアランが見張りをしている様子を
	//　　見せつつフェードアウト。


	FadeOut(FADE_BLACK, 45)
	WaitFade()

	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))

	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Barbaross", INFOFLAG_INVISIBLE)	// 非表示


	SetChrPos("Aaron", 17.71f, -1428.75f, 32.34f)
	Turn("Aaron", -27.77f, 360.0f)
	LookReset("Aaron")
	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	SetChrPos("Dogi", 17.52f, -1426.61f, 32.34f)
	Turn("Dogi", -120.81f, 360.0f)
	LookReset("Dogi")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	Wait(20)

	MoveCameraAt( 0 , 22.716f , -1411.822f , 16.916f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 13.141f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.341f , 0 )	// 基本仰角
	RotateCamera( 0 , 137.716f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 24.794f , -1412.551f , 15.596f , 135 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 13.141f , 135 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.243f , 135 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 169.229f , 135 )

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	// カットX ----------------------------------------------------------------------------------------

	StopBGM(120)

	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , 18.321f , -1427.474f , 33.675f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.701f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.627f , 0 )	// 基本仰角
	RotateCamera( 0 , 62.946f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 18.377f , -1427.391f , 35.095f , 150 )

	Wait(30)
	LookSpd("Dogi", 0.08f, 0.08f, 0.08f )// ゆっくりめに首向き
	Look("Dogi", -40.0f, 0.0f)	// （＾＾）→
	Wait(30)
	Look("Aaron", -40.0f, 0.0f)	// （＾＾）→
	Wait(30)
	Look("Dogi", 40.0f, 0.0f)	// ←（＾＾）

	Wait(30)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	LookSpd( "Dogi", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT )


	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S570_ED")
}

function "EV_M02S570_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")	//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//モンスターを復帰
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Dogi")
	CallFunc("system:reset_chrmot_Aaron")
	CallFunc("system:reset_chrmot_Barbaross")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//ポートレート全開放・全クローズ
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	StopBGM(30)
	SetFlag(SF_NOCHANGEBGM, 1)

	SetFlag(TF_LOADING_TIPS_OFF, 1)	//NowLoading 時の Tips 表示をカット

	//フラグ処理
	LoadArg("map/mp1201t3/mp1201t3.arg")
	EventCue("mp1201:EV_M02S580")

	ResetStopFlag(STOPFLAG_EVENT)

//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼聞き込み調査を開始する(mp1201)
//──────────────────────────────
function "EV_M02S580"		//聞き込み調査を開始する
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Aaron")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 30.76f, -1420.59f, 10.83f)
	Turn("ADOL", 93.64f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("ADOL")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 30.51f, -1419.47f, 10.83f)
	Turn("LAXIA", 64.83f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("LAXIA")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 30.79f, -1421.61f, 10.83f)
	Turn("SAHAD", 139.68f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("SAHAD")

	SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI )
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 28.89f, -1420.63f, 10.83f)
	Turn("Aaron", -106.24f, 360.0f)
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Aaron", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("Aaron")

//	MoveCameraAt( 0 , 20.993f , -1435.409f , 26.253f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.298f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -22.838f , 0 )	// 基本仰角
//	RotateCamera( 0 , 345.595f , 0 )				// 角度
//	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 600.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
MoveCameraAt( 0 , 20.993f , -1435.409f , 27.121f , 0 )	// 注視点
ChangeCameraDistance( 0 , 2.298f , 0 )		// 基本距離
ChangeCameraElevation( 0 , -18.428f , 0 )	// 基本仰角
RotateCamera( 0 , 336.737f , 0 )				// 角度
ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
SetCameraZPlane( 0.100f , 600.000f )			// ZPlane
RollCamera( 0 , 0.0f , 0 )				// ロール回転
// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 180.000, 1.000, 0.700, 0.650)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S580_ED")
	//開始処理ここまで-----------------------------------------------


	// カット0（暗転）---------------------------------------------------------------------------------

	//　　画面暗転のまま、チュンチュンと鳥の鳴き声。

	PlaySE("SE_SUZUME", 100, 0,  0, 0, 1.0f, 0)		//◆仮

	Wait(45)

	PlayBGM(BGM_EVENT_008, 0)

	// カット1 -----------------------------------------------------------------------------------------

	//　　画面フェードインするとアドル、ラクシャ、サハド、
	//　　そしてエアランが既に集会所に集まっている状態。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 20.993f , -1435.409f , 26.253f, 85 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.298f , 85 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-9.945f , 85 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 315.228f , 85 )

	// 位置調整・表情・モーション
	LookChr("ADOL", "Aaron")
	LookChr("LAXIA", "Aaron")
	LookChr("SAHAD", "Aaron")
	LookChr("Aaron", "LAXIA")

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	Wait(10)

	// カット2 -----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ
	MoveCameraAt( 0 , 30.528f , -1420.362f , 12.399f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.778f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.021f , 0 )	// 基本仰角
	RotateCamera( 0 , 125.032f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 600.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetDoF(0, LERP_LINEAR, 3.000, 60.000, 1.000, 0.700, 0.500)

	// フェード待ち
	Wait(FADE_FAST)

	ChangeAnimation("LAXIA", "ANI_EV_TEBURI", -1, 1)
	
	// ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000m……それではエアランさんとは"
		"別行動で調査を進めるわけですね？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#000e#000mフン、そのほうが効率的だからな。\p"
		"俺は事件のあった場所を"
		"もう一度検証してみるつもりだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// サハド
	TalkPopup("SAHAD",0,1,0,0,0) {
		"#000e#000mワシらはどうしたらいいんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Aaron", "SAHAD")
	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#000e#000mアドルたちには聞き込みを頼みたい。\p"
		"憲兵の俺が一緒だと"
		"みんなが身構えちまう可能性もある。"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2( "Aaron" , -1, 1, "ANI_EV_UDEGUMI_E",  0)
	LookChr("Aaron", "ADOL")
	ChangeAnimation( "Aaron", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"お前たちだからこそ、"
		"集められる情報もあるかもしれん。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("LAXIA", 1, 25)	// キャラ, うなずき回数, 速さ

	// ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mなるほど、わかりました。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Aaron", "LAXIA")
	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#000e#000m一通り聞き込みを終えたら、"
		"ここで落ち合って情報交換だ。\p"
		"それじゃあ、また後でな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ここで操作許可。

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S580_ED")
}

function "EV_M02S580_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//モンスターを復帰
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Aaron")

	//ResetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI )
	//ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	//ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	//ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	//SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 0)

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//フラグ
	//SetFlag( GF_02MP1201_START_HEARING , 1 )			// 聞き込みを開始する
	//SetFlag( SF_MISSIONNO, MS_02_18 )	//★冒険メモ：事件について聞き込みをしよう。
	//SetFlag( GF_NPC_2B_08_HEARING_START , 1)		//聞き込みを開始する
	//SetFlag( SF_WARP_DISABLED, 1 )		//ワープ禁止
	SetFlag( SF_BOSS_BATTLE, 0 )		//ボス終了

	// 人物メモを切り替える・カーラン卿（２）	死亡
	//SetDiaryCharaFlag(DRCHA_CURRAN ,DRCHA_FLAG_OPEN, 0)
	//SetDiaryCharaFlag(DRCHA_CURRAN2,DRCHA_FLAG_OPEN, 1)
	//SetDiaryCharaFlag(DRCHA_CURRAN3,DRCHA_FLAG_OPEN, 0)
	//SetDiaryCharaFlag( DRCHA_CURRAN, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（カーラン卿）
	//SetDiaryCharaFlag( DRCHA_CURRAN2, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（カーラン卿）
	//SetDiaryCharaFlag( DRCHA_CURRAN3, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（カーラン卿）

	//キャンプ回復・リトライセーブ
	CallFunc("system:camp_rest")

	//アドルお一人様
	//SetFlag(GF_PARTY_NONE, 1)		//パーティ全員行動ON
	//FixPlayerChr(PARTY_NONE)	// アドルおひとり様モードON

	//マーカーセット
	DelMapMarker( SMI_SYMBOL,PAGE_F005,MARKER_EV_M02S550, 0, 0)		//カーラン卿の救出に向かう

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init" )

	SetChrPos("LEADER",31.14f, -1418.29f, 10.83f )
	Turn("LEADER",48.16f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰or初期位置設定
	MoveCameraAt( 0 , 31.140f , -1418.290f , 12.690f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 79.896f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK, FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼サハドが人影を発見する(mp1201)
//──────────────────────────────
function "EV_M02S590"		//サハドが人影を発見する
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 28.84f, -1421.24f, 10.83f)
	Turn("ADOL", -94.45f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("ADOL")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",30.29f, -1421.35f, 10.83f)
	Turn("LAXIA", 65.19f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("LAXIA")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 29.38f, -1422.30f, 10.83f)
	Turn("SAHAD", -157.85f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("SAHAD")

//	MoveCameraAt( 0 , 29.564f , -1420.959f , 12.767f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.042f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -4.204f , 0 )	// 基本仰角
//	RotateCamera( 0 , 146.201f , 0 )				// 角度
//	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	MoveCameraAt( 0 , 29.717f , -1421.365f , 12.387f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.562f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.053f , 0 )	// 基本仰角
	RotateCamera( 0 , 156.800f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)


	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S590_ED")

//開始処理ここまで-----------------------------------------------

	//　　聞き込みでリヒト、キルゴール、バルバロス、ヒュンメルの
	//　　話を聞いて集会所へ戻るとイベントが発生する。
	//　　焚き火中心、時計回りにアドル、ラクシャ、サハド。

	// カット1 ----------------------------------------------------------------------------------------

	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 29.717f , -1421.365f , 12.387f , 100 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.562f , 100 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.053f , 100 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 156.800f , 100 )

	// 位置調整・表情・モーション
	LookChr("SAHAD", "LAXIA")
	LookChr("ADOL", "LAXIA")

	Wait(10)

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	ChangeAnimation( "SAHAD", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000m……これで聞き込みは終わりか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "SAHAD")
	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_S", -1, 1 )	// 両手 前組み

	// ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mそうですね、ある程度の"
		"情報は集まったと思うのですが……\p"
		"エアランさんはまだ"
		"戻ってきていないようですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_E", -1, 1 )	// 両手 前組み

	// ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"もう少し村の中を回って……"
		"村の中2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　サハドにＰＡエモーション。
	EmotionEx("SAHAD", 0.1f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	LookTo("SAHAD", 42.095f , -1413.620f , 12.827f)		// 座標：村の入り口のほう
	Wait(35)

	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#071e#000mお？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL", "SAHAD")
	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mどうしました？"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ
	MoveCameraAt( 0 , 29.439f , -1421.539f , 12.647f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.282f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.098f , 0 )	// 基本仰角
	RotateCamera( 0 , 284.574f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 150.000 ,1.000 ,0.700 ,0.500)


	MapHide( "fire_alpha" , 0 )		// 焚き火OFF

	// カメラ移動
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 294.028f , 600 )

	// フェード待ち
	Wait(FADE_FAST)

	// サハド
	TalkPopup("SAHAD",0,1,0,0,0) {
		"#000e#000mいや……今、村の外を"
		"誰かが横切って行ったような……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookTo("ADOL", 42.095f , -1413.620f , 12.827f)		// 座標：村の入り口のほう
	LookTo("LAXIA", 42.095f , -1413.620f , 12.827f)		// 座標：村の入り口のほう
	Turn("LAXIA", -116.01f, 8.0f)

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000m入口の辺りですか？"
		"漂流者の方だとしたら妙ですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// サハド
	TalkPopup("SAHAD",0,1,0,0,0) {
		"#000e#000mおーよ、外へ出ることは"
		"控えるよう伝わっているはずだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000mもし漂流者だとしたら、"
		"村の中へ戻るよう呼びかけないと。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("LAXIA", "ADOL")
	TurnToChr("LAXIA", "ADOL", 8.0f)
	Wait(10)
	
	LookChr("ADOL", "LAXIA")
	
	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"アドル、まだ時間もありそうですし、"
		"見に行ってみましょうか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　操作許可。

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ停止
	StopThread(1003)

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S590_ED")
}

function "EV_M02S590_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//モンスターを復帰
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")

	MapHide( "fire_alpha" , 1 )		// 焚き火ON

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//フラグ処理
	SetFlag( GF_02MP1201_LOOK_MAN , 1 )			// サハドが人影を発見する
	//SetFlag( SF_MISSIONNO, MS_02_19 )	//★冒険メモ：サハドが見かけた人影を追ってみよう。
	//SetFlag( SF_WARP_DISABLED, 0 )		//ワープ使用可能

	//アドルお一人様制御
//	SetFlag(GF_PARTY_NONE, 1)		//パーティ全員行動
//	FixPlayerChr(PARTY_NONE)	// アドルおひとり様モードOFF

	//NPC復帰
	CallFunc("mp1201:init" )

	//イベント後の再配置位置
	SetChrPos("LEADER", 33.68f, -1417.04f, 10.83f)
	Turn("LEADER", -111.57f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰or初期位置設定
	MoveCameraAt( 0 , 33.680f , -1417.040f , 12.690f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , -41.958f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK, FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼名無しの正体が判明する(mp1201)
//──────────────────────────────
function "EV_M02S620"		//名無しの正体が判明する
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Barbaross")
	LoadChr("Dogi")
	LoadChr("Aaron")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	MapHide("smoke",0)	//狼煙

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定			
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 27.98f, -1423.54f, 10.83f)
	Turn("ADOL", 136.56f, 360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 28.71f, -1422.42f, 10.83f)
	Turn("LAXIA", 93.62f, 360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("LAXIA")
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 28.66f, -1421.12f, 10.83f)
	Turn("SAHAD", 65.71f, 360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("SAHAD")
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 25.21f, -1421.86f, 10.83f)
	Turn("Dogi", -87.22f, 360.0f)
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dogi")
	Look("Dogi", 0 , -10 )
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )	// 待機

	SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI )
	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Barbaross", 25.62f, -1423.39f, 10.83f)
	Turn("Barbaross", -121.58f, 360.0f)
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Barbaross")
	ChangeAnimation( "Barbaross", "ANI_WAIT", -1, 1 )	// 待機
	LookChr("Barbaross", "LAXIA")

	SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI )
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 26.10f, -1420.51f, 10.83f)
	Turn("Aaron", -50.17f, 360.0f)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Aaron")
	ChangeAnimation( "Aaron", "ANI_WAIT", -1, 1 )	// 待機
	Look("Aaron", 0 , -10 )


	// ポートレート読み込み
	Portrait_Load(1, "visual/portrait/p_30004.itp")	// 	鋼線を発見
	Portrait_Create(1, SUBP_POS_X, SUBP_POS_Y,
	0, 0, SUBP_SCALE_X, SUBP_SCALE_Y,
	0.0f, 0x00ffffff, 0x00000000)

	//カメラ設定
	MoveCameraAt( 0 , 28.259f , -1420.898f , 12.535f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 7.122f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.854f , 0 )	// 基本仰角
	RotateCamera( 0 , 61.748f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 60.000 ,0.000 ,0.550 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M02S620_ED")

//開始処理ここまで-----------------------------------------------

	//　　フェードインして漂流村の集会所。
	//　　時計回りにバルバロス、ドギ、エアラン、サハド、
	//　　ラクシャ、アドルの順で焚火を囲む。
	
	// カット1 ----------------------------------------------------------------------------------------

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.610f , -1422.106f , 12.535f, 75 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 7.122f , 75 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.854f , 75 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 61.748f , 75)

	//MoveCameraAt( 0 , 27.610f , -1422.106f , 12.535f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 7.122f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -0.854f , 0 )	// 基本仰角
	//RotateCamera( 0 , 61.748f , 0 )				// 角度
	//ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	Wait(10)

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ
	MoveCameraAt( 0 , 26.493f , -1421.072f , 12.381f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.493f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.523f , 0 )	// 基本仰角
	RotateCamera( 0 , 128.784f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MapHide("fire_alpha" , 0)		// 焚き火OFF
	LookChr("ADOL", "LAXIA")

	
	// フェード待ち
	Wait(FADE_FAST)

	ChangeAnimation( "Barbaross", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// バルバロス
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#000e#011e#080mはは、なるほど……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// バルバロス
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#080m私にもエアラン殿が"
		"犯人とはとても思えませんがね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// エアラン
	TalkPopup("Aaron",0,1,0,0,0) {
		"#041e#000m名無しめ……"
		"ったく、とんだ迷惑ヤローだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "Aaron")
	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000e#000mそれでも今回は収穫が"
		"あったみたいじゃないか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	// バルバロス
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#012e#000mリヒト君の言う通り、名無しは"
		"巧妙に心の隙を突いた行動をします。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Barbaross")
	ChangeAnimation( "Barbaross", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// バルバロス
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#011e#000m確かに頭の回る人物だと"
		"考えたほうがいいかもしれません。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_NORMAL)

	// カメラ
	MoveCameraAt( 0 , 26.211f , -1423.029f , 12.535f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.421f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.440f , 0 )	// 基本仰角
	RotateCamera( 0 , 259.240f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("Dogi", 25.38f, -1421.70f, 10.83f)
	Turn("Dogi", -94.32f, 360.0f)
	SetChrPos("Barbaross", 26.15f, -1423.47f, 10.83f)
	Turn("Barbaross", -153.56f, 360.0f)
	SetChrPos("Aaron", 26.10f, -1420.51f, 10.83f)
	Turn("Aaron", -28.85f, 360.0f)
	LookChr("Dogi", "LAXIA")
	LookChr("Aaron", "LAXIA")
	LookChr("SAHAD", "Barbaross")
	
	MapHide("fire_alpha" , 1)		// 焚き火ON
	
	// カメラ移動
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 275.260f , 600 )
	
	// フェード待ち
	Wait(FADE_NORMAL)

	LookChr("LAXIA", "Barbaross")

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000mそれと、バルバロス船長が"
		"襲われた時に感じたという違和感……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "LAXIA")
	
	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"名無しは船長が切られた瞬間、"
		"犯行不可能な間合にいたそうですが……\p"
		"凶器がナイフではなく鋼線の罠#2Rトラップ#Rだと"
		"考えると辻褄が合います。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	HeadYes("Barbaross" , 1 , 25 )
	// バルバロス
	TalkPopup("Barbaross",0,1,0,0,0) {
		"#000e#000mふむ、確かに……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)
	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 25.977f , -1421.734f , 12.615f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.701f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.712f , 0 )	// 基本仰角
	RotateCamera( 0 , 26.434f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#012e#000mそしてその罠を扱うことから"
		"ロムン帝国軍の関係者だと推測できる。\p"
		"あとは漂流村内部の人間なのか"
		"それとも外部の人間なのかだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#011e#000mロムン軍の関係者なんて"
		"他に心当たりがないがなあ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Aaron")
	ChangeAnimation( "Aaron", "ANI_EV_BORI", -1, 1 )	// 頭かき

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#011e#000mそうなると外部の人間という線で"
		"調べることになるが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ
	MoveCameraAt( 0 , 26.947f , -1421.836f , 12.515f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.061f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.027f , 0 )	// 基本仰角
	RotateCamera( 0 , 212.552f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.020f , -1421.806f , 12.515f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.301f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.600f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 199.088f , 900 )
	
	// フェード待ち
	Wait(FADE_FAST)

	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000mとにかく、これ以上"
		"犠牲者を増やしたくありませんね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// ドギ
	TalkPopup("Dogi",0,1,0,0,0) {
		"#000e#000mそういや、ラクシャ嬢……"
		"ケガのほうは大丈夫なのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "Dogi")
	Wait(10)

	// うなずきセット
	HeadYes("LAXIA" , 1 , 25 )
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000mえ、ええ……サハドのおかげで"
		"どうやら傷は浅いみたいです。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	
	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"あとでキルゴール先生に"
		"診てもらおうとは思いますが……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Barbaross", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	
	// バルバロス
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#000e#000mふむ、キルゴール先生は"
		"なかなかの名医かもしれませんぞ。\p"
		"私の傷も昨日の今日負ったものですが、"
		"ご覧の通り経過は至って良好です。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("SAHAD")
	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#011e#000mそういや、あの先生"
		"ちょっと面白いこと言ってたな。\p"
		"ナントカっていう"
		"珍しい国に滞在していたとか……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　エアランにＰＡエモーション。
	EmotionEx("Aaron", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	Wait(35)
	
	LookChr("Aaron", "SAHAD")
	ChangeAnimation( "Aaron", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	// エアラン
	TalkPopup("Aaron",0,1,0,0,0) {
		"#000e#000mあ？　ナントカってどこだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルのほうを見るサハド。
	LookChr("SAHAD", "ADOL")
	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	
	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#012e#000m確かアドルが行きたがってた国だが。\p"
		"お？　どこだっけ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL", "SAHAD")
	ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	LookChr("LAXIA", "ADOL")

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"アルタゴ")
	MenuAdd(2,"ガルマン")
	MenuAdd(3,"グリーク")
//	MenuOpen( TF_MENU_SELECT , -1 , 140 , -1 , -1 , 10 , 0)
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_TEBURI", -1, 1 )	// 腕組手振り
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(15)

	//─────────────────────────
	//	⇒アルタゴ
	if (FLAG[TF_MENU_SELECT] == 1){

		ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

		// ラクシャ
		TalkPopup("LAXIA",0,2,0,0,0) {
			"#000e#000mええ、少し前までアルタゴ公国に"
			"滞在していたと仰っていましたね。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒ガルマン
	if (FLAG[TF_MENU_SELECT] == 2){

		ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

		// ラクシャ
		TalkPopup("LAXIA",0,0,0,0,0) {
			"#000e#000m冗談のつもりですか？"
			"ガルマンはわたくしの祖国です。\p"
			"先生が滞在していたのは"
			"アルタゴ公国だったはずです。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒グリーク
	if (FLAG[TF_MENU_SELECT] == 3){

		// サハド
		TalkPopup("SAHAD",0,2,0,0,0) {
			"#000e#000mガハハ、そりゃあハズレだ。"
			"グリークはワシの祖国だからな。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

		// ラクシャ
		TalkPopup("LAXIA",0,2,0,0,0) {
			"#000e#000mまったく……先生の滞在先は"
			"確かアルタゴ公国のはずです。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//─────────────────────────

	//　　バルバロス船長、エアラン、ドギに「！」エモーション。
	EmotionEx("Barbaross", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("Aaron", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("Dogi", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EarthQuake( 0.02f , 0.02f , 10 )	// 縦揺れ幅, 横揺れ幅, 時間
	Wait(40)

	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_NORMAL)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 27.860f , -1421.961f , 12.435f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.961f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.847f , 0 )	// 基本仰角
	RotateCamera( 0 , 81.653f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	SetChrPos("LAXIA", 28.68f, -1422.58f, 10.83f)
	Turn("LAXIA", 93.62f, 360.0f)
	SetChrPos("Barbaross", 26.05f, -1423.32f, 10.83f)
	Turn("Barbaross", -128.69f, 360.0f)
	SetChrPos("Aaron", 25.88f, -1420.63f, 10.83f)
	Turn("Aaron", -46.62f, 360.0f)
	SetChrPos("Dogi", 25.34f, -1421.79f, 10.83f)
	Turn("Dogi", -83.66f, 360.0f)
	LookChr("ADOL", "Dogi")
	LookChr("LAXIA", "Dogi")
	LookChr("SAHAD", "Dogi")
	LookChr("Barbaross", "LAXIA")
	LookChr("Aaron", "LAXIA")
	LookChr("Dogi", "LAXIA")
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "Barbaross", "ANI_WAIT", -1, 1 )	// 待機

	MapHide("fire_alpha" , 0)		// 焚き火OFF
	
	// フェード待ち
	Wait(FADE_NORMAL)

	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000e#000mおいおい、今何て言ったんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャに「？」エモーション。
	EmotionEx("LAXIA", 0.00f, EMO_Q, 0, 5, 1, 1, 0.7f )	// 「？」
	Wait(40)
	
	// ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mキルゴール先生がアルタゴに"
		"滞在されていたと言いましたが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// サハド
	TalkPopup("SAHAD",0,1,0,0,0) {
		"#000e#000mそれがどうかしたのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Aaron", "SAHAD")
	Wait(10)

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#031e#000mバーロー！　アルタゴと言やァ、"
		"我が祖国ロムン帝国と今も戦争中だ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_YARUKI_S", -1, 1 )	// こぶしたたきつける
	Wait(15)
	EarthQuake( 0.02f , 0.02f , 10 )	// 縦揺れ幅, 横揺れ幅, 時間

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"普通の旅行者が入れるような"
		"地域じゃねえだろが！！"
	}
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	HeadYes("Dogi" , 1 , 25 )
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000mああ、アドルと俺もずっと"
		"渡航できないでいる場所だぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Barbaross")
	ChangeAnimation( "Barbaross", "ANI_EV_SIAN_S", -1, 1 )	// 思案

	// バルバロス
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#011e#000mふむ、今のアルタゴに"
		"出入りできる者といえば……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_YARUKI_E", -1, 1 )	// こぶしたたきつける
	LookChr("Aaron", "Barbaross")

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#032e#000mごくごく一部の要人か……"
		"ロムン帝国軍に所属する軍人だ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット7 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 26.772f , -1422.017f , 12.501f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.241f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.942f , 0 )	// 基本仰角
	RotateCamera( 0 , 250.122f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	SetChrPos("LAXIA", 28.71f, -1422.27f, 10.83f)
	Turn("LAXIA", 86.51f, 360.0f)
	
	MapHide("fire_alpha" , 1)		// 焚き火ON
	
	
	//　　アドル、ラクシャ、サハドに「！」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.15f )	// 「！」
	EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.15f )	// 「！」
	EmotionEx("SAHAD", 0.00f, EMO_EX, 0, 5, 1, 1, 1.15f )	// 「！」
	Wait(40)
	
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	
	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mお？　何かの間違いじゃねーか？\p"
		"キルゴール先生は"
		"要人でも軍人でもなく医者だぜ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Aaron", "SAHAD")

	// エアラン
	TalkPopup("Aaron",0,1,0,0,0) {
		"#000e#000m軍に同行する医者……"
		"軍医だったとしたらどうなんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "Aaron")

	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#061e#000mな、なるほど……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Barbaross", "ANI_EV_SIAN_E", -1, 1 )	// 思案

	// バルバロス
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#011e#000mうむ……"
		"全ての辻褄が合うことになります。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "Barbaross")
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#050e#000mそんな……あんなに人当たりのいい"
		"キルゴール先生がまさか……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(15)

	// カット8 ----------------------------------------------------------------------------------------

	//　　カメラ、集会所奥、無人の診療所を映す。
	
	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , 21.652f , -1427.193f , 13.595f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 7.441f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.332f , 0 )	// 基本仰角
	RotateCamera( 0 , 84.123f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機

	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)	
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)

	LookReset("ADOL")
	LookReset("LAXIA")
	LookReset("SAHAD")
	LookReset("Barbaross")
	LookReset("Dogi")
	LookReset("Aaron")


	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 19.569f , -1430.435f , 13.135f , 70 )
	
	// カメラ待ち
	WaitThread(1000)
	
	Wait(10)
	
	// カット9 ----------------------------------------------------------------------------------------
	
	//　　診療所周辺に移動してくるアドルたち。
	//　　周囲をアドル、バルバロス、ドギ、ラクシャ、サハドが囲み、
	//　　エアランが寝台付近で何かを物色するような仕草。
	
	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ
	MoveCameraAt( 0 , 18.930f , -1432.313f , 13.615f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.081f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.880f , 0 )	// 基本仰角
	RotateCamera( 0 , 333.260f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 140.000 ,0.000 ,0.550 ,0.550)

	SetChrPos("ADOL",21.91f, -1431.09f, 11.66f)
	Turn("ADOL", 74.89f, 360.0f)
	SetChrPos("LAXIA", 22.45f, -1431.54f, 11.66f)
	Turn("LAXIA", 82.89f, 360.0f)
	SetChrPos("SAHAD", 22.37f, -1430.24f, 11.64f)
	Turn("SAHAD", 55.59f, 360.0f)
	SetChrPos("Aaron", 20.06f, -1430.96f, 11.64f)
	Turn("Aaron", 51.67f, 360.0f)
	SetChrPos("Barbaross", 20.84f, -1429.29f, 11.64f)
	Turn("Barbaross", 32.84f, 360.0f)
	SetChrPos("Dogi",22.04f, -1429.27f, 11.63f)
	Turn("Dogi",46.99f,360.0f)
	LookTo("Aaron", 16.330f , -1431.536f , 12.674f)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 18.930f , -1432.313f , 13.195f , 80 )

	// フェード待ち
	Wait(FADE_FAST)

	// カメラ待ち
	WaitThread(1000)

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000e#000m先生は留守にしているみたいだな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "SAHAD", "ANI_EV_HOHOKAKI", -1, 1 )	// 頬かき

	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mワシらが話を聞きに来た時には"
		"ここにいたんだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#000e#000mいないならいないで"
		"やることはあるんだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL", "Aaron")
	LookChr("LAXIA", "Aaron")
	LookChr("SAHAD", "Aaron")
	LookChr("Dogi", "Aaron")
	LookChr("Barbaross", "Aaron")

	LookTo("Aaron", 17.593f , -1432.448f , 12.015f)		// 座標：机の下あたり

	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#000e#000m……ここらあたりかァ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　寝台周辺を調べるエアラン。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 19.081f , -1432.021f , 13.075f , 120 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.601f , 120 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.739f , 120 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 300.603f , 120 )

	SetChrInfoFlag("Aaron" ,INFOFLAG_NOATARI)	//アタリ無視する

	// 移動
	ExecuteCmd(1, MoveTo, "Aaron", 18.67f, -1431.91f, 11.61f, 0.1f, 0.16f)

	// 移動待ち
	WaitThread(1)

	ChangeAnimation( "Aaron", "ANI_EV_SHAGAMI_S", -1, 1 )	// しゃがみ
	LookReset("Aaron")	

	Wait(15)
	PlaySE(SE_M02S620_01, 100, 0, 0, 0, 1.0f, 0)	//ガサゴソ

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#050e#000m一体何を……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　エアランに「！」エモーション。
	EmotionEx("Aaron", -0.02f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	Wait(40)
	
	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#011e#000m当たりだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 19.434f , -1432.200f , 13.235f , 120 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.641f , 120 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.307f , 120 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 317.501f , 120 )

	ChangeAnimation( "Aaron", "ANI_EV_SHAGAMI_E", -1, 1 )	// しゃがみ
	WaitAnimation2("Aaron", -1, 1, "ANI_EV_SHAGAMI_E", 0)
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Turn("Aaron", -104.17f, 8.0f)
	Wait(20)
	ChangeAnimation( "Aaron", "ANI_EV_TEWATASI_S", -1, 1 )	// 手渡し
	Wait(30)
	Effect( 108000, 19.327f , -1431.953f , 12.855, 0 , 0 , IMPACT_NONE , KNOCK_EFXPOS , 0 , 1.0f, 1.0f)		//キラリ
	PlaySE(SE_M02S620_02, 50, 0, 0, 0, 1.0f, 0)	//鋼線光る
	Wait(10)

	LookTo("ADOL", 19.327f , -1431.953f , 12.855)	// 座標：エアランの手
	LookTo("LAXIA", 19.327f , -1431.953f , 12.855)	// 座標：エアランの手
	LookTo("SAHAD", 19.327f , -1431.953f , 12.855)	// 座標：エアランの手
	LookTo("Dogi", 19.327f , -1431.953f , 12.855)	// 座標：エアランの手
	LookTo("Barbaross", 19.327f , -1431.953f , 12.855)	// 座標：エアランの手

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#070e#200mそ、それは……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　立ち上がってアドルたちに向き直るエアラン。
	//　　鋼線のサブポートレートを表示。
	
	Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_FAST)
	Wait(FADE_FAST)
	
	Message2(1, SUBP_BUTTUN_X, SUBP_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
	WaitPrompt()
	
	Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
	Wait(FADE_FAST)
	Portrait_Close(1)
	Portrait_Unload(1)

	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)


	// エアラン
	TalkPopup("Aaron",0,1,0,0,0) {
		"#000e#000mそう、お嬢さんの"
		"首を落としかけた鋼線と同じモノだ。\p"
		"これでヤツが犯人であることは"
		"疑いようがない。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "Barbaross")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#030e#000mバルバロスの旦那……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Barbaross", 0.0f, -10.0f)	// うつむく
	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)	// 目

	// バルバロス
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#060e#000mうむ、残念なことだが……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)
	
	// カット10 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , 22.308f , -1430.684f , 13.795f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.179f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.398f , 0 )	// 基本仰角
	RotateCamera( 0 , 49.501f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	SetChrPos("ADOL",22.32f, -1431.11f, 11.66f)
	Turn("ADOL", 138.85f, 360.0f)
	SetChrPos("LAXIA", 22.49f, -1432.02f, 11.65f)
	Turn("LAXIA", 168.16f, 360.0f)
	SetChrPos("SAHAD", 23.68f, -1430.51f, 11.63f)
	Turn("SAHAD", 108.89f, 360.0f)
	SetChrPos("Aaron", 20.18f, -1430.47f, 11.65f)
	Turn("Aaron", -86.40f, 360.0f)
	SetChrPos("Barbaross", 20.64f, -1429.03f, 11.64f)
	Turn("Barbaross", -38.22f, 360.0f)
	SetChrPos("Dogi",21.74f, -1428.87f, 11.62f)
	Turn("Dogi",-9.86f,360.0f)
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "Aaron", "ANI_WAIT", -1, 1 )	// 待機
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)

	LookReset("ADOL")
	LookReset("LAXIA")
	LookReset("SAHAD")
	LookChr("Barbaross", "ADOL")
	LookChr("Dogi", "ADOL")
	LookChr("Aaron", "ADOL")
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 22.308f , -1430.684f , 13.395f , 70 )

	// フェード待ち
	Wait(FADE_NORMAL)
	
	// カメラ待ち
	WaitThread(1000)
	
	// バルバロス
	TalkPopup("Barbaross",0,2,0,0,0) {
		"#000e#000mアドル、犠牲が出る前に"
		"キルゴール先生を取り押さえてほしい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"わかりました")
	MenuAdd(2,"できません")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	


	//─────────────────────────
	//	⇒わかりました
	if (FLAG[TF_MENU_SELECT] == 1){

		HeadYes("ADOL" ,1 , 25 )
		Wait(35)

		Look("Barbaross", 0.0f, -10.0f)	// うつむく

		// バルバロス
		TalkPopup("Barbaross",0,2,0,0,0) {
			"#061e#000m嫌な役目を任せることになって"
			"すまないな……"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒できません
	if (FLAG[TF_MENU_SELECT] == 2){
		HeadNo("ADOL" ,1 , 35 )
		Wait(45)

		LookChr("SAHAD", "ADOL")
		
		// サハド
		TalkPopup("SAHAD",0,1,0,0,0) {
			"#000e#000mアドル、気持ちはワシも同じだが"
			"そういうワケにいかんだろう。\p"
			"一歩間違えば嬢ちゃんも、"
			"命を落としていたんだからな……"
		}
		WaitPrompt()
		WaitCloseWindow()

		Look("LAXIA", 0.0f, -10.0f)	// うつむく

		// ラクシャ
		TalkPopup("LAXIA",0,1,0,0,0) {
			"#011e#000m#0L……………………………………"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		
	}
	//─────────────────────────
	
	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	// エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#000e#000mここは俺も一緒に行かせてもらうぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("LAXIA", 0.0f, 0.0f)	// うつむく戻す


	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000mアドル、おそらく先生は"
		"まだ漂流村の中にいるはずだ。\p"
		"くれぐれも気をつけてな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("LAXIA", 1, 25)	// キャラ, うなずき回数, 速さ

	// ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mええ、それでは行きましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　操作許可。

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------

	CallFunc("mp1201:EV_M02S620_ED")
}
function "EV_M02S620_ED"
{
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,FADE_FAST)

	Message("Chase The Nameless Ripper!")
	WaitPrompt()
	WaitCloseWindow()

	SetSkipScript("")
	RestoreEventState()

	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))
	//ResetChrPos((CHRTYPE_NPC | RESET_POS))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Dogi")
	CallFunc("system:reset_chrmot_Aaron")
	CallFunc("system:reset_chrmot_Barbaross")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//フラグ
	//SetFlag( GF_02MP1201_UNMASK_NEMO , 1 )			// 名無しの正体が判明した
	//SetFlag( SF_MISSIONNO, MS_02_21 )	//★冒険メモ：キルゴールを取り押さえよう。
	//SetFlag( GF_NPC_2B_09_UNMASK_NEMO, 1 )		//名無しの正体が判明した
	//JoinNPC( NPC_KIERGAARD, JOIN_NPC_LEAVE )		//キルゴールの正体判明・迎撃戦離脱
	//SetFlag( SF_WARP_DISABLED, 1 )		//ワープ使用禁止
	//SetDiaryCharaFlag( DRCHA_AARON, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（エアラン）
	SetFlag( GF_02MP1202_HEAR_SHOUT , 1 )
	SetFlag(GF_NPC_2B_05_HEAR_SHOUT,	1)
	SetFlag(GF_02MP1201_BEFORE_INTERCEPT2,1)
	SetFlag( GF_NPC_2B_06_BEFORE_INTERCEPT , 1)
	SetFlag( GF_02MP1201_LOST_CURRAN , 1)
	SetFlag( GF_NPC_2B_07_CURRAN_LOST , 1)
	SetFlag( GF_02MP1201_LOOK_CURRAN , 1)
	//SetFlag( TF_DOGI_TALK, 1 )			// ドギ
	//SetFlag( TF_LICHT_TALK, 1 )			// リヒト
	//SetFlag( TF_BARBAROSS_TALK, 1 )		// バルバロス
	//SetFlag( TF_BARBAROSS_TALK2, 1 )
	SetFlag( GF_02MP1201_START_HEARING , 1)
	SetFlag( GF_NPC_2B_08_HEARING_START , 1)
	SetFlag( GF_02MP1201_LOOK_MAN , 1)
	SetFlag(GF_02MP1201_UNMASK_NEMO, 1)
	SetFlag( GF_NPC_2B_09_UNMASK_NEMO, 1 )
	SetFlag(GF_02MP1201_CHASE_KIERGAARD,1)
	SetFlag(GF_SUBEV_NEMO_TALK_LICHT,1)
	SetFlag(GF_SUBEV_NEMO_TALK_BARBAROSS,1)
	SetFlag(GF_SUBEV_NEMO_TALK_HUMMEL,1)
	SetFlag(GF_SUBEV_NEMO_TALK_KIERGAARD,1)

	//マップマーカー
	DelMapMarker( SMI_EVENTPT_MAIN,PAGE_F001,MARKER_EV_M02S610, 0, 0)

	SetMapMarker(SMI_EVENTPT_MAIN,PAGE_MP120x,MARKER_EV_M02S620,-3.66f,-1476.07f,24.58f,-3.66f,-1476.07f,0, MN_T_VILLAGE_MP1201,0)	//キルゴール

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init" )
	
	SetFlag( TF_DOGI_TALK, 1 )			// ドギ
	SetFlag( TF_LICHT_TALK, 1 )			// リヒト
	SetFlag( TF_BARBAROSS_TALK, 1 )		// バルバロス
	SetFlag( TF_BARBAROSS_TALK2, 1 )
	
	SetChrPos("LEADER",31.14f, -1418.29f, 10.83f )
	Turn("LEADER",48.16f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	MoveCameraAt( 0 , 31.140f , -1418.290f , 12.690f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 92.499f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

function "EV_M02S630"		//キルゴールが逃げた
{
//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin_impose")

	LoadChr("Barbaross")
	LoadChr("Dogi")
	LoadChr("Aaron")
	LoadChr("Kiergaard")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	ClearDebris()
	ResetMotion( "ALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")

	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

//	StopBGM(30)

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",0.27f,-1467.09f,24.26f)
	Turn("ADOL",20.02f,360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	LookChr("ADOL" , "Kiergaard")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",2.88f,-1465.58f,24.11f)
	Turn("LAXIA",40.61f,360.0f)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	LookChr("LAXIA" , "Kiergaard")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",-0.31f,-1465.65f,24.16f)
	Turn("SAHAD",21.12f,360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	LookChr("SAHAD" , "Kiergaard")

	SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI )
	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Barbaross",-0.32f,-1467.90f,24.31f)
	Turn("Barbaross",23.98f,360.0f)
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Barbaross" , "ANI_WAIT", -1 , 1 )
	SetChrInfoFlag( "Barbaross" , INFOFLAG_INVISIBLE )
	LookChr("Barbaross" , "Kiergaard")


	SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI )
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron",-0.33f,-1469.90f,24.44f)
	Turn("Aaron",27.96f,360.0f)
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Aaron" , "ANI_WAIT", -1 , 1 )
	LookChr("Aaron" , "Kiergaard")
	SetChrInfoFlag( "Aaron" , INFOFLAG_INVISIBLE )

	SetChrInfoFlag( "Kiergaard" , INFOFLAG_NOCHRATARI )
	SetChrWork("Kiergaard", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kiergaard",-3.66f,-1476.07f,24.58f)
	Turn("Kiergaard",14.37f,360.0f)
	ChangeAnimation( "Kiergaard" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_EXT1,ANI_E_LOOKC,1)
//	LookChr("Kiergaard" , "ADOL")

	LoadEffect( "efx_ev02.ite" )

	//MTDのSE鳴らさない
	SetFlag( SF_NOUSE_MTDSE, 1 )
	SetChrWork("Paro", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrInfoFlag( "Paro" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Paro" , INFOFLAG_NOCHRATARI )
	SetChrInfoFlag( "Paro" , INFOFLAG_FLING )
	SetChrInfoFlag( "Paro" , INFOFLAG_INVISIBLE )
	SetChrPos("Paro",-1.02f,-1469.95f,24.43f)
	Turn("Paro",23.98f,360.0f)
	ChangeAnimation( "Paro" , "ANI_FLY_RUN", -1 , 1 )

	MoveCameraAt( 0 , 0.075f , -1477.850f , 26.036f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.900f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -8.295f , 0 )	// 基本仰角
	RotateCamera( 0 , 175.975f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 150.000 ,2.000 ,0.200 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetSkipScript("mp1201:EV_M02S630_ED")

//開始処理ここまで-----------------------------------------------

	//──────────────────────────────
	//▼キルゴールが正体を明かす(mp1201)
	//──────────────────────────────

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Wait(5)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,-2.007f , -1477.702f , 26.036f, 90 )		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,9.600f , 90 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-0.918f , 90 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,2.349f , 90 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 90 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 90 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , -2.007f , -1477.702f , 26.036f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 5.900f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -8.295f , 0 )	// 基本仰角
//	RotateCamera( 0 , 175.975f , 0 )				// 角度
//	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	WaitThread(1000)
	Wait(10)

	CrossFade(FADE_NORMAL)

	Turn("Kiergaard",-14.45f,360.0f)
	
//	SetChrPos("ADOL",-2.33f,-1472.99f,24.49f)
//	Turn("ADOL",20.02f,360.0f)
//	SetChrPos("SAHAD",-3.09f,-1471.96f,24.45f)
//	Turn("SAHAD",21.12f,360.0f)
//	SetChrPos("LAXIA",-0.40f,-1472.56f,24.51f)
//	Turn("LAXIA",40.61f,360.0f)

	MoveCameraAt( 0 , -6.621f , -1474.637f , 24.821f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 14.799f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.371f , 0 )	// 基本仰角
	RotateCamera( 0 , 119.791f , 0 )				// 角度
	ChangeCameraPers( 0 , 27.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 5.0f , 0 )				// ロール回転

	ExecuteCmd( 1, MoveTo, "ADOL" ,-2.33f,-1472.99f,24.49f, 0.1f , 0.27f )
	Wait(2)
	ExecuteCmd( 2, MoveTo, "SAHAD" ,-3.09f,-1471.96f,24.45f, 0.1f , 0.245f )
	Wait(3)
	ExecuteCmd( 3, MoveTo, "LAXIA" ,-0.40f,-1472.56f,24.51f, 0.1f , 0.26f )

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,-6.175f , -1475.938f , 25.119f, 200 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,9.694f , 200 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,7.773f , 200 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,116.269f , 200)		// 角度
	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,4.6f, 200 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , -6.175f , -1475.938f , 25.119f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 9.694f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 7.773f , 0 )	// 基本仰角
//	RotateCamera( 0 , 116.269f , 0 )				// 角度
//	ChangeCameraPers( 0 , 27.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 4.6f , 0 )				// ロール回転

//　　浜辺脇の高台にキルゴールが佇んでいる。
//　　そこで近づくとイベント開始。
//　　フェードインしてアドルたち歩いていくと
//　　キルゴールにＰＡエモーション。気配を察して振り返る。

	Wait(FADE_NORMAL)

	Wait(50)

//	EmotionEx("Kiergaard", -0.01f,2,5,5,1,1,0.85f)	// ！
	EmotionEx("Kiergaard",0.00f,EMO_PA,0,5,1, 1, 1.6f)	//パッ

	Wait(30)
	FadeBGM(70,10)
	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
	Wait(10)

	LookChr("Kiergaard", "ADOL")
	TalkMes("Kiergaard","#4182V#000e#020l#080mやあ、アドル君じゃないですか。","","")
	WaitPrompt()
	TalkMes("Kiergaard","#4183V#000e#000mどうしたんですか？",
		"そんなに神妙な顔をして。","")
	WaitPrompt()

	ChangeAnimation( "Kiergaard" , "ANI_EV_RYOTEBURI", -1 , 1 )

	TalkMes("Kiergaard","#4184V#011e#080mまた、どなたか怪我でも……","","")
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルたちの後方から遅れてエアランとバルバロスが登場。
	//　　キルゴールが気づいて「！」エモーションを表示。

	EmotionEx("Kiergaard", 0.00f,2,5,5,1,1,1.35f)	// ！
	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_SUP_S,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_MOUTH,ANI_M_WAIT,1)

	ResetChrInfoFlag( "Barbaross" , INFOFLAG_INVISIBLE )
	ResetChrInfoFlag( "Aaron" , INFOFLAG_INVISIBLE )

	Wait(50)

	WaitThread(1)
	WaitThread(2)
	WaitThread(3)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	CrossFade(FADE_CROSS)
	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_MOUTH,ANI_M_MAJI,1)

	Turn("ADOL",20.02f,360.0f)
	Turn("SAHAD",21.12f,360.0f)
	Turn("LAXIA",40.61f,360.0f)

	MoveCameraAt( 0 , -0.923f , -1468.809f , 24.994f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 10.299f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.370f , 0 )	// 基本仰角
	RotateCamera( 0 , 349.839f , 0 )				// 角度
	ChangeCameraPers( 0 , 27.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 50.000 ,2.000 ,0.450 ,0.500)

	ExecuteCmd( 4, MoveTo, "Barbaross" ,-1.02f,-1469.95f,24.43f, 0.1f , 0.17f )
	ExecuteCmd( 5, MoveTo, "Aaron" ,-0.90f,-1471.52f,24.47f, 0.1f , 0.18f )

//	SetChrPos("Barbaross",-1.02f,-1469.95f,24.43f)
//	Turn("Barbaross",23.98f,360.0f)		
//	SetChrPos("Aaron",-0.90f,-1471.52f,24.47f)
//	Turn("Aaron",27.96f,360.0f)

	Wait(FADE_CROSS)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,-1.344f , -1468.746f , 24.994f, 90 )		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,9.600f , 150 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-0.918f , 150 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,346.717f , 90 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 150 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , -1.344f , -1468.746f , 24.994f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 10.300f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 7.370f , 0 )	// 基本仰角
//	RotateCamera( 0 , 346.717f , 0 )				// 角度
//	ChangeCameraPers( 0 , 27.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 3.2f , 0 )				// ロール回転

	WaitThread(4)
	WaitThread(5)

	ChangeAnimation( "Aaron" , "ANI_EV_TEBURI", -1 , 1 )

	TalkMes("Aaron","#3917V#000e#080mよう、キルゴール先生。",
		"今日はいい天気だな。","")
	WaitPrompt()
	WaitCloseWindow()

	WaitThread(1000)
	WaitThread(1003)

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,-1.473f , -1468.716f , 24.994f, 90 )		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,10.070f , 90 )		// 基本距離
////	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-0.918f , 150 )		// 基本仰角
////	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,346.717f , 90 )		// 角度
////	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 150 )		// ロール回転
////	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角
//
////終点カメラ
////	MoveCameraAt( 0 , -1.473f , -1468.716f , 24.994f , 0 )	// 注視点
////	ChangeCameraDistance( 0 , 10.070f , 0 )		// 基本距離
////	ChangeCameraElevation( 0 , 7.370f , 0 )	// 基本仰角
////	RotateCamera( 0 , 346.717f , 0 )				// 角度
////	ChangeCameraPers( 0 , 27.400f , 0 )			// 視野角
////	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
////	RollCamera( 0 , 3.2f , 0 )				// ロール回転

	//	"Kiergaard"

	TalkMes("Kiergaard","#0L#4185V#011e#000l………………………………","","")
	WaitPrompt()
	WaitCloseWindow()

	WaitThread(1000)
	WaitThread(1001)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,-0.731f , -1468.895f , 25.242f, 180 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,8.651f , 180 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,7.369f , 180 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,343.102f , 180 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 150 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , -0.731f , -1468.895f , 25.242f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 8.651f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 7.369f , 0 )	// 基本仰角
//	RotateCamera( 0 , 343.102f , 0 )				// 角度
//	ChangeCameraPers( 0 , 27.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 5.3f , 0 )				// ロール回転

	ChangeAnimation( "Aaron" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	TalkMes("Aaron","#3918V#011e#080m神様に感謝しなきゃなァ。","","")
	WaitPrompt()
	TalkMes("Aaron","#3919V#012e#080m何せ、この後アンタと組み合っても",
		"ビショビショに濡れずに済みそうだ。","")
	WaitPrompt()
	WaitCloseWindow()

	Wait(20)

	CrossFade(FADE_NORMAL)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	MoveCameraAt( 0 , -3.676f , -1475.223f , 25.987f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.121f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.009f , 0 )	// 基本仰角
	RotateCamera( 0 , 137.497f , 0 )				// 角度
	ChangeCameraPers( 0 , 33.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 150.000 ,2.000 ,0.500 ,0.550)

	//次シーン準備
	SetChrPos("Barbaross",-1.02f,-1469.95f,24.43f)
	Turn("Barbaross",23.98f,360.0f)		
	SetChrPos("Aaron",-0.90f,-1471.52f,24.47f)
	Turn("Aaron",27.96f,360.0f)

	Wait(FADE_NORMAL)

	TalkMes("Kiergaard","#4186V#080mこれはこれはエアランさん。","","")

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,-3.296f , -1475.571f , 25.987f , 210 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,2.348f , 210 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,1.009f , 210 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,137.573f  , 210 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 210 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//	終点カメラ
//	MoveCameraAt( 0 , -3.296f , -1475.571f , 25.987f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.348f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 1.009f , 0 )	// 基本仰角
//	RotateCamera( 0 , 137.615f , 0 )				// 角度
//	ChangeCameraPers( 0 , 33.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -3.6f , 0 )				// ロール回転

	//Wait(70)
	WaitPrompt()
	ClosePrompt()

	LookReset("Kiergaard")
	TurnToChr("Kiergaard", "Aaron" , 5.0f)
//	LookChr("Kiergaard","Aaron")

	Wait(50)

	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_COOL_CLOSE_E,1)

	Wait(20)

	ChangeAnimation( "Kiergaard" , "ANI_EV_TEBURI", -1 , 1 )
	TalkMes("Kiergaard","#4187V#080m船上で待ち合わせをしていた",
		"お仲間にはお会いできましたか？","")
	WaitPrompt()
	WaitCloseWindow()

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	CrossFade(FADE_CROSS)
	LookReset("Kiergaard")

	MoveCameraAt( 0 , -0.894f , -1471.274f , 26.061f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.749f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.010f , 0 )	// 基本仰角
	RotateCamera( 0 , 348.964f , 0 )				// 角度
	ChangeCameraPers( 0 , 25.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -4.4f , 0 )				// ロール回転

	//次シーン準備
	SetChrPos("ADOL",-2.33f,-1472.99f,24.49f)
	Turn("ADOL",20.02f,360.0f)
	SetChrPos("SAHAD",-3.09f,-1471.96f,24.45f)
	Turn("SAHAD",21.12f,360.0f)
	SetChrPos("LAXIA",-0.40f,-1472.56f,24.51f)
	Turn("LAXIA",40.61f,360.0f)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,-0.894f , -1471.274f , 26.011f, 30 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,3.148f , 30 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,1.009f , 30 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,344.557f , 30 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-7.9f, 30 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

	//終点カメラ
	//MoveCameraAt( 0 , -0.894f , -1471.274f , 26.011f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.148f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 1.009f , 0 )	// 基本仰角
	//RotateCamera( 0 , 344.558f , 0 )				// 角度
	//ChangeCameraPers( 0 , 25.400f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 6.4f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


//	Wait(FADE_CROSS)

	//　　エアランに「！」エモーション。
	EmotionEx("Aaron", 0.005f,2,5,5,1,1,0.6f)	// ！
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_SUP_S,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeAnimation( "Aaron" , "ANI_EV_UDEGUMI_E", -1 , 1 )

	Wait(50)

	TalkMes("Aaron","#3920V#030e#000mバーロー、やっぱり",
		"同僚を殺#2Rバラ#Rしやがったのは貴様か……","")
	WaitPrompt()

	TalkMes("Aaron","#3921V#041e#000mキルゴール……","","")
	WaitPrompt()

	StopBGM(90)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,-0.855f , -1471.285f , 26.011f, 20 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,2.488f , 20 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,1.011f , 20 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,344.556f , 20 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-3.9f , 180 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , -0.855f , -1471.285f , 26.011f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.388f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 1.011f , 0 )	// 基本仰角
//	RotateCamera( 0 , 344.556f , 0 )				// 角度
//	ChangeCameraPers( 0 , 25.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 6.4f , 0 )				// ロール回転

	ChangeAnimation( "Aaron" , "ANI_EV_GUTSPOSE_S", -1 , 1 )
	EarthQuake( 0.07f , 0.07f , 7 )
	Blur( BLUR_TYPE_AFTERIMAGE ,0.4f , 20 )

	TalkMes("Aaron","#5884V#042e#000m#16Sいや、“名無しの切り裂き魔”！！","","")
	WaitPrompt()
	WaitCloseWindow()

	Wait(30)

	PlayBGM(BGM_EVENT_017, 0)

	CrossFade(FADE_NORMAL)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	ChangeAnimation( "Aaron" , "ANI_WAIT", -1 , 1 )
	SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 非表示

	MoveCameraAt( 0 , -3.799f , -1476.322f , 26.061f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.530f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.785f , 0 )	// 基本仰角
	RotateCamera( 0 , 148.975f , 0 )				// 角度
	ChangeCameraPers( 0 , 19.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 4.2f , 0 )				// ロール回転
	
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,-0.894f , -1471.274f , 26.061f, 180 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,3.643f , 180 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,1.009f , 30 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,344.557f , 180 )		// 角度
	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,-5.9f , 180 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//	MoveCameraAt( 0 , -3.799f , -1476.322f , 26.061f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.643f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 0.785f , 0 )	// 基本仰角
//	RotateCamera( 0 , 148.973f , 0 )				// 角度
//	ChangeCameraPers( 0 , 19.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -5.9f , 0 )				// ロール回転

	Wait(FADE_NORMAL)

	//	"Kiergaard"
	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_COOL_CLOSE_S,1)
	TalkMes("Kiergaard","#4188V#080mク……クク……ククク……","","")
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	TalkMes("LAXIA","#0839V#000e#000mや、やっぱり先生が……","","")
	WaitPrompt()
	TalkMes("LAXIA","#0840V#000e#000mでも、どうしてなのです？","","")
	WaitPrompt()
	WaitCloseWindow()

	//　　不意に笑顔で拍手をするキルゴール。

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	Blur( BLUR_TYPE_AFTERIMAGE ,0.3f , 10 )

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_COS ,-3.799f , -1476.322f , 26.061f, 13 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_COS ,4.332f , 13 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_COS ,-5.639f , 13 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_COS ,148.971f , 13)		// 角度
	ExecuteCmd(1004, RollCamera, INTERPOLATE_COS ,2.5f , 13 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 13 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , -3.799f , -1476.322f , 26.061f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.332f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -5.639f , 0 )	// 基本仰角
//	RotateCamera( 0 , 148.971f , 0 )				// 角度
//	ChangeCameraPers( 0 , 19.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 2.5f , 0 )				// ロール回転

	SetMotSpd( "Kiergaard" , -1, 1.2f )
	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_LAUGH,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_MOUTH,ANI_M_LAUGH_S,1)
	ChangeAnimation( "Kiergaard" , "ANI_EV_HAKUSYU", -1 , 1 )
	ExecuteFunc(10 , "mp1201:Hakusyu")

	TalkMes("Kiergaard","#4189Vいやいや、美しきかな！","","")
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_ANGER,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_FUMAN,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SAD,1)
//	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_ANGER_CLOSE,1)
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_ANGER,1)

	SetMotSpd( "Kiergaard" , -1, 1.0f )

//	MoveCameraAt( 0 , -1.462f , -1471.901f , 25.788f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 5.761f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 4.915f , 0 )	// 基本仰角
//	RotateCamera( 0 , 345.327f , 0 )				// 角度
//	ChangeCameraPers( 0 , 24.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -3.2f , 0 )				// ロール回転
//
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -1.954f , -1471.772f , 25.689f , 110 )		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,7.662f , 110 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,4.914f , 110 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,345.329f , 110 )		// 角度
////	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,2.5f , 110 )		// ロール回転
////	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

	ResetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 再表示


	MoveCameraAt( 0 , -1.954f , -1471.772f , 25.689f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 7.662f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.914f , 0 )	// 基本仰角
	RotateCamera( 0 , 345.329f , 0 )				// 角度
	ChangeCameraPers( 0 , 24.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -3.2f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 2.000, 25.000 ,2.000 ,0.500 ,0.550)

	Wait(FADE_CROSS)

	//	"Aaron"
	ChangeAnimation( "Aaron" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )
	TalkMes("Aaron","#3922V#031e#000mあ？","","")
	WaitPrompt()
	WaitCloseWindow()

//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//	WaitThread(1004)
//	WaitThread(1005)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -1.616f , -1471.944f , 25.689f, 650 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,7.143f , 650 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,4.914f , 650 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,329.580f , 650 )		// 角度
	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,2.5f , 650 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 650 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , -1.616f , -1471.944f , 25.689f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 7.143f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 4.914f , 0 )	// 基本仰角
//	RotateCamera( 0 , 329.580f , 0 )				// 角度
//	ChangeCameraPers( 0 , 24.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -4.2f , 0 )				// ロール回転

	//	"Kiergaard"
	TalkMes("Kiergaard","#4190V#080m少し前までお互いの",
		"顔も見知らなかった漂流者たち……","")
	WaitPrompt()

	ChangeAnimation( "Kiergaard" , "ANI_EV_RYOTEBURI", -1 , 1 )

	TalkMes("Kiergaard","#4191V#080mそのあなたたちが生き抜くために、",
		"育んできた意志の力や結束力！","")
	WaitPrompt()

	WaitAnimation2( "Kiergaard" , -1, 1, "ANI_EV_RYOTEBURI",  0)
	ChangeAnimation( "Kiergaard" , "ANI_EV_TEMUNE_S", -1 , 1 )

	HeadNo("Kiergaard", 1, 35)
	TalkMes("Kiergaard","#4192V#080mやはり美しいと言わざるを得ない。","美しい2行目","")
	WaitPrompt()

	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

	//	"SAHAD"
	TalkMes("SAHAD","#1697V#050e#000mな、何が言いてーんだ？","","")
	WaitPrompt()
	WaitCloseWindow()

	Wait(20)

	CrossFade(FADE_NORMAL)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_CLOSE,1)
	ChangeAnimation( "Kiergaard" , "ANI_EV_TEMUNE_E", -1 , 1 )

	MoveCameraAt( 0 , -3.648f , -1475.979f , 26.011f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.232f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -8.021f , 0 )	// 基本仰角
	RotateCamera( 0 , 113.474f , 0 )				// 角度
	ChangeCameraPers( 0 , 24.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 150.000 ,2.000 ,0.500 ,0.550)

	//次シーン準備
	ChangeAnimation( "Aaron" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SUP,1)
	SetChrPos("Barbaross",-1.65f,-1470.25f,24.42f)
	Turn("Barbaross",18.25f,360.0f)

	Wait(FADE_NORMAL)

	Wait(15)

	ChangeAnimation( "Kiergaard" , "ANI_EV_TEBURI", -1 , 1 )

	//	"Kiergaard"
	TalkMes("Kiergaard","#4193V#080m……しかし、こうも言えませんか？","","")
	WaitPrompt()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -3.626f , -1476.026f , 26.086f, 90 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,2.522f , 90 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,2.522f , 90 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,127.640f  , 90 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,2.5f , 40 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

//	MoveCameraAt( 0 , -3.626f , -1476.026f , 26.086f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.522f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -8.021f , 0 )	// 基本仰角
//	RotateCamera( 0 , 127.640f , 0 )				// 角度
//	ChangeCameraPers( 0 , 24.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -0.3f , 0 )				// ロール回転

	Wait(45)

	PlaySE( SE_M02S630_02 , 80 , 0,  0, 0, 1.0f, 0)		//ハッタリショート
	Blur( BLUR_TYPE_EXPAND ,0.18f , 12 )
	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_MAD_S,1)

	TalkMes("Kiergaard","#4194V#080m漂流という異常な状況や僕の脅威なくして、",
		"その美しさは生まれなかったと。","")
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	CrossFade(FADE_FAST)

	MoveCameraAt( 0 , -0.452f , -1471.499f , 25.837f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.621f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.272f , 0 )	// 基本仰角
	RotateCamera( 0 , 350.456f , 0 )				// 角度
	ChangeCameraPers( 0 , 24.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -4.8f , 0 )				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_COS , -0.568f , -1471.479f , 25.837f, 15 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_COS ,3.881f  , 15 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_COS ,2.522f , 15 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_COS ,127.640f  , 15 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_COS ,2.5f , 15 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_COS ,39.000f, 15 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , -0.568f , -1471.479f , 25.837f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.881f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -0.272f , 0 )	// 基本仰角
//	RotateCamera( 0 , 350.456f , 0 )				// 角度
//	ChangeCameraPers( 0 , 24.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -4.8f , 0 )				// ロール回転

	//	"LAXIA"
	EmotionEx("LAXIA", -0.015f,2,5,5,1,1,0.6f)	// ！
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_OPEN_S,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SUP_S,1)
	Wait(45)

	HeadNo("LAXIA" ,1 ,35 )
	ChangeAnimation( "LAXIA" , "ANI_EV_TEMUNE_S", -1 , 1 )
	TalkMes("LAXIA","#0841V#050e#000mそ、そんなこと……","","")
	WaitPrompt()
	WaitCloseWindow()

	Look("Aaron" , -20 , -5)

	ChangeAnimation( "Aaron" , "ANI_EV_TEBURI", -1 , 1 )

	//	"Aaron"
	TalkMes("Aaron","#3923V#020l#031e#000m耳を貸す必要はねぇ。",
		"こいつはタダの殺人鬼だ。","")
	WaitPrompt()
	WaitCloseWindow()

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)


	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -1.262f , -1471.391f , 25.911f, 100 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,3.150f  , 100 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-0.272f , 100 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,0.740f  , 100 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,2.5f , 100 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 100 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , -1.262f , -1471.391f , 25.911f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.150f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -0.272f , 0 )	// 基本仰角
//	RotateCamera( 0 , 0.740f , 0 )				// 角度
//	ChangeCameraPers( 0 , 24.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -4.8f , 0 )				// ロール回転


	Wait(35)

	ChangeAnimation( "Barbaross" , "ANI_EV_RYOTEBURI", -1 , 1 )

	TalkMes("Barbaross","#3806V#000e#000mキルゴール先生、",
		"どうか投降していただきたい。","")
	WaitPrompt()

	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKR_S,1)
	Look("Aaron" , -15 , -5)

	TalkMes("Barbaross","#3807V#011e#000mここが無人島である以上、",
		"あなたにもはや逃げ場はありません。","")
	WaitPrompt()
	WaitCloseWindow()


	Wait(15)

	CrossFade(FADE_FAST)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	MoveCameraAt( 0 , -3.695f , -1476.003f , 25.937f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.171f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -5.230f , 0 )	// 基本仰角
	RotateCamera( 0 , 109.736f , 0 )				// 角度
	ChangeCameraPers( 0 , 22.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -4.2f , 0 )				// ロール回転

	//次シーン準備
	SetChrPos("Barbaross",-2.76f,-1470.31f,24.40f)
	Turn("Barbaross",0.51f,360.0f)
	SetChrPos("ADOL",-1.75f,-1473.08f,24.50f)
	Turn("ADOL",20.02f,360.0f)

	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_COOL_CLOSE,1)

	LookReset("ADOL")
	LookReset("LAXIA")
	LookReset("SAHAD")
	LookReset("Barbaross")
	LookReset("Aaron")

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_COS , -3.057f , -1475.415f , 25.143f, 30 )		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_COS ,6.201f , 30 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_COS ,23.255f , 30 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_COS ,124.356f  , 120 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_COS ,2.5f , 150 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_COS ,41.400f, 30 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , -3.695f , -1476.003f , 25.937f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.171f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -5.230f , 0 )	// 基本仰角
//	RotateCamera( 0 , 124.356f , 0 )				// 角度
//	ChangeCameraPers( 0 , 22.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -4.2f , 0 )				// ロール回転

	Wait(40)

	//	"Kiergaard"
	TalkMes("Kiergaard","#4195V#0L………………………………","","")

	Wait(50)
	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_MAD_CLOSE_E,1)

	WaitPrompt()

	Wait(20)

	WaitThread(1001)

	Blur( BLUR_TYPE_AFTERIMAGE ,0.55f , -1 )
	ChangeAnimation( "Kiergaard" , "ANI_EV_WIRE_GR_NM", -1 , 1 )
	ChangeAnimation( "ADOL" , "ANI_EV_STWAIT", -1 , 1 )

	PlaySE(SE_M02S620_07, 50, 0, 0, 0, 1.0f, 0)

	Wait(5)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_COS , -3.057f , -1475.415f , 25.143f, 30 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_COS ,6.201f , 30 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_COS ,23.255f , 30 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_COS ,139.345f  , 30 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_COS ,2.5f , 150 )		// ロール回転
	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_COS ,41.400f, 30 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , -3.057f , -1475.415f , 25.143f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 6.201f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 23.255f , 0 )	// 基本仰角
//	RotateCamera( 0 , 139.345f , 0 )				// 角度
//	ChangeCameraPers( 0 , 41.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -4.2f , 0 )				// ロール回転



	TalkMes("Kiergaard","#4196V#000e#000mハッ！！","","")


	Wait(34)
	EarthQuake(0.15f,0.0f,10.0f)	

	SetMotSpd( "Kiergaard" , -1, 0.02f )
	ClosePrompt()
	WaitCloseWindow()

	//　　キルゴールが不意に腕を交差させて振りかざすと、
	//　　地面から鋼線が飛び交い攻撃してくる。

	CrossFade(FADE_CROSS)
	Blur( BLUR_TYPE_AFTERIMAGE ,0.55f , 0 )

	ChangeAnimation( "LAXIA" , "ANI_EV_KAZETUYO_S", -1 , 1 )
	ChangeAnimation( "ADOL" , "ANI_EV_KAZETUYO_S", -1 , 1 )
	ChangeAnimation( "SAHAD" , "ANI_EV_BIBIRI_S", -1 , 1 )

	ChangeAnimation( "Barbaross" , "ANI_EV_SUP_S", -1 , 1 )
	ChangeAnimation( "Aaron" , "ANI_EV_SUP_S", -1 , 1 )
	Look("Aaron" , -25 , -10)
	Look("Barbaross" , -25 , -10)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_ANGER_CLOSE,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SHOUT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SHOUT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_ANGER_CLOSE,1)
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_ANGER_CLOSE,1)

	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_SUP,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_SUP,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_SUP,1)

	MoveCameraAt( 0 , -2.280f , -1473.579f , 25.614f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 10.200f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.098f , 0 )	// 基本仰角
	RotateCamera( 0 , 125.165f , 0 )				// 角度
	ChangeCameraPers( 0 , 21.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -5.6f , 0 )				// ロール回転

	Blur( BLUR_TYPE_AFTERIMAGE ,0.1f , 60 )
	VibrationPad(1020, 10 )		//汎用中揺れ

	Slow( 0.30f )

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -3.876f , -1472.865f , 25.465f , 35 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,6.100f  , 35 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-4.098f , 35 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,297.370f  , 35 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,2.5f , 70 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 60 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , -3.876f , -1472.865f , 25.465f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 6.100f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -4.098f , 0 )	// 基本仰角
//	RotateCamera( 0 , 297.370f , 0 )				// 角度
//	ChangeCameraPers( 0 , 21.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -5.6f , 0 )				// ロール回転

	PlaySE(SE_M02S620_03, 120, 0, 0, 0, 1.0f, 0)
	PlaySE(SE_M02S620_08, 120, 0, 0, 0, 1.0f, 0)
	PlaySE(SE_M02S620_09, 100, 0, 0, 0, 1.0f, 0)
	//ChrEffect("Kiergaard",3263000,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.1f, 0.7f)	//周囲ワイヤー
	Effect( 3263000, -1.89f,	-1472.01f,	24.47f, 0 , 0 , IMPACT_NONE , KNOCK_EFXPOS , 0 , 1.0f, 1.0f)	//周囲ワイヤー
	EarthQuake(0.05f,0.0f,20.0f)	


	TalkMes("SAHAD","#1698Vうお！？","","")
	Wait(15)

	ClosePrompt()

	//	"LAXIA"
	TalkMes("LAXIA","#0842Vきゃあ！！","","")

	Wait(15)

	ClosePrompt()

	ChangeAnimation( "Kiergaard" , "ANI_EV_STEP_F", -1 , 1 )

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	Slow( 1.0f )

	SetMotSpd( "Kiergaard" , -1, 1.0f )
	Blur( BLUR_TYPE_AFTERIMAGE ,0.6f , 20 )
	ExecuteCmd( 1, MoveToEx, "Kiergaard" , -2.54f,-1463.42f,24.09f , 0.1f , 1.8f ,0 ,0 )
	PlaySE(SE_M02S620_04, 100, 0, 200, 0, 1.0f, 0)	//ダッシュ

	Wait(20)

	//次シーン準備
	StopThread(1)

	SetChrPos("Kiergaard",3.34f,-1463.52f,23.61f)
	Turn("Kiergaard",36.93f,360.0f)
	ChangeAnimation( "Kiergaard" , "ANI_EV_WAIT_BT_L", -1 , 1 )
	//◆ステップSE
	Wait(15)

	//　　ラクシャ、サハド、エアラン、船長が
	//　　怯んだ隙に包囲を突破するキルゴール。
	
	CrossFade(FADE_NORMAL)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_ANGER,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_ANGER,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_ANGER,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_ANGER,1)
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_ANGER,1)

	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)

	Turn("ADOL",-158.50f,360.0f)
	
	Turn("LAXIA",-170.00f,360.0f)
	
	Turn("Aaron",121.90f,360.0f)
	
	Turn("Barbaross",-109.91f,360.0f)

	ChangeAnimation( "ADOL" , "ANI_EV_STWAIT", -1 , 1 )
	ChangeAnimation( "LAXIA" , "ANI_EV_STWAIT", -1 , 1 )

	LookChr("ADOL","Kiergaard")
	LookChr("LAXIA","Kiergaard")
	LookChr("SAHAD","Kiergaard")
	LookChr("Barbaross","Kiergaard")
	LookChr("Aaron","Kiergaard")

	MoveCameraAt( 0 , 2.782f , -1464.659f , 24.969f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.820f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.807f , 0 )	// 基本仰角
	RotateCamera( 0 , 158.593f , 0 )				// 角度
	ChangeCameraPers( 0 , 26.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -11.6f , 0 )				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_COS , 2.271f , -1464.473f , 24.969f , 70 )		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_COS ,5.500f , 60 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_COS ,12.531f , 60 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_COS ,44.846f  , 60 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_COS ,2.5f , 150 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_COS ,39.000f, 140 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 2.271f , -1464.473f , 24.969f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.820f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -2.807f , 0 )	// 基本仰角
//	RotateCamera( 0 , 158.593f , 0 )				// 角度
//	ChangeCameraPers( 0 , 26.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -11.6f , 0 )				// ロール回転


	Wait(FADE_NORMAL)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
	Wait(10)
		
	TalkMes("ev_b152","#4197V#000e#000m僕は世に必要とされるべき存在……",
		"邪険にされるのは心外ですね。","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　普段からは想像できないほどの身のこなしと
	//　　速度で漂流村から逃走を始めるキルゴール。

	WaitThread(1000)


	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	SetChrPos("Kiergaard",3.34f,-1463.52f,23.61f)
	Turn("Kiergaard",82.34f,360.0f)


	SetChrInfoFlag( "Kiergaard" , INFOFLAG_FLING )
	SetChrInfoFlag( "Kiergaard" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Kiergaard" , INFOFLAG_NOATARI )

	MoveCameraAt( 0 , 1.886f , -1463.397f , 24.126f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.780f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.792f , 0 )	// 基本仰角
	RotateCamera( 0 , 263.501f , 0 )				// 角度
	ChangeCameraPers( 0 , 26.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 2.6f , 0 )				// ロール回転

	Slow(0.5)
	Blur( BLUR_TYPE_AFTERIMAGE ,0.6f , 25 )
	SetMotSpd("Kiergaard" , -1 , 0.3f )

	Jump("Kiergaard" , 0.3 )
	ChangeAnimation( "Kiergaard" , "ANI_EV_STEP_B", -1 , 1 )
	ExecuteCmd( 1, MoveToEx, "Kiergaard" ,8.70f,-1463.83f,23.58f, 0.1f , 0.7f , 0 , 1)
	PlaySE(SE_M02S620_05, 50, 0, 0, 0, 1.0f, 0)	//ふみきり
	PlaySE(SE_M02S620_06, 100, 0, 0, 0, 1.0f, 0)	//スロー

	Wait(FADE_CROSS)
	Wait(5)

	SetMotSpd("Kiergaard" , -1 , 0.2f )
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_COS , 1.985f , -1464.607f , 24.843f , 40 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_COS ,3.583f, 40 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_COS , 3.793f , 40 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_COS ,276.875f , 40 )		// 角度
	ExecuteCmd(1004, RollCamera, INTERPOLATE_COS ,-8.0f , 40 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_COS ,39.000f, 40 )		// 視野角

	//終点カメラ
	//MoveCameraAt( 0 , 1.985f , -1464.607f , 24.843f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.583f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 3.793f , 0 )	// 基本仰角
	//RotateCamera( 0 , 276.875f , 0 )				// 角度
	//ChangeCameraPers( 0 , 26.400f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 2.6f , 0 )				// ロール回転

	Wait(10)
	Slow(1.0)

	WaitThread(1)
	ResetChrInfoFlag( "Kiergaard" , INFOFLAG_FLING )
	ResetChrInfoFlag( "Kiergaard" , INFOFLAG_NOMAPATARICHECK )
	ResetChrInfoFlag( "Kiergaard" , INFOFLAG_NOATARI )
	SetMotSpd("Kiergaard" , -1 , 0.05f )

	Wait(40)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	CrossFade(FADE_CROSS)
	StopThread(1)

	//SetChrPos("Kiergaard",31.04f,-1453.18f,10.40f)
	//Turn("Kiergaard",-168.12f,360.0f)
	SetChrPos("Kiergaard",34.35f,-1458.01f,9.66f)
	Turn("Kiergaard",-177.07f,360.0f)

	SetChrInfoFlag("Kiergaard",INFOFLAG_ANYTIMECALC)

	MoveCameraAt( 0 , 9.766f , -1463.777f , 23.926f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 8.681f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 26.681f , 0 )	// 基本仰角
	RotateCamera( 0 , 331.464f , 0 )				// 角度
	ChangeCameraPers( 0 , 58.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -4.8f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 120.000 ,2.000 ,0.500 ,0.550)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 13.277f , -1465.686f , 23.926f , 120 )		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,7.081f, 50 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-17.215f , 50 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,115.180f  , 50 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,2.5f , 50 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 50 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 13.277f , -1465.686f , 23.926f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 8.681f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 26.681f , 0 )	// 基本仰角
//	RotateCamera( 0 , 331.464f , 0 )				// 角度
//	ChangeCameraPers( 0 , 58.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -4.8f , 0 )				// ロール回転

	SetMotSpd("Kiergaard" , -1 , 1.0f )
	ChangeAnimation( "Kiergaard" , "ANI_WAIT", -1 , 1 )
	ExecuteCmd( 1, MoveToEx, "Kiergaard" ,36.61f,-1424.38f,11.37f, 0.1f , 0.80f , 1 , 0 )

	WaitThread(1000)


	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	StopThread(1)
//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S630_ED")
}

function "EV_M02S630_ED"
{
	SetSkipScript("")
	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Aaron")
	CallFunc("system:reset_chrmot_Barbaross")

	SetChrPos("Kiergaard",-100000.00f , 0 , 0 )
	ResetChrInfoFlag("Kiergaard",INFOFLAG_ANYTIMECALC)
	
	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()
	
	ReleaseEffect("efx_ev02.ite")

	PlayBGM(BGM_EVENT_017, 0)
	FadeBGM(70,0)

	EventCue("mp1201:EV_M02S631")

	ResetStopFlag(STOPFLAG_EVENTIMPOSE)

//終了処理ここまで----------------------------------------------------
}

function "Hakusyu"
{
	Wait(12)
	PlaySE(SE_M02S630_01, 100, 0, 0, 0, 1.0f, 0)
	Wait(10)
	PlaySE(SE_M02S630_01, 100, 0, 0, 0, 1.0f, 0)
	Wait(10)
	PlaySE(SE_M02S630_01, 100, 0, 0, 0, 1.0f, 0)
	Wait(10)
	PlaySE(SE_M02S630_01, 100, 0, 0, 0, 1.0f, 0)
}

function "EV_M02S631"		//キルゴールが逃げた２
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Barbaross")
	LoadChr("Dogi")
	LoadChr("Aaron")
	LoadChr("Paro")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	ClearDebris()
	ResetMotion( "ALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")

	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	SetChrPos("Aaron",3.28f,-1466.29f,24.18f)
	Turn("Aaron",-133.96f,360.0f)
	
	SetChrPos("LAXIA",0.59f,-1469.82f,24.45f)
	Turn("LAXIA",-122.87f,360.0f)

	SetChrPos("ADOL",0.20f,-1467.68f,24.30f)
	Turn("ADOL",-133.26f,360.0f)

	SetChrPos("Barbaross",-7.77f,-1472.48f,24.53f)
	Turn("Barbaross",-109.91f,360.0f)

	SetChrPos("Paro",1.60f,-1461.99f,24.89f)
	Turn("Paro",-120.38f,360.0f)

	SetChrPos("SAHAD",-3.09f,-1471.96f,24.45f)
	Turn("SAHAD",21.12f,360.0f)


	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_MAJI,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	LookTo("ADOL" ,35.082f , -1448.346f , 10.890f)

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_ANGER,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	LookTo("LAXIA" ,35.082f , -1448.346f , 10.890f)

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "SAHAD" , "ANI_EV_BIBIRI", -1 , 1 )
	LookReset("SAHAD")

	SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI )
	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Barbaross" , "ANI_WAIT", -1 , 1 )
	LookReset("Barbaross")

	SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI )
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_ANGER,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Aaron" , "ANI_EV_SUP", -1 , 1 )
	LookTo("Aaron" ,35.082f , -1448.346f , 10.890f)

	//MTDのSE鳴らさない
	SetFlag( SF_NOUSE_MTDSE, 1 )
	SetChrWork("Paro", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrInfoFlag( "Paro" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Paro" , INFOFLAG_NOCHRATARI )
	SetChrInfoFlag( "Paro" , INFOFLAG_FLING )
	SetChrInfoFlag( "Paro" , INFOFLAG_INVISIBLE )
	ChangeAnimation( "Paro" , "ANI_FLY_RUN", -1 , 1 )

	MoveCameraAt( 0 , 4.722f , -1465.753f , 24.124f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 7.911f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -16.705f , 0 )	// 基本仰角
	RotateCamera( 0 , 107.887f , 0 )				// 角度
	ChangeCameraPers( 0 , 22.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.6f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,2.000 ,0.500 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	PlayBGM(BGM_EVENT_017, 0)
	FadeBGM(70,0)

	SetSkipScript("mp1201:EV_M02S631_ED")

//開始処理ここまで-----------------------------------------------


	ExecuteCmd( 2, MoveTo, "ADOL" ,2.68f,-1465.47f,24.11f, 0.1f , 0.6f )
	ExecuteCmd( 3, MoveTo, "LAXIA" ,3.20f,-1467.95f,24.29f, 0.1f , 0.55f )

	Wait(5)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_COS , 4.526f , -1465.816f , 24.521f , 50 )		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_COS ,7.081f, 50 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_COS ,-15.535f , 50 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_COS ,115.180f  , 50 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_COS ,2.5f , 50 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_COS ,39.000f, 50 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 4.526f , -1465.816f , 24.521f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 7.911f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -16.705f , 0 )	// 基本仰角
//	RotateCamera( 0 , 107.887f , 0 )				// 角度
//	ChangeCameraPers( 0 , 22.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -1.6f , 0 )				// ロール回転

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Wait(10)

	//　　普段からは想像できないほどの身のこなしと
	//　　速度で漂流村から逃走を始めるキルゴール。

	TalkPopup("Aaron",0,1,0,0,0)
	{
		"#000mクッ、しまった！"
		"逃げられちまったか……"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitThread(2)
	WaitThread(3)

	CrossFade(FADE_CROSS)
	LookSpd( "Barbaross", 1.0f, 1.0f, 1.0f )
	LookSpd( "Aaron", 1.0f, 1.0f, 1.0f )
	LookSpd( "LAXIA", 1.0f, 1.0f, 1.0f )
	LookSpd( "ADOL", 1.0f, 1.0f, 1.0f )

	SetChrPos("Barbaross",-0.34f,-1469.16f,24.41f)
	Turn("Barbaross",-132.49f,360.0f)
	LookChr("Barbaross" , "ADOL")

	SetChrPos("LAXIA",2.28f,-1467.73f,24.29f)
	Turn("LAXIA",162.46f,360.0f)	
	LookChr("LAXIA" , "ADOL")

	SetChrPos("ADOL",2.02f,-1465.56f,24.15f)
	Turn("ADOL",-122.21f,360.0f)
	LookChr("ADOL" , "Aaron")
	
	SetChrPos("Aaron",3.28f,-1466.29f,24.18f)
	Turn("Aaron",-145.66f,360.0f)
	LookChr("Aaron" , "ADOL")
	ChangeAnimation( "Aaron" , "ANI_EV_SUP_E", -1 , 1 )

	MoveCameraAt( 0 , -0.841f , -1468.043f , 25.767f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.864f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.938f , 0 )	// 基本仰角
	RotateCamera( 0 , 296.344f , 0 )				// 角度
	ChangeCameraPers( 0 , 42.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -2.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd( 5, MoveTo, "Barbaross" ,1.02f,-1467.61f,24.30f, 0.1f , 0.21f )

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,1.183f , -1467.007f , 25.816f , 80 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.744f, 80 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,8.649f , 80 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,287.055f, 80 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,2.5f , 50 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 50 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 1.183f , -1467.007f , 25.816f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.744f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 8.649f , 0 )	// 基本仰角
//	RotateCamera( 0 , 287.055f , 0 )				// 角度
//	ChangeCameraPers( 0 , 42.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -2.7f , 0 )				// ロール回転
// 	ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	WaitThread(5)

	Wait(20)

	TalkPopup("Barbaross",0,1,0,0,0)
	{
		"#000e#000mアドル、すぐに彼を追跡してもらいたい。"
	}
	WaitPrompt()
	WaitCloseWindow()

//	SetChrWork("ADOL",CWK_BATTLEMODE,0)
//	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )

	LookSpd( "ADOL", 0.10f, 0.10f, 0.10f )
	LookSpd( "Aaron", 0.10f, 0.10f, 0.10f )
	LookSpd( "LAXIA", 0.10f, 0.10f, 0.10f )

	LookReset("ADOL")
	Turn("ADOL",17.67f,10.0f)

	LookReset("Aaron")
	TurnToChr("Aaron", "Barbaross" , 10.0f)
	LookChr("ADOL" ,"Barbaross" )

	Wait(18)
	HeadYes("ADOL" ,1 ,20 )
	LookChr("Aaron" , "Barbaross")
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_ANGER_CLOSE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_ANGER_CLOSE_E,1)	

	Wait(25)

	//　　アドル頷きモーション。
	//　　不意に指笛でパロを呼び寄せるバルバロス。
	//　　パロがバルバロスの腕に舞い降りてくる。


	CrossFade(FADE_CROSS)

	SetChrPos("Paro",11.58f,-1439.40f,31.24f)
	Turn("Paro",44.63f,360.0f)

	MoveCameraAt( 0 , 0.351f , -1468.178f , 25.916f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.435f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.636f , 0 )	// 基本仰角
	RotateCamera( 0 , 130.662f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -2.7f , 0 )				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,0.295f , -1468.113f , 25.916f , 60 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.806f , 60 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-2.636f, 60 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,130.674f , 60 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,2.5f , 110 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 50 )		// 視野角

//終点カメラ
//	MoveCameraAt( 0 , 0.295f , -1468.113f , 25.916f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.806f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -2.636f , 0 )	// 基本仰角
//	RotateCamera( 0 , 130.674f , 0 )				// 角度
//	ChangeCameraPers( 0 , 40.400f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -2.7f , 0 )				// ロール回転

	ChangeAnimation("Barbaross", "ANI_EV_YUBIBUE_S", -1, 1)
	Wait(10)
//	TalkPopup(UNDEF, 0, 0, 0, 0, 0)
//		{
//			"#7C指笛SE"
//		}

		Wait(15)
		PlaySE(SE_M02S631_01, 100, 0, 0, 0, 1.0f, 0)
		Wait(30)

//	ClosePrompt()

	Wait(10)


	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	//MTDのSE鳴らす
	SetFlag( SF_NOUSE_MTDSE, 0 )

	CrossFade(FADE_NORMAL)
	ResetChrInfoFlag("Paro", INFOFLAG_INVISIBLE)	//◆仮
	ExecuteCmd(10, MoveToEx, "Paro", 1.13f, -1466.51f, 31.24f, 0.1f, 0.90f, 0, 0)

	MoveCameraAt( 0 , 2.021f , -1466.291f , 26.809f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.705f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -16.196f , 0 )	// 基本仰角
	RotateCamera( 0 , 355.468f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Look("LAXIA", 20 , 30 )

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 2.021f , -1466.291f , 26.511f, 110)		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 4.505f, 110)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, -16.197f, 110)		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 355.468f, 110)		// 角度
	//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE ,2.5f , 50 )		// ロール回転
	//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 50 )		// 視野角

	//MoveCameraAt( 0 , 2.021f , -1466.291f , 26.511f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 4.505f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -16.197f , 0 )	// 基本仰角
	//RotateCamera( 0 , 355.468f , 0 )				// 角度
	//ChangeCameraPers( 0 , 40.400f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.1f , 0 )				// ロール回転

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	WaitThread(10)

	SetChrPos("Paro", 1.11f, -1467.89f, 27.20f)
	Turn("Paro", -132.91f, 360.0f)
	ChangeAnimation("Paro", "ANI_FLY3_WAIT", -1, 1)

	ChangeAnimation("Barbaross", "ANI_EV_YUBIBUE_E", -1, 1)

//	Wait(30)

	SetChrInfoFlag("Paro", INFOFLAG_FIXED)
	ChangeAnimation("Paro", "ANI_FLY3_E", -1, 1)
	ExecuteCmd(1, MoveZ, "Paro", 26.05f, 0, INTERPOLATE_COS, 25)
	//SetChrPos("Paro",1.11f,-1467.89f,26.05f)
	//Turn("Paro",-132.91f,360.0f)

	LookSpd("Barbaross", 0.10f, 0.10f, 0.10f)
	LookSpd("Barbaross", 0.10f, 0.10f, 0.10f)
	Look("Barbaross", 25, 0)


	Wait(20)

	CrossFade(FADE_NORMAL)
	StopThread(1)

	MoveCameraAt( 0 , 1.753f , -1466.094f , 25.817f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.495f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.337f , 0 )	// 基本仰角
	RotateCamera( 0 , 192.130f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -2.7f , 0 )				// ロール回転

	SetParent("Paro", "Barbaross", "Null_paro")
	ChangeAnimation("Paro", "ANI_FLY3_E", -1, 1)

	LookChr("LAXIA", "Barbaross")


	Wait(FADE_NORMAL)
	Wait(10)

//	ChangeAnimation( "Barbaross" , "ANI_EV_TEBURI", -1 , 1 )
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#010l#000e#000mパロ、空からキルゴール先生を追い、"
		"居場所をアドルに伝えるのだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LittleParo"
	TalkPopup("Paro",0,1,0,0,0)
	{
		"#5C#000e#000mリョーカイ！\p"
		"#5Cきるごーる、ドコニイルカ"
		"#5Cオシエテヤル！"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000e#000mうむ、頼んだぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()


	//　　羽ばたいて飛び去っていくリトルパロ。
	ChangeAnimation( "Paro" , "ANI_FLY3_S", -1 , 1 )
	WaitAnimation2( "Paro" , -1, 1, "ANI_FLY3_S",  0)

	SetParent("Paro", 0 , 0 )		//アタッチ解除
//	ExecuteCmd(1, MoveZ , "Paro" , 27.30f , 0 , INTERPOLATE_SPHERE  , 55 )
	ExecuteCmd(1, MoveZ , "Paro" , 40.0f , 0 , INTERPOLATE_SPHERE  , 165 )	//羽音の減衰のため、見た目変わらないようにしつつ移動距離を伸ばしました（園）

	Wait(30)

	LookChr("Barbaross" , "ADOL")
	LookChr("LAXIA" , "Barbaross")

	ChangeAnimation( "Barbaross" , "ANI_EV_TEBURI", -1 , 1 )

	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000l#000e#000mアドル、パロが先生の"
		"逃走経路を案内してくれるだろう。\p"
		"君たちはそれに従って先発してくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Aaron")
	ChangeAnimation( "Aaron" , "ANI_EV_SIAN_S", -1 , 1 )

	TalkPopup("Aaron",0,2,0,0,0)
	{
		"#011e#000mなるほどなァ……"
		"さすがバルバロス船長だ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//MTDのSE鳴らさない
	SetFlag( SF_NOUSE_MTDSE, 1 )

	LookSpd( "Barbaross", 0.10f, 0.10f, 0.10f )
	LookChr("Barbaross", "Aaron")

//	ChangeAnimation( "Barbaross" , "ANI_EV_TEBURI", -1 , 1 )

	//	"Barbaross"
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000e#000mエアラン殿、私たちも"
		"ドギに後事を任せたら後を追います。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Aaron", "Barbaross")
	ChangeAnimation( "Aaron" , "ANI_EV_SIAN_E", -1 , 1 )

	//	"Aaron"
	TalkPopup("Aaron",0,2,0,0,0)
	{
		"#012e#000mそりゃいいが、ケガは大丈夫なのかよ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)

	SetChrPos("ADOL",2.02f,-1465.56f,24.15f)
	Turn("ADOL",-5.49f,360.0f)

	MoveCameraAt( 0 , 1.496f , -1467.403f , 25.866f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.532f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.505f , 0 )	// 基本仰角
	RotateCamera( 0 , 187.898f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.1f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	Wait(10)

	HeadYes("Barbaross" , 1 , 25)

	//	"Barbaross"
	TalkPopup("Barbaross",0,1,0,0,0)
	{
		"#000e#000mええ、どうやらここが正念場のようです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Barbaross")

	ChangeAnimation( "Barbaross" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	TalkPopup("Barbaross",0,1,0,0,0)
	{
		"#011e#000m今、彼を逃がして潜伏されると、"
		"後により大きな脅威となるでしょう。\p"
		"#012e#000mドギたちには村を守ってもらい、"
		"この人員で全力で事に当たるべきです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookSpd( "LAXIA", 0.10f, 0.10f, 0.10f )
	LookChr("LAXIA" ,"Barbaross" )

	ChangeAnimation( "LAXIA" , "ANI_EV_TEMUNE_S", -1 , 1 )

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#011e#000mわかりました、くれぐれも"
		"無理をなさらないでください。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , 2.756f , -1465.891f , 25.568f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.402f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.350f , 0 )	// 基本仰角
	RotateCamera( 0 , 13.771f , 0 )				// 角度
	ChangeCameraPers( 0 , 28.400f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -2.7f , 0 )				// ロール回転
	
	Wait(FADE_CROSS)
	LookChr("Aaron" , "ADOL")
	Wait(15)

	//MTDのSE鳴らす
	SetFlag( SF_NOUSE_MTDSE, 0 )

	//	"Aaron"
	ChangeAnimation( "Aaron" , "ANI_EV_YARUKI_S", -1 , 1 )

	TalkPopup("Aaron",0,1,0,0,0)
	{
		"#000e#000mアドル、相手はあの“名無し”だ。"
		"油断をするんじゃねえぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、頷きモーション後に操作許可。

	LookSpd( "ADOL", 0.115f, 0.115f, 0.115f )
	LookChr("ADOL" ,"Aaron" )
	Wait(25)

	HeadYes("ADOL" ,1 ,22 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_ANGER_CLOSE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_ANGER_CLOSE_E,1)	
	Wait(30)

	StopBGM(60)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M02S631_ED")
}

function "EV_M02S631_ED"
{

	SetSkipScript("")
	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Aaron")
	CallFunc("system:reset_chrmot_Barbaross")

	//tin 3.29 スキップ後ジャンプSEが鳴らないので修正
	SetFlag( SF_NOUSE_MTDSE, 0 )

	SetChrPos("Paro",-100000.00f , 0 , 0 )
	SetChrPos("Kiergaard",-100000.00f , 0 , 0 )

	//マップパラメーターリセット
	ResetMapParam( -1 )
	ReleaseEffect( "b152.ite" )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//フラグ
	//SetFlag( SF_WARP_DISABLED, 1 )		//ワープ使用禁止
	SetFlag( GF_02MP1201_CHASE_KIERGAARD , 1 )			// 名無しの正体が判明した
	//SetFlag( SF_MISSIONNO, MS_02_22 )	//★冒険メモ：キルゴールを追いかけよう。
/*
	//一般が更新されるのでTFを全クリア
	SetFlag(TF_AARON_TALK,			0)	// エアラン
	SetFlag(TF_ED_TALK,				0)	// エド
	SetFlag(TF_AUSTEN_TALK,			0)	// オースティン
	SetFlag(TF_CURRAN_TALK,			0)	// カーラン卿
	SetFlag(TF_KASHU_TALK,			0)	// カシュー
	SetFlag(TF_KATRIN_TALK,			0)	// カトリーン
	SetFlag(TF_KIERGAARD_TALK,		0)	// キルゴール
	SetFlag(TF_KUINA_TALK,			0)	// クイナ
	SetFlag(TF_GRISELDA_TALK,		0)	// グリゼルダ
	SetFlag(TF_SAHAD_TALK,			0)	// サハド
	SetFlag(TF_NIA_TALK,			0)	// シスター・ニア
	SetFlag(TF_SILVIA_TALK,			0)	// シルヴィア
	SetFlag(TF_DANA_TALK,			0)	// ダーナ
	SetFlag(TF_THANATOS_TALK,		0)	// タナトス
	SetFlag(TF_DINA_TALK,			0)	// ディナ
	SetFlag(TF_DOGI_TALK,			0)	// ドギ
	SetFlag(TF_BARBAROSS_TALK,		0)	// バルバロス
	SetFlag(TF_BARBAROSS_TALK2,		0)	// バルバロス
	SetFlag(TF_HUMMEL_TALK,			0)	// ヒュンメル
	SetFlag(TF_FRANZ_TALK,			0)	// フランツ
	SetFlag(TF_MIRALDA_TALK,		0)	// ミラルダ
	SetFlag(TF_LAXIA_TALK,			0)	// ラクシャ
	SetFlag(TF_RICOTTA_TALK,		0)	// リコッタ
	SetFlag(TF_PARO_TALK,			0)	// リトル・パロ
	SetFlag(TF_LICHT_TALK,			0)	// リヒト
	SetFlag(TF_REJA_TALK,			0)	// レーヤ
*/
	//マップマーカー
	DelMapMarker( SMI_EVENTPT_MAIN,PAGE_MP120x,MARKER_EV_M02S620, 0, 0)	//キルゴール

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init" )
	//EventAreaEnable( "evb2_S003" , 0 )

	SetChrPos("LEADER",2.42f,-1460.27f,23.09f)
	Turn("LEADER",-131.04f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	MoveCameraAt( 0 , 2.420f , -1460.270f , 24.958f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , -74.784f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")

	//ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼夢に驚くアドル(mp1202)
//──────────────────────────────
function "EV_M03S040"	//夢に驚くアドル
{
//開始処理ここから-----------------------------------------------
	
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	//ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定	
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrPos("ADOL", -14.34f, -1358.30f, 11.61f)
	Turn("ADOL", -119.22f, 360.0f)
	ChangeAnimation("ADOL","ANI_EV_SLEEP_HM_L", -1 , 1 )	
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_CLOSE, 1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	
	ChrNodeHide( "ADOL" , "Null_wp", 1, 1 )	//剣を消す

	SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)

	//BGM設定
	//PlayBGM( BGM_FIELD_101 , XX )
	//StopBGM(60)
	
	//SE設定
	
	//カメラ設定
	MoveCameraAt(0, -14.011f, -1363.481f, 14.274f, 0)	// 注視点
	ChangeCameraDistance(0, 2.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 8.956f, 0)	// 基本仰角
	RotateCamera(0, 85.880f, 0)				// 角度
	ChangeCameraPers(0, 45.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 60.000, 1.000, 0.700, 0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M03S040_ED")

//開始処理ここまで-----------------------------------------------
	
	//　　画面暗転のまま、せせらぎと鳥の囀りが聞こえてくる。
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	PlaySE(SE_WHITEOUT, 100, 0, 0, 0, 1.0f, 0)
	Wait(70)
	PlaySE("SE_SUZUME", 100, 0,  0, 0, 1.0f, 0)		//◆鳥のさえずり
	SetEnvSEPlayState(1202001, 1)	//環境SE
	SetEnvSEPlayState(1202201, 1)	//環境SE
	SetEnvSEPlayState(1202202, 1)	//環境SE
	SetEnvSEPlayState(1202203, 1)	//環境SE
	SetEnvSEPlayState(1201201, 1)
	Wait(30)

	// カットX -----------------------------------------------------------------------------------------

	//　　フェードインして漂流村の休息所──

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -10.911f, -1363.023f, 14.274f, 90)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 60.858f, 90)		// 角度
	
	FadeIn(FADE_BLACK,FADE_NORMAL)	
	WaitFade()

	WaitThread(1000)
	WaitThread(1001)
	
	// カットX -----------------------------------------------------------------------------------------
	
	//　　寝台で目を覚まして半身を起こすアドル。
	
	CrossFade(FADE_NORMAL)

	MoveCameraAt(0, -14.673f, -1358.467f, 13.257f, 0)	// 注視点
	ChangeCameraDistance(0, 2.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 78.031f, 0)	// 基本仰角
	RotateCamera(0, 82.543f, 0)				// 角度
	ChangeCameraPers(0, 19.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_NORMAL)
	Wait(10)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_CLOSE_E, 1)
	Wait(5)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_S, 1)

	Wait(30)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -14.076f , -1358.171f , 13.015f, 55)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE,6.359f, 55)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 83.748f, 55)		// 角度
	ExecuteCmd(1003, ChangeCameraPers, INTERPOLATE_SPHERE, 35.000f, 55)		// 視野角

	PlaySE(SE_M03S040_01, 50 0, 0, 0, 1.0f, 0)	//	起き上がる
	ChangeAnimation("ADOL", "ANI_EV_WAKEUP_HM_S", -1, 1)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKR_S, 1)
	
	//　　アドルに「…」エモーションを表示。
	EmotionEx("ADOL", 0.0f, "EMO_3DOT", 27, 5, 1, 1, 1.0f)	// 「…」
	Wait(45)

	//テキスト
	TalkPopup("UNDEF",0,3,STOPPER_PPOSX,STOPPER_PPOSY,0) {
		"#7C……ずいぶん長い夢を見ていた気がする。"
		"#7Cいや、今のは夢だったのだろうか？\p"
		"#7Cまるでアドルが“彼女#4Rダーナ#R”自身となって、"
		"#7C行動していたような不思議な感覚が残っている。"
	}
	WaitPrompt()
	WaitCloseWindow()

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
//　　画面切り替えて、アドルを寝台脇に配置＆操作許可。
	
//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M03S040_ED")
}

function "EV_M03S040_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")			
		
	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//モンスターを復帰
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	
	ResetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)

	ChrNodeHide( "ADOL" , "Null_wp", 0, 1 )	//剣を出す
	
	//フラグ処理
	SetFlag(SF_SETRAMSAVE,1)		//リトライセーブ
	SetFlag( GF_03MP1202_AWAKE_ADOL , 1 )			// 夢に驚くアドル
	SetFlag( GF_TBOX_DUMMY061 , 1 )	
	//SetFlag( SF_MISSIONNO, MS_03_01 )	//★冒険メモ：出発の準備をしよう。
	SetFlag( GF_QUEST_200, QUEST_SUCCESS )
	SetFlag( GF_QUEST_220, QUEST_SUCCESS )  //captains dead so let's just make his quests complete
	SetFlag( TF_MAPNAME_SHOWN, 1 )				// 地名表示した（テンポラリ）

	//イベント後の再配置位置
	SetChrPos("LEADER" , -13.68f, -1362.50f, 11.57f)
	Turn("LEADER",-34.20f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//NPC配置
	CallFunc("mp1201:init")
	
	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//#28570修正
	SetEnvSEPlayState(1202001, 1)	//環境SE
	SetEnvSEPlayState(1202201, 1)	//環境SE
	SetEnvSEPlayState(1202202, 1)	//環境SE
	SetEnvSEPlayState(1202203, 1)	//環境SE
	SetEnvSEPlayState(1201201, 1)

	//カメラ位置復帰or初期位置設定
	MoveCameraAt( 0 , -13.678f , -1362.499f , 12.927f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , -22.886f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	CallFunc("system:camera_reset")
	
	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼クイナとぶつかるアドル(mp1201)
//──────────────────────────────

function "EV_M03S050" 			//クイナとぶつかるアドル
{
//開始処理ここから-----------------------------------------------

	CallFunc("system:solo_event_begin")	//EB開始処理

	LoadChr("Kuina")
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	//ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",21.66f, -1403.49f, 11.49f)
	Turn("ADOL", -23.15f, 360.0f)
	ChangeAnimation("ADOL","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )

	SetChrWork("Kuina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kuina",24.60f,	-1412.64f,	11.62f	)
	Turn("Kuina",8.94f,360.0f)
	ChangeAnimation("Kuina","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("Kuina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kuina",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Kuina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Kuina")
	SetChrInfoFlag( "Kuina" , INFOFLAG_NOCHRATARI )

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrInfoFlag( "Dogi" , INFOFLAG_INVISIBLE )
	SetChrPos("Dogi",28.40f, -1411.93f, 11.44f)
	Turn("Dogi",128.65f,360.0f)
	ChangeAnimation("Dogi","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dogi")
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )

	//カメラ設定
	MoveCameraAt( 0 , 21.498f , -1403.272f , 12.282f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.840f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.198f , 0 )	// 基本仰角
	RotateCamera( 0 , 194.272f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,0.000 ,0.150 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M03S050_ED")
	
//開始処理ここまで-----------------------------------------------
	
	//　　漂流村の集会所付近でイベント開始。
	//　　アドルの正面に何者かが立ちはだかる。

	ExecuteCmd(1, MoveTo, "ADOL", 23.42f, -1408.21f, 11.49f, 0.1f, 0.21f)
	LookChr("ADOL", "Kuina")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 23.263f , -1408.838f , 12.782f , 90 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.840f , 90 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.047f , 90 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 210.890f , 90 )
	
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	
	EmotionEx("Kuina", 0.00f, EMO_PA, 0, 5, 1, 1, 1.3f )	// 「PA」
	Wait(10)
	LookChr( "Kuina" , "ADOL" )
	TurnToChr("Kuina", "ADOL", 8.0f)
	Wait(10)
	FadeBGM(70,10)
	Wait(10)
	ChangeAnimation( "Kuina", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// 移動待ち
	WaitThread(1)

	//少女
	SetName("少女")
	TalkPopup("Kuina",0,2,0,0,0) {
		"#4651V#000e#080mふふーん……"
		"前方にアドルはっけーん。"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")
	
	ChangeAnimation( "Kuina", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	
	//少女
	SetName("少女")
	TalkPopup("Kuina",0,2,0,0,0) {
		"#4652V#021e#080mそれ、全速前進ーっ！"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")
	
	//　　タックルしようとするクイナをひらりとかわすアドル。
	//　　勢い余って体制を崩すクイナ。
	
	WaitAnimation2("Kuina", -1, 1, "ANI_EV_RYOTEKOSI_E", 0)

	Slow( 0.8f )	// ゲームスピード変更

	ExecuteCmd(1, MoveTo, "Kuina", 23.74f, -1408.57f, 11.62f, 0.1f, 0.70)
	LookReset("Kuina")

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,23.377f , -1408.462f , 12.272f , 50 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.400f , 50 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,  -0.818f , 50 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 1.856f , 50 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f  , 50 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 25.5f , 50 )		// ロール回転

	Blur( BLUR_TYPE_AFTERIMAGE ,0.5f , 50 )	// 残像

	Wait(25)
	
	LookReset("ADOL")
	
	LookSpd("ADOL" , 0.08 , 0.08 , 0.08 )
	LookChr("ADOL", "Kuina")
	ChangeAnimation( "ADOL" , "ANI_EV_HIRARI", -1 , 0 )
	PlaySE(SE_M03S050_01, 50, 0, 0, 0, 1.0f, 0)		//ひらり
	
	// 移動待ち
	StopThread(1)
	ChangeAnimation( "Kuina" , "ANI_EV_KENKEN", -1 , 1 )

	Slow( 1.0f )	// ゲームスピード変更
	WaitAnimation2("ADOL", -1, 1, "ANI_EV_HIRARI", 0)
	LookChr("ADOL", "Kuina")
	
	Wait(10)
	
	//少女
	SetName("少女")
	TalkPopup("Kuina",0,2,0,0,0) {
		"#4653V#000e#000mわっとっとっ！" 
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 23.431f , -1407.287f , 12.602f , 80 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.220f , 80 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.337f , 80 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 19.044f , 80 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 80 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 0.0f , 80 )		// ロール回転

	//　　振り返ってアドルをキッと見るクイナ
	Turn("Kuina", 8.18f, 6.0f)
	Wait(20)
	LookChr("Kuina", "ADOL")
	ChangeAnimation( "Kuina", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_ANGER_S, 1)	// 目
	
	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	
	//少女
	SetName("少女")
	TalkPopup("Kuina",0,2,0,0,0) {
		"#4654V#000mむむむ、このわたし必殺の"
		"#030e#000mタックルをかわすなんて……"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	// カットX -----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_NORMAL)

	// カメラ
	MoveCameraAt( 0 , 23.317f , -1407.365f , 13.042f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.680f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -6.352f , 0 )	// 基本仰角
	RotateCamera( 0 , 32.079f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	LookSpd("ADOL" ,1.0,1.0,1.0)

	SetChrPos("ADOL", 23.12f, -1408.14f, 11.49f)
	Turn("ADOL", -159.45f, 360.0f)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 23.317f , -1407.365f , 12.462f , 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.680f , 100 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -6.639f , 100 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 24.058f , 100 )
	
	// フェード待ち
	Wait(FADE_NORMAL)

	LookSpd("ADOL" ,0.15,0.15,0.15)
	SetMotSpd("ADOL", -1, 0.7f)
	ChangeAnimation("ADOL", "ANI_EV_SHAGAMI_S", -1, 1)	// しゃがみ
	WaitAnimation2("ADOL", -1, 1, "ANI_EV_SHAGAMI_S", 0)
	Look("ADOL", 0.0f, 40.0f)	// 上向く

	// カメラ待ち
	WaitThread(1000)

	SetMotSpd("ADOL", -1, 1.0f)
	
	//選択肢
	//「……誰だっけ？
	//　なかなかやるな」
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"……誰だっけ？")
	MenuAdd(2,"なかなかやるな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	//─────────────────────────

	//⇒……誰だっけ？
	if (FLAG[TF_MENU_SELECT] == 1){
		
		LookRoll("ADOL", -10.0f)	// かしげる
		Wait(40)
		LookRoll("ADOL", 0.0f)	// かしげる
		Wait(10)
	}
	//⇒なかなかやるな
	if (FLAG[TF_MENU_SELECT] == 2){
		
		HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
		Wait(35)
	}
	//─────────────────────────

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 23.399f , -1407.356f , 12.522f , 230 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.200f , 230 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -8.071f , 230 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 22.913f , 230 )

	VisualName("visual/chrname/cn_c101.itp", VN_NAMEVOICE, VN_CHRNAME_LT_X, VN_CHRNAME_LT_Y,VN_NPCNAME_TIME) //クイナ


	Wait(60)

	//時限式選択肢
	//◆SE無効化コマンド置換用
	SetFlag(TF_MENU_SELECT2,0)
	MenuReset()
	MenuAdd( 1 , "" )
	MenuOpen( TF_MENU_SELECT2 , 0 ,0 , 0 , 0 , 0 , 0 )
	WaitMenu(VN_NPCNAME_SKIP) //ウェイトしたい数値
	MenuClose(0,0)

	if(FLAG[TF_MENU_SELECT2] == 1 )
	{
		CrossFade(FADE_FAST)
		VisualNameEnd()
		StopThread(1000)
		StopThread(1001)
		StopThread(1002)
		StopThread(1003)
		StopThread(1004)

		MoveCameraAt( 0 , 23.399f , -1407.356f , 12.522f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 1.200f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , -8.071f , 0 )	// 基本仰角
		RotateCamera( 0 , 22.913f , 0 )				// 角度
		ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , 0.0f , 0 )				// ロール回転
		// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

		Wait(FADE_FAST)
	}
	else
	{
		Wait(30)
	}

	//─────────────────────────

	//⇒……誰だっけ？
	if (FLAG[TF_MENU_SELECT] == 1){

		ChangeAnimation( "Kuina", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
		
		//少女
		LookChr( "Kuina" , "ADOL" )
		SetName("少女")
		TalkPopup("Kuina", 0, 2, 0, 0, 0) {
			"#4655V#051e#000m……アドルってけんぼーしょー？"
		}
		WaitPrompt()
		WaitCloseWindow()
		SetName("")
		
	}
	//⇒なかなかやるな
	if (FLAG[TF_MENU_SELECT] == 2){
		
		ChangeAnimation( "Kuina", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
		ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_ANGER_E, 1)	// 目
		
		//少女
		LookChr( "Kuina" , "ADOL" )
		SetName("少女")
		TalkPopup("Kuina", 0, 2, 0, 0, 0) {
			"#4656V#000e#080mふふーん、でしょでしょ？\p"
			"#4657V#011e#080mこの分なら迎撃戦デビューも"
			"そう遠くないわね～♪"
		}
		WaitPrompt()
		WaitCloseWindow()
		SetName("")
	}
	//─────────────────────────	


	//男性の声
	SetName("男性の声")
	TalkPopup("Dogi",0,3,360,230,0) {
		"#3681V#000e#000m──クイナ、そのへんにしておけよ。" 
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	//　　クイナにＰＡエモーション。
	EmotionEx("Kuina", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_WAIT_S, 1)	// 目
	ChangeSubAnimation("Kuina",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(35)
	
	// カットX ---------------------------------------------------------------------------------------

	//　　歩いてフレームインしてくるドギ。

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 23.209f , -1407.299f , 12.522f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.640f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.529f , 0 )	// 基本仰角
	RotateCamera( 0 , 211.328f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag( "Dogi" , INFOFLAG_INVISIBLE )

	// 位置調整・表情・モーション
	Turn("Kuina", -38.23f, 360.0f)
	LookChr("Kuina", "Dogi")
	ChangeAnimation("ADOL", "ANI_EV_SHAGAMI_E", -1, 1)	// しゃがみ
	LookChr("Dogi", "Kuina")
	LookReset("ADOL")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 23.209f , -1407.299f , 12.842f , 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.640f , 100 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.530f , 100 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 224.221f , 100 )

	// 移動
	ExecuteCmd(1, MoveTo, "Dogi", 24.89f, -1408.91f, 11.51f, 0.1f, 0.18f)

	// フェード待ち
	Wait(FADE_CROSS)
	
	WaitAnimation2("ADOL", -1, 1, "ANI_EV_SHAGAMI_E", 0)
	LookChr("ADOL", "Dogi")
	Turn("ADOL", -81.28f, 7.0f)

	ChangeAnimation( "Kuina", "ANI_EV_SUP_S", -1, 1 )	// 驚く、軽くのけぞる
	EmotionEx("Kuina", 0.00f, EMO_GIKU, 0, 5, 1, 1, 1.3f )	// 「ぎくっ」
	Wait(15)

	//クイナ
	TalkPopup("Kuina",0,1,0,0,0) {
		"#4658V#000e#000mやばっ、ドギだ！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Kuina", "ADOL")
	ChangeAnimation( "Kuina", "ANI_EV_SUP_E", -1, 1 )	// 驚く、軽くのけぞる
	
	//クイナ
	TalkPopup("Kuina",0,1,0,0,0) {
		"#4659Vアドル、まったねー！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//　　クイナ、回れ右をしてドギを避けつつ走り去る。
	
	WaitAnimation2("Kuina", -1, 1, "ANI_EV_SUP_E", 0)
	LookReset("Kuina")
	Turn("Kuina", 71.91f, 7.0f)
	Wait(10)
	ExecuteCmd( 2, MoveTo, "Kuina", 13.63f, -1408.46f, 13.06f, 0.1f, 0.7f )
	Wait(20)
	LookChr("Dogi", "ADOL")

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 23.502f , -1407.843f , 13.122f , 65 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.920f , 65 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.908f , 65 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 218.208f , 65 )


	Wait(45)

	// 移動停止
	StopThread(2)

	// 移動待ち
	StopThread(1)
	
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	//ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#011e#000mあれから一週間か……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Look("Dogi", -45.0f, 0.0f)	// （＾＾）→
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	Wait(10)
	
	//ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000e#000mバルバロスの旦那が助けた時は"
		"気を失ってたと言え、無邪気なモンだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "ADOL")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	//ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"クイナは乗客といっても"
		"ちょっと変わった経緯があってな。\p"
		"何でも港で遊んでいて荷物と一緒に"
		"ロンバルディアに潜り込んじまったらしい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	//「密航者ってことなのか？
	//　彼女のあの服は一体……」
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"密航者ってことなのか？")
	MenuAdd(2,"彼女のあの服はもしかして……")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)
	
	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	
	//─────────────────────────
	//⇒密航者ってことなのか？
	
	if (FLAG[TF_MENU_SELECT] == 1) {

		//ドギ
		TalkPopup("Dogi",0,2,0,0,0) {
			"#000e#080mへっ、ずいぶんと"
			"かわいらしい密航者だがな。\p"
			"#011e#080mだがアイツのおかげで他の漂流者たちも"
			"幾分か気が紛れているみてえだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//⇒彼女のあの服はもしかして……
	if (FLAG[TF_MENU_SELECT] == 2){

		//ドギ
		TalkPopup("Dogi",0,2,0,0,0) {
			"#000e#000m気が付いたか？\p"
			"どうやらロンバルディアの"
			"船員服みたいなんだが……\p"
			"#011e#080m何で着ているのかは秘密なんだとよ。"
			"秘密6行目"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//─────────────────────────
	
	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	
	//ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000e#080m……それはそうとアドル。\p"
		"大人たちがいつまでも"
		"しょげてるワケにはいかねえよな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	//ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000e#000m今後のことを話したいから、"
		"ラクシャ嬢とサハドを連れて来てくれ。\p"
		"そこの集会所で待ってるから、"
		"よろしく頼んだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

		
	//　　操作許可。
	//　　村の中はバルバロスの死から一週間が経っている。◆会話状態：仮
	//　　漂流者たちは指導者だったバルバロスを失い、
	//　　悲嘆に暮れる者と何とか立ち直ろうとしている者とそれぞれ。
	//　　アドルたちに期待する声も聞くことが出来る。
	//　　バルバロスの墓前にいるラクシャに話しかけることで
	//　　イベントが先へと進む。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M03S050_ED")
}

function "EV_M03S050_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Dogi")

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	SetChrPos("Kuina", -100000.00f, 00.00f, 00.00f)//NPCクイナ

	//フラグ処理
	//CallFunc("rng:0416")
    SetFlag( GF_TBOX_DUMMY072, 1 ) // Adol collides with Kuina
	SetFlag(GF_03MP1201_VISIT_GRAVE,1)
	SetFlag(GF_03MP1201_GOTO_GENSD,1)
    //SetFlag( SF_MISSIONNO, MS_03_02 ) //Adventure memo: Let's talk to Raksha and Sahad.
    SetDiaryShopFlag(SHOP_ID_DRUG_A,0) // "Dispensary"
    SetDiaryShopFlag(SHOP_ID_DRUG,0) // "Kilgor's Clinic"
    SetDiaryShopFlag(SHOP_ID_DRUG_R,1) // "Licht's Clinic"
	//SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//クイナ合流	名声値+2

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init")

	//イベント後の再配置位置
	SetChrPos("LEADER",24.94f, -1408.12f, 11.49f)
	Turn("LEADER",-1.89f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用
	
	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ位置復帰or初期位置設定
	MoveCameraAt( 0 , 24.936f , -1408.121f , 13.353f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 12.276f , 0 )	// 基本仰角
	RotateCamera( 0 , -178.115f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK, FADE_FAST)
	//WaitFade()
	
//終了処理ここまで----------------------------------------------------
}

function "EV_M03S060" 			//墓前でラクシャと話す
{
	//開始処理ここから-----------------------------------------------

	CallFunc("system:solo_event_begin")	//EB開始処理

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
//	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	//ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -76.25f, -1455.76f, 31.34f)
	Turn("ADOL", 33.16f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrPos("Laxia", -100000.00f, 00.00f, 00.00f)//NPCラクシャ

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", -79.42f, -1460.87f, 31.32f)
	Turn("LAXIA", 54.42f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_EV_SHAGAMI", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SAD, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")

	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", -74.36f, -1458.03f, 31.32f)
	Turn("SAHAD", 65.50f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag( "SAHAD" , INFOFLAG_INVISIBLE )

	//カメラ設定
	MoveCameraAt( 0 , -78.616f , -1457.798f , 32.120f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.240f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.436f , 0 )	// 基本仰角
	RotateCamera( 0 , 189.288f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 150.000, 0.000, 0.150, 0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M03S060_ED")
	//開始処理ここまで-----------------------------------------------

	//　　バルバロスの墓に近づくとイベント開始。
	//　　墓前に佇んでいるラクシャ。
	//　　墓前には漂流者たちが献花した花が添えられている。
	//　　ラクシャ、気配を察してＰＡエモーション後に振り向く。

	// カット1 ----------------------------------------------------------------------------------------

	ExecuteCmd(1, MoveTo, "ADOL", -78.72f, -1459.58f, 31.32f, 0.1f, 0.185f)
	LookChr("ADOL", "LAXIA")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -79.301f , -1460.172f , 32.660f , 130 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.080f , 130 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.441f , 130 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 172.100f , 130 )

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.4f )	// 「PA」
	LookChr("LAXIA", "ADOL")
	Wait(40)
	ChangeAnimation("LAXIA", "ANI_EV_SHAGAMI_E", -1, 1)
	LookReset("LAXIA")
	WaitAnimation2("LAXIA", -1, 1, "ANI_EV_SHAGAMI_E", 0)
	LookChr("LAXIA", "ADOL")
	Turn("LAXIA", 168.12f, 8.0f)
	Wait(15)
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	
	//ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000mアドル……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャに「…」エモーション表示。
	EmotionEx("LAXIA", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//「…」
	LookReset("LAXIA")
	Look("LAXIA", 0.0f, -10.0f)	// うつむく
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)	// 目
	Wait(52)
	
	//ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000mこの一週間、わたくしは何を"
		"どうしたらいいか分からなくて……\p"
		"今までいかに船長を"
		"頼りにしていたのか思い知りました。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	//「不安かい？
	//　前を向くしかない」
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "不安かい？")
	MenuAdd(2, "前を向くしかない")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -79.101f , -1460.183f , 32.760f, 600 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.120f , 600 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.862f , 600 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 181.554f , 600 )
	
	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)
	
	LookChr("LAXIA", "ADOL")
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SAD_CLOSE_E, 1)	// 目
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て
	Wait(15)

	// うなずきセット
	HeadYes("LAXIA" , 1 , 25 )
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SAD_CLOSE_E, 1)
	
	//	─────────────────────────
	//⇒不安かい？
	if (FLAG[TF_MENU_SELECT] == 1){
		
		//ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#000mええ、不安でないと言えば嘘になります。"
			"不安2行目"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	//⇒前を向くしかない
	if (FLAG[TF_MENU_SELECT] == 2){
		
		//ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#000mええ、理解しているつもりですが……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	─────────────────────────

	LookReset("LAXIA")
	Look("LAXIA", 0.0f, -10.0f)	// うつむく
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目

	//ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#011e#000mこれからは船長の指示ではなく、"
		"自分たちの判断や行動が命運を左右する……\p"
		"考えてみれば当たり前のことを、"
		"わたくしは怖いと感じているのです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "ADOL")
	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_S", -1, 1 )	// 両手 前組み
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	//ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"わたくしは今まで船長や"
		"周りの皆さんに守られてきたのですね。\p"
		"#000e#000mセイレン島に来てから……"
		"いえ……もしかするとその前からも……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)
	
	//選択肢
	//「前からも？
	//　みんな同じだ」
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "前からも？")
	MenuAdd(2, "みんな同じだ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)
	
	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -79.166f , -1460.234f , 32.700f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.660f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.004f , 0 )	// 基本仰角
	RotateCamera( 0 , 280.393f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -79.051f , -1460.051f , 32.700f , 1200 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.979f , 1200 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.150f , 1200 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 212.215f , 1200 )

	//MoveCameraAt( 0 , -79.051f , -1460.051f , 32.700f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.979f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 2.149f , 0 )	// 基本仰角
	//RotateCamera( 0 , 212.251f , 0 )				// 角度
	//ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェード待ち
	Wait(FADE_FAST)
	
	//	─────────────────────────
	//⇒前からも？
	if (FLAG[TF_MENU_SELECT] == 1){

		LookRoll("ADOL", 10.0f)	// かしげる
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		LookRoll("ADOL", 0.0f)	// かしげる
		Wait(20)

		//ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#000e#000mええ……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	//⇒みんな同じだ
	if (FLAG[TF_MENU_SELECT] == 2){

		HeadYes("ADOL" , 1 , 25 )
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		//ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#000e#000mアドル、あなたでも……ですか？"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	─────────────────────────

	LookReset("LAXIA")
	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_E", -1, 1 )	// 両手 前組み

	//ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#051e#000m……ご存じの通り、わたくしは周囲に"
		"苛立ちを募らせながら過ごしてきました。"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2( "LAXIA" , -1, 1, "ANI_EV_RYOTEMAE_E",  0)
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	
	//ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"でも、それも責任のない立場だからこその"
		"ただの甘えだったように思います。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("LAXIA", 0.0f, -10.0f)	// うつむく
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)	// 目
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	//ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#060e#000mこんなことに今更気づくなんて、"
		"何て格好の悪い……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	//「ラクシャも変わったね
	//　いや、格好いいと思う」
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "ラクシャも変わったね")
	MenuAdd(2, "いや、格好いいと思う")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)
	
	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	LookReset("LAXIA")
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SAD_CLOSE_E, 1)	// 目

	//	─────────────────────────
	//⇒ラクシャも変わったね
	if (FLAG[TF_MENU_SELECT] == 1){

		ChangeAnimation("LAXIA", "ANI_EV_SEKI", -1, 1)

		//ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#011e#000mコホン、上から言われているようで"
			"何だか引っかかりますけれど……"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//⇒いや、格好いいと思う
	if (FLAG[TF_MENU_SELECT] == 2){
		
		LookChr("LAXIA", "ADOL")
		
		//ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#051e#000mそ、そうでしょうか？"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//	─────────────────────────

	WaitAnimation2( "LAXIA" , -1, 1, "ANI_EV_SEKI",  0)
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	
	//ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#010e#000mせめて、これからは"
		"自分で考えて自分の責任で進みたい……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("LAXIA", "ADOL")
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	
	//ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000m守られるだけでなく、船長のように"
		"守ることのできる人間になりたいのです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//男の声
	SetName("男の声")
	TalkPopup("SAHAD", 0, 3, 110, 230, 0) {
		"#080e#080mガハハ、なるほどなあ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	//　　アドル、ラクシャにＰＡエモーション。
	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	Wait(40)
	
	// カット3 ----------------------------------------------------------------------------------------

	//　　サハド集会所側から歩いてフレームイン。

	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -79.366f , -1460.228f , 33.208f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.060f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.632f , 0 )	// 基本仰角
	RotateCamera( 0 , 287.406f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -79.40f, -1459.55f, 31.33f)
	Turn("ADOL", 7.95f, 360.0f)
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機

	// 非表示・再表示
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -79.378f , -1460.190f , 32.828f , 60 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.580f , 60 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.632f , 60 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 287.981f , 60 )

	// 移動
	ExecuteCmd(1, MoveTo, "SAHAD", -77.91f, -1459.90f, 31.32f, 0.1f, 0.22f)
	LookChr("SAHAD", "LAXIA")

	LookChr("ADOL", "SAHAD")
	Turn("ADOL", -27.58f, 7.0f)
	LookChr("LAXIA", "SAHAD")
	Turn("LAXIA", -142.14f, 7.0f)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	//ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mサハド……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// 移動待ち
	WaitThread(1)

	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	//サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#011e#000m大きな海の前ではまず"
		"ちっぽけな自分を認める必要がある……\p"
		"#012e#080m以前話した通り、"
		"ワシも嬢ちゃんと同じ思いだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mあ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	//サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mワシらに指示してくれる"
		"船長殿はもういない……\p"
		"#011e#000mこれからはワシらだけで"
		"考えて進んでいくしかないワケだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL", "LAXIA")
	Wait(10)

	//選択肢
	//「きっと大丈夫だ
	//　気負わなくていい」
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "きっと大丈夫だ")
	MenuAdd(2, "気負わなくていい")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	//	─────────────────────────
	//⇒きっと大丈夫だ
	if (FLAG[TF_MENU_SELECT] == 1){

		HeadYes("SAHAD", 1, 25)	// キャラ, うなずき回数, 速さ

		//サハド
		TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
			"#011e#000mああ、ワシらだけじゃない……"
			"ドギやエアラン、仲間たちがいる。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
		
		//サハド
		TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
			"#012e船長の穴はみんなで補い合えばいい。"
			"それが仲間ってモンだからな。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	
	//⇒気負わなくていい
	if (FLAG[TF_MENU_SELECT] == 2){

		HeadYes("SAHAD", 1, 25)	// キャラ, うなずき回数, 速さ

		//サハド
		TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
			"#011e#000mああ、横を向きゃ、仲間が……"
			"漂流村のみんながいる。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
		
		//サハド
		TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
			"#012e船長の穴はみんなで補い合えばいい。"
			"それが仲間ってモンだからな。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//	─────────────────────────

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て
	HeadYes("LAXIA", 1, 25)

	//ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#080mええ、そうですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "ADOL")
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// 両手腰手振り
	
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#091e#080mさあ、行くとするか。"
		"ドギが痺れを切らして待ってるぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookTo("SAHAD", -81.079f , -1461.956f , 32.448f)	// 座標：墓

	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#092e#080mワシらは生き抜かねばならん……"
		"船長殿の遺志に報いるためにもな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	//　　全員 バルバロスの墓  に向きなおって画面フェードアウト。

	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , -79.308f , -1460.366f , 32.468f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.359f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.085f , 0 )	// 基本仰角
	RotateCamera( 0 , 157.810f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	SetChrPos("ADOL", -79.77f, -1459.46f, 31.33f)
	Turn("ADOL", -16.92f, 360.0f)
	SetChrPos("LAXIA", -78.95f, -1461.20f, 31.31f)
	Turn("LAXIA", 168.12f, 360.0f)
	SetChrPos("SAHAD", -78.12f, -1459.59f, 31.32f)
	Turn("SAHAD", 65.33f, 360.0f)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -79.308f , -1460.366f , 33.608f , 240 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.839f , 240 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.080f , 240 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 154.657f , 240 )
	LookTo("LAXIA", -81.079f , -1461.956f , 32.448f)	// 座標：墓
	Turn("LAXIA", 93.50f, 5.0f)
	LookTo("ADOL", -81.079f , -1461.956f , 32.448f)	// 座標：墓
	Turn("ADOL", 15.06f, 5.0f)

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	Wait(90)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK, FADE_SLOW)
	WaitFade()

	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M03S060_ED")
}

function "EV_M03S060_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//モンスターを復帰
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	//ResetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)
	//ResetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)
	//ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	//SetFlag(GF_03MP1204_VISIT_GRAVE, 1)			// 墓前でラクシャと話す

	SetFlag(TF_LOADING_TIPS_OFF, 1)	//NowLoading 時の Tips 表示をカット

	LoadArg("map/mp1201/mp1201.arg")
	EventCue("mp1201:EV_M03S070")

	ResetStopFlag(STOPFLAG_EVENT)

	//終了処理ここまで----------------------------------------------------
}




//──────────────────────────────
//▼ジャンダルムへ向かうことになる(mp1201)
//──────────────────────────────
function "EV_M03S070"			 //ジャンダルムへ向かうことになる
{
//開始処理ここから-----------------------------------------------
	
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Dogi")
	LoadChr("Aaron")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	//ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 26.97f, -1423.76f, 10.83f)
	Turn("ADOL", 171.42f,360.0f)
	ChangeAnimation("ADOL","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	LookChr("ADOL","Dogi")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 26.48f, -1420.31f, 10.83f)
	Turn("LAXIA", 14.11f, 360.0f)
	ChangeAnimation("LAXIA","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("LAXIA")
	
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 25.40f, -1421.18f, 10.83f)
	Turn("SAHAD", -53.54f, 360.0f)
	ChangeAnimation("SAHAD","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("SAHAD")
	
	SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI )
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron",30.40f, -1418.29f, 10.83f)
	Turn("Alison",46.50f,360.0f)
	ChangeAnimation("Aaron","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Aaron" , INFOFLAG_INVISIBLE )
	LookReset("Aaron")
	
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 25.78f, -1423.24f, 10.83f)
	Turn("Dogi", -149.93f, 360.0f)
	ChangeAnimation("Dogi","ANI_EV_UDEGUMI", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_CLOSE,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dogi")


	//カメラ設定
//	MoveCameraAt( 0 , 26.159f , -1422.083f , 13.166f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.122f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 1.416f , 0 )	// 基本仰角
//	RotateCamera( 0 , 159.314f , 0 )				// 角度
//	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , 26.159f , -1422.083f , 12.446f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.522f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.416f , 0 )	// 基本仰角
	RotateCamera( 0 , 159.314f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//ポートレート処理

	// チュートリアル
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a43.itp" )	// help_a43：工芸屋
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	
	// 回想ポートレート
	Portrait_Load( 3 , "visual/portrait/p_20013.itp" )
	Portrait_Create(3 , 0 , 0 , 
					0 , 0 , 3840,2160 , 
					0.0f , 0x00ffffff , 0x00000000 )

	Portrait_Anime( 3 , PR_ANIME_SCALE ,0.5 , 0.5 ,-1,-1 ,0 )
	
	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000 ,0.000 ,0.150 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M03S070_ED")
	
//開始処理ここまで-----------------------------------------------

	//　　フェードインして漂流村の集会所。
	//　　時計回りにアドル、ドギ、サハド、ラクシャ。

	LookChr("Dogi", "LAXIA")
	LookChr("SAHAD", "Dogi")
	LookChr("LAXIA", "Dogi")
	
	Wait(10)

//	// カメラ移動
	ExecuteCmd(1000, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.122f  , 55 )

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	Wait(25)
	
	//ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#012e#000m──バルバロスの旦那は船を造って、"
		"セイレン島から脱出しようと考えていた。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("Dogi")
	
	//ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#011e#000mだが、漂流村の全員が乗れる船を"
		"俺たちが造れるかどうか……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	LookChr("SAHAD", "ADOL")

	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#011e#000mどうしても専門的な知識や"
		"設計図が必要になっちまうな。\p"
		"すまんが、ワシは船長殿と違って"
		"船を操るしか能がないぜ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "ADOL")
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	//ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#050e#000mもし船を用意できたとしても、"
		"海にはあの海生古代種が潜んでいます。\p"
		"あれを駆逐できなければ、"
		"カーラン卿の二の舞となるでしょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	//「考えることは多いな……
	//　諦めるわけにはいかない」
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"考えることは多いな……")
	MenuAdd(2,"諦めるわけにはいかない")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	LookReset("ADOL")

	//	─────────────────────────
	//⇒考えることは多いな……
	if (FLAG[TF_MENU_SELECT] == 1){
		
		ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)
		
		LookChr("SAHAD", "ADOL")
		
		//サハド
		TalkPopup("SAHAD",0,2,0,0,0) {
			"#000e#000mおーよ、一体どっから"
			"手を付けたらいいんだ？"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//⇒諦めるわけにはいかない
	if (FLAG[TF_MENU_SELECT] == 2){

		//HeadNo("ADOL", 1 , 35 )
		ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		// うなずきセット
		HeadYes("Dogi" , 1 , 25 )
		Wait(15)
		ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		//ドギ
		TalkPopup("Dogi",0,2,0,0,0) {
			"#000mああ、その通りだ……\p"
			"乗客を無事に帰すって"
			"バルバロスの旦那と約束したしな。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	─────────────────────────	

	// カットX -----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 26.691f , -1422.909f , 12.486f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.882f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.846f , 0 )	// 基本仰角
	RotateCamera( 0 , 14.640f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", 27.54f, -1423.56f, 10.83f)
	Turn("ADOL", 157.21f, 360.0f)
	Turn("Dogi", -128.61f, 360.0f)
	LookChr("Dogi", "LAXIA")

	ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_E", -1, 1 )	// 待機
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目

	MapHide( "fire_alpha" , 0 )		// 焚き火OFF

	// フェード待ち
	Wait(FADE_CROSS)

	//ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000mとにかく今わたくしたちが"
		"共有している知識や情報……\p"
		"これだけですぐ脱出に結びつく"
		"行動はできませんね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	//「さらに情報を集めよう
	//　やれることからやるしかない」
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"さらに情報を集めよう")
	MenuAdd(2,"やれることからやるしかない")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	// うなずきパクパク
	HeadYes("ADOL" , 1 , 25 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)
	
	//	─────────────────────────
	//⇒さらに情報を集めよう
	if (FLAG[TF_MENU_SELECT] == 1){

		ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

		//ラクシャ
		TalkPopup("LAXIA",0,2,0,0,0) {
			"#010e#000mこれまでの探索で見つけた"
			"海賊たちの痕跡や見張り台のメモ……\p"
			"確かにわたくしたちの知らない謎が"
			"まだ島には隠されていそうです。"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("Dogi", "ADOL")
		ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り

		//ドギ
		TalkPopup("Dogi",0,1,0,0,0) {
			"#000e#000mアドルの言う通りかもしれんな。\p"
			"まずは情報を集めるだけ集めて、"
			"突破口を探すしかねえみたいだ。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}

	//⇒やれることからやるしかない
	if (FLAG[TF_MENU_SELECT] == 2){

		LookChr("SAHAD", "LAXIA")
		ChangeAnimation( "SAHAD", "ANI_EV_TEBURI", -1, 1 )	// 手振り

		//サハド
		TalkPopup("SAHAD",0,2,0,0,0) {
			"#000e#000mワシらがやれることと言ったら、"
			"島の地図作りと漂流者の捜索だが……"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookChr("LAXIA", "SAHAD")
		ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て
		
		//ラクシャ
		TalkPopup("LAXIA",0,2,0,0,0) {
			"#010e#000mええ、それでしたら今までも"
			"ずっと続けてきたことですから。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookChr("Dogi", "ADOL")
		ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り
		
		//ドギ
		TalkPopup("Dogi",0,0,0,0,0) {
			"#000e#000mアドルの言う通りかもしれんな。\p"
			"今はやれることを精一杯やりつつ、"
			"突破口を探すしかねえみたいだ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("LAXIA", "ADOL")

	}
	//	─────────────────────────

	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	//ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000m島の南部は探索が進みましたが、"
		"北部については全く手つかずでしたね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("SAHAD")
	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#011e#000mおお、確かにな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "LAXIA")
	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	
	//ドギ
	TalkPopup("Dogi",0,1,0,0,0) {
		"#000e#000m北部へのルートについては以前、"
		"バルバロスの旦那と調べたことがある。\p"
		"どうやら島の中央にある"
		"巨大な山を越えなきゃならんようだ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("LAXIA", "Dogi")
	
	//ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000m島のどこにいても見える、"
		"あの険しい山ですね……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カットX ----------------------------------------------------------------------------------------

	//　　カメラ、PANアップしてジャンダルムを映し出す。

	// クロスフェード
	CrossFade(FADE_NORMAL)

	MoveCameraAt( 0 , 28.523f , -1425.150f , 14.862f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 8.982f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.763f , 0 )	// 基本仰角
	RotateCamera( 0 , 63.464f , 0 )				// 角度
	ChangeCameraPers( 0 , 70.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MapHide( "fire_alpha" , 1 )		// 焚き火ON

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 150.000 ,0.000 ,0.150 ,0.500)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 28.472f , -1425.182f , 29.546f , 160 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 8.982f , 160 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -20.626f , 160 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 7.492f  , 160 )

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	Wait(20)

	// カットX ----------------------------------------------------------------------------------------

	//　　カメラ、アドルたちに戻す。

	// クロスフェード
	CrossFade(FADE_NORMAL)

	// カメラ
	MoveCameraAt( 0 , 26.564f , -1421.499f , 12.462f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.702f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.253f , 0 )	// 基本仰角
	RotateCamera( 0 , 162.006f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000 ,0.000 ,0.150 ,0.500)
	
	// 位置調整・表情・モーション
	SetChrPos("ADOL", 27.00f, -1423.75f, 10.83f)
	Turn("ADOL", 171.42f 360.0f)
	
	LookChr("SAHAD", "Dogi")
	
	// フェード待ち
	Wait(FADE_NORMAL)

	//ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#000e#000mああ、しかも山の麓へ向かうには"
		"大きな峡谷を渡る必要があるんだが……\p"
		"これがまた結構な難所でな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("LAXIA")
	ChangeAnimation( "LAXIA", "ANI_EV_SIAN_S", -1, 1 )	// 思案
	
	//ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000m大きな峡谷……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//　　ラクシャにＰＡエモーション。
	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	Wait(35)
	
	LookChr("LAXIA" , "ADOL" )
	ChangeAnimation( "LAXIA", "ANI_EV_SIAN_E", -1, 1 )	// 思案

	//ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#050e#000mアドル、わたくしたちも"
		"そこへ行ったことがあるのでは？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(20)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　ここで大峡谷のキャプチャ画面をセピアで表示
	Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
	Wait(FADE_NORMAL)

	Wait(35)

	//サハド
	TalkPopup("SAHAD",0,3,300,80,0) {
		"#000e#000m思い出したぜ。"
		"後回しにしたあの場所か……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//ラクシャ
	TalkPopup("LAXIA",0,3,360,230,0) {
		"#000e#000m確かに容易に渡れる"
		"峡谷ではなさそうでしたね……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//ドギ
	TalkPopup("Dogi",0,3,150,70,0) {
		"#000e#000mそうなんだよな、迂回できる"
		"ルートでもあればいいんだが……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カットX ----------------------------------------------------------------------------------------
	
	//　　カメラを再び集会所に戻す。
	
	// カメラ
	MoveCameraAt( 0 , 26.251f , -1421.366f , 12.442f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.622f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.819f , 0 )	// 基本仰角
	RotateCamera( 0 , 5.017f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("LAXIA", 26.55f, -1420.27f, 10.83f)
	Turn("LAXIA", 21.22f, 360.0f)
	SetChrPos("SAHAD", 25.40f, -1421.18f, 10.83f)
	Turn("SAHAD", -71.31f, 360.0f)
	LookReset("SAHAD")
	SetChrPos("ADOL", 27.74f, -1423.52f, 10.83f)
	Turn("ADOL", 157.21f, 360.0f)
	SetChrPos("Dogi", 25.56f, -1423.24f, 10.83f)
	Turn("Dogi", -128.61f, 360.0f)

	LookChr("ADOL" , "Aaron")
	LookChr("Dogi" , "Aaron")

	Wait(15)
	
	// 非表示・再表示
	SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 非表示

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 25.968f , -1421.110f , 12.442f , 70 )

	SetEnvSEPlayState(-1, 1)	//環境SE復帰

	//　　ポートレートを消去。
	Portrait_Anime(3, PR_ANIME_COLOR, 0.0f, 0.0f, 0.0f, 0.0f, FADE_NORMAL)
	Wait(FADE_NORMAL)
	Portrait_Close(3)
	Portrait_Unload(3)


	
	// カメラ待ち
	WaitThread(1000)

	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	LookChr("SAHAD", "LAXIA")

	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mまあ、何にしろ差し当たっての"
		"目的は決まったみたいじゃねーか。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("LAXIA", "SAHAD")
	
	//ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000mええ、何とか峡谷を越えて"
		"山の向こうを目指すということですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	
	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#020e#080mそれにしてもあの山……\p"
		"ガハハ、まるでエラそうに"
		"立ち塞がるエアランみてーだな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	//ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#081e#080mふふ、それではあの山を"
		"“憲兵さん#8Rジャンダルム#R”と呼んではいかがでしょう？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ResetChrInfoFlag( "Aaron" , INFOFLAG_INVISIBLE )
	
	//男の声
	SetName("男の声")
	TalkPopup("Aaron",0,3,400,230,0) {
		"#000e#000mオレがどうかしたかァ？"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SUP,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.218f , -1421.360f , 12.442f, 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.622f , 100 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.678f , 100 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 329.493f , 100 )
	
	//　　エアランがフレームインしてくる。
	ExecuteCmd( 1, MoveTo, "Aaron",28.24f, -1420.29f, 10.83f, 0.1f, 0.16f )
	LookChr("Aaron", "LAXIA")
	
	LookChr("SAHAD", "Aaron")
	Wait(20)
	LookChr("LAXIA", "Aaron")
	Turn("LAXIA", -14.31f, 5.0f)
	Wait(30)
	
	// 移動待ち
	WaitThread(1)
	
	//　　ラクシャにアセアセエモーション表示。
	EmotionEx("LAXIA", 0.05f, EMO_ASE, 0, 7.5, 2, 1, 1.3f )	// 「あせあせ」
	Wait(40)
	
	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#011e#000mあ……い、いえ……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("LAXIA")
	ChangeAnimation( "LAXIA", "ANI_EV_SEKI", -1, 1 )

	//ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000mコホン、何でもありません。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//　　エアランに「？」エモーションを表示。
	EmotionEx("Aaron", 0.00f, EMO_Q, 0, 5, 1, 1, 1.0f )	// 「？」
	Wait(50)
	
	// カットX ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 26.750f , -1422.674f , 12.342f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.641f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.250f , 0 )	// 基本仰角
	RotateCamera( 0 , 358.142f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 非表示・再表示
	ResetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 再表示
	
	// 位置調整・表情・モーション
	SetChrPos("Aaron", 27.86f, -1420.31f, 10.83f)
	Turn("Aaron", 26.38f, 360.0f)
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "Aaron", "ANI_WAIT", -1, 1 )	// 待機

	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	LookChr("Aaron" , "Dogi")
	LookChr("LAXIA" , "Aaron")
	LookChr("SAHAD" , "Aaron")
	
	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	//ドギ
	TalkPopup("Dogi",0,1,0,0,0) {
		"#000e#080mちょうどいいところに来てくれたな。\p"
		"アドル、漂流村が今後"
		"獣に襲撃された時の対応なんだが……\p"
		"もう指示してくれる旦那はいねえ。"
		"ここからは自分たちだけの力が頼りだ。\p"
		"そこで迎撃戦の指揮を、"
		"エアランにも手伝ってもらうつもりだ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Aaron", "ANI_EV_BORI", -1, 1 )	// 頭かき
	
	//エアラン
	TalkPopup("Aaron",0,2,0,0,0) {
		"#000e#000m一応だが“名無し”の"
		"事件#4Rヤマ#Rは片付いたからな……\p"
		"何とか島を出て、仲間の"
		"弔いもしてやらなきゃらならねェ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)
	
	//選択肢
	//「よろしく頼むよ
	//　安心して任せられるな」
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"よろしく頼むよ")
	MenuAdd(2,"安心して任せられるな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)
	
	LookChr("Aaron", "ADOL")
	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	//	─────────────────────────
	//⇒よろしく頼むよ
	if (FLAG[TF_MENU_SELECT] == 1){

		//エアラン
		TalkPopup("Aaron",0,2,0,0,0) {
			"#011e#080mフン、こちらこそだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//⇒安心して任せられるな
	if (FLAG[TF_MENU_SELECT] == 2){

		//エアラン
		TalkPopup("Aaron",0,2,0,0,0) {
			"#011e#080mフン、世辞はいらねェ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	─────────────────────────

	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ドギ
	TalkPopup("Dogi",0,1,0,0,0) {
		"#000e#000mそれと集落の仕事も頼むつもりだ。"
		"意外なことにかなり手先が器用でな……\p"
		"錆び付いた漂着物なんか"
		"綺麗に使えるようにしてくれたぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#070e#000mそ、そうなのですか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Aaron", "LAXIA")

	//	"Aaron"
	TalkPopup("Aaron",0,2,0,0,0) {
		"#000e#000mチッ、なんだその反応は？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#072e#000mい、いえ……人は見かけに"
		"よらないものだと思いまして。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "LAXIA")
	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	//	"Dogi"
	TalkPopup("Dogi",0,1,0,0,0) {
		"#000e#000mちょっとした小物作りなんかを"
		"やってくれるそうだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Aaron")
	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	//	"Aaron"
	TalkPopup("Aaron",0,0,0,0,0) {
		"#011e#000mフン、船長の代わりは無理だが、"
		"出来ることはやらせてもらうぜ。\p"
		"#012e#000mお前たちは安心して"
		"島の探索を続けてくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	HeadYes("LAXIA" , 1 , 25 )
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000mええ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#021e#000mガハハ、任せてくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "ADOL")
	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	//	"Dogi"
	TalkPopup("Dogi",0,0,0,0,0) {
		"#000e#000mそれじゃあ、アドル……"
		"脱出にむけて再出発だ。\p"
		"改めてよろしく頼むぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookSpd("ADOL",0.1f,0.1f,0.1f)

	//　　アドル、頷きモーション
	LookChr("ADOL", "Dogi")
	Wait(20)
	
	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(20)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	
	//　　暗転
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル

	//	システムメッセージ
	TalkPopup(UNDEF,0,5,0,0,0) {
		"#8S"
		"#-1W#4Cエアランが工芸屋を始めた！#10W" 
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()
	
	// システムメッセージ
	TalkPopup(UNDEF, 0, 5, 0, 0, 0) {
		"#-1W#8C腕防具作成#4Cと#8Cアクセサリ作成#4C、"
		"#-1W#8Cアイテム分解#4Cができるようになった！#10W"	//（「腕防具作成」「アクセサリ作成」「アイテム分解」を強調色に）
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		Portrait_Close(1)
		Portrait_Close(2)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		Portrait_Close(0)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================

	
//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M03S070_ED")
}

function "EV_M03S070_ED"
{
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//自動送り許可
	SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Dogi")
	CallFunc("system:reset_chrmot_Aaron")
	
	//フラグ処理
	SetFlag( GF_03MP1204_VISIT_GRAVE, 1)			// 墓前でラクシャと話す
	SetFlag( GF_03MP1201_GOTO_GENSD , 1 )			// ジャンダルムへ向かうことになる
	//SetFlag( SF_MISSIONNO, MS_03_03 )	//★冒険メモ：ジャンダルムを探索しよう。
	SetFlag( GF_HELP_A43, 1 )	// チュートリアル：工芸屋
	//SetDiaryCharaFlag( DRCHA_AARON, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（エアラン）

	SetDiaryShopFlag(SHOP_ID_ACCESSORY,1)			// "エアランの工芸屋"
	SetDiaryShopFlag(SHOP_ID_ACCESSORY_SELL,1)		// "工芸屋・分解"

	//NPC復帰
	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init" )											//NPCをREMOVEしている場合に実行
	
	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//イベント後の再配置位置
	SetChrPos("LEADER",35.06f,-1416.27f,10.83f)
	Turn("LEADER",52.52f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用
	
	//カメラ位置復帰or初期位置設定
	MoveCameraAt( 0 , 35.061f , -1416.271f , 12.675f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.753f , 0 )	// 基本仰角
	RotateCamera( 0 , 127.482f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetEnvSEPlayState(-1, 1)	//環境SE復帰

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

function "EV_M03S170" 			//リコッタが初めて漂流村へやって来る
{
//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)

	FadeOut(FADE_BLACK,0)
	WaitFade()

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//環境初期化＆不要なものを隠す
	ClearDebris()
	ResetMotion( "PARTYALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")

	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//焚き火表示
	MapHide( "fire_alpha" , 1 )

	//キャラクター初期化
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",44.42f,-1411.52f,10.71f)
	Turn("ADOL",56.88f,360.0f)
	ChangeAnimation("ADOL","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	SetChrInfoFlag( "ADOL" , INFOFLAG_INVISIBLE )

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",44.14f,-1410.61f,10.76f)
	Turn("LAXIA",65.55f,360.0f)
	ChangeAnimation("ADOL","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("LAXIA")
	SetChrInfoFlag( "LAXIA" , INFOFLAG_INVISIBLE )
	
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",45.69f,-1411.76f,10.79f)
	Turn("SAHAD",54.22f,360.0f)
	ChangeAnimation("SAHAD","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	SetChrInfoFlag( "SAHAD" , INFOFLAG_INVISIBLE )

	SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI )
	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA",39.93f	,-1414.15f	,10.82f )
	Turn("Ricotta",48.26f,360.0f)
	ChangeAnimation("RICOTTA","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_SUP,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_SUP,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")

	//BGM設定
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , 39.565f , -1414.417f , 11.131f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.082f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.186f , 0 )	// 基本仰角
	RotateCamera( 0 , 303.323f , 0 )				// 角度
	ChangeCameraPers( 0 , 39.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	SetShadowOffset(-10000)

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 160.000 ,0.000 ,0.150 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M03S170_ED")
	
//開始処理ここまで-----------------------------------------------

//　　漂流村に入ったところでイベント開始。
//　　走って入ってきてキョロキョロするリコッタ。
//　　後からアドル、ラクシャ、サハドが歩いてくる。

	Wait(30)

	ExecuteCmd( 1, MoveTo, "RICOTTA",38.08f	,-1415.37f,	10.83f, 0.1f, 0.40f )
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 37.753f , -1415.608f , 11.131f , 35 )		// 注視点
	
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
	WaitThread(1)
	WaitThread(1000)

	Wait(20)

	ExecuteCmd( 1001,MoveCameraAt, INTERPOLATE_SPHERE , 38.209f , -1415.311f , 12.158f  , 70 )	// 注視点
	ExecuteCmd( 1002,ChangeCameraDistance, INTERPOLATE_SPHERE , 1.702f ,  70 )				// 基本距離
	ExecuteCmd( 1003,ChangeCameraElevation, INTERPOLATE_SPHERE , -10.250f ,  70 )				// 基本仰角
	ExecuteCmd( 1004,RotateCamera, INTERPOLATE_SPHERE , 279.422f ,  70 )				// 角度
//	ExecuteCmd( 1005,RollCamera, INTERPOLATE_SPHERE , 6.7f , 4000 )				// ロール回転

//終点カメラ
//	MoveCameraAt( 0 , 38.209f , -1415.311f , 12.098f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 1.222f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -11.969f , 0 )	// 基本仰角
//	RotateCamera( 0 , 282.569f , 0 )				// 角度
//	ChangeCameraPers( 0 , 39.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(55)

//	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
//	Wait(10)

	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	TalkPopup("RICOTTA",0,2,0,0,0) {
		"#0L…………………………"	//（驚き）
	}
	WaitPrompt()
	WaitCloseWindow()
//	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	Wait(10)

	CrossFade(FADE_FAST)
	LookChr("ADOL" , "RICOTTA" )
	LookChr("LAXIA" , "RICOTTA" )
	LookChr("SAHAD" , "RICOTTA" )

	MoveCameraAt( 0 , 37.867f , -1414.986f , 11.750f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.923f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -11.714f , 0 )	// 基本仰角
	RotateCamera( 0 , 132.020f , 0 )				// 角度
	ChangeCameraPers( 0 , 47.001f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転


	ResetChrInfoFlag( "ADOL" , INFOFLAG_INVISIBLE )
	ResetChrInfoFlag( "LAXIA" , INFOFLAG_INVISIBLE )
	ResetChrInfoFlag( "SAHAD" , INFOFLAG_INVISIBLE )

	Wait(10)

	ExecuteCmd( 1, MoveTo, "ADOL",40.67f,-1414.15f,10.81f, 0.1f, 0.195f )
	Wait(4)
	ExecuteCmd( 2, MoveTo, "LAXIA",39.86f	,-1413.05f,	10.77f	, 0.1f, 0.185f )
	Wait(3)
	ExecuteCmd( 3, MoveTo, "SAHAD",41.67f,-1414.92f,10.74f, 0.1f, 0.178f )

	Wait(13)

	ExecuteCmd( 1001,MoveCameraAt, INTERPOLATE_SPHERE , 39.272f , -1416.058f , 12.122f , 90 )	// 注視点
	ExecuteCmd( 1002,ChangeCameraDistance, INTERPOLATE_SPHERE , 5.973f ,  90 )				// 基本距離
	ExecuteCmd( 1003,ChangeCameraElevation, INTERPOLATE_SPHERE , -5.632f ,  90 )				// 基本仰角
	ExecuteCmd( 1004,RotateCamera, INTERPOLATE_SPHERE , 142.799f ,  90 )				// 角度
//	ExecuteCmd( 1005,RollCamera, INTERPOLATE_SPHERE , 6.7f , 4000 )				// ロール回転

//終点カメラ
//	MoveCameraAt( 0 , 39.272f , -1416.058f , 12.122f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 5.973f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -5.632f , 0 )	// 基本仰角
//	RotateCamera( 0 , 142.799f , 0 )				// 角度
//	ChangeCameraPers( 0 , 47.001f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転


	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	
//リコッタ
//	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
//	Wait(10)

	HeadNo("RICOTTA" , 1 , 35)

	TalkPopup("RICOTTA",0,2,0,0,0) {
		"ここ、オマエたちの村か？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	WaitThread(3)
	
//サハド
	ChangeAnimation( "SAHAD" , "ANI_EV_UDEGUMI_S" -1 , 1 )
	PlayVoice(Y8V_1411,"SAHAD",100)	//ガハハ（控えめな笑い）
	
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#080e#080mガハハ、驚いたみてーだな。"
	}
	WaitPrompt()
	WaitCloseWindow()

//	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)

	CrossFade(FADE_NORMAL)
	SetChrPos("SAHAD",37.61f,-1415.59f,10.83f)
	Turn("SAHAD",55.36f,360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT" -1 , 1 )

	SetChrPos("RICOTTA",34.64f,-1416.63f,10.83f)
	Turn("RICOTTA",50.36f,360.0f)
	Look("RICOTTA" , 0 , 15)
	
	MoveCameraAt( 0 , 33.943f , -1415.924f , 12.203f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.701f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -13.461f , 0 )	// 基本仰角
	RotateCamera( 0 , 97.363f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ExecuteCmd( 1001,MoveCameraAt, INTERPOLATE_SPHERE , 34.416f , -1416.512f , 12.203f  , 90 )	// 注視点
//	ExecuteCmd( 1002,ChangeCameraDistance, INTERPOLATE_SPHERE , 5.889f ,  90 )				// 基本距離
//	ExecuteCmd( 1003,ChangeCameraElevation, INTERPOLATE_SPHERE , 11.564f ,  90 )				// 基本仰角
	ExecuteCmd( 1004,RotateCamera, INTERPOLATE_SPHERE , 128.778f ,  90)				// 角度
//	ExecuteCmd( 1005,RollCamera, INTERPOLATE_SPHERE , 6.7f , 4000 )				// ロール回転

//	MoveCameraAt( 0 , 34.416f , -1416.512f , 12.203f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 0.701f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -13.462f , 0 )	// 基本仰角
//	RotateCamera( 0 , 128.778f , 0 )				// 角度
//	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	WaitThread(1001)
	WaitThread(1004)

	Wait(10)

	LookSpd( "RICOTTA", 0.07f, 0.07f, 0.07f )// ゆっくりめに首向き
	Look("RICOTTA" , 0 , 35)

	ExecuteCmd( 1001,MoveCameraAt, INTERPOLATE_SPHERE , 34.416f , -1416.512f , 12.898f  , 55 )	// 注視点
//	ExecuteCmd( 1002,ChangeCameraDistance, INTERPOLATE_SPHERE , 5.889f ,  110 )				// 基本距離
	ExecuteCmd( 1003,ChangeCameraElevation, INTERPOLATE_SPHERE , -35.110f,  55 )				// 基本仰角
//	ExecuteCmd( 1004,RotateCamera, INTERPOLATE_SPHERE , 128.778f ,  110 )				// 角度
//	ExecuteCmd( 1005,RollCamera, INTERPOLATE_SPHERE , 6.7f , 4000 )				// ロール回転

//	MoveCameraAt( 0 , 34.416f , -1416.512f , 12.898f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 0.701f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -35.110f , 0 )	// 基本仰角
//	RotateCamera( 0 , 128.797f , 0 )				// 角度
//	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	

	WaitThread(1001)
	WaitThread(1003)

	Wait(25)

	CrossFade(FADE_FAST)

	LookSpd( "RICOTTA", 1.0f, 1.0f, 1.0f )
	Turn("RICOTTA",39.18f,360.0f)

	ChangeAnimation( "LAXIA", "ANI_EV_WAIT2", -1, 1 )
		
	MoveCameraAt( 0 , 36.679f , -1414.799f , 11.707f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.889f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.550f , 0 )	// 基本仰角
	RotateCamera( 0 , 333.753f , 0 )				// 角度
	ChangeCameraPers( 0 , 31.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 2.5f , 0 )				// ロール回転

	ExecuteCmd( 3, MoveTo, "SAHAD",35.60f,-1417.12f,10.83f, 0.1f, 0.18f )

	Wait(FADE_FAST)

	Wait(10)

	ExecuteCmd( 1001,MoveCameraAt, INTERPOLATE_SPHERE , 35.134f , -1414.303f , 11.707f  , 90 )	// 注視点
	ExecuteCmd( 1002,ChangeCameraDistance, INTERPOLATE_SPHERE , 5.889f ,  90 )				// 基本距離
	ExecuteCmd( 1003,ChangeCameraElevation, INTERPOLATE_SPHERE , 11.564f ,  90 )				// 基本仰角
	ExecuteCmd( 1004,RotateCamera, INTERPOLATE_SPHERE , 358.876f ,  90 )				// 角度
//	ExecuteCmd( 1005,RollCamera, INTERPOLATE_SPHERE , 6.7f , 4000 )				// ロール回転

//終点カメラ
//	MoveCameraAt( 0 , 35.134f , -1414.303f , 11.707f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 5.889f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 11.564f , 0 )	// 基本仰角
//	RotateCamera( 0 , 358.876f , 0 )				// 角度
//	ChangeCameraPers( 0 , 31.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 2.5f , 0 )				// ロール回転


	Wait(50)

//リコッタ

//	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
//	Wait(10)

	LookSpd( "RICOTTA", 0.10f, 0.10f, 0.10f )// ゆっくりめに首向き
	LookChr("RICOTTA" , "SAHAD" )
	ChangeAnimation( "RICOTTA", "ANI_EV_YUBISASI_S", -1, 1 )
	
	TalkPopup("RICOTTA",0,2,0,0,0) {
		"#020l#080e#020mサハド、アレ何だ？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
//サハド

	WaitThread(3)
//	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_SMILE_S,1)

	ChangeAnimation( "SAHAD" , "ANI_EV_TEBURI" -1 , 1 )

	TalkPopup("SAHAD",0,1,360,160,0) {
		"お？　ありゃあ見張り台といってな……"
		"船や獣が来ないか見張る場所だ。"
	}
	WaitPrompt()
	WaitCloseWindow()

//	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
//	Wait(15)

//　　今度は集会所のほうを見やるリコッタ。

	CrossFade(FADE_FAST)

	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	LookReset( "SAHAD" )
	LookReset( "RICOTTA" )
	ChangeAnimation( "RICOTTA" , "ANI_WAIT" -1 , 1 )
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)

	SetChrPos("ADOL",37.25f,-1417.65f,10.83f)
	Turn("ADOL",54.90f,360.0f)

	SetChrPos("SAHAD",33.51f,-1416.52f,10.83f)
	Turn("SAHAD",43.00f,360.0f)

	MoveCameraAt( 0 , 26.703f , -1421.797f , 11.220f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.359f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 15.814f , 0 )	// 基本仰角
	RotateCamera( 0 , 135.055f , 0 )				// 角度
	ChangeCameraPers( 0 , 49.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(FADE_FAST)

	Wait(10)

	ExecuteCmd( 1001,MoveCameraAt, INTERPOLATE_SPHERE , 27.239f , -1422.741f , 11.741f  , 110 )	// 注視点
	ExecuteCmd( 1002,ChangeCameraDistance, INTERPOLATE_SPHERE , 5.540f ,  110 )				// 基本距離
	ExecuteCmd( 1003,ChangeCameraElevation, INTERPOLATE_SPHERE , 2.075f ,  110 )				// 基本仰角
	ExecuteCmd( 1004,RotateCamera, INTERPOLATE_SPHERE , 135.069f ,  110 )				// 角度
//	ExecuteCmd( 1005,RollCamera, INTERPOLATE_SPHERE , 6.7f , 4000 )				// ロール回転

//終点カメラ
//	MoveCameraAt( 0 , 27.239f , -1422.741f , 11.741f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 5.540f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 2.075f , 0 )	// 基本仰角
//	RotateCamera( 0 , 135.069f , 0 )				// 角度
//	ChangeCameraPers( 0 , 49.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(25)
	ExecuteCmd( 1, MoveTo, "RICOTTA",30.30f,-1420.56f,10.83f, 0.1f, 0.45f )

	WaitThread(1)
	Turn("RICOTTA",61.13f,10.0f)

	Wait(15)

	ChangeAnimation( "RICOTTA" , "ANI_EV_SIAN_S", -1 , 1 )

	Wait(35)
	
	CrossFade(FADE_CROSS)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)	
	
//	SetChrPos("SAHAD",30.54f	,-1419.35f	,10.83f)
//	Turn("SAHAD",43.0f,360.0f)
//	SetChrPos("RICOTTA",30.30f,-1420.56f,10.83f)
//	Turn("RICOTTA",61.13f,360.0f)

	MoveCameraAt( 0 , 30.715f , -1419.505f , 12.261f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.640f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -6.541f , 0 )	// 基本仰角
	RotateCamera( 0 , 272.488f , 0 )				// 角度
	ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.7f , 0 )				// ロール回転

	ExecuteCmd( 3, MoveTo, "SAHAD",30.54f,-1419.35f,10.83f, 0.1f, 0.21f )

	Wait(FADE_CROSS)

	Wait(10)

	ExecuteCmd( 1001,MoveCameraAt, INTERPOLATE_SPHERE , 31.412f , -1419.897f , 12.261f  , 100 )	// 注視点
//	ExecuteCmd( 1002,ChangeCameraDistance, INTERPOLATE_SPHERE , 5.540f ,  100 )				// 基本距離
//	ExecuteCmd( 1003,ChangeCameraElevation, INTERPOLATE_SPHERE , 2.075f ,  100 )				// 基本仰角
//	ExecuteCmd( 1004,RotateCamera, INTERPOLATE_SPHERE , 135.069f ,  100 )				// 角度
//	ExecuteCmd( 1005,RollCamera, INTERPOLATE_SPHERE , 6.7f , 4000 )				// ロール回転

//終点カメラ
//	MoveCameraAt( 0 , 31.412f , -1419.897f , 12.261f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.640f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -6.541f , 0 )	// 基本仰角
//	RotateCamera( 0 , 272.488f , 0 )				// 角度
//	ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -0.7f , 0 )				// ロール回転

	WaitThread(3)

	Wait(10)

//	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
//	Wait(10)
	Look("RICOTTA" , 30 , 5 )
	TalkPopup("RICOTTA",0,2,0,0,0) {
		"#010l#130e#000m火燃えてる……この場所、何だ？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	
//サハド

	Look("SAHAD" ,-10  , -5 )
	ChangeAnimation( "SAHAD", "ANI_EV_TEBURI", -1, 1 )
	ChangeAnimation( "RICOTTA" , "ANI_EV_SIAN_E", -1 , 1 )
	
	TalkPopup("SAHAD",0,1,80,160,0) {
		"#020l#080e#080mそこは集会所になっている。"
		"人が集まって話し合いをする場所だ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_FUMAN_E,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_SMILE_S,1)

	WaitAnimation2( "SAHAD" ,-1 ,-1 ,ANI_WAIT ,1 )
	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )
	LookReset("SAHAD")

	ExecuteCmd( 1001,MoveCameraAt, INTERPOLATE_SPHERE , 31.402f , -1419.847f , 12.360f , 90 )	// 注視点
	ExecuteCmd( 1002,ChangeCameraDistance, INTERPOLATE_SPHERE , 4.350f ,  90 )				// 基本距離
	ExecuteCmd( 1003,ChangeCameraElevation, INTERPOLATE_SPHERE , -9.098f ,  90 )				// 基本仰角
	ExecuteCmd( 1004,RotateCamera, INTERPOLATE_SPHERE , 281.696f ,  90 )				// 角度
//	ExecuteCmd( 1005,RollCamera, INTERPOLATE_SPHERE , 6.7f , 4000 )				// ロール回転

//終点カメラ
//	MoveCameraAt( 0 , 31.402f , -1419.847f , 12.360f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.350f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -9.098f , 0 )	// 基本仰角
//	RotateCamera( 0 , 281.696f , 0 )				// 角度
//	ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -0.7f , 0 )				// ロール回転

	TalkPopup("SAHAD",0,1,80,160,0) {
		"#000l#091e#080m言っておくが、大陸の街に行くと"
		"人も建物もこんなモンじゃねーぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()

//リコッタ
	ChangeAnimation( "RICOTTA" , "ANI_EV_GUTSPOSE_S", -1 , 1 )
	
	TalkPopup("RICOTTA",0,2,0,0,0) {
		"#020e#080m街……知ってる、本読んだ！"
	}
	WaitPrompt()
	WaitCloseWindow()
	

//サハド

	Look("SAHAD" , 0 , 10)
	
	TalkPopup("SAHAD",0,1,80,160,0) {
		"#020e#080mガハハ、かく言うワシも"
		"あまり大きな街に行くことはないがな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	
//	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE_S,1)

	CrossFade(FADE_FAST)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)

	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeAnimation( "RICOTTA" , "ANI_EV_GUTSPOSE_E", -1 , 1 )
	LookChr("RICOTTA" , "SAHAD")
	
	MoveCameraAt( 0 , 31.794f , -1421.459f , 11.939f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.361f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.881f , 0 )	// 基本仰角
	RotateCamera( 0 , 224.310f , 0 )				// 角度
	ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.0f , 0 )				// ロール回転

	Wait(FADE_FAST)

	Wait(10)

	WaitAnimation2( "RICOTTA" , -1, 1, "ANI_EV_GUTSPOSE_E",  0)
	Turn("RICOTTA",109.85f,7.0f)

//	ExecuteCmd( 1001,MoveCameraAt, INTERPOLATE_SPHERE , 32.078f , -1421.161f , 12.013f  , 110 )	// 注視点
	ExecuteCmd( 1002,ChangeCameraDistance, INTERPOLATE_SPHERE , 4.841f  ,  90 )				// 基本距離
//	ExecuteCmd( 1003,ChangeCameraElevation, INTERPOLATE_SPHERE , 11.564f ,  110 )				// 基本仰角
//	ExecuteCmd( 1004,RotateCamera, INTERPOLATE_SPHERE , 358.876f ,  110 )				// 角度
//	ExecuteCmd( 1005,RollCamera, INTERPOLATE_SPHERE , 6.7f , 4000 )				// ロール回転

//終点カメラ
//	MoveCameraAt( 0 , 31.794f , -1421.459f , 11.939f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.841f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 8.882f , 0 )	// 基本仰角
//	RotateCamera( 0 , 224.314f , 0 )				// 角度
//	ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -1.0f , 0 )				// ロール回転

	Wait(17)

	ChangeAnimation( "RICOTTA" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	Wait(20)
//	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
//	Wait(10)
	
	TalkPopup("RICOTTA",0,2,0,0,0) {
		"#171e#020mガハハ！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
//	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し


//	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_SMILE_S,1)

	WaitThread(1002)

	Wait(30)

//　　ラクシャ、アドルに話しかける。

	CrossFade(FADE_NORMAL)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)

	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_LAUGH,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_SMILE,1)


	SetChrPos("LAXIA",36.09f,-1416.07f,10.83f)
	Turn("LAXIA",41.77f,360.0f)
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )
			
	SetChrPos("ADOL",36.78f,-1416.93f,10.83f)
	Turn("ADOL",73.89f,360.0f)

	MoveCameraAt( 0 , 31.271f , -1419.443f , 12.313f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.120f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.010f , 0 )	// 基本仰角
	RotateCamera( 0 , 120.079f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.4f , 0 )				// ロール回転

	Wait(FADE_NORMAL)

	Wait(20)

	ExecuteCmd(1000, ChangeCameraDistance, INTERPOLATE_SPHERE , 7.360f  , 170 )		// 注視点


//終点カメラ	
//	MoveCameraAt( 0 , 31.271f , -1419.443f , 12.313f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 7.360f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -1.009f , 0 )	// 基本仰角
//	RotateCamera( 0 , 120.072f , 0 )				// 角度
//	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -1.4f , 0 )				// ロール回転

	Wait(20)

	EmotionEx("RICOTTA", 0.00f, EMO_ONPU, 0, 5, 1, 1, 1.2f )	// 「♪」
	Wait(45)
	EmotionEx("SAHAD", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.2f )	// 「ワイワイ」
	Wait(40)
	EmotionEx("RICOTTA", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.2f )	// 「ワイワイ」


	WaitThread(1000)
//	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
//	Wait(10)

	ChangeAnimation( "LAXIA", "ANI_EV_WAIT2_S", -1, 1 )
	
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mああ見えて、サハドは"
		"意外に面倒見がいいのですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("LAXIA" , -35 , 0)

	TalkPopup("LAXIA",0,1,0,0,0) {
		"#010l#080e#080mまるで親子みたいです……"
		"さすがと言うべきなのでしょうか。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
//	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景

	Wait(15)

	CrossFade(FADE_CROSS)
//	Turn("ADOL",55.65f,360.0f)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)

//	MoveCameraAt( 0 , 36.619f , -1415.464f , 12.189f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.208f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 2.782f , 0 )	// 基本仰角
//	RotateCamera( 0 , 351.868f , 0 )				// 角度
//	ChangeCameraPers( 0 , 23.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 2.2f , 0 )				// ロール回転

	MoveCameraAt( 0 , 36.464f , -1415.457f , 12.189f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.078f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.782f , 0 )	// 基本仰角
	RotateCamera( 0 , 0.384f , 0 )				// 角度
	ChangeCameraPers( 0 , 23.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 2.2f , 0 )				// ロール回転

	Wait(15)

//選択肢
//「ああ、父親らしく見えるな
//　自分と父親を思い出すかい？」
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ああ、父親らしく見えるな")
	MenuAdd(2,"自分と父親を思い出すかい？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

//	─────────────────────────
	//⇒ああ、父親らしく見えるな
	if (FLAG[TF_MENU_SELECT] == 1){
		
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)

		Wait(10)
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
		HeadYes("ADOL" , 1 , 25 )
		Wait(20)
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)
			
		//ラクシャ
		Wait(5)
//		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
//		Wait(10)

		LookSpd("LAXIA" , 0.08f , 0.08f , 0.08f )
		LookReset("LAXIA")

		TalkPopup("LAXIA",0,2,0,0,0) {
			"#000l#011e#000m#0L……………………………………"
		}
		WaitPrompt()
		WaitCloseWindow()

		Wait(30)

//		ChangeAnimation( "LAXIA" , "ANI_EV_WAIT2_E", -1 , 1 )
//		WaitAnimation2( "Barbaross" , -1, 1, "ANI_EV_WAIT2_E",  0)
//		Wait(20)

		ChangeSubAnimation("LAXIA",SUBMOT_EXT2,ANI_C_RED_S,1)		//頬：赤
//		ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_S", -1 , 1 )
		LookSpd("LAXIA" , 0.1f , 0.1f , 0.10f )
		Look("LAXIA" , -35 , 0)
		
		TalkPopup("LAXIA",0,2,0,0,0) {
			"#060e#000mさ、さて、リコッタちゃんを案内がてら"
			"カトリーンさんの#062e#010l鍛冶場へ向かいましょう。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//⇒自分と父親を思い出すかい？
	else if (FLAG[TF_MENU_SELECT] == 2){

		ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKR_S,1)

		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(10)

		ChangeAnimation( "ADOL" , "ANI_EV_TEBURI_L", -1 , 1 )
		Wait(30)

		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		Wait(5)

//		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
//		Wait(10)

		//ラクシャ
		ChangeSubAnimation("LAXIA",SUBMOT_EXT2,ANI_C_RED_S,1)		//頬：赤
		HeadNo("LAXIA" , 1, 35)
		ChangeAnimation( "LAXIA" , "ANI_EV_WAIT2_E", -1 , 1 )

		LookReset("LAXIA")

		TalkPopup("LAXIA",0,2,0,0,0) {
			"#000l#140e#000mな、何を……"
			"わたくしの父はもっと……"
		}
		WaitPrompt()
		WaitCloseWindow()

		Wait(15)

		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_LAUGH_S,1)
		ChangeAnimation( "ADOL" , "ANI_EV_SEKI", -1 , 1 )

		Wait(50)

//		　　ラクシャにＰＡエモーション
		EmotionEx("LAXIA", 0.015f,38,38,5,1,1,1.0f)	// パッ
		ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_FUMAN_CLOSE_E,1)
		ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKL_S,1)
		Look("LAXIA" ,-20, 0 )

		Wait(30)

		ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_S", -1 , 1 )

		TalkPopup("LAXIA",0,2,0,0,0) {
			"#000mな、何をニヤニヤと締まりのない"
			"顔をなさっているのです？"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookReset("LAXIA")
		
		TalkPopup("LAXIA",0,2,0,0,0) {
			"#141e#000mさっさとカトリーンさんの"
			"鍛冶場へ向かうといたしましょう。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
//	─────────────────────────

//	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
//	Wait(10)

	Wait(20)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//　　操作許可。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M03S170_ED")
}

function "EV_M03S170_ED"
{
	SetSkipScript("")												//終了処理はスキップ禁止

	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_RICOTTA")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	SetShadowOffset(0)

	MapHide( "fire_alpha" , 0 )

/*
	//フラグ処理
	//SetFlag( GF_03MP1201_VISIT_RICOTTA , 1 )			// リコッタが初めて漂流村へやって来る	※フリー許可しな事になった

	//アドルお一人様制御
	//SetFlag( GF_PARTY_NONE , 1)		//パーティ全員行動
	//FixPlayerChr(PARTY_NONE)	// アドルおひとり様モードOFF

	CallFunc("mp1201:init")

	//イベント後の再配置位置
	SetChrPos("PLAYER1",38.14f,-1415.33f,10.83f)
	Turn("PLAYER1",56.23f,360.0f)

	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰or初期位置設定
	MoveCameraAt( 0 , 38.140f , -1415.330f , 12.690f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 121.361f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	CallFunc("system:camera_reset")
	ResetStopFlag(STOPFLAG_EVENTIMPOSE)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
*/

	EventCue("mp1201:EV_M03S180")
	ResetStopFlag(STOPFLAG_EVENT)


//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼カトリーンに相談する(mp1201)
//──────────────────────────────
function "EV_M03S180"			 //カトリーンに相談する
{
//開始処理ここから-----------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Katrin")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 2.18f, -1418.72f, 16.55f)
	Turn("ADOL", 105.19f, 360.0f)
	ChangeAnimation("ADOL","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 2.30f, -1420.62f, 16.55f)
	Turn("LAXIA", 129.72f, 360.0f)
	ChangeAnimation("LAXIA","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("LAXIA")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 3.37f, -1417.46f, 16.55f)
	Turn("SAHAD", 94.89f, 360.0f)
	ChangeAnimation("SAHAD","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("SAHAD")

	SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI )
	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", 2.92f, -1418.23f, 16.55f)
	Turn("RICOTTA", 96.17f, 360.0f)
	ChangeAnimation("RICOTTA","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("RICOTTA")
	
	SetChrInfoFlag( "Katrin" , INFOFLAG_NOCHRATARI )
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Katrin", -2.69f, -1417.38f, 16.55f)
	Turn("Katrin", 90.80f, 360.0f)
	ChangeAnimation("Katrin","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Katrin")

	//手投げ矢
	SetChrPos("eq4004", -3.34f, -1417.44f, 16.55f)
	SetChrInfoFlag("eq4004", INFOFLAG_INVISIBLE)
	
	// エフェクトロード
	LoadEffect("efx_ev03.ite")

	//ポートレート処理
	Portrait_Load(   1 , "visual/portrait/p_20000.itp" )
	Portrait_Create(1 , 0 , 0 , 
					0 , 0 , 3840,2160 , 
					0.0f , 0x00ffffff , 0x00000000 )

	Portrait_Anime( 1 , PR_ANIME_SCALE ,0.5 , 0.5 ,-1,-1 ,0 )

	//BGM設定
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , 1.172f , -1419.912f , 18.640f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.792f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.369f , 0 )	// 基本仰角
	RotateCamera( 0 , 26.862f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	
	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000, 0.000, 0.150, 0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M03S180_ED")
	
//開始処理ここまで-----------------------------------------------

	//　　漂流村の鍛冶場にいるカトリーンのところへ
	//　　歩いてフレームインしてくるアドルたち。
	//　　カトリーン、PAエモーション出しつつ振り向く。

	// カットX ------------------------------------------------------------------------------------------

	LookChr("ADOL", "Katrin")
	LookChr("LAXIA", "Katrin")
	LookChr("SAHAD", "Katrin")
	LookChr("RICOTTA", "Katrin")

	// 移動
	ExecuteCmd(1, MoveTo, "ADOL", -0.87f, -1417.93f, 16.55f, 0.1f, 0.175f)
	Wait(3)
	ExecuteCmd(2, MoveTo, "LAXIA", -0.55f, -1419.19f, 16.55f, 0.1f, 0.175f)
	Wait(3)
	ExecuteCmd(3, MoveTo, "RICOTTA", -0.20f, -1417.41f, 16.55f, 0.1f, 0.175f)
	Wait(3)
	ExecuteCmd(4, MoveTo, "SAHAD", 0.47f, -1416.69f, 16.55f, 0.1f, 0.175f)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -1.067f , -1418.193f , 18.144f , 90 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.792f , 90 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.369f , 90 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 53.789f , 90 )

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	Wait(FADE_NORMAL)

	EmotionEx("Katrin", 0.025f, EMO_PA, 0, 5, 1, 1, 1.5f )	// 「PA」
	Wait(10)

	LookChr("Katrin", "ADOL")
	TurnToChr("Katrin", "ADOL", 7.0f)
	Wait(20)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	ChangeAnimation( "Katrin", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"#000e#000mあら、アドル。"
		"難しい顔してどうしたのかしら？"
	}
	WaitPrompt()
	WaitCloseWindow()

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	// テキスト
	TalkPopup("UNDEF",0,3,STOPPER_PPOSX,STOPPER_PPOSY,0) {
		"#7Cアドルはリコッタの持っていた"
		"#7C手投げ矢を見せて経緯を説明した。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(20)
	
	// カットX -----------------------------------------------------------------------------------------
	
	//　　手投げ矢を手に取り、しげしげと眺めるカトリーン。

	SetChrPos("ADOL", -1.22f, -1417.88f, 16.55f)
	Turn("ADOL", 90.98f, 360.0f)
	SetChrPos("LAXIA", -1.98f, -1418.61f, 16.55f)
	Turn("LAXIA", 149.83f, 360.0f)
	SetChrPos("RICOTTA", -1.11f, -1417.10f, 16.55f)
	Turn("RICOTTA", 78.40f, 360.0f)
	SetChrPos("SAHAD", -0.85f, -1416.27f, 16.55f)
	Turn("SAHAD", 65.80f, 360.0f)
	ChangeAnimation("Katrin", "ANI_EV_TEWATASI", 0, 1)
	Look("Katrin", 20.0f, -30.0f)	// ←↓（＾＾）

	//手投げ矢
	ResetChrInfoFlag("eq4004", INFOFLAG_INVISIBLE)
	SetParent("eq4004", "Katrin", "Bone_Rfin_E02")
	ChangeAnimation("eq4004", "ANI_WAIT_C106", 0, 1)//手からずれてたので追加しました(160427大草)

//	MoveCameraAt(0, -3.332f, -1417.732f, 17.679f, 0)	// 注視点
//	ChangeCameraDistance(0, 1.852f, 0)		// 基本距離
//	ChangeCameraElevation(0, 16.355f, 0)	// 基本仰角
//	RotateCamera(0, 112.455f, 0)				// 角度
//	ChangeCameraPers(0, 51.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 2.5f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	MoveCameraAt( 0 , -2.236f , -1417.690f , 17.907f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.192f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.475f , 0 )	// 基本仰角
	RotateCamera( 0 , 47.249f , 0 )				// 角度
	ChangeCameraPers( 0 , 51.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 2.5f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"#000e#000mなるほど、これが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	//ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000m何の金属か分かりますか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"#010e#000mふむ…………"
	}
	WaitPrompt()
	WaitCloseWindow()
	Wait(10)
	
	// カットX ----------------------------------------------------------------------------------------
	
	//　　画面切り替えて、金床に乗せられた手投げ矢。
	//　　カトリーンはおもむろに鍛冶用の槌を手に取る。
	
	CrossFade(FADE_SLOW)

	// カメラ
	MoveCameraAt( 0 , -3.817f , -1420.506f , 17.551f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.952f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.682f , 0 )	// 基本仰角
	RotateCamera( 0 , 80.633f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 2.5f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -2.37f, -1421.30f, 16.55f)
	Turn("ADOL", 101.64f, 360.0f)
	SetChrPos("LAXIA", -3.31f, -1421.93f, 16.55f)
	Turn("LAXIA", 149.83f, 360.0f)
	SetChrPos("SAHAD", -3.01f, -1419.17f, 16.55f)
	Turn("SAHAD", 48.03f, 360.0f)
	SetChrPos("RICOTTA", -3.18f, -1419.88f, 16.55f)
	Turn("RICOTTA", 57.08f, 360.0f)

	SetChrPos("Katrin", -4.84f, -1420.20f, 16.55f)
	Turn("Katrin", -7.31f, 360.0f)
	
	LookTo("RICOTTA", -4.644f , -1420.750f , 17.471f)		// 座標：手投げ矢

	ChangeAnimation("Katrin", "ANI_EV_WAIT_HAMMER", -1, 1)	// ハンマー待機
	ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_WAIT, 1)
	LookReset("Katrin")
	SetChrPos("ev_eq4022", -4.84f, -1420.20f, 16.55f)	// ハンマー
	SetParent("ev_eq4022", "Katrin", "Null_Rhand")
	
	//手投げ矢
	SetParent("eq4004", "", "")
	SetChrInfoFlag("eq4004", INFOFLAG_FLING)
	SetChrPos("eq4004", -4.96f, -1420.88f, 17.37f)
	Turn("eq4004", 77.96f, 360.0f)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -3.817f , -1420.506f , 17.771f , 60 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.192f , 60 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 12.546f , 60 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 84.074f , 60 )
	
	// フェード待ち
	Wait(FADE_SLOW)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	//カトリーン
	TalkPopup("Katrin", 0, 2, 0, 0, 0) {
		"#011e#000m……………………………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	//ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mカトリーンさん？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カットX ----------------------------------------------------------------------------------------

	//　　不意に槌を両手で大きく振りかぶるカトリーン。
	//　　そのままカトリーンが槌で手投げ矢を打ちつける。
	//　　ガキッと弾き返すような金属ＳＥ。
	
	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , -4.665f , -1420.413f , 17.843f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.232f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.528f , 0 )	// 基本仰角
	RotateCamera( 0 , 66.976f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -19.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrInfoFlag("Katrin", INFOFLAG_NOATARI)	// アタリ無視・・・金槌を振り下ろすモーション用に浮かす
	SetChrPos("Katrin", -4.84f, -1420.20f, 16.70f)
	Turn("Katrin", -17.97f, 360.0f)
	ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKU_S,1)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -4.741f , -1420.554f , 17.603f , 75 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.712f , 75 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 8.253f , 75 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 65.841f , 75 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 75 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -13.5f , 75 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation("Katrin", "ANI_EV_STRIKE_HAMMER", -1, 1)	// ハンマー！
	Wait(32)
	Effect2( 3318000, -4.639f , -1420.810f , 17.411f, 90.00f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 1.5f, 1.0f)
	EarthQuake( 0.05f , 0.05f , 10 )	// 縦揺れ幅, 横揺れ幅, 時間
	PlaySE(SE_M03S180_01, 100, 0, 0, 0, 1.0f, 0)	//	はじく
	Wait(50)

	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	// カットX ----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , -3.817f , -1420.506f , 17.771f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.192f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 12.546f , 0 )	// 基本仰角
	RotateCamera( 0 , 84.074f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 2.5f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetChrPos("Katrin", -4.84f, -1420.20f, 16.55f)
	Turn("Katrin", -7.31f, 360.0f)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKU_E,1)

	// フェード待ち
	Wait(FADE_CROSS)

	//　　アドル、ラクシャ、サハドに「！」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("SAHAD", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	//　　リコッタに「？」エモーション。
	EmotionEx("RICOTTA", 0.00f, EMO_Q, 0, 5, 1, 1, 1.0f )	// 「？」

	Wait(40)

	ChangeAnimation( "SAHAD", "ANI_EV_SUP_S", -1, 1 )	// 驚く、軽くのけぞる

	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mおいおい、何てことを。"
		"この矢はもう一本しか残って……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"#000e#000mつべこべ言わずによくご覧なさい。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "SAHAD", "ANI_EV_SUP_E", -1, 1 )	// 驚く、軽くのけぞる
	
	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mお？3"
	}
	WaitPrompt()
	WaitCloseWindow()


	// カットX -----------------------------------------------------------------------------------------

	//　　金床の上の矢に注目する一同。

	// クロスフェード
	CrossFade(FADE_NORMAL)

	// カメラ
	MoveCameraAt( 0 , -4.737f , -1420.795f , 17.551f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.192f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.331f , 0 )	// 基本仰角
	RotateCamera( 0 , 274.758f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -2.93f, -1421.04f, 16.55f)
	Turn("ADOL", 101.64f, 360.0f)
	SetChrPos("LAXIA", -3.31f, -1421.93f, 16.55f)
	Turn("LAXIA", 128.51f, 360.0f)
	SetChrPos("SAHAD", -3.17f, -1419.77f, 16.55f)
	Turn("SAHAD", 62.24f, 360.0f)
	SetChrPos("RICOTTA", -3.27f, -1420.37f, 16.55f)
	Turn("RICOTTA", 67.74f, 360.0f)
	SetChrPos("Katrin", -4.71f, -1420.01f, 16.55f)
	Turn("Katrin", -39.29f, 360.0f)
	ResetChrInfoFlag("Katrin", INFOFLAG_NOATARI)	// アタリ無視
	
	ChangeAnimation( "RICOTTA", "ANI_EV_NOME", -1, 1 )	// 待機
	ChangeAnimation( "LAXIA", "ANI_EV_NOZOKI", -1, 1 )	// 待機

	LookChr("ADOL", "eq4004")
	LookChr("LAXIA", "eq4004")
	LookChr("SAHAD", "eq4004")
	LookChr("RICOTTA", "eq4004")
	LookChr("Katrin", "eq4004")
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -4.833f , -1420.980f , 17.771f, 80 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.511f , 80 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.198f , 80)
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 289.618f , 80 )
	
	//MoveCameraAt( 0 , -4.833f , -1420.980f , 17.771f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.511f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -4.198f , 0 )	// 基本仰角
	//RotateCamera( 0 , 289.618f , 0 )				// 角度
	//ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// フェード待ち
	Wait(FADE_NORMAL)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	//　　ラクシャにＰＡエモーション。
	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	Wait(35)
	
	//ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000mこれは……矢には"
		"全く傷がついていないようです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Katrin", 0.0f, -10.0f)	// うつむく

	//カトリーン
	TalkPopup("Katrin",0,1,0,0,0) {
		"#011e#000mふむ、祖父の与太話かと"
		"思っていたのだけれど……"
	}
	WaitPrompt()
	WaitCloseWindow()
	

	LookChr("ADOL", "Katrin")
	LookChr("LAXIA", "Katrin")
	LookChr("SAHAD", "Katrin")
	ChangeAnimation( "LAXIA", "ANI_EV_NOZOKI_E", -1, 1 )	// 待機
	Wait(10)
	ChangeAnimation( "SAHAD", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mど、どういうことだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Katrin", "SAHAD")
	
	//カトリーン
	TalkPopup("Katrin",0,1,0,0,0) {
		"#000e#000mグリークにはある金属に関する"
		"伝承が残されているわ。\p"
		"金剛石より堅く錆びることのない金属……"
		"それこそ作り話のような話だけど。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	//ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000mそんな金属が……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX -----------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , -3.981f , -1420.580f , 17.911f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.912f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.121f , 0 )	// 基本仰角
	RotateCamera( 0 , 41.960f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeAnimation( "RICOTTA", "ANI_WAIT", -1, 1 )	// 待機
	LookChr("RICOTTA", "Katrin")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -3.981f , -1420.580f , 17.911f , 600 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.152f , 600 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 8.121f , 600 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 48.550f , 600 )

	// フェード待ち
	Wait(FADE_CROSS)

	LookChr("Katrin", "LAXIA")

	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"#000e#000mほのかな陽#2Rひ#Rの色をまとい、"
		"表面が揺らめいて見えるのが特徴らしいわ。\p"
		"#000e#000mそのことから《ヒイロカネ》という名で"
		"呼ばれることが多いみたいね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	//ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mヒイロカネ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Katrin", 0.0f, -10.0f)	// うつむく
	ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目

	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"#010e#000m存在自体が疑わしいにも関わらず、"
		"これを求める好事家や収集家は後を絶たない。\p"
		"私の実家にもヒイロカネを求める者が"
		"何度か訪れたことがあるわ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Katrin", "LAXIA")
	ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	
	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"まさか実在するとは"
		"思っていなかったけど……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -3.944f , -1420.588f , 18.031f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.912f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.765f , 0 )	// 基本仰角
	RotateCamera( 0 , 262.461f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("SAHAD", -3.00f, -1419.60f, 16.55f)
	Turn("SAHAD", 58.69f, 360.0f)

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "SAHAD", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#071e#000mそ、それじゃ、そいつで"
		"武器を作ることができれば……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Katrin", "SAHAD")

	//カトリーン
	TalkPopup("Katrin",0,1,0,0,0) {
		"#000e#000mええ、確かに古代種に"
		"対抗することが可能かもしれない。\p"
		"ただ──"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Katrin", "LAXIA")
	
	//カトリーン
	TalkPopup("Katrin",0,1,0,0,0) {
		"当然のことだけど、武器を作るには"
		"大量のヒイロカネが必要になるわ。\p"
		"あなたたち、これを採掘できる"
		"場所を知っているのかしら？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_S", -1, 1 )	// 両手 前組み

	//ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#051e#000mそ、それは……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD" , "RICOTTA" )

	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mリコッタ、親父さんがどこで"
		"手に入れたのか知らないのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("RICOTTA")
	ChangeAnimation( "RICOTTA" , "ANI_EV_GAKKARI_S", -1 , 1 )

	//リコッタ
	TalkPopup("RICOTTA",0,2,0,0,0) {
		"#061e#000m無念……リコッタ思い出せない。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Katrin", "SAHAD")

	//カトリーン
	TalkPopup("Katrin",0,1,0,0,0) {
		"#000e#000mそれでは話にならないわね……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カットX -----------------------------------------------------------------------------------------

	//　　ここでアドルに「…」エモーション。

	//　　ダーナがサライから半月刀を受け取り、
	//　　陽色金が古い地層で採れると説明する場面が
	//　　フラッシュバックする。

	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , -3.313f , -1420.849f , 18.134f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.959f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -5.889f , 0 )	// 基本仰角
	RotateCamera( 0 , 212.410f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)	// 非表示

	// 位置調整・表情・モーション
	Turn("ADOL", 87.43f, 360.0f)
	SetChrPos("LAXIA", -3.42f, -1421.89f, 16.55f)
	Turn("LAXIA", 167.59f, 360.0f)
	ChangeAnimation( "RICOTTA", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("ADOL")

	SetChrPos("SAHAD", -2.81f, -1419.94f, 16.55f)
	Turn("SAHAD", 37.37f, 360.0f)
	SetChrPos("RICOTTA", -4.00f, -1420.01f, 16.55f)
	Turn("RICOTTA", -31.74f, 360.0f)
	LookChr("SAHAD", "ADOL")
	LookChr("RICOTTA", "ADOL")
	LookChr("Katrin", "ADOL")

	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -3.313f , -1420.849f , 18.134f , 600 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.960f , 600 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.564f , 600 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 199.795f , 600 )
	
	// フェード待ち
	Wait(FADE_NORMAL)

	EmotionEx("ADOL", 0.0f, "EMO_3DOT", 27, 5, 1, 1, 0.8f)	// 「…」
	Wait(55)

	//フラッシュバック演出 ----------------------------------- ▼		//穏やかなフラッシュバック
	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	FadeBGM(20, 30)
	FadeOut(FADE_WHITE,FADE_FAST)
	WaitFade()
	Wait(15)
	FadeIn(FADE_WHITE,FADE_FAST)
	Portrait_Anime(  1 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
	Wait(100)

	SetEnvSEPlayState(-1, 1)	//環境SE復帰
	FadeBGM(100, 60)
	FadeOut(FADE_WHITE,FADE_FAST)
	WaitFade()

	Portrait_Close(  1 )
	Portrait_Unload( 1 )

	FadeIn(FADE_WHITE,FADE_NORMAL)
	WaitFade()
	// --------------------------------------------------------- ▲

//	//フラッシュバック演出 ----------------------------------- ▼
//	FadeBGM(30,30)
//	SetEnvSEPlayState(-1, 0)	//環境SE全停止
//	FadeIn(FADE_WHITE,FADE_NORMAL)
//	Portrait_Anime(  1 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
//	Wait(65)
//
//	SetEnvSEPlayState(-1, 1)	//環境SE復帰
//	FadeBGM(100,45)
//	FadeIn(FADE_WHITE,45)
//	
//	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE, 1)	// 目
//
//	Portrait_Close(  1 )
//	Portrait_Unload( 1 )
//
//	WaitFade()
//	// --------------------------------------------------------- ▲

	Wait(30)
	
	//　　画面を元に戻してラクシャにＰＡエモーション。
	LookChr("LAXIA", "ADOL")
	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	Wait(40)
	
	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_E", -1, 1 )	// 両手 前組み
	
	//ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000mアドル、どうかしましたか？"
	}
	WaitPrompt()
	WaitCloseWindow()
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	LookChr("ADOL", "LAXIA")
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	//選択肢
	//「いや、何でもない……
	//　古い地層で見つかるかもしれない」
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"いや、何でもない……")
	MenuAdd(2,"古い地層で見つかるかもしれない")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	//	─────────────────────────
	//⇒いや、何でもない……
	if (FLAG[TF_MENU_SELECT] == 1){
		
		HeadNo("ADOL", 1, 25)	// キャラ, 回数, 速さ
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(30)

	}
	//⇒古い地層で見つかるかもしれない
	if (FLAG[TF_MENU_SELECT] == 2){
		
		HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(30)
		
	}
	//	─────────────────────────
	
	// カットX ------------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -3.504f , -1421.242f , 17.934f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.639f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.142f , 0 )	// 基本仰角
	RotateCamera( 0 , 296.749f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -2.79f, -1421.08f, 16.55f)
	Turn("ADOL", 87.43f, 360.0f)
	SetChrPos("LAXIA", -3.67f, -1422.06f, 16.55f)
	Turn("LAXIA", 178.25f, 360.0f)

	// 非表示・再表示
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)	// 再表示
	
	// フェード待ち
	Wait(FADE_NORMAL)
	
	//	─────────────────────────
	//⇒いや、何でもない……
	if (FLAG[TF_MENU_SELECT] == 1){
		
		//サハド
		TalkPopup("SAHAD",0,2,0,0,0) {
			"#000e#080m何だ何だ、余計に気になるな。\p"
			"手がかりになることを"
			"知っているなら教えてくれよ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//⇒古い地層で見つかるかもしれない
	if (FLAG[TF_MENU_SELECT] == 2){
		
		//ラクシャ
		TalkPopup("LAXIA",0,1,0,0,0) {
			"#000e#000m古い地層……ですか。"
			"なぜそう思ったのです？"
			"そう思った3行目"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	─────────────────────────

	LookReset("ADOL")
	Look("ADOL", 0.0f, -5.0f)	// うつむく
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	//テキスト
	TalkPopup("UNDEF",0,3,STOPPER_PPOSX,STOPPER_PPOSY,0) {
		"#7Cアドルは戸惑いながらも、"
		"#7C先日見た不思議な夢について説明した。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カットX -----------------------------------------------------------------------------------------
	
	// カメラ
	MoveCameraAt( 0 , -3.834f , -1420.834f , 17.934f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.559f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.150f , 0 )	// 基本仰角
	RotateCamera( 0 , 278.405f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	// カメラ移動
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,  260.069f , 600 )

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
		
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mお、おう……夢で見た、か。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	//ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#051e#000mアドル、その……"
		"気を悪くしないでほしいのですが……\p"
		"疲れているわけではないですよね？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルに冷や汗エモーション。
	EmotionEx("ADOL", 0.03f, EMO_TARA, 0, 5, 1, 1, 1.2f )	// 「冷や汗」
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Look("ADOL", 0.0f, -10.0f)	// うつむく
	Wait(40)
	
	//カトリーン
	TalkPopup("Katrin",0,1,0,0,0) {
		"#000e#000mふむ、古い地層から採れるか……"
		"確かにそんな話も聞いたことあるわ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("LAXIA", "Katrin")
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て
	
	LookChr("SAHAD", "Katrin")
	LookChr("ADOL", "Katrin")
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	
	//ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#071e#000mほ、本当ですか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//リコッタ
	TalkPopup("RICOTTA",0,2,0,0,0) {
		"#000e#000mチソウ……リコッタ知ってる！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("ADOL", "RICOTTA")
	LookChr("LAXIA", "RICOTTA")
	LookChr("SAHAD", "RICOTTA")
	
	//　　リコッタ、両手を広げるようなモーション。
	ChangeAnimation( "RICOTTA", "ANI_EV_GUTSPOSE_S", -1, 1 )
	Wait(20)
	
	//リコッタ
	TalkPopup("RICOTTA",0,2,0,0,0) {
		"#020e#020mおいしい、たくさん！"
		"おいしい2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルとラクシャに冷や汗エモーション。
	EmotionEx("ADOL", 0.03f, EMO_TARA, 0, 5, 1, 1, 1.2f )	// 「冷や汗」
	EmotionEx("LAXIA", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f )	// 「冷や汗」
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)	// 目
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)	// 目
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)	// 口
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)	// 口
	Wait(45)

	LookChr("LAXIA", "RICOTTA")
	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )

	//ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#062e#000mリコッタちゃん……"
		"それはきっと“ご馳走”のことです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("RICOTTA", "LAXIA")
	ChangeAnimation("RICOTTA", "ANI_EV_GUTSPOSE_E", -1, 1)

	//リコッタ
	TalkPopup("RICOTTA",0,2,0,0,0) {
		"#000e#000m違うのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -3.251f , -1420.935f , 17.980f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.938f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.656f , 0 )	// 基本仰角
	RotateCamera( 0 , 23.309f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -2.22f, -1421.16f, 16.55f)
	Turn("ADOL", 101.64f, 360.0f)
	SetChrPos("LAXIA", -3.68f, -1421.85f, 16.55f)
	Turn("LAXIA", 178.25f, 360.0f)
	SetChrPos("SAHAD", -2.85f, -1419.61f, 16.55f)
	Turn("SAHAD", 19.60f, 360.0f)
	SetChrPos("RICOTTA", -3.88f, -1419.82f, 16.55f)
	Turn("RICOTTA", -24.63f, 360.0f)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	LookChr("ADOL", "LAXIA")
	LookChr("SAHAD", "LAXIA")
	LookChr("RICOTTA", "LAXIA")
	LookChr("Katrin", "LAXIA")
	
	// フェード待ち
	Wait(FADE_CROSS)

	LookReset("LAXIA")
	ChangeAnimation( "LAXIA", "ANI_EV_SEKI", -1, 1 )	// 咳払い
	
	//ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#011e#000mコホン、地層というのはですね。"
		"泥、砂、火山灰などが堆積して出来た……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "LAXIA")
	Wait(5)
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// 両手腰手振り

	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000m要するに化石が出てくるような"
		"古い土や岩ってコトだろ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	EmotionEx("LAXIA", 0.00f, EMO_MUKA, 0, 5, 1, 1,0.8f )	// 「ムカッ」
	Wait(20)
	LookChr("LAXIA" , "SAHAD" )
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	//ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#031e#000mお待ちなさい、そんな大雑把な"
		"説明では正しい知識が……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	EmotionEx("RICOTTA", 0.03f, EMO_PA, 0, 5, 1, 1, 1.2f )	// 「PA」
	Wait(35)

	//リコッタ
	TalkPopup("RICOTTA",0,2,0,0,0) {
		"#000e#000m知ってる……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("SAHAD" , "RICOTTA" )
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	
	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#071e#000mお？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "RICOTTA", "ANI_EV_TEMUNE_S", -1, 1 )

	//リコッタ
	TalkPopup("RICOTTA",0,2,0,0,0) {
		"#000e#000mリコッタ、父上と行った。\p"
		"“化石”の洞窟知ってる……"
		"リコッタ住んでいる山の近く！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Katrin", "ADOL")
	LookChr("LAXIA", "SAHAD")
	LookChr("SAHAD", "LAXIA")
	LookChr("ADOL", "Katrin")
	Wait(10)

	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"#000e#000mふむ……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//顔を見合わせる一同、一旦フェードアウト。

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カットX ----------------------------------------------------------------------------------------
	
	Wait(10)
	
	//◆以下仮処理
	PlaySE( SE_PAGE , 100 , 0,  0, 0, 1.0f, 0)		//ページめくり
	WarpMenu(0, -1)			// ワールドマップモードで地図を開く
	SetMapViewPos(198, 355, 0)

	//	================================================
	//	【古代洞窟への誘導／沼への誘導と沼でのサブイベント】
	//	================================================
	//　　「▼カトリーンに相談する(mp1201)」を以下に改変。
	
	//　　地図を表示して目的地を確認するアドルたち。
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
	//ラクシャ
	TalkPopup("LAXIA",0,3,0,0,0) {
		"#000e#000mジャンダルムの麓でわたくしたちが"
		"探索できていないのはこの地域です。"
	}
	WaitPrompt()
	WaitCloseWindow()

	SetMapViewPos(161, 234, 60)

	//　　地図を漂流村からスクロールさせて
	//　　ジャンダルムの南西エリアを映し出す。
	Wait(70)
	
	//ラクシャ
	TalkPopup("LAXIA",0,3,0,0,0) {
		"#000e#000m洞窟はこの裾野のどこかにあると"
		"思われるのですが……\p"
		"小屋から洞窟までリコッタちゃんの"
		"足でかかった時間を考慮すると……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//　　地図上の目的地に印がつけられる。
	PlaySE(SE_MAP_SETDESTINATION,100,0,  0, 0, 1.0f, 0)		//◆仮


	SetMapMarker( SMI_SYMBOL, PAGE_MP740x, MARKER_EV_M03S220, 26.20f, 25.42f, -28.97f , 26.20f, 25.42f, MARKER_EV_M03S220, MN_D_MP7401,0)	// 化石を調べる
	Wait(20)
	
	//ラクシャ
	TalkPopup("LAXIA",0,3,0,0,0) {
		"この辺りに絞ることができるはずです。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(20)
	
	SetMapViewPos(208, 291, 40)
	Wait(40)

	PlaySE(SE_MAP_SETDESTINATION,100,0,  0, 0, 1.0f, 0)		//◆仮

	//　　mp2102の沼地あたりに別の印をつける。
	SetMapMarker( SMI_SYMBOL, PAGE_F002, MARKER_SUBEV_03SWAMP, 4.11f, -698.39f, 27.80f , 4.11f, -698.39f, MARKER_SUBEV_03SWAMP, MN_F_MP2102,1)	// 古代の洞窟への途中。沼地を超える
	Wait(20)
	
//	WarpMenu(0, PAGE_F002)			// エリアモードで地図を開く
//	Wait(30)
//	SetMapViewPos(25, 70, 60)

	TalkPopup("LAXIA", 0, 3, 0, 0, 0)
	{
		"#000e#000mおそらくこの辺りから"
		"向えるのではないでしょうか。"
	}
	WaitPrompt()
	WaitCloseWindow()
	

	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	MenuClose(0, 0)			// 地図閉じる
	WaitMenu(0)				// 閉じ待ち

	Wait(10)
	
	// カットX ------------------------------------------------------------------------------------------
	
	//　　地図を消して、画面をアドルたちに戻す。

	// カメラ
//	MoveCameraAt( 0 , -1.059f , -1419.061f , 18.382f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.418f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 4.622f , 0 )	// 基本仰角
//	RotateCamera( 0 , 34.497f , 0 )				// 角度
//	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -0.3f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , -1.059f , -1419.061f , 17.962f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.418f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.622f , 0 )	// 基本仰角
	RotateCamera( 0 , 34.497f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", 0.19f, -1418.99f, 16.55f)
	Turn("ADOL", 66.11f, 360.0f)
	SetChrPos("LAXIA", -1.85f, -1420.04f, 16.55f)
	Turn("LAXIA", -121.35f, 360.0f)
	SetChrPos("SAHAD", -0.67f, -1417.98f, 16.55f)
	Turn("SAHAD", 23.16f, 360.0f)
	SetChrPos("RICOTTA", -1.91f, -1417.90f, 16.55f)
	Turn("RICOTTA", -35.29f, 360.0f)
	SetChrPos("Katrin", -2.41f, -1418.89f, 16.55f)
	Turn("Katrin", -81.93f, 360.0f)
	ChangeAnimation( "Katrin", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "RICOTTA", "ANI_WAIT", -1, 1 )	// 待機
	LookChr("ADOL", "Katrin")
	LookChr("LAXAI", "Katrin")
	LookChr("SAHAD", "Katrin")
	LookChr("RICOTTA", "LAXIA")
	LookChr("Katrin", "ADOL")
	
	SetChrPos("ev_eq4022", -100000.0f, 0.0f, 0.0f)	// ハンマー
	SetParent("ev_eq4022", "", "")

	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -1.059f , -1419.061f , 17.962f , 90 )

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	// カメラ待ち
	WaitThread(1000)
	
	ChangeAnimation( "Katrin", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"#000e#000mひとまずアドルの"
		"夢の話は置いておくとして……\p"
		"今ヒイロカネのある可能性が"
		"一番高いのはこの洞窟ということね。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("SAHAD", "LAXIA")
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	
	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mおお、それじゃあ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "SAHAD")
	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	//ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mええ、この洞窟へ向かいましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA", "ANI_EV_GUTSPOSE_S", -1, 1 )	// ガッツポーズ

	//リコッタ
	TalkPopup("RICOTTA",0,2,0,0,0) {
		"#021e#000m御意っ！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Katrin", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	
	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"#000e#000mふむ、ヒイロカネを鍛えるには"
		"より高温の炎を扱うことができる炉……\p"
		"そして効率のいい燃料が"
		"必要になると祖父から聞いている。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Katrin", "SAHAD")
	ChangeAnimation( "Katrin", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"そちらの準備はこちらで進めておくわ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "Katrin")

	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#080mおお、頼んだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Katrin", "ADOL")

	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"#000e#000mアドル、気を付けて行ってきなさい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル頷きモーションの後に操作許可。

	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(25)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M03S180_ED")
}

function "EV_M03S180_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//モンスターを復帰
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//ポートレート処理
	Portrait_Close(  -1 )
	Portrait_Unload( -1 )

	// エフェクトリリース
	ReleaseEffect("efx_ev03.ite")

	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_RICOTTA")
	CallFunc("system:reset_chrmot_Katrin")

	//SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 0)
	//ResetChrInfoFlag( "Katrin" , INFOFLAG_NOCHRATARI )
	//ChangeAnimation( "Katrin" , "ANI_WAIT" -1 , 1 )
	//ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	//ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	//ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	//LookReset( "Katrin" )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	SetFlag( GF_03MP1201_VISIT_RICOTTA , 1 )			// リコッタが初めて漂流村へやって来る	※フリー許可しない事になったためまとめる
	SetFlag( GF_03MP1201_TALK_KATRIN , 1 )			// カトリーンに相談する
	//SetFlag( SF_MISSIONNO, MS_03_07 )	//★冒険メモ：ジャンダルムの麓にある洞窟を目指そう。

	//マーカーセット
	DelMapMarker( SMI_SYMBOL,PAGE_MP120x,MARKER_EV_M03S180, 0, 0)

	SetMapMarker( SMI_SYMBOL, PAGE_MP740x, MARKER_EV_M03S220, 26.20f, 25.42f, -28.97f , 26.20f, 25.42f, MARKER_EV_M03S220, MN_D_MP7401,0)	// 化石を調べる
	SetMapMarker( SMI_SYMBOL, PAGE_F002, MARKER_SUBEV_03SWAMP, 4.11f, -698.39f, 27.80f , 4.11f, -698.39f, MARKER_SUBEV_03SWAMP, MN_F_MP2102,1)	// 古代の洞窟への途中。沼地を超える

	//NPC復帰
	CallFunc("mp1201:init" )						//NPCをREMOVEしている場合に実行

	//イベント後の再配置
	SetChrPos("LEADER", 0.71f, -1419.52f, 16.55f)
	Turn("LEADER", -85.85f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰or初期位置設定
	RestoreCamera(0,0)														//※イベント終了時のカメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")
	
	ResetStopFlag(STOPFLAG_EVENT)
	SetChrWork("Paro", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation( "Paro" , "ANI_WAIT3", -1 , 1 )
	
	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼ヒイロカネの武器が完成する(mp1201)
//──────────────────────────────
function "EV_M03S230" 			//ヒイロカネの武器が完成する
{
//開始処理ここから-----------------------------------------------

//	CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()
	
	LoadChr("Katrin")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -2.42f, -1420.92f, 16.55f)
	Turn("ADOL", 101.64f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")

	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", -3.54f, -1421.83f, 16.55f)
	Turn("LAXIA", 161.72f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")

	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", -2.49f, -1419.91f, 16.55f)
	Turn("SAHAD", 48.70f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")

	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)
	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", -2.82f, -1421.56f, 16.55f)
	Turn("RICOTTA", 124.59f, 360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")

	SetChrInfoFlag("Katrin", INFOFLAG_NOCHRATARI)
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Katrin", -4.08f, -1419.88f, 16.55f)
	Turn("Katrin", 32.44f, 360.0f)
	ChangeAnimation("Katrin", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Katrin", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Katrin", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Katrin")
	
	MapHide( "EVENT_hiiro" , 1 )		//鍛冶場ヒイロカネ
	
	//カメラ設定
	MoveCameraAt( 0 , -4.279f , -1420.874f , 18.173f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.634f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.671f , 0 )	// 基本仰角
	RotateCamera( 0 , 280.449f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000 ,0.000 ,0.150 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M03S230_ED")

//開始処理ここまで-----------------------------------------------

	//　　漂流村マップへ入ったところでイベント開始。
	//　　画面暗転のまま下記のナレーションを表示。

	//ナレーション
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
		"#7Cヒイロカネを入手して"
		"#7C漂流村へ戻ったアドルたち……\p"
		"#7Cこれでようやく古代種たちに"
		"#7C対抗できるかもしれない。\p"
		"#7C期待を胸に一行は足早に"
		"#7Cカトリーンの元を訪れたのだった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　フェードインして鍛冶場の周りにパーティーを展開。
	//　　鍛冶場の金床にはヒイロカネが乗せられている状態。
	
	// カットX ---------------------------------------------------------------------------------------
	
	LookChr("ADOL", "Katrin")
	LookChr("LAXIA", "Katrin")
	LookChr("SAHAD", "Katrin")
	LookChr("RICOTTA", "Katrin")
	LookTo("Katrin", -4.505f , -1420.803f , 17.433f)	// 座標：ヒイロカネ
	
	Wait(10)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -4.279f , -1420.874f , 17.813f , 50 )
	
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
	
	// カメラ待ち
	WaitThread(1000)
	ChangeAnimation( "Katrin", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰	

	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"#000e#000mこれがヒイロカネ……\p"
		"リコッタの矢を見た時から"
		"その存在は確信していたけれど……\p"
		"こうして目の当たりにすると、"
		"改めて驚きを禁じ得ないわね。"
	}
	WaitPrompt()
	WaitCloseWindow()
	ChangeAnimation( "Katrin", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰	

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	//ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000mカトリーンさん、それでは……"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2("Katrin", -1, 1, "ANI_EV_RYOTEKOSI_E", 0)

	LookChr("Katrin", "LAXIA")
	Turn("Katrin", -38.62f, 9.0f)

	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"#000e#000mドギたちのおかげで"
		"鍛冶場の準備はできている。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Katrin", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"ただ、この設備でも純粋な"
		"ヒイロカネの武器を打つのは難しいわ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#071e#000mそ、そうなのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , -3.040f , -1420.915f , 18.073f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.934f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.558f , 0 )	// 基本仰角
	RotateCamera( 0 , 46.784f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェード待ち
	Wait(FADE_CROSS)

	LookChr("Katrin", "SAHAD")
	ChangeAnimation( "Katrin", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"#000e#000mええ、そこで提案があるのだけど……\p"
		"まずはヒイロカネで"
		"今の武器を強化するのはどうかしら？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Katrin", "ADOL")
	
	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"それでも古代種に"
		"通用するものにはしてみせるわ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	//「わかりました
	//　そこを何とかなりませんか？」
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"わかりました2")
	MenuAdd(2,"そこを何とかなりませんか？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	ChangeAnimation( "Katrin", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	//	─────────────────────────
	//⇒わかりました
	if (FLAG[TF_MENU_SELECT] == 1){

		//カトリーン
		TalkPopup("Katrin",0,2,0,0,0) {
			"#000e#000mふむ……それならば"
			"すぐに作業を始められるわ。\p"
			"ただし初めてのことだから"
			"相応の時間がかかると思いなさい。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//⇒そこを何とかなりませんか？
	if (FLAG[TF_MENU_SELECT] == 2){
		
		//カトリーン
		TalkPopup("Katrin",0,2,0,0,0) {
			"#011e#000mはっきり言って無理ね。\p"
			"純度の高いヒイロカネを打つには"
			"色々なものが不足している。\p"
			"#012e#000mいつ完成させられるのか、"
			"全く見通しが立たないわ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookChr("SAHAD", "ADOL")
		
		//サハド
		TalkPopup("SAHAD",0,2,0,0,0) {
			"#000e#000mアドル、ここはひとまず"
			"強化を頼めばいいんじゃねーか？"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookChr("LAXIA", "SAHAD")
		ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て
		
		//ラクシャ
		TalkPopup("LAXIA",0,1,0,0,0) {
			"#000e#000mそうですね。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	─────────────────────────

	Wait(10)

	FadeBGM(60, 60)
	//　　画面フェードアウト。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	Wait(15)
	
	//　　暗転のまま以下のメッセージを表示。

	ExecuteFunc(98 , "mp1201:SE_kaji")

	//テキスト
	TalkPopup("UNDEF",0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
	{
		"#7Cその日からカトリーンは試行錯誤しつつ"
		"#7Cヒイロカネの加工を始めた。\p"
		"#7C彼女が言うには武器を仕上げるのに"
		"#7C三日ほどを要するらしい。\p"
		"#7Cアドルたちは疲労した体を休めつつ、"
		"#7C久々に漂流村の手伝いをして過ごしていた。\p"
		"#7C事件が起きたのはリコッタがクイナと打ち解け、"
		"#7C無邪気に遊び回るようになった頃だった。\p"
		"#7C資材収集に出かけたドギとエアランが"
		"#7C慌てて漂流村へ戻って来たのだ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(30)

//	//テキスト
//	TalkPopup("UNDEF",0,3,STOPPER_PPOSX,STOPPER_PPOSY,0) {
//		"#7Cその日から三日三晩、カトリーンは"
//		"#7C試行錯誤を重ねつつヒイロカネを打ち続けた。\p"
//		"#7Cその間、アドルたちは疲労した体を休めつつ、"
//		"#7C久々に漂流村の手伝いをして過ごすのだった。\p"
//		"#7Cリコッタが漂流者たちと打ち解けて、"
//		"#7Cクイナと無邪気に遊び回るようになった頃──\p"
//		"#7C昼夜問わずに聞こえていた"
//		"#7C槌の音がようやく鳴り止むのだった。"
//	}
//	WaitPrompt()
//	WaitCloseWindow()

	StopThread(98)

///終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M03S230_ED")
}

function "EV_M03S230_ED"
{
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//モンスターを復帰
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_RICOTTA")
	CallFunc("system:reset_chrmot_Katrin")

	//SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 0)
	//ResetChrInfoFlag( "Katrin" , INFOFLAG_NOCHRATARI )
	//ChangeAnimation( "Katrin" , "ANI_WAIT" -1 , 1 )
	//ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	//ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	//ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	//LookReset( "Katrin" )
	
	//パーティキャラを解放
	ReleaseEventPartyChr()

	MapHide( "EVENT_hiiro" , 0 )		//鍛冶場ヒイロカネ

	//マップパラメーターリセット
	ResetMapParam(-1)

	SetEnvSEPlayState(-1, 1)	//環境SE復帰

//	EventCue("mp1201:EV_M03S231")
//制圧戦クエストに繋げる
	EventCue("mp1201:QS_303_Start")

	ResetStopFlag(STOPFLAG_EVENT)

//終了処理ここまで----------------------------------------------------
}

function "SE_kaji"
{
	while(1){
		PlaySE(SE_M03S230_01, 50, 0, 0, 0, 1.0f, 0)
		Wait(30)
		PlaySE(SE_M03S230_01, 50, 0, 0, 0, 1.0f, 0)
		Wait(27)
		PlaySE(SE_M03S230_01, 50, 0, 0, 0, 1.0f, 0)
		Wait(32)
		PlaySE(SE_M03S230_01, 50, 0, 0, 0, 1.0f, 0)
		Wait(35)
		PlaySE(SE_M03S230_01, 50, 0, 0, 0, 1.0f, 0)
		Wait(26)
	}
}

function "EV_M03S231" 			//警鐘が鳴り響く
{
//開始処理ここから-----------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Katrin")
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//Check for weapons on Adol, Hummel, Laxia, Sahad, and Ricotta. If the weapons are worse than the weapons from the orichalcum event then give them the orichalcum weapon.
	//武器をイベントで進化。古代種を倒せるようになる。
	if((ADOL.CHRWORK[CWK_WEAPON] == ICON3D_WP_ADOL_001) ||
		(ADOL.CHRWORK[CWK_WEAPON] == ICON3D_WP_ADOL_101) ||
		(ADOL.CHRWORK[CWK_WEAPON] == ICON3D_WP_ADOL_201) ||
		(ADOL.CHRWORK[CWK_WEAPON] == ICON3D_WP_ADOL_000) ||
		(ADOL.CHRWORK[CWK_WEAPON] == ICON3D_WP_ADOL_100) ||
		(ADOL.CHRWORK[CWK_WEAPON] == ICON3D_WP_ADOL_200) ||
		(ADOL.CHRWORK[CWK_WEAPON] == ICON3D_WP_ADOL_002) ||
		(ADOL.CHRWORK[CWK_WEAPON] == ICON3D_WP_ADOL_102) ||
		(ADOL.CHRWORK[CWK_WEAPON] == ICON3D_WP_ADOL_202))
		{
			GetItem(ICON3D_WP_ADOL_003		, 1)		// リベラシオン
			EquipWeapon(ADOL, ICON3D_WP_ADOL_003)		// リベラシオン
		}
	if((LAXIA.CHRWORK[CWK_WEAPON] == ICON3D_WP_LAXIA_001) ||
		(LAXIA.CHRWORK[CWK_WEAPON] == ICON3D_WP_LAXIA_101) ||
		(LAXIA.CHRWORK[CWK_WEAPON] == ICON3D_WP_LAXIA_201) ||
		(LAXIA.CHRWORK[CWK_WEAPON] == ICON3D_WP_LAXIA_000) ||
		(LAXIA.CHRWORK[CWK_WEAPON] == ICON3D_WP_LAXIA_100) ||
		(LAXIA.CHRWORK[CWK_WEAPON] == ICON3D_WP_LAXIA_200) ||
		(LAXIA.CHRWORK[CWK_WEAPON] == ICON3D_WP_LAXIA_002) ||
		(LAXIA.CHRWORK[CWK_WEAPON] == ICON3D_WP_LAXIA_102) ||
		(LAXIA.CHRWORK[CWK_WEAPON] == ICON3D_WP_LAXIA_202))
		{
			GetItem(ICON3D_WP_LAXIA_003		, 1)		// グランセイバー
			EquipWeapon(LAXIA, ICON3D_WP_LAXIA_003)		// グランセイバー
		}
	if((SAHAD.CHRWORK[CWK_WEAPON] == ICON3D_WP_SAHAD_001) ||
		(SAHAD.CHRWORK[CWK_WEAPON] == ICON3D_WP_SAHAD_101) ||
		(SAHAD.CHRWORK[CWK_WEAPON] == ICON3D_WP_SAHAD_201) ||
		(SAHAD.CHRWORK[CWK_WEAPON] == ICON3D_WP_SAHAD_000) ||
		(SAHAD.CHRWORK[CWK_WEAPON] == ICON3D_WP_SAHAD_100) ||
		(SAHAD.CHRWORK[CWK_WEAPON] == ICON3D_WP_SAHAD_200) ||
		(SAHAD.CHRWORK[CWK_WEAPON] == ICON3D_WP_SAHAD_002) ||
		(SAHAD.CHRWORK[CWK_WEAPON] == ICON3D_WP_SAHAD_102) ||
		(SAHAD.CHRWORK[CWK_WEAPON] == ICON3D_WP_SAHAD_202))
		{
			GetItem(ICON3D_WP_SAHAD_003		, 1)		// アクセルブレイカー
			EquipWeapon(SAHAD, ICON3D_WP_SAHAD_003)		// アクセルブレイカー
		}
	if((RICOTTA.CHRWORK[CWK_WEAPON] == ICON3D_WP_RICOTTA_000) ||
		(RICOTTA.CHRWORK[CWK_WEAPON] == ICON3D_WP_RICOTTA_100) ||
		(RICOTTA.CHRWORK[CWK_WEAPON] == ICON3D_WP_RICOTTA_200))
		{
			GetItem(ICON3D_WP_RICOTTA_001	, 1)		// 銀狼棍
			EquipWeapon(RICOTTA, ICON3D_WP_RICOTTA_001)	// 銀狼棍
		}
	if((HUMMEL.CHRWORK[CWK_WEAPON] == ICON3D_WP_HUMMEL_000) ||
		(HUMMEL.CHRWORK[CWK_WEAPON] == ICON3D_WP_HUMMEL_100) ||
		(HUMMEL.CHRWORK[CWK_WEAPON] == ICON3D_WP_HUMMEL_200) ||
		(HUMMEL.CHRWORK[CWK_WEAPON] == ICON3D_WP_HUMMEL_001) ||
		(HUMMEL.CHRWORK[CWK_WEAPON] == ICON3D_WP_HUMMEL_101) ||
		(HUMMEL.CHRWORK[CWK_WEAPON] == ICON3D_WP_HUMMEL_201))
		{
			GetItem(ICON3D_WP_HUMMEL_002	, 1)		// 銀狼棍
			EquipWeapon(HUMMEL, ICON3D_WP_HUMMEL_002)	// 銀狼棍
		}

		//途中の武器を補完する
		GetItem(ICON3D_WP_ADOL_000		,1)			// lv 4 ～ 14 ショートソード
		GetItem(ICON3D_WP_ADOL_001		,1)			// lv15 ～ 23 ロングソード
		GetItem(ICON3D_WP_ADOL_002		,1)			// lv24 ～ 32 ディフェンダー

		GetItem(ICON3D_WP_LAXIA_000		,1)			// lv レイピア
		GetItem(ICON3D_WP_LAXIA_001		,1)			// lv フルーレ
		GetItem(ICON3D_WP_LAXIA_002		,1)			// lv フランベルク

		GetItem(ICON3D_WP_SAHAD_000		,1)			// lv ヘヴィアンカー
		GetItem(ICON3D_WP_SAHAD_001		,1)			// lv アイアンノッカー
		GetItem(ICON3D_WP_SAHAD_002		,1)			// lv ウォーハンマー

		GetItem(ICON3D_WP_RICOTTA_000	,1)			// lv タチヤシの棍

		DeleteItem(ICON3D_WP_ADOL_000		,99)			// lv 4 ～ 14 ショートソード
		DeleteItem(ICON3D_WP_ADOL_100		,99)			// lv ショートソード+1
		DeleteItem(ICON3D_WP_ADOL_200		,99)			// lv ショートソード+2
		DeleteItem(ICON3D_WP_ADOL_001		,99)			// lv15 ～ 23 ロングソード
		DeleteItem(ICON3D_WP_ADOL_101		,99)			// lv ロングソード+1
		DeleteItem(ICON3D_WP_ADOL_201		,99)			// lv ロングソード+2
		DeleteItem(ICON3D_WP_ADOL_002		,99)			// lv24 ～ 32 ディフェンダー
		DeleteItem(ICON3D_WP_ADOL_102		,99)			// lv ディフェンダー+1
		DeleteItem(ICON3D_WP_ADOL_202		,99)			// lv ディフェンダー+2

		DeleteItem(ICON3D_WP_LAXIA_000		,99)			// lv レイピア
		DeleteItem(ICON3D_WP_LAXIA_100		,99)			// lv レイピア+1
		DeleteItem(ICON3D_WP_LAXIA_200		,99)			// lv レイピア+2
		DeleteItem(ICON3D_WP_LAXIA_001		,99)			// lv フルーレ
		DeleteItem(ICON3D_WP_LAXIA_101		,99)			// lv フルーレ+1
		DeleteItem(ICON3D_WP_LAXIA_201		,99)			// lv フルーレ+2
		DeleteItem(ICON3D_WP_LAXIA_002		,99)			// lv フランベルク
		DeleteItem(ICON3D_WP_LAXIA_102		,99)			// lv フランベルク+1
		DeleteItem(ICON3D_WP_LAXIA_202		,99)			// lv フランベルク+2

		DeleteItem(ICON3D_WP_SAHAD_000		,99)			// lv ヘヴィアンカー
		DeleteItem(ICON3D_WP_SAHAD_100		,99)			// lv ヘヴィアンカー+1
		DeleteItem(ICON3D_WP_SAHAD_200		,99)			// lv ヘヴィアンカー+2
		DeleteItem(ICON3D_WP_SAHAD_001		,99)			// lv アイアンノッカー
		DeleteItem(ICON3D_WP_SAHAD_101		,99)			// lv アイアンノッカー+1
		DeleteItem(ICON3D_WP_SAHAD_201		,99)			// lv アイアンノッカー+2
		DeleteItem(ICON3D_WP_SAHAD_002		,99)			// lv ウォーハンマー
		DeleteItem(ICON3D_WP_SAHAD_102		,99)			// lv ウォーハンマー+1
		DeleteItem(ICON3D_WP_SAHAD_202		,99)			// lv ウォーハンマー+2

		DeleteItem(ICON3D_WP_RICOTTA_000	,99)			// lv タチヤシの棍
		DeleteItem(ICON3D_WP_RICOTTA_100	,99)			// lv タチヤシの棍+1
		DeleteItem(ICON3D_WP_RICOTTA_200	,99)			// lv タチヤシの棍+2

	//一時的に武器出しを許可
	SetFlag(SF_TOWNMODE, 0)
	SetChrWork("ADOL", CWK_BATTLEMODE, 1)	
	SetChrWork("RICOTTA", CWK_BATTLEMODE, 1)
	SetChrWork("SAHAD", CWK_BATTLEMODE, 1)	
	SetChrWork("LAXIA", CWK_BATTLEMODE, 1)	

	//キャラ初期状態の設定
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -0.60f, -1420.31f, 16.55f)
	Turn("ADOL", -101.38f, 360.0f)
	ChangeAnimation("ADOL","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 0.84f, -1419.47f, 16.55f)
	Turn("LAXIA", -83.10f, 360.0f)
	ChangeAnimation("LAXIA","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("LAXIA")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 0.87f, -1417.71f, 16.55f)
	Turn("SAHAD", -14.39f, 360.0f)
	ChangeAnimation("SAHAD","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("SAHAD")

	SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI )
	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", -1.12f, -1418.01f, 16.55f)
	Turn("RICOTTA", -59.33f, 360.0f)
	ChangeAnimation("RICOTTA","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE,ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("RICOTTA")

	SetChrInfoFlag( "Katrin" , INFOFLAG_NOCHRATARI )
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Katrin", -2.53f, -1418.80f, 16.55f)
	Turn("Katrin", -70.40f, 360.0f)
	ChangeAnimation("Katrin","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Katrin")

	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 6.76f, -1413.51f, 16.11f)
	Turn("Dogi", 57.95f, 360.0f)
	ChangeAnimation("Dogi","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)
	LookReset("Dogi")

	//カメラ設定
	MoveCameraAt( 0 , 0.994f , -1421.169f , 17.902f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.932f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.462f , 0 )	// 基本仰角
	RotateCamera( 0 , 53.845f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000 ,0.000 ,0.150 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M03S231_ED")

//開始処理ここまで-----------------------------------------------

	//　　画面フェードインして、鍛冶場に集まり
	//　　それぞれの武器を手に取り確かめているアドルたち。

	Wait(15)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 1.369f , -1419.909f , 17.782f  , 130 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.692f , 130 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -3.325f , 130 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 20.890f , 130 )		// 角度
//	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 130 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,  10.4f , 130 )		// ロール回転

	FadeBGM(100, 30)
	SetEnvSEPlayState(-1, 1)	//環境SE復帰

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
	Look("LAXIA", 0.0f, -10.0f)	// うつむく
	
	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	
	//ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#071e#000mこれがヒイロカネで強化された武器……"
		"ヒヒイロ2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("SAHAD", -7.0f, -10.0f)	// （＾＾）↓→

	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mおお……何だか形も"
		"カッコよくなってるな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("RICOTTA", "SAHAD")

	//リコッタ
	TalkPopup("RICOTTA",0,2,0,0,0) {
		"#021e#080mサハド、リコッタのも見る！"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ---------------------------------------------------------------------------------------

	//　　アドルに状況を説明するカトリーン。

	CrossFade(FADE_NORMAL)

	MoveCameraAt( 0 , -1.430f , -1419.776f , 17.623f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.411f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.932f , 0 )	// 基本仰角
	RotateCamera( 0 , 48.220f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

//	ChangeAnimation("ADOL", "ANI_DISARM", -1, 1)
//	ChangeAnimation("LAXIA", "ANI_DISARM", -1, 1)
//	ChangeAnimation("SAHAD", "ANI_DISARM", -1, 1)
//	ChangeAnimation("RICOTTA", "ANI_DISARM", -1, 1)
//	Wait(45)

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -0.70f, -1420.03f, 16.55f)
	Turn("ADOL", 136.93f, 360.0f)
	SetChrPos("LAXIA", 0.35f, -1419.39f, 16.55f)
	Turn("LAXIA", 109.88f, 360.0f)
	SetChrPos("SAHAD", 0.76f, -1418.20f, 16.55f)
	Turn("SAHAD", 78.35f, 360.0f)
	SetChrPos("RICOTTA", -0.28f, -1418.46f, 16.55f)
	Turn("RICOTTA", 92.69f, 360.0f)

	SetChrWork("ADOL", CWK_BATTLEMODE, 0)	
	SetChrWork("RICOTTA", CWK_BATTLEMODE, 0)
	SetChrWork("SAHAD", CWK_BATTLEMODE, 0)	
	SetChrWork("LAXIA", CWK_BATTLEMODE, 0)	

	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "RICOTTA", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機

	LookReset("ADOL")
	LookReset("LAXIA")
	LookReset("SAHAD")
	LookReset("RICOTTA")
	LookChr("Katrin", "ADOL")
	LookChr("ADOL", "Katrin")

//	Turn("ADOL", 126.27f, 10.0f)
//	Turn("LAXIA", 116.99f, 10.0f)
//	Turn("SAHAD", 96.12f, 10.0f)
//	Turn("RICOTTA", 99.80f, 10.0f)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -1.430f , -1419.776f , 17.963f, 70 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.411f , 70 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.360f , 70 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 38.194f , 70 )

	Wait(FADE_NORMAL)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	ChangeAnimation("Katrin", "ANI_EV_TEBURI", -1, 1)

	//カトリーン
	TalkPopup("Katrin",0,0,0,0,0) {
		"#000e#000mアドル、どうかしら？\p"
		"現時点で私が打てる"
		"最高のものに仕上がったはずよ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//選択肢
	//「楽しみです
	//　大事に使います」
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"楽しみです")
	MenuAdd(2,"大事に使います")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)
	
	ChangeAnimation( "Katrin", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	//	─────────────────────────
	//⇒楽しみです
	if (FLAG[TF_MENU_SELECT] == 1){

		// うなずきセット
		HeadYes("Katrin" , 1 , 25 )
		ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		//カトリーン
		TalkPopup("Katrin",0,2,0,0,0) {
			"#080mええ、私もよ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//⇒大事に使います
	if (FLAG[TF_MENU_SELECT] == 2){

		//カトリーン
		TalkPopup("Katrin",0,2,0,0,0) {
			"#000e#080mフフ、そうしなさい。"
			"フフ2行目"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	─────────────────────────

	// カットX ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , -1.214f , -1418.809f , 17.963f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.331f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.943f , 0 )	// 基本仰角
	RotateCamera( 0 , 229.740f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookSpd("ADOL"	, 1.0, 1.0, 1.0)
	LookSpd("LAXIA"	, 1.0, 1.0, 1.0)
	LookSpd("SAHAD"	, 1.0, 1.0, 1.0)
	LookSpd("RICOTTA"	, 1.0, 1.0, 1.0)
	LookSpd("Katrin"	, 1.0, 1.0, 1.0)

	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	LookChr("LAXIA", "Katrin")
	LookChr("SAHAD", "Katrin")
	LookChr("RICOTTA", "Katrin")

	// フェード待ち
	Wait(FADE_CROSS)

	LookSpd("ADOL"		, 0.1, 0.1, 0.1)
	LookSpd("LAXIA"		, 0.1, 0.1, 0.1)
	LookSpd("SAHAD"		, 0.1, 0.1, 0.1)
	LookSpd("RICOTTA"	, 0.1, 0.1, 0.1)
	LookSpd("Katrin"	, 0.1, 0.1, 0.1)

	//カトリーン
	TalkPopup("Katrin",0,1,0,0,0) {
		"#000e#000mただ、その子たちはまだ"
		"ヒイロカネの純度に改良の余地がある。\p"
		"素材が揃ったら今まで通り、"
		"この鍛冶場で鍛え直してあげるわ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_S", -1, 1 )	// 両手 前組み

	//ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#080mはい、ありがとうございます。"
	}
	WaitPrompt()
	WaitCloseWindow()

	StopBGM(60)

	PlaySE(SE_M03S231_01, 100, 1, 0, 0, 1.0f, 0)	//警鐘
	Wait(30)

//	TalkPopup(UNDEF, 0, 0, 0, 0, 0) {
//		"#7C◆次の瞬間、頭上から警鐘が鳴り響く"
//	}
//	WaitPrompt()
//	WaitCloseWindow()

	//　　次の瞬間、頭上から警鐘が鳴り響く。
	//　　アドル、ラクシャ、サハドに「！」エモーション。

	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("SAHAD", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SUP_S, 1)	// 目
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SUP_S, 1)	// 目
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SUP_S, 1)	// 目
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_OPEN_S,1)

	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_TAME_S,1)
	ChangeAnimation( "SAHAD" , "ANI_EV_SUP_S", -1 , 1 )
	Wait(45)

	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_E", -1, 1 )	// 両手 前組み
	LookChr("LAXIA", "ADOL")

	//ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#000e#000mこれは……迎撃戦の合図です！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//男性の声
	SetName("男性の声")
	TalkPopup("Dogi", 0, 3, 100, 230, 0) {
		"#000e#000mアドル、ここにいたのか！" 
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	PlayBGM(BGM_EVENT_012, 0)
	StopSE(SE_M03S231_01, 4000)

	ChangeAnimation( "SAHAD" , "ANI_EV_SUP_E", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_TAME_E,1)

	//　　ドギが駆けつけて来てフレームイン。
	
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -0.793f , -1417.657f , 18.043f , 70 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.131f , 70 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.937f , 70 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 267.559f , 70 )
	
//	CrossFade(FADE_NORMAL)
	ResetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)
//	MoveCameraAt(0, -2.779f, -1418.250f, 19.035f, 0)	// 注視点
//	ChangeCameraDistance(0, 2.651f, 0)		// 基本距離
//	ChangeCameraElevation(0, 21.037f, 0)	// 基本仰角
//	RotateCamera(0, 282.035f, 0)				// 角度
//	ChangeCameraPers(0, 35.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 1.8f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 272.358f, 120)		// 角度

	Wait(30)
	SetMotSpd("Dogi" ,-1 , 0.8f )	// モーションスピード変更
	ExecuteCmd(1, MoveTo, "Dogi", 1.51f, -1416.73f, 16.55f, 0.1f, 0.70f)

	LookChr("ADOL", "Dogi")
	Turn("ADOL", -155.16f, 10.0f)
	LookChr("LAXIA", "Dogi")
	Turn("LAXIA", -147.16f, 10.0f)

	WaitAnimation2( "SAHAD" , -1, 1, "ANI_EV_SUP_E",  0)
	LookChr("SAHAD", "Dogi")
	Turn("SAHAD", -142.74f, 10.0f)
	LookChr("RICOTTA", "Dogi")
	Turn("RICOTTA", -137.86f, 9.0f)

	LookChr("Dogi", "SAHAD")

//	Turn("Dogi", 34.15f, 10.0f)
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	WaitThread(1)
	Wait(20)
	SetMotSpd("Dogi" ,-1 , 1.0f )	// モーションスピード戻す

	ChangeAnimation( "Dogi", "ANI_EV_BORI", -1, 1 )	// 頭かき

	//ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#050e#000mやれやれ、お前さんたちが"
		"村にいる時で助かったぜ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#080mガハハ、どうしたんだ。"
		"わざわざ迎えに来てくれたのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX ---------------------------------------------------------------------------------------

	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , 0.353f , -1417.931f , 17.941f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.201f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.981f , 0 )	// 基本仰角
	RotateCamera( 0 , 117.449f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -0.57f, -1418.82f, 16.55f)
	Turn("ADOL", -140.95f, 360.0f)
	SetChrPos("LAXIA", 1.23f, -1419.37f, 16.55f)
	Turn("LAXIA", -143.61f, 360.0f)
	SetChrPos("SAHAD", 0.92f, -1418.41f, 16.55f)
	Turn("SAHAD", -164.06f, 360.0f)
	SetChrPos("RICOTTA", -0.33f, -1417.93f, 16.55f)
	Turn("RICOTTA", -137.86f, 360.0f)
	SetChrPos("Dogi", 1.59f, -1416.20f, 16.55f)
	Turn("Dogi", 33.63f, 360.0f)
	SetChrPos("Katrin", -2.06f, -1417.52f, 16.55f)
	Turn("Katrin", -84.61f, 360.0f)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目

	LookSpd("ADOL"	, 1.0, 1.0, 1.0)
	LookSpd("LAXIA"	, 1.0, 1.0, 1.0)
	LookSpd("SAHAD"	, 1.0, 1.0, 1.0)
	LookSpd("RICOTTA"	, 1.0, 1.0, 1.0)
	LookSpd("Katrin"	, 1.0, 1.0, 1.0)

	LookChr("ADOL", "Dogi")
	LookChr("LAXIA", "Dogi")
	LookChr("SAHAD", "Dogi")
	LookChr("RICOTTA", "Dogi")
	LookChr("Katrin", "Dogi")

	Wait(FADE_CROSS)

	//ドギ
	TalkPopup("Dogi",0,1,0,0,0) {
		"#000e#000mああ、お前さんたちにも"
		"伝えておきたいことがあってな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	//ドギ
	TalkPopup("Dogi",0,1,0,0,0) {
		"さっき偵察に出ていた"
		"エアランから報告があったんだが……\p"
		"どうやら今回は獣たちの中に"
		"古代種が紛れているらしい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、ラクシャ、サハドに「！」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("SAHAD", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	//ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SUP_S, 1)	// 目
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SUP_S, 1)	// 目
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SUP_S, 1)	// 目
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_TAME_S,1)

	LookSpd("ADOL"		, 0.1, 0.1, 0.1)
	LookSpd("LAXIA"		, 0.1, 0.1, 0.1)
	LookSpd("SAHAD"		, 0.1, 0.1, 0.1)
	LookSpd("RICOTTA"	, 0.1, 0.1, 0.1)
	LookSpd("Katrin"	, 0.1, 0.1, 0.1)

	Wait(45)
	
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	
	//ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mそ、それは本当ですか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "LAXIA")
	Wait(5)
	HeadYes("Dogi", 1, 25)	// キャラ, うなずき回数, 速さ
	
	//ドギ
	TalkPopup("Dogi",0,1,0,0,0) {
		"#000e#000mああ、それも聞いた限りじゃ、"
		"以前ここの海岸で暴れたヤツらしい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000m名無しがやられたヤツだな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("RICOTTA", "ADOL")
	TurnToChr("RICOTTA", "ADOL", 8.5f)
	Wait(10)
	ChangeAnimation("RICOTTA", "ANI_EV_GUTSPOSE_S", -1, 1)
	
	LookChr("ADOL", "RICOTTA")

	//リコッタ
	TalkPopup("RICOTTA",0,1,0,0,0) {
		"#000e#000m新しい武器ある！"
		"アドル、古代種狩る！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Katrin", "ADOL")
	Wait(15)

	// うなずきセット
	HeadYes("Katrin" , 1 , 25 )
	ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	//カトリーン
	TalkPopup("Katrin",0,2,0,0,0) {
		"#000mふむ、ヒイロカネの武器……"
		"問題なく通用するはずよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "ADOL")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	LookReset("ADOL")

	//ドギ
	TalkPopup("Dogi",0,1,0,0,0) {
		"#000e#000mああ、強敵に違いないが、"
		"その武器を試す絶好の機会かもな。\p"
		"これまでの雪辱戦だと思って"
		"存分に腕を振るってくれ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル頷いてフェードアウト。

	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(25)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
//　　そのまま迎撃戦の処理に接続して操作許可。
//　　尚、この迎撃戦は「古代種を倒す」ことが条件となるので、
//　　専用の処理が必要になる予定です。

///終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M03S231_ED")
}

function "EV_M03S231_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止
	RestoreEventState()

	//モンスターを復帰
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	SetChrWork("ADOL", CWK_BATTLEMODE, 0)	
	SetChrWork("RICOTTA", CWK_BATTLEMODE, 0)
	SetChrWork("SAHAD", CWK_BATTLEMODE, 0)	
	SetChrWork("LAXIA", CWK_BATTLEMODE, 0)	

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_RICOTTA")
	CallFunc("system:reset_chrmot_Dogi")
	CallFunc("system:reset_chrmot_Katrin")

	ResetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	
	SetFlag( GF_QUEST_303, QUEST_START )		// 【QS303】強制イベントを見た
	SetFlag( GF_QS303_QUESTEVENT, 1 )			// 【QS303】強制イベントを見た	
	SetDiaryFlag( DF_QS303_START, 1 )			// 【QS303】

	SetFlag( GF_QUEST_303, QUEST_SUCCESS )
	SetFlag( GF_QS303_QUESTCLEAR, 1 )			// 【QS303】クリアした
	SetDiaryFlag( DF_QS303_END, 1 )			// 【QS303】

	GetItem(ICON3D_US_MANGO_S,1)		//完熟マンゴー
	
	SetFlag(SF_TOWNMODE, 1)
	SetFlag( GF_03MP1201_ALARM_INTERCEPT, 1 )			// 警鐘が鳴り響く
	//SetFlag(GF_TBOX_DUMMY073,1)
	//SetFlag( SF_MISSIONNO, MS_03_09 )	//★冒険メモ：力を合わせて獣を迎撃しよう。
	//SetDiaryCharaFlag( DRCHA_KATRIN, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（カトリーン）
	//SetFlag( GF_CAMP_VILLAGE_LV, 7 )	// 漂流村の発展設定：集落LV7
	SetFlag(SF_DEFEAT_ANCIENT, 1)		//古代種を倒せるようになる。

	DeleteItem(ICON3D_HIIROKANE,9999)		//ヒイロカネ原石消去

	//マーカーセット
	DelMapMarker( SMI_SYMBOL,PAGE_MP120x, MARKER_EV_M03S230, 0, 0)

	//迎撃戦処理
	//Intercept(INTERCEPT_STAGE06, 1)	// 時間切れ間近(赤)
	//SetFlag(GF_INTERCEPT_NO, INTERCEPT_STAGE06)

	//イベント後の再配置位置
	SetChrPos("LEADER",0.08f,-1419.50f,16.55f)
	Turn("LEADER",-99.75f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用
	
	//NPC復帰
	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init" )											//NPCをREMOVEしている場合に実行
	
	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ位置復帰or初期位置設定
	MoveCameraAt( 0 , -0.790f , -1420.050f , 18.412f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 59.945f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	EventCue("mp1201:EV_M03S260_ED")
	//WaitFade()
//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼再びジャンダルムへ向けて出発する(mp1201)
//──────────────────────────────
function "EV_M03S260"					//再びジャンダルムへ向けて出発する(mp1201)
{

//開始処理ここから-----------------------------------------------
	
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 28.56f, -1423.10f, 10.83f)
	Turn("ADOL", 87.25f, 360.0f)
	ChangeAnimation("ADOL","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 27.14f, -1424.05f, 10.83f)
	Turn("LAXIA", -173.92f, 360.0f)
	ChangeAnimation("LAXIA","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("LAXIA" , "ADOL")

	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 25.69f, -1423.09f, 10.83f)
	Turn("SAHAD", -164.10f, 360.0f)
	ChangeAnimation("SAHAD","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("SAHAD")

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", 25.39f, -1421.38f, 10.83f)
	Turn("RICOTTA", -18.79f, 360.0f)
	ChangeAnimation("RICOTTA","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("RICOTTA")
	SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI )
	
	//カメラ設定
	MoveCameraAt( 0 , 30.567f , -1422.397f , 12.725f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.439f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -5.058f , 0 )	// 基本仰角
	RotateCamera( 0 , 153.874f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000, 0.000, 0.150, 0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:EV_M03S260_ED")
	
//開始処理ここまで-----------------------------------------------
	
	//　　画面暗転のまま鳥の囀りが聞こえてくる。
	//　　フェードインして集会所に集まっているアドルたち。
	//　　時計回りにアドル、ラクシャ、サハド、リコッタ。

	PlaySE("SE_SUZUME", 100, 0,  0, 0, 1.0f, 0)		//◆鳥のさえずり
	Wait(30)

	PlayBGM(BGM_TOWN_501, 0)

	LookChr("RICOTTA", "SAHAD")
	LookChr("SAHAD", "RICOTTA")
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SAD, 1)	// 目

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 28.853f , -1421.623f , 12.725f , 65 )

	FadeIn(FADE_BLACK,FADE_NORMAL)
	Wait(FADE_NORMAL)

	WaitThread(1000)
	Wait(10)

	// カットX ----------------------------------------------------------------------------------------
	
	CrossFade(FADE_FAST)

//	MoveCameraAt(0, 27.026f, -1421.934f, 12.198f, 0)	// 注視点
//	ChangeCameraDistance(0, 3.557f, 0)		// 基本距離
//	ChangeCameraElevation(0, 4.317f, 0)	// 基本仰角
//	RotateCamera(0, 101.040f, 0)				// 角度
//	ChangeCameraPers(0, 30.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , 25.911f , -1421.654f , 12.278f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.896f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -6.854f , 0 )	// 基本仰角
	RotateCamera( 0 , 159.065f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_FAST)

	//リコッタ
	TalkPopup("RICOTTA",0,1,0,0,0) {
		"#000e#000mサハド、大丈夫か？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
//	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_PAIN_S, 1)
//	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_PAIN_S, 1)
	ChangeAnimation("SAHAD", "ANI_EV_BORI", -1, 1)
	LookReset("SAHAD")
	
	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#061e#150mアタタ、頭が割れそうだ……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
//	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_PAIN_E, 1)
//	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_PAIN_E, 1)
//	ChangeAnimation("SAHAD", "ANI_EV_BORI_E", -1, 1)

	ChangeAnimation( "RICOTTA", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	Wait(10)

	//　　リコッタに「？」エモーション。
	EmotionEx("RICOTTA", 0.00f,0,1,5,1,1,1.0f)	// 「？」
	LookRoll("RICOTTA", 10.0f)	// かしげる
	Wait(45)

	//リコッタ
	TalkPopup("RICOTTA",0,1,0,0,0) {
		"#000e#000mアタマが悪そう？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookRoll("RICOTTA", 0.0f)	// かしげる

	ChangeAnimation( "SAHAD", "ANI_EV_HOHOKAKI", -1, 1 )	// 頬かき
	LookChr("SAHAD", "RICOTTA")

	//サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#080e#080mガハハ、確かに頭は悪いんだが……"
		"頭2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　サハドに「！」エモーション
	EmotionEx("SAHAD", 0.05f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SUP_S, 1)	// 目
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_OPEN_S,1)
	LookReset("SAHAD")
	Wait(35)
	ChangeAnimation("SAHAD", "ANI_EV_BIBIRI_S", -1, 1)

	//サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#061e#000mおお！ズキズキしやがる……"
	}
	WaitPrompt()
	WaitCloseWindow()

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 28.492f, -1421.265f, 12.198f, 60)		// 注視点
//	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 126.912f, 60)		// 角度

//	WaitThread(1000)
//	WaitThread(1001)


	// カットX ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 27.105f , -1422.916f , 12.198f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.316f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.853f , 0 )	// 基本仰角
	RotateCamera( 0 , 51.723f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookSpd("ADOL"	, 1.0, 1.0, 1.0)
	LookSpd("LAXIA"	, 1.0, 1.0, 1.0)
	LookSpd("SAHAD"	, 1.0, 1.0, 1.0)
	LookSpd("RICOTTA"	, 1.0, 1.0, 1.0)

	SetChrPos("SAHAD",25.39f, -1422.79f, 10.83f)
	Turn("SAHAD", -139.23f, 360.0f)
	Turn("RICOTTA", -36.56f, 360.0f)
	LookChr("LAXIA", "RICOTTA")
	ChangeAnimation( "RICOTTA", "ANI_WAIT", -1, 1 )	// 待機

	// フェード待ち
	Wait(FADE_CROSS)

	LookSpd("ADOL"		, 0.1, 0.1, 0.1)
	LookSpd("LAXIA"		, 0.1, 0.1, 0.1)
	LookSpd("SAHAD"		, 0.1, 0.1, 0.1)
	LookSpd("RICOTTA"	, 0.1, 0.1, 0.1)

	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	//ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mリコッタちゃん、放っておきなさい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "SAHAD")
	ChangeAnimation("LAXIA", "ANI_EV_UDEGUMI_S", -1, 1)

	//ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"まったく……"
		"調子に乗って飲み過ぎるからです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("SAHAD", "ANI_EV_BIBIRI_E", -1, 0)
	WaitAnimation2("SAHAD", -1, 1, "ANI_EV_BIBIRI_E", 0)
	LookChr("SAHAD", "LAXIA")
	Turn("SAHAD", -75.27f, 9.0f)
//	ChangeAnimation("SAHAD", "ANI_EV_RYOTEBURI", -1, 1)

	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#062e#080mいや、面目ない。ついなぁ……"
		"面目２行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャに「…」エモーション。
	EmotionEx("LAXIA", 0.0f, "EMO_3DOT", 27, 5, 1, 1, 1.0f)	// 「…」
	Wait(55)

	ChangeAnimation("LAXIA", "ANI_EV_UDEGUMI_E", -1, 1)

	//ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mでも、あれほど晴れやかな皆さんの"
		"顔を見たのは初めてかもしれません。\p"
		"何と言いますか……いいものですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#020e#080m……ガハハ、そうだな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("RICOTTA", "LAXIA")

	//リコッタ
	TalkPopup("RICOTTA",0,2,0,0,0) {
		"#021e#080mみんな嬉しい、リコッタ嬉しい！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "ADOL")

	//ラクシャ
	TalkPopup("LAXIA",0,1,0,0,0) {
		"#000e#000mヒイロカネの武器が古代種に"
		"通用することも証明されましたし……\p"
		"アドル、改めてジャンダルムに向け、"
		"出発するといたしましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、頷きモーション。
	
	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	
//	CrossFade(FADE_NORMAL)
//	SetChrPos("ADOL", 28.82f, -1423.03f, 10.83f)
//	Turn("ADOL", 105.35f, 360.0f)
//	SetChrPos("LAXIA", 27.80f, -1423.80f, 10.83f)
//	Turn("LAXIA", 167.84f, 360.0f)
//	SetChrPos("SAHAD", 25.69f, -1423.09f, 10.83f)
//	Turn("SAHAD", -142.41f, 360.0f)

//	MoveCameraAt(0, 29.791f, -1424.508f, 12.496f, 0)	// 注視点
//	ChangeCameraDistance(0, 3.557f, 0)		// 基本距離
//	ChangeCameraElevation(0, 6.487f, 0)	// 基本仰角
//	RotateCamera(0, 57.910f, 0)				// 角度
//	ChangeCameraPers(0, 20.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

//	Wait(FADE_NORMAL)

//	LookChr("SAHAD", "RICOTTA")
//	LookChr("LAXIA", "RICOTTA")

	Wait(15)

	LookChr("SAHAD", "ADOL")
	//サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#080e#080mおーよ、リコッタの"
		"親父さんも探さなくちゃな！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("RICOTTA", "ADOL")

	ChangeAnimation("RICOTTA", "ANI_EV_KYOSHU_S", -1, 1)

	//リコッタ
	TalkPopup("RICOTTA",0,2,0,0,0) {
		"#080e#020mえいえいおー！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)
	
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　ここで操作許可。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M03S260_ED")
}

function "EV_M03S260_ED"											//イベントスキップ用に終了処理を別のfunctionとして用意します。
{
	SetSkipScript("")												//終了処理はスキップ禁止

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//モンスターを復帰
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_RICOTTA")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	SetFlag(SF_SETRAMSAVE,1)		//リトライセーブ
	SetFlag(GF_TBOX_DUMMY073, 1)			// 再びジャンダルムへ向けて出発
	//SetFlag( SF_MISSIONNO, MS_03_10 )	//★冒険メモ：ジャンダルムを探索しよう。

	//マーカーセット
	// removing main event marker on giasburn after obtaining orichalcum
	// SetMapMarker( SMI_SYMBOL, PAGE_MP433x, MARKER_EV_M03S270, 427.57f, -9.42f, 759.63f, 427.57f, -9.42f, MARKER_EV_M03S270, MN_D_MP4341,0)	//翼竜型古代種登場
	
	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init")

	//イベント後の再配置位置
	SetChrPos("LEADER",33.61f,-1418.06f,10.83f)
	Turn("LEADER",-119.09f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用
	
	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ位置復帰or初期位置設定
	MoveCameraAt( 0 , 33.475f , -1417.997f , 12.690f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 149.178f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	EventCue("mp1201:init")
	//WaitFade()
//終了処理ここまで----------------------------------------------------
}


//──────────────────────────────
//▼ダーナのアザに気づく(mp1202)
//──────────────────────────────
function "EV_M05S000"			//ダーナのアザに気づく
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Aaron")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -30.33f, -1377.31f, 12.39f)
	Turn("ADOL", 92.76f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", -32.39f, -1376.85f, 12.39f)
	Turn("RICOTTA", 48.02f, 360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_SAD, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", -29.18f, -1378.21f, 12.39f)
	Turn("SAHAD", 110.89f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", -33.14f, -1376.62f, 12.39f)
	Turn("LAXIA", 24.47f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", -29.88f, -1376.70f, 12.39f)
	Turn("HUMMEL", 77.76f, 360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrInfoFlag( "DANA" , INFOFLAG_FLING )	// 高さ無視
	SetChrPos("DANA", -33.80f, -1377.80f, 13.07f)
	Turn("DANA", -74.29f, 360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", -25.68f, -1377.27f, 12.39f)
	Turn("Aaron", 91.97f, 360.0f)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	// 初期モーション
	ChangeAnimation( "DANA", "ANI_EV_SLEEP_BED", -1, 1 )	// ダーナ寝る
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE, 1)	// 目
	LookChr("LAXIA", "DANA")
	LookChr("RICOTTA", "DANA")
	LookChr("ADOL", "DANA")
	LookChr("SAHAD", "DANA")
	LookChr("HUMMEL", "DANA")
	
	// その他
	MapHide("bed2_blanketA" , 0 )
	MapHide("bed2_blanketB" , 0 )

	Wait(30)

	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 1920,1080, 0.0f, 0x00ffffff, 0x00000000)

	Portrait_Load(  1 , "visual/portrait/chap60.itp" )	//第五部エフェクトタイトル
	Portrait_Create(1 , -64 , 28 , 
					0 , 0 , 2048 , 1024 , 
					0.0f , 0x00ffffff , 0x00000000 )

	//カメラ設定
	MoveCameraAt( 0 , -34.002f , -1377.680f , 13.377f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.956f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 39.806f , 0 )	// 基本仰角
	RotateCamera( 0 , 112.992f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000, 2.000, 1.000, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M05S000_ED")

	//開始処理ここまで-----------------------------------------------

	// カット1 ---------------------------------------------------------------------------------------------------------
	
	// 非表示・再表示
	SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 非表示
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -34.002f , -1377.680f , 13.377f , 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.058f , 100 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 45.098f , 100)
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 100.397f , 100 )

	PlayBGM(BGM_EVENT_008, 0)
	SetEnvSEPlayState(1202001, 1)	//環境SEスタート
	SetEnvSEPlayState(1202201, 1)	//環境SEスタート
	SetEnvSEPlayState(1202202, 1)	//環境SEスタート
	SetEnvSEPlayState(1202203, 1)	//環境SEスタート

	// フェードイン
	FadeIn(FADE_BLACK, FADE_SLOW)
	Wait(FADE_SLOW)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -33.999f , -1377.679f , 13.738f , 120 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.121f , 120 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -5.747f , 120 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 289.920f , 120 )

	Wait(100)
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )
	Wait(10)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#010e#000mこれでよし……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("RICOTTA", "LAXIA")

	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#000mダーナ、大丈夫か？"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -32.467f , -1377.046f , 13.866f , 150 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.301f , 150 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.757f , 150 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 285.476f , 150 )

	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )
	WaitAnimation2( "LAXIA" , -1, 1, "ANI_EV_TEMUNE_E",  0)
	
	LookChr("LAXIA", "RICOTTA")
	TurnToChr("LAXIA", "RICOTTA", 6.0f)
	Wait(10)
	HeadYes("LAXIA", 1, 25)	// キャラ, うなずき回数, 速さ

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mええ、リヒトさんによれば、"
		"命に別状はないそうです。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)	// 目
	ChangeAnimation( "LAXIA", "ANI_EV_SIAN_S", -1, 1 )
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mそれにしてもダーナさんは"
		"過去の方だと思っていたのですが……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("ADOL", "LAXIA")
	LookChr("SAHAD", "LAXIA")
	LookChr("HUMMEL", "LAXIA")
	ChangeAnimation( "SAHAD", "ANI_EV_TEBURI", -1, 1 )

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mエタニア王国……だっけか？"
		"そんな昔のことじゃないのかもな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI_S", -1, 1 )
	LookReset("HUMMEL")

	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#010e#000mフン、どうだろうな……\p"
		"#000e#000mそれではあの王都が廃墟と"
		"化していることに説明がつかない。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_SIAN_E", -1, 1 )
	LookChr("LAXIA", "HUMMEL")

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mそれは……確かにそうですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	//　　リコッタにPAエモーション。
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_SAD_CLOSE_E,1)
	LookChr("RICOTTA", "DANA")
	Wait(5)
	EmotionEx("RICOTTA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.3f )	// 「PA」
	Wait(35)
	
	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#000mダーナ、肩に不思議なシルシある。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "DANA")
	TurnToChr("LAXIA", "DANA", 6.0f)

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000m印……ですか？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カット2 -----------------------------------------------------------------------------------------------------

	//　　ダーナの腕にある紋様をアップで映す。
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -33.627f , -1376.865f , 13.617f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.402f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 27.963f , 0 )	// 基本仰角
	RotateCamera( 0 , 158.962f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整など
	LookTo("HUMMEL", -34.382f , -1377.514f , 13.725f f)	// 帽子調整（座標をダーナやや上方に）
	LookChr("ADOL", "DANA")
	LookChr("SAHAD", "DANA")
	ChangeAnimation( "HUMMEL", "ANI_WAIT", -1, 1 )

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -33.930f , -1377.562f , 13.229f, 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.729f , 100 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 32.598f , 100 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 175.639f , 100 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// 位置調整など
	SetChrPos("ADOL", -31.13f, -1377.77f, 12.39f)
	Turn("ADOL", 85.65f, 360.0f)
	SetChrPos("SAHAD", -30.65f, -1378.52f, 12.39f)
	Turn("SAHAD", 96.67f, 360.0f)
	SetChrPos("HUMMEL",-31.50f, -1377.11f, 12.39f)
	Turn("HUMMEL", 77.76f, 360.0f)

	Wait(15)
	
	// カット3 ---------------------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -33.179f , -1377.675f , 13.785f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.421f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -6.945f , 0 )	// 基本仰角
	RotateCamera( 0 , 292.178f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// フェード待ち
	Wait(FADE_CROSS)
	
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mあら、今まで気づきませんでしたが"
		"確かに……\p"
		"#000e#000mまるで“眼”のような紋様ですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "HUMMEL", "ANI_EV_SIAN_S", -1, 1 )

	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#000e#000mエタニアの風習か、"
		"もしくは巫女の証といったところか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )

	// （ラクシャ）うなずき
	HeadYes("LAXIA" , 1 , 25 )
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000mええ、おそらくは……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャにPAエモーション表示。
	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.2f )	// 「PA」
	Wait(30)
	
	LookChr("LAXIA", "HUMMEL")
	TurnToChr("LAXIA", "HUMMEL", 8.0f)
	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEKOSI_S", -1, 1 )
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mほらほら、男性陣があまり"
		"ジロジロと見るべきではありません。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(15)

	PlayVoice(Y8V_3861,"Aaron",100)	//アドル（平常のテンション）


	//	男性の声
	SetName("男性の声")
	TalkPopup(UNDEF, 0, 3, 320, 50, 0) {
		"アドル、用事は済んだのかァ？"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	//　　アドルにPAエモーション。
	EmotionEx("ADOL", 0.05f, EMO_PA, 0, 5, 1, 1, 1.2f )	// 「PA」
	LookReset("ADOL")
	
	Wait(35)
	
	// カット4 ----------------------------------------------------------------------------------------
	
	//　　入口方面からエアランがやって来る。
	
	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , -29.600f , -1377.165f , 14.629f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.301f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.939f , 0 )	// 基本仰角
	RotateCamera( 0 , 238.675f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -30.41f, -1377.01f, 12.39f)
	Turn("ADOL", -103.81f, 360.0f)
	SetChrPos("LAXIA", -32.27f, -1376.38f, 12.39f)
	Turn("LAXIA", -76.92f, 360.0f)
	SetChrPos("SAHAD", -31.25f, -1378.22f, 12.39f)
	Turn("SAHAD", -99.89f, 360.0f)
	SetChrPos("RICOTTA", -31.60f, -1376.05f, 12.39f)
	Turn("RICOTTA", -81.03f, 360.0f)
	SetChrPos("HUMMEL", -31.50f, -1377.11f, 12.39f)
	Turn("HUMMEL", -83.27f, 360.0f)
	LookChr("ADOL", "Aaron")
	LookChr("LAXIA", "Aaron")
	LookChr("SAHAD", "Aaron")
	LookChr("RICOTTA", "Aaron")
	LookChr("HUMMEL", "Aaron")
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "HUMMEL", "ANI_WAIT", -1, 1 )	// 待機
	
	// 非表示・再表示
	ResetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 再表示
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -29.895f , -1377.650f , 13.885f, 90 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.701f , 90 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.425f , 90 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 224.349f , 90 )
		
	// 移動
	ExecuteCmd(1, MoveTo, "Aaron", -28.65f, -1376.88f, 12.39f, 0.1f, 0.21f)

	// フェード待ち
	Wait(FADE_NORMAL)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// 移動待ち
	WaitThread(1)
	
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mエアランさん……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "一区切りついたところさ")
	MenuAdd(2, "獣どもの様子はどうだい？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)

	// 手振り
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	//─────────────────────────

	//	⇒一区切りついたところさ
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// エアラン
		TalkPopup("Aaron", 0, 2, 0, 0, 0) {
			"#000e#000mフン、そいつが噂の娘か？\p"
			"遺跡で眠ってたなんて"
			"この目で見てもまだ信じられねえなァ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	
	//	⇒獣たちの様子はどうだい？
	if (FLAG[TF_MENU_SELECT] == 2 ) {

		// エアラン
		TalkPopup("Aaron", 0, 2, 0, 0, 0) {
			"#011e#000mフン、すぐに仕掛けて来る"
			"気配は今のところないらしい。\p"
			"さっさと突っかかってくりゃあ、"
			"返り討ちにしてやるんだがなァ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_CLOSE_E,1)	
	}
	//─────────────────────────

	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	
	// エアラン
	TalkPopup("Aaron", 0, 0, 0, 0, 0) {
		"#000mまあいい……それよりドギが"
		"今のうちに話したいことがあるそうだ。\p"
		"全員とっとと集会所に集まってくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、頷きモーション表示後に画面フェードアウト。
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(20)

	// フェードアウト
	FadeOut(FADE_BLACK, 45)
	Wait(45)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	
	//暗転し切ったところで下記のエフェクトタイトルを表示。
	//エフェクトタイトル
	//「第五部　大樹の巫女」

	//★エフェクトタイトル////////////////////////////////////////////////
	Wait(30)

	//擬似フェードアウト
	Portrait_Anime(  0 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f,0)
	FadeIn(FADE_BLACK,0)
	WaitFade()

	Portrait_Anime(  1 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f,FADE_SLOW)
	Wait(30)

	//時限式選択肢
	//◆SE無効化コマンド置換用
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuAdd( 1 , "" )
	MenuOpen( TF_MENU_SELECT , 0 ,0 , 0 , 0 , 0 , 0 )
	WaitMenu(180) //ウェイトしたい数値
	MenuClose(0,0)

	Portrait_Anime(  1 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f,45)
	Wait(45)
	Wait(30)

	//擬似フェードアウト
	FadeOut(FADE_BLACK,0)
	WaitFade()
	Portrait_Anime(  0 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f,0)

	Portrait_Close(  -1 )
	Portrait_Unload( -1 )

	/////////////////////////////////////////////////////////////////////

	
	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M05S000_ED")
}

function "EV_M05S000_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)

	Portrait_Close(  -1 )
	Portrait_Unload( -1 )

	//パーティキャラを解放
	//ReleaseEventPartyChr()

	//マップパラメーターリセット
	//ResetMapParam(-1)

	//NowLoading 時の Tips 表示をカット
	SetFlag( TF_LOADING_TIPS_OFF, 1 )

	//CallFunc("system:camera_reset")

	PlayBGM(BGM_EVENT_008, 0)
	SetFlag(SF_NOCHANGEBGM, 1)

	LoadArg("map/mp1201/mp1201.arg")
	EventCue("mp1201:EV_M05S001")

	ResetStopFlag(STOPFLAG_EVENT)


	//終了処理ここまで----------------------------------------------------
}


//──────────────────────────────
//▼ドギたちに北部の状況を伝える(mp1201)
//──────────────────────────────
function "EV_M05S001"			//ドギたちに北部の状況を伝える
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Thanatos")
	LoadChr("Aaron")
	LoadChr("Dogi")
	
	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 26.11f, -1423.36f, 10.83f)
	Turn("ADOL", -147.86f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", 28.77f, -1421.96f, 10.83f)
	Turn("RICOTTA", 80.00f, 360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 28.39f, -1423.24f, 10.83f)
	Turn("SAHAD", 130.86f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 27.25f, -1423.67f, 10.83f)
	Turn("LAXIA", 171.28f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", 28.20f, -1420.73f, 10.83f)
	Turn("HUMMEL", 46.93f, 360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

//	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrPos("DANA", 25.66f, -1423.07f, 10.83f)
//	Turn("DANA", -135.42f, 360.0f)
//	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
//	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
//	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
//	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
//	LookReset("DANA")
//	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Thanatos", 27.05f, -1420.08f, 10.83f)
	Turn("Thanatos", 10.26f, 360.0f)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 25.91f, -1420.62f, 10.83f)
	Turn("Aaron", -39.49f, 360.0f)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 25.37f, -1422.09f, 10.83f)
	Turn("Dogi", -92.79f, 360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	LookChr("Dogi", "ADOL")
	LookChr("Aaron", "LAXIA")
	LookChr("Thanatos", "LAXIA")

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )
	PlayBGM(BGM_EVENT_008, 0)

	//カメラ設定
//	MoveCameraAt( 0 , 25.776f , -1422.141f , 14.182f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.100f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 2.774f , 0 )	// 基本仰角
//	RotateCamera( 0 , 21.908f , 0 )				// 角度
//	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	MoveCameraAt( 0 , 27.969f , -1421.993f , 12.730f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.753f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.684f , 0 )	// 基本仰角
	RotateCamera( 0 , 5.145f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 60.000, 2.000, 0.450, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M05S001_ED")

	//開始処理ここまで-----------------------------------------------
	
	// カット1 -----------------------------------------------------------------------------------------

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.969f , -1421.993f , 12.383f, 85 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,  6.753f, 85 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,-4.490f , 85 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 349.713f , 85 )

	//MoveCameraAt( 0 , 27.969f , -1421.993f , 12.383f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 6.753f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -4.490f , 0 )	// 基本仰角
	//RotateCamera( 0 , 349.713f , 0 )				// 角度
	//ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	//　　フェードインして焚火の前にドギ、エアラン、タナトス
	//　　そしてアドル班の全員が集まっている状態。
	//　　時計回りにアドル、ドギ、エアラン、タナトス、
	//　　ヒュンメル、リコッタ、サハド、ラクシャの順。

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	Wait(10)

	// カット2 -----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ
	MoveCameraAt( 0 , 27.347f , -1423.066f , 12.421f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.503f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.802f , 0 )	// 基本仰角
	RotateCamera( 0 , 41.804f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示

	Wait(FADE_FAST)
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000m──古代世界に謎の遺跡群、"
		"そして夢に登場する巫女の存在か。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("Dogi")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )
	Look("Dogi", 0.0f, -10.0f)	// うつむく

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#010e#000mまさか島の北側が"
		"そんなことになっているとはなあ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_S", -1, 1 )

	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#000e#000mあの娘がいなきゃ、幻でも"
		"見たんじゃねえかと疑いたくなるぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Thanatos", "Dogi")
	ChangeAnimation( "Thanatos", "ANI_EV_TEBURI", -1, 1 )

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#000e#000mそう言うわりにお前さんたち、"
		"落ち着いているように見えるがのう。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	LookChr("Dogi", "Thanatos")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mタナトスさんっていったか。\p"
		"アドルと一緒にいると、"
		"この手の話は後を絶たなくてなあ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Dogi", "ANI_EV_AKIRE", -1, 1 )
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#11e#000m俺からしてみれば、"
		"正直もう慣れっこってもんだぜ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　タナトスにPAエモーション。
	EmotionEx("Thanatos", 0.00f, EMO_PA, 0, 5, 1, 1, 1.2f )	// 「PA」
	Wait(35)
	ChangeAnimation( "Thanatos", "ANI_EV_UDEGUMI_S", -1, 1 )

	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	
	// タナトス
	TalkPopup("Thanatos", 0, 0, 0, 0, 0) {
		"#000mほう？　それは興味深いのう。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("Thanatos")
	
	// タナトス
	TalkPopup("Thanatos", 0, 0, 0, 0, 0) {
		"#000mいずれ、アドルの冒険について"
		"じっくり話を聞かせてもらおうかの。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL", "Thanatos")

	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "ええ、もちろんです")
	MenuAdd(2, "タナトスさんの話も聞きたいです")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)
	
	// 手振り
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//─────────────────────────
	//	⇒ええ、もちろんです
	if (FLAG[TF_MENU_SELECT] == 1 ) {
		
		ChangeAnimation( "Thanatos", "ANI_EV_UDEGUMI_E", -1, 1 )
		
		// タナトス
		TalkPopup("Thanatos", 0, 0, 0, 0, 0) {
			"#020e#080mワハハ、楽しみが"
			"また一つ増えそうじゃな。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_LAUGH_E, 1)
	
	//	⇒タナトスさんの話も聞きたいです
	if (FLAG[TF_MENU_SELECT] == 2 ) {

		ChangeAnimation( "Thanatos", "ANI_EV_UDEGUMI_E", -1, 1 )

		// タナトス
		TalkPopup("Thanatos", 0, 0, 0, 0, 0) {
			"#020e#080mワハハ、そう来たか。"
			"お前さんとは気が合いそうじゃな。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_LAUGH_E, 1)

	}

	//─────────────────────────

	//　　ラクシャに冷や汗エモーション。
	EmotionEx("LAXIA", 0.02f, EMO_TARA, 0, 5, 1, 1, 0.88f )	// 「冷や汗」
	Wait(60)


	// カット3 ------------------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , 27.063f , -1421.261f , 12.181f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.793f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.238f , 0 )	// 基本仰角
	RotateCamera( 0 , 134.473f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	SetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 非表示
	MapHide( "fire_alpha" ,  0)		// 焚き火OFF

	// 位置調整など
	SetChrPos("Thanatos", 26.79f, -1420.09f, 10.83f)
	Turn("Thanatos", -11.06f, 360.0f)
	SetChrPos("Aaron", 25.40f, -1421.20f, 10.83f)
	Turn("Aaron", -67.92f, 360.0f)
	SetChrPos("Dogi", 25.36f, -1422.33f, 10.83f)
	Turn("Dogi", -103.45f, 360.0f)
	LookReset("Dogi")
	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_E", -1, 1 )

	Wait(FADE_CROSS)

	
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	ChangeAnimation( "LAXIA", "ANI_EV_SEKI", -1, 1 )
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	LookChr("Dogi", "LAXIA")
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#010e#000mコホン、その件につきましては"
		"キリがありませんのでこの辺りで。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("LAXIA", "Thanatos")
	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_S", -1, 1 )
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mとにかくこの島は単なる無人島でなく、"
		"大きな謎を秘めているようです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("Dogi" , 1 , 25 )
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000mああ、どうやらそのようだな。\p"
		"船の設計図が手に入ったとはいえ、"
		"まだまだ油断はできねぇみたいだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_TEBURI", -1, 1 )

	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#000e#000m船の完成までは獣どもとも"
		"お付き合いしなきゃならんだろ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Thanatos", "ANI_EV_SIAN_S", -1, 1 )

	// タナトス
	TalkPopup("Thanatos", 0, 1, 0, 0, 0) {
		"#011e#000mウム、それに古代種たちが"
		"活発になっておることも確かじゃ。\p"
		"#012e#000m今後、今まで以上に状況の把握に"
		"努めたほうがいいじゃろうな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Thanatos", "ANI_EV_SIAN_E", -1, 1 )

	// タナトス
	TalkPopup("Thanatos", 0, 1, 0, 0, 0) {
		"あのダーナという娘が目覚めれば、"
		"話を聞くこともできるじゃろう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット4 ---------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 28.263f , -1422.077f , 12.430f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.975f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -13.925f , 0 )	// 基本仰角
	RotateCamera( 0 , 316.000f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 非表示
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 28.263f , -1422.077f , 12.150f, 45 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.974f  , 45 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -13.643f , 45 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 329.737f , 45 )

	// 位置調整
	SetChrPos("HUMMEL", 28.37f, -1420.91f, 10.83f)
	Turn("HUMMEL", 46.93f, 360.0f)
	LookReset("LAXIA")

	// フェード待ち
	Wait(FADE_CROSS)
	
	//　　不意に挙手するリコッタ。
	ChangeAnimation( "RICOTTA", "ANI_EV_KYOSHU_S", -1, 1 )

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	PlayVoice(Y8V_2564,"RICOTTA",100)	//なはは（楽しそうに）
	
	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#020e#000mリコッタ、ダーナの家族になる！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "HUMMEL", "ANI_EV_SIAN_S", -1, 1 )

	PlayVoice(Y8V_2170,"HUMMEL",100)	//フッ（微笑）

	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#010e#000m記憶を失っている様子だったが、"
		"味方になるかどうか……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "HUMMEL", "ANI_EV_SIAN_E", -1, 1 )
	LookChr("HUMMEL", "ADOL")
	
	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#000e#000mそこのところはどうなのだ？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , 27.015f , -1422.483f , 12.284f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.505f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.844f , 0 )	// 基本仰角
	RotateCamera( 0 , 340.462f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示
	MapHide( "fire_alpha" , 1 )		// 焚き火ON

	// 位置調整など
	SetChrPos("Aaron", 25.92f, -1420.60f, 10.83f)
	Turn("Aaron", -39.50f, 360.0f)
	SetChrPos("Thanatos", 27.25f, -1420.13f, 10.83f)
	Turn("Thanatos", 10.26f, 360.0f)
	ChangeAnimation( "RICOTTA", "ANI_EV_KYOSHU_E", -1, 1 )
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	LookChr("Dogi", "ADOL")
	LookChr("Aaron", "ADOL")
	LookChr("Thanatos", "ADOL")
	LookChr("LAXIA", "ADOL")
	LookChr("SAHAD", "ADOL")
	LookChr("RICOTTA", "ADOL")

	// フェード待ち
	Wait(FADE_CROSS)

	//　　アドルに「…」エモーション表示。
	EmotionEx("ADOL", 0.0f, "EMO_3DOT", 27, 5, 1, 1, 0.9f)	// 「…」
	Wait(50)
	
	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "何とも言えないな……")
	MenuAdd(2, "彼女なら問題ないと思う")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)

	LookChr("ADOL", "HUMMEL")
	Wait(5)
	
	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//─────────────────────────
	//	⇒何とも言えないな……
	if (FLAG[TF_MENU_SELECT] == 1 ) {
		
		// ヒュンメル
		TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
			"#000e#000mそうか……"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "Thanatos", "ANI_EV_SIAN_S", -1, 1 )

		// タナトス
		TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
			"#010e#000mまあ、確かに慎重に"
			"接するべきかもしれんのう。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
		ChangeAnimation( "Thanatos", "ANI_EV_SIAN_E", -1, 1 )

	}
	
	//	⇒彼女なら問題ないと思う
	
	if (FLAG[TF_MENU_SELECT] == 2 ) {
		
		// ヒュンメル
		TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
			"#000e#000mそうか……だといいがな。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )

		// サハド
		TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
			"#000e#000mま、夢ではアドルに対して"
			"協力的だったみてーだしな。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	//─────────────────────────
	
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mいずれにしても話は"
		"彼女の目が覚めてからだな──"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　不意に迎撃戦を報せる鐘が頭上でけたたましく鳴る。
	
	StopBGM(60)
	
	// 未入力コメント
//	TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0) {
//		"#7C◆不意に迎撃戦を報せる鐘が頭上でけたたましく鳴る。"
//	}
//	WaitPrompt()
//	WaitCloseWindow()

	PlaySE(SE_M05S001_01, 100, 1, 0, 0, 1.0f, 0)	//警鐘
	Wait(40)

	LookReset("LAXIA")
	LookReset("SAHAD")
	LookReset("Aaron")
	LookChr("Thanatos","Dogi")
	LookReset("RICOTTA")

	//　　ドギに「！」エモーション表示。
	EmotionEx("Dogi", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	Wait(45)
	LookReset("Dogi")
	ChangeAnimation( "Dogi", "ANI_EV_AKIRE", -1, 1 )
	
	PlayBGM(BGM_EVENT_012, 0)
	FadeBGM(100,0)
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#011e#000mやれやれ……"
		"おいでなすったみたいだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_E", -1, 1 )
	WaitAnimation2("LAXIA", -1, 1, "ANI_EV_UDEGUMI_E", 0)

	TurnToChr("LAXIA", "ADOL", 8.0f)
	LookChr("LAXIA","ADOL")

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mアドル、今は目の前の"
		"敵に集中するといたしましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル頷いて操作許可。
	LookChr("ADOL", "LAXIA")
	Wait(10)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.015f , -1422.483f , 12.358f , 120 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 5.323f , 120 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.733f , 120 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 27.236f , 120 )
	
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(30)

	//　　⇒ここで迎撃戦の処理に接続。

	StopSE(SE_M05S001_01, 2000)

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M05S001_ED")
}

function "EV_M05S001_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_HUMMEL")
	CallFunc("system:reset_chrmot_RICOTTA")
	CallFunc("system:reset_chrmot_Thanatos")
	CallFunc("system:reset_chrmot_Aaron")
	CallFunc("system:reset_chrmot_Dogi")

	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)

	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)

	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	ActiveVoiceStop(ACTIVEVOICESTOP_FORCE)		//アクティブボイス強制終了

	//フラグ処理
	SetFlag(GF_05MP1201_IN_MEETING, 1)
    //SetFlag( SF_MISSIONNO, MS_05_01 ) //Adventure memo: Let's join forces to intercept the beast.
	CallFunc("rng:0420")
	SetFlag(GF_05MP1213_INTERCEPT_DANA,1)
	//SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//タナトス合流	名声値+2

	//迎撃戦処理
	//Intercept(INTERCEPT_STAGE08, 1)	// 時間切れ間近(赤)
	//SetFlag(GF_INTERCEPT_NO, INTERCEPT_STAGE08)
	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init")

	//テント回復処理・リトライセーブ
	CallFunc("system:camp_rest")

	//アドルお一人様 (Redmine #26453 対応)
	//SetFlag(GF_PARTY_NONE, 0)		//パーティ全員行動解除
	//FixPlayerChr(PARTY_ADOL)	// アドルおひとり様モードON

	//イベント後の再配置
	SetChrPos("LEADER",35.21f,-1416.01f,10.83f)
	Turn("LEADER",54.81f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt( 0 , 35.205f , -1416.015f , 12.691f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.592f , 0 )	// 基本仰角
	RotateCamera( 0 , 125.188f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	PlayBGM(BGM_EVENT_012, 0)
	FadeBGM(100,0)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼ダーナがアドル班に加わる(mp1201)
//──────────────────────────────
function "EV_M05S020"			//ダーナがアドル班に加わる
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Thanatos")
	LoadChr("Aaron")
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 26.00f, -1423.29f, 10.83f)
	Turn("ADOL", -147.86f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", 28.71f, -1422.33f, 10.83f)
	Turn("RICOTTA", 87.10f, 360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 28.31f, -1420.86f, 10.83f)
	Turn("SAHAD", 38.68f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 25.39f, -1421.40f, 10.83f)
	Turn("LAXIA", -57.25f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", 28.31f, -1423.40f, 10.83f)
	Turn("HUMMEL", 139.31f, 360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", 27.08f, -1423.73f, 10.83f)
	Turn("DANA", 153.52f, 360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Thanatos", 22.57f, -1414.06f, 11.59f)
	Turn("Thanatos", -27.78f, 360.0f)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 21.28f, -1414.49f, 11.58f)
	Turn("Aaron", -36.80f, 360.0f)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 26.18f, -1420.43f, 10.83f)
	Turn("Dogi", -21.72f, 360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	// 非表示・再表示
	SetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 非表示

	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	StopBGM(30)

	//カメラ設定
	MoveCameraAt( 0 , 26.759f , -1421.333f , 12.486f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.102f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.323f , 0 )	// 基本仰角
	RotateCamera( 0 , 233.422f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000, 2.000, 0.500, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M05S020_ED")

	//開始処理ここまで-----------------------------------------------
	

	// 暗転中にアイテム入手
//	PlaySE( SE_TUTORIAL , 100 , 0,  0, 0, 1.0f, 0)		//チュートリアル
//	GetItemMessageExPlus(ICON3D_FIRESTONE , 1 , ITEMMSG_SE_JINGLE , "を手に入れた。" , 0 , 0 )
	//GetItemMessageExPlus(-1 , 1 , ITEMMSG_SE_JINGLE , "#2C『#325I燃石』#0Cを手に入れた。" , 0 , 0 )
	WaitPrompt()
	WaitCloseWindow()

//	Wait(10)
//	Message("#7C◆イベントアイテムを入手した事で\n　集落の鍜治場が拡張されました。\n　カトリーンに話しかけると\n　武器を新しい段階に進化させることが出来ます。")
//	WaitPrompt()
//	Wait(10)

	Wait(10)
	Wait(70)	//ジングル待ち

//　◆出来れば時間経過を表現するＳＥ演出が欲しい


	//　　画面フェードインして、漂流村夜マップ。
	//　　焚き火中心、時計回りにアドル→ラクシャ→ドギ→
	//　　サハド→リコッタ→ヒュンメル→ダーナの順。

	// カット1 ----------------------------------------------------------------------------------------

	// 初期ポーズ
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI", -1, 1 )

	// 顔向き
	LookChr("ADOL", "DANA")
	LookChr("LAXIA", "DANA")
	LookChr("SAHAD", "DANA")
	LookChr("RICOTTA", "DANA")
	LookChr("HUMMEL", "DANA")
	LookChr("Dogi", "DANA")
	LookChr("DANA", "Dogi")

	Wait(30)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.607f , -1421.921f , 12.486f, 500 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.302f , 500 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.476f , 500 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 234.768f , 500 )

	PlayBGM(BGM_EVENT_005, 0)
	SetEnvSEPlayState(-1, 1)	//環境SE復帰

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	Wait(FADE_NORMAL)
	
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )
	
	// ドギ
	TalkPopup("Dogi", 0, 1, 0, 0, 0) {
		"#000e#000m──なるほどなあ。\p"
		"そうなるとエタニア王国ってのは、"
		"古代種が栄えてた時代のものなのか。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// （ダーナ）うなずき
	HeadYes("DANA" , 1 , 25 )
	
	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#000e#000mはい、その通りです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mま、まさか古代種の時代から"
		"“人”が存在していたなんて……\p"
		"これまでの学説が全て"
		"ひっくり返ることになります……"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayVoice(Y8V_2562,"RICOTTA",100)	//んー（平常のテンション。あらゆる場面で使用）

	ChangeAnimation( "RICOTTA", "ANI_EV_UDEGUMI_S", -1, 1 )
	LookChr("RICOTTA", "LAXIA")
	Wait(10)
	LookRoll("RICOTTA", 20.0f)	// かしげる

	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#000e#000m古代種、どれくらい昔にいた？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "RICOTTA")

	LookChr("HUMMEL", "LAXIA")
	LookChr("ADOL", "RICOTTA")
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mそれは……2"
		"今の段階では相当な大昔としか……\p"
		"古代種が栄えた時期は"
		"まだはっきりと判っていないのです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("HUMMEL", "DANA")
	ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI_S", -1, 1 )

	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#000e#000m……記憶を失っているそうだが、"
		"他に思い出せることはないのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット2 ---------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 26.587f , -1423.334f , 12.278f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.802f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.616f , 0 )	// 基本仰角
	RotateCamera( 0 , 157.651f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 非表示

	// 位置調整など
	SetChrPos("ADOL", 25.95f, -1423.26f, 10.83f)
	Turn("ADOL", -137.20f, 360.0f)
	SetChrPos("LAXIA", 25.37f, -1422.11f, 10.83f)
	Turn("LAXIA", -78.57f, 360.0f)
	//SetChrPos("HUMMEL", 28.14f, -1423.58f, 10.83f)
	//Turn("HUMMEL", 139.31f, 360.0f)
	SetChrPos("RICOTTA", 28.62f, -1422.76f, 10.83f)
	Turn("RICOTTA", 104.87f, 360.0f)

	SetChrPos("HUMMEL",28.32f,-1423.70f,10.83f)
	Turn("HUMMEL",125.01f,360.0f)
	
	LookChr("ADOL", "DANA")
	LookChr("LAXIA", "DANA")
	LookRoll("RICOTTA", 0.0f)
	ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI_E", -1, 1 )
	ChangeAnimation( "RICOTTA", "ANI_EV_UDEGUMI_E", -1, 1 )
	

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.385f , -1423.171f , 12.338f, 150 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.402f , 150 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.856f , 150 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 193.156f , 150 )

	Wait(FADE_FAST)

	LookSpd("DANA", 0.08f, 0.08f, 0.08f )// ゆっくりめに首向き

	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	Look("DANA", 0.0f, -20.0f)	// うつむく

	ChangeAnimation( "DANA", "ANI_EV_TEMUNE_S", -1, 1 )

	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"自分の名前や“大樹の巫女”で"
		"あったことは覚えているかな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("DANA", "ADOL")
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	
	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"夢や水晶石を通じてアドルさんと"
		"意識を共有していたことも……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 25.854f , -1422.050f , 12.278f, 120 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.102f , 120 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.048f , 120 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 210.471f , 120 )
		
	ChangeAnimation( "DANA", "ANI_EV_TEMUNE_E", -1, 1 )
	Look("DANA", 0.0f, -10.0f)	// うつむく

	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"ただ、なぜ自分がこうして、"
		"この時代に存在しているのか……\p"
		"#011eどうして大樹の根元で"
		"眠りについていたのか……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("DANA", "LAXIA")
	
	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#012eその経緯は全く思い出せなくて……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	LookChr("DANA", "LAXIA")
	LookChr("RICOTTA", "DANA")

	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mいつ頃から記憶がないのか"
		"分かりますか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ダーナに「…」エモーション表示。
	LookReset("DANA")
	EmotionEx("DANA", 0.0f, "EMO_3DOT", 27, 5, 1, 1, 0.9f)	// 「…」
//	ChangeAnimation( "DANA", "ANI_EV_SIAN_S", -1, 1 )
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	Wait(55)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	
	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"えっと……確かアドルさんが"
		"寺院へ向かえるよう苗木を植えて……\p"
		"#011e#000mそれから……あ、あれ……\p"
		"#070e#200m……あっ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　不意に眩暈がしたように、
	//　　頭を押さえつつ屈んでしまうダーナ。
	Blur(BLUR_TYPE_EXPAND, 0.4f, 5)	//ブラー
	Wait(5)
	EarthQuake( 0.01f , 0.01f , 5 )	// 縦揺れ幅, 横揺れ幅, 時間
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.155f , -1421.850f , 12.018f, 35 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.046f , 35 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.952f, 35 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 221.049f , 35 )
	
	Blur(BLUR_TYPE_EXPAND, 0.1f, 30)	//ブラー
	PlaySE(SE_M05S020_01, 100, 0, 0, 0, 1.0f, 0)	//めまい
	
	ChangeAnimation("DANA", "ANI_EV_ZUTUU_SHAGAMI_S", -1, 1 )
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_SHOUT_S, 1)	// 目
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_TAME_S, 1)	// 口
	
	Wait(7)

	EmotionEx("ADOL", 0.0f, EMO_EX, 0, 5, 1, 1, 1.0f )		// 「！」
	EmotionEx("LAXIA", 0.0f, EMO_EX, 0, 5, 1, 1, 1.0f )		// 「！」
	EmotionEx("HUMMEL", 0.0f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("RICOTTA", 0.0f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	ChangeAnimation("ADOL", "ANI_EV_SUP_S", -1, 1 )
	ChangeAnimation("LAXIA", "ANI_EV_SUP_S", -1, 1 )
	ChangeAnimation("HUMMEL", "ANI_EV_SUP_S", -1, 1 )
	ChangeAnimation("RICOTTA", "ANI_EV_SUP_S", -1, 1 )
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_SUP_S,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_SUP_S,1)

	Wait(45)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#050e#110mダーナ、大丈夫か？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#060e#000mう、うん、ごめんね。"
		"急に眩暈がしちゃって……"
	}
	WaitPrompt()
	WaitCloseWindow()
		
	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#062e#000m無理に思い出そうとすると、"
		"ひどくなるみたいだね……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	LookSpd( "DANA", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT )

	// カット3 -----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , 26.337f , -1422.260f , 12.346f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.102f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.031f , 0 )	// 基本仰角
	RotateCamera( 0 , 201.333f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 非表示・再表示
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 再表示

	// 位置調整など
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1 )
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1 )
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1 )
	ChangeAnimation( "RICOTTA", "ANI_WAIT", -1, 1 )
	SetChrPos("LAXIA", 25.37f, -1422.11f, 10.83f)
	Turn("LAXIA", -92.78f, 360.0f)

	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_CLOSE,1)

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation("DANA", "ANI_EV_ZUTUU_SHAGAMI_E", -1, 1 )

	//　　ドギに「…」エモーション表示。
	EmotionEx("Dogi", -0.05f, "EMO_3DOT", 27, 5, 1, 1, 0.9f)	// 「…」
	Wait(45)

	LookChr("Dogi", "ADOL")
	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )
	LookChr("ADOL", "Dogi")
	
	// ドギ
	TalkPopup("Dogi", 0, 1, 0, 0, 0) {
		"#000e#000mアドル、どうしたもんだろうな。"
		"色々聞かせてもらおうと思ったが……\p"
		"それより彼女の記憶を"
		"取り戻すほうが先決かもしれんぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "ADOL" , "ANI_EV_SIAN_S", -1 , 1 )
	LookReset("ADOL")
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)

	ChangeAnimation("DANA", "ANI_EV_ZUTUU_E", -1, 1 )	// 未調整◆

	LookChr("LAXIA", "Dogi")

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#050e#000mでも、失った記憶を取り戻すなんて"
		"一体どうすれば……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ダーナに「…」エモーション表示。
	Look("DANA", 0.0f, -10.0f)	// うつむく
	EmotionEx("DANA", 0.05f, "EMO_3DOT", 27, 5, 1, 1, 1.2f)	// 「…」
	Wait(50)
	
	Look("DANA", 0.0f, 0.0f)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT_S, 1)	// 目

	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"それなんだけど……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("DANA", "ADOL")
	Turn("DANA", 121.54f, 8.0f)
	LookChr("ADOL", "DANA")
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	ChangeAnimation( "ADOL" , "ANI_EV_SIAN_E", -1 , 1 )

	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"アドルさん、私も一緒に"
		"行動させてもらえないかな？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "DANA")
	Wait(20)
	
	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "もちろんだ")
	MenuAdd(2, "まだ休んだほうがいい")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)

	// 手振り
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//─────────────────────────
	//	⇒もちろんだ
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// ダーナ
		TalkPopup("DANA", 0, 2, 0, 0, 0) {
			"#020e#080mふふ、そう言ってくれると思った。\p"
			"#022e#000mアドルさんが視る私の過去……\p"
			"私の過去2行目"
			"それが記憶を取り戻す"
			"きっかけになると思うから。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	
	//	⇒まだ休んだほうがいい
	if (FLAG[TF_MENU_SELECT] == 2 ) {
		
		// ダーナ
		TalkPopup("DANA", 0, 2, 0, 0, 0) {
			"#021e#080mふふ、思った通り優しい人だね。"
			"でも大丈夫だよ。\p"
			"#022e#000mアドルさんが視る私の過去……\p"
			"私の過去2行目2"
			"それが記憶を取り戻す"
			"きっかけになるかもしれないし。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	//─────────────────────────
	
	// カット4 -------------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 27.312f , -1422.516f , 12.486f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.581f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.072f , 0 )	// 基本仰角
	RotateCamera( 0 , 315.810f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整など
	SetChrPos("RICOTTA", 28.77f, -1421.92f, 10.83f)
	Turn("RICOTTA", 72.89f, 360.0f)
	SetChrPos("HUMMEL", 28.15f, -1423.47f, 10.83f)
	Turn("HUMMEL", 146.89f, 360.0f)
	SetChrPos("Dogi", 25.55f, -1420.83f, 10.83f)
	Turn("Dogi", -57.25f, 360.0f)
	Turn("DANA", 178.39f, 360.0f)
	LookReset("DANA")
	LookReset("ADOL")

	LookChr("HUMMEL","SAHAD")

	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)

	// 非表示・再表示
	ResetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 再表示
	
	//　　サハドにＰＡエモーション表示。
	EmotionEx("SAHAD", 0.1f, EMO_PA, 0, 5, 1, 1, 1.2f )	// 「PA」
	LookChr("SAHAD", "ADOL")
	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )
	Wait(35)
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mおお、なるほどな……"
		"だったら話は早いんじゃねーか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、頷きモーション。
	HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
	Wait(30)
	
	ChangeAnimation( "RICOTTA", "ANI_EV_TEMUNE_S", -1, 1 )
	
	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#080e#080mダーナも一緒に行くのか？\p"
		"#021e#080mじゃあ、ダーナも"
		"リコッタのおねーさんだな！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("DANA", "RICOTTA")
	
	// ダーナ
	TalkPopup("DANA", 0, 1, 0, 0, 0) {
		"#000e#000mあはは、よろしくね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayVoice(Y8V_3958,"Thanatos",100)	//ふむ…（平常のテンション。あらゆる場面で使用）

	//	老人の声
	SetName("老人の声")
	TalkPopup(UNDEF, 0, 3, 240, 230, 0) {
		"──話がまとまったようじゃな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	//　　アドル、ラクシャ、サハド、リコッタに
	//　　ＰＡエモーション表示。
	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	EmotionEx("SAHAD", 0.1f, EMO_PA, 0, 5, 1, 1, 1.2f )	// 「PA」
	EmotionEx("RICOTTA", 0.1f, EMO_PA, 0, 5, 1, 1, 1.1f )	// 「PA」

	ChangeAnimation( "RICOTTA", "ANI_EV_TEMUNE_E", -1, 1 )
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_LAUGH_E, 1)	// 目


	//　　カメラスクロールしてタナトスとエアランが
	//　　立っているのを映す。
	
	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_E", -1, 1 )
	Wait(30)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 28.283f , -1422.200f , 12.486f , 90 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.402f , 90 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,  -5.116f , 90 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 41.418f , 90 )
	
	LookChr("DANA", "Aaron")
	LookChr("SAHAD", "Aaron")
	LookChr("ADOL", "Thanatos")
	LookChr("LAXIA", "Aaron")
	LookChr("ADOL", "Thanatos")
	LookChr("LAXIA", "Aaron")
	LookChr("HUMMEL", "Aaron")
	LookChr("Dogi", "Aaron")
	LookChr("RICOTTA", "Thanatos")
	TurnToChr("RICOTTA", "Thanatos", 8.0f)
	TurnToChr("SAHAD", "Thanatos", 8.0f)
	TurnToChr("Dogi", "Thanatos", 8.0f)

	LookChr("Dogi", "Dogi")
	LookChr("Thanatos", "Dogi")

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	// リコッタ
	TalkPopup("RICOTTA", 0, 1, 0, 0, 0) {
		"#000e#000m父上！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_TEBURI", -1, 1 )

	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#011e#000mフン、邪魔するぜ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mエアランにタナトスの旦那……"
		"これで全員揃ったみてえだな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	//終了処理ここから----------------------------------------------------
	
	CallFunc("mp1201:EV_M05S020_ED")
}

function "EV_M05S020_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_HUMMEL")
	CallFunc("system:reset_chrmot_RICOTTA")
	CallFunc("system:reset_chrmot_DANA")

	CallFunc("system:reset_chrmot_ALL")			//全PCをまとめてリセットする時に使用

	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)

	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)

	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//NowLoading 時の Tips 表示をカット
	//SetFlag(TF_LOADING_TIPS_OFF, 1)

	//CallFunc("system:camera_reset")

	PlayBGM(BGM_EVENT_005, 0)

	EventCue("mp1201:EV_M05S021")

	ResetStopFlag(STOPFLAG_EVENT)


	//終了処理ここまで----------------------------------------------------
}


function "EV_M05S021"			//ダーナがアドル班に加わる２
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Thanatos")
	LoadChr("Aaron")
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 26.13f, -1423.38f, 10.83f)
	Turn("ADOL", -158.52f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", 28.78f, -1421.88f, 10.83f)
	Turn("RICOTTA", 80.00f, 360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 28.46f, -1420.97f, 10.83f)
	Turn("SAHAD", 49.33f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 25.42f, -1422.84f, 10.83f)
	Turn("LAXIA", -121.21f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", 28.68f, -1422.77f, 10.83f)
	Turn("HUMMEL", 103.78f, 360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", 27.48f, -1423.58f, 10.83f)
	Turn("DANA", 157.07f, 360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Thanatos", 26.33f, -1420.39f, 10.83f)
	Turn("Thanatos", -21.72f, 360.0f)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 27.51f, -1420.30f, 10.83f)
	Turn("Aaron", 17.36f, 360.0f)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 25.22f, -1421.49f, 10.83f)
	Turn("Dogi", -89.24f, 360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)
	PlayBGM(BGM_EVENT_005, 0)

	//カメラ設定
	MoveCameraAt( 0 , 28.327f , -1422.733f , 13.670f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.299f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.798f , 0 )	// 基本仰角
	RotateCamera( 0 , 32.513f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000, 2.000, 0.550, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M05S021_ED")

	//開始処理ここまで-----------------------------------------------

	//　　画面一旦フェードアウトしてキャラ再配置
	//　　焚き火中心にアドル→ラクシャ→ドギ→タナトス→
	//　　エアラン→サハド→リコッタ→ヒュンメル→ダーナ
	
	// カット1 ----------------------------------------------------------------------------------------

	
//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 28.327f , -1422.733f , 12.110f, 100 )
//
//	// フェードイン
//	FadeIn(FADE_BLACK, FADE_NORMAL)
//	WaitFade()
//
//	// カメラ待ち
//	WaitThread(1000)
//	
//	// カット2 ----------------------------------------------------------------------------------------
//	
//	// クロスフェード
//	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , 26.496f , -1422.152f , 12.486f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.360f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.708f , 0 )	// 基本仰角
	RotateCamera( 0 , 307.206f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整など
	LookChr("ADOL", "Dogi")
	LookChr("DANA", "Dogi")
	LookChr("SAHAD", "Dogi")
	LookChr("RICOTTA", "Dogi")
	LookChr("HUMMEL", "Dogi")

	LookChr("Thanatos", "ADOL")
	LookChr("Aaron", "ADOL")	

//	// フェード待ち
//	Wait(FADE_NORMAL)

	Wait(30)

	ExecuteCmd(1000, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.939f, 55 )

	//MoveCameraAt( 0 , 26.496f , -1422.152f , 12.486f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.939f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 4.710f , 0 )	// 基本仰角
	//RotateCamera( 0 , 307.175f , 0 )				// 角度
	//ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	
	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )
	
	// ドギ
	TalkPopup("Dogi", 0, 1, 0, 0, 0) {
		"#000e#000mよし、よく聞いてくれ。"
		"ここからが今日の本題だ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャに「？」エモーション表示。
	EmotionEx("LAXIA", 0.00f, EMO_Q, 0, 5, 1, 1, 1.0f )	// 「？」
	LookChr("LAXIA", "Dogi")
	Wait(40)
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000m本題……一体何のことでしょう？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "LAXIA")

	// ドギ"
	TalkPopup("Dogi", 0, 1, 0, 0, 0) {
		"#000e#000mああ、旦那やヒュンメルのおかげで"
		"船の設計図を入手できたワケだが……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("Dogi")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )
	
	// ドギ"
	TalkPopup("Dogi", 0, 1, 0, 0, 0) {
		"#000e#000m人手も増えてきたことだし、"
		"いよいよ船を造り始めようと思ってな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、ラクシャ、サハド、リコッタに
	//　　「！」エモーションを表示する。
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("SAHAD", 0.00f, EMO_EX, 0, 5, 1, 1, 1.2f )	// 「！」
	EmotionEx("RICOTTA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.2f )	// 「！」
	Wait(45)
	
	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mおお、ついにか……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_S", -1, 1 )

	LookChr("LAXIA", "Aaron")
	LookChr("ADOL", "Aaron")
	LookChr("DANA", "Aaron")
	LookChr("HUMMEL", "Aaron")

	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#000e#000mああ、そこで相談なんだが、"
		"船を造るには大量の資材が必要になる。\p"
		"#011e#000mアドル、可能ならば"
		"お前さんにも資材集めを頼みてェ。\p"
		"#000e#000mもちろん他のヤツらにも頼んじゃいるが、"
		"お前たちが一番の戦力だからなァ。"
	}
	WaitPrompt()
	WaitCloseWindow()

//	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_E", -1, 1 )


	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_E", -1, 1 )
	LookChr("SAHAD", "Aaron")

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mそりゃあ、お安い御用ってモンだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("LAXIA", 1, 25)	// キャラ, うなずき回数, 速さ

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mええ、そのために"
		"今まで頑張ってきたわけですから。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#000e#000m……異存はない。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、頷きモーション。
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(20)

	//ChangeAnimation( "Aaron", "ANI_EV_TEBURI", -1, 1 )

	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#000e#000mフン、話が早くて助かるぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 27.790f , -1421.947f , 12.566f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.267f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.070f , 0 )	// 基本仰角
	RotateCamera( 0 , 58.351f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	SetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 非表示

	// 位置調整など
	SetChrPos("LAXIA", 25.11f, -1422.32f, 10.83f)
	Turn("LAXIA", -96.34f, 360.0f)
	SetChrPos("SAHAD", 28.76f, -1421.23f, 10.83f)
	Turn("SAHAD", 74.20f, 360.0f)
	SetChrPos("RICOTTA", 28.70f, -1422.34f, 10.83f)
	Turn("RICOTTA", 104.87f, 360.0f)
	SetChrPos("Dogi", 25.40f, -1421.18f, 10.83f)
	Turn("Dogi", -64.37f, 360.0f)
	SetChrPos("Thanatos", 26.18f, -1420.47f, 10.83f)
	Turn("Thanatos", -32.38f, 360.0f)
	SetChrPos("Aaron", 27.38f, -1420.21f, 10.83f)
	Turn("Aaron", 6.70f, 360.0f)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.790f , -1421.947f , 12.426f, 210 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.167f , 210 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.034f , 210 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 50.724f , 210 )
	
	// フェード待ち
	Wait(FADE_CROSS)
	
	ChangeAnimation( "Thanatos", "ANI_EV_TEBURI", -1, 1 )
	
	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#000e#000m必要となる資材は先ほど"
		"掲示板に張り出しておいたわい。\p"
		"後で確認するといいじゃろう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayVoice(Y8V_3561,"Dogi",100)	//ふむ…（平常のテンション。あらゆる場面で使用）

	//　　ドギに「…」エモーション表示。
	EmotionEx("Dogi", 0.05f, "EMO_3DOT", 27, 5, 1, 1, 1.2f)	// 「…」
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	Look("Dogi", 0.0f, -10.0f)	// うつむく
	Wait(55)

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000mそういやあ、船っつうと"
		"最近妙なウワサがあってな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "Dogi")
	LookChr("SAHAD", "Dogi")	
	LookChr("Aaron", "Dogi")
	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_E", -1, 1 )

	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#000e#000mおい、ドギ。"
			"ありゃあ、まだ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　リコッタに「？」エモーション表示。
	EmotionEx("RICOTTA", 0.02f, EMO_Q, 0, 5, 1, 1, 1.0f )	// 「？」
	LookRoll("RICOTTA", 10.0f)	// かしげる
	Wait(45)
	
	// リコッタ
	TalkPopup("RICOTTA", 0, 1, 0, 0, 0) {
		"#000e#000mなになに、何のコトだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookRoll("RICOTTA", 0.0f)	// かしげる

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000mいやな、実は最近、"
		"海に霧のかかる日が妙に多くてな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )
	LookChr("Dogi", "SAHAD")
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000mそんな日に限って……"
		"その……出#2R ・#Rる#2R ・#Rらしいぜ。"	//（「出る」を「・」で強調）"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	EmotionEx("SAHAD", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	ChangeAnimation( "SAHAD", "ANI_EV_SUP_S", -1, 1 )
	Wait(40)

	// サハド
	TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
		"#050e#110mで、で、出るって、何がだ？"
		"何が出るってんだ！？"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ
//	MoveCameraAt( 0 , 26.184f , -1421.687f , 12.486f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 0.815f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 2.831f , 0 )	// 基本仰角
//	RotateCamera( 0 , 109.473f , 0 )				// 角度
//	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , 26.184f , -1421.687f , 12.566f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.115f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.264f , 0 )	// 基本仰角
	RotateCamera( 0 , 91.989f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整など
	ChangeAnimation( "SAHAD", "ANI_EV_SUP_E", -1, 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD,1)

	LookChr("ADOL", "Dogi")
	LookChr("Thanatos", "Dogi")
	LookChr("Aaron", "Dogi")
	LookChr("DANA", "Dogi")

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.184f , -1421.687f , 12.566f, 45 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.115f , 45 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.264f, 45 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,91.989f , 45 )

	// フェード待ち
	Wait(FADE_FAST)

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )
	
//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000mま、まさか……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Dogi")

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#011eそう、“幽霊船”だ。"
		"幽霊船2行目"
	}
	WaitPrompt()
	WaitCloseWindow()
	Wait(10)

	// カット5 ----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 26.983f , -1422.156f , 12.350f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.515f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.155f , 0 )	// 基本仰角
	RotateCamera( 0 , 309.685f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整など
	SetChrPos("LAXIA", 25.36f, -1422.45f, 10.83f)
	Turn("LAXIA", -107.00f, 360.0f)
	SetChrPos("DANA", 27.25f, -1423.67f, 10.83f)
	Turn("DANA", 174.84f, 360.0f)
	SetChrPos("SAHAD", 28.70f, -1420.99f, 10.83f)
	Turn("SAHAD", 67.09f, 360.0f)
	SetChrPos("RICOTTA", 28.82f, -1422.24f, 10.83f)
	Turn("RICOTTA", 89.57f, 360.0f)
	SetChrPos("HUMMEL", 28.38f, -1423.24f, 10.83f)
	Turn("HUMMEL", 135.76f, 360.0f)
	SetChrPos("Aaron", 27.44f, -1420.25f, 10.83f)
	Turn("Aaron", 6.70f, 360.0f)

	LookReset("Dogi")
	LookReset("LAXIA")
	LookReset("Aaron")

	// 非表示・再表示
	ResetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 非表示
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.983f , -1422.156f , 12.350f , 450 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.515f , 450 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 10.156f , 450 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 323.616f , 450 )

	// フェード待ち
	ChangeAnimation( "SAHAD", "ANI_EV_SUP_S", -1, 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SAD_CLOSE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_TAME_S,1)
//	EmotionEx("SAHAD", 0.05f, EMO_GIKU, 0, 5, 1, 1, 1.2f )	// 「ぎくっ」
	EarthQuake( 0.02f , 0.02f , 5 )	// 縦揺れ幅, 横揺れ幅, 時間

	PlayVoice(Y8V_1418,"SAHAD",100)	//ひええっ…！（お化けなどに驚く）

	Wait(FADE_CROSS)

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#062e#110mひいいっ、ユ、ユーレイ船だって！？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA", "ANI_EV_KYOSHU_S", -1, 1 )

	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#020e#020mはい、ユーレイ知ってる！"
		"リコッタ会ってみたい！！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "RICOTTA", "ANI_EV_KYOSHU_E", -1, 1 )
	
	LookReset("Thanatos")
	ChangeAnimation( "Thanatos", "ANI_EV_UDEGUMI_S", -1, 1 )
	
	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#010e#000mウム、本物がいるとなれば"
		"年甲斐もなく心が躍るのう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目

	LookReset("DANA")
	ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_S", -1, 1 )

	LookChr("DANA", "Thanatos")

	// ダーナ
	TalkPopup("DANA", 0, 1, 0, 0, 0) {
		"#080e#080mあはは……私も興味あるかな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "DANA")
	EmotionEx("SAHAD", 0.00f, EMO_BLUE, 0, 5, 1, 1, 1.15f )	// 「青ざめ」
	Wait(25)

	LookChr("Aaron", "SAHAD")
	LookChr("Thanatos", "SAHAD")

	// サハド
	TalkPopup("SAHAD", 0, 0, 0, 0, 0) {
		"#000mカ、カンベンしてくれぇ。\p"
		"ワシは母ちゃんの次に"
		"ユーレイの類がダメなんだぁ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット6 --------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , 26.581f , -1421.186f , 12.270f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.855f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.903f , 0 )	// 基本仰角
	RotateCamera( 0 , 346.758f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 非表示

	// 位置調整
	SetChrPos("Dogi", 25.52f, -1420.87f, 10.83f)
	Turn("Dogi", -50.16f, 360.0f)
	SetChrPos("Thanatos", 26.51f, -1420.29f, 10.83f)
	Turn("Thanatos", -18.17f, 360.0f)
	SetChrPos("Aaron", 27.67f, -1420.34f, 10.83f)
	Turn("Aaron", 13.81f, 360.0f)
	SetChrPos("SAHAD", 28.67f, -1420.63f, 10.83f)
	Turn("SAHAD", 52.88f, 360.0f)

	ChangeAnimation( "SAHAD", "ANI_EV_SUP_E", -1, 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)

	Look("SAHAD", 0 , -15 )
	LookReset("HUMMEL")

	// フェード待ち
	Wait(FADE_CROSS)
	
	LookChr("LAXIA", "Dogi")
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mそれにしてもこの島に幽霊船……"
		"また突拍子もない話ですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )
	LookChr("Dogi", "LAXIA")

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mああ、最初は俺も何かの"
		"見間違いかと思ったんだが……\p"
		"どうやら、かなりの連中が"
		"目撃しているらしくてな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_S", -1, 1 )
	LookChr("Aaron", "LAXIA")

	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#000e#000mフン、確かにそうだが、"
		"今はそれ以上有力な情報もねえ……\p"
		"アドルたちはひとまず"
		"頭の片隅にとどめる程度にしておけ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )
	LookChr("LAXIA", "Aaron")

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mなるほど、そうします。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_GAKKARI_S", -1, 1 )
	LookReset("SAHAD")

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#061e#110mほっ、助かったぜ……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カット7 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , 27.083f , -1422.679f , 12.290f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.316f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.572f , 0 )	// 基本仰角
	RotateCamera( 0 , 245.378f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整など
	SetChrPos("HUMMEL", 28.17f, -1423.34f, 10.83f)
	Turn("HUMMEL", 135.76f, 360.0f)
	ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI", -1, 1 )
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_CLOSE, 1)	// 目
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )
	ChangeAnimation( "Aaron", "ANI_WAIT", -1, 1 )
	ChangeAnimation( "Thanatos", "ANI_WAIT", -1, 1 )
	LookChr("Aaron", "HUMMEL")
	LookChr("Dogi", "HUMMEL")
	LookChr("LAXIA", "HUMMEL")
	LookChr("Thanatos", "HUMMEL")
		
	// 非表示・再表示
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 再表示
	SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 非表示
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.146f , -1422.429f , 12.290f, 75 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.316f , 75 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.699f , 75 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 221.169f , 75)
	
	//　　ヒュンメルに「…」エモーション表示。
	EmotionEx("HUMMEL", 0.02f, "EMO_3DOT", 27, 5, 1, 1, 1.1f)	// 「…」
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	PlayVoice(Y8V_2170,"HUMMEL",100)	//フッ（微笑）
	
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	LookChr("HUMMEL", "ADOL")
	
	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#000m……船を造ることは了解した。\p"
		"船を造る2行目"
		"#000mだが、もう一つ"
		"重要な問題を忘れてやしないか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルにPAエモーション。
	LookChr("ADOL", "HUMMEL")
	EmotionEx("ADOL", 0.05f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	Wait(35)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_LAUGH_E, 1)	// 目

	Look("DANA", 40.0f, 0.0f)	// ←（＾＾）
	ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_E", -1, 1 )
	
	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "ダーナのことかい？")
	MenuAdd(2, "古代種のことかい？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)
	
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//─────────────────────────
	//	⇒ダーナのことかい？
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// ヒュンメル
		TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
			"#011e#000m彼女のことは先ほど話した通り"
			"様子を見るしかないのだろう。\p"
			"#000mオレが問題視しているのは"
			"ロンバルディアを沈めた古代種だ。\p"
			"#012e目的達成のためには"
			"障害を排除しておくべきだろう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	//	⇒古代種のことかい？
	if (FLAG[TF_MENU_SELECT] == 2 ) {

		HeadYes("HUMMEL" , 1 , 25 )
		ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		// ヒュンメル
		TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
			"#000mそう、古代種は古代種でも"
			"あのロンバルディアを沈めたヤツだ。\p"
			"目的達成のためには"
			"障害を排除しておくべきだろう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	//─────────────────────────

	// カット8 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 27.287f , -1421.614f , 12.290f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.358f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.974f , 0 )	// 基本仰角
	RotateCamera( 0 , 178.217f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 非表示・再表示
	ResetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 再表示
	
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	
	// 位置調整
	SetChrPos("Aaron", 28.15f, -1420.49f, 10.83f)
	Turn("Aaron", 24.47f, 360.0f)
	SetChrPos("SAHAD", 28.82f, -1421.36f, 10.83f)
	Turn("SAHAD", 74.20f, 360.0f)
	SetChrPos("RICOTTA", 28.81f, -1422.49f, 10.83f)
	Turn("RICOTTA", 103.78f, 360.0f)
	
	// フェード待ち
	Wait(FADE_CROSS)
	
	// エアラン
	TalkPopup("Aaron", 0, 1, 0, 0, 0) {
		"#000e#000mフン、確かにな……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("ADOL", "Aaron")
	LookChr("HUMMEL", "Aaron")
	LookChr("DANA", "Aaron")

	ChangeAnimation( "Aaron", "ANI_EV_TEBURI", -1, 1 )
	
	// エアラン
	TalkPopup("Aaron", 0, 1, 0, 0, 0) {
		"あの触手ヤローがウロついてる限り、"
		"船があっても脱出は不可能だぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Thanatos", "ANI_EV_UDEGUMI_S", -1, 1 )

	// タナトス
	TalkPopup("Thanatos", 0, 1, 0, 0, 0) {
		"#000e#000mフム、じゃが海中を回遊する"
		"相手にどうしたらいいものやら……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ダーナに「…」エモーション。
	EmotionEx("DANA", 0.02f, "EMO_3DOT", 27, 5, 1, 1, 1.2f)	// 「…」
	ChangeAnimation( "DANA", "ANI_EV_SIAN_S", -1, 1 )
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	Wait(55)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#000mあの、ひょっとして……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookRoll("DANA", 15.0f)	// かしげる
	
	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"その触手を持つ海生古代種って、"
		"“オケアノス”のことですか？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//　　ヒュンメルにＰＡエモーション表示。
	EmotionEx("HUMMEL", 0.03f, EMO_PA, 0, 5, 1, 1, 1.3f )	// 「PA」
	Wait(30)
	LookChr("HUMMEL", "DANA")
//	ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI_E", -1, 1 )

	
	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#000e#000m……何か知っているのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "DANA", "ANI_EV_SIAN_E", -1, 1 )
	LookRoll("DANA", 0.0f)	// かしげる
	Look("DANA", 40.0f, 0.0f)	// ←（＾＾）
	Wait(12)
	HeadYes("DANA" , 1 , 25 )
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	LookChr("ADOL", "DANA")
	LookChr("Dogi", "DANA")
	LookChr("Thanatos", "DANA")

	// ダーナ
	TalkPopup("DANA", 0, 0, 0, 0, 0) {
		"#000mうん、エタニアでもオケアノスは"
		"船を沈める魔物として恐れられたの。\p"
		"航路の安全を確保するために"
		"研究も盛んにされていたはずだし……\p"
		"オケアノスの生態であれば、"
		"ひょっとして記録が残っているかも。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ダーナ以外の全員に「！」エモーション表示。
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.2f )	// 「！」
	EmotionEx("HUMMEL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.2f )	// 「！」
	EmotionEx("Aaron", 0.00f, EMO_EX, 0, 5, 1, 1, 0.8f )	// 「！」
	EmotionEx("Thanatos", -0.04f, EMO_EX, 0, 5, 1, 1, 0.8f )	// 「！」
	Wait(45)
	
	// カット9 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 25.726f , -1421.568f , 12.077f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.658f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.551f , 0 )	// 基本仰角
	RotateCamera( 0 , 65.245f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	SetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示

	// 位置調整など
	SetChrPos("ADOL", 25.75f, -1423.13f, 10.83f)
	Turn("ADOL", -130.10f, 360.0f)
	SetChrPos("LAXIA", 25.37f, -1422.21f, 10.83f)
	Turn("LAXIA", -78.58f, 360.0f)
	SetChrPos("Dogi", 25.39f, -1421.09f, 10.83f)
	Turn("Dogi", -64.37f, 360.0f)
	SetChrPos("Thanatos", 26.27f, -1420.37f, 10.83f)
	Turn("Thanatos", -21.72f, 360.0f)
	SetChrPos("Aaron", 27.16f, -1420.10f, 10.83f)
	Turn("Aaron", 20.92f, 360.0f)
	ChangeAnimation( "Thanatos", "ANI_WAIT", -1, 1 )

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mそ、そいつは本当か？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("DANA", "Dogi")
	Turn("DANA", 146.42f, 7.0f)

	HeadYes("DANA" , 1 , 25 )

	// ダーナ
	TalkPopup("DANA", 0, 1, 0, 0, 0) {
		"#000e#000mうん、王都の東に《バハの塔》と"
		"呼ばれた施設があります。\p"
		"その塔は様々な研究のために"
		"情報や資料が集積された施設です。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "DANA", "ANI_EV_TEBURI", -1, 1 )
	
	// ダーナ
	TalkPopup("DANA", 0, 1, 0, 0, 0) {
		"古代種……私たちは竜種と呼びますが、"
		"その研究も行われていたはずです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_S", -1, 1 )

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#011e#000mそんな場所が……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("DANA", "LAXIA")
	ChangeAnimation( "DANA", "ANI_EV_RYOTEMAE_S", -1, 1 )

	// ダーナ
	TalkPopup("DANA", 0, 1, 0, 0, 0) {
		"#000e#000mただ塔が今も無事かどうかは"
		"行ってみないと分からないかな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Thanatos" , "ADOL")
	ChangeAnimation( "Thanatos", "ANI_EV_TEBURI", -1, 1 )
	LookChr("ADOL", "Thanatos")
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#000e#000mアドル、とりあえず"
		"行ってみたらどうなんじゃ。\p"
		"今考えられる中でこれ以上の"
		"手がかりは他にあるまいて。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Aaron" , "ADOL")	
	LookChr("Dogi" , "ADOL")	
	Wait(10)
	
	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "わかりました3")
	MenuAdd(2, "考えておきます")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)

	// 手振り
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//─────────────────────────
	//	⇒わかりました
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_E", -1, 1 )
		LookChr("LAXIA", "DANA")
		
		// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#080e#080m塔にダーナさんの記憶を取り戻す"
			"手がかりもあるかもしれませんね。"
		}
		WaitPrompt()
		WaitCloseWindow()

		HeadYes("DANA", 1, 25)	// キャラ, うなずき回数, 速さ
	
		// ダーナ
		TalkPopup("DANA", 0, 1, 0, 0, 0) {
			"#000e#000mうん、ありがとう。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "Dogi", "ANI_EV_YARUKI_S", -1, 1 )
		LookChr("Dogi", "ADOL")
		Wait(5)
		LookChr("ADOL", "Dogi")
		LookChr("LAXIA", "Dogi")
		LookChr("DANA", "Dogi")

		// ドギ
		TalkPopup("Dogi", 0, 2, 0, 0, 0) {
			"#011e#000mよし、じゃあ資材集めと"
			"塔の調査はアドルに任せたぜ。\p"
			"#012eお前さんたちで段取りを決めて"
			"ぼちぼち進めてくれ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "Dogi", "ANI_EV_YARUKI_E", -1, 1 )
		
	}
	
	//	⇒考えておきます
	if (FLAG[TF_MENU_SELECT] == 2 ) {

		ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_E", -1, 1 )
		LookChr("LAXIA", "ADOL")

		// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#000e#000m塔にはダーナさんの記憶を取り戻す"
			"手がかりもあるかもしれません。\p"
			"船の資材を集めつつ、"
			"都合をつけて行ってみるべきでは？"
		}
		WaitPrompt()
		WaitCloseWindow()

		//LookChr("Dogi", "ADOL")

		// ドギ
		TalkPopup("Dogi", 0, 2, 0, 0, 0) {
			"#000e#000mああ、お前さんたちに任せるが"
			"折を見て調査してくれると助かるぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}

	//─────────────────────────
	
	LookChr("LAXIA", "Aaron")
	
	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_S", -1, 1 )
	LookReset("Aaron")
	
	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#011e#000mフン、決まりみてえだな。"
		"一気に話が進んでスッキリしたぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "Aaron")

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000m俺たちは俺たちで"
		"船を造る準備を始めていく。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Dogi", "ANI_EV_GUTSPOSE_S", -1, 1 )
	LookChr("Dogi", "ADOL")
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"よし、それじゃあ、"
		"それぞれ行動開始といこうぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ここで画面フェードアウト。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 25.757f , -1421.470f , 14.390f, 145 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 5.218f , 145 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -13.564f , 145 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 65.662f , 145 )

	Wait(35)

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_SLOW)
	WaitFade()
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M05S021_ED")
}

function "EV_M05S021_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_HUMMEL")
	CallFunc("system:reset_chrmot_RICOTTA")
	CallFunc("system:reset_chrmot_DANA")

	//	CallFunc("system:reset_chrmot_ALL")			//全PCをまとめてリセットする時に使用

	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)

	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)

	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)

	//パーティキャラを解放
	//ReleaseEventPartyChr()

	//マップパラメーターリセット
	//ResetMapParam(-1)

	//フラグ
	SetFlag(GF_05MP1201_JOIN_DANA,1)	//ダーナがアドル班に加わる２
	//SetDiaryCharaFlag( DRCHA_SAHAD, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（サハド）

	//GetItem(ICON3D_FIRESTONE , 1 )		//燃石入手
	CallFunc("rng:0433")
	//NowLoading 時の Tips 表示をカット
	SetFlag(TF_LOADING_TIPS_OFF, 1)

	//CallFunc("system:camera_reset")

	LoadArg("map/mp1201t3/mp1201t3.arg")
	EventCue("mp1201:EV_M05S030")

	ResetStopFlag(STOPFLAG_EVENT)


	//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼バハの塔へ向かうことになる
//──────────────────────────────
function "EV_M05S030"			//バハの塔へ向かうことになる
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 30.19f, -1413.39f, 11.24f)
	Turn("ADOL", -73.25f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", 29.38f, -1413.22f, 11.33f)
	Turn("DANA", -67.92f, 360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", 28.64f, -1411.53f, 11.44f)
	Turn("RICOTTA", -62.12f, 360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 27.56f, -1413.53f, 11.54f)
	Turn("SAHAD", -53.70f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 30.34f, -1412.52f, 11.18f)
	Turn("LAXIA", -60.80f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", 27.66f, -1412.18f, 11.56f)
	Turn("HUMMEL", -57.25f, 360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , 31.828f , -1413.144f , 14.438f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 12.002f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.833f , 0 )	// 基本仰角
	RotateCamera( 0 , 322.317f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000, 2.000, 0.750, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M05S030_ED")

	//開始処理ここまで-----------------------------------------------

	// カット1 -----------------------------------------------------------------------------------------

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 31.828f , -1413.144f , 12.998f, 110 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 12.002f , 110 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.784f , 110 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 292.439f, 110 )

	// 移動
	ExecuteCmd(1, MoveTo, "LAXIA", 37.09f, -1415.71f, 10.83f, 0.1f, 0.20f)
	Wait(3)
	ExecuteCmd(2, MoveTo, "ADOL", 36.19f, -1416.51f, 10.83f, 0.1f, 0.15f)
	Wait(2)
	ExecuteCmd(3, MoveTo, "DANA", 36.15f, -1417.04f, 10.83f, 0.1f, 0.16f)
	Wait(3)
	ExecuteCmd(4, MoveTo, "RICOTTA", 36.87f, -1414.69f, 10.83f, 0.1f, 0.17f)
	Wait(2)
	ExecuteCmd(5, MoveTo, "SAHAD", 35.17f, -1416.94f, 10.83f, 0.1f, 0.15f)
	Wait(1)
	ExecuteCmd(6, MoveTo, "HUMMEL", 35.81f, -1415.35f, 10.83f, 0.1f, 0.13f)

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	Wait(FADE_NORMAL)

	//　　画面フェードインして集落出口付近に場所を映す。
	//　　歩いてフレームインしてくるアドル班メンバー。

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// カット2 -----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_NORMAL)
	StopThread(1)
	StopThread(2)
	StopThread(3)
	StopThread(4)
	StopThread(5)
	StopThread(6)

	// カメラ
//	MoveCameraAt( 0 , 33.521f , -1414.669f , 14.530f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.102f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -16.189f , 0 )	// 基本仰角
//	RotateCamera( 0 , 121.037f , 0 )				// 角度
//	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , 33.521f , -1414.669f , 12.298f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.402f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.130f , 0 )	// 基本仰角
	RotateCamera( 0 , 119.529f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整
	SetChrPos("ADOL", 34.40f, -1415.46f, 10.83f)
	Turn("ADOL", 131.25f, 360.0f)
	SetChrPos("DANA", 33.40f, -1416.05f, 10.83f)
	Turn("DANA", 164.92f, 360.0f)
	SetChrPos("LAXIA", 34.60f, -1414.55f, 10.83f)
	Turn("LAXIA", 103.38f, 360.0f)
	SetChrPos("SAHAD", 32.20f, -1415.40f, 10.83f)
	Turn("SAHAD", -119.19f, 360.0f)
	SetChrPos("RICOTTA", 33.80f, -1413.44f, 10.86f)
	Turn("RICOTTA", 48.20f, 360.0f)
	SetChrPos("HUMMEL", 32.64f, -1414.17f, 10.87f)
	Turn("HUMMEL", -72.34f, 360.0f)
	
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )
	ChangeAnimation( "DANA", "ANI_WAIT", -1, 1 )
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )
	ChangeAnimation( "RICOTTA", "ANI_WAIT", -1, 1 )
	ChangeAnimation( "HUMMEL", "ANI_WAIT", -1, 1 )

	LookChr("ADOL", "HUMMEL")
	LookChr("DANA", "HUMMEL")
	LookChr("LAXIA", "HUMMEL")
	LookChr("SAHAD", "HUMMEL")
	LookChr("RICOTTA", "HUMMEL")

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 33.521f , -1414.669f , 12.298f , 150 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.402f , 150 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.130f , 150 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 119.529f , 150 )
//	
//	Wait(FADE_SLOW)
//
//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//	
	Wait(30)

	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_S", -1, 1 )
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000m──そういえばヒュンメル、"
		"あなたは目的を果たしたはずです。\p"
		"引き続き、わたくしたちと"
		"行動なさるつもりですか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("HUMMEL", 0.0f, -5.0f)	// うつむく

	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#011e#000m#0L………………………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_E", -1, 1 )

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mその……協力は有難いのですが、"
		"何だか意外な気がして……"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayVoice(Y8V_2165,"HUMMEL",100)	//ああ（平常のテンション。あらゆる場面で使用）

	Look("HUMMEL", 0.0f, 0.0f)

	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#012e#000m協力するのは当然だ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI_S", -1, 1 )
	EmotionEx("HUMMEL", 0.00f, EMO_KIRI, 0, 5, 1, 1, 1.0f )	// 「キラーン」
	Wait(25)
	
	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#000mなぜなら無事にアジトへ"
		"帰るまでが“運び”の仕事だからだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　キメ顔で言い放つヒュンメル。
	//　　ラクシャに冷や汗エモーション。
	EmotionEx("LAXIA", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f )	// 「冷や汗」
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_LAUGH_S,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE_S,1)

	Wait(35)
	
	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#011e#000mそして、それは代々運び屋を"
		"営むトラバルト家の家訓でもある。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mそ、そうでしたか……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "LAXIA")
	ChangeAnimation( "SAHAD", "ANI_EV_TEBURI", -1, 1 )
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#080mガハハ、まあ脱出するための"
		"共同戦線に置き換わったってトコか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayVoice(Y8V_2564,"RICOTTA",100)	//なはは（楽しそうに）

	ChangeAnimation( "RICOTTA", "ANI_EV_KYOSHU_S", -1, 1 )

	// リコッタ
	TalkPopup("RICOTTA", 0, 1, 0, 0, 0) {
		"#000e#000m改めてよろしく頼んだ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookTo("HUMMEL", 33.762f , -1413.501f , 12.558f)
	ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI_E", -1, 1 )
	
	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#000e#000mああ、頼まれた。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA", "ANI_EV_KYOSHU_E", -1, 1 )

	LookChr("HUMMEL", "DANA")
	Wait(10)
	
	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#000e#000mダーナとやら、バハの塔へ"
		"行くにはどうすればいい？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SMILE_S, 1)	// 目

	LookChr("RICOTTA", "DANA")
	LookChr("ADOL", "DANA")
	LookChr("LAXIA", "DANA")
	LookChr("SAHAD", "DANA")

	//　　ダーナにＰＡエモーション表示。
	EmotionEx("DANA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	Wait(40)

	// カット3 ----------------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , 34.272f , -1415.634f , 12.298f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.502f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.255f , 0 )	// 基本仰角
	RotateCamera( 0 , 211.155f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整

	SetChrPos("ADOL",34.56f,-1415.63f,10.83f)
	Turn("ADOL", 131.25f, 360.0f)

	SetChrPos("DANA", 33.96f, -1416.04f, 10.83f)
	Turn("DANA", 154.26f, 360.0f)
	LookChr("DANA", "HUMMEL")
	
	// フェード待ち
	Wait(10)
	
	// （ダーナ）うなずき
	HeadYes("DANA" , 1 , 25 )
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	
	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#000mうん、塔堂#4Rストゥーパ#Rのある王都中央区から"
		"東に向かって大きな橋が架かっているの。\p"
		"#000e#000mその橋を渡った先の出口から"
		"道なりに進んで行けばいいはずだよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("RICOTTA", "ADOL")

	// リコッタ
	TalkPopup("RICOTTA", 0, 1, 0, 0, 0) {
		"#000e#000m……スグに王都へ向かうのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("LAXIA")
	ChangeAnimation( "LAXIA", "ANI_EV_SIAN_S", -1, 1 )

	LookChr("ADOL", "LAXIA")
	LookChr("DANA", "LAXIA")
	LookChr("HUMMEL", "LAXIA")
	Turn("ADOL",160.03f,8.0f)

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#011e#000mわたくしはどちらでも構いません。\p"
		"#000mせっかくなので船の資材集めを"
		"手伝ってもいいかもしれませんが……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "LAXIA", "ANI_EV_SIAN_E", -1, 1 )
	LookChr("LAXIA", "ADOL")
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#012e#000mアドル、掲示板でも眺めつつ"
		"考えておいて頂けませんか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、頷きモーション。
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(20)
	
	LookReset("LAXIA")
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mそれでは準備ができたら、"
		"出発いたしましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "RICOTTA" , "ANI_EV_GUTSPOSE_S", -1 , 1 )
	
	// リコッタ
	TalkPopup("RICOTTA", 0, 1, 0, 0, 0) {
		"#021e#080mおー！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 34.272f , -1415.634f , 12.794f, 100 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 6.602f , 100 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.984f , 100 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 223.602f , 100 )
//
//	Wait(30)

	//　　ここで操作許可。
	//　　船造りの話で盛り上がる漂流村を回ると
	//　　資材集めの他にも下記のサブイベントが発生する。
	//　　・最近アリスンの体調が良くないという話を聞ける。
	//　　　アリスンを訪ねると彼女が倒れてしまうイベントが発生。
	//　　　慌ててリヒトを呼ぶと、お腹は目立たないが、
	//　　　どうやら新しい命を宿していることが判る。
	//　　　迷惑をかけないようにと言い出せずにいたらしい。
	//　　　どうやら遠からず出産となる見込みらしく、
	//　　　ラクシャが女性たちに声をかけて準備を進めることになる。
	//　　　(アリスンの夫がまだ見つかっていないことにも言及し、
	//	　　捜索できるタイミングであることをプレイヤーに伝える。)
	//　　・また漂流村内にいるヒュンメルに話しかけると、
	//　　　彼が“運び屋”となった経緯を聞くことができるとか？
	//　　　元々ヒュンメルの家系、トラバルト家は
	//　　　闇の世界の“運び屋”を代々担ってきたのだという。
	//　　　彼自身は家を出奔して大道芸人をやっていたが、
	//　　　ひょんなことから確執のあった父の本意を知ることとなり、
	//　　　「誇りあるトラバルト」を継ぐことを決意したそうだ。

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	// カメラ待ち
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M05S030_ED")
}

function "EV_M05S030_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")	

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	SetFlag(SF_SETRAMSAVE,1)		//リトライセーブ
	SetFlag(GF_TBOX_DUMMY076, 1)
	//SetFlag( SF_MISSIONNO, MS_05_02 )	//★冒険メモ：ダーナと共に《バハの塔》を探索しよう。
	//SetDiaryFlag( DF_JOIN_DANA, 1 )			//★足跡メモ：ダーナが仲間に加わった。
	CallFunc("rng:0422")
	
	if( FLAG[GF_QUEST_310] >= QUEST_SUCCESS ){	// 【QS310】試作品の性能テスト（エアラン） クエスト達成済み？
		SetFlag( GF_QS310_GET_ITEM3, 1 )	// 【QS310】ショップ更新用・暴竜の護符専用フラグ
	}

	//SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//ダーナ合流	名声値+2

	SetFlag( GF_CAMP_SHIPYARD_LV, 5 )	// 漂流村の発展設定：造船所LV5

	// 人物メモを切り替える・ダーナ（２）
	//SetDiaryCharaFlag( DRCHA_DANA, DRCHA_FLAG_OPEN, 0 )		//★人物メモ：合流時に登録（ダーナ）
	//SetDiaryCharaFlag( DRCHA_DANA2, DRCHA_FLAG_OPEN, 1 )	//★人物メモ：合流時に登録（ダーナ）
	//SetDiaryCharaFlag( DRCHA_DANA, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（ダーナ）
	//SetDiaryCharaFlag( DRCHA_DANA2, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（ダーナ）

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init")

	//マップマーカー
	SetMapMarker( SMI_SYMBOL ,PAGE_F035, MARKER_EV_M05S042, -168.57f, 1299.27f, 48.16f, -168.57f, 1299.27f,MARKER_EV_M05S042,MN_F_MP6103,0)		//メイン：バハの塔を眺める

	SetFlag(SF_CAMP_CANT_EQUIP, 0)	// キャンプメニュー：装備禁止解除
	SetFlag(SF_CAMP_CANT_FORMATION, 0)	// キャンプメニュー：編成禁止解除

	//アドルお一人様 (Redmine #26453 対応)
	//SetFlag(GF_PARTY_NONE, 0)		//パーティ全員行動解除
	//FixPlayerChr(PARTY_ADOL)	// アドルおひとり様モードON

	//イベント後の再配置
	SetChrPos("LEADER", 33.73f, -1417.34f, 10.83f)
	Turn("LEADER", 59.92f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt( 0 , 33.728f , -1417.343f , 12.700f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 14.739f , 0 )	// 基本仰角
	RotateCamera( 0 , 120.082f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK, FADE_FAST)
	//WaitFade()
	LoadArg("map/mp1201/mp1201.arg")
	//終了処理ここまで----------------------------------------------------
}


//──────────────────────────────
//▼漂流村の騒がしさに気づく(mp1201)
//──────────────────────────────
function "EV_M05S140"			//漂流村の騒がしさに気づく
{
	//開始処理ここから-----------------------------------------------

//	//MTDのSE鳴らさない
//	SetFlag( SF_NOUSE_MTDSE, 1 )
//
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

//	MoveCameraAt(0, 0, 0, 0, 0)	// 注視点

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 42.81f, -1412.15f, 10.76f)
	Turn("ADOL", 69.19f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", 41.12f, -1411.50f, 10.70f)
	Turn("RICOTTA", 49.76f, 360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 43.17f, -1409.91f, 10.81f)
	Turn("SAHAD", 57.67f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 42.27f, -1411.31f, 10.70f)
	Turn("LAXIA", 55.94f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", 43.83f, -1411.22f, 10.72f)
	Turn("HUMMEL", 44.50f, 360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", 43.19f, -1413.11f, 10.72f)
	Turn("DANA", 71.33f, 360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	//カメラ設定
	MoveCameraAt(0, 38.531f, -1418.155f, 14.718f, 0)	// 注視点
	ChangeCameraDistance(0, 4.999f, 0)		// 基本距離
	ChangeCameraElevation(0, 0.983f, 0)	// 基本仰角
	RotateCamera(0, 155.817f, 0)				// 角度
	ChangeCameraPers(0, 58.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000, 2.000, 0.450, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

//	SetFlag( SF_NOUSE_MTDSE, 0 )

	MapHide( "skyfog2" , 1 )		//濃霧表示する
	MapHide( "BG2_sky1" , 0 )		//元の空非表示
	MapHide( "BG2_sky2" , 0 )		//元の空非表示
	SetFog(FOG_BOTH, 0x00828c9e, 0.0f, 120.0f , 2.0f, 0.3f, 0.9f, FOGPARAM_MAP_DEFAULT, FOGPARAM_MAP_DEFAULT, 0)
	SetFogBack(FOG_BOTH, 0x00939aa0, 200.0f, 1000.0f , 1.0f , 0.7f , 0.9f , FOGPARAM_MAP_DEFAULT, FOGPARAM_MAP_DEFAULT, 0 )
	SetMapLightColor( 1.0f, 1.0f, 1.0f, 1.0f, 0.8f )

	//スキップ許可
	SetSkipScript("mp1201:EV_M05S140_ED")

	//開始処理ここまで-----------------------------------------------

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 35.110f, -1415.229f, 14.718f, 115)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, -8.193f, 115)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 94.693f, 115)		// 角度

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	//　　漂流村付近のマップでは周囲に霧が漂っている状況。
	//　　マップジャンプか徒歩で漂流村へ戻るとイベント開始。
	//　　入口から霧の漂う村へ入ってくるアドルたち。
	
	ExecuteCmd(1, MoveTo, "RICOTTA", 36.83f, -1415.63f, 10.83f,  0.1f, 0.22f)
	ExecuteCmd(2, MoveTo, "ADOL", 39.31f, -1415.11f, 10.83f, 0.1f, 0.17f)
	Wait(3)
	ExecuteCmd(3, MoveTo, "DANA", 40.02f, -1415.68f, 10.82f, 0.1f, 0.20f)
	Wait(3)
	ExecuteCmd(4, MoveTo, "LAXIA", 38.43f, -1414.74f, 10.83f, 0.1f, 0.20f)
	Wait(3)
	ExecuteCmd(5, MoveTo, "SAHAD", 38.36f, -1413.82f, 10.83f, 0.1f, 0.20f)
	ExecuteCmd(6, MoveTo, "HUMMEL", 40.47f, -1413.58f, 10.81f, 0.1f, 0.17f)
	
	
	CrossFade(45)
	
//	MoveCameraAt(0, 37.446f, -1416.190f, 13.899f, 0)	// 注視点
//	ChangeCameraDistance(0, 4.799f, 0)		// 基本距離
//	ChangeCameraElevation(0, 11.747f, 0)	// 基本仰角
//	RotateCamera(0, 310.084f, 0)				// 角度
//	ChangeCameraPers(0, 31.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , 36.526f , -1415.706f , 13.141f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.619f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.581f , 0 )	// 基本仰角
	RotateCamera( 0 , 305.357f , 0 )				// 角度
	ChangeCameraPers( 0 , 31.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 36.526f , -1415.706f , 12.161f, 80 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.619f , 80 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.581f , 80 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 290.165f , 80 )

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 38.787f, -1413.689f, 11.841f, 80)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 4.482f, 80)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 316.175f, 80)		// 角度

	Look("RICOTTA", -30.0f, 0f)
	Wait(60)
	Look("RICOTTA", 30.0f, 0f)

	WaitThread(1)

	LookReset("RICOTTA")

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(2)
	WaitThread(3)
	WaitThread(4)
	WaitThread(5)
	WaitThread(6)

	TalkPopup("RICOTTA", 0, 2, 0, 0, 0)
	{
		"#070e#000m真っ白……コレ霧か？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ダーナに「…」エモーション。
	EmotionEx("DANA", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(52)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	
	TalkPopup("DANA", 0, 2, 0, 0, 0)
	{
		"#000mうん、妙な霧だね。"
		"まるで体にまとわりつくような……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

		//	"SAHAD"
		TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#051e#000m確かにイヤな感じがするぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	FadeBGM(70,10)

	//　　海岸方面から人の声が聞こえて来る。
	SetName("老人の叫び声")
	//	老人の叫び声（タナトス）
	TalkPopup(UNDEF, 0, 3, 400, 230, 0)
	{
		"#4023V#12Sおい、沖を見るんじゃ！"	//（フォント小）"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	EmotionEx("SAHAD", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	EmotionEx("HUMMEL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	EmotionEx("RICOTTA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	EmotionEx("DANA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」

	Look("ADOL", -30, 0)
	Look("LAXIA", -30, 0)
	Look("SAHAD", -30, 0)
	Look("HUMMEL", -30, 0)
	Look("RICOTTA", -30, 0)
	Look("DANA", -30, 0)
	Wait(45)

	CrossFade(FADE_FAST)
	SetChrPos("ADOL", 39.13f, -1414.64f, 10.83f)
	Turn("ADOL", 44.25f, 360.0f)
	SetChrPos("DANA", 39.82f, -1416.24f, 10.83f)
	Turn("DANA", 76.05f, 360.0f)
	SetChrPos("SAHAD", 39.74f, -1412.50f, 10.76f)
	Turn("SAHAD", 52.59f, 360.0f)
	SetChrPos("HUMMEL", 40.55f, -1413.52f, 10.81f)
	Turn("HUMMEL", 69.65f, 360.0f)
	SetChrPos("RICOTTA", 37.24f, -1415.66f, 10.83f)
	Turn("RICOTTA", 52.27f, 360.0f)
	SetChrPos("LAXIA", 38.47f, -1414.70f, 10.83f)
	Turn("LAXIA", 51.40f, 360.0f)

	MoveCameraAt(0, 38.694f, -1416.153f, 12.685f, 0)	// 注視点
	ChangeCameraDistance(0, 5.899f, 0)		// 基本距離
	ChangeCameraElevation(0, -0.107f, 0)	// 基本仰角
	RotateCamera(0, 177.945f, 0)				// 角度
	ChangeCameraPers(0, 28.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 39.128f, -1414.534f, 12.685f, 90)		// 注視点
//	WaitThread(1000)


	Wait(FADE_NORMAL)

	SetName("男の怯えた声")
	//	男の怯えた声（リヒト）
	TalkPopup(UNDEF, 0, 3, 350, 70, 0)
	{
		"#4314V#12Sひえっ、こ、今度は"
		"#12S見間違いじゃなさそうです。"	//（フォント小）"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	SetName("女の子の声")

	//	女の子の声（クイナ）
	TalkPopup(UNDEF, 0, 3, 400, 90, 0)
	{
		"#4660V#10Sどこどこ？　わたしも見るー！"	//（フォント小）"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	//　　リコッタに「？」エモーション表示。
	EmotionEx("RICOTTA", 0.00f, EMO_Q, 0, 5, 1, 1, 1.0f)	// 「？」
	Wait(35)
	LookReset("RICOTTA")
	Turn("RICOTTA", -113.71f, 10.0f)

	TalkPopup("RICOTTA", 0, 0, 0, 0, 0)
	{
		"#000e#000mみんなの声……何事？"
	}
	WaitPrompt()
	WaitCloseWindow()

		//	"LAXIA"
	ChangeAnimation("LAXIA", "ANI_EV_SIAN_S", -1, 1)

	TalkPopup("LAXIA", 0, 0, 0, 0, 0)
	{
		"#000e#000m何かあったみたいですね……"
		"アドル、見回ってみましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルが頷いて画面フェードアウト。
	
	HeadYes("ADOL", 1, 25)
	Wait(35)

	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M05S140_ED")
}

function "EV_M05S140_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	ActiveVoiceStop(ACTIVEVOICESTOP_FORCE)		//アクティブボイス強制終了

	//フラグ処理
	SetFlag(GF_05MP1201_NOTICE_MIST, 1)
	//SetFlag( SF_MISSIONNO, MS_05_04 )	//★冒険メモ：騒ぎについて調べてみよう。
	SetFlag( GF_CAMP_SHIPYARD_LV, 6 )	// 漂流村の発展設定：造船所LV6
	
	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init")

	//アドルお一人様制御
	//SetFlag(GF_PARTY_NONE, 1)		//パーティ全員行動ON
	//FixPlayerChr(PARTY_NONE)	// アドルおひとり様モードOFF

	//イベント後の再配置
//	SetChrPos("LEADER", 34.76f, -1416.78f, 10.83f)
//	Turn("LEADER", 54.80f, 360.0f)
//	ResetPartyPos()
//	ResetFollowPoint()
//	Wait(1)

	//カメラ位置復帰
//	MoveCameraAt( 0 , 34.759f , -1416.778f , 12.690f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
//	RotateCamera( 0 , 125.200f , 0 )				// 角度
//	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	CallFunc("system:camera_reset")

	EventCue("mp1201:EV_M05S141")	// （バグ #27085 対応）	[ドギに見張り台へ登るよう言われる]に直結
	FadeBGM(100,30)

	ResetStopFlag(STOPFLAG_EVENT)


//	FadeIn(FADE_BLACK, FADE_FAST)
//	WaitFade()

	//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼ドギに見張り台へ登るよう言われる(mp1201)
//──────────────────────────────
function "EV_M05S141"			//見張り台を登ることにする
{
	//開始処理ここから-----------------------------------------------

//	CallFunc("system:event_begin")	// イベントボックス起動
	
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Aaron")
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	//ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 13.04f, -1425.93f, 17.30f)
	Turn("ADOL", -120.23f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", 10.83f, -1424.82f, 17.09f)
	Turn("RICOTTA", -118.43f, 360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 11.62f, -1425.07f, 17.13f)
	Turn("SAHAD", -128.15f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 12.47f, -1425.37f, 17.22f)
	Turn("LAXIA", -102.05f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", 12.06f, -1426.86f, 17.31f)
	Turn("HUMMEL", -132.19f, 360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", 11.41f, -1426.34f, 17.25f)
	Turn("DANA", -126.87f, 360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 16.23f, -1428.95f, 32.34f)
	Turn("Aaron", -66.99f, 360.0f)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 14.98f, -1427.16f, 17.45f)
	Turn("Dogi", -84.93f, 360.0f)
	ChangeAnimation("Dogi", "ANI_EV_UDEGUMI", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	Look("Dogi", 0.0f, 50.0f)
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	MoveCameraAt( 0 , 17.918f , -1426.583f , 20.175f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -17.367f , 0 )	// 基本仰角
	RotateCamera( 0 , 239.872f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 17.556f, -1427.208f, 20.175f, 60)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, -17.367f, 60)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 239.871f, 60)		// 角度

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000, 2.000, 0.450, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M05S141_ED")

	//開始処理ここまで-----------------------------------------------

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	
	//　　フェードインして見張り台近くへ歩いてくるアドルたち。
	//　　ドギが腕組みをし見張り台を見上げている。

	TalkPopup("Dogi", 0, 0, 0, 0, 0)
	{
		"#000e#000mどうだ、エアラン。"
		"確認できたのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　エアランの声が上空から聞こえてくる。
	SetName("エアランの声")
	//	エアランの声
		TalkPopup("Aaron", 0, 0, 0, 0, 0)
	{
		"……ああ、残念なことにな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	SetName("エアランの声")
		TalkPopup("Aaron", 0, 0, 0, 0, 0)
	{
		"信じたかねェが、どうやら"
		"タダの見間違いじゃなさそうだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	//　　歩いて画面にフレームインしてくるアドルたち。
	//　　ドギ、PAエモーション出して振り向く。

	CrossFade(FADE_FAST)
	
	MoveCameraAt( 0 , 13.686f , -1425.880f , 19.278f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.999f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.842f , 0 )	// 基本仰角
	RotateCamera( 0 , 234.222f , 0 )				// 角度
	ChangeCameraPers( 0 , 48.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 14.855f , -1426.508f , 18.938f, 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.039f , 100 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 5.274f , 100 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 204.427f , 100 )

	ExecuteCmd(1, MoveTo, "ADOL", 14.71f, -1425.61f, 17.31f, 0.1f, 0.25f)
	ExecuteCmd(2, MoveTo, "LAXIA", 15.13f, -1425.12f, 17.31f, 0.1f, 0.25f)
	ExecuteCmd(3, MoveTo, "SAHAD", 15.52f, -1424.51f, 17.31f, 0.1f, 0.25f)
	Wait(5)
	ExecuteCmd(4, MoveTo, "HUMMEL", 14.00f, -1425.50f, 17.31f, 0.1f, 0.25f)
	ExecuteCmd(5, MoveTo, "DANA", 13.28f, -1425.90f, 17.30f, 0.1f, 0.25f)
	ExecuteCmd(6, MoveTo, "RICOTTA", 13.17f, -1425.04f, 17.24f, 0.1f, 0.25f)

	WaitThread(1)
	Turn("ADOL", -19.18f, 10.0f)
	WaitThread(2)
	Turn("LAXIA", -22.54f, 10.0f)

	WaitThread(4)
	Turn("HUMMEL", -29.94f, 10.0f)
	WaitThread(3)
	Turn("SAHAD", -25.98f, 10.0f)
	LookChr("SAHAD", "Dogi")
	WaitThread(5)
	Turn("DANA", -42.44f, 10.0f)
	WaitThread(6)
	Turn("RICOTTA", -13.15f, 10.0f)

	EmotionEx("Dogi", 0.00f, EMO_PA, 0, 5, 1, 1, 1.5f)	//パッ
	ChangeAnimation("Dogi", "ANI_EV_UDEGUMI_E", -1, 1)
	Wait(30)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	LookChr("Dogi", "ADOL")
	Turn("Dogi", -175.21f, 10.0f)

	TalkPopup("Dogi", 0, 2, 0, 0, 0)
	{
		"#000e#000mアドル……戻ったのか？\p"
		"ちょうどいい、お前さんにも"
		"見てもらいたいものがある。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルに「？」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_Q, 0, 5, 1, 1, 1.0f)	// 「？」
	Wait(35)
		//　　再び見張り台を見上げて声を張り上げるドギ。
	Turn("Dogi", -84.93f, 10.0f)
	Wait(5)
	Look("Dogi", 0.0f, 50.0f)
	TalkPopup("Dogi", 0, 2, 0, 0, 0)
	{
		"#000e#000mおーい、エアラン！\p"
		"ちょうどアドルが帰ってきたから、"
		"そ#2R・#Rい#2R・#Rつ#2R・#Rを見せてやってくれねぇか！"	//（そいつを「・」で強調）"
	}
	WaitPrompt()
	WaitCloseWindow()

		//	エアランの声
	SetName("エアランの声")
	TalkPopup("Aaron", 0, 0, 0, 0, 0)
	{
		"……急いだほうがいい。"
		"さっさと上がって来るんだな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	LookChr("Dogi", "ADOL")
	Turn("Dogi", -175.21f, 10.0f)
		//	"Dogi"
	TalkPopup("Dogi", 0, 2, 0, 0, 0)
	{
		"#000e#000mと言うワケで話は後だ。"
		"とにかく見張り台に上がってみてくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ここでアドル班メンバーは見張り台の周囲に配置して、
	//　　アドルのみで操作許可。
	//　　一人で集落内をフラフラしないようストッパーを設置。

	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
		
	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M05S141_ED")
}

function "EV_M05S141_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)

	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	SetFlag(GF_05MP1201_UP_LOOKOUT, 1)
	CallFunc("mp1201:init")

	//アドルお一人様制御
	//SetFlag(GF_PARTY_NONE, 0)		//パーティ全員行動解除
	//FixPlayerChr(PARTY_ADOL)	// アドルおひとり様モードON

	//イベント後の再配置
	SetChrPos("LEADER", 14.50f, -1424.05f, 17.23f)
	Turn("LEADER", -38.43f, 360.0f)

	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK, FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------
}


function "LP_M05S142"
{
	if(FLAG[GF_05MP1201_UP_LOOKOUT])
	{
		SetStopFlag(STOPFLAG_SIMPLEEVENT2)
		//ResetStopFlag(STOPFLAG_NOCHARACLIP)

		ChangeAnimation( "LEADER" , "ANI_WAIT", -1 , 1 )

		TalkPopup(UNDEF, 0, 3, STOPPER_PPOSX, STOPPER_PPOSY, 0)
		{
			"#7C見張り台に登りますか？"	
		}

		//モーションが終了するまで待機
		WaitAnimation2("LEADER", -1, 1, ANI_WAIT, 1)

		//CallFunc("system:party_reset")

		WaitPrompt()
		WaitCloseWindow()

		//選択肢
		SetFlag(TF_MENU_SELECT, 0)
		MenuReset()
		MenuType(MENUTYPE_POPUP)
		MenuAdd(1, "はい")
		MenuAdd(-1, "いいえ")
		MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
		WaitMenu(0)
		MenuClose(10, 0)

		//─────────────────────────
		//	⇒はい
		if (FLAG[TF_MENU_SELECT] == 1){

				SetEnvSEPlayState(-1, 0)	//環境SE全停止
				FadeOut(FADE_BLACK, FADE_NORMAL)
				WaitFade()

				PlayBGM(BGM_EVENT_010, 0)
				SetFlag(SF_NOCHANGEBGM, 1)

				SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット
				LoadArg("map/mp1201v1/mp1201v1.arg")	//イベント専用マップへ
				EventCue("mp1201v1:EV_M05S142")

		}
		//─────────────────────────
		//	⇒"いいえ
	}
	else {
		SetStopFlag(STOPFLAG_SIMPLEEVENT2)
		//ResetStopFlag(STOPFLAG_NOCHARACLIP)

		ChangeAnimation( "LEADER" , "ANI_WAIT", -1 , 1 )

		TalkPopup(UNDEF, 0, 3, STOPPER_PPOSX, STOPPER_PPOSY, 0)
		{
			"#7Cまずは村の様子を確認した方が良さそうだ。"		//◆
		}

		//モーションが終了するまで待機
		WaitAnimation2("LEADER", -1, 1, ANI_WAIT, 1)
		WaitPrompt()
		WaitCloseWindow()
	}
	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
}

//──────────────────────────────
//▼幽霊船を調査することになる(mp1201)
//──────────────────────────────
function "EV_M05S143"			//幽霊船を調査することになる
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	LoadChr("Thanatos")
	LoadChr("Aaron")
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	MapHide(smoke,0)

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 26.13f, -1423.38f, 10.83f)
	Turn("ADOL", -158.52f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", 28.78f, -1421.88f, 10.83f)
	Turn("RICOTTA", 80.00f, 360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 28.46f, -1420.97f, 10.83f)
	Turn("SAHAD", 67.10f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 25.42f, -1422.84f, 10.83f)
	Turn("LAXIA", -121.21f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", 28.68f, -1422.77f, 10.83f)
	Turn("HUMMEL", 103.78f, 360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", 27.48f, -1423.58f, 10.83f)
	Turn("DANA", 157.07f, 360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Thanatos", 27.51f, -1420.30f, 10.83f)
	Turn("Thanatos", 17.36f, 360.0f)
	ChangeAnimation("Thanatos", "ANI_EV_UDEGUMI", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 26.33f, -1420.39f, 10.83f)
	Turn("Aaron", -21.72f, 360.0f)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 25.22f, -1421.49f, 10.83f)
	Turn("Dogi", -89.24f, 360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	StopBGM(30)

	// 位置調整
	SetChrPos("Aaron", 26.69f, -1420.20f, 10.83f)
	Turn("Aaron", -3.95f, 360.0f)
	
	LookChr("ADOL", "Thanatos")
	LookChr("DANA", "Thanatos")
	LookChr("LAXIA", "Thanatos")
	LookChr("HUMMEL", "Thanatos")
	LookChr("RICOTTA", "Thanatos")
	LookChr("Dogi", "Thanatos")
	LookChr("Aaron", "Thanatos")

	//カメラ設定
	MoveCameraAt(0, 30.562f, -1419.305f, 12.734f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 5.434f, 0)	// 基本仰角
	RotateCamera(0, 115.179f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000, 2.000, 0.450, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M05S143_ED")

	//開始処理ここまで-----------------------------------------------

	// カット1 ----------------------------------------------------------------------------------------

	PlaySE(SE_M05S143_01, 20, 1, 1000, 0, 1.0f, 0)
	Wait(30)

	//　　薪の爆ぜる音を聞かせつつ、
	//　　画面ブラックアウトしたまま以下のメッセージを表示。
	//	テキスト（色替え）
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
		"#7C──幽霊船の存在には、"
		"#7Cラクシャたちも大いに驚いたようであった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	name2()
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
		"#7C以前から目撃談や噂はあったが、"
		"#7Cここ数日の間にはっきりと"
		"#7C姿を見せるようになったのだという。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	name2()
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
		"#7C一方でドギたちはアドル班が得た、"
		"#7Cオケアノスの情報を知って歓喜する。\p"
		"#7Cしかし、オケアノスを駆逐するには"
		"#7Cその住処を突き止める必要がある。\p"
		"#7C海中にある住処をどう探すべきか、"
		"#7Cまたどのように討伐すべきなのか……\p"
		"#7C課題の多さを共有したところで"
		"#7C話し合いは一巡し……\p"
		"#7C再び幽霊船の対策について"
		"#7C協議することになるのだった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	StopSE(SE_M05S143_01, 1000)

//	// カット2 ------------------------------------------------------------------------------------------
//
//	// カメラ
//	MoveCameraAt( 0 , 27.748f , -1419.041f , 15.711f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.499f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -24.539f , 0 )	// 基本仰角
//	RotateCamera( 0 , 107.506f , 0 )				// 角度
//	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
//
//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.708f , -1418.981f , 12.486f, 150 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.198f , 150 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.656f , 150 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 157.694f , 150 )
//
//	PlayBGM(BGM_EVENT_005, 0)
//	SetEnvSEPlayState(-1, 1)	//環境SE
//
//	// フェードイン
//	FadeIn(FADE_BLACK, FADE_NORMAL)
//	WaitFade()
//
//	//　　画面フェードインして夜の集会所を映し出す。
//	//　　時計回りにアドル→ラクシャ→ドギ→エアラン→タナトス
//	//　　→サハド→リコッタ→ヒュンメル→ダーナ。
//
//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//
//	// カット3 ------------------------------------------------------------------------------------------
//
//	// クロスフェード
//	CrossFade(FADE_NORMAL)
//
	// カメラ
	MoveCameraAt( 0 , 26.619f , -1421.729f , 12.486f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.099f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.109f , 0 )	// 基本仰角
	RotateCamera( 0 , 298.844f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.796f , -1422.041f , 12.486f, 600 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.579f , 600 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 6.521f , 600 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 304.381f , 600 )

	PlayBGM(BGM_EVENT_005, 0)
	SetEnvSEPlayState(-1, 1)	//環境SE

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)

//	// フェード待ち
//	Wait(FADE_NORMAL)

	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)	// 目
	ChangeAnimation( "SAHAD", "ANI_EV_BORI", -1, 1 )
	Wait(40)

	LookChr("SAHAD", "Thanatos")

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#062e#000m──タナトスのオッサン、"
		"い、今何て言ったんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Thanatos", "SAHAD")

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#012e#000mひょっとしたら幽霊船を"
		"脱出に使えるんじゃあないか？\p"
		"そう言ったんじゃよ。"
		"そう言った4行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayVoice(Y8V_0373,"LAXIA",100)	//えっと…（平常のテンション。あらゆる場面で使用）

//	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mな、なかなかタナトスさんらしい"
		"たくましい考えですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

//	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )

	LookChr("Thanatos", "LAXIA")
	ChangeAnimation( "Thanatos", "ANI_EV_UDEGUMI_E", -1, 1 )

//	// （タナトス）うなずき
//	HeadYes("Thanatos" , 1 , 25 )
//	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
//	Wait(15)
//	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#000mウム、生きるためじゃ。"
		"怖気づいとる場合じゃなかろう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("HUMMEL")
	ChangeAnimation( "HUMMEL", "ANI_EV_SIAN_S", -1, 1 )

	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#000e#000m確かに船として使えるなら、"
		"新しいものを造る手間は省けるが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("RICOTTA")
	ChangeAnimation( "RICOTTA", "ANI_EV_KYOSHU_S", -1, 1 )
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_LAUGH_S, 1)	// 目

	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#020e#080mリコッタ、ユーレイ船乗ってみたい！"
		"ユーレイ船2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("DANA", "SAHAD")
	ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_S", -1, 1 )

	ChangeAnimation( "RICOTTA", "ANI_EV_KYOSHU_E", -1, 1 )

	// ダーナ
	TalkPopup("DANA", 0, 1, 0, 0, 0) {
		"#000e#000m私も興味あるかな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "DANA")
	ChangeAnimation( "SAHAD", "ANI_EV_SUP_S", -1, 1 )

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 10, 1) {
		"#061e#110mお、お前たち本気かよ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット4 ----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ待ち
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 26.731f , -1421.785f , 12.214f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.110f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.092f , 0 )	// 基本仰角
	RotateCamera( 0 , 72.304f , 0 )				// 角度
	ChangeCameraPers( 0 , 42.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 位置調整
	SetChrPos("ADOL", 26.13f, -1423.38f, 10.83f)
	Turn("ADOL", -140.76f, 360.0f)
	SetChrPos("DANA", 27.18f, -1423.69f, 10.83f)
	Turn("DANA", 174.84f, 360.0f)
	SetChrPos("LAXIA", 25.34f, -1422.60f, 10.83f)
	Turn("LAXIA", -103.45f, 360.0f)
	SetChrPos("SAHAD", 28.19f, -1420.55f, 10.83f)
	Turn("SAHAD", 42.23f, 360.0f)
	SetChrPos("Aaron", 25.69f, -1420.42f, 10.83f)
	Turn("Aaron", -35.93f, 360.0f)
	SetChrPos("Thanatos", 26.93f, -1420.09f, 10.83f)
	Turn("Thanatos", 6.70f, 360.0f)
	
	LookReset("DANA")
	LookReset("LAXIA")
	LookReset("HUMMEL")
	LookReset("RICOTTA")
	LookReset("SAHAD")
	LookReset("Aaron")
	LookReset("Thanatos")
	LookReset("Aaron")

	ChangeAnimation( "SAHAD", "ANI_EV_SUP_E", -1, 1 )
	ChangeAnimation( "HUMMEL", "ANI_WAIT", -1, 1 )
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SAD, 1)	// 目
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	
	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.843f , -1422.152f , 12.288f , 180 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.500f , 180 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,8.451f , 180 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 108.121f , 180 )
//
//	//MoveCameraAt( 0 , 26.843f , -1422.152f , 12.288f , 0 )	// 注視点
//	//ChangeCameraDistance( 0 , 4.500f , 0 )		// 基本距離
//	//ChangeCameraElevation( 0 , 8.451f , 0 )	// 基本仰角
//	//RotateCamera( 0 , 108.121f , 0 )				// 角度
//	//ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
//	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	
	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_S", -1, 1 )
	LookChr("Aaron", "Dogi")

	LookChr("ADOL", "Aaron")
	LookChr("LAXIA", "Aaron")
	LookChr("Dogi", "Aaron")

	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#000e#000mったく、その前にそもそも"
		"あれは本当に船なんだろうなァ？\p"
		"確かにそれっぽくは見えたが、"
		"不気味な青白い光に包まれてたぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mまあ、そいつも含めて"
		"調べてみる価値はあるだろう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("DANA", "ADOL")

	LookChr("Dogi", "ADOL")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"どうだ、アドル。"
		"あの船を調べてみちゃくれねぇか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "ADOL")
	LookChr("ADOL", "Dogi")
	Wait(10)
	
	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "言われるまでもない")
	MenuAdd(2, "ちょっと待ってくれないか")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)

	// 手振り
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//─────────────────────────
	//	⇒言われるまでもない
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )

		// ドギ
		TalkPopup("Dogi", 0, 2, 0, 0, 0) {
			"#000e#000mお、さすがだぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("LAXIA", "ADOL")
		ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_S", -1, 1 )

		// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#000e#000mオケアノスも気になりますが、"
			"今は有力な情報もありませんし……"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI_S", -1, 1 )

		// ヒュンメル
		TalkPopup("HUMMEL", 0,10, 0, 0, 0) {
			"#000e#000mフム、こちらから"
			"当たるのが妥当かもしれんな。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)	// 目
		ChangeAnimation( "SAHAD", "ANI_EV_GAKKARI_S", -1, 1 )

		// サハド
		TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
			"#000mトホホ……"
		}
		WaitPrompt()
		WaitCloseWindow()

	}

	//	⇒ちょっと待ってくれないか
	if (FLAG[TF_MENU_SELECT] == 2 ) {
		
		LookChr("DANA", "SAHAD")
		LookChr("ADOL", "SAHAD")
		ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_E", -1, 1 )
	
		// サハド
		TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
			"#000e#000mお？　アドル、まさか"
			"お前もユーレイが苦手なクチか？"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("LAXIA", "SAHAD")
		ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )

		LookChr("Dogi", "SAHAD")
		
		// ラクシャ
		TalkPopup("LAXIA", 0, 0, 0, 0, 0) {
			"#030e#000m好奇心の塊のようなアドルに限って、"
			"そんなはずはありません。\p"
			"#000e#000m大方オケアノスのほうが"
			"気にかかるのでは？"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )
		LookChr("Dogi", "LAXIA")

		// ドギ
		TalkPopup("Dogi", 0, 0, 0, 0, 0) {
			"#000e#000mそりゃあ、そうかもしれんが、"
			"今は大した情報もねえしなあ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("DANA", "ADOL")
		Wait(7)

		ChangeAnimation( "DANA", "ANI_EV_UDEGUMI_S", -1, 1 )
		HeadYes("DANA" , 1 , 25 )
		ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		// ダーナ
		TalkPopup("DANA", 0, 2, 0, 0, 0) {
			"#000mうん、闇雲にそっちを探るより"
			"幽霊船を優先するべきかな。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)	// 目
		ChangeAnimation( "SAHAD", "ANI_EV_GAKKARI_S", -1, 1 )

		// サハド
		TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
			"#000mトホホ、マジかよ……"
		}
		WaitPrompt()
		WaitCloseWindow()

	}

	//─────────────────────────

	// カット5 ---------------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 27.716f , -1420.730f , 12.386f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.632f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.939f , 0 )	// 基本仰角
	RotateCamera( 0 , 304.656f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	
	// 位置調整
	SetChrPos("ADOL", 26.13f, -1423.38f, 10.83f)
	Turn("ADOL", -158.52f, 360.0f)
	SetChrPos("RICOTTA", 28.78f, -1421.88f, 10.83f)
	Turn("RICOTTA", 80.00f, 360.0f)
	SetChrPos("SAHAD", 28.46f, -1420.97f, 10.83f)
	Turn("SAHAD", 49.33f, 360.0f)
	SetChrPos("LAXIA", 25.42f, -1422.84f, 10.83f)
	Turn("LAXIA", -121.21f, 360.0f)
	SetChrPos("HUMMEL", 28.68f, -1422.77f, 10.83f)
	Turn("HUMMEL", 103.78f, 360.0f)
	SetChrPos("DANA", 27.48f, -1423.58f, 10.83f)
	Turn("DANA", 157.07f, 360.0f)
	SetChrPos("Dogi", 25.22f, -1421.49f, 10.83f)
	Turn("Dogi", -89.24f, 360.0f)
	SetChrPos("Aaron", 26.33f, -1420.39f, 10.83f)
	Turn("Aaron", -21.72f, 360.0f)
	SetChrPos("Thanatos", 27.51f, -1420.30f, 10.83f)
	Turn("Thanatos", 17.36f, 360.0f)
	
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SAD, 1)	// 目
	
	ChangeAnimation( "SAHAD", "ANI_EV_GAKKARI_E", -1, 1 )
	ChangeAnimation( "Aaron", "ANI_WAIT", -1, 1 )
	ChangeAnimation( "Thanatos", "ANI_WAIT", -1, 1 )
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )
	ChangeAnimation( "DANA", "ANI_WAIT", -1, 1 )
	ChangeAnimation( "HUMMEL", "ANI_WAIT", -1, 1 )
	LookReset("LAXIA")
	LookReset("DANA")
	LookReset("ADOL")
	
	// 非表示・再表示
	SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 非表示
	
	// フェード待ち
	Wait(FADE_CROSS)

	LookReset("Aaron")
	ChangeAnimation( "Aaron", "ANI_EV_SIAN_S", -1, 1 )

	LookChr("SAHAD", "Aaron")
	LookChr("RICOTTA", "Aaron")
	
	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#010e#000mだが、幽霊船を調べるつっても"
		"どうしたらいいんだァ？\p"
		"#000e#000mいつ現れるかなんて"
		"今のところ予測できねえんだろ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Thanatos", "Aaron")

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#000e#000mそれなんじゃがな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_SIAN_E", -1, 1 )
	LookChr("Aaron", "Thanatos")

	ChangeAnimation( "Thanatos", "ANI_EV_TEBURI", -1, 1 )

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"ここ数日、あの船は必ず"
		"南東の岬で姿を消しておるのじゃ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookRoll("RICOTTA", -10.0f)	// かしげる

	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#000e#000m南東の岬……一体何ある？"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット6 -----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , 26.220f , -1421.195f , 12.346f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.632f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.167f , 0 )	// 基本仰角
	RotateCamera( 0 , 181.198f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。	
	
	// 非表示・再表示
	ResetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 再表示
	SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 再表示

	// 位置調整
	SetChrPos("ADOL",26.18f,-1423.80f,10.83f)
	Turn("ADOL",-179.13f,360.0f)

	SetChrPos("DANA", 27.25f, -1423.67f, 10.83f)
	Turn("DANA", 164.18f, 360.0f)
	SetChrPos("HUMMEL", 28.26f, -1423.31f, 10.83f)
	Turn("HUMMEL", 142.86f, 360.0f)

	LookChr("Thanatos", "LAXIA")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.751f , -1421.033f , 12.346f, 180 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.632f , 180 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.330f , 180 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 189.171f , 180 )

	// フェード待ち
	Wait(FADE_CROSS)

	//─────────────────────────
	//	⇒岬の桟橋をすでに発見している
	
	if (FLAG[GF_05MP7411_LOOK_BRIDGE]) {

		//　　ラクシャに「！」エモーション
		EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
		Wait(30)
		
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
		ChangeAnimation( "LAXIA", "ANI_EV_SIAN_S", -1, 1 )
		
		LookChr("ADOL", "LAXIA")
		
		// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#010e#000mあの岬の向こうは確か……"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("DANA", "LAXIA")

		// ダーナ
		TalkPopup("DANA", 0, 2, 0, 0, 0) {
			"#000mうん、古びた桟橋があった場所だね。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "Thanatos", "ANI_EV_RYOTEKOSI_S", -1, 1 )

		// タナトス
		TalkPopup("Thanatos", 0, 1, 0, 0, 0) {
			"#000e#000mほう……？"
		}
		WaitPrompt()
		WaitCloseWindow()

		PlayVoice(Y8V_2169,"HUMMEL",100)	//よし（平常のテンション。あらゆる場面で使用）
		
		LookChr("HUMMEL", "ADOL")
		ChangeAnimation( "HUMMEL", "ANI_EV_TEBURI", -1, 1 )
		
		// ヒュンメル
		TalkPopup("HUMMEL", 0, 0, 0, 0, 0) {
			"#000e#000m決まりのようだな。"
			"夜が明けたらそこへ向かうぞ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	
	} else {

	//	⇒岬の桟橋をまだ発見していない

		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
		ChangeAnimation( "LAXIA", "ANI_EV_SIAN_S", -1, 1 )
		
		LookChr("ADOL", "LAXIA")

		// ラクシャ
		TalkPopup("LAXIA", 0, 0, 0, 0, 0) {
			"#010e#000m分かりませんが、そう言えば……\p"
			"#000e#000m岬の向こう側はまだ"
			"調べていなかったはずですね……"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("DANA", "LAXIA")
		
		// ダーナ
		TalkPopup("DANA", 0, 0, 0, 0, 0) {
			"#000m行ってみる価値はありそうだね。"
		}
		WaitPrompt()
		WaitCloseWindow()

		PlayVoice(Y8V_2169,"HUMMEL",100)	//よし（平常のテンション。あらゆる場面で使用）

		LookChr("HUMMEL", "ADOL")
		ChangeAnimation( "HUMMEL", "ANI_EV_TEBURI", -1, 1 )

		// ヒュンメル
		TalkPopup("HUMMEL", 0, 0, 0, 0, 0) {
			"#000e#000m決まったようだな。"
			"夜が明けたらそこへ向かうぞ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	
	}

	//─────────────────────────
	//　　アドルに確認を取るヒュンメル。
	//　　アドルが頷いて画面フェードアウト。
	LookSpd("ADOL",0.11f,0.11f,0.11f)
	LookChr("ADOL", "HUMMEL")
	Wait(20)
	
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.751f , -1420.727f , 13.646f , 120 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.832f , 120 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -12.929f , 120 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 183.194f , 120 )
	
	// （アドル）うなずき
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(40)

	//　　ブラックアウトのままジングル鳴らす。
	//　　翌朝となり、休息所から操作許可に。
	//　　地図を開くと岬南東に行き先指定されている状態。

	StopBGM(120)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	Wait(45)

	PlaySE( SE_HOTEL_JINGLE , 100 , 0,  0, 0, 1.0f, 0)	//ジングル
	Wait(140)

//-- 周辺の地図登録システムメッセージ --------------------------------

	PlaySE(SE_EV_POINT, 100, 0, 0, 0, 1.0f, 0)	//イベントポイント登録
	Message("#4C島南東部のイベントポイントが地図に記された。")	//ここだけ専用メッセージ
	WaitPrompt()
	WaitCloseWindow()

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M05S143_ED")
}

function "EV_M05S143_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)

	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)

	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	SetFlag(GF_05MP1201_GOTO_GHOSTHIP, 1)
	//SetFlag( SF_MISSIONNO, MS_05_05 )	//★冒険メモ：幽霊船を調査しよう。

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）

	//マップマーカー
	DelMapMarker( SMI_SYMBOL ,PAGE_MP120x, MARKER_EV_M05S142, 0,0)		//メイン：幽霊船を目撃する

	SetMapMarker( SMI_SYMBOL ,PAGE_MP741x, MARKER_EV_M05S147, 147.17f, 107.52f, 20.45f, 147.17f, 107.52f,MARKER_EV_M05S147,MN_D_MP7411,0)		//メイン：エレフセリア号が出航する

//	SetMapMarker( SMI_SUBEVENT ,PAGE_F004, MARKER_PERSON_ED, 1030.64f, -984.53f, 61.06f, 1030.64f, -984.53f,MARKER_PERSON_ED,MN_F_MP1116,0)		//漂流者：エド

	if(!FLAG[GF_LOCATION21])	//船の墓場
	{
		SetMapMarker( SMI_SUBEVENT ,PAGE_F004, MARKER_EV_LC_MP1116, 881.70f, -1372.22f, -0.92f, 881.70f, -1372.22f,MARKER_EV_LC_MP1116,MN_F_MP1116,0)		//ロケ　：船の墓場
	}
	if(!FLAG[GF_LOCATION22])	//隠し倉
	{
		SetMapMarker( SMI_SUBEVENT ,PAGE_MP741x, MARKER_EV_LC_MP7411, -119.33f, -89.28f, 21.75f, -119.33f, -89.28f,MARKER_EV_LC_MP7411,MN_D_MP7411,0)		//ロケ　：隠し倉
	}

	if(!FLAG[GF_SUBEV_1116_REMOVE_ROCK] && !FLAG[GF_SUBEV_1116_CHECKED_ROCK])
	{
		SetMapMarker( SMI_SUBEVENT, PAGE_F004, REMOVE_OBJ_1116, 1022.83f,-1209.00f,5.21f, 1022.83f,-1209.00f, REMOVE_OBJ_1116, MN_F_MP1116,0)		//協力　：喜望峰→エド
	}


	//	//NowLoading 時の Tips 表示をカット
	//	SetFlag( TF_LOADING_TIPS_OFF, 1 )

	//イベント後の再配置
//	SetChrPos("LEADER", 32.30f, -1418.10f, 10.83f)
//	Turn("LEADER", 69.47f, 360.0f)
//	ResetPartyPos()
//	ResetFollowPoint()
//	Wait(1)

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

//	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
//	CallFunc("system:camera_reset")

	StopBGM(60)

	SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット

	SetFlag(GF_MP1202_NOW,1)		//屋内に直接飛ぶ場合
	LoadArg("map/mp1201/mp1201.arg")
	EventCue("mp1201:EV_M05S143_2")		// NEXT：「幽霊船を調査することになる…の休息所で操作許可になる部分」

	ResetStopFlag(STOPFLAG_EVENT)

//	FadeIn(FADE_BLACK,FADE_FAST)
//	WaitFade()

	//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼幽霊船を調査することになる(mp1201) ～休息所で操作許可になる部分～
//──────────────────────────────
function "EV_M05S143_2"			//幽霊船を調査することになる…『の休息所で操作許可になる部分』
{
	SetStopFlag(STOPFLAG_EVENT)

	FadeOut(FADE_BLACK, 0)
	WaitFade()

	// --------------------------------------------------------------------

	//　　翌朝となり、休息所から操作許可に。
	//　　地図を開くと岬南東に行き先指定されている状態。

	// --------------------------------------------------------------------

	Wait(25)

	PlaySE("SE_SUZUME", 100, 0,  0, 0, 1.0f, 0)		//◆鳥のさえずり

	Wait(20)

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理

	//イベント後の再配置
	SetChrPos("LEADER", -12.12f, -1361.67f, 11.57f)
	Turn("LEADER", -27.24f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt( 0 , -12.573f , -1362.433f , 12.930f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.400f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.901f , 0 )	// 基本仰角
	RotateCamera( 0 , 213.842f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
	
}

function "EV_M05S180"			//大空洞へ向かうことになる
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , 0 , 0 , 0 , 0 )	// 注視点

	//スキップ許可
	SetSkipScript("mp1201:EV_M05S180_ED")

	//開始処理ここまで-----------------------------------------------

	// カット1 -----------------------------------------------------------------------------------------

	//　　漂流村へ入ったところでイベント開始。
	//　　画面暗転のまま以下のメッセージを表示。

	Wait(30)
	PlayBGM(BGM_EVENT_012, 30)

	// テキスト（色替え）
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
		"#7Cアドルたちが持ち帰った海図は、"
		"#7Cサハドやタナトスなど海に心得のある者で"
		"#7C徹底的に検証することとなった。\p"
		"#7C海図には周辺海域の地形や暗礁の位置、"
		"#7Cさらに漂流者にとって最大の障害である"
		"#7Cオケアノスの回遊経路が詳細に記されていた。\p"
		"#7Cこれらの情報は有用なものばかりで、"
		"#7C漂流者たちを大いに勇気づけることになった。\p"
		"#7Cそして…………"
	}
	WaitPrompt()
	WaitCloseWindow()

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M05S180_ED")
}

function "EV_M05S180_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//マップマーカー
	DelMapMarker( SMI_SYMBOL ,PAGE_MP120x, MARKER_EV_M05S180, 0,0)		//メイン：大空洞へ向かうことになる

	//隠したものを復帰。
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")

	//パーティキャラを解放
	//ReleaseEventPartyChr()

	//マップパラメーターリセット
	//ResetMapParam(-1)

	//	//NowLoading 時の Tips 表示をカット
	//	SetFlag( TF_LOADING_TIPS_OFF, 1 )

	SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット

	PlayBGM(BGM_EVENT_012, 0)
	SetFlag(SF_NOCHANGEBGM, 1)

	//フラグ
	SetFlag(GF_05MP1202_CHECK_MAP,1)	//大空洞へ向かうことになる２

	SetFlag(TF_MP1202_NOW,1)		//屋内に直接飛ぶ場合
	CallFunc("mp1201:init")

	//LoadArg("map/mp1201/mp1201.arg")
	EventCue("mp1201:EV_M05S181")

	ResetStopFlag(STOPFLAG_EVENT)

	//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼大空洞へ向かうことになる
//──────────────────────────────
function "EV_M05S181"			//大空洞へ向かうことになる
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Thanatos")
	LoadChr("Aaron")
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	//ResetChrPos((CHRTYPE_NPC | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))		// 2018.04.05 m.arai NPCヒュンメル削除の為復活

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -8.64f, -1381.75f, 11.57f)
	Turn("ADOL", -113.31f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", -7.72f, -1383.14f, 11.57f)
	Turn("RICOTTA", -159.20f, 360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", -4.66f, -1380.64f, 11.57f)
	Turn("SAHAD", 77.76f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", -5.63f, -1380.32f, 11.57f)
	Turn("LAXIA", 63.55f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", -4.79f, -1381.66f, 11.57f)
	Turn("HUMMEL", 109.74f, 360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", -8.83f, -1382.73f, 11.57f)
	Turn("DANA", -117.66f, 360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", -6.25f, -1379.39f, 11.57f)
	Turn("Aaron", 3.15f, 360.0f)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", -7.26f, -1379.95f, 11.57f)
	Turn("Dogi", -18.17f, 360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Thanatos", -7.94f, -1380.67f, 11.57f)
	Turn("Thanatos", -39.49f, 360.0f)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	MapHide("map" , 1 )	// 海図

	//カメラ設定
	MoveCameraAt( 0 , -7.194f , -1381.150f , 13.705f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 7.100f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.119f , 0 )	// 基本仰角
	RotateCamera( 0 , 7.581f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000, 0.000, 0.450, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M05S181_ED")

	//開始処理ここまで-----------------------------------------------

	// カット1 -----------------------------------------------------------------------------------------

	//　　漂流村へ入ったところでイベント開始。
	//　　画面暗転のまま以下のメッセージを表示。
	
	// 次カット準備
	LookTo("Dogi", -6.988f , -1381.220f , 12.557f)	// 海図見る
	LookTo("Thanatos", -6.988f , -1381.220f , 12.557f)	// 海図見る
	LookTo("Aaron", -6.988f , -1381.220f , 12.557f)	// 海図見る
	LookTo("LAXIA", -6.988f , -1381.220f , 12.557f)	// 海図見る
	LookTo("SAHAD", -6.988f , -1381.220f , 12.557f)	// 海図見る
	LookTo("ADOL", -6.988f , -1381.220f , 12.557f)	// 海図見る
	LookTo("HUMMEL", -6.988f , -1381.220f , 12.757f)	// 海図見る
	LookTo("DANA", -6.988f , -1381.220f , 12.557f)	// 海図見る
	LookTo("RICOTTA", -6.988f , -1381.220f , 12.557f)	// 海図見る
	
	Wait(10)

	// カット2 --------------------------------------------------------------------------------------------

	//　　フェードインして漂流村の集会所。
	//　　海図を広げているドギ。

	// 位置調整・表情・モーション
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI", -1, 1 )	// 待機

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -7.194f , -1381.150f , 13.381f, 110 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 6.839f, 110 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.336f , 110 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 44.632f , 110)

	PlayBGM(BGM_EVENT_012, 0)
	SetFlag(SF_NOCHANGEBGM, 0)

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	// カット3 ------------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ
	MoveCameraAt( 0 , -7.198f , -1380.817f , 13.185f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.680f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -6.506f , 0 )	// 基本仰角
	RotateCamera( 0 , 55.507f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェード待ち
	Wait(FADE_FAST)
	
	LookChr("Dogi", "Thanatos")
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000m──どの辺りですかい？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Thanatos")
	ChangeAnimation( "Thanatos", "ANI_EV_KAIZU_S", -1, 1 )	// 海図を指す
	Wait(20)

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#000e#000mココじゃ、王都の北……"
		"例の“大穴”がある海域じゃな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カット4 -------------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -5.279f , -1380.880f , 13.105f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.323f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.069f , 0 )	// 基本仰角
	RotateCamera( 0 , 261.851f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 次カット用
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "Thanatos", "ANI_WAIT", -1, 1 )	// 待機

	LookTo("Thanatos", -6.988f , -1381.220f , 12.557f)	// 海図見る
	
	// 非表示・再表示
	SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)	// 非表示
	
	Wait(FADE_CROSS)
	
	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_S", -1, 1 )	// 両手 前組み
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000m……なるほど、そういうことですか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　サハドに「？」エモーション。
	EmotionEx("SAHAD", 0.00f, EMO_Q, 0, 5, 1, 1, 1.0f )	// 「？」
	Wait(38)
	
	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	LookChr("SAHAD", "LAXIA")
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000m一体どういうことだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_E", -1, 1 )	// 両手 前組み

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mオケアノスの住処は回遊経路上の"
		"どこかにあると考えるのが妥当です。\p"
		"#011e#000mリードの海図を見る限り、"
		"回遊経路は複数あるようですが……\p"
		"#012e#000mその中で住処がある可能性が"
		"最も高い場所となると……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , -7.143f , -1382.269f , 13.063f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.623f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.104f , 0 )	// 基本仰角
	RotateCamera( 0 , 77.884f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)	// 再表示
	
	// 次カット用
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	LookTo("Aaron", -6.988f , -1381.220f , 12.557f)	// 海図見る
	LookTo("Dogi", -6.988f , -1381.220f , 12.557f)	// 海図見る
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -6.950f , -1381.789f , 13.063f, 150 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.623f , 150 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.467f , 150 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 73.453f , 150 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	//　　ダーナにPAエモーション表示。
	EmotionEx("DANA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.2f )	// 「PA」
	Wait(35)
	
	ChangeAnimation( "DANA", "ANI_EV_SIAN_S", -1, 1 )	// 思案
	
	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#000e#000m……そっか、それぞれの"
		"回遊経路に共通する場所……\p"
		"すなわち回遊経路が"
		"交差する海域ってことかな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#000e#000mおお～、なるほど！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Thanatos", "RICOTTA")
	ChangeAnimation( "Thanatos", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#020e#000mワハハ、なかなか"
		"聡明なお嬢さん方じゃな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookTo("Thanatos", -6.988f , -1381.220f , 12.557f)	// 海図見る
	
	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#000e#000mそこにちょうど在るのが"
		"例の“始生代の大穴”というワケじゃ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("HUMMEL", "Thanatos")
	ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// ヒュンメル
	TalkPopup("HUMMEL", 0, 1, 0, 0, 0) {
		"#000e#000m……オケアノスと大穴は"
		"何か関係があったりするのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Thanatos", "HUMMEL")
	ChangeAnimation( "Thanatos", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	
	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#000e#000mそいつは分からんよ。"
		"タダの偶然かもしれんしのう。\p"
		"#000e#000mただ付近にヤツの住処が"
		"ある可能性は高いと言えるじゃろ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Thanatos", "ADOL")

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"アドルよ、次に我々がなすべきは"
		"ついにヤツの討伐というワケじゃ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -5.927f , -1381.300f , 13.063f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.111f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.493f , 0 )	// 基本仰角
	RotateCamera( 0 , 5.702f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーションなど
	ChangeAnimation( "RICOTTA", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "DANA", "ANI_EV_ZUTUU", -1, 1 )	// 待機
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_SAD, 1)	// 目
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)	// 口
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD, 1)	// 目
	Look("DANA", 0.0f, -20.0f)	// うつむく
	SetChrPos("SAHAD", -4.78f, -1380.42f, 11.57f)
	Turn("SAHAD", 67.10f, 360.0f)
	SetChrPos("ADOL", -8.79f, -1381.56f, 11.57f)
	Turn("ADOL", -42.24f, 360.0f)
	Turn("RICOTTA", -162.75f, 360.0f)
	Turn("Dogi", -28.83f, 360.0f)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -5.927f , -1381.300f , 13.063f, 210 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.711f , 210 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.493f, 210 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 5.702f , 210 )

	// フェード待ち
	Wait(FADE_FAST)

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mいよいよですね……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	Look("Dogi" , 0 , -12)

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#011e#000mああ、これでようやく"
		"ロンバルディア号の仇が討てるぜ。\p"
		"#012e#000mバルバロスのオッサンよ、"
		"どうか見守っていてくれよな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	LookChr("Aaron", "DANA")
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#000e#000mそれにしても始生代の大穴か。"
		"ダーナ、一体どういう場所なんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "Aaron")

	// ラクシャ
	TalkPopup("LAXIA", 0, 0, 0, 0, 0) {
		"#000e#000mそれは……3"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	//　　ダーナを見やる一同。
	LookChr("LAXIA", "DANA")
	LookChr("SAHAD", "DANA")
	LookChr("HUMMEL", "DANA")
	LookChr("RICOTTA", "DANA")
	LookChr("ADOL", "DANA")
	LookChr("Dogi", "DANA")
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -8.464f , -1382.540f , 13.063f, 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.311f , 100 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.326f , 100 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 88.862f , 100 )

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#060e#000m#0L……………………………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　苦しそうな素振りを見せるダーナ。
	
	
	// カット6 ----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , -6.197f , -1380.407f , 13.311f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.511f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.885f , 0 )	// 基本仰角
	RotateCamera( 0 , 127.276f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

//	// フェード待ち
//	Wait(FADE_NORMAL)
	
	//　　エアランに「？」エモーション表示。
	EmotionEx("Aaron", 0.00f, EMO_Q, 0, 5, 1, 1, 1.0f )	// 「？」
	Wait(40)
	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// エアラン
	TalkPopup("Aaron", 0, 1, 0, 0, 0) {
		"#000e#000m……どうした、体調でも悪いのかァ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("DANA", "Aaron")
	ChangeAnimation( "DANA", "ANI_EV_ZUTUU_E", -1, 1 )	// 待機

	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#062e#000mいえ、すみません……"
		"あの大穴についてはまだ何も……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#050e#000mダーナ姉、大丈夫か？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("DANA", "RICOTTA")

	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#061e#000mうん……\p"
		"思い出そうとする度にこうなるのは"
		"重要なことがあったからだと思う。\p"
		"#062e#000mだったら……私がそれから"
		"逃げ出すわけにはいかないかな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)

	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "無理はするな")
	MenuAdd(2, "さすが大樹の巫女")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)
	
	// （アドル）手振り
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	// カット7 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ
	MoveCameraAt( 0 , -8.773f , -1382.215f , 13.143f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.189f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.195f , 0 )	// 基本仰角
	RotateCamera( 0 , 205.610f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -8.79f, -1381.56f, 11.57f)
	Turn("ADOL", -24.47f, 360.0f)
	SetChrPos("RICOTTA", -7.72f, -1383.14f, 11.57f)
	Turn("RICOTTA", 158.17f, 360.0f)
	Turn("DANA", -153.19f, 360.0f)
	LookChr("DANA", "ADOL")
	LookChr("Thanatos", "DANA")
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -8.773f , -1382.215f , 13.143f , 300 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.189f , 300 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.195f , 300 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 225.755f , 300 )

	// フェード待ち
	Wait(FADE_FAST)

	//─────────────────────────
	//	⇒無理はするな
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// ダーナ
		TalkPopup("DANA", 0, 2, 0, 0, 0) {
			"#052e#000m無理するよ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		ChangeAnimation( "DANA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
		ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
		
		// ダーナ
		TalkPopup("DANA", 0, 2, 0, 0, 0) {
			"#000mだって、いつまでも"
			"このままで良いわけがないから。\p"
			"#000mアドルさん、やっぱり私は記憶を……"
			"自分自身を取り戻したい。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒さすが大樹の巫女
	if (FLAG[TF_MENU_SELECT] == 2 ) {

		ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_S", -1, 1 )	// 両手 尻組み
		ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_LAUGH_S, 1)	// 目

		// ダーナ
		TalkPopup("DANA", 0, 2, 0, 0, 0) {
			"#020e#080mあはは、それは関係ないと思うけど。\p"
			"#000e#080mただ、みんなに甘えていつまでも"
			"こうしているのはダメだと思うな。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_E", -1, 1 )	// 両手 尻組み
		
		// ダーナ
		TalkPopup("DANA", 0, 2, 0, 0, 0) {
			"#011e#000m例え辛いことだったとしても"
			"私はやっぱり記憶を……\p"
			"#012e#000m自分自身を取り戻したい。"
			"自分自身4行目"
		}
		WaitPrompt()
		WaitCloseWindow()
	
	}
	//─────────────────────────
	
	Wait(10)
	
	// カット8 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -7.139f , -1381.010f , 13.143f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.289f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.042f , 0 )	// 基本仰角
	RotateCamera( 0 , 352.133f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -8.79f, -1381.56f, 11.57f)
	Turn("ADOL", -84.87f, 360.0f)
	Turn("Dogi", -18.17f, 360.0f)
	Turn("Thanatos", -28.84f, 360.0f)
	LookChr("ADOL", "Dogi")
	LookChr("DANA", "Dogi")
	LookSpd("RICOTTA", 1.0f, 1.0f, 1.0f )// 一瞬で首向き
	LookChr("RICOTTA", "Dogi")
	ChangeAnimation( "DANA", "ANI_WAIT", -1, 1 )	// 待機

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -7.566f , -1381.758f , 13.143f, 270 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.345f , 270 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.042f , 270 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 352.133f, 270 )

	// フェード待ち
	Wait(FADE_CROSS)
	
	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_S", -1, 1 )	// 手胸当て
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#050e#000mダーナさん…………"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mよし、色々あるみたいだが、"
		"アドルたちには大穴の調査を頼む。\p"
		"#011e#000mもし俺たちに手伝えることがあれば、"
		"何でも遠慮なく相談してくれ。\p"
		"#000e#000mどうやら俺たち漂流者にとっては、"
		"これが正念場になりそうだからな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//　　アドル頷いて画面フェードアウト。
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(25)

	StopBGM(120)

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M05S181_ED")
}

function "EV_M05S181_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//MapHide("map" , 0 )	// 海図

	//隠したものを復帰。
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)

	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)

	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)

	//パーティキャラを解放
	//ReleaseEventPartyChr()

	//マップパラメーターリセット
	//ResetMapParam(-1)

	//フラグ
	SetFlag(GF_05MP1202_CHECK_MAP,1)	//大空洞へ向かうことになる２

	//NowLoading 時の Tips 表示をカット
	SetFlag(TF_LOADING_TIPS_OFF, 1)

	SetFlag(TF_MP1202_NOW,0)		//屋内から屋外
	CallFunc("mp1201:init")

	//LoadArg("map/mp1201/mp1201.arg")
	EventCue("mp1201:EV_M05S190")

	ResetStopFlag(STOPFLAG_EVENT)

	//終了処理ここまで----------------------------------------------------
}


//──────────────────────────────
//▼ダーナが水晶柱間転位を可能にする
//──────────────────────────────
function "EV_M05S190"			//水晶石転位が可能になる
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 37.94f, -1417.98f, 10.83f)
	Turn("ADOL", 104.41f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", 36.77f, -1416.23f, 10.83f)
	Turn("RICOTTA", -20.63f, 360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 36.03f, -1418.37f, 10.83f)
	Turn("SAHAD", -115.26f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 37.07f, -1418.61f, 10.83f)
	Turn("LAXIA", 162.87f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", 36.01f, -1417.13f, 10.83f)
	Turn("HUMMEL", -67.91f, 360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", 37.71f, -1416.96f, 10.83f)
	Turn("DANA", 56.44f, 360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	// エフェクトロード
	LoadEffect("efx_ev05.ite")

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )
	PlayBGM(BGM_TOWN_501, 0)
	SetEnvSEPlayState(-1, 1)	//環境SE

	//カメラ設定
	MoveCameraAt( 0 , 34.467f , -1418.684f , 12.486f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.300f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.763f , 0 )	// 基本仰角
	RotateCamera( 0 , 211.225f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,2.000 ,0.500 ,0.500)
	SetDoFFocus(0, 0, 0)
	
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M05S190_ED")

	//開始処理ここまで-----------------------------------------------

	// カット1 ------------------------------------------------------------------------------------------


	LookChr("HUMMEL", "ADOL")
	LookChr("SAHAD", "ADOL")
	LookChr("RICOTTA", "ADOL")
	LookChr("ADOL", "HUMMEL")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 35.431f , -1418.104f , 12.486f, 75 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 6.300f , 75 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.763f , 75 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 211.225f , 75 )

//	MoveCameraAt( 0 , 35.431f , -1418.104f , 12.486f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 6.300f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -2.763f , 0 )	// 基本仰角
//	RotateCamera( 0 , 211.225f , 0 )				// 角度
//	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//　　フェードインして漂流村の水晶柱付近。
	//　　輪になって打ち合わせしているアドルたち。

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()


	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	Wait(15)

	// カット2 -----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ
	MoveCameraAt( 0 , 36.461f , -1417.203f , 12.234f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.500f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -9.227f , 0 )	// 基本仰角
	RotateCamera( 0 , 103.657f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	SetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)	// 非表示
	Look("DANA", 0.0f, -10.0f)	// うつむく
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE, 1)

	// フェード待ち
	Wait(FADE_FAST)

	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#010e#000m大穴とやらを目指すのは分かった……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "HUMMEL", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	
	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#000mだが、一体どうやって"
		"そこまで海を渡るつもりだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#010e#000m南部の遠浅な内海と違って、"
		"水深もあるしオケアノスの住処も近い……\p"
		"#000e#000mもし小舟で渡ろうとすれば、"
		"カーランのオッサンの二の舞だな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("RICOTTA", "SAHAD")
	ChangeAnimation( "RICOTTA", "ANI_EV_RYOTEKOSI_S", -1, 1 )

	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#020e#080mなはは、リードの船で連れて"
		"行ってもらえばよかったな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_LAUGH_E, 1)	// 目

	LookChr("SAHAD", "RICOTTA")
	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_E", -1, 1 )

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#050e#000mそ、そりゃ、そうかもしれんが、"
		"今となっちゃなあ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , 37.311f , -1417.332f , 12.362f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.001f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.686f , 0 )	// 基本仰角
	RotateCamera( 0 , 328.601f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)	// 再表示

	// 位置調整など
	SetChrPos("RICOTTA", 36.69f, -1416.28f, 10.83f)
	Turn("RICOTTA", -20.63f, 360.0f)
	SetChrPos("HUMMEL", 36.08f, -1417.08f, 10.83f)
	Turn("HUMMEL", -53.70f, 360.0f)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 36.972f , -1417.254f , 12.262f, 450 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.089f , 450 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 8.700f , 450 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 1.190f , 450 )

	Wait(FADE_CROSS)

	//　　ダーナに「…」エモーション表示。
	EmotionEx("DANA", 0.0f, "EMO_3DOT", 27, 5, 1, 1, 0.9f)	// 「…」
	Wait(52)
	
	Look("DANA", 0.0f, 0.0f)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	ChangeAnimation( "DANA", "ANI_EV_TEMUNE_S", -1, 1 )
	
	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#000m……あの大穴の近くにはかつて"
		"エタニア王家の王宮があったの。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("RICOTTA", "DANA")
	ChangeAnimation( "RICOTTA", "ANI_EV_RYOTEKOSI_E", -1, 1 )

	LookChr("LAXIA", "DANA")
	LookChr("ADOL", "DANA")
	LookChr("SAHAD", "DANA")
	LookChr("HUMMEL", "DANA")

	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#000e#000m大穴の近くって……海の上にか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("DANA", "RICOTTA")

	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#000e#000mうん、その姿はゲーテ海の真珠と"
		"言われるほど綺麗な建物でね。\p"
		"#010e#000m建物の基部が海中にあって、"
		"地下から海底へ下りられたみたい。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("DANA")
	ChangeAnimation( "DANA", "ANI_EV_TEMUNE_E", -1, 1 )
	
	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#000e#000m王家には水中で行動できる"
		"理法具も伝わっていたらしいし。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )

	// サハド
	TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
		"#000e#000mそれらが全部残ってりゃなあ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )	
	LookChr("DANA", "LAXIA")
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mでも、王宮はすでに"
		"消失しているとのことでしたね……\p"
		"大穴の存在は王宮の消失と"
		"何か関係があるのでしょうか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("DANA")
	LookSpd("DANA", 0.06f, 0.06f, 0.06f )// ゆっくりめに首向き
	Look("DANA", 0.0f, -10.0f)	// うつむく

	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#010e#000mそれは……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookSpd( "DANA", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT )
	LookReset("HUMMEL")
	ChangeAnimation( "HUMMEL", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#000e#000mフム、これ以上"
		"話し合っていても埒があかんな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL", "HUMMEL")
	LookChr("LAXIA", "HUMMEL")
	LookChr("RICOTTA", "HUMMEL")
	LookChr("SAHAD", "HUMMEL")

	Look("DANA", 0.0f, 0.0f)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	ChangeAnimation( "HUMMEL", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// 両手腰手振り

	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#000e#000mここはひとまず現地へ"
		"向かってみるのはどうなのだ？\p"
		"#000e#000m地道に足を使って調査することも"
		"運び屋の大事な仕事の一つだぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャに冷や汗エモーション。
	EmotionEx("LAXIA", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f )	// 「冷や汗」
	LookChr("LAXIA", "HUMMEL")
	Wait(50)
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000m運び屋になるつもりはありませんが、"
		"一理ありそうですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ダーナにPAエモーション表示。
	LookTo("DANA",39.409f , -1420.126f , 12.262f)
	EmotionEx("DANA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	Wait(35)
	
	/// ダーナ
	TalkPopup("DANA", 0, 0, 0, 0, 0) {
		"#000e#000mあれ……？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ダーナが何かに気づいて水晶柱の方向へ歩き出す。
	TurnTo("DANA", 39.409f , -1420.126f , 12.262f, 6.0f)
	Wait(3)

	// 移動
	ExecuteCmd(1, MoveTo, "DANA", 40.04f, -1418.93f, 10.84f, 0.1f, 0.15f)
	
	LookChr("RICOTTA", "DANA")
	
	// リコッタ
	TalkPopup("RICOTTA", 0, 0, 0, 0, 0) {
		"#000e#000mダーナ姉、どうした？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カット4 ----------------------------------------------------------------------------------------

	//　　画面切り替えて仄かな光を放ち出した水晶柱を見せる。
	//　　その周囲に集まっているアドルたち。
	
	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// サブスレッド停止
	StopThread(1)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 40.318f , -1420.698f , 13.210f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.790f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.039f , 0 )	// 基本仰角
	RotateCamera( 0 , 328.172f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Effect2( 3519000, 40.753f , -1420.269f , 10.970f, 90.00f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 1.0f, 1.0f)	// 水晶石 仄かな光
//	ChrEffect2( "chkpt" , 3519000 , "root", "", 0 , 0 , 0 , 0.0f,0.0f,0, 1.0f, 1.0f)

	// 再配置
	SetChrPos("ADOL", 40.41f, -1418.15f, 10.83f)
	Turn("ADOL", -19.95f, 360.0f)
	SetChrPos("DANA", 39.99f, -1419.37f, 10.88f)
	Turn("DANA", -53.14f, 360.0f)
	SetChrPos("LAXIA", 38.32f, -1419.21f, 10.83f)
	Turn("LAXIA", -68.08f, 360.0f)
	SetChrPos("SAHAD", 38.51f, -1417.90f, 10.83f)
	Turn("SAHAD", -40.65f, 360.0f)
	SetChrPos("RICOTTA", 38.84f, -1418.92f, 10.83f)
	Turn("RICOTTA", -56.16f, 360.0f)
	SetChrPos("HUMMEL", 39.14f, -1417.02f, 10.83f)
	Turn("HUMMEL", -32.38f, 360.0f)

	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )

	LookReset("ADOL")
	LookReset("DANA")
	LookReset("LAXIA")
	LookReset("SAHAD")
	LookReset("RICOTTA")
	LookReset("HUMMEL")

	// 視点 水晶石
	LookTo("ADOL", 41.318f , -1420.640f , 12.758f)
	LookTo("DANA", 41.318f , -1420.640f , 12.758f)
	LookTo("LAXIA", 41.318f , -1420.640f , 12.758f)
	LookTo("SAHAD", 41.318f , -1420.640f , 12.758f)
	LookTo("RICOTTA", 41.318f , -1420.640f , 12.758f)
	LookTo("HUMMEL", 41.318f , -1420.640f , 12.758f)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 39.565f , -1419.103f , 12.430f, 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.830f , 100 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 5.617f , 100 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 12.863f, 100 )

	// フェード待ち
	Wait(FADE_NORMAL)

	PlaySE(SE_M05S190_01, 80, 0, 0, 0, 1.0f, 0)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	LookRoll("RICOTTA", 15.0f)	// かしげる
	
	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#000e#000m水晶石、光ってる？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookRoll("RICOTTA", 0.0f)	// かしげる
	
	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#070e#000mお？　な、何が起きたんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ダーナに「…」エモーション表示。
	EmotionEx("DANA", 0.0f, "EMO_3DOT", 27, 5, 1, 1, 0.9f)	// 「…」
	Look("DANA", 0.0f, -10.0f)	// うつむく
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	Wait(52)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 39.463f , -1419.874f , 12.382f, 300 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.489f , 300 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.089f , 300 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 12.702f , 300 )

	LookChr("DANA", "SAHAD")
	TurnToChr("DANA", "SAHAD", 8.0f)
	
	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#000e#000m……理由は分からないけど、"
		"地中の理力が活性化しているみたい。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("LAXIA", "DANA")
	LookChr("ADOL", "DANA")
	LookChr("SAHAD", "DANA")
	LookChr("HUMMEL", "DANA")
	LookChr("RICOTTA", "DANA")
	
	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#000e#000mこれは……ひょっとしたら"
		"“転位”を使えるかもしれない。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("RICOTTA", "DANA")

	LookRoll("RICOTTA", -15.0f)	// かしげる

	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#000e#000mテンイ？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookRoll("RICOTTA", 0.0f)	// かしげる

	LookChr("DANA", "RICOTTA")

	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#000e#000mうん、地中の理力を利用して、"
		"瞬時に遠くへ移動することができるの。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_E", -1, 1 )

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mな、何だって…？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mそ、そういえば記憶の中で"
		"似たような力を使っていましたね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("DANA", "LAXIA")
	HeadYes("DANA", 1, 25)	// キャラ, うなずき回数, 速さ

	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#000e#000mうん、実際に見てもらうのが"
		"手っ取り早いかな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("DANA")
	
	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"みんな、そのままじっとしていてね。"
	}
	WaitPrompt()
	WaitCloseWindow()

//	StopBGM(120)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 39.941f , -1420.034f , 12.510f, 90 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.190f , 90 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.468f , 90 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 22.152f , 90 )

	//　　ダーナが水晶柱に向き直り、祈るようなモーション。
	TurnTo("DANA", 41.318f , -1420.640f , 12.758f, 8.0f)
	Wait(15)
	
	ChangeAnimation( "DANA", "ANI_EV_PRAY_S", -1, 1 )
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
 	Wait(60)
 	
 	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
 	
 	// カット5 ------------------------------------------------------------------------------------------
 
//	PlayBGM(BGM_EVENT_013, 0)

 	// クロスフェード
	CrossFade(FADE_NORMAL)
 
 	// カメラ
	MoveCameraAt( 0 , 39.163f , -1416.968f , 11.810f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.590f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.540f , 0 )	// 基本仰角
	RotateCamera( 0 , 183.650f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

 	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 39.163f , -1416.968f , 13.050f, 200 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 5.090f , 200 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -18.158f , 200 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 105.568f , 200 )

	Wait(FADE_NORMAL)

	StopBGM(150)
	
 	//　　アドルたちがエフェクトに包まれていて
	//　　次々に転位していき、そのまま画面フェードアウト。
 	
	PlaySE(SE_M05S190_02, 100, 0, 0, 0, 1.0f, 0)
 	ChrEffect2( "RICOTTA" , 3901100 , "root", "", 0 , IMPACT_NONE , KNOCK_EFXPOS , 0.0f,0.0f,0, 1.0f, 1.0f)
 	Wait(8)
 	ChrEffect2( "ADOL" , 3901100 , "root", "", 0 , IMPACT_NONE , KNOCK_EFXPOS , 0.0f,0.0f,0, 1.0f, 1.0f)
 	Wait(8)
 	ChrEffect2( "SAHAD" , 3901100 , "root", "", 0 , IMPACT_NONE , KNOCK_EFXPOS , 0.0f,0.0f,0, 1.0f, 1.0f)
 	Wait(8)
	PlaySE(SE_M05S190_03, 100, 0, 0, 0, 1.0f, 0)
	ChrAlpha("RICOTTA", 0.0f, 20)	// ID, 変化後のアルファ値, 変化にかかるフレーム数
 	ChrEffect2( "HUMMEL" , 3901100 , "root", "", 0 , IMPACT_NONE , KNOCK_EFXPOS , 0.0f,0.0f,0, 1.0f, 1.0f)
 	Wait(8)
	ChrAlpha("ADOL", 0.0f, 20)	// ID, 変化後のアルファ値, 変化にかかるフレーム数
 	ChrEffect2( "LAXIA" , 3901100 , "root", "", 0 , IMPACT_NONE , KNOCK_EFXPOS , 0.0f,0.0f,0, 1.0f, 1.0f)
 	Wait(8)
	PlaySE(SE_M05S190_03, 90, 0, 0, 0, 1.0f, 0)
	ChrAlpha("SAHAD", 0.0f, 20)	// ID, 変化後のアルファ値, 変化にかかるフレーム数
 	ChrEffect2( "DANA" , 3901100 , "root", "", 0 , IMPACT_NONE , KNOCK_EFXPOS , 0.0f,0.0f,0, 1.0f, 1.0f)
 	Wait(8)
	ChrAlpha("HUMMEL", 0.0f, 20)	// ID, 変化後のアルファ値, 変化にかかるフレーム数
 	Wait(8)
	PlaySE(SE_M05S190_03, 80, 0, 0, 0, 1.0f, 0)
	ChrAlpha("LAXIA", 0.0f, 20)	// ID, 変化後のアルファ値, 変化にかかるフレーム数
 	Wait(8)
	ChrAlpha("DANA", 0.0f, 20)	// ID, 変化後のアルファ値, 変化にかかるフレーム数

	Wait(50)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
 	// カメラ待ち
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M05S190_ED")
}

function "EV_M05S190_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	// エフェクトリリース
	ReleaseEffect("efx_ev05.ite")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//	//NowLoading 時の Tips 表示をカット
	//	SetFlag( TF_LOADING_TIPS_OFF, 1 )

	//イベント後の再配置
//	SetChrPos("LEADER", 24.48f, -1422.71f, 10.83f)
//	Turn("LEADER", 48.16f, 360.0f)
//	ResetPartyPos()
//	ResetFollowPoint()
//	Wait(1)

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")


	SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット

//	PlayBGM(BGM_EVENT_013, 15)
//	SetFlag(SF_NOCHANGEBGM, 1)
	StopBGM(60)

	LoadArg("map/mp6201/mp6201.arg")
	EventCue("mp6201:EV_M05S191")

	ResetStopFlag(STOPFLAG_EVENT)

	//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼王都に転位で到着する２
//──────────────────────────────
function "EV_M05S192"			//王都に転位で到着する２
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	if (FLAG[GF_SUBEV_SILVIA_MODE] == 0) {	// シルヴィアの状態 0=老婆 1=戦士
		SetChrID( "Silvia", "Silvia_1")
		SetChrID( "Silvia_2", "Silvia")		// 戦士
	}

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 38.68f, -1416.66f, 10.83f)
	Turn("ADOL", 26.24f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", 37.87f, -1416.54f, 10.83f)
	Turn("RICOTTA", -6.42f, 360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 37.50f, -1418.03f, 10.83f)
	Turn("SAHAD", -133.03f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 38.37f, -1418.49f, 10.83f)
	Turn("LAXIA", -175.81f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", 36.95f, -1416.91f, 10.83f)
	Turn("HUMMEL", -60.80f, 360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", 39.58f, -1417.67f, 10.83f)
	Turn("DANA", 84.86f, 360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , 38.379f , -1417.063f , 12.874f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.656f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.075f , 0 )	// 基本仰角
	RotateCamera( 0 , 165.402f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000, 2.000, 0.450, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M05S192_ED")

	//開始処理ここまで-----------------------------------------------

	// カット1 ------------------------------------------------------------------------------------------

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 38.205f , -1417.618f , 12.334f , 120 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.656f , 120 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.222f , 120 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 181.158f , 120 )

	MoveCameraAt( 0 , 38.205f , -1417.618f , 12.334f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.656f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.222f , 0 )	// 基本仰角
	RotateCamera( 0 , 181.158f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	Wait(FADE_NORMAL)

//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	
	// ラクシャ
	TalkPopup("LAXIA",0,2,0,0,0) {
		"#011e#000m転位で船の資材集めが"
		"楽になるといいのですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

/*
	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目

	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000mああ、まったくだぜ……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("SAHAD", "ADOL")
	
	// サハド
	TalkPopup("SAHAD",0,2,0,0,0) {
		"#000e#000mそれはそうとアドルは"
		"転位#4Rアレ#Rを見ても驚かないんだな？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL", "SAHAD")

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"まあね")
	MenuAdd(2,"いや、驚いてるよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	//─────────────────────────
	//	⇒まあね
	if (FLAG[TF_MENU_SELECT] == 1){

		// サハド
		TalkPopup("SAHAD",0,2,0,0,0) {
			"#100e#000mやれやれ、さすがというか……\p"
			"#100e#000m冒険家はああいうことですら"
			"慣れっこってワケか。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒いや、驚いてるよ
	else {
		
		// サハド
		TalkPopup("SAHAD",0,2,0,0,0) {
			"#100e#000m……顔はそうは言ってねーぜ。\p"
			"ああいうことですら、"
			"お前さんは慣れっこってコトか。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	LookChr("DANA", "ADOL")

	// ダーナ
	TalkPopup("DANA",0,2,0,0,0) {
		"#000e#000mさあ、アドルさん。"
		"それじゃ王宮のあった場所へ向かおう。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("ADOL", "DANA")
	
	ChangeAnimation( "DANA", "ANI_EV_RYOTEMAE_S", -1, 1 )	// 両手 前組み
	
	// ダーナ
	TalkPopup("DANA",0,2,0,0,0) {
		"#010e#000m王都の中央区を北へ抜ければ、"
		"王宮に接続してた空中回廊へ出るはずだよ。\p"
		"#000e#000mまずはそこへ向かって、"
		"大穴の手がかりがないか調べてみよう。"
	}
	WaitPrompt()
	WaitCloseWindow()
*/
	//　　アドルの頷きモーション後に下記のテキスト表示。
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(25)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル

	// システムメッセージ
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4C《転位》が使用可能になった。#10W" 
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	// テキスト（色替え)
	TalkPopup(UNDEF, 0, 5, 0, 0, 0)
	{
		"#-1W#4C《転位》によって地図メニューから選べる"
		"#-1W#4C移動ポイントが増えました。#10W\p"
		"#-1W#4C今後は発見したロケーションポイントにも"
		"#-1W#4C移動することができます。#10W"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　ここで操作許可。

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M05S192_ED")
}

function "EV_M05S192_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//■エドのクエスト未達成時の合流処理
//	SetDiaryFlag( DF_JOIN_ED, 1 )			//★足跡メモ：エドを救出した。
//	SetFlag( GF_SUBEV_JOIN_ED, 1 )			//エドを救出した(クエスト失敗でも救出扱い)
//	SetFlag( GF_CAMP_TAILOR_LV, 2 )		// 漂流村の発展設定：仕立て屋LV2
//	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成 【QS510】故郷の花	名声値+1
//	SetDiaryFlag( DF_QS510_END, 1 )				// 【QS510】★望郷岬にて紫鈴草を見つけると同時に
//	//SetDiaryCharaFlag( DRCHA_ALISON, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（アリスン）
//	//SetDiaryCharaFlag( DRCHA_ED, DRCHA_FLAG_OPEN, 1 )		//★人物メモ：合流時に登録（エド）
//	//SetDiaryCharaFlag( DRCHA_ED, DRCHA_FLAG_INFO1, 1 )		//★人物メモ：追加情報の開放１（エド）
//	SetDiaryShopFlag(SHOP_ID_DRESS,0)				// "アリスンの仕立て屋"
//	SetDiaryShopFlag(SHOP_ID_DRESS_E,1)				// "エド＆アリスンの仕立て屋"
	//マーカー消去
	DelMapMarker( SMI_SUBEVENT ,PAGE_F004, MARKER_PERSON_ED, 0,0)		//漂流者：エド
	DelMapMarker( SMI_QUEST, PAGE_F004, MARKER_QS_510_LP, 0, 0)	// 【QS510】故郷の花　紫鈴草の場所用
	
	//SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//ら合流	名声値+2
	CallFunc("rng:0424")
	SetFlag(GF_TBOX_DUMMY069,1)

	//フラグ処理
	SetFlag(GF_TBOX_DUMMY077, 1)		//王都に転位で到着する
	//SetFlag( SF_MISSIONNO, MS_05_07 )	//★冒険メモ：《始生代の大穴》を探索しよう。
	
	SetFlag( SF_CANUSE_MAPWARP, 1 )		// 地図の移動機能が転位機能になる。-1指定時は移動機能自体が無くなる。（アイコンは黒落ちにならず、移動するボタンが消える。）
	
	SetFlag( GF_SUBEV_JOIN_ED, 1 )			//エドを救出した ※「▼第五部④大空洞へ向かう」以降は常時配置になる。
	//JoinNPC( NPC_ED, JOIN_NPC_JOIN )		// エドと合流した
	
	if( FLAG[GF_QUEST_310] >= QUEST_SUCCESS ){	// 【QS310】試作品の性能テスト（エアラン） クエスト達成済み？
		//SetFlag( GF_QS310_GET_ITEM2, 1 )	// 【QS310】ショップ更新用・暴竜の守護石専用フラグ
	}

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init")

	//マップマーカー
	//SetMapMarker( SMI_SYMBOL ,PAGE_F032, MARKER_EV_M05S201, -519.48f, 1164.91f, 25.80f, -519.48f, 1164.91f,MARKER_EV_M05S201,MN_F_MP6204,0)		//メイン：水晶石に手をかざすⅣ
	SetMapMarker( SMI_SYMBOL ,PAGE_F032, MARKER_EV_M05S201, -511.78f,1161.13f,25.80f, -511.78f,1161.13f,MARKER_EV_M05S201,MN_F_MP6204,0)		//メイン：水晶石に手をかざすⅣ


	//イベント後の再配置
	SetChrPos("LEADER", 36.14f, -1417.15f, 10.83f)
	Turn("LEADER", -44.07f, 360.0f)

	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt( 0 , 36.131f , -1417.160f , 12.690f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , -135.287f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetEnvSEPlayState(-1, 1)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼オケアノス討伐戦の準備
//──────────────────────────────
function "EV_M05S271"			//オケアノス討伐戦の準備
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Thanatos")
	LoadChr("Aaron")
	LoadChr("Dogi")
	LoadChr("Dina")
	LoadChr("Katrin")
	LoadChr("Alison")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
//	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 31.25f, -1419.63f, 10.83f)
	Turn("ADOL", 15.58f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 17.83f, -1419.72f, 11.58f)
	Turn("LAXIA", 115.06f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", -0.33f, -1420.21f, 16.55f)
	Turn("SAHAD", 129.74f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 30.93f, -1420.88f, 10.83f)
	Turn("Dogi", -155.65f, 360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", -0.67f, -1418.58f, 16.55f)
	Turn("Aaron", 51.57f, 360.0f)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Thanatos", -1.74f, -1420.23f, 16.55f)
	Turn("Thanatos", -144.99f, 360.0f)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	SetChrInfoFlag( "Katrin" , INFOFLAG_NOCHRATARI )
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Katrin", -2.39f, -1418.97f, 16.55f)
	Turn("Katrin", -76.11f, 360.0f)
	ChangeAnimation("Katrin","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)

	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dina", 16.48f, -1419.80f, 11.58f)
	Turn("Dina", -98.12f, 360.0f)
	ChangeAnimation("Dina", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dina", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dina", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dina")
	SetChrInfoFlag("Dina", INFOFLAG_NOCHRATARI)

	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison", 16.91f, -1418.70f, 11.58f)
	Turn("Alison", -51.93f, 360.0f)
	ChangeAnimation("Alison", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Alison", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Alison", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Alison")
	SetChrInfoFlag("Alison", INFOFLAG_NOCHRATARI)

	// ポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)

	//カメラ設定
	MoveCameraAt( 0 , 17.316f , -1419.762f , 13.214f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.615f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.311f , 0 )	// 基本仰角
	RotateCamera( 0 , 65.260f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000, 0.000, 0.450, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M05S271_ED")

	//開始処理ここまで-----------------------------------------------

	//　　画面フェードインして下記のナレーションを表示しつつ、
	//　　無言劇で大穴付近のイベントマップ、漂流村で
	//　　それぞれ準備を進める漂流者たちの様子を見せて行く。
	
	// カット0（暗転）---------------------------------------------------------------------------------

	PlayBGM(BGM_EVENT_012, 0)
	SetEnvSEPlayState(-1, 1)

	// テキスト（色替え）
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
		"#7Cこうして、漂流者たち全員による"
		"#7Cオケアノス討伐が始まった。\p"
		"#7C漂流者たちは“大穴”近くの海岸に陣取り、"
		"#7Cまずはそこに武器を運んでいった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット1 ------------------------------------------------------------------------------------------

	// 位置調整・表情・モーション
	LookChr("Alison", "LAXIA")
	LookChr("Dina", "LAXIA")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.206f , -1419.904f , 12.954f, 180 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.135f , 180 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.884f , 180 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 35.754f , 180 )

	// 擬似ハーフフェードアウト表示
	Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
	Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.4f, 0)

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	Wait(FADE_NORMAL)

	// テキスト（色替え）
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
		"#7Cロンバルディア号を沈めた"
		"#7Cオケアノスに対して漂流者たちの士気は高く、"
		"#7C準備は着々と進められていく。"
	}
	
	Wait(60)
	LookChr("LAXIA", "Dina")
	Wait(10)
	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	EmotionEx("LAXIA", -0.05f, EMO_WAI, 0, 5, 1, 0, 1.0f )	// 「ワイワイ」
	Wait(30)
	
	HeadYes("Dina" , 1 , 25 )
	ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(5)
	
	LookChr("LAXIA", "Alison")
	Wait(10)
	EmotionEx("LAXIA", -0.05f, EMO_WAI, 0, 5, 1, 0, 1.0f )	// 「ワイワイ」
	
	Wait(35)

	// カット2 ------------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_NORMAL)
	// カメラ待ち
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -0.926f , -1419.420f , 18.311f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.095f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.603f , 0 )	// 基本仰角
	RotateCamera( 0 , 96.609f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	LookChr("SAHAD", "Katrin")
	LookChr("Aaron", "Katrin")
	LookChr("Thanatos", "Katrin")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -0.487f , -1419.293f , 17.911f , 210 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.575f , 210 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.413f , 210 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 170.234f , 210 )

	// フェード待ち
	Wait(FADE_NORMAL)

	Wait(20)
	ChangeAnimation( "Aaron", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	EmotionEx("Aaron", -0.05f, EMO_WAI, 0, 5, 1, 0, 1.2f )	// 「ワイワイ」
	Wait(40)

	LookChr("Katrin", "Aaron")
	ChangeAnimation( "Katrin", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	Wait(10)
	EmotionEx("Katrin", -0.05f, EMO_WAI, 0, 5, 1, 0, 1.3f )	// 「ワイワイ」
	SetChrWork("Katrin", CWK_FORCELIPSYNC, 1)	// 強制クチパク（開始）
	Wait(40)
	SetChrWork("Katrin", CWK_FORCELIPSYNC, 0)	// 強制クチパク（終了）

	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	EmotionEx("Aaron", -0.05f, EMO_WAI, 0, 5, 1, 0, 1.2f )	// 「ワイワイ」
	Wait(40)

	// うなずきセット
	HeadYes("Katrin" , 1 , 25 )
	ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(5)

	// ポップアップ閉じる
	ClosePrompt()
	WaitCloseWindow()

//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	Wait(20)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// 擬似フェードアウト削除
	Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, 0)
	Portrait_Close(0)

	// カット3 ------------------------------------------------------------------------------------------

	//　　画面フェードインして漂流村の集会所で
	//　　向き合っているドギとアドル。
	
	// カメラ
	MoveCameraAt( 0 , 31.398f , -1420.035f , 12.734f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.896f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.505f , 0 )	// 基本仰角
	RotateCamera( 0 , 122.821f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	LookChr("ADOL", "Dogi")
	LookChr("Dogi", "ADOL")

	// テキスト（色替え）
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
		"#7Cそして、決戦の時がやってきた──"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カメラ移動（垂直）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 31.398f , -1420.035f , 12.494f , 50 )

	SetEnvSEPlayState(-1, 1)

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	Wait(10)
	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// カメラ待ち（垂直）
	WaitThread(1000)

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000m──よし、これで準備は整った。"
		"後はいよいよ作戦を実行するだけだ。\p"
		"アドルのことだから抜かりないと思うが、"
		"一応装備を確認してきてくれよ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"準備に問題がなさそうなら、"
		"俺のところへ戻ってきてくれ。\p"
		"#080e#080mみんなに声をかけて"
		"現地へ出発するとしようぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル頷いて一旦操作許可。
	//　　オケアノス戦前に装備を見直す最後のタイミングとなる。

	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(25)

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M05S271_ED")
}

function "EV_M05S271_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS ))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	CallFunc("system:reset_chrmot_Dogi")
	CallFunc("system:reset_chrmot_Aaron")
	CallFunc("system:reset_chrmot_Thanatos")
	CallFunc("system:reset_chrmot_Alison")
	CallFunc("system:reset_chrmot_Dina")
	CallFunc("system:reset_chrmot_Katrin")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//フラグ処理
	SetFlag( GF_05MP1201_OCEANUS_STANDBY, 1 )
	//SetFlag( SF_MISSIONNO, MS_05_08 )	//★冒険メモ：オケアノス討伐の準備をしよう。
	
	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init")

	//マップマーカー
	SetMapMarker( SMI_SYMBOL ,PAGE_MP120x, MARKER_EV_M05S272, -100000.00f, 0.0f, 0.0f, 0.0f, 0.0f,MARKER_EV_M05S272,MN_T_VILLAGE_MP1201,0)		//メイン：大空洞へ向かうことになる

	//イベント後の再配置
	SetChrPos("LEADER", 32.32f, -1418.59f, 10.83f)
	Turn("LEADER", 59.26f, 360.0f)

	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt( 0 , 32.320f , -1418.587f , 12.698f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 13.853f , 0 )	// 基本仰角
	RotateCamera( 0 , 120.738f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK, FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼オケアノス討伐戦の準備２
//──────────────────────────────
function "EV_M05S272"		//オケアノス討伐戦の準備２
{
//	CallFunc("system:solo_event_begin")	//話しかけた直後から、選択肢経由に変更になったのでマスクしております。
	LookSpd("Dogi", 1.0f, 1.0f, 1.0f)
	LookReset("Dogi" )	//話しかけた位置によって、ドギの首の動きが見えてしまうので一瞬でリセットしております。
	
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()
	
	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	
	//環境の初期化・不要なものを隠す
//	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
//	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))
	
	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 30.52f, -1419.94f, 10.83f)
	Turn("ADOL", 55.22f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 29.32f, -1420.70f, 10.83f)
	Turn("Dogi", -123.58f, 360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , 30.042f , -1420.381f , 12.477f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.520f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.033f , 0 )	// 基本仰角
	RotateCamera( 0 , 167.402f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000, 0.000, 0.450, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	Wait(1)
	LookSpd("Dogi", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)

	//メイン処理ここから-----------------------------------------------

	LookChr("Dogi", "ADOL")
	LookChr("ADOL", "Dogi")

	// フェードイン
	FadeIn(FADE_BLACK, FADE_FAST)
	WaitFade()

	PlayVoice(Y8V_3558,"Dogi",100)	//アドル（平常のテンション）

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mアドル、準備のほうはもういいのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ああ、行こう")
	MenuAdd(2,"もう少し待ってくれ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//─────────────────────────
	//	⇒ああ、行こう
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// うなずきセット
		HeadYes("ADOL" , 1 , 25 )
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		Wait(25)

		ChangeAnimation( "Dogi", "ANI_EV_YARUKI_S", -1, 1 )	// こぶしたたきつける
		Wait(15)
		EarthQuake( 0.02f , 0.02f , 5 )	// 縦揺れ幅, 横揺れ幅, 時間

		// ドギ
		TalkPopup("Dogi", 0, 2, 0, 0, 0) {
			"#000e#080mよしきた、出陣だな！"
			"腕が鳴るってもんだぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		if(!IsMagicItem(ICON3D_OXYGEN_BOTTLE))
		{
		
			ChangeAnimation( "Dogi", "ANI_EV_YARUKI_E", -1, 1 )	// こぶしたたきつける

			TalkPopup("Dogi", 0, 2, 0, 0, 0) {
				"#000e#000mおっとアドル、オケアノスの"
				"住処は水中にあるんだろ？\p"
				"その装備で本当に大丈夫なのか？"
				"装備4行目"
			}
			WaitPrompt()
			WaitCloseWindow()
			Wait(10)

			PlaySE( SE_TUTORIAL , 100 , 0,  0, 0, 1.0f, 0)		//チュートリアル
			TalkPopup(UNDEF, 0, 5, 0, 0, 0) {
				"#4C#-1Wオケアノスとの戦いを始める前に"
				"#4C#-1W冒険具『仙魚の鱗』を装備してください。#10W"
			}
			Wait(10)
			WaitPrompt()
			WaitCloseWindow()
			Wait(10)

			// フェードアウト
			FadeOut(FADE_BLACK, FADE_FAST)
			WaitFade()

			//Wait(10)

			//イベント前のキャラ情報を復帰
			RestoreEventState()

			//キャラモーション初期化
			CallFunc("system:reset_chrmot_ALL")
			CallFunc("system:reset_chrmot_Dogi")

			//パーティキャラを解放
			ReleaseEventPartyChr()

			//マップパラメーターリセット
			ResetMapParam(-1)

			CallFunc("mp1201:init")

			//イベント後の再配置
			SetChrPos("LEADER", 32.32f, -1418.59f, 10.83f)
			Turn("LEADER", 59.26f, 360.0f)

			ResetPartyPos()
			ResetFollowPoint()
			//Wait(1) //処理待ち用

			//カメラ位置復帰
			MoveCameraAt( 0 , 32.320f , -1418.587f , 12.698f , 0 )	// 注視点
			ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
			ChangeCameraElevation( 0 , 13.853f , 0 )	// 基本仰角
			RotateCamera( 0 , 120.738f , 0 )				// 角度
			ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
			SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
			RollCamera( 0 , 0.0f , 0 )				// ロール回転

		//	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
			CallFunc("system:camera_reset")

			ResetStopFlag(STOPFLAG_EVENT)

			FadeIn(FADE_BLACK, FADE_FAST)
			//WaitFade()

		}else {
			//　　画面フェードアウト。
			
			SetEnvSEPlayState(-1, 0)	//環境SE全停止
			// フェードアウト
			FadeOut(FADE_BLACK, FADE_NORMAL)
			WaitFade()

			//イベント前のキャラ情報を復帰
			RestoreEventState()

			//キャラモーション初期化
			CallFunc("system:reset_chrmot_ALL")
			CallFunc("system:reset_chrmot_Dogi")

			//パーティキャラを解放
			ReleaseEventPartyChr()

			//マップパラメーターリセット
			ResetMapParam(-1)

			//マップマーカー
			DelMapMarker( SMI_SYMBOL ,PAGE_MP120x, MARKER_EV_M05S272, 0,0)		//メイン：大空洞へ向かうことになる

			SetFlag(GF_05MP6371_START_OPS,1)	//冒険メモ用：★オケアノスを討伐しよう
			SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット

			PlayBGM(BGM_EVENT_012, 0)
			SetFlag(SF_NOCHANGEBGM, 1)

			LoadArg("map/mp6115v1/mp6115v1.arg")
			EventCue("mp6115v1:EV_M05S280")	// NEXT：[M05S280][オケアノス討伐戦を開始する]

			ResetStopFlag(STOPFLAG_EVENT)
		}
	} else  {
	//	⇒もう少し待ってくれ
	
		HeadNo("ADOL" , 1 , 25 )
		Wait(30)
	
		// ドギ
		TalkPopup("Dogi", 0, 2, 0, 0, 0) {
			"#000e#000mおっと、そうなのか？"
			"しっかり準備して来てくれよ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		//　　ここで操作許可。

		// フェードアウト
		FadeOut(FADE_BLACK, FADE_FAST)
		WaitFade()

		//Wait(10)

		//イベント前のキャラ情報を復帰
		RestoreEventState()

		//隠したものを復帰。
		ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

		//キャラモーション初期化
		CallFunc("system:reset_chrmot_ALL")
		CallFunc("system:reset_chrmot_Dogi")

		//パーティキャラを解放
		ReleaseEventPartyChr()

		//マップパラメーターリセット
		ResetMapParam(-1)

		CallFunc("mp1201:init")

		//イベント後の再配置
		SetChrPos("LEADER", 32.32f, -1418.59f, 10.83f)
		Turn("LEADER", 59.26f, 360.0f)

		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		//カメラ位置復帰
		MoveCameraAt( 0 , 32.320f , -1418.587f , 12.698f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , 13.853f , 0 )	// 基本仰角
		RotateCamera( 0 , 120.738f , 0 )				// 角度
		ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , 0.0f , 0 )				// ロール回転

	//	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
		CallFunc("system:camera_reset")

		ResetStopFlag(STOPFLAG_EVENT)

		FadeIn(FADE_BLACK, FADE_FAST)
		//WaitFade()
	}
	
}

//──────────────────────────────
//▼漂流村で決起会が催される
//───────────────────────────────
function "EV_M05S300"			//漂流村で決起会が催される
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Thanatos")
	LoadChr("Aaron")
	LoadChr("Dogi")
	LoadChr("Katrin")
	LoadChr("Alison")
	LoadChr("Licht")
	LoadChr("Dina")

	CallFunc("system:Load_FreeNPC_Event")


	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 29.71f, -1425.39f, 10.83f)
	Turn("ADOL", 137.53f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", 22.40f, -1440.72f, 11.49f)
	Turn("RICOTTA", 82.41f, 360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_SMILE, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 24.48f, -1422.71f, -100.0f)
	Turn("SAHAD", -64.36f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 20.75f, -1439.43f, 11.48f)
	Turn("LAXIA", 2.01f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_SMILE, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

//	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrPos("HUMMEL", 24.48f, -1422.71f, -100.0f)
//	Turn("HUMMEL", -64.36f, 360.0f)
//	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
//	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
//	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
//	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
//	LookReset("HUMMEL")
//	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", 21.63f, -1441.21f, 11.47f)
	Turn("DANA", 149.96f, 360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_SMILE, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Thanatos", 28.43f, -1425.98f, 10.83f)
	Turn("Thanatos", 157.08f, 360.0f)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 27.14f, -1426.28f, 10.83f)
	Turn("Aaron", 166.59f, 360.0f)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi",30.37f,-1424.55f,10.83f)
	Turn("Dogi",111.29f,360.0f)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_SMILE, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)
	SetChrInfoFlag("Dogi", INFOFLAG_NOATARI)
	SetChrPos("ev_eq4016a", 30.38f, -1424.52f, 10.83f)
	SetParent("ev_eq4016a", "Dogi", "Null_eq4016")
	ChangeAnimation( "Dogi", "ANI_EV_SIT_C_CUP", -1, 1 )	//	モーション	：座ってグラスを持つ

	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison", 21.85f, -1439.79f, 11.50f)
	Turn("Alison", 39.82f, 360.0f)
	ChangeAnimation("Alison", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Alison", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Alison", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Alison")
	SetChrInfoFlag("Alison", INFOFLAG_NOCHRATARI)

	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		SetChrWork("Miralda", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Miralda", 20.51f, -1441.07f, 11.46f)
		Turn("Miralda", -138.48f, 360.0f)
		ChangeAnimation("Miralda", "ANI_WAIT", -1, 1)
		ChangeSubAnimation("Miralda", SUBMOT_EYE, ANI_E_LAUGH, 1)
		ChangeSubAnimation("Miralda", SUBMOT_MOUTH, ANI_M_WAIT, 1)
		ChangeSubAnimation("Miralda", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		LookReset("Miralda")
		SetChrInfoFlag("Miralda", INFOFLAG_NOCHRATARI)
	}

	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dina", 22.60f, -1432.16f, 11.65f)
	Turn("Dina", 3.15f, 360.0f)
	ChangeAnimation("Dina", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dina", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dina", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dina")
	SetChrInfoFlag("Dina", INFOFLAG_NOCHRATARI)

	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Licht", 22.21f, -1433.33f, 11.63f)
	Turn("Licht", -142.53f, 360.0f)
	ChangeAnimation("Licht", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Licht", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Licht", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Licht")
	SetChrInfoFlag("Licht", INFOFLAG_NOCHRATARI)
	
	// 着席用
	SetChrInfoFlag("ADOL", INFOFLAG_NOATARI)
	SetChrInfoFlag("Dogi", INFOFLAG_NOATARI)
	SetChrInfoFlag("Aaron", INFOFLAG_NOATARI)
	SetChrInfoFlag("Thanatos", INFOFLAG_NOATARI)

	// 初期モーション
	ChangeAnimation( "ADOL", "ANI_EV_SIT_C", -1, 1 )
	ChangeAnimation( "Aaron", "ANI_EV_SIT_C", -1, 1 )
	ChangeAnimation( "Thanatos", "ANI_EV_SIT_C", -1, 1 )
	
	//カメラ設定
	MoveCameraAt( 0 , 20.749f , -1441.321f , 13.112f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.141f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.769f , 0 )	// 基本仰角
	RotateCamera( 0 , 169.642f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000, 2.000, 0.700, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M05S300_ED")

	//開始処理ここまで-----------------------------------------------

	//　　フェードインして夜の漂流村。
	//　　厨房周辺で女性陣(ラクシャ、ダーナ、
	//　　リコッタ、アリスン等)が集まって談笑している。
	
	// カット1 -----------------------------------------------------------------------------------------
	
	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		LookChr("DANA", "Miralda")
		LookChr("LAXIA", "Miralda")
		LookChr("RICOTTA", "Miralda")
		LookChr("Alison", "Miralda")
	} else {
		LookChr("DANA", "LAXIA")
		LookChr("LAXIA", "DANA")
		LookChr("RICOTTA", "DANA")
		LookChr("Alison", "DANA")
	}
	LookChr("Dina", "Licht")
	LookChr("Licht", "Dina")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 23.825f , -1433.505f , 13.272f , 200 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 5.141f , 200 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.258f, 200 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 128.389f , 200 )

	//PlayBGM(BGM_EVENT_005, 0)
	PlayBGM(BGM_TOWN_501, 0)

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		EmotionEx("Miralda", -0.05f, EMO_WAI, 0, 5, 1, 0, 1.3f )	// 「ワイワイ」
		ChangeAnimation( "Miralda", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	} else {
		EmotionEx("DANA", -0.05f, EMO_WAI, 0, 5, 1, 0, 1.3f )	// 「ワイワイ」
		ChangeAnimation( "DANA", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	}
	Wait(35)
	ChangeAnimation( "LAXIA", "ANI_EV_RYOTESIRI_S", -1, 1 )	// 両手 尻組み
	EmotionEx("LAXIA", -0.05f, EMO_WAI, 0, 5, 1, 0, 1.3f )	// 「ワイワイ」
	Wait(35)

	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		LookChr("Miralda", "LAXIA")

		EmotionEx("Miralda", -0.05f, EMO_WAI, 0, 5, 1, 0, 1.3f )	// 「ワイワイ」
		ChangeAnimation( "Miralda", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	} else {
		EmotionEx("RICOTTA", -0.05f, EMO_WAI, 0, 5, 1, 0, 1.3f )	// 「ワイワイ」
		ChangeAnimation( "RICOTTA", "ANI_EV_GUTSPOSE_S", -1, 1 )	// 手振り
	}
	
	Wait(35)
	EmotionEx("Dina", -0.05f, EMO_WAI, 0, 5, 1, 0, 1.3f )	// 「ワイワイ」
	ChangeAnimation( "Dina", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	Wait(30)
	EmotionEx("Licht", -0.05f, EMO_WAI, 0, 5, 1, 0, 1.3f )	// 「ワイワイ」
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	Wait(10)

	// カット2 -----------------------------------------------------------------------------------------

	//　　カメラ切り替わって焚火前では男性陣が
	//　　座り込んで話し合っているのをを見せる。
	
	// クロスフェード
	CrossFade(45)
	
	// カメラ
	MoveCameraAt( 0 , 30.107f , -1422.711f , 13.048f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.317f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.192f , 0 )	// 基本仰角
	RotateCamera( 0 , 127.281f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーションなど
	Look("Dogi", -35 , 12)
	LookChr("ADOL", "Dogi")
	LookChr("Aaron", "Dogi")
	LookChr("Thanatos", "Dogi")
	LookReset("DANA")
	LookReset("LAXIA")
	LookReset("RICOTTA")
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 29.913f , -1422.356f , 12.088f, 85 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.317f , 85 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,  -1.474f , 85 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 138.454f, 85 )
		
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	// カット3 -----------------------------------------------------------------------------------------

	//　　ドギ、アドル、タナトス、エアランの並び順。
	//　　(焚火を囲むの無理なので半円状態？)
	
	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ
	MoveCameraAt( 0 , 29.871f , -1425.052f , 11.978f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.224f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -6.797f , 0 )	// 基本仰角
	RotateCamera( 0 , 286.506f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )

	// フェード待ち
	Wait(FADE_FAST)
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#011e#080mやれやれ、これほど"
		"晴れやかな気分は久しぶりだぜ。\p"
		"#012e#080mみんなも今日ばかりはさすがに"
		"嬉しくて仕方ないみたいだな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)
	
	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "ここまで長かったからね")
	MenuAdd(2, "みんな、よく頑張ってくれたよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)

	// （アドル）手振り
	ChangeAnimation( "ADOL", "ANI_EV_SC_TEBURI_L", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	// （ドギ）うなずき
	HeadYes("Dogi" , 1 , 25 )
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	//─────────────────────────
	//	⇒ここまで長かったからね
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// ドギ
		TalkPopup("Dogi", 0, 2, 0, 0, 0) {
			"#000mああ、振り返ってみると"
			"色々なことがあったよな……\p"
			"#011e#000mバルバロスの旦那も今日この日を"
			"一緒に迎えられるとよかったんだが……"
		}
		WaitPrompt()
		WaitCloseWindow()
	
	}

	//	⇒みんな、よく頑張ってくれたよ
	if (FLAG[TF_MENU_SELECT] == 2 ) {
		
		// ドギ
		TalkPopup("Dogi", 0, 2, 0, 0, 0) {
			"#000mああ、今日の勝利は"
			"俺たち漂流者全員の勝利だ。\p"
			"#011e#000m全く感慨もひとしおってもんだぜ。"
			"感慨4行目"
		}
		WaitPrompt()
		WaitCloseWindow()
	
	}
	
	//─────────────────────────
	
	// カット4 ------------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
//	MoveCameraAt( 0 , 27.428f , -1425.529f , 12.058f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.424f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 0.757f , 0 )	// 基本仰角
//	RotateCamera( 0 , 220.129f , 0 )				// 角度
//	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , 27.238f , -1425.318f , 11.984f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.774f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.757f , 0 )	// 基本仰角
	RotateCamera( 0 , 246.987f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.271f , -1425.240f , 12.058f, 60 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.424f , 60 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.757f , 60 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 246.985f , 60 )
	
	// フェード待ち
	Wait(FADE_CROSS)
	
	//　　エアランにＰＡエモーション。
	EmotionEx("Aaron", 0.00f, EMO_PA, 0, 5, 1, 1, 1.2f )	// 「PA」
	Wait(35)
	
//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
	
	ChangeAnimation( "Aaron", "ANI_EV_SC_TEBURI", -1, 1 )	// （椅子）手振り
	
	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#000e#000mところでサハドはどうした？"
		"先ほどから姿が見えねぇみたいだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Thanatos", "Aaron")
	//LookChr("Dogi", "Aaron")
	LookChr("ADOL", "Aaron")

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#021e#080mワハハ、サハドなら早々に"
		"酔いつぶれて寝込んでおったわい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_LAUGH_E, 1)	// 目

	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#000e#080mフン、ちょいとハメを"
		"外しすぎなんじゃねえかァ？\p"
		"脱出の船が完成するまで"
		"まだ半月ほどはかかるんだろ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("Dogi" , 1 , 25 )
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	LookChr("Thanatos", "Dogi")

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000mああ、その間にまだ漂流者が"
		"残っていないか捜索しなくちゃあな。\p"
		"#011e#000m万一に備えて船に"
		"食糧や水を備蓄する必要もある。\p"
		"#012e#000mそう考えると、やるべきことは"
		"まだまだ多いかもしれんな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookSpd("ADOL",0.11f,0.11f,0.11f)
	LookChr("ADOL", "Dogi")
	Wait(10)

	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "捜索は任せてくれ")
	MenuAdd(2, "もっと島を冒険したかった")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)
	
	// （アドル）手振り
	ChangeAnimation( "ADOL", "ANI_EV_SC_TEBURI_L", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	//ChangeAnimation( "Dogi", "ANI_EV_SC_TEBURI", -1, 1 )	// （椅子）手振り

	//─────────────────────────
	//	⇒捜索は任せてくれ
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// ドギ
		TalkPopup("Dogi", 0, 2, 0, 0, 0) {
			"#021e#080m頼りにしてるぜ、相棒。"
		}
		WaitPrompt()
		WaitCloseWindow()


		PlayVoice(Y8V_3964,"Thanatos",100)	//ふぅ…（溜息）

		LookReset("Thanatos")
		ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目

		// タナトス
		TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
			"#000mいずれにしてもここでの"
			"漂流生活もあと少しか……\p"
			"#061e#000mワシとしては正直、"
			"少しさみしい気持ちにもなるのう。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	
	//	⇒もっと島を冒険したかった
	if (FLAG[TF_MENU_SELECT] == 2 ) {

		// ドギ
		TalkPopup("Dogi", 0, 2, 0, 0, 0) {
			"#061e#080mおいおい、気持ちは分かるがなあ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		PlayVoice(Y8V_3964,"Thanatos",100)	//ふぅ…（溜息）
		
		LookReset("Thanatos")
		ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目

		// タナトス
		TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
			"#000mいずれにしてもここでの"
			"漂流生活もあとわずかじゃな。\p"
			"#061e#000mワシとしても正直、"
			"さみしい気持ちになるのう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	
	}
	
	//─────────────────────────
	
	LookChr("Aaron", "Thanatos")
	
	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#000e#080m何ならじいさんはここに残るか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Thanatos", "Aaron")

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#051e#080mそれも悪くないが──"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	少女の声（リコッタ）
	SetName("少女の声")
	TalkPopup(UNDEF, 0, 3, 0, 230, 0) {
		"父上、ハラいっぱいになったか？"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	EmotionEx("ADOL", 0.05f, EMO_PA, 0, 5, 1, 1, 1.1f )	// 「PA」
	EmotionEx("Dogi", 0.05f, EMO_PA, 0, 5, 1, 1, 1.2f )	// 「PA」
	EmotionEx("Thanatos", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	EmotionEx("Aaron", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」

	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)

	Wait(45)

	// カット5 -----------------------------------------------------------------------------------------
	
	//　　リコッタとダーナが歩いてフレームイン。
	
	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ
	MoveCameraAt( 0 , 28.980f , -1425.010f , 11.562f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.524f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.365f , 0 )	// 基本仰角
	RotateCamera( 0 , 340.034f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	SetChrPos("DANA", 31.45f, -1419.75f, 10.83f)
	Turn("DANA", 24.46f, 360.0f)
	SetChrPos("RICOTTA", 30.47f, -1420.16f, 10.83f)
	Turn("RICOTTA", 24.46f, 360.0f)
	LookChr("RICOTTA", "Thanatos")
	LookChr("DANA", "Thanatos")
	LookChr("Thanatos", "RICOTTA")
	LookChr("ADOL", "DANA")
	Look("Dogi", 28 , 10)	
	
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 29.024f , -1424.877f , 12.138f , 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.724f , 100 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.210f , 100 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 4.614f , 100 )
	
	// 移動
	ExecuteCmd(1, MoveTo, "RICOTTA", 28.69f, -1424.22f, 10.83f, 0.1f, 0.23f)
	ExecuteCmd(2, MoveTo, "DANA", 29.39f, -1423.84f, 10.83f, 0.1f, 0.20f)
	
	// フェード待ち
	Wait(FADE_FAST)
	
	// 移動待ち
	WaitThread(1)
	TurnToChr("RICOTTA", "Thanatos", 7.0f)
	WaitThread(2)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	ChangeAnimation( "Thanatos", "ANI_EV_SC_TEBURI", -1, 1 )	// （椅子）手振り

	// タナトス
	TalkPopup("Thanatos", 0, 1, 0, 0, 0) {
		"#021e#080mおお、リコッタか。"
		"もうこの通りパンパンじゃよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayVoice(Y8V_2564,"RICOTTA",100)	//なはは（楽しそうに）

	ChangeAnimation( "RICOTTA", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#021e#080m足りなかったらリコッタに言う。"
		"父上の好物作ってやる！"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("Thanatos", 1, 25)	// キャラ, うなずき回数, 速さ

	// タナトス
	TalkPopup("Thanatos", 0, 1, 0, 0, 0) {
		"#011e#080mおう、ありがとうさん。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_LAUGH_E, 1)	// 目

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 29.967f , -1424.898f , 12.138f , 75 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.824f , 75 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -5.325f , 75 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 40.372f , 75 )

	LookChr("DANA", "ADOL")
	TurnToChr("DANA", "ADOL", 6.0f)

	Wait(35)
	ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_S", -1, 1 )	// 両手 尻組み

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#080mアドルさんたちは大丈夫？"
		"飲み物は足りてるかな？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "ありがとう、もう十分だ")
	MenuAdd(2, "もう遅いから休んでくれ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)

	HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
	Wait(40)

	//─────────────────────────
	//	⇒ありがとう、もう十分だ
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		LookRoll("DANA", 10.0f)	// かしげる
		
		// ダーナ
		TalkPopup("DANA", 0, 2, 0, 0, 0) {
			"#082e#080mそう？"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookRoll("DANA", 0.0f)	// かしげる
		ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_E", -1, 1 )	// 両手 尻組み
		
		// ダーナ
		TalkPopup("DANA", 0, 2, 0, 0, 0) {
			"#081e#080m私たちはそろそろ休むけど、"
			"アドルさんたちもほどほどにね。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}

	//	⇒もう遅いから休んでくれ
	if (FLAG[TF_MENU_SELECT] == 2 ) {
	
		// ダーナ
		TalkPopup("DANA", 0, 2, 0, 0, 0) {
			"#021e#080mあはは、ありがとう。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_E", -1, 1 )	// 両手 尻組み
		
		// ダーナ
		TalkPopup("DANA", 0, 2, 0, 0, 0) {
			"#022e#080mそれじゃあ、私たちは"
			"そろそろ休ませてもらおうかな。"
		}
		WaitPrompt()
		WaitCloseWindow()
	
	}

	//─────────────────────────
	
	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#011e#000m#0L……………………………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("RICOTTA", "DANA")
	TurnToChr("RICOTTA", "DANA", 8.0f)

	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#000e#000mダーナ姉、行くぞ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("DANA", "RICOTTA")

	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#012e#000mあ、うん……"
	}
	WaitPrompt()
	WaitCloseWindow()

	
	// カット6 -----------------------------------------------------------------------------------------

	//　　歩いて去っていくダーナとリコッタ。

	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , 27.013f , -1424.628f , 12.018f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.480f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.304f , 0 )	// 基本仰角
	RotateCamera( 0 , 315.726f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 位置調整・表情・モーション
	SetChrPos("DANA", 29.43f, -1423.75f, 10.83f)
	Turn("DANA", -158.85f, 360.0f)
	SetChrPos("RICOTTA", 29.19f, -1422.72f, 10.83f)
	Turn("RICOTTA", -154.15f, 360.0f)
	LookReset("DANA")
	LookReset("RICOTTA")

	Look("Dogi", 33 , 14)	

	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.515f , -1425.575f , 12.118f, 120 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,  2.424f , 120 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.449f , 120 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 256.683f , 120 )
	
	// （ダーナ＆リコッタ）移動
	ExecuteCmd(1, MoveTo, "RICOTTA", 33.11f, -1414.00f, 10.86f, 0.1f, 0.23f)
	ExecuteCmd(2, MoveTo, "DANA", 33.85f, -1414.74f, 10.83f, 0.1f, 0.20f)
	
	Wait(90)

	//　　タナトスに「…」エモーション。
	EmotionEx("Thanatos", 0.05f, "EMO_3DOT", 27, 5, 1, 1, 1.1f)	// 「…」

	Wait(52)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	// （ダーナ＆リコッタ）移動停止
	StopThread(1)
	StopThread(2)
	ChangeAnimation( "RICOTTA", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "DANA", "ANI_WAIT", -1, 1 )	// 待機
	
	LookReset("Thanatos")
	
	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#012e#000mここに残るのも悪くはないが、"
		"やはりワシも島を出るぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Look("Dogi", -35 , 11)
	LookChr("ADOL", "Thanatos")
	LookChr("Aaron", "Thanatos")
	
	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#011e#000mワシはあいつに……"
		"リコッタに世界を見せてやりたい。\p"
		"#080mワシが言うのも何じゃが、"
		"なかなか見込みのある娘じゃからな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#000e#080mフン、なるほどな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ドギに「…」エモーション表示。
	EmotionEx("Dogi", 0.05f, "EMO_3DOT", 27, 5, 1, 1, 1.2f)	// 「…」
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	Wait(52)
	Look("Dogi", -25 , 8)
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mそりゃあそうとアドル……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookSpd("ADOL",0.08f,0.08f,0.08f)
	LookChr("ADOL", "Dogi")
	
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000m彼女は……ダーナは一体"
		"どうするつもりなんだろうな？\p"
		"#011e#000mここを脱出したとしても彼女は……"
		"彼女4行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Aaron", "Dogi")
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	LookChr("Thanatos", "ADOL")

	ChangeAnimation( "Aaron", "ANI_EV_SC_TEBURI", -1, 1 )	// （椅子）手振り

	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#000mああ、そいつは気がかりだ。\p"
		"記憶も戻り切ってねえみたいだし、"
		"島に心残りがあるんじゃねえのかァ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "前から気になっていた")
	MenuAdd(2, "なかなか聞きにくいな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)

	LookReset("ADOL")
	Wait(10)

	// （アドル）手振り
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)


	//─────────────────────────
	//	⇒前から気になっていた
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_CLOSE_S,1)
		HeadNo("Aaron" , 1, 35 )
		PlayVoice(Y8V_3873,"Aaron",100)	//やれやれ…（溜息）
		Wait(52)
	
		// エアラン
		TalkPopup("Aaron", 0, 2, 0, 0, 0) {
			"#012e#000mだったら、そろそろ"
			"ハッキリさせるべきだろうが。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}

	//	⇒なかなか聞きにくいな
	if (FLAG[TF_MENU_SELECT] == 2 ) {
		PlayVoice(Y8V_3871,"Aaron",100)	//あァ？（面倒くさそうに）

		// エアラン
		TalkPopup("Aaron", 0, 2, 0, 0, 0) {
			"#031e#000mバーロー、もうそんなこと"
			"言ってる場合じゃあねえだろ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	
	}
	
	//─────────────────────────
		
	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#000e#000mそうじゃな、アドル。"
		"お前さんが相談に乗るべきじゃろう。\p"
		"#011e#000mもしかしたら……\p"
		"#012e#000m……いや、まあお前さんが"
		"折りを見て話を聞いてみるがいい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、頷きモーション。
	HeadYes("ADOL" , 1 , 25 )
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(15)
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mよし、何にせよ、"
		"まだまだ気は抜けなさそうだな。\p"
		"また明日から頑張るとしようぜ。"
		"頑張る4行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.165f , -1421.779f , 11.426f, 180 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.312f , 180 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -8.751f , 180 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 217.062f , 180 )


	Wait(60)

	//　　ここで操作許可。
	//　　漂流村を回ると、まだオケアノスへの勝利と
	//　　決起会の余韻に浸った漂流者たちの話を聞くことができる。

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_SLOW)
	WaitFade()
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	ResetChrInfoFlag("ADOL", INFOFLAG_NOATARI)
	ResetChrInfoFlag("Dogi", INFOFLAG_NOATARI)
	ResetChrInfoFlag("Aaron", INFOFLAG_NOATARI)
	ResetChrInfoFlag("Thanatos", INFOFLAG_NOATARI)
	
	Wait(15)
	
	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M05S300_ED")
}

function "EV_M05S300_ED"
{
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,FADE_FAST)

	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)

	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)

	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	ActiveVoiceStop(ACTIVEVOICESTOP_FORCE)		//アクティブボイス強制終了

	//フラグ処理
	SetFlag(SF_SETRAMSAVE,1)		//リトライセーブ
	SetFlag(GF_05MP1201_OCEANUS_STANDBY,1)
	SetFlag(GF_05MP1201_HOLD_PARTY, 1)
	//SetFlag( SF_MISSIONNO, MS_05_10 )	//★冒険メモ：ダーナと話をしてみよう。
	SetFlag(GF_TBOX_DUMMY078, 1)	
	//SetFlag( GF_QS222_SHOP_ADD, 1 )		
	//SetFlag( GF_QS310_GET_ITEM, 1 )		
	//SetFlag( GF_QS310_GET_ITEM2, 1 )	
	//SetFlag( GF_QS310_GET_ITEM3, 1 )
	SetFlag(GF_05MP6231M_GOTO_SKYWAY,1)
	SetFlag(GF_NPC_5_07_GOTO_VALLAY,1)
	
	//クエスト期限切れ（オケアノス打倒）--------------------------------
	//【QS201】備蓄用の素材（ドギ）
	if( FLAG[GF_QUEST_201] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_201, QUEST_FALSE )
	}
	//【QS222】仕立ての練習（アリスン）
	if( FLAG[GF_QUEST_222] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_222, QUEST_FALSE )
	}
	//【QS230】海賊のお宝探し（ディナ）
	if( FLAG[GF_QUEST_230] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_230, QUEST_FALSE )
	}
	//【QS300】祈願の木（サハド）
	if( FLAG[GF_QUEST_300] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_300, QUEST_FALSE )
	}
	//【QS301】新しい薬の調合（リヒト）
	if( FLAG[GF_QUEST_301] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_301, QUEST_FALSE )
	}
	//【QS310】試作品の性能テスト（エアラン）
	if( FLAG[GF_QUEST_310] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_310, QUEST_FALSE )
	}
	//【QS311】神に祈りを（シスター・ニア）
	if( FLAG[GF_QUEST_311] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_311, QUEST_FALSE )
	}
	//【QS401】新入りはいずこ（レーヤ）
	if( FLAG[GF_QUEST_401] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_401, QUEST_FALSE )
	}
	//【QS402】栄養満点の肉料理（ミラルダ）
	if( FLAG[GF_QUEST_402] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_402, QUEST_FALSE )
	}
	//【QS500】脱出船の資材集め
	if( FLAG[GF_QUEST_500] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_500, QUEST_FALSE )
	}
	//【QS501】卵の配達（ヒュンメル）
	if( FLAG[GF_QUEST_501] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_501, QUEST_FALSE )
	}
	//【QS502】航海のお守り（クイナ）
	if( FLAG[GF_QUEST_502] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_502, QUEST_FALSE )
	}
	//【QS520】真紅の産衣（エド）
	if( FLAG[GF_QUEST_520] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_520, QUEST_FALSE )
	}
	//【QS521】巨大な怨敵（タナトス）
	if( FLAG[GF_QUEST_521] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_521, QUEST_FALSE )
	}
	//【QS522】奮起の演奏会（オースティン）
	if( FLAG[GF_QUEST_522] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_522, QUEST_FALSE )
	}

	// PS4追加分
	//【QS232】闇夜の怪（漂流村）
	if( FLAG[GF_QUEST_232] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_232, QUEST_FALSE )
	}
	//【QS505】月光草の採取（漂流村）
	if( FLAG[GF_QUEST_505] != QUEST_SUCCESS ){
		//SetFlag( GF_QUEST_505, QUEST_FALSE )
	}
	
	//クエストマーカー消去
	DelMapMarker( SMI_QUEST, PAGE_F012, MARKER_QS_230_LP1, 0, 0)	// 【QS230】海賊のお宝探し（ディナ）「▼ヒントイベント」が発生するポイント用
	DelMapMarker( SMI_QUEST, PAGE_F012, MARKER_QS_230_LP2, 0, 0)	// 【QS230】海賊のお宝探し（ディナ）「▼お宝発見イベント」が発生するポイント用
	DelMapMarker( SMI_QUEST, PAGE_MP433x, MARKER_QS_300_LP, 0, 0)	// 【QS300】祈願の木（サハド）「▼木を入手する」が発生するポイント用
	DelMapMarker( SMI_QUEST, PAGE_F006, MARKER_QS_311_LP1, 0, 0)	// 【QS311】神に祈りを（シスター・ニア）「▼クエストイベント」が発生するポイント用
	DelMapMarker( SMI_QUEST, PAGE_F006, MARKER_QS_311_LP2, 0, 0)	// 【QS311】神に祈りを（シスター・ニア）「▼クエスト達成イベント」が発生するポイント用
	DelMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP1, 0, 0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（浜辺）」ポイント用
	DelMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP2, 0, 0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（集会所）」ポイント用
	DelMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP3, 0, 0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（屋内Ａ）」ポイント用
	DelMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP4, 0, 0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（屋内Ｂ）」ポイント用
	DelMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP5, 0, 0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（屋内Ｃ）」ポイント用
	DelMapMarker( SMI_QUEST, PAGE_MP749x, MARKER_QS_501_LP, 0, 0)	// 【QS501】卵の配達（ヒュンメル）巣穴の場所用
	DelMapMarker( SMI_QUEST, PAGE_F011, MARKER_QS_521_LP, 0, 0)		// 【QS521】巨大な怨敵（タナトス）　巨大ピラルクの釣り場用
	DelMapMarker( SMI_QUEST, PAGE_MP6401, MARKER_QS_522_LP4, 0, 0)	// 【QS522】奮起の演奏会（オースティン）「▼楽譜入手イベント」の場所用

	DelMapMarker( SMI_QUEST, PAGE_F007, MARKER_QS_505_0, 0, 0)					// 【QS505】月光草の採取（テント常設）
	DelMapMarker( SMI_NIGHT_QUEST, PAGE_MP433xt2, MARKER_QS_505_1, 0, 0)		// 【QS505】月光草の採取（採取ＬＰ）
	DelMapMarker( SMI_NIGHT_QUEST, PAGE_MP433xt2, MARKER_QS_505_2, 0, 0)		// 【QS505】月光草の採取（採取ＬＰ）
	DelMapMarker( SMI_NIGHT_QUEST, PAGE_MP433xt2, MARKER_QS_505_3, 0, 0)		// 【QS505】月光草の採取（採取ＬＰ）
	DelMapMarker( SMI_NIGHT_QUEST, PAGE_MP433xt2, MARKER_QS_505_4, 0, 0)		// 【QS505】月光草の採取（採取ＬＰ）
	DelMapMarker( SMI_NIGHT_QUEST, PAGE_MP433xt2, MARKER_QS_505_5, 0, 0)		// 【QS505】月光草の採取（採取ＬＰ）
	DelMapMarker( SMI_NIGHT_QUEST, PAGE_MP433xt2, MARKER_QS_505_6, 0, 0)		// 【QS505】月光草の採取（タナトス小屋）

	DelMapMarker( SMI_QUEST, PAGE_F001, MARKER_QS_232_0, 0, 0)					// 【QS232】闇夜の怪（テント常設）
	DelMapMarker( SMI_NIGHT_QUEST, PAGE_MP1301t2, MARKER_QS_232_1, 0, 0)		// 【QS232】闇夜の怪（最終イベント）

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", 32.56f, -1418.23f, 10.83f)
	Turn("LEADER", 64.69f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt( 0 , 32.560f , -1418.234f , 12.685f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.318f , 0 )	// 基本仰角
	RotateCamera( 0 , 115.307f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

//	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
	LoadArg("map/mp1201/mp1201.arg")
	EventCue("mp1201:init")
	//終了処理ここまで----------------------------------------------------
}


function "EV_M05S310"		//高台でダーナと話す
{
//開始処理ここから----------------------------------------------------

	CallFunc("system:solo_event_begin")

	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	ClearDebris()
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

//	StopBGM(30)

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",0.27f,-1467.09f,24.26f)
	Turn("ADOL",20.02f,360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	LookChr("ADOL" , "DANA")

	SetChrInfoFlag( "DANA" , INFOFLAG_NOCHRATARI )
	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA",-2.02f,-1478.08f,24.61f)
	Turn("DANA",-16.72f,360.0f)
	Look("DANA" , 0 , 5)
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "DANA" , "ANI_EV_RYOTESIRI", -1 , 1 )

	SetChrInfoFlag( "SAHAD" , INFOFLAG_INVISIBLE )
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrPos("SAHAD",1.16f,-1463.55f,23.86f)
	Turn("SAHAD",17.34f,360.0f)

	MoveCameraAt( 0 , -1.355f , -1477.772f , 26.805f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.691f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -31.519f , 0 )	// 基本仰角
	RotateCamera( 0 , 243.451f , 0 )				// 角度
	ChangeCameraPers( 0 , 52.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	SetFlag(SF_CHARANORECVSHADOW,1)	//キャラ影受けない

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 150.000 ,2.000 ,0.500 ,0.500)
	SetDoFFocus(0, 0, 0)

	// グレアの設定
	//SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.000, 0.800 ,0.500 ,0.600 ,1.000 ,1.000 ,0.400)


	SetSkipScript("mp1201:EV_M05S310_ED")

//開始処理ここまで-----------------------------------------------


	//──────────────────────────────
	//▼高台にいるダーナと話し合う
	//──────────────────────────────
	//　　浜辺の高台にいるダーナに話しかけるとイベント開始。
	//　　海を見つめながら佇んでいるダーナ。
	//　　アドルが歩いてフレームインすると、
	//　　ダーナに「！」エモーション表示して振り向く。

//	PlaySE(SE_ENV_BEACH ,40 ,  15, 20, 1.0f, 10)	//波音

	FadeIn(FADE_BLACK,FADE_SLOW)
	WaitFade()

	Wait(30)

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,-1.197f , -1478.195f , 25.714f , 160  )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.891f , 160  )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.835f , 160  )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 210.624f ,  160  )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,5.7f　, 160  )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 160 )		// 視野角

	//MoveCameraAt( 0 , -1.197f , -1478.195f , 25.714f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.891f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -2.835f , 0 )	// 基本仰角
	//RotateCamera( 0 , 210.624f , 0 )				// 角度
	//ChangeCameraPers( 0 , 52.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(140)
	ExecuteCmd( 1, MoveTo, "ADOL" ,-1.52f,-1476.63f,24.57f, 0.1f , 0.18f )
	
	//SetChrPos("ADOL",-1.52f,-1476.63f,24.57f)
	//Turn("ADOL",-31.46f,360.0f)

	Wait(45)

	EmotionEx("DANA", 0.00f,2,5,5,1,1,1.3f)	// ！


	Wait(20)
	Look("DANA" , -35 , 0 )

	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,-1.138f , -1476.256f , 25.714f, 160 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.693f , 160 )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.746f, 160 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 308.957f ,  160 )		// 角度
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,0.0f, 150 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

	//MoveCameraAt( 0 , -1.138f , -1476.256f , 25.714f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 4.693f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 1.746f , 0 )	// 基本仰角
	//RotateCamera( 0 , 308.957f , 0 )				// 角度
	//ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	Wait(40)


	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
	Wait(10)

	ChangeAnimation( "DANA" , "ANI_EV_RYOTESIRI_E", -1 , 1 )
	TalkMes("DANA","#3254V#000e#000mア、アドルさん！？","","")
	Wait(65)

	ClosePrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示


	LookReset("DANA")

	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	CrossFade(FADE_FAST)

	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SMILE_CLOSE,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_SMILE,1)

	MoveCameraAt( 0 , -1.110f , -1479.707f , 25.962f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.947f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.459f , 0 )	// 基本仰角
	RotateCamera( 0 , 195.453f , 0 )				// 角度
	ChangeCameraPers( 0 , 33.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -2.1f , 0 )				// ロール回転

	WaitAnimation2( "DANA" , -1, 1, "ANI_EV_WAIT2_E",  0)
	ChangeAnimation( "DANA" , "ANI_EV_NAMIDA", -1 , 1 )

	//　　必要以上に驚くダーナ。
	//　　ダーナにアセアセエモーションを表示した後、
	//　　なぜか涙を拭うような仕草。

	WaitAnimation2( "DANA" , -1, 1, "ANI_EV_NAMIDA",  0)

	TurnToChr("DANA" , "ADOL" , 7.0f )
	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
	Wait(10)

	ChangeAnimation( "DANA" , "ANI_EV_HOHOKAKI", -1 , 1 )
	TalkMes("DANA","#3255V#062e#080mや、やだなあ、いつからそこに？","","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示

	Wait(20)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"気持ちのいい夜だね")
	MenuAdd(2,"寝たんじゃなかったのかい？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//	⇒気持ちのいい夜だね
	if (FLAG[TF_MENU_SELECT] == 1) {
		PlayVoice(Y8V_0161,"ADOL",100)	//はは（微笑）
	}
	//	⇒寝たんじゃなかったのかい？
	if (FLAG[TF_MENU_SELECT] == 2) {
		PlayVoice(Y8V_0190,"ADOL",100)	//どうした？（相手を気遣う、フラット～優しめのテンション）
	}
	ChangeAnimation( "ADOL" , "ANI_EV_WAIT2_S", -1 , 1 )
	HeadYes("ADOL" , 1 , 25 )

	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_WAIT2_S",  0)
	Wait(20)

	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , -1.571f , -1479.133f , 26.210f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.166f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -10.075f , 0 )	// 基本仰角
	RotateCamera( 0 , 198.952f , 0 )				// 角度
	ChangeCameraPers( 0 , 33.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 3.2f , 0 )				// ロール回転

	//位置直し
	SetChrPos("ADOL",-1.50f,-1476.54f,24.57f)
	Turn("ADOL",10.65f,360.0f)

	Wait(FADE_CROSS)

	Wait(5)
	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
	Wait(10)

	ChangeAnimation( "DANA" , "ANI_EV_WAIT2_S", -1 , 1 )
	Look("DANA" , -15 , - 7)

	StopBGM(120)

	//─────────────────────────
	//	⇒気持ちのいい夜だね
	if (FLAG[TF_MENU_SELECT] == 1) {

		TalkMes("DANA","#3256V#020l#080mうん、本当に……","","")
		WaitPrompt()
		WaitCloseWindow()
		ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
	}
	//	⇒寝たんじゃなかったのかい？
	if (FLAG[TF_MENU_SELECT] == 2) {
		TalkMes("DANA","#3257V#020l#080mうん……このまま寝ようとしても",
			"何だか眠れない気がして……","")
		WaitPrompt()
		WaitCloseWindow()
		ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
	}
	//─────────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,-1.804f , -1479.181f , 26.235f, 160 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.844f , 160 )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , -8.268f, 160 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 188.813f ,  160 )		// 角度
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,0.0f, 160 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

	//MoveCameraAt( 0 , -1.804f , -1479.181f , 26.235f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.844f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -8.268f , 0 )	// 基本仰角
	//RotateCamera( 0 , 188.813f , 0 )				// 角度
	//ChangeCameraPers( 0 , 33.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 3.2f , 0 )				// ロール回転

	Wait(20)

	//　　ダーナに「…」エモーション
	EmotionEx("DANA", 0.01f,EMO_3DOT,0,4,1,1,0.60f)	// …

	Wait(65)

	PlayBGM(BGM_EVENT_016, 0)
	FadeBGM(70,10)
	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
	Wait(10)

	LookReset("DANA")
	ChangeAnimation( "DANA" , "ANI_EV_WAIT2_E", -1 , 1 )
	TalkMes("DANA","#3258V#000l#092e#080mその……おめでとう。","","")
	WaitPrompt()


	ChangeAnimation( "ADOL" , "ANI_EV_WAIT2_E", -1 , 1 )

	WaitAnimation2( "DANA" , -1, 1, "ANI_EV_WAIT2_E",  0)
	ChangeAnimation( "DANA" , "ANI_EV_TEMUNE_S", -1 , 1 )
	TalkMes("DANA","#3259V#020e#080mよかったね。",
		"島を出られることになって。","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示

	Wait(10)

	CrossFade(FADE_CROSS)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)

	MoveCameraAt( 0 , -1.973f , -1476.757f , 26.061f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.183f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.977f , 0 )	// 基本仰角
	RotateCamera( 0 , 4.664f , 0 )				// 角度
	ChangeCameraPers( 0 , 28.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.1f , 0 )				// ロール回転

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,-1.768f , -1476.740f , 26.061f , 130 )		// 注視点
//	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE ,5.493f, 130 )		// 基本距離
//	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , -3.150f , 110 )		// 基本仰角
//	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 168.480f ,  110 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,0.0f, 150 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角
	
	//MoveCameraAt( 0 , -1.768f , -1476.740f , 26.061f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.183f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -1.977f , 0 )	// 基本仰角
	//RotateCamera( 0 , 4.664f , 0 )				// 角度
	//ChangeCameraPers( 0 , 28.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 1.1f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	Wait(10)

	//　　アドルに「…」エモーション表示。
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	EmotionEx("ADOL", 0.02f,24,27,4,1,1,1.0f)	// …
	Wait(75)

	PlayVoice(Y8V_0186,"ADOL",100)	//聞いてくれ──（相手に声をかける）
	ChangeAnimation( "ADOL" , "ANI_EV_TEBURI", -1 , 1 )

	Wait(45)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"僕たちと一緒に来ないか？")
	MenuAdd(2,"記憶を取り戻すのを手伝うよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	WaitMenu(0)
	MenuClose(10,0)


	if (FLAG[TF_MENU_SELECT] == 2) {
		SetFlag(GF_05MP1201_REGAIN_MEMORY,1)	//記憶を取り戻すのを手伝うよ と返事する
	}

	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景
	Wait(10)

	ChangeAnimation( "DANA" , "ANI_EV_TEMUNE_E", -1 , 1 )
	TalkMes("DANA","#3260V#000e#000mえ…………","","")
	WaitPrompt()

	LookSpd("DANA" , 0.08 , 0.08 , 0.08 )
	Look("DANA" , 0 , -15 )
	TalkMes("DANA","#3261V#011e#000m………………………………","","")
	WaitPrompt()

	Wait(10)

	CrossFade(FADE_CROSS)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)

	MoveCameraAt( 0 , -1.801f , -1477.417f , 26.086f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.623f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.781f , 0 )	// 基本仰角
	RotateCamera( 0 , 129.247f , 0 )				// 角度
	ChangeCameraPers( 0 , 33.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -2.5f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	LookSpd("DANA" , 0.10 , 0.10 , 0.10 )
	LookReset("DANA")

	//─────────────────────────
	//	⇒僕たちと一緒に来ないか？
	if (FLAG[TF_MENU_SELECT] == 1) {

		TalkMes("DANA","#3262V#062e#080m……ありがとう、アドルさん。","","")
		WaitPrompt()
		ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)

	}

	//	⇒記憶を取り戻すのを手伝うよ
	if (FLAG[TF_MENU_SELECT] == 2) {

		TalkMes("DANA","#3270V#062e#080mありがとう、アドルさん。","","")
		WaitPrompt()
		TalkMes("DANA","#5861V#061e#080mでも……","","")
		WaitPrompt()
	}
	//─────────────────────────

	Turn("DANA",7.87f,7.0f)

	Wait(10)

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,-1.739f , -1478.146f , 26.012f , 500 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.803f , 500 )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , -6.695f , 500 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 15.001f ,  500 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,0.0f, 150 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

	//MoveCameraAt( 0 , -1.739f , -1478.146f , 26.012f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 1.803f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -6.695f , 0 )	// 基本仰角
	//RotateCamera( 0 , 15.001f , 0 )				// 角度
	//ChangeCameraPers( 0 , 33.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -2.5f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	//─────────────────────────
	//	⇒僕たちと一緒に来ないか？
	if (FLAG[TF_MENU_SELECT] == 1) {

		HeadNo("DANA" , 1 , 30 )
		TalkMes("DANA","#3263V#080mでも、みんなと島を出たとしても、",
			"その後どうしたらいいか……","")
		WaitPrompt()

		Look("DANA" , -15 , -10 )
		ChangeAnimation( "DANA" , "ANI_EV_WAIT2_S", -1 , 1 )
		TalkMes("DANA","#3264V#020l#062e#000m私は…………","","")
		WaitPrompt()

		Wait(20)

		TalkMes("DANA","#3265V#061e#000mなぜ私はこの時代に",
			"こうして生きているのか……","")
		WaitPrompt()
		TalkMes("DANA","#3266V#000l#000mその後、エタニア王国は",
			"どうなっちゃったのか……","")
		WaitPrompt()

		LookSpd("DANA" , 0.07 , 0.07 , 0.07 )
		LookReset("DANA")
		ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SAD_CLOSE_E,1)

		Wait(45)

		HeadNo("DANA", 1 , 35 )
		TalkMes("DANA","#3267V#011e#000mそれを知らないまま、",
			"ここを去るわけにはいかないよ。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒記憶を取り戻すのを手伝うよ
	if (FLAG[TF_MENU_SELECT] == 2) {
		HeadNo("DANA" , 1 , 30 )
		TalkMes("DANA","#3271V#080mみんなのためにもアドルさんは",
			"島を出ることに集中してほしいな。","")
		WaitPrompt()

		Look("DANA" , -10 , -5 )
		ChangeAnimation( "DANA" , "ANI_EV_WAIT2_S", -1 , 1 )
		TalkMes("DANA","#3272V#020l#062e#000m確かに記憶は取り戻したいよ。","","")
		WaitPrompt()
		TalkMes("DANA","#3273V#061e#000mなぜ私はこの時代に",
			"こうして生きているのか……","")
		WaitPrompt()
		TalkMes("DANA","#3274V#000mその後、エタニア王国は",
			"どうなっちゃったのか……","")
		WaitPrompt()

		TalkMes("DANA","#3275V#000l#062e#000mだけど……………………","","")
		WaitPrompt()
		WaitCloseWindow()
		ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
	}
	//─────────────────────────

	ChangeAnimation( "DANA" , "ANI_EV_WAIT2_E", -1 , 1 )
	WaitAnimation2( "DANA" , -1, 1, "ANI_EV_WAIT2_E",  0)

	TurnToChr("DANA","ADOL" , 10.0f)
	LookReset("DANA")
	ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)

	TalkMes("DANA","#3276V#050e#080mごめんね、色々と",
		"気を遣わせちゃって────","")
	WaitPrompt()

	//	男の声
	TalkMes(UNDEF,"#1894Vガハハ、お二人さん。",
		"こんなトコで何やってんだぁ？","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示



	//　　アドルとダーナにＰＡエモーション。
	EmotionEx("DANA", -0.03f,2,5,5,1,1,1.0f)	// ！
	EmotionEx("ADOL",  -0.0f,2,5,5,1,1,1.0f)	// ！

	LookChr("DANA" , "SAHAD" )
	Look("ADOL" , -15 , 0  )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SUP_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKL_S,1)


	Wait(60)

	FadeOut(FADE_BLACK,FADE_FAST)
	WaitFade()

	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M05S310_ED")
}

function "EV_M05S310_ED"
{
	SetSkipScript("")
	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_DANA")
	CallFunc("system:reset_chrmot_SAHAD")

	//パーティキャラを解放
	//ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	SetFlag(SF_CHARANORECVSHADOW,0)	//キャラ影受ける

	SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		PlayBGM(BGM_EVENT_016, 0)
		FadeBGM(70,0)

		EventCue("mp1201:EV_M05S311")

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

function "EV_M05S311"		//高台でダーナと話す２
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景非表示

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	ClearDebris()
	ResetMotion( "ALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")
	CallFunc("system:party_remove")

	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

//	StopBGM(30)
	PlayBGM(BGM_EVENT_016, 0)
	FadeBGM(70,0)

	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",-1.50f,-1476.54f,24.57f)
	Turn("ADOL",10.65f,360.0f)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SUP,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	LookReset("ADOL" )

	SetChrInfoFlag( "DANA" , INFOFLAG_NOCHRATARI )
	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA",-2.02f,-1478.08f,24.61f)
	TurnToChr("DANA","ADOL" , 360.0f)
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SUP,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "DANA" , "ANI_WAIT", -1 , 1 )
	LookChr("DANA" , "SAHAD")

	ResetChrInfoFlag( "SAHAD" , INFOFLAG_INVISIBLE )
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",1.16f,-1463.55f,23.86f)
	Turn("SAHAD",17.34f,360.0f)
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_LAUGH,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT2,ANI_C_RED,1)
	ChangeAnimation( "SAHAD" , "ANI_EV_TIDORI_WALK", -1 , 1 )

	MoveCameraAt( 0 , 0.845f , -1461.996f , 24.945f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.183f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -6.314f , 0 )	// 基本仰角
	RotateCamera( 0 , 173.139f , 0 )				// 角度
	ChangeCameraPers( 0 , 28.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.1f , 0 )				// ロール回転

	SetFlag(SF_CHARANORECVSHADOW,1)	//キャラ影受けない

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 150.000 ,2.000 ,0.700 ,0.50)
	// グレアの設定
	//SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.000, 0.800 ,0.500 ,0.600 ,1.000 ,1.000 ,0.400)


	SetSkipScript("mp1201:EV_M05S311_ED")

//開始処理ここまで-----------------------------------------------

	//　　（可能なら）酔ってフラフラと
	//　　千鳥足でフレームインしてくるサハド。

	ChangeAnimation( "SAHAD" , "ANI_EV_TIDORI_MOVE_WALK", -1 , 1 )
	SetMotSpd("SAHAD" , -1 , 1.00)
	
//	SetMotSpd("SAHAD" , -1 , 1.25)
//	ExecuteCmd( 3, MoveToEx, "SAHAD" ,-0.78f,-1471.54f,24.48f , 0.1f , 0.13f , 0 , 0 )
	
	//SetChrPos("SAHAD",-0.78f,-1471.54f,24.48f)
	//Turn("SAHAD",8.58f,360.0f)

	
	//千鳥足モーションの速度調整に合わせて、カメラのアニメも調整しました(160415/大草)
	
	
//	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,-3.059f , -1464.080f , 24.945f , 200 )		// 注視点
	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,-0.845f , -1461.996f , 24.945f , 200 )		// 注視点
//	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE ,3.183f, 200 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE ,2.753f, 200 )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.006f , 200 )		// 基本仰角
//	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 191.436f ,  200 )		// 角度
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 182.436f ,  200 )		// 角度
	
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,0.0f, 150 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

	//MoveCameraAt( 0 , -3.059f , -1464.080f , 24.945f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.183f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -2.006f , 0 )	// 基本仰角
	//RotateCamera( 0 , 191.436f , 0 )				// 角度
	//ChangeCameraPers( 0 , 28.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 1.1f , 0 )				// ロール回転

	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

	Turn("ADOL",-171.62f,7.0f)
	LookChr("ADOL" , "SAHAD" )
	
	Wait(30)

	ChangeAnimation( "ADOL" , "ANI_EV_WAIT2_S", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_KOMA_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	
	Wait(80)

	CrossFade(FADE_CROSS)
	StopThread(3)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)

	DestroyObj( -0.560f , -1474.917f , 24.673f ,2.0f, 0, 0, 0 )
	DestroyObj( -0.86f,-1473.66f,24.52f ,1.3f, 0, 0, 0 )

	SetMotSpd("SAHAD" , -1 , 1.0)

	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SAD,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_SMILE,1)

	SetChrPos("DANA",-3.15f,-1477.72f,24.65f)
	Turn("DANA",-152.22f,360.0f)

	SetChrPos("SAHAD",-0.86f,-1473.66f,24.52f)
	Turn("SAHAD",19.94f,360.0f)

	ChangeAnimation( "SAHAD" , "ANI_EV_SIT_G2_S", -1 , 1 )

//	MoveCameraAt( 0 , -0.947f , -1473.252f , 25.218f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.014f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -4.250f , 0 )	// 基本仰角
//	RotateCamera( 0 , 13.741f , 0 )				// 角度
//	ChangeCameraPers( 0 , 25.700f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , -4.6f , 0 )				// ロール回転
	MoveCameraAt( 0 , -0.947f , -1473.252f , 25.368f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.996f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.248f , 0 )	// 基本仰角
	RotateCamera( 0 , 13.733f , 0 )				// 角度
	ChangeCameraPers( 0 , 25.700f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -4.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


//	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_COS ,-0.947f , -1473.252f , 25.368f , 80  )		// 注視点
//	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_COS ,3.996f , 80  )		// 基本距離
//	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_COS , -4.248f , 80  )		// 基本仰角
//	ExecuteCmd(1004, RotateCamera, INTERPOLATE_COS , 13.733f ,  80  )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_COS ,5.7f　, 110  )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_COS ,39.000f, 140 )		// 視野角

	//MoveCameraAt( 0 , -0.947f , -1473.252f , 25.268f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.516f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -4.248f , 0 )	// 基本仰角
	//RotateCamera( 0 , 13.733f , 0 )				// 角度
	//ChangeCameraPers( 0 , 25.700f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -4.6f , 0 )				// ロール回転

	Wait(10)
	PlaySE(SE_M05S311_01, 60, 0, 0, 0, 1.0f, 0)

	WaitAnimation2("SAHAD", -1, 1, "ANI_EV_SIT_G2_S", 0)

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#080mあらよっと。"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2( "SAHAD" , -1, 1, "ANI_EV_SIT_G2_S",  0)

	//　　そのまま地面にどかっと座り込むサハド。


	LookSpd("SAHAD" , 0.03 , 0.03 , 0.03 )
	Look("SAHAD" , 0 , 20 )
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#1W#080mうい～"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,-1.036f , -1473.299f , 25.524f  , 55  )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE ,2.886f, 55  )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.535f , 55  )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 29.482f ,  55  )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,5.7f　, 55  )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 55 )		// 視野角

	//MoveCameraAt( 0 , -1.001f , -1473.279f , 25.384f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.886f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -4.246f , 0 )	// 基本仰角
	//RotateCamera( 0 , 26.330f , 0 )				// 角度
	//ChangeCameraPers( 0 , 25.700f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -4.6f , 0 )				// ロール回転

	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	ChangeAnimation( "SAHAD" , "ANI_EV_SG_HIKKU", -1 , 1 )

	// サハド
	TalkPopup("SAHAD", 0, 0, 0, 0, 0) {
		"#20S#080m#10Wひ#0Wっく……！"
	}
		Wait(5)
//		EarthQuake( 0.1 , 0.3 , 15 )
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_FAST)
	LookSpd("SAHAD" , 0.08 , 0.08 , 0.08 )
	LookReset("SAHAD")
	ExecuteFunc(16, "mp1201:EV_M05S310_dana_sit" )

	MoveCameraAt( 0 , -1.824f , -1475.673f , 25.541f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.383f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.151f , 0 )	// 基本仰角
	RotateCamera( 0 , 179.549f , 0 )				// 角度
	ChangeCameraPers( 0 , 22.700f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.8f , 0 )				// ロール回転

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,-1.557f , -1475.690f , 25.541f , 90 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE ,4.975f, 90 )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , -3.150f , 90 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 174.096f ,  90 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,0.0f, 150 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

	//MoveCameraAt( 0 , -1.557f , -1475.690f , 25.541f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 4.975f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -3.150f , 0 )	// 基本仰角
	//RotateCamera( 0 , 174.096f , 0 )				// 角度
	//ChangeCameraPers( 0 , 22.700f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 1.8f , 0 )				// ロール回転

	Wait(20)

	WaitThread(16)

	// カメラ待ち
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#080mあはは、サハドさん飲み過ぎだよ。"
		"飲みすぎ2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitThread(16)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD_CLOSE_E,1)

	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

//	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,-1.557f , -1475.690f , 25.541f , 110 )		// 注視点
//	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE ,5.493f, 110 )		// 基本距離
//	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , -3.150f , 110 )		// 基本仰角
//	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 168.480f ,  110 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,0.0f, 150 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

	//MoveCameraAt( 0 , -1.557f , -1475.690f , 25.541f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 5.493f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -3.151f , 0 )	// 基本仰角
	//RotateCamera( 0 , 168.480f , 0 )				// 角度
	//ChangeCameraPers( 0 , 22.700f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 1.8f , 0 )				// ロール回転

	ChangeAnimation( "SAHAD" , "ANI_EV_SG_UDEGUMI_S", -1 , 1 )

	// サハド
	TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
		"#020e#080mガハハハハ！"
		"今日は特に良い日だったからなあ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("DANA" , 1 , 27 )

	// ダーナ
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#061e#080mう、うん、そうだね……"
	}
	WaitPrompt()
	WaitCloseWindow()

//	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SAD_CLOSE_E,1)
//	ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKL_S,1)
	Wait(10)

	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	CrossFade(FADE_NORMAL)
//	PlaySE(SE_ENV_BEACH ,40 ,  15, 20, 1.0f, 10)	//波音
	Look("SAHAD" , 0 , 30)

	DestroyObj( -0.837f , -1473.467f , 24.623f , 2.5f , 0, 0, 0 )

	MoveCameraAt( 0 , -0.762f , -1473.560f , 25.665f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.043f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -12.491f , 0 )	// 基本仰角
	RotateCamera( 0 , 291.876f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.600f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -4.6f , 0 )				// ロール回転

	Wait(FADE_NORMAL)
	Wait(10)

	//　　サハドにＰＡエモーション表示。
	EmotionEx("SAHAD",0.08f,38,38,10,1, 1, 1.2f)	//パッ
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,-0.855f , -1473.793f , 25.491f , 100 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.674f, 100 )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , -5.942f, 100 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 292.099f ,  100 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,0.0f, 60 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 60 )		// 視野角

	//MoveCameraAt( 0 , -0.855f , -1473.793f , 25.491f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.674f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -5.942f , 0 )	// 基本仰角
	//RotateCamera( 0 , 292.099f , 0 )				// 角度
	//ChangeCameraPers( 0 , 40.600f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -4.6f , 0 )				// ロール回転

	Wait(60)
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#091e#080mお？　いい風じゃねーかあ。"
		"まるでクレテ島の島風みてーだぜ"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SAD_CLOSE_E,1)

	Wait(10)

	ChangeAnimation( "SAHAD" , "ANI_EV_SG_UDEGUMI_E", -1 , 1 )
	WaitAnimation2( "SAHAD" , -1, 1, "ANI_EV_SG_UDEGUMI_E",  0)

	SetMotSpd("SAHAD" , -1 , 0.9)
	ChangeAnimation( "SAHAD" , "ANI_EV_DAINOJI_S", -1 , 1 )
	LookReset("SAHAD")
	LookChr("DANA" ,"SAHAD")

	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

//	Blur( BLUR_TYPE_AFTERIMAGE ,0.4f , 15 )
	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , -1.613f , -1473.146f , 25.466f, 45 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.193f , 45 )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , 38.370f , 45 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 227.447f ,  45 )		// 角度
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,10.0f, 45 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 60 )		// 視野角

	//MoveCameraAt( 0 , -1.613f , -1473.146f , 25.466f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.193f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 38.370f , 0 )	// 基本仰角
	//RotateCamera( 0 , 227.447f , 0 )				// 角度
	//ChangeCameraPers( 0 , 39.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 10.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(15)
	PlaySE(SE_M05S311_01, 50, 0, 50, 0, 1.0f, 0)
	PlaySE(SE_M05S311_02, 100, 0, 0, 0, 1.0f, 0)

	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	WaitAnimation2( "SAHAD" , -1, 1, "ANI_EV_DAINOJI_S",  0)

	Wait(20)

	//　　そのまま仰向けに倒れ込むサハド。

	// サハド
	TalkPopup("SAHAD", 0, 3, 150, 110, 0) {
		"#092e#080m……ダミア……テティ……待ってろよ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	Wait(20)

	CrossFade(FADE_NORMAL)
	MapHide("ground_EV" , 1 )

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD_CLOSE,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)

	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SAD_CLOSE,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)

	MoveCameraAt( 0 , -0.587f , -1472.890f , 24.697f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.235f  , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 49.202f , 0 )	// 基本仰角
	RotateCamera( 0 , 201.954f , 0 )				// 角度
	ChangeCameraPers( 0 , 33.700f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -14.9f , 0 )				// ロール回転

	//ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,-0.659f , -1474.077f , 25.268f  , 110  )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE ,1.145f , 80  )		// 基本距離
	//ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE ,  42.906f  , 110  )		// 基本仰角
	//ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 30.660f ,  110  )		// 角度
	//ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,5.7f　, 110  )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

	//MoveCameraAt( 0 , -0.665f , -1472.964f , 24.697f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 1.145f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 49.131f , 0 )	// 基本仰角
	//RotateCamera( 0 , 212.924f , 0 )				// 角度
	//ChangeCameraPers( 0 , 33.700f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -15.6f , 0 )				// ロール回転

	Wait(FADE_NORMAL)

	// サハド
	TalkPopup("SAHAD", 0, 2, 150, 70, 0) {
		"#091e#2W#080m父ちゃん……"
	}
	WaitPrompt()
	WaitCloseWindow()

	SetMotSpd("SAHAD" , SUBMOT_EYE , 0.1 )
	SetMotSpd("SAHAD" , SUBMOT_MOUTH , 0.4 )

	// サハド
	TalkPopup("SAHAD", 0, 2, 130, 70, 0) {
		"#3W……もうすぐ……#5W帰るからな#7W……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	SetMotSpd("SAHAD" , SUBMOT_MOUTH , 0.2 )

	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE_E,1)
	Wait(30)
//	WaitAnimation2( "SAHAD" , -1, 1, "ANI_M_SMILE_E",  0)
	SetMotSpd("SAHAD" , -1 , 0.4)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_OPEN_S,1)

	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	Wait(40)


	PlayVoice(SVO_SHD_UNI_1,UNDEF,40)	//イビキ

	Wait(15)
	Wait(40)

	ClosePrompt()
	WaitCloseWindow()


	CrossFade(FADE_CROSS)
	SetMotSpd("SAHAD" , SUBMOT_EYE , 1.0 )
	SetMotSpd("SAHAD" , SUBMOT_MOUTH , 1.0 )


	MoveCameraAt( 0 , -1.566f , -1475.099f , 25.367f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.755f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -7.618f , 0 )	// 基本仰角
	RotateCamera( 0 , 141.812f , 0 )				// 角度
	ChangeCameraPers( 0 , 26.700f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.4f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	Wait(10)

	//　　そのままイビキをかき始めるサハド。
	//　　アドル、ダーナに冷や汗エモーション。

	EmotionEx("DANA", 0.00f,16,19,5,1,1,1.1f)	// 冷や汗
	EmotionEx("ADOL", -0.03f,16,19,5,1,1,1.3f)	// 冷や汗

	Wait(50)

	//ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,-0.659f , -1474.077f , 25.268f  , 110  )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE ,4.174f , 160  )		// 基本距離
	//ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE ,  42.906f  , 110  )		// 基本仰角
	//ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 30.660f ,  110  )		// 角度
	//ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,5.7f　, 110  )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 140 )		// 視野角

	//MoveCameraAt( 0 , -1.566f , -1475.099f , 25.367f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 4.174f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -7.620f , 0 )	// 基本仰角
	//RotateCamera( 0 , 141.801f , 0 )				// 角度
	//ChangeCameraPers( 0 , 26.700f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -1.4f , 0 )				// ロール回転

	Look("DANA" , 30 , 12 )

	// ダーナ
	TalkPopup("DANA", 0, 0, 0, 0, 0) {
		"#010l#062e#080mね、寝ちゃったね……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookSpd("ADOL" , 0.09 , 0.09 , 0.09 )
	Look("ADOL" , -20 , -10)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD_CLOSE_E,1)
	Wait(30)
	
	// ダーナ
	TalkPopup("DANA", 0, 0, 0, 0, 0) {
		"#091e#080m放っておくわけにもいかないし、"
		"休息所まで送って行こうか？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)

	Wait(10)

	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD_CLOSE_E,1)
		
	//　　アドルに頷きエモーション表示。
	//　　画面フェードアウトして、
	//　　暗転のまま以下のメッセージを表示する。

	Wait(30)
	StopBGM(120)

	Wait(30)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Wait(10)

	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0) {
		"#7Cその後、結局アドルは"
		"#7Cダーナと話をする機会を得られず……\p"
		"#7Cオケアノス討伐戦で心身ともに"
		"#7C疲れ果てていたこともあって、"
		"#7Cいつの間にか眠りに落ちてしまった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)


//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M05S311_ED")
}

function "EV_M05S311_ED"
{
	SetSkipScript("")
	RestoreEventState()

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_DANA")
	CallFunc("system:reset_chrmot_SAHAD")

	DestroyObj( -0.837f , -1473.467f , 24.623f , 3.0f , 0, 0, 1 )
	
	//パーティキャラを解放
	//ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam( -1 )

	SetFlag(SF_CHARANORECVSHADOW,0)	//キャラ影受ける

	SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット

	StopBGM(60)

	SetFlag(SF_NOCHANGEBGM, 1)
	SetFlag( GF_GALL_EV_05_08, 1 )		// M05S310:高台でダーナと話す

	LoadArg("map/mp6409m/mp6409m.arg")
	EventCue("mp6409m:EV_M05S320")

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	ResetStopFlag(STOPFLAG_EVENT)

//終了処理ここまで----------------------------------------------------
}

function "EV_M05S310_dana_sit"
{
	ExecuteCmd( 6, MoveToEx, "DANA" ,-2.00f,-1474.69f,24.55f , 0.1f , 0.22f , 1 , 0 )
	//SetChrPos("DANA",-2.00f,-1474.69f,24.55f)
	//Turn("DANA",-134.96f,360.0f)

	WaitThread(6)
	Turn("DANA",-134.96f,15.0f)
	ChangeAnimation( "DANA" , "ANI_EV_SHAGAMI_S", -1 , 1 )
	Look("DANA" , 0 , 12 )

}


//──────────────────────────────
//▼ダーナが姿を消す
//──────────────────────────────
function "EV_M05S350"			//ダーナが姿を消す
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENTIMPOSE)	// 字幕付きイベント用のキャラ停止
	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	FadeOut(FADE_BLACK, 0)
	WaitFade()

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrPos("ADOL", -14.34f, -1358.30f, 11.61f)
	Turn("ADOL", -115.67f, 360.0f)
	ChangeAnimation("ADOL","ANI_EV_SLEEP_HM_L", -1 , 1 )	
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_CLOSE, 1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", -11.13f, -1365.66f, 11.57f)
	Turn("RICOTTA", 161.72f, 360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOATARI)	// アタリ無視

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", -10.94f, -1362.46f, 11.57f)
	Turn("SAHAD", 142.86f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)
	SetChrInfoFlag("SAHAD", INFOFLAG_NOATARI)	// アタリ無視

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", -11.97f, -1365.34f, 11.57f)
	Turn("LAXIA", 164.18f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)
	SetChrInfoFlag("LAXIA", INFOFLAG_NOATARI)	// アタリ無視

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", -9.52f, -1362.09f, 11.57f)
	Turn("HUMMEL", 128.65f, 360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOATARI)	// アタリ無視

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )
	StopBGM(15)

	//カメラ設定
	MoveCameraAt( 0 , -13.120f , -1358.957f , 13.377f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.144f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.742f , 0 )	// 基本仰角
	RotateCamera( 0 , 95.596f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 40.000, 0.000, 0.450, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M05S350_ED")

	//開始処理ここまで-----------------------------------------------

	PlaySE(SE_WHITEOUT, 100, 0, 0, 0, 1.0f, 0)
	Wait(70)

	//　　画面ブラックアウトのまま小鳥の囀りが聞こえてくる。

	SetEnvSEPlayState(1202001, 1)	//環境SE
	SetEnvSEPlayState(1202201, 1)
	SetEnvSEPlayState(1202202, 1)
	SetEnvSEPlayState(1202203, 1)
	SoundEfx( SEFX_EV_CAVE_S, 15 )

	PlaySE("SE_SUZUME", 100, 0,  0, 0, 1.0f, 0)		//◆鳥のさえずり
	Wait(30)

	// カット1 ----------------------------------------------------------------------------------------

	//　　ハンモックで半身を起こして目を覚ますアドル。

	// 非表示・再表示
	SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)	// 非表示

	// 位置調整・表情・モーション
	LookChr("SAHAD", "ADOL")
	LookChr("HUMMEL", "ADOL")
	LookChr("LAXIA", "ADOL")
	LookChr("RICOTTA", "ADOL")

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -14.202f , -1358.196f , 13.033f , 120 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.820f , 120 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -8.755f , 120 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 152.499f , 120)		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 120 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -13.5f , 120 )		// ロール回転

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	Wait(5)
	
	ChangeAnimation("ADOL", "ANI_EV_WAKEUP_HM_S", -1, 1)	// 起きる
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_CLOSE_E, 1)	// 目
	PlaySE(SE_M05S350_01, 60, 0, 0, 0, 1.0f, 0)

	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	
	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち

	// 野太い声（サハド）
	TalkMes(UNDEF, "#1896Vおい、アドル！！", "", "")
	WaitPrompt()
	WaitCloseWindow()
	
	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	//　　サハドとヒュンメルが
	//　　寝ていたアドルの傍らに駆けつけてくる。
	
	EmotionEx("ADOL", 0.1f, EMO_PA, 0, 5, 1, 1, 0.8f )	// 「PA」
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD_E,1)
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -13.890f , -1358.481f , 13.053f , 70 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.604f , 70 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -10.654f , 70 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 206.723f , 70 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 70 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -13.8f , 70 )		// ロール回転
	
	// 移動
	ExecuteCmd(1, MoveToEx, "SAHAD", -13.37f, -1359.58f, 11.56f, 0.1f, 0.30f, 0, 1)
	ChangeAnimation( "SAHAD", "ANI_RUN", -1, 1 )	// 走り
	Wait(5)
	ExecuteCmd(2, MoveToEx, "HUMMEL", -12.09f, -1359.87f, 11.56f, 0.1f, 0.30f, 0, 1)
	ChangeAnimation( "HUMMEL", "ANI_RUN", -1, 1 )	// 走り
	
	Wait(10)
	Look("ADOL", 60.0f, 15.0f)	// ←（＾＾）
	
	// 移動待ち
	WaitThread(1)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	WaitThread(2)
	ChangeAnimation( "HUMMEL", "ANI_WAIT", -1, 1 )	// 待機

	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち
	
	// サハド
	TalkMes("SAHAD", "#1897V#071e#000mみ、見たか？", "", "")
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// サハド
	TalkMes("SAHAD", "#1898V#061e#000mい、い、今のはダーナの──", "", "")
	WaitPrompt()
	WaitCloseWindow()
	
	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	//　　アドルに「！」エモーション表示。
	EmotionEx("ADOL", 0.025f, EMO_EX, 0, 5, 1, 1, 0.5f )	// 「！」
	Wait(40)
	
	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "二人にも見えたのか？")
	MenuAdd(2, "しかもそれだけじゃない……")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)
	
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		PlayVoice(Y8V_0182,"ADOL",100)	//まさか…（疑問／真剣）
		Wait(45)
	}
	//	⇒しかもそれだけじゃない……
	if (FLAG[TF_MENU_SELECT] == 2 ) {
		PlayVoice(Y8V_0164,"ADOL",100)	//ああ…（相槌）
		Wait(45)
	}
	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ
	MoveCameraAt( 0 , -13.311f , -1359.127f , 13.233f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.149f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.630f , 0 )	// 基本仰角
	RotateCamera( 0 , 206.523f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 5.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（水平）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -13.185f , -1359.065f , 13.233f, 300 )

	// フェード待ち
	Wait(FADE_FAST)

	//─────────────────────────
	//	⇒二人にも見えたのか？
	if (FLAG[TF_MENU_SELECT] == 1 ) {
		
		SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
		Wait(10)
		ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
		
		// サハド
		TalkMes("SAHAD", "#1899V#062e#000mお？　おお、まるで",
			"水晶石の時と同じようにな。", "")
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "HUMMEL", "ANI_EV_SIAN_S", -1, 1 )	// 思案

		// ヒュンメル
		TalkMes("HUMMEL", "#2330V#051e#000mだが、何だって今この場所で……", "", "")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒しかもそれだけじゃない……
	if (FLAG[TF_MENU_SELECT] == 2 ) {
		SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
		Wait(10)
		
		// サハド
		TalkMes("SAHAD", "#1900V#062e#000mおお、大穴が星の落ちた跡だったとは",
		"腰が抜けそうになったぜ……", "")
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

		// サハド
		TalkMes("SAHAD", "#1901V#061e#000mこれで謎が一つ解けたワケだが、",
		"何だって今この場所で……？", "")
		WaitPrompt()
		WaitCloseWindow()

	}
	//─────────────────────────

	// 少女の叫ぶ声（リコッタ）
	TalkMes(UNDEF, "#2762V#18S──アドル兄っ！！", "", "")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	// カット3 ------------------------------------------------------------------------------------------------

	//　　そこへリコッタとラクシャが駆けつけて来る。

	// クロスフェード
	CrossFade(FADE_NORMAL)

	// カメラ停止（水平）
	StopThread(1000)

	// カメラ
	MoveCameraAt( 0 , -14.188f , -1359.549f , 13.233f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.593f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.768f , 0 )	// 基本仰角
	RotateCamera( 0 , 206.835f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -7.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)	// 再表示

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -14.28f, -1358.78f, 11.91f)
	Turn("ADOL", -5.53f, 360.0f)
	LookChr("ADOL", "LAXIA")
	SetChrInfoFlag( "ADOL" , INFOFLAG_FLING )	// 高さ無視
	ChangeAnimation( "ADOL", "ANI_EV_SIT_C", -1, 1 )	// 着席
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "HUMMEL", "ANI_WAIT", -1, 1 )	// 待機
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_SAD, 1)	// 目
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SAD, 1)	// 目

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -13.612f , -1361.241f , 12.793f, 100 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.529f , 100 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -3.972f , 100 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 222.600f , 100 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 30.000f , 100 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,  -25.9f , 100 )		// ロール回転

	// 移動
	ExecuteCmd(1, MoveTo, "LAXIA", -13.81f, -1361.50f, 11.57f, 0.1f, 0.45f)
//	ChangeAnimation( "LAXIA", "ANI_RUN", -1, 1 )	// 走り
	Wait(5)
	ExecuteCmd(2, MoveTo, "RICOTTA", -12.97f, -1361.82f, 11.57f, 0.1f, 0.45f)
//	ChangeAnimation( "RICOTTA", "ANI_RUN", -1, 1 )	// 走り

	// サハドたちラクシャ向く
	LookChr("SAHAD", "LAXIA")
	Turn("SAHAD", 4.29f, 8.0f)
	LookChr("HUMMEL", "LAXIA")
	Turn("HUMMEL", 43.38f, 8.0f)

	// 移動待ち
	WaitThread(1)
	WaitAnimation2( "LAXIA" , -1, 1, "RICOTTA",  0)
	ChangeAnimation( "LAXIA", "ANI_EV_ZEEWAIT_N_S", -1, 1 )	// つかれた待機
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
	WaitThread(2)

	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち
	
	// ラクシャ
	TalkMes("LAXIA", "#1092V#000mダーナさんが……", "", "")
	WaitPrompt()
	WaitCloseWindow()
	
	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了
	Wait(10)
	
	// カット4 -----------------------------------------------------------------------------------------

	PlayBGM(BGM_EVENT_008, 0)

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -14.279f , -1359.041f , 13.253f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.766f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.984f , 0 )	// 基本仰角
	RotateCamera( 0 , 200.804f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -6.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -14.279f , -1359.041f , 13.253f, 180 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.766f , 180 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 6.557f , 180 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 211.977f , 180 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 30.000f , 180 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -7.9f , 180 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_CROSS)
	
	ChangeAnimation( "LAXIA", "ANI_EV_ZEEWAIT_N_E", -1, 1 )	// つかれた待機
	LookChr("LAXIA", "ADOL")
	Wait(15)

	FadeBGM(70,10)

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち
	
	// ラクシャ
	TalkMes("LAXIA", "#1093V#062e#000mダーナさんが姿を消しました！", "", "")
	WaitPrompt()
	WaitCloseWindow()
	
	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	//　　アドルとサハドに「！」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("SAHAD", 0.00f, EMO_EX, 0, 5, 1, 1, 0.9f )	// 「！」
	Wait(55)
	
	//　　画面フェードアウト。

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
		
	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M05S350_ED")
}

function "EV_M05S350_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	ResetChrInfoFlag( "ADOL" , INFOFLAG_FLING )	// 高さ無視

//	Portrait_Close(  -1 )
//	Portrait_Unload( -1 )

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_HUMMEL")
	CallFunc("system:reset_chrmot_RICOTTA")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	//ResetMapParam(-1)

	//NowLoading 時の Tips 表示をカット
	SetFlag(TF_LOADING_TIPS_OFF, 1)

	//CallFunc("system:camera_reset")

	SetFlag(SF_NOCHANGEBGM, 1)

	LoadArg("map/mp1201t3/mp1201t3.arg")
	EventCue("mp1201:EV_M05S360")

	FadeBGM(70,0)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	ResetStopFlag(STOPFLAG_EVENTIMPOSE)	// 字幕付きイベント用のキャラ停止

	//終了処理ここまで----------------------------------------------------
}



//──────────────────────────────
//▼王家の谷へ向かうことにする
//──────────────────────────────
function "EV_M05S360"			//王家の谷へ向かうことにする
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Thanatos")
	LoadChr("Aaron")
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	MapHide(smoke,0)

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 26.32f, -1423.49f, 10.83f)
	Turn("ADOL", -165.63f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", 28.39f, -1423.24f, 10.83f)
	Turn("RICOTTA", 130.86f, 360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 28.77f, -1421.96f, 10.83f)
	Turn("SAHAD", 80.00f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 25.37f, -1422.01f, 10.83f)
	Turn("LAXIA", -88.08f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", 27.25f, -1423.67f, 10.83f)
	Turn("HUMMEL", 171.28f, 360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Thanatos", 28.02f, -1420.56f, 10.83f)
	Turn("Thanatos", 39.82f, 360.0f)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 27.05f, -1420.08f, 10.83f)
	Turn("Aaron", 10.26f, 360.0f)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 25.91f, -1420.62f, 10.83f)
	Turn("Dogi", -39.49f, 360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	//BGM設定
	PlayBGM(BGM_EVENT_008, 0)
	//FadeBGM(70,10)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//ポートレート処理
	Portrait_Load( 1 , "visual/portrait/p_20006.itp" )		// 回想：M05S310 高台でダーナと話すシーン
	Portrait_Create(1 , 0 , 0 , 
					0 , 0 , 3840,2160 , 
					0.0f , 0x00ffffff , 0x00000000 )

	Portrait_Anime( 1 , PR_ANIME_SCALE ,0.5 , 0.5 ,-1,-1 ,0 )

	//カメラ設定
	MoveCameraAt( 0 , 27.582f , -1420.207f , 14.718f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.700f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -17.818f , 0 )	// 基本仰角
	RotateCamera( 0 , 66.455f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000, 1.000, 0.550, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M05S360_ED")

	//開始処理ここまで-----------------------------------------------

	// カット1（暗転） --------------------------------------------------------------------------------

	//　　画面ブラックアウトのままメッセージを表示。

	LookChr("Dogi", "ADOL")
	
	// テキスト(色替え)
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
		"#7Cダーナが漂流村から姿を消した──\p"
		"#7Cアドルたちはドギやエアランと"
		"#7C手分けして村の周辺を捜索したが、"
		"#7C遂に彼女を見つけることはできなかった。\p"
		"#7C漂流村へ一旦引き上げた"
		"#7Cアドルたちは状況を確認しつつ、"
		"#7Cダーナの行方について話し合うのだった。"
	}
	WaitPrompt()
	WaitCloseWindow()

//	// カット2 ------------------------------------------------------------------------------------------
//
//	//　　画面フェードインして焚火周辺に集まったアドルたち。
//	//　　時計回りにアドル、ラクシャ、ドギ、エアラン、タナトス、
//	//　　サハド、リコッタ、ヒュンメルの順。
//
//	PlayBGM(BGM_EVENT_008, 0)
//	SetEnvSEPlayState(-1, 1)	//環境SE復帰
//	FadeBGM(100,30)
//
//	// フェードイン
//	FadeIn(FADE_BLACK, FADE_NORMAL)
//
//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.582f , -1420.207f , 12.734f, 100 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 6.701f , 100 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.116f , 100 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 62.956f , 100 )
//
//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//
//	// カット3 -------------------------------------------------------------------------------------------
//
//	// クロスフェード
//	CrossFade(FADE_NORMAL)
//	

	MoveCameraAt( 0 ,26.757f , -1421.393f , 12.374f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.292f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.035f , 0 )	// 基本仰角
	RotateCamera( 0 , 330.316f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.841f , 75 )

	//MoveCameraAt( 0 , 26.757f , -1421.393f , 12.374f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.841f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -0.035f , 0 )	// 基本仰角
	//RotateCamera( 0 , 330.314f , 0 )				// 角度
	//ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 非表示・再表示
	SetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 非表示

	SetEnvSEPlayState(-1,1)	//環境SE復帰

//	// フェード待ち
//	Wait(FADE_NORMAL)
	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	Wait(30)

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000m記憶の夢か。なるほどなあ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Thanatos", "ANI_EV_SIAN_S", -1, 1 )

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#012e#000mフム、想像以上に"
		"とんでもない話になってきたわい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_TEBURI", -1, 1 )

	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#000e#000m結局エタニアとかいう国は"
		"その星が落ちて滅びたってコトか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Thanatos", "ANI_EV_SIAN_E", -1, 1 )
	LookChr("Thanatos" , "ADOL")

	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "その通りだ")
	MenuAdd(2, "そうとは言い切れない")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)

	if (FLAG[TF_MENU_SELECT] == 1 ) {
		//	⇒その通りだ	
		HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
	}
	if (FLAG[TF_MENU_SELECT] == 2 ) {
		//	⇒そうとは言い切れない
		HeadNo("ADOL", 1, 25)	// キャラ, 回数, 速さ
	}
	
	// （アドル）手振り
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	LookChr("LAXIA", "ADOL")
	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_S", -1, 1 )

	//─────────────────────────
	//	⇒その通りだ	
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// ラクシャ
		TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
			"#000e#000mアドル、それはどうでしょうか。\p"
			"星が落ちた後もダーナさんたちは"
			"生き延びていたようでしたが……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	
	//	⇒そうとは言い切れない
	if (FLAG[TF_MENU_SELECT] == 2 ) {
	
		// ラクシャ
		TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
			"#000e#000mそうですね……\p"
			"#000e#000m星が落ちた後もダーナさんたちは"
			"生き延びていたようでしたし……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	//─────────────────────────

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mそうなると記憶には"
		"まだ続きがあるってコトだな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "Dogi")
	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_E", -1, 1 )
	HeadYes("LAXIA", 1, 25)	// キャラ, うなずき回数, 速さ

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mええ、それと気になったのは"
		"ローブの人物が残した言葉です。\p"
		"巫女も知らない大樹の真実……"
		"一体何のことでしょうか。\p"
		"ダーナさんにとっても"
		"気になる言葉だと思います。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 27.309f , -1422.540f , 12.110f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.101f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.909f , 0 )	// 基本仰角
	RotateCamera( 0 , 268.671f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 非表示・再表示
	ResetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 再表示

	// 位置調整など
	SetChrPos("ADOL", 25.46f, -1423.32f, 10.83f)
	Turn("ADOL", -147.87f, 360.0f)
	SetChrPos("Thanatos", 28.26f, -1420.83f, 10.83f)
	Turn("Thanatos", 57.59f, 360.0f)
	SetChrPos("HUMMEL", 27.25f, -1423.67f, 10.83f)
	Turn("HUMMEL", 160.62f, 360.0f)

	LookReset("LAXIA")
	LookReset("Dogi")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.393f , -1422.836f , 12.358f, 300 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.801f, 300 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.034f , 300 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 260.552f, 300 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	//　　リコッタにＰＡエモーション。
	EmotionEx("RICOTTA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.2f )	// 「PA」
	Wait(30)

	LookChr("RICOTTA", "LAXIA")
	Wait(10)

	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#000e#000mもしかして、ダーナ……"
		"ローブの人物会いに行った？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "RICOTTA")
	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_S", -1, 1 )

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mそれは……昔のことですから"
		"もう会えないとは思いますが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "HUMMEL", "ANI_EV_SIAN_S", -1, 1 )

	// ヒュンメル
	TalkPopup("HUMMEL", 0, 0, 0, 0, 0) {
		"#011e#000m記憶の手がかりくらいはあると"
		"#012e#000m考えたのかもしれんな。\p"
		"確か《王家の谷》だったか……"
		"王家の谷4行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , 26.729f , -1421.030f , 12.160f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.844f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.237f , 0 )	// 基本仰角
	RotateCamera( 0 , 336.693f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 位置調整
	SetChrPos("ADOL", 25.95f, -1423.26f, 10.83f)
	Turn("ADOL", -147.87f, 360.0f)
	SetChrPos("LAXIA", 25.37f, -1422.24f, 10.83f)
	Turn("LAXIA", -88.08f, 360.0f)

	LookChr("ADOL", "Thanatos")
	LookChr("LAXIA", "Thanatos")

	// フェード待ち
	Wait(FADE_CROSS)

	//　　タナトスに「…」エモーション。
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	ChangeAnimation( "Thanatos", "ANI_EV_UDEGUMI_S", -1, 1 )
	EmotionEx("Thanatos", 0.05f, "EMO_3DOT", 27, 5, 1, 1, 1.2f)	// 「…」
	Wait(52)
	PlayVoice(Y8V_3958,"Thanatos",100)	//ふむ…（平常のテンション。あらゆる場面で使用）

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#011e#000mフム…… "
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "Thanatos")
	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000m旦那、どうかしましたかい？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Thanatos", "ANI_EV_UDEGUMI_E", -1, 1 )
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	LookChr("Thanatos", "Dogi")

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#000e#000mいや、何……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Thanatos", "ANI_EV_TEBURI", -1, 1 )
	
	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"故郷が滅び、仲間たちもいない"
		"この時代、この世界に一人残されて……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Thanatos")
	Look("DANA", 0.0f, -10.0f)	// うつむく

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#011e#000mあの娘は一体どんな"
		"気持ちでいるんじゃろうな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_E", -1, 1 )

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mそ、それは……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.729f , -1421.030f , 12.160f, 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,  3.844f, 100 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,4.364f , 100 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 343.273f, 100 )

	//MoveCameraAt( 0 , 26.729f , -1421.030f , 12.160f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.844f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 4.364f , 0 )	// 基本仰角
	//RotateCamera( 0 , 343.273f , 0 )				// 角度
	//ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(50)

	
	// カット5 ------------------------------------------------------------------------------------------
	
	//　　不意に決起会時のダーナとの会話が
	//　　フラッシュバックするアドル。
	
	FadeBGM(30, 30)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//フラッシュバック演出 ----------------------------------- ▼		//穏やかなフラッシュバック
	FadeOut(FADE_WHITE,FADE_FAST)
	WaitFade()

	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	Wait(15)
	FadeIn(FADE_WHITE,FADE_FAST)
	Portrait_Anime(  1 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)

	Wait(75)
		
	// 次カット用の設定
	SetChrPos("ADOL", 25.79f, -1423.16f, 10.83f)
	Turn("ADOL", -137.21f, 360.0f)
	SetChrPos("LAXIA", 25.36f, -1422.39f, 10.83f)
	Turn("LAXIA", -84.53f, 360.0f)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE, 1)	// 目
	Look("ADOL", 0.0f, -15.0f)	// うつむく
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )
	
	//─────────────────────────
	//	⇒選択肢[僕たちと一緒に来ないか？]を選んだ場合
	if (!FLAG[GF_05MP1201_REGAIN_MEMORY]) {	//記憶を取り戻すのを手伝うよ と返事する　　を選んでいない・スキップした場合
	
		// ダーナ
		SetName("ダーナ")
		TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
			"#7C#5862V#000e#000mありがとう、アドルさん。\p"
			"#7C#5863Vでも、みんなと島を出たとしても、"
			"#7Cその後どうしたらいいか……\p"
			"#7C#5864V私は…………\p"
			"#7C#5865Vなぜ私はこの時代に"
			"#7Cこうして生きているのか……\p"
			"#7C#5866Vその後、エタニア王国は"
			"#7Cどうなっちゃったのか……\p"
			"#7C#5867Vそれを知らないまま、"
			"#7Cここを去るわけにはいかないよ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		SetName("")

	} else {
	//	⇒選択肢[記憶を取り戻すのを手伝うよ]を選んだ場合
	
		// ダーナ
		SetName("ダーナ")
		TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
			"#7C#5868V#000e#000mありがとう、アドルさん。"
			"#7Cでも……\p"
			"#7C#5870Vみんなのためにもアドルさんは"
			"#7C島を出ることに集中してほしいな。\p"
			"#7C#5871V確かに記憶は取り戻したいよ。\p"
			"#7C#5872Vなぜ私はこの時代に"
			"#7Cこうして生きているのか……\p"
			"#7C#5873Vその後、エタニア王国は"
			"#7Cどうなっちゃったのか……\p"
			"#7C#5874Vだけど……………………"
		}
		WaitPrompt()
		WaitCloseWindow()
		SetName("")
		
	}

	//─────────────────────────
	
	// カット6 ------------------------------------------------------------------------------------------------

	FadeOut(FADE_WHITE,FADE_FAST)
	WaitFade()

	FadeBGM(100, 60)
	SetEnvSEPlayState(-1, 1)	//環境SE復帰

	// カメラ
	MoveCameraAt( 0 , 25.774f , -1422.879f , 12.578f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.533f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.587f , 0 )	// 基本仰角
	RotateCamera( 0 , 83.789f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 25.774f , -1422.879f , 12.398f, 70 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.333f , 70 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.651f  , 70 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 91.675f , 70 )
	
	Portrait_Close(1)
	Portrait_Unload(1)
	
	// フェード待ち
	FadeIn(FADE_WHITE,FADE_NORMAL)
	WaitFade()
	
	//　　アドルに「…」エモーション表示。
	Wait(10)
	EmotionEx("ADOL", -0.05f, "EMO_3DOT", 27, 5, 1, 1, 0.9f)	// 「…」
	Wait(52)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	LookChr("LAXIA", "ADOL")
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mアドル、どうされました？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	Look("ADOL", 0.0f, 0.0f)
	Wait(10)

	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "いや……何でもない。")
	MenuAdd(2, "ダーナは悩んでいた。")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)

//	LookChr("ADOL", "LAXIA")
//	Wait(20)
	

	//─────────────────────────
	//	⇒いや……何でもない。
	if (FLAG[TF_MENU_SELECT] == 1 ) {
		
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		HeadNo("ADOL", 1, 25)	// キャラ, 回数, 速さ
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)
		
		//　　ラクシャに「…」エモーション表示。
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
		EmotionEx("LAXIA", 0.0f, "EMO_3DOT", 27, 5, 1, 1, 0.9f)	// 「…」
		Wait(32)
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
		Wait(10)
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SAD_S, 1)	// 目
		Wait(10)
		// ラクシャ
		TalkPopup("LAXIA", 0, 0, 0, 0, 0) {
			"アドル、ダーナさんの"
			"問題は何も解決していないのに……\p"
			"#061e#000mそれなのにわたくしたちは"
			"浮かれてしまって……"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	
	//	⇒ダーナは悩んでいた。
	if (FLAG[TF_MENU_SELECT] == 2 ) {
		
		// 手振り
		ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
		HeadYes("ADOL" ,1 , 25 )
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(20)

		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)
				
		// ラクシャ
		TalkPopup("LAXIA", 0, 0, 0, 0, 0) {
			"#000e#000mえ、ええ……"
			"わたくしにも心当たりはあります。\p"
			"#061e#000m彼女の問題は解決していないのに……"
			"わたくしたちは自分のことばかりで……"
		}
		WaitPrompt()
		WaitCloseWindow()

	}

	//─────────────────────────

	// カット7 -----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 26.925f , -1421.342f , 12.398f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.934f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.033f , 0 )	// 基本仰角
	RotateCamera( 0 , 348.549f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整など
	LookChr("ADOL", "Aaron")
	LookChr("LAXIA", "Aaron")
	LookChr("Dogi" ,"ADOL")
//	LookChr("HUMMEL", "ADOL")
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeAnimation( "HUMMEL", "ANI_WAIT", -1, 1 )
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目

	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_ANGER,1)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.069f , -1421.403f , 12.398f, 300 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.234f , 300 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,  -0.061f , 300 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 332.797f , 300 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_S", -1, 1 )

	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#011e#000mまあ、そのことを"
		"根に持つような娘にも思えんがなァ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#011e#000mもちろんじゃ。"
		"ただ彼女が姿を消した理由……\p"
		"#012e過去の複雑な事情もあるじゃろうが、"
		"意外と単純なことかもしれんぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Thanatos", "ANI_EV_TEBURI", -1, 1 )
	LookChr("Thanatos", "ADOL")
	
	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"アドル、もしかしたらお前が"
		"力になってやるべきことかもしれん。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、頷きモーション。
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(15)

	LookChr("SAHAD", "ADOL")
	ChangeAnimation( "SAHAD", "ANI_EV_YARUKI_S", -1, 1 )
	Wait(15)
	EarthQuake( 0.02f , 0.02f , 5 )	// 縦揺れ幅, 横揺れ幅, 時間	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#042e#000mよし、分かった。"
		"ワシもダーナを探しに行くぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "ADOL")

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#030e#000mわ、わたくしも参ります。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カット8 -------------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , 27.727f , -1423.418f , 12.530f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.235f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -8.046f , 0 )	// 基本仰角
	RotateCamera( 0 , 239.100f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.727f , -1423.418f , 12.390f , 50 )

	Wait(FADE_FAST)

	ChangeAnimation( "RICOTTA", "ANI_EV_KYOSHU_S", -1, 1 )
	
	// カメラ待ち
	WaitThread(1000)
	
	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#030e#000mリコッタも行く！"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayVoice(Y8V_2165,"HUMMEL",100)	//ああ（平常のテンション。あらゆる場面で使用）

	ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI_S", -1, 1 )
	LookReset("HUMMEL")

	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#000e#000m……この島を出ない限り、"
		"“運び”が終わったことにならん。\p"
		"#011e#000m彼女がいるほうが何かと助かる。"
		"何かと4行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット9 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , 26.779f , -1422.003f , 12.350f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.935f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.572f , 0 )	// 基本仰角
	RotateCamera( 0 , 296.381f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整など
	SetChrPos("RICOTTA", 28.47f, -1423.16f, 10.83f)
	Turn("RICOTTA", 113.10f, 360.0f)
	SetChrPos("Aaron", 27.21f, -1420.11f, 10.83f)
	Turn("Aaron", 17.37f, 360.0f)
	SetChrPos("Dogi", 25.91f, -1420.62f, 10.83f)
	Turn("Dogi", -14.62f, 360.0f)
	
	ChangeAnimation( "Aaron", "ANI_WAIT", -1, 1 )	
	ChangeAnimation( "RICOTTA", "ANI_WAIT", -1, 1 )	
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	
	LookReset("LAXIA")
	LookReset("HUMMEL")

	// フェード待ち
	Wait(FADE_CROSS)

	LookChr("Dogi", "ADOL")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )

	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	PlayVoice(Y8V_3567,"Dogi",100)	//ハハ！

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#081e#080mハハ、そうこなくちゃな。\p"
		"ダーナがいそうなのは王都の西にある"
		"《王家の谷》ってコトだったな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//─────────────────────────
	//	⇒王都から西へ向かう橋が崩落しているのを見ている
	if (FLAG[GF_SUBEV_04_6201_LOOK_BRIDGE]) {	// 【王都アイギアス：西の橋を見る】

		ChangeAnimation( "Thanatos", "ANI_EV_TEBURI", -1, 1 )
		
		// タナトス
		TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
			"#000e#000m確か王都から西へ直接"
			"向かう橋は崩落しておったな。"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("LAXIA", "Thanatos")
		ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )
		HeadYes("LAXIA" , 1 , 25 )

		// ラクシャ
		TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
			"#000e#000mええ、確かにそうでした。"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("Thanatos", "LAXIA")

		// タナトス
		TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
			"#011e#000mそうなるとルートは"
			"おそらく一つしかないはずじゃ。\p"
			"#012e大樹の寺院にある山門から"
			"王都の西側へ回り込むしかあるまい。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	} else {
	//	⇒王都から西へ向かう橋が崩落しているのを見ていない
	
		ChangeAnimation( "Thanatos", "ANI_EV_TEBURI", -1, 1 )
	
		// タナトス
		TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
			"#000e#000mあいにく王都から西へ向かう橋は"
			"崩落しておったはずじゃ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("LAXIA", "Thanatos")
		LookChr("SAHAD", "Thanatos")

		// サハド
		TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
			"#000e#000mお？　そうなのか？"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "Thanatos", "ANI_EV_SIAN_S", -1, 1 )

		// タナトス
		TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
			"#000e#000mそうなると、おそらく"
			"ルートは一つしか残っておらん。\p"
			"大樹の寺院にある山門から"
			"王都の西側へ回り込むしかあるまい。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )
	}

	//─────────────────────────
	
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000m寺院の山門を西へ……"
		"なるほど、わかりました。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA", "ANI_EV_TEMUNE_S", -1, 1 )

	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#041e#000mアドル、ダーナ姉のこと心配……"
		"すぐ出発する！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルが頷いて、ここで操作許可。
	LookChr("ADOL", "RICOTTA")
	Wait(12)
	
	// （アドル）うなずく
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	
	Wait(25)

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.779f , -1422.003f , 14.750f, 150 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.535f , 150 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -7.556f , 150 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 291.515f , 150 )
//
//
//	Wait(35)

	StopBGM(60)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M05S360_ED")
}

function "EV_M05S360_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")			//全PCをまとめてリセットする時に使用

	CallFunc("system:reset_chrmot_Dogi")
	CallFunc("system:reset_chrmot_Aaron")
	CallFunc("system:reset_chrmot_Thanatos")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	ActiveVoiceStop(ACTIVEVOICESTOP_FORCE)		//アクティブボイス強制終了

	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//フラグ処理
	SetFlag(SF_SETRAMSAVE,1)		//リトライセーブ
	SetFlag(GF_TBOX_DUMMY078, 1)
	//SetFlag( SF_MISSIONNO, MS_05_11 )	//★冒険メモ：ダーナを追って《王家の谷》へ向かおう。
	//SetFlag( GF_QS222_SHOP_ADD, 1 )		// 【QS222】「仕立ての練習」クリア後ショップに追加
	//SetFlag( GF_QS310_GET_ITEM, 1 )		// 【QS310】報酬をもらった。ショップ更新用
	//SetFlag( GF_QS310_GET_ITEM2, 1 )	// 【QS310】ショップ更新用・暴竜の守護石専用フラグ
	//SetFlag( GF_QS310_GET_ITEM3, 1 )	// 【QS310】ショップ更新用・暴竜の護符専用フラグ
	
	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init")

	//マップマーカー
	SetMapMarker( SMI_SYMBOL ,PAGE_F039, MARKER_EV_M05S370, -293.79f, 647.73f, 115.84f, -293.79f, 647.73f,MARKER_EV_M05S370,MN_F_MP4105,0)		//メイン：寺院の山門を西側へ抜ける

	//イベント後の再配置
	SetChrPos("LEADER", 31.66f, -1418.64f, 10.83f)
	Turn("LEADER", -119.60f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt( 0 , 31.665f , -1418.635f , 12.703f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 15.520f , 0 )	// 基本仰角
	RotateCamera( 0 , -60.333f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetEnvSEPlayState(-1, 1)	//環境SE復帰

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼王家の谷について報告する(mp1201)
//──────────────────────────────
function "EV_M06S000"					//王家の谷について報告する(mp1201)
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	if (FLAG[GF_SUBEV_SILVIA_MODE] == 0) {	// シルヴィアの状態 0=老婆 1=戦士
		SetChrID( "Silvia", "Silvia_1")
		SetChrID( "Silvia_2", "Silvia")		// 戦士
	}

	LoadChr("Thanatos")
	LoadChr("Aaron")
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	MapHide(smoke,0)

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 26.45f, -1423.67f, 10.83f)
	Turn("ADOL", -158.52f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", 28.78f, -1421.88f, 10.83f)
	Turn("RICOTTA", 80.00f, 360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	ChangeAnimation( "RICOTTA", "ANI_EV_RYOTEKOSI", -1, 1 )

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 28.28f, -1420.84f, 10.83f)
	Turn("SAHAD", 45.78f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 27.48f, -1423.58f, 10.83f)
	Turn("LAXIA", 157.07f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", 28.65f, -1423.02f, 10.83f)
	Turn("HUMMEL", 128.65f, 360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", 25.66f, -1423.07f, 10.83f)
	Turn("DANA", -135.42f, 360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	ChangeAnimation( "DANA", "ANI_EV_RYOTEMAE", -1, 1 )

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Thanatos", 25.97f, -1420.58f, 10.83f)
	Turn("Thanatos", -46.59f, 360.0f)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 27.06f, -1420.08f, 10.83f)
	Turn("Aaron", -3.96f, 360.0f)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 25.38f, -1421.68f, 10.83f)
	Turn("Dogi", -82.13f, 360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI", -1, 1 )

	//BGM設定
	PlayBGM(BGM_EVENT_008, 0)

	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 1920,1080, 0.0f, 0x00ffffff, 0x00000000)

	Portrait_Load(  1 , "visual/portrait/chap70.itp" )	//第六部エフェクトタイトル
	Portrait_Create(1 , -64 , 28 , 
					0 , 0 , 2048 , 1024 , 
					0.0f , 0x00ffffff , 0x00000000 )
					
	//カメラ設定
//	MoveCameraAt( 0 , 27.093f , -1421.912f , 12.734f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 6.000f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 3.644f , 0 )	// 基本仰角
//	RotateCamera( 0 , 105.988f , 0 )				// 角度
//	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , 26.584f , -1420.851f , 12.434f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.578f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.222f , 0 )	// 基本仰角
	RotateCamera( 0 , 49.985f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 60.000, 2.000, 0.700, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M06S000_ED")

	//開始処理ここまで-----------------------------------------------
	//　　画面フェードインして、漂流村集会所。
	//　　焚火中心にアドル⇒ダーナ⇒ドギ⇒タナトス⇒エアラン⇒
	//　　サハド⇒リコッタ⇒ヒュンメル⇒ラクシャ

//	// カット1 ----------------------------------------------------------------------------------------
//
//	Wait(30)
//
//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.093f , -1421.912f , 12.238f, 120 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 6.000f , 120 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.805f , 120 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 74.221f , 120 )
//
//	// フェードイン
//	FadeIn(FADE_BLACK, FADE_NORMAL)
//	Wait(FADE_NORMAL)
//
//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//	
//	Wait(10)
//	
//	// カット2 ----------------------------------------------------------------------------------------
//
//	// クロスフェード
//	CrossFade(FADE_NORMAL)
//	
//	// カメラ
//	MoveCameraAt( 0 , 26.620f , -1420.809f , 12.434f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.688f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 1.222f , 0 )	// 基本仰角
//	RotateCamera( 0 , 55.393f , 0 )				// 角度
//	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.716f , -1420.694f , 12.384f , 50 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,  3.989f , 50 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.222f , 50 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 49.966f , 50 )

	//MoveCameraAt( 0 , 26.716f , -1420.694f , 12.384f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.989f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 1.222f , 0 )	// 基本仰角
	//RotateCamera( 0 , 49.966f , 0 )				// 角度
	//ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	SetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 非表示
	
	LookChr("SAHAD", "Thanatos")
	LookChr("Aaron", "SAHAD")
	LookChr("Dogi", "SAHAD")
	LookChr("Thanatos", "SAHAD")

	Wait(10)

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#000e#000m──王家の谷でそんなことが……\p"
		"#011e#000m大樹の正体についても"
		"こりゃあ驚きを隠せんのう……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	
	// （サハド）うなずき
	HeadYes("SAHAD", 1, 25)	// キャラ, うなずき回数, 速さ

	// サハド
	TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
		"#000e#000mおーよ、まるでおとぎ話……\p"
		"いや、それ以上に"
		"突飛すぎて何が何だか……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Thanatos")

	ChangeAnimation( "Thanatos", "ANI_EV_SIAN_S", -1, 1 )

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#011e#000mウム、それを語った"
		"ローブの人物も謎だらけじゃ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Dogi", "Thanatos")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_TEBURI", -1, 1 )

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000m一体何者なんですかい？\p"
		"ダーナの記憶に出てきたってことは"
		"昔の人物かと思ってたんだが。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Aaron", "Dogi")

	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#000e#000mダーナ以外にも生きてる"
		"エタニア人がいたってコトか？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("Aaron")
	ChangeAnimation( "Aaron", "ANI_EV_BORI", -1, 1 )
	
	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#011e#000mクソ、さっぱり分からねえ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(10)
	
	// カット3 ------------------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ
	MoveCameraAt( 0 , 26.919f , -1422.588f , 12.370f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.385f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.082f , 0 )	// 基本仰角
	RotateCamera( 0 , 172.108f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE, 1)
	Look("DANA", 0.0f, -10.0f)	// うつむく

	ResetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 再表示
	SetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 非表示

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.285f , -1422.501f , 12.370f, 75 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.385f , 75 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.509f, 75 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 162.940f , 75 )

	Wait(FADE_FAST)

	//　　ダーナに「…」エモーション表示。
	EmotionEx("DANA", 0.05f, "EMO_3DOT", 27, 5, 1, 1, 1.2f)	// 「…」
	Wait(52)
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	ChangeAnimation( "DANA", "ANI_EV_RYOTEMAE_E", -1, 1 )
	Look("DANA", 0.0f, 0.0f)
	
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#000e#000mあの人は王家の谷の……"
		"大樹の秘密を知っていました。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("ADOL", "DANA")
	LookChr("LAXIA", "DANA")
	LookChr("Dogi", "DANA")
	
	ChangeAnimation( "Dogi" , "ANI_EV_UDEGUMI_E", -1 , 1 )
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	ChangeAnimation( "DANA", "ANI_EV_SIAN_S", -1, 1 )
	
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"私と同じエタニア人だとしたら、"
		"一体何者なんだろう……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "DANA")

	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_S", -1, 1 )

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mダーナさんが見当つかないのでは"
		"わたくしたちではお手上げですね。\p"
		"それとあの人物が語った大樹の役割……"
		"あれが真実だとしたら──"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　不意に「カンカンカン！」と
	//　　集会所の鐘がけたたましく打ち鳴らされる。
	//　　全員に「！」エモーション表示。

	PlaySE(SE_M06S000_01, 100, 1, 0, 0, 1.0f, 0)
	Wait(15)
	
	LookReset("DANA")
	LookReset("LAXIA")
	LookReset("ADOL")
	
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("DANA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	EmotionEx("Dogi", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」

	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	ChangeAnimation( "DANA", "ANI_EV_SIAN_E", -1, 1 )

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_ANGER_S,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_ANGER_S,1)

	Wait(55)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.285f , -1422.501f , 12.370f , 55 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.985f , 55 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 8.527f , 55 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 184.874f , 55 )

	LookChr("ADOL", "Dogi")
	LookChr("Dogi", "ADOL")
	TurnToChr("Dogi", "ADOL", 7.0f)
	LookChr("LAXIA", "Dogi")
	LookChr("DANA", "Dogi")


	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )

	TalkPopup("Dogi", 0, 1, 0, 0, -6) {

	// ドギ
		"#000e#000mやれやれ……アドル、話は後だな。"
		"話は後2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	StopBGM(120)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.285f , -1422.501f , 13.610f, 120 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.985f , 120 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.775f , 120 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 184.874f , 120 )


	// （アドル）うなずく
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	//アドルが頷いたところで画面フェードアウト。
	//暗転し切ったところで下記のエフェクトタイトルを表示。

	StopSE(SE_M06S000_01, 2000)
	Wait(20)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)


	//★エフェクトタイトル////////////////////////////////////////////////
	Wait(60)

	//擬似フェードアウト
	Portrait_Anime(  0 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f,0)
	FadeIn(FADE_BLACK,0)
	WaitFade()

	Portrait_Anime(  1 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f,FADE_SLOW)
	Wait(30)

	//時限式選択肢
	//◆SE無効化コマンド置換用
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuAdd( 1 , "" )
	MenuOpen( TF_MENU_SELECT , 0 ,0 , 0 , 0 , 0 , 0 )
	WaitMenu(180) //ウェイトしたい数値
	MenuClose(0,0)

	Portrait_Anime(  1 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f,45)
	Wait(45)
	Wait(30)

	//擬似フェードアウト
	FadeOut(FADE_BLACK,0)
	WaitFade()
	Portrait_Anime(  0 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f,0)

	Portrait_Close(  -1 )
	Portrait_Unload( -1 )

	/////////////////////////////////////////////////////////////////////

	//　　周囲の話を聞くと今回の相手には
	//　　かなり古代種が混じっていることが分かる。
	//　　ドギに話しかけることで迎撃戦開始。

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M06S000_ED")
}

function "EV_M06S000_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	Portrait_Close(  -1 )
	Portrait_Unload( -1 )

	//隠したものを復帰。
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_Thanatos")
	CallFunc("system:reset_chrmot_Dogi")
	CallFunc("system:reset_chrmot_Aaron")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	ActiveVoiceStop(ACTIVEVOICESTOP_FORCE)		//アクティブボイス強制終了

	//フラグ処理
	SetFlag(GF_TBOX_DUMMY079, 1)
	//SetFlag( SF_MISSIONNO, MS_06_01 )	//★冒険メモ：力を合わせて獣を迎撃しよう。

	//迎撃戦処理
	//Intercept(INTERCEPT_STAGE11, 1)	// 時間切れ間近(赤)
	//SetFlag(GF_INTERCEPT_NO, INTERCEPT_STAGE11)

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", 33.39f, -1418.45f, 10.83f)
	Turn("LEADER", 59.06f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt( 0 , 33.385f , -1418.446f , 12.690f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 120.940f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetEnvSEPlayState(-1, 1)	//環境SE復帰

	FadeIn(FADE_BLACK, FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------

}

//──────────────────────────────
//▼調査のためジャンダルムへ向かう(mp1201)
//──────────────────────────────

function "EV_M06S020"			//調査のためジャンダルムへ向かう(mp1201)
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	SetEnvSEPlayState(-1, 0)	//環境SEオフ

	LoadChr("Thanatos")
	LoadChr("Aaron")
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))
			
	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 26.45f, -1423.67f, 10.83f)
	Turn("ADOL", -158.52f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", 28.81f, -1421.71f, 10.83f)
	Turn("RICOTTA", 80.00f, 360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	//ChangeAnimation( "RICOTTA", "ANI_EV_RYOTEKOSI", -1, 1 )

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 28.28f, -1420.84f, 10.83f)
	Turn("SAHAD", 45.78f, 360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 27.48f, -1423.58f, 10.83f)
	Turn("LAXIA", 157.07f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	//SetChrPos("HUMMEL", 28.65f, -1423.02f, 10.83f)
	//Turn("HUMMEL", 128.65f, 360.0f)
	SetChrPos("HUMMEL",28.65f,-1423.02f,10.83f)
	Turn("HUMMEL",103.14f,360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", 25.66f, -1423.07f, 10.83f)
	Turn("DANA", -135.42f, 360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	ChangeAnimation( "DANA", "ANI_EV_RYOTEMAE", -1, 1 )

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Thanatos", 25.97f, -1420.58f, 10.83f)
	Turn("Thanatos", -46.59f, 360.0f)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 27.06f, -1420.08f, 10.83f)
	Turn("Aaron", 13.81f, 360.0f)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)
	
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 25.38f, -1421.68f, 10.83f)
	Turn("Dogi", -82.13f, 360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI", -1, 1 )

	LookChr("Dogi", "Aaron")
	LookChr("Thanatos", "Aaron")
	LookChr("Aaron", "Dogi")

	//焚き火の煙消す
	MapHide(smoke,0)

	StopBGM(30)

	//カメラ設定
	MoveCameraAt( 0 , 26.130f , -1420.292f , 12.666f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.100f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.372f , 0 )	// 基本仰角
	RotateCamera( 0 , 1.066f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	MoveCameraAt( 0 , 26.676f , -1420.742f , 12.434f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.367f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 1.222f , 0 )	// 基本仰角
//	RotateCamera( 0 , 49.996f , 0 )				// 角度
//	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	SetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 非表示

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 60.000, 2.000, 0.750, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M06S020_ED")

	//開始処理ここまで-----------------------------------------------
	
	//　　ブラックアウトのまま下記のメッセージを表示。
	//	テキスト(色替え)
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
		"#7Cその後、何とか古代種たちを退けた"
		"#7Cアドルとドギたちだったが……\p"
		"#7C襲撃はその後も断続的に続き、"
		"#7C漂流村は昼夜を問わずに"
		"#7C警戒態勢を強いられることとなった。\p"
		"#7C幸い食料の備蓄はあったが、"
		"#7Cこのままでは漂流者たちが次第に"
		"#7C追い詰められていくことは明白だった。\p"
		"#7Cアドルたちは襲撃の合間を縫って、"
		"#7C早急に対策を話し合うことにした……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(15)
	
	// カット1 ----------------------------------------------------------------------------------------

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.130f , -1420.292f , 12.486f , 45 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.100f , 45 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.372f , 45 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 1.066f , 45 )//

	PlayBGM(BGM_EVENT_017, 0)
	FadeBGM(70,0)
	SetEnvSEPlayState(-1, 1)	//環境SE復帰

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	//　　画面フェードインして夜の漂流村・集会所。
	//　　焚火中心にアドル⇒ダーナ⇒ドギ⇒タナトス⇒エアラン⇒
	//　　サハド⇒リコッタ⇒ヒュンメル⇒ラクシャ

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	HeadNo(Aaron,-1, 35 )
	PlayVoice(Y8V_3873,"Aaron",100)	//やれやれ…（溜息）
	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_S", -1, 1 )
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	Wait(50)

	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#000e#000m……今日でもう四日目だぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Thanatos")

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#011e#000mウム、こうなるとまるで籠城じゃな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_YARUKI_S", -1, 1 )
	Wait(15)
	EarthQuake( 0.03f , 0.03f , 10 )	// 縦揺れ幅, 横揺れ幅, 時間

	// エアラン
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#030e#000mこいつは明らかに異常な状況だぜ。\p"
		"異常2行目"
		"#000e#000mバーロー、アイツら"
		"一体どこから湧いてきやがる？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookSpd("Dogi",0.1f,0.1f,0.1f)
	PlayVoice(Y8V_3570,"Dogi",100)	//ふぅ…（溜息）
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	LookReset("Dogi")

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000mとにかく、このままじゃ"
		"ジリ貧なのは目に見えている。\p"
		"#012e#000m脱出用に集めた食糧を放出しても"
		"もって一週間といったところか。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カット2 ------------------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 26.879f , -1423.289f , 12.486f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.500f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.492f , 0 )	// 基本仰角
	RotateCamera( 0 , 347.909f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 非表示・再表示
	ResetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)
	
	LookReset("Aaron")
	ChangeAnimation( "Aaron", "ANI_EV_YARUKI_E", -1, 1 )
	
	Wait(FADE_CROSS)

	//　　アドルに「…」エモーション表示。
	EmotionEx("ADOL", 0.0f, "EMO_3DOT", 27, 5, 1, 1, 0.9f)	// 「…」
	Wait(55)
	
	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "ここは打って出よう")
	MenuAdd(2, "もう少し様子を見よう")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)

	// 手振り
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	LookChr("Dogi", "ADOL")
	Wait(3)
	LookChr("DANA", "ADOL")
	Wait(3)
	LookChr("LAXIA", "ADOL")
	Wait(3)
	LookChr("HUMMEL", "ADOL")
	Wait(3)
	LookChr("RICOTTA", "ADOL")
	LookChr("Thanatos", "ADOL")
	ChangeSubAnimation("Thanatos",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Wait(8)

	//─────────────────────────
	//	⇒ここは打って出よう
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		ChangeAnimation( "SAHAD", "ANI_EV_BORI", -1, 1 )
		LookChr("SAHAD", "ADOL")

		// サハド
		TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
			"#000e#000m打って出ると言ってもなあ……"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI_S", -1, 1 )

		//	"HUMMEL"
		TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
			"#000e#000m圧倒的に不利な状況下で"
			"闇雲に動くのは感心せんな。"
		}
		WaitPrompt()
		WaitCloseWindow()

		Look("RICOTTA", 0.0f, -10.0f)	// うつむく
		ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		ChangeAnimation( "RICOTTA", "ANI_EV_UDEGUMI_S", -1, 1 )

		//	"RICOTTA"
		TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
			"むむー……"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookReset("LAXIA")
		ChangeAnimation( "LAXIA", "ANI_EV_SIAN_S", -1, 1 )

		//	"LAXIA"
		TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
			"#000e#000mせめて古代種たちが"
			"どこから来るのか分かれば……"
		}
		WaitPrompt()
		WaitCloseWindow()

		//	"Thanatos"
		TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
			"#011e#000mフム、分からないのならば、"
			"まずは状況を把握することじゃ。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//	⇒もう少し様子を見よう
	
	if (FLAG[TF_MENU_SELECT] == 2 ) {

		ChangeAnimation( "SAHAD", "ANI_EV_BORI", -1, 1 )
		LookChr("SAHAD", "ADOL")

		// サハド
		TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
			"#000e#000m……もう少しってどれくらいだ？"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI_S", -1, 1 )

		//	"HUMMEL"
		TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
			"#000e#000mただ先延ばしするだけでは"
			"問題は解決しまい。"
		}
		WaitPrompt()
		WaitCloseWindow()

		Look("RICOTTA", 0.0f, -10.0f)	// うつむく
		ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		ChangeAnimation( "RICOTTA", "ANI_EV_UDEGUMI_S", -1, 1 )

		//	"RICOTTA"
		TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
			"むむー……"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookReset("LAXIA")
		ChangeAnimation( "LAXIA", "ANI_EV_SIAN_S", -1, 1 )

		//	"LAXIA"
		TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
			"#000e#000mせめて少しでも島の状況が"
				"分かればよいのですが……"
		}
		WaitPrompt()
		WaitCloseWindow()

		//	"Thanatos"
		TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
			"#011e#000mフム、そうじゃな……"
			"方法がないわけじゃなかろう。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//─────────────────────────
	
	LookChr("ADOL", "Thanatos")
	LookChr("DANA", "Thanatos")
	LookChr("HUMMEL", "Thanatos")
	LookChr("SAHAD", "Thanatos")
	
	ChangeAnimation( "Thanatos", "ANI_EV_TEBURI", -1, 1 )
	
	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#012e#000m幸い、わしらにはダーナが"
		"使えるようにしてくれた転位がある。\p"
		"あれを使えば、迎撃の合間でも"
		"何とか光明を見い出せるかもしれん。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャにPAエモーション表示。
	EmotionEx("LAXIA", 0.02f, EMO_PA, 0, 5, 1, 1, 0.9f )	// 「PA」
	Wait(35)
	ChangeAnimation( "LAXIA", "ANI_EV_SIAN_E", -1, 1 )
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mそれは……確かにそうですね。2"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット3 ------------------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 27.717f , -1422.241f , 12.069f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.888f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.023f , 0 )	// 基本仰角
	RotateCamera( 0 , 145.914f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 配置調整など
	Turn("DANA", -121.21f, 360.0f)
	Turn("LAXIA", 178.39f, 360.0f)
	LookReset("DANA")
	LookChr("LAXIA", "DANA")
	ChangeAnimation( "DANA", "ANI_WAIT", -1, 1 )
	ChangeAnimation( "RICOTTA", "ANI_WAIT", -1, 1 )
	
	// 非表示・再表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)	// 非表示

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.754f , -1422.160f , 11.970f, 80 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.399f , 80 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.131f , 80 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 152.157f , 80 )
//
	Wait(FADE_CROSS)
	LookChr("HUMMEL", "DANA")
	LookChr("ADOL", "DANA")
	LookReset("RICOTTA")

	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	ChangeAnimation( "DANA", "ANI_EV_SIAN_S", -1, 1 )

	//	"DANA"
	TalkPopup("DANA", 0, 2, 0, 0, 0) {
		"#000e#000mただ、この状況だと慎重に"
		"転位先を選ぶ必要があるかな。\p"
		"#011e#000m島の状況をより効率的に"
		"把握できる場所っていうと……"
	}
	WaitPrompt()
	WaitCloseWindow()

	SetFlag(TF_MENU_SELECT,0)
	SetFlag(TF_MENU_SELECT2,0)
	while( FLAG[TF_MENU_SELECT] >= 0 )	//ループ選択肢
	{
		//　　アドルに「…」エモーション表示。
		LookReset("ADOL")
		EmotionEx("ADOL", 0.05f, "EMO_3DOT", 27, 5, 1, 1, 1.2f)	// 「…」
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(52)

		//選択肢
		MenuReset()
		MenuType(MENUTYPE_POPUP)
		MenuAdd(1, "バハの塔")
		MenuAdd(2, "王都アイギアス")
		if( FLAG[TF_MENU_SELECT2] >= 3 ){		//間違い回数が3回以上で文字色変更
			//MenuAdd(3, "#4Cジャンダルム")
			MenuAdd(3, "ジャンダルム")
		}else {
			MenuAdd(3, "ジャンダルム")
		}
		MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
		WaitMenu(0)
		MenuClose(10, 0)
		
		// カメラ待ち
		WaitThread(1000)
		WaitThread(1001)
		WaitThread(1002)
		WaitThread(1003)
		
		LookChr("ADOL", "DANA")
		
		// 手振り
		ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)
	
		//─────────────────────────
		//	⇒バハの塔
		if (FLAG[TF_MENU_SELECT] == 1 ) {
	
			ChangeAnimation( "DANA", "ANI_EV_SIAN_E", -1, 1 )
			LookChr("DANA", "ADOL")
	
			// ダーナ
			TalkPopup("DANA", 0, 2, 0, 0, 0) {
				"#000e#000m確かにバハの塔は"
				"周囲を見渡せるかもしれない……\p"
				"でも、島の東側にあるから"
				"全体の状況を知るには向かないかも。"
			}
			WaitPrompt()
			WaitCloseWindow()
			
			LookReset("DANA")
			ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
			ChangeAnimation( "DANA", "ANI_EV_SIAN_S", -1, 1 )
			
			// ダーナ
			TalkPopup("DANA", 0, 2, 0, 0, 0) {
				"他にもっと良い場所があると"
				"思うんだけど……"
			}
			WaitPrompt()
			WaitCloseWindow()
	
			//間違え回数カウント
			SetFlag(TF_MENU_SELECT2,	(FLAG[TF_MENU_SELECT2] + 1))

		}
	
		//	⇒王都アイギアス
		else if (FLAG[TF_MENU_SELECT] == 2 ) {
			
			ChangeAnimation( "DANA", "ANI_EV_SIAN_E", -1, 1 )
			LookChr("DANA", "ADOL")
			
			// ダーナ
			TalkPopup("DANA", 0, 2, 0, 0, 0) {
				"#000e#000m中央区にある塔堂は"
				"確かに周囲を見渡せそうだけど……\p"
				"島全体を把握するなら、"
				"もっと的確な場所があると思うな。"
			}
			WaitPrompt()
			WaitCloseWindow()
			
			LookReset("DANA")
			ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
			ChangeAnimation( "DANA", "ANI_EV_SIAN_S", -1, 1 )
			
			//間違え回数カウント
			SetFlag(TF_MENU_SELECT2,	(FLAG[TF_MENU_SELECT2] + 1))

		}
		
		//	⇒ジャンダルム
		else if (FLAG[TF_MENU_SELECT] == 3 ) {
		
			ChangeAnimation( "DANA", "ANI_EV_SIAN_E", -1, 1 )
			LookChr("DANA", "ADOL")
		
			// ダーナ
			TalkPopup("DANA", 0, 2, 0, 0, 0) {
				"#000e#000mうん、あそこ以上に全体を"
				"見渡せる場所は他にないかな。\p"
				"危険な場所だけど、"
				"行く価値はあるかもしれない。"
			}
			WaitPrompt()
			WaitCloseWindow()
	
			LookChr("RICOTTA", "ADOL")
			ChangeAnimation( "RICOTTA", "ANI_EV_RYOTEKOSI_S", -1, 1 )
	
			//	"RICOTTA"
			TalkPopup("RICOTTA", 0, 1, 0, 150, 0) {
				"#000e#000mなはは、さすがアドル兄！"
			}
			WaitPrompt()
			WaitCloseWindow()
			
			break		//ループから脱出する
		}
	}
	//─────────────────────────
	
	// カット4 ------------------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 26.106f , -1421.576f , 12.358f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.757f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.082f , 0 )	// 基本仰角
	RotateCamera( 0 , 27.765f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 配置調整など
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )
	
	// 非表示・再表示
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)	// 再表示
	
	Wait(FADE_CROSS)
	LookReset("DANA")
	LookChr("ADOL", "Dogi")

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )
	
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#011e#000mよし、今だったらここは"
		"俺たちで凌ぐこともできるだろう。\p"
		"#012e短時間ならお前さんたちの"
		"支援も問題ないはずだ。\p"
		"アドル、そっちのほうは任せたぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_S", -1, 1 )

	//	"Aaron"
	TalkPopup("Aaron", 0, 2, 0, 0, 0) {
		"#000e#000mフン、何とか活路が"
		"開けるといいんだかなァ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Thanatos", "ANI_EV_TEBURI", -1, 1 )

	//	"Thanatos"
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#000e#000mお互い、もしもの時は"
		"パロに連絡を頼むとしよう。\p"
		"気をつけて行ってくるがいい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルが頷いて、ここで操作許可。
	
	LookChr("ADOL", "Thanatos")
	Wait(10)

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 26.806f , -1421.324f , 12.578f, 160 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 7.858f , 160 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.795f , 160 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 21.249f , 160 )
	
	// （アドル）うなずく
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	Wait(35)
	
	//	"※このタイミングで北部は危険な古代種が徘徊しているため、"
	//　　各地へのジャンプ機能は制限される。
	//　　尚、ジャンダルムまでは通常通りジャンプ機能は使用可能に。

//	StopBGM(60)

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M06S020_ED")
}

function "EV_M06S020_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)

	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)

	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

//	PlayBGM(BGM_EVENT_008, 0)

	//フラグ処理
	SetFlag(SF_SETRAMSAVE,1)		//リトライセーブ
	SetFlag(GF_TBOX_DUMMY087, 1)
	SetFlag( GF_DRUG_RECIPE12, 1)		// 【QS301】新しい薬の調合（リヒト）達成 奮迅水が作成可能に
	SetFlag( GF_DRUG_RECIPE13, 1)		// 【QS505】新しい薬の調合（リヒト）達成 月の涙/万能薬が作成可能に

	//SetFlag( SF_MISSIONNO, MS_06_02 )	//★冒険メモ：ジャンダルムの頂上を目指そう。
	
	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init")

	//マップマーカー
	SetMapMarker( SMI_SYMBOL ,PAGE_MP433x, MARKER_EV_M06S030, 303.94f, 12.87f, 774.91f, 303.94f, 12.87f,MARKER_EV_M06S030,MN_F_MP4107,4)		//メイン：大樹の異変を目撃する
	SetMapMarker( SMI_SUBEVENT ,PAGE_F001, MARKER_SUBEV_BOAT, 193.13f, -1328.99f, -0.36f, 193.13f, -1328.99f,MARKER_SUBEV_BOAT,MN_F_SOUTHWEST_PLANE_MP1111,0)		//サブ　：小舟

	//アドルお一人様 (Redmine #26453 対応)
	//SetFlag(GF_PARTY_NONE, 0)		//パーティ全員行動解除
	//FixPlayerChr(PARTY_ADOL)	// アドルおひとり様モードON

	//イベント後の再配置
	SetChrPos("LEADER", 31.14f, -1418.29f, 10.83f)
	Turn("LEADER", 48.16f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt( 0 , 31.140f , -1418.290f , 12.684f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.069f , 0 )	// 基本仰角
	RotateCamera( 0 , 129.030f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetEnvSEPlayState(-1, 1)	//環境SE復帰

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------
}

function "EV_M07S000"	//漂流村でアドルが目を覚ます
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	ResetStopFlag(STOPFLAG_CINEMA)

	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	StopBGM(0)

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_PLAYER | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定	
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	SetChrInfoFlag( "ADOL" , INFOFLAG_FLING )
	SetChrPos("ADOL",-14.27f,-1358.26f,11.61f)
	Turn("ADOL",-118.97f,360.0f)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation("ADOL", "ANI_EV_SLEEP_HM_L", -1, 1)
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SubAnimationMode( "ADOL" , SUBMOT_EYE , SUBMODE_MTDDISABLE )	//自動まばたき禁止


	ChrNodeHide("ADOL", "Null_wp", 1, 1)	//剣を消す

	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",-11.75f,-1364.23f,11.57f)
	Turn("LAXIA",153.83f,360.0f)

	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("LAXIA" , "ADOL")

	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 1920,1080, 0.0f, 0x00ffffff, 0x00000000)

	Portrait_Load(  1 , "visual/portrait/chap80.itp" )	//エピローグエフェクトタイトル
	Portrait_Create(1 , -64 , 28 , 
					0 , 0 , 2048 , 1024 , 
					0.0f , 0x00ffffff , 0x00000000 )

	MoveCameraAt( 0 , -14.676f , -1358.431f , 12.574f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.093f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 60.371f , 0 )	// 基本仰角
	RotateCamera( 0 , 161.913f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.300f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 19.5f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 40.000, 0.000, 0.700, 1.000)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//SSAO消す
	SetSSAOParam(24, 0 , 6.0f)

	SetShadowBound(8.0f,8.0f)
	
	//スキップ許可
	SetSkipScript("mp1201:EV_M07S000_ED")

//開始処理ここまで-----------------------------------------------

	SoundEfx( SEFX_EV_CAVE_S, 15 )

	//　　画面ブラックアウトのまま、
	//　　鳥の囀りとせせらぎの音が聞こえてくる。
	//　　フェードインして漂流村の男性用休息所──
	//　　ハンモックで目を開いたアドルに「！」エモーション。
	//　　そのままガバッと身を起こして周囲を見回す。


	Wait(30)
	SetEnvSEPlayState(-1,1)
	PlaySE("SE_SUZUME", 100, 0,  0, 0, 1.0f, 0)		//◆仮

	Wait(40)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Wait(20)

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , -14.794f , -1358.548f , 12.574f , 160 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE ,  1.312f, 160 )		// 基本距離
//	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE ,60.424f, 160 )		// 基本仰角
//	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE ,  161.872f ,  160 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,0.0f, 130 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 130 )		// 視野角

	//MoveCameraAt( 0 , -14.794f , -1358.548f , 12.574f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 1.312f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 60.405f , 0 )	// 基本仰角
	//RotateCamera( 0 , 161.887f , 0 )				// 角度
	//ChangeCameraPers( 0 , 30.300f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 19.5f , 0 )				// ロール回転


	Wait(100)

	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SUP_S, 1)

	Wait(50)

	SetMotSpd("ADOL" , -1 , 2.5)
	CrossFade(2)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	StopThread(1006)

	SetShadowBound(64.0f,64.0f)

	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_TAME_S, 1)
	ChangeAnimation( "ADOL" , "ANI_EV_WAKEUP_HM_S", -1 , 1 )

	MoveCameraAt( 0 , -14.331f , -1358.319f , 13.095f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.763f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -10.830f , 0 )	// 基本仰角
	RotateCamera( 0 , 155.799f , 0 )				// 角度
	ChangeCameraPers( 0 , 23.300f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.7f , 0 )				// ロール回転

	PlaySE( SE_M07S000_01 , 50 , 0, 50, 0, 1.0f, 0)		//◆ガバッ
	PlaySE( SE_M07S000_02 , 70 , 0, 0, 0, 1.0f, 0)	

	Wait(20)
	StopSE(SE_M07S000_02, 700)
	Wait(30)

	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_WAKEUP_HM_S",  0)
	SetMotSpd("ADOL" , -1 , 1.5)


	Wait(40)

	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	//	若い女性の声
	TalkMes(UNDEF,"#1185V──アドル、いらっしゃいますか？","","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKR_S,1)
//	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
//	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)


	Wait(40)

	PlayBGM(BGM_TOWN_501, 0)

	CrossFade(FADE_FAST)
	SetMotSpd("ADOL" , -1 , 1.0)
	LookChr("ADOL" , "LAXIA")

	SubAnimationMode( "ADOL" , SUBMOT_EYE , SUBMODE_MTDENABLE )	//自動まばたき許可
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)

	MoveCameraAt( 0 , -12.177f , -1364.068f , 12.847f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.963f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.842f , 0 )	// 基本仰角
	RotateCamera( 0 , 8.102f , 0 )				// 角度
	ChangeCameraPers( 0 , 33.300f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.7f , 0 )				// ロール回転

	//SSAO消す
	SetSSAOParam(24, 1.0f , 6.0f)

	ExecuteCmd( 2, MoveTo, "LAXIA" ,-12.92f,-1360.09f,11.56f , 0.1f , 0.2f )
	//SetChrPos("LAXIA",-12.92f,-1360.09f,11.56f)
	//Turn("LAXIA",164.89f,360.0f)


	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,  -13.294f , -1359.660f , 12.897f, 130 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.443f, 130 )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.842f , 130 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 8.101f ,  130 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,0.0f, 60 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 60 )		// 視野角

	//MoveCameraAt( 0 , -13.294f , -1359.660f , 12.897f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.443f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 3.842f , 0 )	// 基本仰角
	//RotateCamera( 0 , 8.100f , 0 )				// 角度
	//ChangeCameraPers( 0 , 33.300f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.7f , 0 )				// ロール回転


	Wait(30)

	FadeBGM(70,10)
	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	//　　入口方面からラクシャが一人で入って来る。
	TalkMes("LAXIA","#1186V#011e#000m全く、いつまで寝ているのです？","","")
	WaitPrompt()
	ResetStopFlag(STOPFLAG_CINEMA)

	Wait(20)

	WaitThread(2)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	WaitThread(1006)


	FadeOut(FADE_BLACK,FADE_FAST)
	WaitFade()


	SetChrPos("LAXIA",-12.92f,-1360.09f,11.56f)
	Turn("LAXIA",148.61f,360.0f)

	//SetChrPos("ADOL",-14.22f,-1359.51f,11.61f)
	//Turn("ADOL",-48.16f,360.0f)


	SetChrPos("ADOL",-14.22f,-1359.51f,11.61f)
	Turn("ADOL",-27.93f,360.0f)

	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)

	MoveCameraAt( 0 , -14.222f , -1359.499f , 13.195f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.483f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.884f , 0 )	// 基本仰角
	RotateCamera( 0 , 289.196f , 0 )				// 角度
	ChangeCameraPers( 0 , 26.900f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -2.5f , 0 )				// ロール回転


	Wait(15)

	ChangeAnimation( "ADOL" , "ANI_EV_SIT_C_E", -1 , 1 )
	Wait(10)

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , -14.083f , -1359.889f , 13.195f , 120 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE ,  2.573f , 120 )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , 11.884f , 120 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 285.463f ,  120 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,0.0f, 60 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 60 )		// 視野角

	//MoveCameraAt( 0 , -14.083f , -1359.889f , 13.195f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.573f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 11.884f , 0 )	// 基本仰角
	//RotateCamera( 0 , 285.454f , 0 )				// 角度
	//ChangeCameraPers( 0 , 26.900f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -2.5f , 0 )				// ロール回転

	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

	Wait(5)
	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	ChangeAnimation( "LAXIA" , "ANI_EV_TEBURI", -1 , 1 )

	TalkMes("LAXIA","#1187V#012e#000mドギたちはもう積み荷を",
		"運び込む作業を始めていますよ。","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	EmotionEx("ADOL", 0.00f,EMO_Q,0,5,1,1,0.75f)	// ？

	Wait(40)

	PlayVoice(Y8V_0181,"ADOL",100)	//え…？（疑問）//	}else {
	HeadNo("ADOL" , 1 , 35)
	Wait(50)

	//　　アドルに「？」エモーション表示。
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"積み荷って何のことだい？")
	MenuAdd(2,"ラクリモサはどうなった？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	Wait(10)


	//─────────────────────────
	//	⇒積み荷って何のことだい？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		//　　ラクシャに冷や汗エモーション表示。
		EmotionEx("LAXIA", 0.01f,EMO_TARA,0,5,1,1,0.85f)	// 冷や汗
		ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_KOMA_S,1)

		Wait(45)

		SetStopFlag(STOPFLAG_CINEMA)
		Wait(10)

		ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_S", -1 , 1 )
		TalkMes("LAXIA","#1188V#140e#000m寝惚けているのですか？","","")
		WaitPrompt()
		TalkMes("LAXIA","#1189V#142e#000m一週間後に島を脱出するのですから、",
			"それに必要な水や食料のことです。","")
		WaitPrompt()
		WaitCloseWindow()

	}
	//	⇒ラクリモサはどうなった？
	if (FLAG[TF_MENU_SELECT] == 2)
	{
		//　　ラクシャに「？」エモーション表示
		EmotionEx("LAXIA", -0.015f,EMO_Q,0,5,1,1,0.85f)	// ？
		ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_KOMA_S,1)

		Wait(40)

		SetStopFlag(STOPFLAG_CINEMA)
		Wait(10)

		TalkMes("LAXIA","#1190V#000mラクリ……な、何のことでしょう？","","")
		WaitPrompt()

		ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_S", -1 , 1 )
		TalkMes("LAXIA","#1191V#142e#000mとにかく一週間後に島からの",
			"脱出を控えているのです。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────


	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_TEBURI", -1 , 1 )

	TalkMes("LAXIA","#1192V#141e#000mあなたも早く起きて",
		"皆さんのお手伝いをしないと──","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	Wait(20)

	Turn("ADOL",-67.68f,4.0f)
//	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,-13.401f , -1359.850f , 13.107f , 120 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.083f , 130 )		// 基本距離
//	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , 9.522f , 120 )		// 基本仰角
//	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 282.651f,  120 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,0.0f, 60 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 60 )		// 視野角

	//MoveCameraAt( 0 , -14.146f , -1359.887f , 13.120f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.083f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 9.523f , 0 )	// 基本仰角
	//RotateCamera( 0 , 282.606f , 0 )				// 角度
	//ChangeCameraPers( 0 , 26.900f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -2.5f , 0 )				// ロール回転

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ダーナはここにいるのか？")
	MenuAdd(2,"サライさんたちはどうなった？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0188,"ADOL",100)	//ええと…（相手に声をかける）
	ChangeAnimation( "ADOL" , "ANI_EV_RYOTEBURI", -1 , 1 )
	Wait(40)

	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	//─────────────────────────
	//	⇒ダーナはここにいるのか？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadNo("LAXIA" , 1, 35 )
		TalkMes("LAXIA","#1193V#142e#000mダーナ……どなたです？","","")
		WaitPrompt()
		TalkMes("LAXIA","#1194V#000m漂流者にそのような",
			"名前の方はいないはずですが……","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒サライさんたちはどうなった？
	if (FLAG[TF_MENU_SELECT] == 2)
	{

		HeadNo("LAXIA" , 1, 35 )

		TalkMes("LAXIA","#1195V#142e#000mサライさん……どなたです？","","")
		WaitPrompt()
		TalkMes("LAXIA","#1196V#000m漂流者にそのような",
			"名前の方はいないはずですが。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

//	ResetStopFlag(STOPFLAG_CINEMA)
//
//	Wait(10)

	//　　ラクシャに「…」エモーション表示。
	EmotionEx("LAXIA", -0.015f,EMO_3DOT,0,5,1,1,0.85f)	// …
	Wait(52)

//	SetStopFlag(STOPFLAG_CINEMA)
//	Wait(10)
	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_E", -1 , 1 )

	TalkMes("LAXIA","#1197V#061e#000mアドル……その、体調が",
		"悪いわけではありませんよね？","")
	WaitPrompt()
	TalkMes("LAXIA","#1198V#062e#000mもし、そうなら",
		"今日は体をしっかり休めて──","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"大丈夫だ、今着替える")
	MenuAdd(2,"どうやら夢を見たみたいだ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	PlayVoice(Y8V_0166,"ADOL",100)	//いや…（否定）
	HeadNo("ADOL" , 1 , 35 )

	Wait(45)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	ChangeAnimation( "ADOL" , "ANI_EV_WAIT2_S", -1 , 1 )

	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_WAIT2_S",  0)

	Wait(10)

	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , -12.861f , -1360.346f , 12.859f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.314f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.242f , 0 )	// 基本仰角
	RotateCamera( 0 , 221.256f , 0 )				// 角度
	ChangeCameraPers( 0 , 26.200f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	Wait(5)

	SetStopFlag(STOPFLAG_CINEMA)
	Wait(5)

	//─────────────────────────
	//	⇒大丈夫だ、今着替える
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		LookReset("LAXIA")
		Wait(5)
		ChangeAnimation( "LAXIA" , "ANI_EV_SEKI", -1 , 1 )
		TalkMes("LAXIA","#1199V#061e#000mコホン、そ、そうですか。",
			"それではわたくしは失礼します。","")
		WaitPrompt()

		Look("LAXIA" , -25 , 0 )

		TalkMes("LAXIA","#1200V#020l#062e#000mその……",
			"無理はなさらないで下さいね。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒どうやら夢を見たみたいだ
	if (FLAG[TF_MENU_SELECT] == 2)
	{
		LookReset("LAXIA")
		Wait(5)
		ChangeAnimation( "LAXIA" , "ANI_EV_HOHOKAKI", -1 , 1 )
		TalkMes("LAXIA","#1201V#061e#000mはあ、夢……ですか？","","")
		WaitPrompt()
		TalkMes("LAXIA","#1202V#000mわかりました、それでは一旦",
			"わたくしは失礼いたしますけど……","")
		WaitPrompt()

		Look("LAXIA" , -35 , 0 )
		ChangeAnimation( "LAXIA" , "ANI_EV_TEBURI", -1 , 1 )

		TalkMes("LAXIA","#1203V#012e#000m体調が問題ないようなら、",
			"皆さんの手伝いをお願いしますね。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)

	Wait(15)

	FadeBGM(100,60)

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , -13.787f , -1361.109f , 13.132f, 190 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.523f , 190 )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.478f , 190 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 209.990f ,  190 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,0.0f, 60 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 60 )		// 視野角

	//MoveCameraAt( 0 , -13.787f , -1361.109f , 13.132f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.523f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.478f , 0 )	// 基本仰角
	//RotateCamera( 0 , 209.990f , 0 )				// 角度
	//ChangeCameraPers( 0 , 26.200f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -0.0f , 0 )				// ロール回転

	Wait(50)

	//─────────────────────────
	//	⇒大丈夫だ、今着替える
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)


	}
	//	⇒どうやら夢を見たみたいだ
	if (FLAG[TF_MENU_SELECT] == 2)
	{

		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)

	}
	//─────────────────────────

	Wait(80)

	LookSpd("ADOL" , 0.08 ,  0.08 ,  0.08 )
	Look("ADOL" , 30 , 0 )

	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	WaitThread(1006)

	Wait(30)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　画面一旦フェードアウトして
	//　　ブラックアウトのままメッセージ表示。
	//	テキスト（色替え）

	Wait(30)
	
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cアドルは着替えようとして、"
		"#7C《想剣ミストルティン》が力を失い、"
		"#7C元の剣に戻っていることに気づいた。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	name2()
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7C見れば、腕から“進化の護り人”の"
		"#7C証である紋様も消えている。\p"
		"#7C一体何が起きているのだろうか……\p"
		"#7C居ても立ってもいられなくなった"
		"#7Cアドルは慌てて身支度を整えるのだった。"
		"身支度5行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	StopBGM(120)

	Wait(60)
	
//　　そのまま下記のエフェクトタイトルを表示する。
//
//	エフェクトタイトル
//	「エピローグ　蒼き波濤の果て」



	//★エフェクトタイトル////////////////////////////////////////////////
	Wait(30)

	//擬似フェードアウト
	Portrait_Anime(  0 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f,0)
	FadeIn(FADE_BLACK,0)
	WaitFade()

	Portrait_Anime(  1 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f,FADE_SLOW)
	Wait(30)

	//時限式選択肢
	//◆SE無効化コマンド置換用
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuAdd( 1 , "" )
	MenuOpen( TF_MENU_SELECT , 0 ,0 , 0 , 0 , 0 , 0 )
	WaitMenu(180) //ウェイトしたい数値
	MenuClose(0,0)

	Portrait_Anime(  1 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f,45)
	Wait(45)
	Wait(30)

	//擬似フェードアウト
	FadeOut(FADE_BLACK,0)
	WaitFade()
	Portrait_Anime(  0 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f,0)

	Portrait_Close(  -1 )
	Portrait_Unload( -1 )

	/////////////////////////////////////////////////////////////////////


//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M07S000_ED")
}

function "EV_M07S000_ED"
{
	SetSkipScript("")			
		
	//イベント前のキャラ情報を復帰
	RestoreEventState()

	Portrait_Close(  -1 )
	Portrait_Unload( -1 )

	ActiveVoiceStop(ACTIVEVOICESTOP_FORCE)		//アクティブボイス強制終了

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	ChrNodeHide( "ADOL" , "Null_wp", 0, 1 )	//剣を出す

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ処理
		SetFlag( SF_SETRAMSAVE , 1)
		//SetFlag(SF_WARP_DISABLED,1)			//ワープ禁止	
		SetFlag(SF_BOSS_BATTLE,0)			//ボス戦解除
		SetFlag( GF_07MP1202_AWAKE_ADOL , 1 )			// 夢に驚くアドル
		SetFlag( GF_NO_UNIWAIT , 1 )			// 待機ユニークモーションさせない
		SetFlag( SF_EPILOGUE_MODE , 1 )			// 地図メニュー切り替え
		//SetFlag( SF_MISSIONNO, MS_07_01 )	//★冒険メモ：出発の準備を整えよう。
		SetFlag(SF_CANUSE_MAPWARP,0)		//転位→移動に変更
		SetFlag(GF_PAST_CRYSTAL,0)			//現代編水晶石に戻す

		SetFlag( GF_GALL_EV_EL_01, 1 )		// M07S000:漂流村でアドルが目を覚ます

		//エピローグ用メニュー封じ
		SetFlag(SF_CANTUSE_TOOL,1)		//冒険具消す　はじまりの深淵前、クリアセーブ前には下ろす
		
		SetFlag(SF_CAMP_CANT_FORMATION,1)	// 編成メニュー禁止
		SetFlag(SF_CAMP_CANT_DIARY,0)		// 冒険日誌メニュー許可
		SetFlag(SF_CAMP_CANT_EQUIP,1)		// 装備メニュー禁止
		SetFlag(SF_CAMP_CANT_SYSTEM,0)		// システムメニュー許可
		SetFlag(SF_CAMP_CANT_ITEM,1)		// アイテムメニュー禁止
		SetFlag(SF_CAMP_CANT_SKILL,1)	//スキルメニュー禁止
		//SetFlag(SF_CANTUSE_SKILL ,1)	//SPゲージ溜まらない

		//クエスト期限切れ（第六部終了）--------------------------------
		//【QS223】ヒュッパーの掃討
		if( FLAG[GF_QUEST_223] != QUEST_SUCCESS ){
			//SetFlag( GF_QUEST_223, QUEST_FALSE )
		}
		//【QS302】アギアギラの討伐
		if( FLAG[GF_QUEST_302] != QUEST_SUCCESS ){
			//SetFlag( GF_QUEST_302, QUEST_FALSE )
		}
		//【QS400】ししょーへの献上（リコッタ）
		if( FLAG[GF_QUEST_400] != QUEST_SUCCESS ){
			//SetFlag( GF_QUEST_400, QUEST_FALSE )
		}
		//【QS503】グラドングゥの掃討
		if( FLAG[GF_QUEST_503] != QUEST_SUCCESS ){
			//SetFlag( GF_QUEST_503, QUEST_FALSE )
		}
		//【QS530】アルシャコウの討伐
		if( FLAG[GF_QUEST_530] != QUEST_SUCCESS ){
			//SetFlag( GF_QUEST_530, QUEST_FALSE )
		}
		//【QS600】輝ける鎧（カトリーン）
		if( FLAG[GF_QUEST_600] != QUEST_SUCCESS ){
			//SetFlag( GF_QUEST_600, QUEST_FALSE )
		}
		//【QS601】冒険家への依頼（フランツ）
		if( FLAG[GF_QUEST_601] != QUEST_SUCCESS ){
			//SetFlag( GF_QUEST_601, QUEST_FALSE )
		}
		//【QS602】白酒の調達（カシュー）
		if( FLAG[GF_QUEST_602] != QUEST_SUCCESS ){
			//SetFlag( GF_QUEST_602, QUEST_FALSE )
		}
		//【QS610】親友の遺言（ダーナ）
		if( FLAG[GF_QUEST_610] != QUEST_SUCCESS ){
			//SetFlag( GF_QUEST_610, QUEST_FALSE )
		}
		//【QS611】老いらくの剣（シルヴィア）
		if( FLAG[GF_QUEST_611] != QUEST_SUCCESS ){
			//SetFlag( GF_QUEST_611, QUEST_FALSE )
		}
		//【QS612】欠けたモノリス（グリゼルダ）
		if( FLAG[GF_QUEST_612] != QUEST_SUCCESS ){
			//SetFlag( GF_QUEST_612, QUEST_FALSE )
		}
		
		//PS4追加分
		//【QS613】卵の奪還（漂流村）
		if( FLAG[GF_QUEST_613] != QUEST_SUCCESS ){
			//SetFlag( GF_QUEST_613, QUEST_FALSE )
		}
		if( FLAG[GF_QUEST_505] != QUEST_SUCCESS ){
			//SetFlag( GF_QUEST_505, QUEST_FALSE )
		}
		if( FLAG[GF_QUEST_603] != QUEST_SUCCESS ){
			//SetFlag( GF_QUEST_603, QUEST_FALSE )
		}

	//	//クエストマーカー消去		※第六部終了に関しては、行わない
	//	DelMapMarker( SMI_QUEST, PAGE_F001, MARKER_QS_223_LP, 0, 0)		// 【QS223】ヒュッパーの掃討　モンスターの居場所用
	//	DelMapMarker( SMI_QUEST, PAGE_F002, MARKER_QS_302_LP, 0, 0)		// 【QS302】アギアギラの討伐　モンスターの居場所用
	//	DelMapMarker( SMI_QUEST, PAGE_F008, MARKER_QS_400_LP, 0, 0)		// 【QS400】ししょーへの献上（リコッタ）スキル猿が居る場所用
	//	DelMapMarker( SMI_QUEST, PAGE_MP433x, MARKER_QS_503_LP, 0, 0)	// 【QS503】グラドゥーナの掃討　モンスターの居場所用
	//	DelMapMarker( SMI_QUEST, PAGE_F037, MARKER_QS_530_LP, 0, 0)		// 【QS530】ヴァルクイラの討伐　モンスターの居場所用
	//	DelMapMarker( SMI_QUEST, PAGE_MP230x, MARKER_QS_602_LP1, 0, 0)	// 【QS602】白酒の調達（カシュー）▽タナトスに聞く を見た場合に付く発酵樹液のポイント用
	//	DelMapMarker( SMI_QUEST, PAGE_F002,   MARKER_QS_602_LP2, 0, 0)	// 【QS602】白酒の調達（カシュー）▽タナトスに聞く を見た場合に付く発酵樹液のポイント用
	//	DelMapMarker( SMI_QUEST, PAGE_F037,   MARKER_QS_602_LP3, 0, 0)	// 【QS602】白酒の調達（カシュー）▽タナトスに聞く を見た場合に付く発酵樹液のポイント用
	//	DelMapMarker( SMI_QUEST, PAGE_MP6401, MARKER_QS_610_LP1, 0, 0)	// 【QS610】親友の遺言（ダーナ）「▽ダーナの部屋の棚を調べる」の場所用
	//	DelMapMarker( SMI_QUEST, PAGE_MP6401, MARKER_QS_610_LP2, 0, 0)	// 【QS610】親友の遺言（ダーナ）「▽中央書架の棚を調べる」の場所用１
	//	DelMapMarker( SMI_QUEST, PAGE_MP6401, MARKER_QS_610_LP3, 0, 0)	// 【QS610】親友の遺言（ダーナ）「▽中央書架の棚を調べる」の場所用２
	//	DelMapMarker( SMI_QUEST, PAGE_MP6401, MARKER_QS_610_LP4, 0, 0)	// 【QS610】親友の遺言（ダーナ）「▽中央書架の棚を調べる」の場所用３
	//	DelMapMarker( SMI_QUEST, PAGE_MP6401, MARKER_QS_610_LP5, 0, 0)	// 【QS610】親友の遺言（ダーナ）「▽中央書架の棚を調べる」の場所用４
	//	DelMapMarker( SMI_QUEST, PAGE_MP6401, MARKER_QS_610_LP6, 0, 0)	// 【QS610】親友の遺言（ダーナ）「▼中央書架の机を調べる」の場所用
	//	DelMapMarker( SMI_QUEST, PAGE_MP632x, MARKER_QS_610_LP7, 0, 0)	// 【QS610】親友の遺言（ダーナ）「▼バハの塔の石碑を調べる」の場所用
	//	DelMapMarker( SMI_QUEST, PAGE_F032, MARKER_QS_610_LP8, 0, 0)	// 【QS610】親友の遺言（ダーナ）「▼クエスト達成イベント」の場所用

	//	DelMapMarker( SMI_QUEST , PAGE_F034, MARKER_QS_613_0, 0, 0)					// 【QS613】卵の奪還
	//	DelMapMarker( SMI_NIGHT_QUEST, PAGE_F034t2, MARKER_QS_613_1, 0, 0)			// 【QS613】卵の奪還（巣の位置）
	//	DelMapMarker( SMI_NIGHT_QUEST, PAGE_F034t2, MARKER_QS_613_2, 0, 0)			// 【QS613】卵の奪還（野営地）
	//	DelMapMarker( SMI_NIGHT_QUEST, PAGE_F034t2, MARKER_QS_613_3, 0, 0)			// 【QS613】卵の奪還（巣の位置）※ハズレ
	//	DelMapMarker( SMI_NIGHT_QUEST, PAGE_F034t2, MARKER_QS_613_4, 0, 0)			// 【QS613】卵の奪還（巣の位置）※ハズレ

	//	// 広域地図上の全マーカーを削除
	//	DelMapMarkerAll();
	//
	//	// 水晶石のチェック状態を解除
	//	SetFlag(TF_MENU_SELECT, CP_CRYSTAL_START)
	//	while(FLAG[TF_MENU_SELECT] < CHECK_POINT_MAX)
	//	{
	//		DelCheckPoint(FLAG[TF_MENU_SELECT])
	//		SetFlag(TF_MENU_SELECT, (FLAG[TF_MENU_SELECT] + 1))
	//	}

	/////////////////////////////////////
	//エンディング分岐

		//↓ボツになってVITA版と同じ条件に（名声値は追加クエスト分調整）
		//※新ＥＮＤの条件は変更。ＮＰＣ全回収と過去Ⅶクリアが必要。
		//if((FLAG[GF_FAME_POINT] >= 198) && FLAG[GF_SUBEV_PAST_07_CLEAR]	//名声値150以上かつ過去編Ⅶクリア
		//&& FLAG[GF_SUBEV_JOIN_AUSTEN] && FLAG[GF_SUBEV_JOIN_KASHU]
		//&& FLAG[GF_SUBEV_JOIN_GRISELDA] && FLAG[GF_SUBEV_JOIN_NIA]
		//&& FLAG[GF_SUBEV_JOIN_SILVIA] && FLAG[GF_SUBEV_JOIN_ED]
		//&& FLAG[GF_SUBEV_JOIN_FRANZ] && FLAG[GF_SUBEV_JOIN_MIRALDA]
		//&& FLAG[GF_SUBEV_JOIN_REJA] && FLAG[GF_SUBEV_JOIN_CURRAN2] )
		//{
		//	SetFlag( GF_TRUE_END , 1 )	//トゥルーエンド
		//}
		//else if(FLAG[GF_FAME_POINT] >= 104 ){	//75以上
		//	SetFlag( GF_NORMAL_END , 1 )	//ノーマルエンド
		//}

		//▼▼▼VITA版の判定
		if(FLAG[GF_FAME_POINT] >= 198 ){	//198以上
			SetFlag( GF_TRUE_END , 1 )		//トゥルーエンド
		}
		else if(FLAG[GF_FAME_POINT] >= 104 ){	//104以上
			SetFlag( GF_NORMAL_END , 1 )	//ノーマルエンド
		}

		//103以下はバッドエンド（フラグ立たない）

	/////////////////////////////////////

		//ミストルティン変化前の武器をかき戻す
		if(FLAG[GF_ADOLWEAPON_BACKUP] >= 1)	//ショートソード以上
		{
			GetItem(FLAG[GF_ADOLWEAPON_BACKUP],1)
			EquipWeapon(ADOL,FLAG[GF_ADOLWEAPON_BACKUP]	)
		}
		else if(FLAG[GF_ADOLWEAPON_BACKUP] <= 0)	//◆錆びた剣以下（デバッグの場合のみ？）
		{
			GetItem(ICON3D_WP_ADOL_207,1)
			EquipWeapon(ADOL,ICON3D_WP_ADOL_207	)
		}

		//ミストルティンをアイテム一覧からも消し去る
		DeleteItem(ICON3D_WP_ADOL_008, 9999)		// lv62 神剣ミストルティン

	/////////////////////////////////////

		//ダーナ装備解除（武器以外）
		if(FLAG[GF_TRUE_END])	//トゥルーエンド時のみ
		{	
			EquipArmor(DANA, -1)
			EquipShield( DANA, -1 )
			EquipAccessory(DANA, -1, 0)
			EquipAccessory(DANA, -1, 1)
		}

		//パーティをアドルひとりだけにする
		//SeparateParty( PARTY_ADOL )
		//SetPartyMember( PARTY_ADOL , -1, -1 )
		//SetFlag( SF_DANA_JOINOK, 0 )		//	ダーナ脱退

	//	//ダーナが出撃メンバーにいた場合、出撃メンバーからダーナを外す
	//	if(IsPartyIn(PARTY_DANA)){
	//		SeparateParty( PARTY_DANA )
	//		SetFlag( SF_DANA_JOINOK, 0 )		//	ダーナ脱退
	//
	//		//パーティにいない誰かをJOIN
	//		if(!IsPartyIn(PARTY_ADOL)){
	//			JoinParty( PARTY_ADOL )
	//		}
	//		else if(!IsPartyIn(PARTY_LAXIA)){
	//			JoinParty( PARTY_LAXIA )
	//		}
	//		else if(!IsPartyIn(PARTY_SAHAD)){
	//			JoinParty( PARTY_SAHAD )
	//		}
	//	}else {
	//		SetFlag( SF_DANA_JOINOK, 0 )		//	ダーナ脱退
	//	}

		//	やり込みメッセージ（燃石渡し／カトリーン）
		//　　※エピローグに入るタイミングでも燃石を消す。
		DeleteItem( ICON3D_FIRESTONE, 999 )		//	燃石を全て没収する。

		//マップパラメーターリセット
		ResetMapParam(-1)

		//パーティキャラを解放
		ReleaseEventPartyChr()

		//イベント後の再配置位置
		SetChrPos("LEADER",-13.04f,-1361.91f,11.57f)
		Turn("LEADER",-29.99f,360.0f)

		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		//アドルお一人様制御
		//SetFlag( GF_PARTY_NONE , 0)		//パーティ全員行動OFF
		//FixPlayerChr(PARTY_ADOL)	// アドルおひとり様モードON

		//NPC配置
		CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
		CallFunc("talk:mp1202" )

		//BGM設定◆
		//PlayBGM( BGM_FIELD_101 , XX )

		//カメラ位置復帰or初期位置設定
		MoveCameraAt( 0 , -13.036f , -1361.909f , 12.927f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 4.388f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
		RotateCamera( 0 , -150.009f , 0 )				// 角度
		ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , -0.0f , 0 )				// ロール回転

		CallFunc("system:camera_reset")

		PlayBGM(BGM_TOWN_501, 0)
		FadeBGM(100,10)
		SetEnvSEPlayState(1202001, 1)	//環境SEスタート
		SetEnvSEPlayState(1202201, 1)	//環境SEスタート
		SetEnvSEPlayState(1202202, 1)	//環境SEスタート
		SetEnvSEPlayState(1202203, 1)	//環境SEスタート
		
		ResetStopFlag(STOPFLAG_EVENT)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}


//終了処理ここまで----------------------------------------------------
}

function "EV_M07S001"
{
	CallFunc("system:solo_event_begin")

	CallFunc("system:event_party")

	SetChrPos("LEADER",38.40f,-1415.28f,10.83f)
	Turn("LEADER",49.66f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()

	CallFunc("system:camera_reset")

	SetFlag(SF_WARP_DISABLED,0)			//ワープ禁止解除

	DelCheckPoint(CP_MP6409_1)
	DelCheckPoint(CP_MP6409_2)
	DelCheckPoint(CP_MP6409_3)

	DelMapMarker( SMI_CHECKED_WARPPT, PAGE_F039, MARKER_CP_MP6409_1, -273, 584 )	// 古い水晶石マーカーの撤去
	DelMapMarker( SMI_CHECKED_WARPPT, PAGE_F039, MARKER_CP_MP6409_2, -273, 584 )	// 古い水晶石マーカーの撤去
	DelMapMarker( SMI_CHECKED_WARPPT, PAGE_F039, MARKER_CP_MP6409_3, -273, 584 )	// 古い水晶石マーカーの撤去

	SetMapMarker( SMI_CHECKED_WARPPT, PAGE_MP120x, -1, 41, -1420, 11, 41, -1420, CP_MP1201_02, MN_T_VILLAGE_MP1201,0)	// 新しい水晶石マーカーを設置
	SetCheckPoint( CP_MP1201_02 )

	SetCheckPoint(CP_MP6409_4)
	SetMapMarker( SMI_CHECKED_WARPPT, PAGE_F039,MARKER_CP_MP6409_4 , -273, 584 , 110, -273, 584, CP_MP6409_4, MN_D_MP6408,0)	// 新しい水晶石マーカーを設置


	AddWarpDisableList(CP_CRYSTAL_START, CHECK_POINT_MAX)			//全体禁止（ロケーションポイント含む）
	//AddWarpDisableList(CP_CRYSTAL_START, CP_CRYSTAL_MAX)			//全体禁止
	DelWarpDisableList(CP_MP1201_02,CP_MP1201_02)					// 01:漂流村
	DelWarpDisableList(CP_MP6409_4, CP_MP6409_4)					// 36:大樹の寺院・前（エピローグ版
	//AddWarpDisableList(CP_L_MP1112, CP_LOCATION_MAX)				//全体禁止（ロケーションポイント）

	Wait(15)

	ResetStopFlag(STOPFLAG_EVENT)
	WarpMenu( 0, -1 )	//ワープメニュー開く
	FadeIn(FADE_BLACK, 5)
	WaitFade()

	WaitMenu(0)
}


function "EV_M07S002"		// 漂流村を回ってみる
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Aaron")
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
//	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 17.52f, -1401.36f, 11.49f )
	Turn("ADOL", -38.42f, 360.00f )
	ChangeAnimation("ADOL","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrPos("Dogi", 36.40f, -1428.05f, 11.59f )
	Turn("Dogi", 9.30f, 360.00f )
	ChangeAnimation("Dogi","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	LookReset("Dogi")
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )
	
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrPos("Aaron", 38.10f, -1426.22f, 11.51f )
	Turn("Aaron", 11.96f, 360.00f )
	ChangeAnimation("Aaron","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	LookReset("Aaron")
	SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI )

	SetChrInfoFlag("Dogi",INFOFLAG_ANYTIMECALC)
	SetChrInfoFlag("Aaron",INFOFLAG_ANYTIMECALC)
	
	//BGM設定
//	PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , 21.805f , -1404.766f , 13.737f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.419f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.127f , 0 )	// 基本仰角
	RotateCamera( 0 , 70.151f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 60.000 ,0.000 ,0.450 ,1.000)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)	//イベント毎に調整

	SetSkipScript("mp1201:EV_M07S002_ED")

//開始処理ここまで----------------------------------------------------

	// カット1 ------------------------------------------------------------------------------------------

	//　　周囲を見回しつつ休息所から出てくるアドル。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 21.473f , -1406.262f , 13.017f , 140 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.619f , 140 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -3.419f , 140 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 65.563f , 140 )

	// 移動
	ExecuteCmd(1, MoveTo, "ADOL", 21.36f, -1406.32f, 11.49f, 0.1f, 0.21f)

	LookSpd("ADOL", 0.08f, 0.08f, 0.08f )// ゆっくりめに首向き
	Look("ADOL", 40.0f, 0.0f)	// ←（＾＾）

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	Wait(30)
	Look("ADOL", -40.0f, 0.0f)	// （＾＾）→
	Wait(50)
	Look("ADOL", 0.0f, 0.0f)	// （＾＾）

	// 移動待ち
	WaitThread(1)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// 移動
	ExecuteCmd(1, MoveTo, "Dogi", 31.93f, -1455.36f, 10.08f, 0.1f, 0.18f)
	Wait(10)
	ExecuteCmd(2, MoveTo, "Aaron", 33.30f, -1454.29f, 10.21f, 0.1f, 0.18f)

	// カット2 ----------------------------------------------------------------------------------------

	//　　脱出に向けて明るい様子で準備している漂流者たちを映す。

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ
	MoveCameraAt( 0 , 21.927f , -1406.449f , 13.117f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.660f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.229f , 0 )	// 基本仰角
	RotateCamera( 0 , 201.072f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 21.927f , -1406.449f , 13.117f , 240 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.660f , 240 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.802f , 240 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 194.197f , 240 )

	// フェード待ち
	Wait(FADE_FAST)

	// ナレーション
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
		"#7Cラクシャの言う通り、"
		"#7C脱出の準備が始まっているようだ。"
		"脱出3行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)
	
	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	MoveCameraAt( 0 , 25.810f , -1423.976f , 11.678f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 12.960f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.901f , 0 )	// 基本仰角
	RotateCamera( 0 , 66.074f , 0 )				// 角度
	ChangeCameraPers( 0 , 58.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 28.470f , -1417.976f , 11.678f , 430 )
	//ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.660f , 430 )
	//ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.802f , 430 )
	//ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 194.197f , 430 )

	//MoveCameraAt( 0 , 28.470f , -1417.976f , 11.678f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 12.960f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 10.901f , 0 )	// 基本仰角
	//RotateCamera( 0 , 66.074f , 0 )				// 角度
	//ChangeCameraPers( 0 , 58.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(15)

	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
		"#7C漂流者たちの表情は皆明るく、"
		"#7C村の中は活気に満ちている。\p"
		"#7Cサハドたちの話も"
		"#7C聞いてみるべきだろうか……"
		"聞いてみる5行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(15)

	//　　ここで操作許可。

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M07S002_ED")
	
}
function "EV_M07S002_ED"
{
	//スキップ禁止
	SetSkipScript("")

	StopThread(1)
	StopThread(2)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	//イベント前のキャラ情報を復帰
	RestoreEventState()
	
	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	
	//パーティキャラを解放
	ReleaseEventPartyChr()
	
	//マップパラメーターリセット
	ResetMapParam( -1 )


	ResetChrInfoFlag("Dogi",INFOFLAG_ANYTIMECALC)
	ResetChrInfoFlag("Aaron",INFOFLAG_ANYTIMECALC)

	// フラグ処理
	SetFlag( GF_07MP1201_VILLAGE_WALK, 1 )
	//SetFlag( SF_MISSIONNO, MS_07_01B )	//★冒険メモ：サハドたちと話をしてみよう。

	CallFunc("mp1201:init")
	
	//イベント後の再配置
	SetChrPos("LEADER", 22.25f, -1407.17f, 11.49f )
	Turn("LEADER", -29.94f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用
	
	//カメラ位置復帰 or 初期位置設定
	MoveCameraAt( 0 , 22.253f , -1407.165f , 13.352f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.931f , 0 )	// 基本仰角
	RotateCamera( 0 , -150.057f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	RestoreCamera(0,0)														//※イベント終了時のカメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")
	
	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
	
}


//──────────────────────────────
//▼【エンディングⅠ】セイレン島から脱出する
//──────────────────────────────

function "EV_M07S020"			//ＥＤⅠ セイレン島から脱出する
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)

	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Thanatos")
	LoadChr("Aaron")
	LoadChr("Dogi")
	LoadChr("Dina")
	LoadChr("Katrin")
	LoadChr("Alison")
	LoadChr("Kuina")
	CallFunc("system:Load_FreeNPC_Event")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))
			
	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	SetChrPos("ADOL", 20.92f, -1488.78f, 3.35f)
	Turn("ADOL", -4.06f, 360.0f)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	SetChrPos("LAXIA", 20.06f, -1489.14f, 3.26f)
	Turn("LAXIA", -32.48f, 360.0f)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	SetChrPos("SAHAD", 22.62f, -1489.78f, 3.24f)
	Turn("SAHAD", 88.32f, 360.0f)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	SetChrPos("RICOTTA", 21.79f, -1488.96f, 3.34f)
	Turn("RICOTTA",27.92f, 360.0f)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)
	
	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	SetChrPos("HUMMEL", 20.57f, -1490.72f, 2.99f)
	Turn("HUMMEL", -163.95f, 360.0f)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)
	
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	SetChrPos("Aaron", 21.63f, -1490.78f, 3.03f)
	Turn("Aaron", 156.97f, 360.0f)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	SetChrPos("Thanatos", 19.76f, -1490.02f, 3.08f)
	Turn("Thanatos", -99.80f, 360.0f)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	SetChrPos("Dogi", 10.16f, -1528.02f, 1.29f)
	Turn("Dogi",95.61f, 360.0f)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	SetChrWork("Kuina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Kuina", "ANI_WAIT", -1, 1)
	SetChrPos("Kuina", -0.68f, -1528.31f, 2.02f)
	Turn("Kuina", -92.64f, 360.0f)
	ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_LAUGH, 1)
	ChangeSubAnimation("Kuina", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Kuina", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Kuina")
	SetChrInfoFlag("Kuina", INFOFLAG_NOCHRATARI)

	SetChrWork("Kashu", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Kashu", "ANI_WAIT", -1, 1)
	SetChrPos("Kashu", -0.90f, -1525.63f, 1.89f)
	Turn("Kashu", 139.45f, 360.0f)
	ChangeSubAnimation("Kashu", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Kashu", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Kashu", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Kashu")
	SetChrInfoFlag("Kashu", INFOFLAG_NOCHRATARI)

	SetChrWork("Franz", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Franz", "ANI_WAIT", -1, 1)
	SetChrPos("Franz", -0.99f, -1511.10f, 1.89f)
	Turn("Franz", 1.92f, 360.0f)
	ChangeSubAnimation("Franz", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Franz", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Franz", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Franz")
	SetChrInfoFlag("Franz", INFOFLAG_NOCHRATARI)

	SetChrWork("Nia", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Nia", "ANI_WAIT", -1, 1)
	SetChrPos("Nia", -2.82f, -1527.54f, 1.99f)
	Turn("Nia",-93.06f, 360.0f)
	ChangeSubAnimation("Nia", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Nia", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Nia", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Nia")
	SetChrInfoFlag("Nia", INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Nia" , INFOFLAG_FLING )	// 高さ無視

	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Alison", "ANI_WAIT", -1, 1)
	SetChrPos("Alison", 9.25f, -1531.43f, 1.29f)
	Turn("Alison", -82.23f, 360.0f)
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Alison", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Alison", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Alison")
	SetChrInfoFlag("Alison", INFOFLAG_NOCHRATARI)
	
	SetChrWork("Ed", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Ed", "ANI_WAIT", -1, 1)
	SetChrPos("Ed", 8.94f, -1530.85f, 1.29f)
	Turn("Ed", -89.34f, 360.0f)
	ChangeSubAnimation("Ed", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Ed", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Ed", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Ed")
	SetChrInfoFlag("Ed", INFOFLAG_NOCHRATARI)

	SetChrWork("Reja", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Reja", "ANI_WAIT", -1, 1)
	SetChrPos("Reja", 8.81f, -1536.40f, 2.50f)
	Turn("Reja", -7.62f, 360.0f)
	ChangeSubAnimation("Reja", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Reja", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Reja", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Reja")
	SetChrInfoFlag("Reja", INFOFLAG_NOCHRATARI)

//	MapAnime( "Shipyard" , "Lv9" )

	//カメラ設定
	MoveCameraAt( 0 , 16.914f , -1531.426f , 8.598f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 12.768f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -14.015f , 0 )	// 基本仰角
	RotateCamera( 0 , 355.123f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 125.000, 2.000, 0.750, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M07S020_ED")

	//開始処理ここまで-----------------------------------------------

	//　　画面フェードインして海岸に
	//　　停泊しているロンバルディアⅡ世号を映す。
	//　　漂流者たちが船に乗り込み始めている様子で、
	//　　桟橋の前にアドル、ラクシャ、サハド、リコッタ、
	//　　ヒュンメル、タナトス、エアランが集まっている。
	
	// カット1 ----------------------------------------------------------------------------------------
	

	LookChr("ADOL", "SAHAD")
	LookChr("LAXIA", "SAHAD")
	LookChr("RICOTTA", "SAHAD")
	LookChr("Thanatos", "SAHAD")
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 11.221f , -1533.937f , 5.665f, 150 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 14.952f , 150 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -14.302f , 150 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 24.344f , 150 )

	// 非表示・再表示
	SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 非表示

	PlayBGM(BGM_TOWN_501, 0)
	SetEnvSEPlayState(1203001, 1)
	SetEnvSEPlayState(1203002, 1)
	SetEnvSEPlayState(1203003, 1)

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	Wait(10)
	
	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ
	MoveCameraAt( 0 , 2.892f , -1527.577f , 3.281f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.462f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.694f , 0 )	// 基本仰角
	RotateCamera( 0 , 74.649f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -0.323f , -1528.759f , 3.281f, 210 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.462f , 210 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -5.132f , 210 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 16.947f , 210 )

	// 移動
	SetMotSpd("Kuina" ,-1 , 0.7f )	// モーションスピード変更
	SetMotSpd("Nia" ,-1 , 0.7f )	// モーションスピード変更
	ExecuteCmd(1, MoveTo, "Kuina", 3.91f, -1528.31f, 2.38f, 0.1f, 0.13f)
	Wait(3)
	ExecuteCmd(2, MoveTo, "Nia", 3.47f, -1528.15f, 2.35f , 0.1f, 0.13f)
	ExecuteCmd(3, MoveTo, "Franz", -2.97f, -1524.03f, 1.89f , 0.1f, 0.18f)
	
	// フェード待ち
	Wait(FADE_FAST)
	
	EmotionEx("Kuina", 0.00f, EMO_ONPU, 0, 5, 1, 1, 1.0f )	// 「♪」

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	Wait(10)

	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// 移動停止
	StopThread(1)
	StopThread(2)
	StopThread(3)

	// カメラ
	MoveCameraAt( 0 , 19.414f , -1490.762f , 5.706f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.745f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.511f , 0 )	// 基本仰角
	RotateCamera( 0 , 169.716f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetChrPos("Nia", -100000.00f, 0.00f, 0.00f)		// 彼方へ
	SetChrPos("Franz", -100000.00f, 0.00f, 0.00f)	// 彼方へ
	


	// カメラ移動（注視点）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 19.985f , -1490.865f , 5.206f , 60 )

	// カメラ待ち（注視点）
	WaitThread(1000)
	
	Wait(10)

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ
	MoveCameraAt( 0 , 21.693f , -1489.436f , 4.946f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.265f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -5.093f , 0 )	// 基本仰角
	RotateCamera( 0 , 313.460f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 非表示
	
	// フェード待ち
	Wait(FADE_FAST)
	
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	PlayVoice(Y8V_1411,"SAHAD",100)	//ガハハ（控えめな笑い）
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#021e#080mガハハ、天気は良好、"
		"海の状態も悪くなさそうだな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	WaitAnimation2("SAHAD", -1, 1, "ANI_EV_RYOTEKOSI_S", 0)
	LookChr("SAHAD", "ADOL")
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// 両手腰手振り
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#080e#080mこれなら問題なくスニオン港へ"
		"たどり着くことができるだろ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , 19.975f , -1489.647f , 4.786f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.213f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.299f , 0 )	// 基本仰角
	RotateCamera( 0 , 109.966f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)	// 非表示

	// カメラ移動（角度）
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 117.702f , 300 )

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Thanatos", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目

	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#000mこうして振り返ると"
		"長いようで短い漂流生活じゃったのう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	Look("LAXIA", 0.0f, -10.0f)	// うつむく
	PlayVoice(Y8V_0374,"LAXIA",100)	//ふふ（微笑）

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#080mふふ、帰れる嬉しさはあるのですが、"
		"どこか名残り惜しいですね。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)

	// カット6 ----------------------------------------------------------------------------------------

	//　　船の上からドギが話しかけてくる。
	
	// クロスフェード
	CrossFade(FADE_NORMAL)

	// カメラ停止
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , 10.400f , -1527.989f , 3.370f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.470f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -5.673f , 0 )	// 基本仰角
	RotateCamera( 0 , 139.149f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("Kuina", 9.75f, -1534.35f, 1.29f)
	Turn("Kuina", 84.09f, 360.0f)
	SetChrPos("Reja",8.99f, -1534.45f, 1.29f)
	Turn("Reja",-89.34f, 360.0f)
	
	SetChrPos("ADOL", 20.92f, -1488.78f, 3.35f)
	Turn("ADOL", -4.06f, 360.0f)
	SetChrPos("LAXIA", 20.06f, -1489.14f, 3.26f)
	Turn("LAXIA", -11.16f, 360.0f)
	SetChrPos("SAHAD", 22.99f, -1490.02f, 3.22f)
	Turn("SAHAD", 20.81f, 360.0f)
	SetChrPos("RICOTTA", 21.91f, -1489.11f, 3.32f)
	Turn("RICOTTA", 10.15f, 360.0f)
	SetChrPos("HUMMEL", 20.06f, -1490.76f, 2.96f)
	Turn("HUMMEL", -4.06f, 360.0f)
	SetChrPos("Aaron", 23.00f, -1491.06f, 3.05f)
	Turn("Aaron", 18.40f, 360.0f)
	SetChrPos("Thanatos", 19.37f, -1490.03f, 3.06f)
	Turn("Thanatos", -7.42f, 360.0f)
	
	LookChr("ADOL", "Dogi")
	LookChr("LAXIA", "Dogi")
	LookChr("SAHAD", "Dogi")
	LookChr("RICOTTA", "Dogi")
	LookChr("HUMMEL", "Dogi")
	LookChr("Aaron", "Dogi")
	LookChr("Thanatos", "Dogi")
	
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "Thanatos", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機

	// 非表示・再表示
	ResetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 再表示

	// カメラ移動（垂直）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 10.400f , -1527.989f , 3.130f , 55 )

	// フェード待ち
	Wait(FADE_NORMAL)
	
	Turn("Dogi",-136.48f, 7.0f)
	Wait(10)
	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// カメラ待ち
	WaitThread(1000)
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#080m#18Sよーし、アドル！"
		"#18S後はお前たちが乗り込むだけだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット7 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)
	MoveCameraAt( 0 , 21.384f , -1489.492f , 4.274f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.837f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 12.135f , 0 )	// 基本仰角
	RotateCamera( 0 , 21.503f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
//
//	// カメラ
//	MoveCameraAt( 0 , 20.313f , -1490.184f , 4.522f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.318f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -3.784f , 0 )	// 基本仰角
//	RotateCamera( 0 , 19.578f , 0 )				// 角度
//	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.6f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 再表示

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 20.675f , -1489.949f , 4.522f, 35 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.318f , 35 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -3.784f , 35 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 19.578f , 35 )

	// フェード待ち
	Wait(FADE_FAST)

	Wait(10)
	LookChr("RICOTTA", "ADOL")
	TurnToChr("RICOTTA", "ADOL", 5.0f)
//
//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//
	Look("ADOL", -17 , -13)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKL_S,1)

	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#000e#000mアドル、早く船に乗る！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("HUMMEL", "ADOL")
	Turn("HUMMEL", -92.89f, 7.0f)
	Wait(10)
	ChangeAnimation( "HUMMEL", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#000e#000m先に失礼するぞ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL", "HUMMEL")
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKL_E,1)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 20.869f , -1491.094f , 3.997f , 180 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.318f , 180 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -6.491f  , 180 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 39.412f , 180 )
	
	WaitAnimation2("HUMMEL", -1, 1, "ANI_EV_TEBURI", 0)
	LookReset("HUMMEL")
	Turn("HUMMEL", 13.70f, 9.0f)
	
	// 移動
	ExecuteCmd(1, MoveTo, "HUMMEL",18.78f, -1494.63f, 2.76f, 0.1f, 0.16f)

	LookReset("RICOTTA")
	Turn("RICOTTA", 12.50f, 7.0f)
	
	// 移動
	ExecuteCmd(2, MoveTo, "RICOTTA",18.78f, -1494.63f, 2.76f, 0.1f, 0.16f)

	Wait(60)
	
	// カット8 ---------------------------------------------------------------------------------------

	//　　リコッタとヒュンメルがタラップを伝って
	//　　船に乗り込んでいくのを見せてから、
	//　　ラクシャに「…」エモーション表示。
	
	// クロスフェード
	CrossFade(FADE_FAST)
	
	// 移動停止
	StopThread(1)
	StopThread(2)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 20.218f , -1488.374f , 4.829f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.296f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.089f , 0 )	// 基本仰角
	RotateCamera( 0 , 143.336f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	SetChrPos("ADOL", 21.14f, -1488.77f, 3.36f)
	Turn("ADOL", 27.92f, 360.0f)
	SetChrPos("LAXIA", 20.06f, -1489.14f, 3.26f)
	Turn("LAXIA", 13.71f, 360.0f)
	SetChrPos("SAHAD", 22.10f, -1490.09f, 3.16f)
	Turn("SAHAD", 42.13f, 360.0f)
	SetChrPos("RICOTTA", 9.80f, -1493.40f, 3.63f)
	Turn("RICOTTA", 36.07f, 360.0f)
	SetChrPos("HUMMEL", 8.49f, -1495.22f, 3.95f)
	Turn("HUMMEL", 36.07f, 360.0f)
	SetChrPos("Aaron",21.26f, -1490.95f, 2.98f)
	Turn("Aaron", 53.93f, 360.0f)
	SetChrPos("Thanatos", 19.99f, -1490.51f, 3.00f)
	Turn("Thanatos", 45.88f, 360.0f)
	
	LookChr("ADOL", "HUMMEL")
	LookChr("LAXIA", "HUMMEL")
	LookChr("SAHAD", "HUMMEL")
	LookChr("Aaron", "HUMMEL")
	LookChr("Thanatos", "HUMMEL")
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 20.838f , -1489.173f , 4.769f, 140 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.260f, 140 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.659f , 140 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 167.974f , 140 )
	
	// 移動
	ExecuteCmd(1, MoveTo, "HUMMEL", 0.75f, -1506.92f, 1.89f, 0.1f, 0.165f)
	ExecuteCmd(2, MoveTo, "RICOTTA", 0.75f, -1506.92f, 1.89f, 0.1f, 0.16f)
	
	// フェード待ち
	Wait(FADE_FAST)
	
	Wait(45)
	
	EmotionEx("LAXIA", 0.0f, "EMO_3DOT", 27, 5, 1, 1, 1.0f)	// 「…」
	Wait(52)

	LookChr("LAXIA", "ADOL")
	Turn("LAXIA", -82.22f, 6.0f)
	
	LookChr("ADOL", "LAXIA")
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mアドル、不思議ですね……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	Look("LAXIA", 0.0f, -10.0f)	// うつむく
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#011e#000m必要な荷物は載せましたし、"
		"漂流者も全員揃っているはずです。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("LAXIA", "ADOL")
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#062e#000mリストも全てチェックしたのですが、"
		"何かが引っかかるのです……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Look("LAXIA", 0.0f, -10.0f)	// うつむく
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#061e#000mまるで大切なものを忘れているような……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 20.992f , -1489.198f , 4.769f , 60 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.516f , 60 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.800f , 60 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 179.434f , 60 )

	Wait(20)

	LookChr("SAHAD", "LAXIA")
	TurnToChr("SAHAD", "LAXIA", 5.0f)

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mよくあるじゃねーか。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	LookChr("ADOL", "SAHAD")
	LookChr("LAXIA", "SAHAD")
	ChangeAnimation( "SAHAD", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"出かけようとすると"
		"忘れ物したような気持ちになる時が。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#000e#000mそ、そういうものでしょうか……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット9 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// 移動停止
	StopThread(1)
	StopThread(2)
	
	// カメラ
	MoveCameraAt( 0 , 21.158f , -1490.326f , 4.689f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.012f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.924f , 0 )	// 基本仰角
	RotateCamera( 0 , 110.661f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 21.158f , -1490.326f , 4.689f , 210 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.012f , 210 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,  -1.497f , 210 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 90.605f , 210 )
	
	// 位置調整・表情・モーション
	SetChrPos("LAXIA", 19.94f, -1489.35f, 3.21f)
	Turn("LAXIA", -82.22f, 360.0f)
	LookChr("ADOL", "Thanatos")
	LookChr("SAHAD", "Thanatos")
	
	// 非表示・再表示
	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 非表示
	
	LookReset("Aaron")
	Turn("Aaron", 178.29f, 6.0f)
	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	LookChr("LAXIA", "Aaron")
	LookChr("Thanatos", "Aaron")
	Turn("Thanatos", -134.18f, 7.0f)
	
	// エアラン
	TalkPopup("Aaron", 0, 1, 0, 0, 0) {
		"#011e#000mフン、だが分かる気はするぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Aaron", "LAXIA")

	// エアラン
	TalkPopup("Aaron", 0, 1, 0, 0, 0) {
		"#012e#000m何だかんだでこの島には"
		"思い入れが出来ちまったからなァ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Thanatos")
	ChangeAnimation( "Thanatos", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	// タナトス
	TalkPopup("Thanatos", 0, 2, 0, 0, 0) {
		"#011e#000m全くじゃ、ワシなんかここが"
		"第二の故郷みたいなモンじゃ。\p"
		"#012e#000mいつか戻ってきたい"
		"気持ちすら湧いてくるぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット10 ---------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , 21.065f , -1489.742f , 4.709f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.776f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.823f , 0 )	// 基本仰角
	RotateCamera( 0 , 290.691f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 再表示

	// 位置調整・表情・モーション
	SetChrPos("ADOL", 21.31f, -1488.81f, 3.35f)
	Turn("ADOL", 20.81f, 360.0f)
	SetChrPos("LAXIA", 20.06f, -1489.19f, 3.25f)
	Turn("LAXIA",-50.24f, 360.0f)
	SetChrPos("SAHAD", 22.09f, -1489.81f, 3.21f)
	Turn("SAHAD", 82.99f, 360.0f)
	SetChrPos("Thanatos", 20.28f, -1490.67f, 2.99f)
	Turn("Thanatos", -134.18f, 360.0f)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_E_SMILE, 1)	// 口

	// カメラ移動（角度）
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 284.102f , 300 )

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#021e#080mガハハ、なるほどな。\p"
		"#022e#080mだが、いつまでも"
		"このままってワケにもいかん。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("SAHAD")
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// 両手腰手振り
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"名残惜しいが、明日に向かって"
		"わしらは進んでいかなくちゃあな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Thanatos", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	LookChr("Thanatos", "ADOL")

	// タナトス
	TalkPopup("Thanatos", 0, 1, 0, 0, 0) {
		"#000e#000mウム、その通りじゃ。"
		"アドル、そろそろ出航するとしよう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カメラ停止
	StopThread(1003)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 21.065f , -1489.742f , 6.069f, 180 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.232f , 180 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -6.406f , 180 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 294.992f , 180 )

	//　　アドル、頷いて画面フェードアウト。
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(20)

	StopBGM(180)

	Wait(20)

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_SLOW)
	Wait(30)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	WaitFade()
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	Wait(60)
	
	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M07S020_ED")
}

function "EV_M07S020_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	SetFlag( GF_GALL_EV_EL_02, 1 )		// M07S010:ＥＤⅠ 寺院跡を訪れる＆脱出

	//NowLoading 時の Tips 表示をカット
	SetFlag(TF_LOADING_TIPS_OFF, 1)

	StopBGM(60)

	//イベント・ギャラリー中
	if(FLAG[TF_EVSKIP] && FLAG[SF_GALLERY_EVENT])
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENT)
	}
	// 通常時
	else
	{

		LoadArg("map/mp0021/mp0021.arg")
		EventCue("mp0021:EV_M07S021")	// NEXT：ＥＤⅠ セイレン島から脱出する２

		SetEnvSEPlayState(-1, 0)	//環境SE全停止

		ResetStopFlag(STOPFLAG_EVENT)
	}
	//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▼【エンディングⅡ】セイレン島から脱出する
//──────────────────────────────

function "EV_M07S050"			//ＥＤⅡ セイレン島から脱出する
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENT)

	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Thanatos")
	LoadChr("Aaron")
	LoadChr("Dogi")
	LoadChr("Dina")
	LoadChr("Katrin")
	LoadChr("Alison")
	LoadChr("Kuina")
	CallFunc("system:Load_FreeNPC_Event")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))
			
	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	SetChrPos("ADOL", 22.14f, -1489.64f, 3.24f)
	Turn("ADOL", 67.00f, 360.0f)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	SetChrPos("LAXIA", 20.29f, -1489.53f, 3.19f)
	Turn("LAXIA", -60.90f, 360.0f)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	SetChrPos("SAHAD", 21.81f, -1490.82f, 3.03f)
	Turn("SAHAD", 148.72f, 360.0f)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	SetChrPos("RICOTTA", 21.14f, -1489.00f, 3.20f)
	Turn("RICOTTA", -11.16f, 360.0f)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOATARI)	// アタリ無視（斜面なので沈める）

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	SetChrPos("HUMMEL", 20.41f, -1490.59f, 3.01f)
	Turn("HUMMEL", -131.97f, 360.0f)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)
	
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	SetChrPos("Aaron", -0.90f, -1525.63f, 1.89f)
	Turn("Aaron", 139.45f, 360.0f)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	SetChrPos("Thanatos", 8.81f, -1527.38f, 1.29f)
	Turn("Thanatos", -38.25f, 360.0f)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	SetChrPos("Dogi", 9.19f, -1528.85f, 1.29f)
	Turn("Dogi", 173.78f, 360.0f)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	SetChrWork("Kuina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Kuina", "ANI_WAIT", -1, 1)
	SetChrPos("Kuina", -0.68f, -1528.31f, 2.02f)
	Turn("Kuina", -92.64f, 360.0f)
	ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_LAUGH, 1)
	ChangeSubAnimation("Kuina", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Kuina", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Kuina")
	SetChrInfoFlag("Kuina", INFOFLAG_NOCHRATARI)

	SetChrWork("Kashu", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Kashu", "ANI_WAIT", -1, 1)
	SetChrPos("Kashu", -2.12f, -1517.88f, 1.89f)
	Turn("Kashu", -2.67f, 360.0f)
	ChangeSubAnimation("Kashu", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Kashu", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Kashu", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Kashu")
	SetChrInfoFlag("Kashu", INFOFLAG_NOCHRATARI)

	SetChrWork("Franz", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Franz", "ANI_WAIT", -1, 1)
	SetChrPos("Franz", -0.99f, -1511.10f, 1.89f)
	Turn("Franz", 1.92f, 360.0f)
	ChangeSubAnimation("Franz", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Franz", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Franz", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Franz")
	SetChrInfoFlag("Franz", INFOFLAG_NOCHRATARI)

	SetChrWork("Nia", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Nia", "ANI_WAIT", -1, 1)
	SetChrPos("Nia", -2.82f, -1527.54f, 1.99f)
	Turn("Nia",-93.06f, 360.0f)
	ChangeSubAnimation("Nia", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Nia", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Nia", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Nia")
	SetChrInfoFlag("Nia", INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Nia" , INFOFLAG_FLING )	// 高さ無視

	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Alison", "ANI_WAIT", -1, 1)
	SetChrPos("Alison", 9.25f, -1531.43f, 1.29f)
	Turn("Alison", -82.23f, 360.0f)
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Alison", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Alison", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Alison")
	SetChrInfoFlag("Alison", INFOFLAG_NOCHRATARI)
	
	SetChrWork("Ed", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Ed", "ANI_WAIT", -1, 1)
	SetChrPos("Ed", 8.94f, -1530.85f, 1.29f)
	Turn("Ed", -89.34f, 360.0f)
	ChangeSubAnimation("Ed", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Ed", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Ed", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Ed")
	SetChrInfoFlag("Ed", INFOFLAG_NOCHRATARI)

	SetChrWork("Reja", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Reja", "ANI_WAIT", -1, 1)
	SetChrPos("Reja", 8.81f, -1536.40f, 2.50f)
	Turn("Reja", -7.62f, 360.0f)
	ChangeSubAnimation("Reja", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Reja", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Reja", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Reja")
	SetChrInfoFlag("Reja", INFOFLAG_NOCHRATARI)

//	MapAnime( "Shipyard" , "Lv9" )

	//カメラ設定
	MoveCameraAt( 0 , 16.914f , -1531.426f , 8.598f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 12.768f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -14.015f , 0 )	// 基本仰角
	RotateCamera( 0 , 355.123f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 125.000, 2.000, 0.750, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M07S050_ED")

	//開始処理ここまで-----------------------------------------------

	//　　画面フェードインして海岸に
	//　　停泊しているロンバルディアⅡ世号を映す。
	//　　漂流者たちが船に乗り込み始めている様子で、
	//　　桟橋の前にアドル、ラクシャ、サハド、リコッタ、
	//　　ヒュンメルが集まっている。
	
	// カット1 ----------------------------------------------------------------------------------------
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 11.221f , -1533.937f , 5.665f, 150 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 14.952f , 150 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -14.302f , 150 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 24.344f , 150 )

	// 位置調整・表情・モーション
	LookChr("Dogi", "Thanatos")
	LookChr("Thanatos", "Dogi")

	// 非表示・再表示
	SetChrInfoFlag("Kuina", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Nia", INFOFLAG_INVISIBLE)	// 非表示

	PlayBGM(BGM_TOWN_501, 0)

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	Wait(10)
	
	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ
	MoveCameraAt( 0 , 9.855f , -1529.597f , 2.884f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.159f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.222f , 0 )	// 基本仰角
	RotateCamera( 0 , 43.950f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 9.318f , -1528.353f , 2.884f, 150 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.319f , 150 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.794f , 150 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 48.530f , 150 )

	ChangeAnimation( "Alison", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目

	// フェード待ち
	Wait(FADE_FAST)
	
	Wait(20)
	
	EmotionEx("Thanatos", 0.00f, EMO_WAI, 0, 5, 2, 0, 1.2f )	// 「ワイワイ」
	
	// 手振りセット
	ChangeAnimation( "Thanatos", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("Thanatos", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("Thanatos",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("Thanatos",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(40)
	ChangeSubAnimation("Thanatos",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("Thanatos", CWK_FORCELIPSYNC, 0)
	Wait(10)
	
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	Wait(20)
	HeadYes("Dogi", 1, 25)	// キャラ, うなずき回数, 速さ
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ
	MoveCameraAt( 0 , 2.892f , -1527.577f , 3.281f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.462f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.694f , 0 )	// 基本仰角
	RotateCamera( 0 , 74.649f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -0.323f , -1528.759f , 3.281f, 210 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.462f , 210 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -5.132f , 210 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 16.947f , 210 )

	// 非表示・再表示
	SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)	// 非表示
	ResetChrInfoFlag("Kuina", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("Nia", INFOFLAG_INVISIBLE)	// 再表示
	
	// 位置調整・表情・モーション
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("Dogi")
	
	// 移動
	SetMotSpd("Kuina" ,-1 , 0.7f )	// モーションスピード変更
	SetMotSpd("Nia" ,-1 , 0.7f )	// モーションスピード変更
	SetMotSpd("Kashu" ,-1 , 0.8f )	// モーションスピード変更
	ExecuteCmd(1, MoveTo, "Kuina", 3.91f, -1528.31f, 2.38f, 0.1f, 0.13f)
	Wait(3)
	ExecuteCmd(2, MoveTo, "Nia", 3.47f, -1528.15f, 2.35f , 0.1f, 0.13f)
	ExecuteCmd(3, MoveTo, "Franz", -2.97f, -1524.03f, 1.89f , 0.1f, 0.18f)
	Wait(3)
	ExecuteCmd(4, MoveTo, "Kashu", -2.34f, -1528.28f, 1.89f  , 0.1f, 0.16f)

	// フェード待ち
	Wait(FADE_FAST)
	
	EmotionEx("Kuina", 0.00f, EMO_ONPU, 0, 5, 1, 1, 1.0f )	// 「♪」

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	Wait(10)

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// 移動停止
	StopThread(1)
	StopThread(2)
	StopThread(3)
	StopThread(4)

	// カメラ
	MoveCameraAt( 0 , 19.414f , -1490.762f , 5.706f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.745f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.511f , 0 )	// 基本仰角
	RotateCamera( 0 , 169.716f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetChrPos("Nia", -100000.00f, 0.00f, 0.00f)	// 彼方へ
	SetChrPos("Franz", -100000.00f, 0.00f, 0.00f)	// 彼方へ
	SetChrPos("Kashu", -100000.00f, 0.00f, 0.00f)	// 彼方へ

	// カメラ移動（注視点）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 19.985f , -1490.865f , 5.206f , 60 )

	// カメラ待ち（注視点）
	WaitThread(1000)
	
	Wait(10)

	// カット5 -----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_FAST)
	MoveCameraAt( 0 , 21.123f , -1489.821f , 4.626f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.489f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.928f , 0 )	// 基本仰角
	RotateCamera( 0 , 214.975f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

//	// カメラ
//	MoveCameraAt( 0 , 21.123f , -1489.821f , 4.946f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.657f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 2.928f , 0 )	// 基本仰角
//	RotateCamera( 0 , 206.953f , 0 )				// 角度
//	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_LAUGH_S, 1)	// 目

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 21.123f , -1489.821f , 4.626f, 65 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.489f , 65 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.928f , 65 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 214.975f , 65 )
//
	// フェード待ち
	Wait(FADE_FAST)

//	Wait(20)
	

//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
	
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	PlayVoice(Y8V_1411,"SAHAD",100)	//ガハハ（控えめな笑い）
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#020e#080mガハハ、天気は良好、"
		"海の状態も悪くなさそうだな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	WaitAnimation2("SAHAD", -1, 1, "ANI_EV_RYOTEKOSI_S", 0)
	LookChr("SAHAD", "ADOL")
	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// 両手腰手振り
	
	LookChr("ADOL", "SAHAD")
	
	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#022e#080mこれなら問題なくスニオン港へ"
		"たどり着くことができるだろ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)

	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 20.735f , -1489.281f , 4.586f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.856f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.067f , 0 )	// 基本仰角
	RotateCamera( 0 , 28.302f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 20.705f , -1489.307f , 4.586f , 300 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.024f , 300 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.652f , 300 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 52.368f, 300 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	LookChr("RICOTTA", "LAXIA")
	ChangeAnimation( "RIOCTTA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#020e#080mリコッタ、島の外に出るの"
		"初めてだからドキドキするな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "RICOTTA")
	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_S", -1, 1 )	// 両手 前組み

	PlayVoice(Y8V_0374,"LAXIA",100)	//ふふ（微笑）

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#080e#080mふふ、きっと色々な驚きや"
		"出会いが待っていると思います。\p"
		"#091e#080mわたくしがこの島へ"
		"漂着した時のように……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	// カット7 -----------------------------------------------------------------------------------------

	//　　船の上からドギが話しかけてくる。
	
	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , 10.400f , -1527.989f , 3.370f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.470f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -5.673f , 0 )	// 基本仰角
	RotateCamera( 0 , 139.149f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("Dogi", 10.16f, -1528.02f, 1.29f)
	Turn("Dogi",95.61f, 360.0f)
	SetChrPos("Kuina", 9.75f, -1534.35f, 1.29f)
	Turn("Kuina", 84.09f, 360.0f)
	SetChrPos("Reja",8.99f, -1534.45f, 1.29f)
	Turn("Reja",-89.34f, 360.0f)

	SetChrPos("ADOL", 22.03f, -1489.81f, 3.21f)
	Turn("ADOL", 17.26f, 360.0f)

	SetChrPos("LAXIA", 20.53f, -1489.50f, 3.20f)
	Turn("LAXIA", 6.61f, 360.0f)
	SetChrPos("SAHAD", 22.56f, -1490.58f, 3.10f)
	Turn("SAHAD", 20.81f, 360.0f)
	SetChrPos("RICOTTA", 21.28f, -1489.21f, 3.23f)
	Turn("RICOTTA", 6.61f, 360.0f)
	SetChrPos("HUMMEL", 19.80f, -1490.11f, 3.06f)
	Turn("HUMMEL", -0.51f, 360.0f)
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	
	LookChr("ADOL", "Dogi")
	LookChr("LAXIA", "Dogi")
	LookChr("SAHAD", "Dogi")
	LookChr("RICOTTA", "Dogi")
	LookChr("HUMMEL", "Dogi")
	
	// 非表示・再表示
	ResetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 再表示

	// カメラ移動（垂直）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 10.400f , -1527.989f , 3.130f , 55 )

	// フェード待ち
	Wait(FADE_CROSS)
	
	Turn("Dogi",-136.48f, 7.0f)
	Wait(10)

	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// カメラ待ち
	WaitThread(1000)
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#080m#18Sよーし、アドル！"
		"#18S後はお前たちが乗り込むだけだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット8 ------------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)
	MoveCameraAt( 0 , 21.243f , -1489.961f , 4.458f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.170f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.954f , 0 )	// 基本仰角
	RotateCamera( 0 , 329.639f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
//	// カメラ
//	MoveCameraAt( 0 , 21.364f , -1490.570f , 4.718f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 4.170f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -5.105f , 0 )	// 基本仰角
//	RotateCamera( 0 , 326.202f , 0 )				// 角度
//	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.6f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 再表示

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 21.243f , -1489.961f , 4.458f, 55 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.170f , 55 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.954f , 55 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 329.639f , 55 )
//
//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	Wait(FADE_FAST)

	ChangeAnimation( "HUMMEL", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	PlayVoice(Y8V_2169,"HUMMEL",100)	//よし（平常のテンション。あらゆる場面で使用）

	// ヒュンメル
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
		"#000e#000mでは、行くとするか……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA", "ANI_EV_GUTSPOSE_S", -1, 1 )	// ガッツポーズ
	PlayVoice(Y8V_2564,"RICOTTA",100)	//なはは（楽しそうに）

	// リコッタ
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
		"#020e#080mなはは、御意っ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA", "ANI_EV_GUTSPOSE_E", -1, 1 )	// ガッツポーズ

	Look("LAXIA", 0.0f, -20.0f)	// うつむく

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#061e#000m#0L……………………………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "LAXIA")
	TurnToChr("SAHAD", "LAXIA", 8.0f)
	Wait(10)

	// サハド
	TalkPopup("SAHAD", 0, 2, 0, 0, 0) {
		"#000e#000mどうした、嬢ちゃん？"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット9 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 21.639f , -1490.296f , 4.678f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.382f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.264f , 0 )	// 基本仰角
	RotateCamera( 0 , 15.281f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

//	SetChrPos("ADOL", 22.03f, -1489.81f, 3.21f)
//	Turn("ADOL", 35.02f, 360.0f)

//	SetChrPos("ADOL",22.09f,-1489.58f,3.25f)
//	Turn("ADOL",23.29f,360.0f)
SetChrPos("ADOL",22.00f,-1489.43f,3.28f)
Turn("ADOL",12.70f,360.0f)

	SetChrPos("LAXIA", 20.53f, -1489.50f, 3.20f)
	Turn("LAXIA", -28.92f, 360.0f)
	SetChrPos("SAHAD", 22.38f, -1490.87f, 3.05f)
	Turn("SAHAD", 118.01f, 360.0f)
	SetChrPos("HUMMEL", 19.94f, -1490.07f, 3.08f)
	
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeAnimation( "HUMMEL", "ANI_WAIT", -1, 1 )	// 待機

	LookChr("ADOL", "LAXIA")
	LookChr("RICOTTA", "LAXIA")
	LookChr("HUMMEL", "LAXIA")
	LookChr("LAXIA", "SAHAD")
	Turn("HUMMEL", -75.12f, 7.0f)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 21.342f , -1490.043f , 4.678f, 600 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.446f , 600 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.826f , 600)
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 3.247f, 600 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#062e#000mいえ……あまりに多くのことが"
		"ここであったからでしょうか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_S", -1, 1 )	// 両手 前組み
	Look("LAXIA", 0.0f, -10.0f)	// うつむく

	// ラクシャ
	TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
		"#061e#000m脱出できることは"
		"とても嬉しいはずなのに……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　サハドがアドルに話しかける。

	LookChr("SAHAD", "ADOL")
	
	// サハド
	TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
		"#000e#000m……直接ダーナに礼を言うことは"
		"ついに叶わなかったな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL", "SAHAD")
	Wait(10)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"それだけが唯一の心残りだ")
	MenuAdd(2,"前を向いて生きるしかない")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	LookChr("RICOTTA", "ADOL")
	LookChr("LAXIA", "ADOL")
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SAD_CLOSE_E, 1)	// 目

	//─────────────────────────
	//	⇒それだけが唯一の心残りだ
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// 手振りセット
		ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(20)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)
		
		LookChr("HUMMEL", "ADOL")
		ChangeAnimation( "RICOTTA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

		// リコッタ
		TalkPopup("RICOTTA", 0, 2, 0, 0, 0) {
			"#000e#080mでも、ダーナ姉、きっと"
			"どこかで見守ってくれてる！"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("LAXIA", "RICOTTA")
		ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_E", -1, 1 )	// 両手 前組み

		// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#081e#080mええ、そうですね。"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookReset("HUMMEL")
		ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

		// ヒュンメル
		TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
			"#000e#000mあのマイアの説明によれば……"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookChr("SAHAD", "HUMMEL")
		LookChr("ADOL", "HUMMEL")
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_E, 1)	// 目

		WaitAnimation2("HUMMEL", -1, 1, "ANI_EV_UDEGUMI_S", 0)
		ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI_TEBURI", -1, 1 )	// 腕組手振り

		// ヒュンメル
		TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
			"世界が均衡を崩せば、ラクリモサは"
			"今後も起きるということだったな。"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("LAXIA", "SAHAD")
		//ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

		// サハド
		TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
			"#000e#000mダーナに心配かけないよう"
			"今度はわしらが頑張らなくちゃな。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookChr("SAHAD", "ADOL")
		
		// サハド
		TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
			"なあ、アドル！"
		}
		WaitPrompt()
		WaitCloseWindow()

	//	⇒前を向いて生きるしかない
	} else {
		
	
		// 手振りセット
		ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(20)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)
		
		LookChr("LAXIA", "ADOL")
		ChangeAnimation( "LAXIA", "ANI_EV_RYOTEMAE_E", -1, 1 )	// 両手 前組み
		
		// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#000e#000mそうですね……ダーナさんが"
			"守ってくれたわけですから。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookReset("LAXIA")
		ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
		
		// ラクシャ
		TalkPopup("LAXIA", 0, 2, 0, 0, 0) {
			"#011e#000mわたくしたちはダーナさんに"
			"恥じないよう生きなければ……"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookReset("HUMMEL")
		ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

		LookChr("SAHAD", "HUMMEL")
		LookChr("ADOL", "HUMMEL")

		// ヒュンメル
		TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
			"#000e#000mあのマイアの説明によれば……"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
		LookChr("RICOTTA", "HUMMEL")
		LookChr("LAXIA", "HUMMEL")

		WaitAnimation2("HUMMEL", -1, 1, "ANI_EV_UDEGUMI_S", 0)
		ChangeAnimation( "HUMMEL", "ANI_EV_UDEGUMI_TEBURI", -1, 1 )	// 腕組手振り
		
		// ヒュンメル
		TalkPopup("HUMMEL", 0, 2, 0, 0, 0) {
			"世界が均衡を崩せば、ラクリモサは"
			"今後も起きるということだったな。"
		}
		WaitPrompt()
		WaitCloseWindow()

		//ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

		// サハド
		TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
			"#000e#000m何、そんなことにならんよう"
			"今度はわしらが頑張ろうぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookChr("SAHAD", "ADOL")
		
		// サハド
		TalkPopup("SAHAD", 0, 1, 0, 0, 0) {
			"なあ、アドル！"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//─────────────────────────
	
	LookSpd("ADOL", 0.1f, 0.1f, 0.1f )// ゆっくりめに首向き
	LookChr("ADOL", "SAHAD")
	Wait(20)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 21.358f , -1490.056f , 6.158f, 180 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.391f , 180 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -8.161f , 180 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 344.397f , 180 )
	
	//　　アドル、頷いて画面フェードアウト。
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	Wait(60)

	StopBGM(120)

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_SLOW)
	Wait(30)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	WaitFade()
	
	LookSpd( "ADOL", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT )

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M07S050_ED")
}

function "EV_M07S050_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	
	//NowLoading 時の Tips 表示をカット
	SetFlag(TF_LOADING_TIPS_OFF, 1)

	StopBGM(60)

	//イベント・ギャラリー中
	if(FLAG[TF_EVSKIP] && FLAG[SF_GALLERY_EVENT])
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENT)
	}
	// 通常時
	else
	{
		LoadArg("map/mp0021/mp0021.arg")
		EventCue("mp0021:EV_M07S021")	// NEXT：ＥＤⅡ セイレン島から脱出する２

		SetEnvSEPlayState(-1, 0)	//環境SE全停止

		ResetStopFlag(STOPFLAG_EVENT)
	}
	//終了処理ここまで----------------------------------------------------
}

function "EV_M07S110"			//ＥＤⅢ セイレン島を脱出する
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	ResetStopFlag(STOPFLAG_CINEMA)

	FadeOut(FADE_BLACK, 0)
	WaitFade()

	SetEnvSEPlayState(-1,0)

	if (FLAG[GF_SUBEV_SILVIA_MODE] == 0) {	// シルヴィアの状態 0=老婆 1=戦士
		SetChrID( "Silvia", "Silvia_1")
		SetChrID( "Silvia_2", "Silvia")		// 戦士
	}

	LoadChr("Thanatos")

	CallFunc("system:Load_FreeNPC_Event")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))
			
	//キャラ初期状態の設定				
	SetChrPos("ADOL",-3.26f,-1522.65f,1.89f)
	Turn("ADOL",-85.78f,360.0f)

	SetChrPos("SAHAD",-1.80f,-1523.69f,1.89f)
	Turn("SAHAD",156.97f,360.0f)
	SetChrPos("Thanatos",-1.63f,-1522.12f,1.89f)
	Turn("Thanatos",67.19f,360.0f)


	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("ADOL", "ANI_EV_WAIT2", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_SMILE, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_SMILE, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKL, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	LookSpd("ADOL" ,0.1 ,0.1 ,0.1)
	LookSpd("SAHAD" ,0.1,0.1 ,0.1 )
	LookSpd("Thanatos" ,0.1 ,0.1 ,0.1 )

	LookChr("ADOL", "SAHAD")
	LookChr("SAHAD", "ADOL")
	Look("Thanatos", 15 , 0 )


	Portrait_Close(  -1 )
	Portrait_Unload( -1 )

	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 1920,1080, 1.0f, 0x00ffffff, 0x00000000)

	Portrait_Load( 1 , "visual/portrait/vt_1203a.itp" )
	Portrait_Create(1 , 528 , 284 ,
					0 , 0 , 1024, 512,
					0.0f,0x00ffffff,0x00000000)

//	Portrait_Anime(1, PR_ANIME_BLUR, 3.0f, -1, -1, -1, 0)


//	Portrait_Load( 2 , "visual/portrait/vt_1203a.itp" )
//	Portrait_Create(2 , 448 , 284 ,
//					0 , 0 , 1024, 512,
//					0.0f,0x00ffffff,0x00000000)

	//カメラ設定
	MoveCameraAt( 0 , 9.753f , -1520.074f , 5.125f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 19.319f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.425f , 0 )	// 基本仰角
	RotateCamera( 0 , 219.396f , 0 )				// 角度
	ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000, 2.000, 0.750, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M07S110_ED")

	//開始処理ここまで-----------------------------------------------

	Wait(30)

	//　　画面ブラックアウトのままテキスト表示。
	//		一週間後

	//擬似フェードアウト
	Portrait_Anime(  0 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f,0)
	FadeIn(FADE_BLACK,0)
	WaitFade()

	//ポートレート表示
	Portrait_Anime(1 , PR_ANIME_MOVE,  448 , 284  , -1 , -1, 0 )
//	Portrait_Anime(1, PR_ANIME_BLUR, 0.0f, -1, -1, -1, FADE_SLOW)
	Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_SLOW)

//	Portrait_Anime(  2 , PR_ANIME_MOVE,  224 , 144  , -1 , -1, 60 )
//	Portrait_Anime(2, PR_ANIME_BLUR, 0.0f, -1, -1, -1, 60)
//	Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 60)

	Wait(FADE_SLOW)
//	Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)

//	Message2(1, SUBP_BUTTUN_X, SUBP_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
//	WaitPrompt()

	Wait(90)

	//　　ポートレートを消す。
	Portrait_Anime(  1 , PR_ANIME_MOVE,  368 , 284  , -1 , -1, FADE_SLOW )
	Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_SLOW)
//	Portrait_Anime(1, PR_ANIME_BLUR, 3.0f, -1, -1, -1, FADE_SLOW)
//	Portrait_Anime(  2 , PR_ANIME_MOVE,  184 , 144  , -1 , -1, 90 )
//	Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, 90)
//	Portrait_Anime(2, PR_ANIME_BLUR, 3.0f, -1, -1, -1, 30)


	Wait(FADE_SLOW)

	//擬似フェードアウト
	FadeOut(FADE_BLACK,0)
	WaitFade()
	Portrait_Anime(  0 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f,0)

	Portrait_Close(  -1 )
	Portrait_Unload( -1 )

	Wait(30)

	PlayBGM(BGM_TOWN_501, 0)
	SetEnvSEPlayState(-1, 1)	//環境SEオン


	//　　画面フェードインして
	//　　漂流村に停泊しているロンバルディアⅡ世号。
	//　　タラップ前でアドル、サハド、タナトスが
	//　　向き合っている状態を見せる。

//	Wait(15)

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , 3.774f , -1524.984f , 5.125f , 115 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 19.319f , 115)		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.425f , 115 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 219.396f ,  115 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 0.0f, 115 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 115 )		// 視野角

	//MoveCameraAt( 0 , 3.774f , -1524.984f , 5.125f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 19.319f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -4.425f , 0 )	// 基本仰角
	//RotateCamera( 0 , 219.396f , 0 )				// 角度
	//ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	WaitThread(1006)

	CrossFade(FADE_FAST)

	MoveCameraAt( 0 , 0.165f , -1524.914f , 3.067f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.309f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.078f , 0 )	// 基本仰角
	RotateCamera( 0 , 228.173f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.4f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	CrossFade(FADE_FAST)

	Wait(10)
	FadeBGM(70,10)
	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	TalkMes("SAHAD","#1988V#020e#080mガハハ、天気は良好、",
		"海の状態も悪くなさそうだな。","")
	WaitPrompt()
	TalkMes("SAHAD","#1989V#080e#080mこれなら、ひとまずセイレン島から",
		"脱出はできるんじゃないか。","")
	WaitPrompt()

	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_TEBURI", -1 , 1 )

	TalkMes("SAHAD","#1990V#080mスニオン港への航路も",
		"おそらく問題はないと思うぜ。","")
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Thanatos")
	ChangeAnimation( "Thanatos" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	//	"Thanatos"
	TalkMes("Thanatos","#4038V#000l#011e#080mフム、まさかこの日を",
		"本当に迎えることができるとは……","")
	WaitPrompt()

	LookChr("ADOL" , "Thanatos" )

	HeadNo("Thanatos" ,1 ,35 )
	TalkMes("Thanatos","#4039V#080mこうして振り返ると長いようで",
		"短い漂流生活じゃったのう。","")
	WaitPrompt()
	WaitCloseWindow()
	ChangeSubAnimation("Thanatos",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	Look("SAHAD" , 10 , -3 )

	//	"SAHAD"
	TalkMes("SAHAD","#1991V#010l#080m爺さんはわしらより",
		"島の生活が長かったからなあ。","")
	WaitPrompt()

	TalkMes("SAHAD","#1992V#091e#080m感慨もひとしおってところか。","","")
	WaitPrompt()
	WaitCloseWindow()

//	LookChr("Thanatos" , "SAHAD")
	ChangeAnimation( "Thanatos" , "ANI_EV_UDEGUMI_E", -1 , 1 )

	//	"Thanatos"
	TalkMes("Thanatos","#4040V#020e#080mワハハ、まあな。","","")
	WaitPrompt()

	WaitAnimation2( "Thanatos" , -1, 1, "ANI_EV_UDEGUMI_E",  0)
	ChangeAnimation( "Thanatos" , "ANI_EV_TEBURI", -1 , 1 )

	TalkMes("Thanatos","#4041V#000e#080mじゃが、これで本業の",
		"探検家も再開できるワケじゃ。","")
	WaitPrompt()

	Wait(10)

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , -2.082f , -1522.786f , 3.290f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.329f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.996f , 0 )	// 基本仰角
	RotateCamera( 0 , 137.631f , 0 )				// 角度
	ChangeCameraPers( 0 , 28.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転


	Wait(FADE_CROSS)
	Wait(10)

	LookReset("Thanatos")
	ChangeAnimation( "Thanatos" , "ANI_EV_BORI", -1 , 1 )
	TalkMes("Thanatos","#4042V#000l#011e#080mどれ、最後じゃし、",
		"その辺りを散歩でもしてくるかのう。","")
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD" , "Thanatos")
	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_TEBURI", -1 , 1 )

//	HeadYes("SAHAD" , 1, 25 )

	//	"SAHAD"
	TalkMes("SAHAD","#1993V#000l#092e#080mおお、気をつけてな。","","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	ExecuteFunc(100 , "mp1201:M07S110_Thanatos_move")

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,  -2.096f , -1522.887f , 3.290f  , 150 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 5.046f , 150)		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , 5.357f , 150 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 5.438f ,  150 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 0.0f, 150 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 150 )		// 視野角

	//MoveCameraAt( 0 , -2.096f , -1522.887f , 3.290f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 5.046f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 5.357f , 0 )	// 基本仰角
	//RotateCamera( 0 , 5.438f , 0 )				// 角度
	//ChangeCameraPers( 0 , 28.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転

	//　　歩いて立ち去って行くタナトス。
	//　　見送るアドルとサハド。

	Wait(30)
	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_E", -1 , 1 )
	Wait(80)
	WaitAnimation2( "SAHAD" , -1, 1, "ANI_EV_RYOEKOSI_E",  0)

	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	LookChr("SAHAD" , "ADOL")
	TalkMes("SAHAD","#1994V#000e#000mさて、ドギが荷物の点検を終え次第、",
		"出航ってコトだが……","")
	WaitPrompt()

	LookChr("ADOL", "SAHAD")
	ChangeAnimation( "SAHAD" , "ANI_EV_UDEGUMI_S", -1 , 1 )


	TalkMes("SAHAD","#1995V#000e#000mまだしばらくは時間がありそうだな。","","")
	WaitPrompt()

	WaitAnimation2( "SAHAD" , -1, 1, "ANI_EV_UDEGUMI_S",  0)
	ChangeAnimation( "SAHAD" , "ANI_EV_UDEGUMI_TEBURI", -1 , 1 )

	TalkMes("SAHAD","#1996V#000e#000mアドルもやり残したことや",
		"忘れ物がないか確認してこいよ。","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	//　　アドル、頷いて操作許可。
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)
	Wait(30)

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	StopThread(100)

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M07S110_ED")
}

function "EV_M07S110_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	StopThread(100)
	StopThread(1)
	StopThread(2)
	StopThread(11)

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	Portrait_Close(  -1 )
	Portrait_Unload( -1 )

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	SetFlag(GF_07MP1201_CHECK_VILLAGE, 1)		//ＥＤⅢ セイレン島を脱出する
	//SetFlag( SF_MISSIONNO, MS_07_04 )	//★冒険メモ：出発の準備を整えよう。
	MapAnime("EVENT_ED", "off")	//脱出時の積荷（エピローグ）
	MapHide("EVENT_ED", 0)		//脱出時の積荷（エピローグ）

	//NPC配置
	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",-2.51f,-1521.03f,1.89f)
	Turn("LEADER",-176.32f,360.0f)

	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt( 0 , -2.507f , -1521.031f , 3.753f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.019f , 0 )	// 基本仰角
	RotateCamera( 0 , 176.324f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENTIMPOSE)

	FadeBGM(100,30)

	FadeIn(FADE_BLACK, FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------
}

function "M07S110_Thanatos_move"
{
	TurnTo("Thanatos" ,0.48f,-1506.94f,1.89f , 4.0f)
	Wait(10)
	//ChangeSubAnimation("",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	ExecuteCmd( 1, MoveToEx, "Thanatos", 0.48f,-1506.94f,1.89f, 0.1f, 0.25f ,1,1 )
	//SetChrPos("Thanatos",0.48f,-1506.94f,1.89f)
	//Turn("Thanatos",-170.86f,360.0f)

	Wait(195)
	ExecuteCmd( 11, TurnTo, "Thanatos", 6.66f,-1497.30f,4.01f, 2.0f )
	Wait(10)

	ExecuteCmd( 2, MoveToEx, "Thanatos", 6.66f,-1497.30f,4.01f, 0.1f, 0.25f ,1,1 )
	//SetChrPos("Thanatos",6.66f,-1497.30f,4.01f)
	//Turn("Thanatos",-153.49f,360.0f)
	StopThread(1)

}
function "EV_M07S120"			//ＥＤⅢ イベント進行確認
{
	//開始処理ここから-----------------------------------------------
	CallFunc("system:solo_event_begin")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))
			
	//キャラ初期状態の設定
	SetChrPos("ADOL",-2.39f,-1521.79f,1.89f)
	Turn("ADOL",-39.17f,360.0f)

	SetChrPos("SAHAD",-1.80f,-1523.69f,1.89f)
	Turn("SAHAD",156.97f,360.0f)

	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_SMILE, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	LookChr("ADOL", "SAHAD")
	LookChr("SAHAD", "ADOL")

	Wait(10)

	//カメラ設定
	MoveCameraAt( 0 , -0.648f , -1523.542f , 3.438f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.319f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.573f , 0 )	// 基本仰角
	RotateCamera( 0 , 236.679f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000, 2.000, 0.750, 0.500)					//イベント毎に調整
	
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整


	//開始処理ここまで-----------------------------------------------

	// フェードイン
	FadeIn(FADE_BLACK, FADE_FAST)
	WaitFade()

//	Wait(15)

	//　　再びサハドに話しかけることでイベントが再開する。

	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_TEBURI", -1 , 1 )

	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#080mお？　どうした、"
		"もう出発してもいいのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ああ、行こう")
	MenuAdd(2,"もう少し待ってくれ2")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//─────────────────────────
	//	⇒ああ、行こう
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
		HeadYes("ADOL" , 1 , 25 )
		Wait(20)
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		HeadYes("SAHAD" ,1 , 25 )
		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#080e#080mよし来た、そんじゃまずは"
			"他の漂流者たちを乗せちまおう。"
		}
		WaitPrompt()
		WaitCloseWindow()

		SetEnvSEPlayState(1203101, 0)
		SetEnvSEPlayState(1203102, 0)

		FadeOut(FADE_BLACK, FADE_NORMAL)
		WaitFade()

		EventCue("mp1201:EV_M07S121")

	}
	//	⇒もう少し待ってくれ
	if (FLAG[TF_MENU_SELECT] == 2)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
		HeadNo("ADOL" , 1 , 30 )
		Wait(25)
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#020e#080mガハハ、これで最後だから"
			"思い残すことがないようにな。"
		}
		WaitPrompt()
		WaitCloseWindow()

		Wait(10)

		FadeOut(FADE_BLACK, FADE_FAST)
		Wait(FADE_FAST)

		//　　ここで操作許可。
	
		//終了処理ここから----------------------------------------------------
	
		//イベント前のキャラ情報を復帰
		RestoreEventState()
	
		//キャラモーション初期化
		CallFunc("system:reset_chrmot_ALL")
	
		//パーティキャラを解放
		ReleaseEventPartyChr()
	
		//マップパラメーターリセット
		ResetMapParam(-1)
	
		//NPC配置
		CallFunc("mp1201:init")
	
		//イベント後の再配置
		SetChrPos("LEADER",-2.51f,-1521.03f,1.89f)
		Turn("LEADER",-176.32f,360.0f)
	
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用
	
		//カメラ位置復帰
		MoveCameraAt( 0 , -2.507f , -1521.031f , 3.753f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , 11.019f , 0 )	// 基本仰角
		RotateCamera( 0 , 176.324f , 0 )				// 角度
		ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , 0.0f , 0 )				// ロール回転
	
		CallFunc("system:camera_reset")
	
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	
		FadeIn(FADE_BLACK, FADE_FAST)
		//WaitFade()
	
		//終了処理ここまで----------------------------------------------------
	}
}

function "EV_M07S121"			//ＥＤⅢ セイレン島を脱出する２
{
	//開始処理ここから-----------------------------------------------
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	ResetStopFlag(STOPFLAG_CINEMA)

	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Thanatos")
	LoadChr("Aaron")
	LoadChr("Dogi")
	LoadChr("Dina")
	LoadChr("Katrin")
	LoadChr("Alison")
	LoadChr("Kuina")
	LoadChr("Licht")
	CallFunc("system:Load_FreeNPC_Event")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))

			
	//キャラ初期状態の設定

	SetChrInfoFlag("LAXIA", INFOFLAG_NOATARI)
	SetChrInfoFlag("ADOL", INFOFLAG_NOATARI)
	SetChrInfoFlag("SAHAD", INFOFLAG_NOATARI)
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOATARI)
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOATARI)

	SetChrPos("ADOL",14.67f,-1491.26f,2.67f)
	Turn("ADOL",79.34f,360.0f)
	SetChrPos("LAXIA",15.37f,-1490.11f,2.90f)
	Turn("LAXIA",-90.0f,360.0f)
	SetChrPos("SAHAD",13.53f,-1491.68f,2.54f)
	Turn("SAHAD",118.51f,360.0f)
	SetChrPos("HUMMEL",8.75f,-1490.91f,2.72f)
	Turn("HUMMEL",-98.42f,360.0f)
	SetChrPos("RICOTTA",10.39f,-1488.61f,3.22f)
	Turn("RICOTTA",-95.91f,360.0f)
	SetChrPos("LAXIA",9.88f,-1489.10f,3.12f)
	Turn("LAXIA",-88.02f,360.0f)

	//SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_SMILE, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("SAHAD", "ANI_EV_UDEGUMI", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	//SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_SMILE, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	//SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("HUMMEL", "ANI_EV_RYOTEKOSI", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	//漂流者
	//SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Aaron", "ANI_EV_UDEGUMI", -1, 1)
	SetChrPos("Aaron", -0.90f, -1525.63f, 1.89f)
	Turn("Aaron", 139.45f, 360.0f)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	SetChrPos("Thanatos", 8.81f, -1527.38f, 1.29f)
	Turn("Thanatos", -38.25f, 360.0f)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	SetChrPos("Dogi", 9.19f, -1528.85f, 1.29f)
	Turn("Dogi", 173.78f, 360.0f)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	ChangeAnimation("Kashu", "ANI_WAIT", -1, 1)
	SetChrPos("Kashu", -2.12f, -1517.88f, 1.89f)
	Turn("Kashu", -2.67f, 360.0f)
	ChangeSubAnimation("Kashu", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Kashu", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Kashu", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("Kashu" , "Alison")
	SetChrInfoFlag("Kashu", INFOFLAG_NOCHRATARI)

	ChangeAnimation("Katrin", "ANI_WAIT", -1, 1)
	SetChrPos("Katrin", -0.99f, -1511.10f, 1.89f)
	Turn("Katrin", 1.92f, 360.0f)
	ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Katrin", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Katrin", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Katrin")
	SetChrInfoFlag("Katrin", INFOFLAG_NOCHRATARI)

	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Dina", "ANI_WAIT", -1, 1)
	SetChrPos("Dina", -2.82f, -1527.54f, 1.99f)
	Turn("Dina",-93.06f, 360.0f)
	ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_LAUGH, 1)
	ChangeSubAnimation("Dina", SUBMOT_MOUTH, ANI_M_SMILE, 1)
	ChangeSubAnimation("Dina", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dina")
	SetChrInfoFlag("Dina", INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Dina" , INFOFLAG_FLING )	// 高さ無視

	//SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Alison", "ANI_WAIT", -1, 1)
	SetChrPos("Alison", 9.25f, -1531.43f, 1.29f)
	Turn("Alison", -82.23f, 360.0f)
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Alison", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Alison", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Alison")
	SetChrInfoFlag("Alison", INFOFLAG_NOCHRATARI)
	
	//SetChrWork("Ed", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Ed", "ANI_WAIT", -1, 1)
	SetChrPos("Ed", 8.94f, -1530.85f, 1.29f)
	Turn("Ed", -89.34f, 360.0f)
	ChangeSubAnimation("Ed", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Ed", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Ed", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Ed")
	SetChrInfoFlag("Ed", INFOFLAG_NOCHRATARI)

	//SetChrWork("Reja", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Reja", "ANI_EV_RYOTEKOSI", -1, 1)
	SetChrPos("Reja",8.44f,-1524.25f,1.29f)
	Turn("Reja",137.02f,360.0f)
	ChangeSubAnimation("Reja", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Reja", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Reja", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Reja")
	SetChrInfoFlag("Reja", INFOFLAG_NOCHRATARI)

	//SetChrWork("Curran", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Curran", "ANI_WAIT", -1, 1)
	SetChrPos("Curran",12.63f,-1488.12f,3.29f)
	Turn("Curran",30.02f,360.0f)
	ChangeSubAnimation("Curran", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Curran", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Curran", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Curran")
	SetChrInfoFlag("Curran", INFOFLAG_NOCHRATARI)

	//SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Licht", "ANI_WAIT", -1, 1)
	SetChrPos("Licht",15.07f,-1485.61f,3.88f)
	Turn("Licht",32.49f,360.0f)
	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Licht", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Licht", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Licht")
	SetChrInfoFlag("Licht", INFOFLAG_NOCHRATARI)

	//SetChrWork("Miralda", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Miralda", "ANI_WAIT", -1, 1)
	SetChrPos("Miralda",14.36f,-1486.03f,3.79f)
	Turn("Miralda",30.99f,360.0f)
	ChangeSubAnimation("Miralda", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Miralda", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Miralda", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Miralda" , "Licht")
	SetChrInfoFlag("Miralda", INFOFLAG_NOCHRATARI)

	//SetChrWork("Kuina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Kuina", "ANI_WAIT", -1, 1)
	SetChrPos("Kuina",17.15f,-1482.15f,4.62f)
	Turn("Kuina",31.83f,360.0f)
	ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Kuina", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Kuina", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Kuina")
	SetChrInfoFlag("Kuina", INFOFLAG_NOCHRATARI)

	//SetChrWork("Austen", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Austen", 8.81f, -1536.40f, 2.50f)
	Turn("Austen", -7.62f, 360.0f)
	ChangeSubAnimation("Austen", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Austen", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Austen", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Austen")
	SetChrInfoFlag("Austen", INFOFLAG_NOATARI)

	if(FLAG[GF_QUEST_522] == QUEST_SUCCESS)
	{
		SetChrPos("eq4020", 8.81f, -1536.40f, 2.50f)
		SetChrPos("Austen", 8.81f, -1536.40f, 2.50f)
		SetParent(eq4020,Austen,Null_harp)

		ChangeAnimation("Austen", "ANI_EV_HARP_WAIT", -1, 1)
	}
	else {
		ChangeAnimation("Austen", "ANI_WAIT", -1, 1)
	}

	LookSpd("ADOL" ,0.1 ,0.1 ,0.1)
	LookSpd("SAHAD" ,0.1,0.1 ,0.1 )
	LookSpd("Thanatos" ,0.1 ,0.1 ,0.1 )

	Look("SAHAD" , -15 , 5)
	Look("LAXIA" , -15 , 5)
	//Look("HUMMEL" , 25 , 5 )
	Look("ADOL" , 25 , 5 )

	SetChrInfoFlag("Reja", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Dina", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Kashu", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)	// 非表示

	SetChrInfoFlag("Kuina", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Licht", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Miralda", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Curran", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)	// 非表示

	//焚き火の煙を消す
	MapHide("smoke" , 0 )

	//不要そうなノードを消して軽量化を試みる
	//MapHide(Village, 0 )
	MapHide(fire_alpha, 0 )
	MapHide(flag, 0 )
	MapHide(fire_kitchen, 0 )
	MapHide(water_kitchen, 0 )
	MapHide(farm, 0 )
	MapHide(farmFence, 0 )
	MapHide(gate_Lv0, 0 )
	MapHide(gate_Lv1, 0 )

	SetFlag(SF_CHARANORECVSHADOW,1)	//キャラ影受けない

	//カメラ設定
	MoveCameraAt( 0 , 16.914f , -1531.426f , 8.598f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 12.768f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -14.015f , 0 )	// 基本仰角
	RotateCamera( 0 , 355.123f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 125.000, 2.000, 0.750, 0.500)					//イベント毎に調整
	
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp1201:EV_M07S121_ED")


	//開始処理ここまで-----------------------------------------------


	// カット1 ----------------------------------------------------------------------------------------

	// 位置調整・表情・モーション
	LookChr("Dogi", "Thanatos")
	LookChr("Thanatos", "Dogi")
	Wait(10)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 11.221f , -1533.937f , 5.665f, 150 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 14.952f , 150 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -14.302f , 150 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 24.344f , 150 )

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	Wait(10)
	
	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)
	
	ResetChrInfoFlag("Reja", INFOFLAG_INVISIBLE)	// 非表示

	// カメラ
	MoveCameraAt( 0 , 9.855f , -1529.597f , 2.884f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.159f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.222f , 0 )	// 基本仰角
	RotateCamera( 0 , 43.950f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 9.318f , -1528.353f , 2.884f, 150 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.319f , 150 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.794f , 150 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 48.530f , 150 )

	ChangeAnimation( "Alison", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目

	// フェード待ち
	Wait(FADE_FAST)
	
	Wait(10)
	
	EmotionEx("Thanatos", 0.00f, EMO_WAI, 0, 5, 2, 0, 1.2f )	// 「ワイワイ」
	
	// 手振りセット
	ChangeAnimation( "Thanatos", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("Thanatos", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("Thanatos",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("Thanatos",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(40)
	ChangeSubAnimation("Thanatos",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("Thanatos", CWK_FORCELIPSYNC, 0)
	Wait(10)
	
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	Wait(20)
	HeadYes("Dogi", 1, 25)	// キャラ, うなずき回数, 速さ
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ
	MoveCameraAt( 0 , 2.892f , -1527.577f , 3.281f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.462f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.694f , 0 )	// 基本仰角
	RotateCamera( 0 , 74.649f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -0.323f , -1528.759f , 3.281f, 210 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.462f , 210 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -5.132f , 210 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 16.947f , 210 )

	// 非表示・再表示
	SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Alison", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Ed", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Austen", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Reja", INFOFLAG_INVISIBLE)	// 非表示

	ResetChrInfoFlag("Dina", INFOFLAG_INVISIBLE)	// 表示
	ResetChrInfoFlag("Kashu", INFOFLAG_INVISIBLE)	// 表示
	ResetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)	// 表示

	// 位置調整・表情・モーション
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("Dogi")

	
	// 移動
	SetMotSpd("Kuina" ,-1 , 0.7f )	// モーションスピード変更
	SetMotSpd("Nia" ,-1 , 0.7f )	// モーションスピード変更
	SetMotSpd("Kashu" ,-1 , 0.8f )	// モーションスピード変更
	ExecuteCmd(2, MoveTo, "Dina", 3.47f, -1528.15f, 2.35f , 0.1f, 0.13f)
	ExecuteCmd(3, MoveTo, "Katrin", -2.97f, -1524.03f, 1.89f , 0.1f, 0.18f)
	Wait(3)
	ExecuteCmd(4, MoveTo, "Kashu", -2.34f, -1528.28f, 1.89f  , 0.1f, 0.16f)

	// フェード待ち
	Wait(FADE_FAST)
	
	EmotionEx("Dina", 0.00f, EMO_KIRA, 0, 5, 1, 1, 1.4f )	// 「☆」

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	Wait(10)

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// 移動停止
	StopThread(1)
	StopThread(2)
	StopThread(3)
	StopThread(4)

	SetChrInfoFlag("Dina", INFOFLAG_INVISIBLE)		// 非表示
	SetChrInfoFlag("Kashu", INFOFLAG_INVISIBLE)		// 非表示
	SetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)	// 非表示

	ResetChrInfoFlag("Licht", INFOFLAG_INVISIBLE)	// 表示
	ResetChrInfoFlag("Miralda", INFOFLAG_INVISIBLE)	// 表示
	ResetChrInfoFlag("Curran", INFOFLAG_INVISIBLE)	// 表示
	ResetChrInfoFlag("Kuina", INFOFLAG_INVISIBLE)	// 表示

	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 表示
	ResetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 表示
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 表示
	ResetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 表示
	ResetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)	// 表示

	// カメラ
	MoveCameraAt( 0 , 10.529f , -1491.859f , 4.069f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 7.745f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.250f , 0 )	// 基本仰角
	RotateCamera( 0 , 132.048f , 0 )				// 角度
	ChangeCameraPers( 0 , 48.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.0f , 0 )				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,13.323f , -1487.861f , 4.069f , 240 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 7.745f , 240 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 6.797f , 240 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 118.927f  , 240 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE , 3.9f , 240 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,38.800f , 240 )		// 視野角

	//MoveCameraAt( 0 , 13.323f , -1487.861f , 4.069f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 7.745f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 6.797f , 0 )	// 基本仰角
	//RotateCamera( 0 , 118.927f , 0 )				// 角度
	//ChangeCameraPers( 0 , 48.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -0.0f , 0 )				// ロール回転

	SetMotSpd("Licht" ,-1 , 0.8f )	// モーションスピード変更
	SetMotSpd("Nia" ,-1 , 0.8f )	// モーションスピード変更
	SetMotSpd("Katrin" ,-1 , 0.95f )	// モーションスピード変更
	SetMotSpd("kuina" ,-1 , 1.2f )	// モーションスピード変更

	ExecuteCmd(1, MoveTo, "Curran", 0.52f,-1509.07f,1.93f, 0.1f, 0.17f)
	//SetChrPos("ADOL",0.52f,-1509.07f,1.93f)
	//Turn("ADOL",28.93f,360.0f)

	ExecuteCmd(2, MoveTo, "Licht", 0.52f,-1509.07f,1.93f, 0.1f, 0.15f)
	ExecuteCmd(3, MoveTo, "Miralda", 0.52f,-1509.07f,1.93f, 0.1f, 0.18f)

	Wait(80)

	ChangeAnimation( "Kuina" , "ANI_RUN", -1 , 1 )
	ExecuteCmd(4, MoveToEx, "Kuina", 0.52f,-1509.07f,1.93f, 0.1f, 0.35f , 0 , 0 )

	Wait(100)

	// カット5 -----------------------------------------------------------------------------------------

	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	// 移動停止
	StopThread(1)
	StopThread(2)
	StopThread(3)
	StopThread(4)

	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// 非表示・再表示
	ResetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)	// 表示
	SetChrInfoFlag("Licht", INFOFLAG_INVISIBLE)		// 非表示
	SetChrInfoFlag("Miralda", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Curran", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("Kuina", INFOFLAG_INVISIBLE)		// 非表示

	//スキップノードをON
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)


	SetChrPos("Dogi",3.21f,-1527.43f,2.33f)
	Turn("Dogi",179.91f,360.0f)
	SetChrPos("LAXIA",13.73f,-1488.91f,3.15f)
	Turn("LAXIA",9.53f,360.0f)

	SetChrPos("RICOTTA",12.92f,-1489.22f,3.08f)
	Turn("RICOTTA",-31.59f,360.0f)
	SetChrPos("HUMMEL",12.24f,-1489.79f,2.95f)
	Turn("HUMMEL",-65.86f,360.0f)
	SetChrPos("ADOL",14.84f,-1490.35f,2.80f)
	Turn("ADOL",81.78f,360.0f)

	LookChr("ADOL" , "Dogi")
	LookChr("SAHAD" , "Dogi")
	LookChr("LAXIA" , "Dogi")
	LookChr("RICOTTA" , "Dogi")
	LookChr("HUMMEL" , "Dogi")

	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKL,1)

	Wait(15)

	MoveCameraAt( 0 , 3.679f , -1524.109f , 4.084f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.629f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.102f , 0 )	// 基本仰角
	RotateCamera( 0 , 343.545f , 0 )				// 角度
	ChangeCameraPers( 0 , 34.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,3.679f , -1524.109f , 4.084f , 175 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 6.330f , 120 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.102f , 175 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 343.546f , 175 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE , 3.9f , 175 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,38.800f , 175 )		// 視野角

	//MoveCameraAt( 0 , 3.679f , -1524.109f , 4.084f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 6.330f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 1.102f , 0 )	// 基本仰角
	//RotateCamera( 0 , 343.546f , 0 )				// 角度
	//ChangeCameraPers( 0 , 34.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ChangeAnimation( "Dogi" , "ANI_EV_HIRA_S", -1 , 1 )


	FadeIn(FADE_BLACK, FADE_FAST)
	WaitFade()

	Wait(10)

	FadeBGM(70,10)

	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	TalkMes("Dogi","#3705V#000e#000mよーし、アドル！",
		"後はお前たちが乗り込むだけだぜ。","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	WaitAnimation2( "Dogi" , -1, 1, "ANI_EV_HIRA_S",  0)

	Wait(10)

	CrossFade(FADE_NORMAL)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	ChangeAnimation( "Dogi" , "ANI_EV_HIRA_E", -1 , 1 )
	SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)		// 非表示
	SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)		// 非表示

	MoveCameraAt( 0 , 14.928f , -1486.443f , 4.556f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 9.742f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -7.109f , 0 )	// 基本仰角
	RotateCamera( 0 , 344.202f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_COS ,14.537f , -1486.333f , 4.556f , 100 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_COS , 9.742f , 100 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_COS , -7.109f , 100 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_COS , 344.202f , 100 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_COS , 3.9f , 100 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_COS ,38.800f , 80 )		// 視野角

	//MoveCameraAt( 0 , 14.537f , -1486.333f , 4.556f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 9.742f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -7.109f , 0 )	// 基本仰角
	//RotateCamera( 0 , 344.202f , 0 )				// 角度
	//ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(FADE_NORMAL)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	LookReset("SAHAD")

	//	"SAHAD"
	TalkMes("SAHAD","#1997V#000l#091e#080mじゃあ、わしらも行くとするか。","","")
	WaitPrompt()
	WaitCloseWindow()

	LookReset("RICOTTA")
	ChangeAnimation( "RICOTTA" , "ANI_EV_GUTSPOSE_S", -1 , 1 )

	//	"RICOTTA"
	TalkMes("RICOTTA","#2824V#020e#080mなはは、御意っ！","","")
	WaitPrompt()
	WaitCloseWindow()

	StopBGM(120)

	ChangeAnimation( "LAXIA" , "ANI_EV_RYOTESIRI_S", -1 , 1 )
	Look("LAXIA" , 0 , -10 )
	//	"LAXIA"
	TalkMes("LAXIA","#1237V#011e#000m#0L……………………………………","","")
	WaitPrompt()
	WaitCloseWindow()


	LookChr("SAHAD" , "LAXIA")

	//	"SAHAD"
	ChangeAnimation( "SAHAD" , "ANI_EV_UDEGUMI_TEBURI", -1 , 1 )

	TalkMes("SAHAD","#1998V#092e#080mどうした、嬢ちゃん？","","")
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	PlayBGM(BGM_EVENT_016, 0)
	FadeBGM(70,0)
	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	MoveCameraAt( 0 , 13.677f , -1489.018f , 4.407f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.536f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.433f , 0 )	// 基本仰角
	RotateCamera( 0 , 22.397f , 0 )				// 角度
	ChangeCameraPers( 0 , 28.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ChangeAnimation( "RICOTTA" , "ANI_EV_GUTSPOSE_E", -1 , 1 )
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_LAUGH_E,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKL_S,1)
	LookSpd("RICOTA" , 0.10 ,0.10 ,0.10 )
	Look("RICOTTA" , -27 , 7)
	LookChr("ADOL" , "LAXIA")
	Look("HUMMEL" , "LAXIA")

	SetChrPos("LAXIA",13.73f,-1488.91f,3.05f)
	Turn("LAXIA",9.53f,360.0f)

	//次シーン準備
	SetChrPos("SAHAD",13.53f,-1491.68f,2.54f)
	Turn("SAHAD",164.70f,360.0f)

	Wait(FADE_CROSS)

	Wait(10)

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , 13.677f , -1489.018f , 4.407f , 160 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.206f , 160 )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.434f , 160 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 22.403f , 160 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,7.1f, 160 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 160 )		// 視野角

	//MoveCameraAt( 0 , 13.677f , -1489.018f , 4.407f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 4.206f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -4.434f , 0 )	// 基本仰角
	//RotateCamera( 0 , 22.403f , 0 )				// 角度
	//ChangeCameraPers( 0 , 28.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転

	//	"LAXIA"
	TalkMes("LAXIA","#1238V#062e#020l#000mいえ……あまりに多くのことが",
		"ここであったからでしょうか。","")
	WaitPrompt()

	TalkMes("LAXIA","#1239V#061e#000m脱出できることは",
		"とても嬉しいはずなのに……","")
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	CrossFade(FADE_CROSS)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	StopThread(1006)

	MoveCameraAt( 0 , 13.531f , -1491.521f , 3.910f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.449f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 17.507f , 0 )	// 基本仰角
	RotateCamera( 0 , 165.562f , 0 )				// 角度
	ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 3.6f , 0 )				// ロール回転

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , 13.531f , -1491.521f , 3.612f , 500 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 6.410f , 500 )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , 21.578f , 500 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 187.654f , 500 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,7.1f, 500 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 500 )		// 視野角

	//MoveCameraAt( 0 , 13.531f , -1491.521f , 3.612f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 6.410f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 21.578f , 0 )	// 基本仰角
	//RotateCamera( 0 , 187.654f , 0 )				// 角度
	//ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 3.6f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 1.000, 5.000 ,2.000 ,0.600 ,0.500)

	Wait(FADE_CROSS)
	Wait(10)

	LookReset("SAHAD")

	//	"SAHAD"
	TalkMes("SAHAD","#1999V#091e#080mガハハ、分かる気はするぜ。","","")
	WaitPrompt()

	LookReset("ADOL")
	LookReset("RICOTTA")
	LookReset("HUMMEL")

	HeadNo("SAHAD" , 1 , 30 )
	ChangeAnimation( "SAHAD" , "ANI_EV_UDEGUMI_E", -1 , 1 )

	TalkMes("SAHAD","#2000Vここでの出来事は一生",
		"忘れられるようなもんじゃねえ。","")
	WaitPrompt()

	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEBURI", -1 , 1 )
	TalkMes("SAHAD","#2001V#092e#080mお前さんたちと過ごした時間は",
		"わしにとっちゃ宝物みたいなモンだ。","")
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA" , "ANI_EV_KYOSHU_S", -1 , 1 )

	//	"RICOTTA"
	TalkMes("RICOTTA","#2825V#000l#020e#080mリコッタもゼッタイ忘れない！","","")
	WaitPrompt()
	WaitCloseWindow()

	//	"HUMMEL"
	
	ChangeAnimation( "HUMMEL" , "ANI_EV_RYOTEKOSI_TEBURI", -1 , 1 )

	TalkMes("HUMMEL","#2387V#011e#000m運び屋としても大いに意義がある",
		"日々だったことは認めよう。","")
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)


	CrossFade(FADE_CROSS)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	StopThread(1006)

	MoveCameraAt( 0 , 14.101f , -1491.561f , 4.108f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.011f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.857f , 0 )	// 基本仰角
	RotateCamera( 0 , 158.877f , 0 )				// 角度
	ChangeCameraPers( 0 , 33.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 1.000, 10.000 ,0.000 ,0.700 ,0.500)

	//次シーン準備
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_LAUGH,1)
	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )

	Wait(FADE_CROSS)

	//　　サハドがアドルを見やる。
	LookChr("SAHAD" , "ADOL")

	Wait(10)

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , 13.917f , -1491.487f , 4.108f , 190 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.660f , 190  )		// 基本距離
//	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , 11.861f , 190  )		// 基本仰角
//	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 158.870f , 190  )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,7.1f, 190  )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 190  )		// 視野角

	//MoveCameraAt( 0 , 13.917f , -1491.487f , 4.108f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.660f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 11.861f , 0 )	// 基本仰角
	//RotateCamera( 0 , 158.870f , 0 )				// 角度
	//ChangeCameraPers( 0 , 33.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 1.8f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。



	ChangeAnimation( "SAHAD" , "ANI_EV_TEBURI", -1 , 1 )

	TalkMes("SAHAD","#2002V#000e#000mアドルよ、寄せ集めのわしらが",
		"こうして今日を迎えられたのは……","")
	WaitPrompt()

	LookChr("ADOL" , "SAHAD")

	TalkMes("SAHAD","#2003V#011e#000mダーナが導き、そしてお前さんが",
		"わしらを引っ張ってくれたおかげだ。","")
	WaitPrompt()
	TalkMes("SAHAD","#2004V#092e#080m本当にありがとうよ。","","")
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	CrossFade(FADE_CROSS)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	StopThread(1006)

	MoveCameraAt( 0 , 12.566f , -1489.546f , 4.332f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.200f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -11.461f , 0 )	// 基本仰角
	RotateCamera( 0 , 80.727f , 0 )				// 角度
	ChangeCameraPers( 0 , 32.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -4.3f , 0 )				// ロール回転


	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,12.566f , -1489.546f , 4.406f , 175 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.230f , 175 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,, -10.252f , 175 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 68.265f , 175 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE , 3.9f , 175 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,38.800f , 175 )		// 視野角

	//MoveCameraAt( 0 , 12.566f , -1489.546f , 4.406f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.230f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -10.252f , 0 )	// 基本仰角
	//RotateCamera( 0 , 68.265f , 0 )				// 角度
	//ChangeCameraPers( 0 , 32.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -4.3f , 0 )				// ロール回転

	//次シーン準備
	SetChrPos("ADOL",14.84f,-1490.35f,2.94f)
	Turn("ADOL",90.00f,360.0f)
	SetChrPos("LAXIA",13.83f,-1489.06f,3.15f)
	Turn("LAXIA",9.53f,360.0f)

	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SMILE_CLOSE,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)

	Look("LAXIA" , 0 ,-10)

	Wait(FADE_FAST)
	Wait(10)

	ChangeAnimation( "RICOTTA" , "ANI_EV_NOME_S", -1 , 1 )


	//	"RICOTTA"
	TalkMes("RICOTTA","#2826V#080mリコッタが父上と再会できたのも",
		"アドル兄と会えたからだな。","")
	WaitPrompt()
	WaitCloseWindow()
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_TSMILE_S,1)

	ChangeAnimation( "HUMMEL" , "ANI_EV_RYOTEKOSI_TEBURI", -1 , 1 )

	//	"HUMMEL"
	TalkMes("HUMMEL","#2388V#012e#000m今回の《運び》を完遂できたのも",
		"アドルのおかげと言えるな。","")
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	StopThread(1006)
	StopThread(1)
	StopThread(2)
	StopThread(3)
	StopThread(4)
	StopThread(5)
	StopThread(6)
	
	MoveCameraAt( 0 , 14.208f , -1489.591f , 4.382f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.929f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.437f , 0 )	// 基本仰角
	RotateCamera( 0 , 27.853f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.0f , 0 )				// ロール回転


	//次シーン準備
	SetChrPos("RICOTTA",12.84f,-1489.28f,3.08f)
	Turn("RICOTTA",-66.12f,360.0f)

	SetChrInfoFlag("LAXIA" ,INFOFLAG_NOATARI)
	SetChrPos("ADOL",15.47f,-1489.99f,2.94f)
	Turn("ADOL",90.00f,360.0f)
	LookChr("ADOL" ,"LAXIA")

	ChangeAnimation( "RICOTTA" , "ANI_EV_RYOTEKOSI", -1 , 1 )
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , 14.474f , -1489.404f , 4.382f, 160 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.680f , 160 )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.924f , 160 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 36.047f , 160 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,7.1f, 160 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 160 )		// 視野角

	//MoveCameraAt( 0 , 14.474f , -1489.404f , 4.382f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.680f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 1.924f , 0 )	// 基本仰角
	//RotateCamera( 0 , 36.047f , 0 )				// 角度
	//ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -1.0f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	Wait(10)

	//	"LAXIA"
	TalkMes("LAXIA","#1240V#080mふふ、あなたのことだからすぐに",
		"次の冒険へ旅立つのでしょうけど……","")
	WaitPrompt()

	LookSpd("LAXIA" , 0.08 ,0.08 ,0.08 )
	LookChr("LAXIA" ,"ADOL")
	ChangeAnimation( "LAXIA" , "ANI_EV_RYOTESIRI_E", -1 , 1 )
	TalkMes("LAXIA","#1241V#020l#092e#080mできることならいつかまた",
		"どこかでお会いしましょう。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)

	Wait(10)

	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	WaitThread(1006)

	WaitAnimation2( "LAXIA" , -1, 1, "ANI_EV_RYOTESIRI_E",  0)

	//アドルの前に進み出る
	SetChrInfoFlag("LAXIA", INFOFLAG_NOGRAVITY)
	LookReset("LAXIA")
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKL_E,1)
	TurnTo("LAXIA" , 14.66f,-1489.99f,2.94f, 5.0f)
	Wait(10)
	ExecuteCmd( 1, MoveToEx, "LAXIA", 14.66f,-1489.89f,2.94f, 0.2f, 0.18f ,1 , 1 )
	ExecuteCmd( 4, MoveZ , "LAXIA" , 2.94f , 0 , INTERPOLATE_SPHERE  , 25 )
	Wait(10)
	ExecuteCmd( 2, Turn, "LAXIA", -90 , 1.9f )

	//SetChrPos("LAXIA",14.66f,-1489.99f,2.94f)
	//Turn("LAXIA",-90.00f,360.0f)
	//SetChrPos("ADOL",15.47f,-1489.99f,2.94f)
	//Turn("ADOL",90.00f,360.0f)

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , 14.959f , -1489.850f , 4.306f , 60 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.212f , 60 )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.577f , 60 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 39.388f , 60 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,7.1f, 60 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 60 )		// 視野角

	//MoveCameraAt( 0 , 14.959f , -1489.850f , 4.306f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.212f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 7.577f , 0 )	// 基本仰角
	//RotateCamera( 0 , 39.388f , 0 )				// 角度
	//ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -1.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	LookChr("LAXIA" ,"ADOL")

	TalkMes("LAXIA","#1242V#080e#080mその時に胸を張って再会できるよう、",
		"わたくしも立派な女性になってみせます。","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"楽しみにしてるよ")
	MenuAdd(2,"僕も負けずに頑張るよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)	WaitMenu(0)
	MenuClose(10,0)

	Wait(10)

	CrossFade(FADE_FAST)
	StopThread(1)
	StopThread(2)
	StopThread(3)
	StopThread(4)
	StopThread(5)
	StopThread(6)

	SetChrInfoFlag("LAXIA" ,INFOFLAG_NOATARI)
	SetChrPos("LAXIA",14.66f,-1489.99f,2.94f)
	Turn("LAXIA",-90.00f,360.0f)
	LookSpd("LAXIA" , 1.0 ,1.0 ,1.0 )
	LookSpd("ADOL" , 1.0 ,1.0 ,1.0 )

	LookChr("LAXIA" ,"ADOL")
	LookChr("HUMMEL" ,"ADOL")
	LookChr("RICOTTA" ,"ADOL")

	MoveCameraAt( 0 , 15.242f , -1489.826f , 4.471f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.544f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -13.776f , 0 )	// 基本仰角
	RotateCamera( 0 , 313.161f , 0 )				// 角度
	ChangeCameraPers( 0 , 24.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 3.3f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 50.000 ,0.000 ,0.700 ,0.500)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 15.242f , -1489.826f , 4.347f, 180 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.112f , 180 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 14.075f , 175 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 180.411f , 175 )		// 角度
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE , 3.9f , 175 )		// ロール回転
//	ExecuteCmd(1005, ChangeCameraPers, INTERPOLATE_SPHERE ,38.800f , 175 )		// 視野角

	//MoveCameraAt( 0 , 15.242f , -1489.826f , 4.347f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.112f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -13.785f , 0 )	// 基本仰角
	//RotateCamera( 0 , 313.118f , 0 )				// 角度
	//ChangeCameraPers( 0 , 24.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 3.3f , 0 )				// ロール回転

	Wait(FADE_FAST)
	Wait(10)

	LookReset("ADOL")
	Turn("ADOL",90.0f,4.0f)
	LookChr("ADOL" , "LAXIA")

	Wait(10)
	
	PlayVoice(Y8V_0156,"ADOL",100)	//ああ（肯定）

	HeadYes("ADOL" ,1 , 25 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)
	Wait(25)

	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	ChangeAnimation( "LAXIA" , "ANI_EV_AKUSHU_S", -1 , 1 )

	//─────────────────────────
	//	⇒楽しみにしてるよ
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		TalkMes("LAXIA","#1243V#092e#080mええ、頑張ります。",
			"本当にありがとうございました。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒僕も負けずに頑張るよ
	if (FLAG[TF_MENU_SELECT] == 2)
	{
		TalkMes("LAXIA","#1244V#092e#080mええ、アドル……",
			"本当にありがとうございました。 ","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)

//	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , 15.063f , -1489.807f , 4.272f , 80 )		// 注視点
//	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.440f , 80)		// 基本距離
//	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , -12.102f, 80 )		// 基本仰角
//	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 355.823f ,  80 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 0.0f, 80 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 80 )		// 視野角

	//MoveCameraAt( 0 , 15.063f , -1489.807f , 4.272f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.440f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -12.102f , 0 )	// 基本仰角
	//RotateCamera( 0 , 355.823f , 0 )				// 角度
	//ChangeCameraPers( 0 , 24.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.1f , 0 )				// ロール回転

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , 15.020f , -1489.898f , 4.297f , 160 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.710f  , 160)		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE ,  13.168f, 160 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 46.775f ,  160 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 0.0f, 160 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 160 )		// 視野角

	//MoveCameraAt( 0 , 15.020f , -1489.898f , 4.297f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.710f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 13.168f , 0 )	// 基本仰角
	//RotateCamera( 0 , 46.775f , 0 )				// 角度
	//ChangeCameraPers( 0 , 24.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.1f , 0 )				// ロール回転

	Wait(70)

	//次シーン準備
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("SAHAD", INFOFLAG_NOATARI)
	SetChrPos("SAHAD",17.36f,-1488.46f,3.53f)
	Turn("SAHAD",99.04f,360.0f)
	LookReset("SAHAD")

	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_LAUGH,1)

	Wait(20)

	ChangeAnimation( "LAXIA" , "ANI_EV_AKUSHU2_S", -1 , 1 )
	ChangeAnimation( "ADOL" , "ANI_EV_AKUSHU2_S", -1 , 1 )


	//　　ラクシャと握手を交わすアドル。

	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_AKUSHU2_S",  0)

	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	WaitThread(1006)

	Wait(35)

	CrossFade(FADE_NORMAL)
	MoveCameraAt( 0 , 13.887f , -1490.139f , 4.322f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 7.211f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 13.306f , 0 )	// 基本仰角
	RotateCamera( 0 , 189.721f , 0 )				// 角度
	ChangeCameraPers( 0 , 36.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -6.3f , 0 )				// ロール回転

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_COS , 13.190f , -1490.085f , 4.322f, 190 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_COS , 7.210f  , 190)		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_COS , 13.306f , 190 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_COS , 136.306f ,  190 )		// 角度
	ExecuteCmd(1005, RollCamera, INTERPOLATE_COS , 10.8f, 190 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_COS ,39.000f, 190 )		// 視野角

	//MoveCameraAt( 0 , 13.190f , -1490.085f , 4.322f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 7.210f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 13.306f , 0 )	// 基本仰角
	//RotateCamera( 0 , 136.306f , 0 )				// 角度
	//ChangeCameraPers( 0 , 36.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 10.8f , 0 )				// ロール回転



	ExecuteCmd( 1, MoveTo, "SAHAD", 15.28f,-1486.48f,3.69f, 0.1f, 0.25f )
	//SetChrPos("SAHAD",15.28f,-1486.48f,3.69f)
	//Turn("SAHAD",0.00f,360.0f)

	WaitThread(1)
	Turn("SAHAD",0.0f,8.0f)
	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)
	ChangeAnimation( "SAHAD" , "ANI_EV_YARUKI_S", -1 , 1 )

	TalkMes("SAHAD","#2005V#17S#020e#020mよし、それじゃ出航といこーぜ！","出航2行目","")
	Wait(10)
	EarthQuake(0.07,0.07 , 7 )

	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	Wait(20)

	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	StopThread(1006)

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , 13.190f , -1490.085f , 35.576f, 190 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE ,  7.210f   , 190)		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , 36.107f , 190 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE ,  169.038f ,  190 )		// 角度
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -3.4f, 190 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 190 )		// 視野角

	//MoveCameraAt( 0 , 13.190f , -1490.085f , 35.576f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 7.210f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 36.107f , 0 )	// 基本仰角
	//RotateCamera( 0 , 169.038f , 0 )				// 角度
	//ChangeCameraPers( 0 , 36.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -3.4f , 0 )				// ロール回転

	StopBGM(190)

	Wait(100)


//	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , 85.265f , -1514.275f , 86.335f , 280 )		// 注視点
//	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 68.282f , 280)		// 基本距離
//	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , 34.891f , 280 )		// 基本仰角
//	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 62.887f,  280 )		// 角度
////	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 4.577f, 280 )		// ロール回転
////	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 280 )		// 視野角
//
//	//MoveCameraAt( 0 , 85.265f , -1514.275f , 86.335f , 0 )	// 注視点
//	//ChangeCameraDistance( 0 , 68.282f , 0 )		// 基本距離
//	//ChangeCameraElevation( 0 , 34.891f , 0 )	// 基本仰角
//	//RotateCamera( 0 , 62.887f , 0 )				// 角度
//	//ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 1200.000f )			// ZPlane
//	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
//
//
//	Wait(20)
//	Slow(1.0)
//
//	Wait(20)
//
//	SetMotSpd("SAHAD" , -1 , 0.7)
//	SetMotSpd("RICOTTA" , -1 , 1.15)
//
//	SetChrPos("SAHAD",-0.43f,-1510.33f,1.89f)
//	Turn("SAHAD",14.38f,360.0f)
//	SetChrPos("RICOTTA",-0.43f,-1510.33f,1.89f)
//	Turn("RICOTTA",14.38f,360.0f)
//	SetChrPos("HUMMEL",-0.43f,-1510.33f,1.89f)
//	Turn("HUMMEL",14.38f,360.0f)
//	SetChrPos("ADOL",6.28f,-1497.18f,3.97f)
//	Turn("ADOL",26.44f,360.0f)
//	SetChrPos("LAXIA",5.35f,-1500.67f,3.97f)
//	Turn("LAXIA",40.26f,360.0f)
//
//	ResetChrInfoFlag("LAXIA", INFOFLAG_NOATARI)
//	ResetChrInfoFlag("ADOL", INFOFLAG_NOATARI)
//
//
//	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
//	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
//	ChangeAnimation( "HUMMEL" , "ANI_WAIT", -1 , 1 )
//	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
//	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
//
//
//
//	Wait(100)
//
//	ExecuteCmd( 1, MoveTo, "SAHAD", -2.95f,-1525.38f,1.89f, 0.1f, 0.32f )
//	//SetChrPos("SAHAD",-2.95f,-1525.38f,1.89f)
//	//Turn("SAHAD",14.38f,360.0f)
//
//	Wait(20)
//	ExecuteCmd( 2, MoveTo, "RICOTTA", -2.95f,-1525.38f,1.89f, 0.1f, 0.28f )
//
//	Wait(35)
//	ExecuteCmd( 3, MoveTo, "HUMMEL", -2.95f,-1525.38f,1.89f, 0.1f, 0.28f )
//
//	ExecuteCmd( 4, MoveTo, "ADOL", -2.28f,-1512.48f,1.83f, 0.1f, 0.28f )
//	ExecuteCmd( 5, MoveTo, "LAXIA", -2.28f,-1512.48f,1.83ff, 0.1f, 0.28f )
//
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//	WaitThread(1004)
//	WaitThread(1005)
//	WaitThread(1006)

	FadeOut(FADE_BLACK,FADE_SLOW)
	Wait(30)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:EV_M07S121_ED")
}

function "EV_M07S121_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	SetFlag(SF_CHARANORECVSHADOW,0)	//キャラ影受ける

	//フラグ処理
	SetFlag(GF_TBOX_DUMMY087, 1)

	//NowLoading 時の Tips 表示をカット
	SetFlag(TF_LOADING_TIPS_OFF, 1)

	//イベント・ギャラリー中
	if(FLAG[TF_EVSKIP] && FLAG[SF_GALLERY_EVENT])
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}
	// 通常時
	else
	{

	//	PlayBGM(BGM_EVENT_016, 0)
		StopBGM(60)
		SetFlag(SF_NOCHANGEBGM, 1)

		LoadArg("map/mp0021/mp0021.arg")
		EventCue("mp0021:EV_M07S130")	// NEXT：ＥＤⅢ 脱出艇が出航する

		SetEnvSEPlayState(-1, 0)	//環境SE全停止q

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}


////////////////////////////////////////////////////////////////////////////////
// サブイベント
////////////////////////////////////////////////////////////////////////////////

function "LP_bed"	//ベッドで休む
{

	SetStopFlag(STOPFLAG_SIMPLEEVENT2)

//	//モーションが終了するまで待機
//	WaitAnimation2( "PLAYER1" ,-1 ,-1 ,ANI_WAIT ,1 )

	ResetMotion( "PARTYALL" , 0 )
//	StopEffect(-1,PARTYALL,1)
//	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")

	YesNoMenu(TF_MENU_SELECT, "ここで休みますか？", 0)
	WaitMenu(0)
	
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		FadeBGM(0,90)
		//SetWork(WK_BGMLIMIT, 1)
		FadeOut(FADE_BLACK,FADE_NORMAL)
		WaitFade()

		SaveCamera()

		//SetEnvSEPlayState(1105001, 0)
		PlaySE(SE_ENV_FOREST_4, 20, 1, 1000, 0, 1.0f, 0)	//夜の虫
	
		//寝言
		CallFunc("system:TentVoice_Sleep")
	
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		PlaySE( SE_HOTEL_JINGLE , 100 , 0,  0, 0, 1.0f, 0)	//ジングル
		StopSE(SE_ENV_FOREST_4, 2000)	//虫の音止める
		Wait(120)

		//テント回復処理・リトライセーブ
		CallFunc("system:camp_rest")
	
		PlaySE(SE_HEAL, 100, 0, 0, 0, 1.0f, 0)

		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4C全員のＨＰ、ＳＰとＥＸＴＲＡゲージが全快した！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	
		Wait(15)

		SetChrPos("LEADER",23.30f,-1433.29f,11.64f)
		Turn("LEADER",-69.93f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		MoveCameraAt( 0 , 23.298f , -1433.286f , 13.503f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , 12.089f , 0 )	// 基本仰角
		RotateCamera( 0 , 67.314f , 0 )				// 角度
		ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , 0.0f , 0 )				// ロール回転

		//RestoreCamera(0,0)
		CallFunc("system:camera_reset")
	
		ResetStopFlag(STOPFLAG_SIMPLEEVENT2)

		SetEnvSEPlayState(-1, 1)	//環境SE復帰

		//SetWork(WK_BGMLIMIT, 0) 
		FadeBGM(100,30)
		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()

	} else {
		ResetStopFlag(STOPFLAG_SIMPLEEVENT2)

	}

}


//	================================================
//	【拠点の小川を調べる】
//	================================================
//▼拠点調査中のみ
function "SubEV_Check_River"
{
	SetStopFlag(STOPFLAG_TALK)

	Turn("LEADER",139.00f,10.0f)
 	Look( "LEADER" , 0.0f , -20.0f )
	Wait(5)

	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7C美しい小川が流れている。\p"
		"#7C喉を潤すにはよさそうな場所だが、"
		"#7C人が立ち寄った痕跡などは見当たらない……"
	}
	WaitPrompt()
	WaitCloseWindow()

	SetFlag(GF_SUBEV_1201_CHECK_RIVER,			1)// 【拠点の小川を調べる】
	SetChrPos("SubEV_Check_River",-100000.0f,0.0f,0.0f)
	SetChrPos("SubEV_Check_River_sub",-100000.0f,0.0f,0.0f)

	LookReset("LEADER")
	ResetStopFlag(STOPFLAG_TALK)
}

function "SubEV_Check_ship2"
{
	SetStopFlag(STOPFLAG_TALK)

	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7C簡素な筏#2Rいかだ#Rが置かれている。"	//◆仮　ストッパー用メッセージ
		"#7C組み上げの途中だろうか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_TALK)
}

//											マップ分けのためmp1203ヘ移行
//EV_M02S520発生条件		
//function "SubEV_Check_Rope"
//{
//	SetStopFlag(STOPFLAG_TALK)
//	ResetStopFlag(STOPFLAG_NOCHARACLIP)
//
//	ResetMotion( "PARTYALL" , 0 )
//	StopEffect(-1,PARTYALL,1)
//	StopEmotion( "PARTYALL" )
//	ResetMoveVec("PARTYALL")
//
//	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
//	{
//		"#7Cロープが水面を漂っているようだ……"
//	}
//	WaitPrompt()
//	WaitCloseWindow()
//
//	SetFlag(GF_SUBEV_1201_CHECK_ROPE,			1)// 【拠点、海岸のロープを調べる】
//
////	SetChrPos("SubEV_Check_River",-100000.0f,0.0f,0.0f)
////	SetChrPos("SubEV_Check_River_sub",-100000.0f,0.0f,0.0f)
//
//	//マップマーカー
//	SetMapMarker(SMI_EVENTPT_MAIN,PAGE_MP120x,MARKER_EV_M02S520,10.21f,-1504.04f,0.62f,10.21f,-1504.04f,0, MN_T_VILLAGE_MP1201,0)	//サハド
//	SetEventNPC( "Sahad" ,GF_SUBEV_1201_CHECK_ROPE,GF_02MP1201_LOOK_CURRAN, EV_NPC_TYPE_MAIN)
//
//	ResetStopFlag(STOPFLAG_TALK)
//}

function "SubEV_Help_Medicine"	// チュートリアル：調薬（１部版）
{
//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr(Barbaross)

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	ResetMotion( "PARTYALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
//	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 22.80f, -1429.96f, 11.63f )
	Turn("ADOL", 83.32f, 360.00f )
	ChangeAnimation("ADOL","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 22.64f, -1430.95f, 11.65f )
	Turn("LAXIA", 118.85f, 360.00f )
	ChangeAnimation("LAXIA","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("LAXIA")
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	
	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Barbaross", 20.45f, -1430.18f, 11.66f)
	Turn("Barbaross", 83.94f , 360.00f )
	ChangeAnimation("Barbaross","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	LookReset("Barbaross")
	SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI )

	//BGM設定
//	PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
//	MoveCameraAt( 0 , 21.790f , -1430.884f , 13.458f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.180f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 5.237f , 0 )	// 基本仰角
//	RotateCamera( 0 , 51.391f , 0 )				// 角度
//	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , 21.790f , -1430.884f , 13.078f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.180f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.237f , 0 )	// 基本仰角
	RotateCamera( 0 , 51.391f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a11.itp" )	// help_a11：調薬
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(3, "visual/help/hp_a08.itp" )	// help_a08：採取ポイント
	Portrait_Create(3, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	
	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,1.000 ,0.550 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)	//イベント毎に調整

	SetSkipScript("mp1201:SubEV_Help_Medicine_ED")

//開始処理ここまで----------------------------------------------------

	//　　第一部のバルバロスは、薬の調合場所を用意している。
	//　　診療所予定地に配置したバルバロスに
	//　　話しかけると下記のイベントが発生する。

	LookChr("ADOL", "Barbaross")
	LookChr("LAXIA", "Barbaross")

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 21.790f , -1430.884f , 13.078f , 60 )

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

//	// カメラ待ち
//	WaitThread(1000)
//
	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mあら、船長……"
		"何をなさっているのですか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "LAXIA")
	TurnToChr("Barbaross", "LAXIA", 7.0f)

	// バルバロス船長
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#000e#000mフム、この島にはジギタリスという"
		"薬草が自生しているようです。\p"
		"簡単な薬くらいは何とか"
		"作れないかと思いましてね……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_SIAN_S", -1, 1 )	// 思案

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mなるほど……確かに薬があれば、"
		"わたくしたちも助かりますね。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "上手くいきそうですか？")
	MenuAdd(2, "手伝いましょうか？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)
	
	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)
	
	LookChr("Barbaross", "ADOL")
	
	//─────────────────────────
	//	⇒上手くいきそうですか？
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// バルバロス船長
		TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
			"#011e#000mうむ、丁度準備が終わった所だ。"
			"丁度2行目"
		}
		WaitPrompt()
		WaitCloseWindow()

	//	⇒手伝いましょうか？
	} else {
		
		// バルバロス船長
		TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
			"#011e#000mいや、それには及ばない。"
			"準備が丁度できた所なのだ。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//─────────────────────────

	ChangeAnimation( "Barbaross", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// バルバロス船長
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#012e#000mあとは素材さえ揃えれば、"
		"ここで簡単な調薬を行えるだろう。\p"
		"ただ、薬を持ち歩くには"
		"手ごろな容器が必要になりそうだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA", "ANI_EV_SIAN_E", -1, 1 )	// 思案
	LookChr("LAXIA", "ADOL")
	LookChr("ADOL", "LAXIA")

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000m……アドル・クリスティン、 "
		"確か薬の瓶を持っていましたね。\p"
		"もしかしたら、それが使えるのでは？ "
	}
	WaitPrompt()
	WaitCloseWindow()

	// バルバロス船長
	TalkPopup("Barbaross", 0, 2, 0, 0, 0) {
		"#000e#000mおお、なるほど……\p "
		"ならば薬がなくなったら、"
		"ここで作って新たに詰めるといい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL", "Barbaross")
	LookChr("LAXIA", "Barbaross")

	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mええ、ありがとうございます。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	（１周目のみ）help_a11：調薬
	//	（１周目のみ）help_a08：採取ポイント

	//　　イベント終了する。

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_FAST)
	WaitFade()

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_NORMAL)
		
		// ポートレート表示
		PlaySE( SE_PAGE , 100 , 0,  0, 0, 1.0f, 0)		// SE：ページめくり
		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)	// チュートリアル背景
		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		Portrait_Close(0)
		Portrait_Close(1)
		Portrait_Close(2)
		Portrait_Close(3)
		
		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================



//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_Help_Medicine_ED")
}
function "SubEV_Help_Medicine_ED"
{
	//スキップ禁止
	SetSkipScript("")
	
	//イベント前のキャラ情報を復帰
	RestoreEventState()
	
	//隠したものを復帰
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))
	
	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Barbaross")
	// 2017.12.06 m.arai ラクシャモーションも初期化
	CallFunc("system:reset_chrmot_LAXIA")
	
	// 位置復帰
	SetChrPos("LP_drug",18.56f,-1431.00f,12.11f)
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)
	
	// フラグ処理
	SetFlag( GF_01MP1201_DRUG, 1 )
	SetFlag( GF_02MP1201_TEST_DRUG, 1 )
	SetFlag( GF_HELP_A11, 1 )	// チュートリアル：調薬
	SetFlag( GF_HELP_A08, 1 )	// チュートリアル：採取ポイント

	SetDiaryShopFlag(SHOP_ID_DRUG_A,1)				// "調薬場"
	SetDiaryShopFlag(SHOP_ID_DRUG,0)				// "キルゴールの診療所"
	SetDiaryShopFlag(SHOP_ID_DRUG_R,0)				// "リヒトの診療所"
	
	//パーティキャラを解放
	ReleaseEventPartyChr()
	
	//マップパラメーターリセット
	ResetMapParam( -1 )
	
	//イベント後の再配置
	SetChrPos("LEADER", 24.05f, -1429.74f, 11.62f )
	Turn("LEADER", -103.63f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//NPC配置
	CallFunc("mp1201:init")

	//カメラ位置復帰 or 初期位置設定
	MoveCameraAt( 0 , 24.053f , -1429.742f , 13.487f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 14.353f , 0 )	// 基本仰角
	RotateCamera( 0 , 103.630f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	RestoreCamera(0,0)														//※イベント終了時のカメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")
	
	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
	
}

function "SubEV_Help_Status_Irregular"	// チュートリアル：状態異常
{
//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin_fast")

	LoadChr(Kiergaard)

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
//	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 18.37f, -1429.89f, 11.62f )
	Turn("ADOL", 38.62f, 360.00f )
	ChangeAnimation("ADOL","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKR,1)
	LookReset("ADOL")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	
	SetChrWork("Kiergaard", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kiergaard", 17.24f, -1430.92f, 11.58f )
	Turn("Kiergaard", -133.94f, 360.00f )
	ChangeAnimation("Kiergaard","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_MOUTH,ANI_M_WAIT,1)
	LookReset("Kiergaard")
	SetChrInfoFlag( "Kiergaard" , INFOFLAG_NOCHRATARI )

	SetChrPos("LAXIA", -100000.00f, 0.00f, 0.00f)
	SetChrPos("SAHAD", -100000.00f, 0.00f, 0.00f)

	//BGM設定
//	PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , 17.811f , -1430.465f , 13.068f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.900f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.491f , 0 )	// 基本仰角
	RotateCamera( 0 , 159.605f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_b15.itp" )	// help_b15：状態異常
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(3, "visual/help/hp_b15b.itp" )	// help_b15b：状態異常2
	Portrait_Create(3, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 40.000 ,0.000 ,0.450 ,0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)	//イベント毎に調整

	SetSkipScript("mp1201:SubEV_Help_Status_Irregular_ED")

//開始処理ここまで----------------------------------------------------

	//　　キルゴール救出後、村に戻ると「診療所」が開設している。
	//　　話しかけると初回イベントが起動。

	// カット1 ----------------------------------------------------------------------------------------

	MoveCameraAt( 0 , 17.811f , -1430.465f , 13.088f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.396f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.772f , 0 )	// 基本仰角
	RotateCamera( 0 , 166.767f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookChr("ADOL", "Kiergaard")
	LookChr("Kiergaard", "ADOL")

	Wait(10)

	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.811f , -1430.465f , 13.088f, 80 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.396f , 80 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 6.772f , 80 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 166.767f , 80 )

	// フェードイン
	FadeIn(FADE_BLACK, FADE_FAST)
	WaitFade()

//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	ChangeAnimation( "Kiergaard", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// キルゴール
	TalkPopup("Kiergaard", 0, 2, 0, 0, 0) {
		"#000e#000mやあ、アドル君。"
		"お体の調子はどうですか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "ここはもしかして……")
	MenuAdd(2, "……どちら様でしたっけ？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)
	
	//─────────────────────────
	//	⇒ここはもしかして……
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// 手振りセット
		ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		HeadYes("Kiergaard" , 1 , 25 )
		ChangeSubAnimation("Kiergaard", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("Kiergaard", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		// キルゴール
		TalkPopup("Kiergaard", 0, 2, 0, 0, 0) {
			"#000mええ、バルバロス船長から"
			"是非にと頼まれまして……\p"
			"#000e#000m簡素ではありますが、"
			"《診療所》を開設させて頂きました。"
		}
		WaitPrompt()
		WaitCloseWindow()

	//	⇒……どちら様でしたっけ？
	} else {

		ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
		Wait(20)
		EmotionEx("ADOL", 0.00f, EMO_Q, 0, 5, 1, 1, 0.7f )	// 「？」
		LookRoll("ADOL", 15.0f)	// かしげる
		Wait(40)
		LookRoll("ADOL", 0.0f)	// かしげる

		//　　キルゴールに冷や汗エモーション
		EmotionEx("Kiergaard", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f )	// 「冷や汗」
		ChangeSubAnimation("Kiergaard", SUBMOT_EYE, ANI_E_SAD_S, 1)	// 目
		ChangeSubAnimation("Kiergaard", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)	// 口
		Wait(45)

		// キルゴール
		TalkPopup("Kiergaard", 0, 2, 0, 0, 0) {
			"#050e#080mはは、忘れてしまいましたか。"
			"医者のキルゴールです。\p"
			"#052e#000m簡素ですが、この通り《診療所》を"
			"開設させて頂くことになりまして……"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	}
	//─────────────────────────

	ChangeAnimation( "Kiergaard", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// キルゴール
	TalkPopup("Kiergaard", 0, 2, 0, 0, 0) {
		"#021e#000m薬の調合はこれから"
		"ここで担当させて頂きますよ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//　　キルゴールにＰＡエモーション
	EmotionEx("Kiergaard", 0.05f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	ChangeSubAnimation("Kiergaard", SUBMOT_EYE, ANI_E_LAUGH_E, 1)	// 目
	Wait(35)
	
	// キルゴール
	TalkPopup("Kiergaard", 0, 2, 0, 0, 0) {
		"#000e#000mそういえば、あなたにお会いする前、"
		"妙に入り組んだ場所に迷い込みました。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Kiergaard", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	
	// キルゴール
	TalkPopup("Kiergaard", 0, 2, 0, 0, 0) {
		"そこには強い毒を持つ獣が"
		"うろついていたので気をつけて下さい。\p"
		"ここで解毒薬を作りますから、"
		"持っていったほうがいいでしょう。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//　　アドルうなずく。
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(25)
		
	// フェードアウト
	FadeOut(FADE_BLACK, FADE_FAST)
	WaitFade()
	
	//（１周目のみ）help_b15：状態異常
	
	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)

		// ポートレート表示
		PlaySE( SE_PAGE , 100 , 0,  0, 0, 1.0f, 0)		// SE：ページめくり
		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)	// チュートリアル背景
		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)

		Portrait_Close(1)
		Portrait_Close(2)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		Portrait_Close(0)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================
	
//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_Help_Status_Irregular_ED")
}
function "SubEV_Help_Status_Irregular_ED"
{
	//スキップ禁止
	SetSkipScript("")
	
	//イベント前のキャラ情報を復帰
	RestoreEventState()
	
	//隠したものを復帰
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))
	
	ResetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)
	
	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Kiergaard")
	
	// キルゴールの位置戻し
	if (FLAG[GF_02MP1305_CALL_PARO]) {	// 2部 迎撃戦直前
		SetChrPos("Kiergaard", 18.05f, -1431.51f, 11.60f)
		Turn("Kiergaard", 46.99f, 360.0f)
		ChangeAnimation( "Kiergaard", "ANI_EV_SIT_C", -1, 1 )		// 座り
	} else {
		SetChrPos("Kiergaard", 17.24f, -1430.92f, 11.58f)
		Turn("Kiergaard", 48.01f, 360.0f)
	}
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)
	
	// フラグ処理
	SetFlag( GF_HELP_B15, 1 )	// チュートリアル：状態異常
	//SetDiaryCharaFlag( DRCHA_KIERGAARD, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（キルゴール）
	//SetDiaryCharaFlag( DRCHA_KIERGAARD2, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（キルゴール）
	CallFunc("mp1201:init")
	
	//パーティキャラを解放
	ReleaseEventPartyChr()
	
	//マップパラメーターリセット
	ResetMapParam( -1 )
	
	//イベント後の再配置
	SetChrPos("LEADER", 19.99f, -1428.42f, 11.64f )
	Turn("LEADER", -144.16f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用
	
	//カメラ位置復帰 or 初期位置設定
	MoveCameraAt( 0 , 19.992f , -1428.419f , 13.504f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.300f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.794f , 0 )	// 基本仰角
	RotateCamera( 0 , 147.225f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	RestoreCamera(0,0)														//※イベント終了時のカメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")
	
	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
	
}
function "SubEV_Help_Trade"	// チュートリアル：交易所／売却、虫駆除剤の使い方
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr(Dina)

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	ResetMotion( "PARTYALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
//	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 16.18f, -1419.08f, 11.58f )
	Turn("ADOL", 113.24f, 360.00f )
	ChangeAnimation("ADOL","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKR,1)
	LookReset("ADOL")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	
	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dina", 14.59f, -1418.32f, 11.58f )
	Turn("Dina", -55.05f, 360.00f )
	ChangeAnimation("Dina","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_MOUTH,ANI_M_SMILE,1)
	LookReset("Dina")
	SetChrInfoFlag( "Dina" , INFOFLAG_NOCHRATARI )

	//BGM設定
//	PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , 22.913f , -1420.920f , 15.734f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.727f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -10.732f , 0 )	// 基本仰角
	RotateCamera( 0 , 162.383f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MapAnime("Village", "Lv5")		// ◆入力用　仮

	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a38.itp" )	// help_a38：交易所／売却
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(3, "visual/help/hp_a57.itp" )	// help_a57：宝石の交換
	Portrait_Create(3, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(4, "visual/help/hp_a39.itp" )	// help_a39：虫駆除剤の使い方
	Portrait_Create(4, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 60.000 ,0.000 ,0.450 ,0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)	//イベント毎に調整

	SetSkipScript("mp1201:SubEV_Help_Trade_ED")

//開始処理ここまで----------------------------------------------------

	//　　ディナ救出後はイベントで集落へ戻り
	//　　以下のサブイベントになる。
	//　　※口調などは後でサブ方面で要調整。

	// カット1 ----------------------------------------------------------------------------------------

	//　　暗転明けでディナの交易所が完成している状態。

	// 位置調整・表情・モーション
	LookChr("ADOL", "Dina")
	LookChr("Dina", "ADOL")
	ChangeAnimation( "Dina", "ANI_EV_RYOTEKOSI", -1, 1 )	// 両手腰

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 16.871f , -1417.782f , 13.234f , 120 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.728f , 120 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.602f , 120 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 101.791f  , 120 )		// 角度

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

//	Wait(10)

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_NORMAL)

//	// カメラ
//	MoveCameraAt( 0 , 15.415f , -1418.820f , 13.054f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.632f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 4.780f , 0 )	// 基本仰角
//	RotateCamera( 0 , 33.526f , 0 )				// 角度
//	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
//
//	// カメラ移動（距離）
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,  2.352f , 60 )
	MoveCameraAt( 0 , 15.483f , -1418.767f , 13.054f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.352f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.780f , 0 )	// 基本仰角
	RotateCamera( 0 , 33.526f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェード待ち
	Wait(FADE_NORMAL)

	// カメラ待ち
	//WaitThread(1001)

	// ディナ
	TalkPopup("Dina", 0, 2, 0, 0, 0) {
		"#011e#080mふっふっふ……"
		"大体想定どおりに完成したわね。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Dina", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	
	// ディナ
	TalkPopup("Dina", 0, 2, 0, 0, 0) {
		"#012e#080mさあ、店舗も確保したし"
		"バリバリ商売させてもらうわよっ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ハーフフェードしてシステムメッセージを表示。

	// 擬似ハーフフェードアウト表示
	Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
	Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.7f, FADE_FAST)
	Wait(FADE_FAST)

	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル

	// システムメッセージ
	TalkPopup(UNDEF, 0, 5, 0, 0, 0) {
		"#8S"
		"#-1W#4Cディナが交易所を始めた！#10W"
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	// システムメッセージ
	TalkPopup(UNDEF, 0, 5, 0, 0, 0) {
		"#-1W#8Cアイテムの交換#4Cと#8C引き取り#4C、"
		"#-1W#8C宝石の交換#4Cができるようになった！#10W"	//（「交換」「引き取り」「掘り出し物の購入」を強調色に）
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	// チュートリアル =======================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
	
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		
		// ポートレート表示
		PlaySE( SE_PAGE , 100 , 0,  0, 0, 1.0f, 0)		// SE：ページめくり
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)

		
	}
	// =====================================================================

	//　　ハーフフェードを戻す。

	// 擬似フェードアウト削除
	Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
	Wait(FADE_FAST)

	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定

		// ポートレート閉じる
		Portrait_Close(2)
		Portrait_Unload(2)
		
		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)

	}

	ChangeAnimation( "Dina", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	// ディナ
	TalkPopup("Dina", 0, 2, 0, 0, 0) {
		"#020e#080mキミも協力ありがと。"
		"こきつかっちゃって悪いわね♪"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)
	
	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "全然構わないさ")
	MenuAdd(2, "かなり疲れたよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)
	
	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)
	
	//─────────────────────────
	//	⇒全然構わないさ
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// ディナ
		TalkPopup("Dina", 0, 2, 0, 0, 0) {
			"#000e#080mおっ、文句一つ言わないなんて"
			"キミってばいい男ね！"
		}
		WaitPrompt()
		WaitCloseWindow()

	//	⇒かなり疲れたよ
	} else {

		// ディナ
		TalkPopup("Dina", 0, 2, 0, 0, 0) {
			"#000e#080mあはは、ごめんごめん。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//─────────────────────────

	ChangeAnimation( "Dina", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ディナ
	TalkPopup("Dina", 0, 2, 0, 0, 0) {
		"#020e#080mじゃ、お詫びと開店記念をかねて"
		"これをあげるわ！"
	}
	//WaitPrompt()
	//WaitCloseWindow()

	// アイテム入手テキスト
	//GetItemMessageExPlus(ICON3D_US_PESTCIDE, 3, ITEMMSG_SE_JINGLE, "を手に入れた。", 0, 0)	//虫駆除剤
	//WaitPrompt()
	//WaitCloseWindow()

	ChangeAnimation( "Dina", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	// ディナ
	TalkPopup("Dina", 0, 2, 0, 0, 0) {
		"#022e#080mこれは虫にスゴク効く薬でね。"
		"一本焚くだけで気絶させられるのよ。\p"
		"#020e#080mおまけに虫の巣を弱らせる効果もあるわ。"
		"有効に使ってよね！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// チュートリアル =======================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
	
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)
		
		// 擬似ハーフフェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.7f, FADE_FAST)

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Portrait_Anime(4, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()


		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Portrait_Anime(4, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)

		// 擬似フェードアウト削除
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		
		// ポートレート閉じる
		Portrait_Close(0)
		Portrait_Close(1)
		Portrait_Close(3)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
		
	}
	// =====================================================================

	Wait(10)
	ChangeAnimation( "Dina", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// ディナ
	TalkPopup("Dina", 0, 2, 0, 0, 0) {
		"#022e#080mそれじゃ、今後ともご贔屓に！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　操作許可を戻す。
	
	// フェードアウト
	FadeOut(FADE_BLACK, FADE_FAST)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_Help_Trade_ED")
}
function "SubEV_Help_Trade_ED"
{
	//スキップ禁止
	SetSkipScript("")
	
	//イベント前のキャラ情報を復帰
	RestoreEventState()
	
	//隠したものを復帰
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))
	
	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Dina")
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)
	
	// フラグ処理
	SetFlag( GF_HELP_A38, 1 )	// チュートリアル：交易所
	SetFlag( GF_HELP_A39, 1 )	// チュートリアル：虫駆除剤の使い方
	SetFlag( GF_HELP_A57, 1 )	// チュートリアル：宝石の交換
	////SetDiaryCharaFlag( DRCHA_DINA, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（ディナ）

	//GetItem(ICON3D_US_PESTCIDE,3)	//虫駆除剤

	//パーティキャラを解放
	ReleaseEventPartyChr()
	
	//マップパラメーターリセット
	ResetMapParam( -1 )
	
	CallFunc("mp1201:init")
	
	//イベント後の再配置
	SetChrPos("LEADER", 17.37f, -1419.92f, 11.58f )
	Turn("LEADER", 112.46f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用
	
	//カメラ位置復帰 or 初期位置設定
	MoveCameraAt( 0 , 17.369f , -1419.915f , 13.440f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.241f , 0 )	// 基本仰角
	RotateCamera( 0 , 67.859f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	RestoreCamera(0,0)														//※イベント終了時のカメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")
	
	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
	
}

function "SubEV_Help_Present"		// チュートリアル：プレゼントイベント、好感度
{
//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	LoadChr(Dina)

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	//ResetMotion( "PARTYALL" , 1 )
	//StopEffect(-1,ALL,1)
	//StopEmotion( "ALL" )
	//ResetMoveVec("PARTYALL")
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
//	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 4.84f, -1421.28f, 16.55f )
	Turn("ADOL", 31.50f, 360.00f )
	ChangeAnimation("ADOL","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKR,1)
	LookReset("ADOL")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )
	
	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dina", 0.04f, -1427.78f, 16.83f )
	Turn("Dina", -128.16f, 360.00f )
	ChangeAnimation("Dina","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_MOUTH,ANI_M_SMILE,1)
	LookReset("Dina")
	SetChrInfoFlag( "Dina" , INFOFLAG_NOCHRATARI )

	//BGM設定
//	PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , 1.731f , -1423.727f , 17.569f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.087f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.975f , 0 )	// 基本仰角
	RotateCamera( 0 , 161.315f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a41.itp" )	// help_a41：プレゼントイベント
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(3, "visual/help/hp_a42.itp" )	// help_a42：好感度
	Portrait_Create(3, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 60.000 ,0.000 ,0.450 ,0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)	//イベント毎に調整

	SetSkipScript("mp1201:SubEV_Help_Present_ED")

//開始処理ここまで----------------------------------------------------

	//　　「▼クイナとぶつかるアドル」後、鍛冶屋の前辺りに来るとイベント。
	//　　※このイベントを起こすまでディナの一般配置は消しておく。
	//　　高台の方からディナが歩いてくる。

	// カット1 ------------------------------------------------------------------------------------------

	// 移動
	ExecuteCmd(1, MoveTo, "Dina", 3.30f, -1423.45f, 16.55f, 0.1f, 0.21f)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 3.224f , -1423.370f , 17.969f, 110 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.407f , 110 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.835f , 110 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 112.062f , 110 )

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	Wait(30)
	EmotionEx("Dina", 0.00f, EMO_ONPU, 0, 5, 1, 1, 1.2f )	// 「♪」

	// 移動待ち
	WaitThread(1)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	Wait(10)

	Look("Dina", 0.0f, -10.0f)	// うつむく

	// ディナ
	TalkPopup("Dina", 0, 2, 0, 0, 0) {
		"#011e#080mふっふっふ…… "
		"これは大ヒット間違いナシね！"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Dina", 0.0f, 0.0f)	// うつむく戻す
	ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	Wait(20)
	EmotionEx("Dina", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	ChangeSubAnimation("Dina", SUBMOT_MOUTH, ANI_M_SUP_S, 1)	// 口
	Wait(30)

	// カット2 -----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , 4.521f , -1421.789f , 17.949f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.846f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.332f , 0 )	// 基本仰角
	RotateCamera( 0 , 168.972f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	LookChr("ADOL", "Dina")
	LookChr("Dina", "ADOL")
	ChangeSubAnimation("Dina", SUBMOT_MOUTH, ANI_M_WAIT, 1)	// 口

	// カメラ移動（角度）
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 176.421f , 50 )

	// 移動
	ExecuteCmd(1, MoveTo, "Dina", 4.08f, -1422.23f, 16.55f  , 0.1f, 0.18)

	// フェード待ち
	Wait(FADE_NORMAL)

	// 移動待ち
	WaitThread(1)

	// カメラ待ち（角度）
	WaitThread(1003)

	// ディナ
	TalkPopup("Dina", 0, 2, 0, 0, 0) {
		"#000e#080mあれ、アドルじゃない。"
		"これはいい所に♪"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Dina", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	// ディナ
	TalkPopup("Dina", 0, 2, 0, 0, 0) {
		"#000e#080m実は交易所に新商品──その名も"
		"『プレゼントアイテム』を入荷したのよ。\p"
		"アタシが選りすぐった"
		"贈り物に最適なアイテムってね！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Dina", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	Look("Dina", 40.0f, 0.0f)	// ←顔
	
	// ディナ
	TalkPopup("Dina", 0, 2, 0, 0, 0) {
		"#061e#000m……ま、落ち込んでるばかりじゃ"
		"みんな息苦しいじゃない？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Look("Dina", 40.0f, -10.0f)
	
	// ディナ
	TalkPopup("Dina", 0, 2, 0, 0, 0) {
		"#062e#000mもっとこう、元気を"
		"出してほしいっていうか……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Dina", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	LookChr("Dina", "ADOL")
	
	// ディナ
	TalkPopup("Dina", 0, 2, 0, 0, 0) {
		"#041e#000mや、安くしとくから買いなさいよね。"
		"分かった！？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "わかった")
	MenuAdd(2, "意外と優しいんだ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)
	
	//─────────────────────────
	//	⇒わかった
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
		Wait(40)

		ChangeAnimation( "Dina" , "ANI_EV_UDEGUMI_S", -1 , 1 )

		// ディナ
		TalkPopup("Dina", 0, 2, 0, 0, 0) {
			"#020e#080mうん、よし。"
			"またいつでも顔を出してよねっ！"
		}
		WaitPrompt()
		WaitCloseWindow()

	//	⇒意外と優しいんだ
	} else {

		ChangeAnimation( "ADOL", "ANI_EV_WAIT2_S", -1, 1 )	// 両手腰
		Wait(40)

		ChangeAnimation( "Dina", "ANI_EV_SUP_S", -1, 1 )	// 驚く、軽くのけぞる
		ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_SAD_S, 1)	// 目

		// ディナ
		TalkPopup("Dina", 0, 2, 0, 0, 0) {
			"#050e#000mむぐっ……"
			"意外とってなによ、意外とって！"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		WaitAnimation2("Dina", -1, 1, "ANI_EV_UDEGUMI_S", 0)
		ChangeAnimation( "Dina", "ANI_EV_SUP_E", -1, 1 )	// 驚く、軽くのけぞる
		ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_SAD_E, 1)	// 目
		
		// ディナ
		TalkPopup("Dina", 0, 2, 0, 0, 0) {
			"#030e#000mとにかく、ヒマな時は"
			"いつでも顔を出しなさいよね！"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//─────────────────────────

	//　　暗転。

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_NORMAL)
		
		// ポートレート表示
		PlaySE( SE_PAGE , 100 , 0,  0, 0, 1.0f, 0)		// SE：ページめくり
		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)	// チュートリアル背景
		Portrait_Anime(3, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		Portrait_Close(0)
		Portrait_Close(1)
		Portrait_Close(2)
		Portrait_Close(3)
		
		// システムテキスト
//		TalkPopup(UNDEF,0,5,0,0,0)
//		{
//			""
//			"#4C冒険日誌の人物ページに好感度表示が追加された。"
//		}
//		WaitPrompt()
//		WaitCloseWindow()
		
		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================


	//	暗転明けでディナが一般配置されている状態になる。
	

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_Help_Present_ED")
	
}
function "SubEV_Help_Present_ED"
{
	//スキップ禁止
	SetSkipScript("")
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)
	
	// フラグ処理
	SetFlag( GF_HELP_A41, 1 )	// チュートリアル：プレゼントイベント
	SetFlag( GF_HELP_A42, 1 )	// チュートリアル：好感度
	
	//イベント前のキャラ情報を復帰
	RestoreEventState()
	
	//隠したものを復帰
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))
	
	// ディナを一般配置に戻す
	SetChrPos("Dina", 14.59f, -1418.32f, 11.58f )
	Turn("Dina", -55.05f, 360.00f )
	
	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Dina")
	
	//パーティキャラを解放
	ReleaseEventPartyChr()
	
	//マップパラメーターリセット
	ResetMapParam( -1 )

	SetFlag(GF_HELP_A41,1)

	CallFunc("mp1201:init")
	
	//イベント後の再配置
	SetChrPos("LEADER", 4.94f, -1418.99f, 16.55f )
	Turn("LEADER", 41.99f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用
	
	//カメラ位置復帰 or 初期位置設定
	MoveCameraAt( 0 , 4.943f , -1418.988f , 18.413f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 138.011f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	RestoreCamera(0,0)														//※イベント終了時のカメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")
	
	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
	
}
function "SubEV_Help_Farm_1"	// チュートリアル：農場
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr(Reja)
	LoadChr(Picard)
	LoadChr(Dogi)

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	ResetMotion( "PARTYALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 39.79f, -1412.85f, 10.76f)
	Turn("ADOL", 56.37f, 360.00f )
	ChangeAnimation("ADOL","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 41.11f, -1412.69f, 10.78f)
	Turn("SAHAD", 56.37f, 360.00f )
	ChangeAnimation("SAHAD","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("SAHAD")
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI )
	
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 41.18f, -1413.91f, 10.80f )
	Turn("LAXIA", 56.37f, 360.00f )
	ChangeAnimation("LAXIA","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("LAXIA")
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI )
	
	if( FLAG[SF_HUMMEL_JOINOK] )	// ヒュンメルがいる
	{
		SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("HUMMEL", 40.77f, -1411.24f, 10.75f )
		Turn("HUMMEL", 54.28f, 360.0f)
		ChangeAnimation( "HUMMEL" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("HUMMEL",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("HUMMEL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("HUMMEL",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("HUMMEL")
		SetChrInfoFlag( "HUMMEL" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[SF_RICOTTA_JOINOK] )	// リコッタがいる
	{
		SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("RICOTTA", 39.59f, -1411.68f, 10.85f )
		Turn("RICOTTA", 57.76f ,360.0f)
		ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_SMILE,1)
		ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("RICOTTA")
		SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[SF_DANA_JOINOK] )	// ダーナがいる
	{
		SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("DANA", 42.38f, -1413.49f, 10.78f )
		Turn("DANA", 57.02f, 360.0f)
		ChangeAnimation( "DANA" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_SMILE,1)
		ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("DANA")
		SetChrInfoFlag( "DANA" , INFOFLAG_NOCHRATARI)
	}
	
	SetChrWork("Reja", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Reja", 40.12f, -1413.66f, 10.80f )
	Turn("Reja", 56.37f, 360.00f )
	ChangeAnimation("Reja","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Reja",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Reja",SUBMOT_MOUTH,ANI_M_SMILE,1)
	LookReset("Reja")
	SetChrInfoFlag( "Reja" , INFOFLAG_NOCHRATARI )

	SetChrWork("Picard", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Picard", 40.49f, -1414.22f, 10.81f )
	Turn("Picard", 61.30f, 360.00f )
//	ChangeAnimation("Picard","ANI_WAIT", -1 , 1 )
//	ChangeSubAnimation("Picard",SUBMOT_EYE,ANI_E_WAIT,1)
//	ChangeSubAnimation("Picard",SUBMOT_MOUTH,ANI_M_WAIT,1)
	LookReset("Picard")
	SetChrInfoFlag( "Picard" , INFOFLAG_NOCHRATARI )

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 29.36f, -1415.25f, 11.02f)
	Turn("Dogi", -70.16f, 360.00f )
	ChangeAnimation("Dogi","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	LookReset("Dogi")
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )

	//BGM設定
//	PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , 35.671f , -1416.172f , 12.186f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.489f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.360f , 0 )	// 基本仰角
	RotateCamera( 0 , 316.236f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000 ,0.000 ,0.450 ,0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)	//イベント毎に調整

	SetSkipScript("mp1201:SubEV_Help_Farm_1_ED")

//開始処理ここまで----------------------------------------------------

	//	レーヤ救出後はイベントで集落へ戻り
	//　　以下のサブイベントになる。

	//　　暗転明けで漂流村入り口。
	//　　アドルたち（ヒュンメル、リコッタ、ダーナはいる場合アリ）と
	//　　レーヤ＆ピッカードが談笑しながら外から帰ってくる所に、ドギが通りかかる。

	// カット1 ----------------------------------------------------------------------------------------

	// 位置調整・表情・モーション
	//LookChr("ADOL", "Reja")
	Look("ADOL", -8 , -15)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKL,1)
	LookChr("Reja", "ADOL")

	// 移動
	ExecuteCmd(1, MoveTo, "ADOL", 35.45f, -1416.13f, 10.83f, 0.1f, 0.18f)
	Wait(3)
	ExecuteCmd(2, MoveTo, "Reja", 35.57f, -1417.11f, 10.83f, 0.1f,0.18f)
	ExecuteCmd(3, MoveTo, "Picard", 35.75f, -1417.81f, 10.83f, 0.1f, 0.18f)
	Wait(5)
	ExecuteCmd(4, MoveTo, "LAXIA",36.43f, -1417.51f, 10.83f, 0.1f,0.18f)
	Wait(3)
	ExecuteCmd(5, MoveTo, "SAHAD",36.80f, -1416.03f, 10.83f, 0.1f,0.18f)
	if( FLAG[SF_RICOTTA_JOINOK] )	{	// リコッタがいる
		ExecuteCmd(6, MoveTo, "RICOTTA", 35.50f, -1414.89f, 10.83f, 0.1f, 0.18f)
	}
	if( FLAG[SF_HUMMEL_JOINOK] )	{	// ヒュンメルがいる
		ExecuteCmd(7, MoveTo, "HUMMEL", 36.47f, -1414.61f, 10.83f, 0.1f, 0.18f)
	}
	if( FLAG[SF_DANA_JOINOK] )	{	// ダーナがいる
		ExecuteCmd(8, MoveTo, "DANA", 37.65f, -1417.11f, 10.83f, 0.1f, 0.18f)
	}

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 35.829f , -1416.842f , 12.240f , 120 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.489f , 120 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.655f , 120 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 357.984f , 120 )

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	Wait(10)
	EmotionEx("ADOL", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f )	// 「ワイワイ」
	Wait(20)
	EmotionEx("Reja", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f )	// 「ワイワイ」

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	EmotionEx("ADOL", 0.05f, EMO_PA, 0, 5, 1, 1, 1.2f )	// 「PA」
	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	EmotionEx("Reja", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」

	// 移動待ち
	WaitThread(1)
	WaitThread(2)
	WaitThread(3)
	WaitThread(4)
	WaitThread(5)
	WaitThread(6)
	WaitThread(7)
	WaitThread(8)

	// 移動
	ExecuteCmd(9, MoveTo, "Dogi",33.01f, -1416.58f, 10.83f, 0.1f, 0.18f)
	LookChr("Dogi", "ADOL")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 35.189f , -1417.109f , 12.160f  , 90 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.657f, 90 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,0.776f , 90 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE ,44.673f , 90 )

	LookChr("ADOL", "Dogi")
	TurnToChr("ADOL", "Dogi", 5.0f)
	LookChr("Reja", "Dogi")
	TurnToChr("Reja", "Dogi", 5.0f)
	LookChr("LAXIA", "Dogi")
	TurnToChr("LAXIA", "Dogi", 5.0f)
	LookChr("SAHAD", "Dogi")
	TurnToChr("SAHAD", "Dogi", 5.0f)
	
	if( FLAG[SF_HUMMEL_JOINOK] )	{	// ヒュンメルがいる
		LookChr("HUMMEL", "Dogi")
	}
	if( FLAG[SF_RICOTTA_JOINOK] )	{	// リコッタがいる
		LookChr("RICOTTA", "Dogi")
	}
	if( FLAG[SF_DANA_JOINOK] )	{	// ダーナがいる
		LookChr("DANA", "Dogi")
	}
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// 移動待ち
	WaitThread(9)

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mおっと、また新しい"
		"お仲間みてえだな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "LAXIA", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	// ラクシャ
	TalkPopup("LAXIA", 0, 1, 0, 0, 0) {
		"#000e#000mええ、子供だったので"
		"わたくしたちで送ってきたのです。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// カット2 ----------------------------------------------------------------------------------------
	
	//　　ドギにいばってみせるレーヤ

	// クロスフェード
	CrossFade(FADE_NORMAL)

	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)

	// カメラ
	MoveCameraAt( 0 , 33.810f , -1416.811f , 12.200f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.633f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 13.191f , 0 )	// 基本仰角
	RotateCamera( 0 , 284.344f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 3.4f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("Picard", 35.80f, -1417.62f, 10.83f)
	Turn("Picard", 99.01f, 360.0f)
	Turn("ADOL",86.25f, 360.0f)

	// カメラ移動（垂直）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 33.810f , -1416.811f , 12.300f , 60 )
	//MoveCameraAt( 0 , 33.810f , -1416.811f , 12.300f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.633f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 13.190f , 0 )	// 基本仰角
	//RotateCamera( 0 , 284.363f , 0 )				// 角度
	//ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 3.4f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェード待ち
	Wait(FADE_NORMAL)
	
	// 移動
	ExecuteCmd(2, MoveTo, "Reja", 35.10f, -1417.01f, 10.83f, 0.1f, 0.16f)
	
	// カメラ待ち（垂直）
	WaitThread(1000)
	
	// 移動待ち
	WaitThread(2)
	
	LookChr("Dogi", "Reja")
	
	ChangeAnimation( "Reja", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	
	// レーヤ
	TalkPopup("Reja", 0, 2, 0, 0, 0) {
		"#000e#080mオレはかのディオール家の長男、"
		"レーヤ様だぜ、へへーん！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// ドギ
	TalkPopup("Dogi", 0, 1, 0, 0, 0) {
		"#000e#000mほお……どこかで会ったような"
		"気もするが、まあいいか。\p"
		"で、そいつはお前さんの非常食か？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	// ピッカード
	SetName("ピッカード")
	TalkPopup("Picard", 0, 2, 0, 0, 0) {
		"#000e#000mもぎゅっ、もぎゅっ……"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	ChangeAnimation( "Reja", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	PlayVoice(Y8V_4747,"Reja",100)	//ち、ちげーよ！（照れ隠し）

	// レーヤ
	TalkPopup("Reja", 0, 2, 0, 0, 0) {
		"#031e#000mち、ちげーよ！"
		"こいつはオレの……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Look("Reja", 0.0f, -10.0f)	// うつむく
	
	// レーヤ
	TalkPopup("Reja", 0, 2, 0, 0, 0) {
		"#050e#000mその、ペットっつーか……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	
	PlayVoice(Y8V_3567,"Dogi",100)	//ハハ！

	// ドギ
	TalkPopup("Dogi", 0, 1, 0, 0, 0) {
		"#000e#000mはは、冗談だぜ、冗談。\p"
		"まあいい、そういうことなら"
		"お前さんにピッタリの仕事があるぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Reja", "Dogi")
	ChangeSubAnimation("Reja", SUBMOT_EYE, ANI_E_SAD_E, 1)	// 目

	//　　ドギ以外に？エモーション
	EmotionEx("Reja", 0.00f, EMO_Q, 0, 5, 1, 1, 1.0f )	// 「？」
	EmotionEx("LAXIA", 0.00f, EMO_Q, 0, 5, 1, 1, 0.8f )	// 「？」
	EmotionEx("ADOL", 0.00f, EMO_Q, 0, 5, 1, 1, 0.8f )	// 「？」
	ChangeAnimation( "LAXIA", "ANI_EV_SIAN_S", -1, 1 )	// 思案
	LookRoll("ADOL", -10.0f)	// かしげる
	Wait(50)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_Help_Farm_1_ED")
	
}
function "SubEV_Help_Farm_1_ED"
{
	//スキップ禁止
	SetSkipScript("")
	
	//イベント前のキャラ情報を復帰
	RestoreEventState()
	
	//隠したものを復帰
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))
	
	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_HUMMEL")
	CallFunc("system:reset_chrmot_RICOTTA")
	CallFunc("system:reset_chrmot_DANA")
	CallFunc("system:reset_chrmot_Reja")
	CallFunc("system:reset_chrmot_Dogi")
	
	//パーティキャラを解放
	ReleaseEventPartyChr()
	
	//マップパラメーターリセット
	ResetMapParam( -1 )

//	RestoreCamera(0,0)														//※イベント終了時のカメラ位置を指定する場合は不要
//	CallFunc("system:camera_reset")
	
	//NowLoading 時の Tips 表示をカット
	SetFlag( TF_LOADING_TIPS_OFF, 1 )

	//LoadArg("map/mp1201/mp1201.arg")
	EventCue("mp1201:SubEV_Help_Farm_2")		// 後半呼び出し
	
	ResetStopFlag(STOPFLAG_EVENT)
	
}

//============================================================
//■Ys8やり込みメッセージ（ハシビロコウ）
//============================================================
//──────────────────────────────
//	リコッタとハシビロコウの遭遇イベント	外に出ようとした場合の起動用
//──────────────────────────────
function "Speedrun_Rex_MeetA"
{
			SetStopFlag(STOPFLAG_EVENTIMPOSE)
			FadeOut(FADE_BLACK,0)
			WaitFade()
			CallFunc("rng:0426")
			SetFlag( GF_SPEEDRUN_FISH_ENCOUNTER, 1 )
			ResetStopFlag(STOPFLAG_EVENTIMPOSE)
			FadeIn(FADE_BLACK,FADE_NORMAL)
			CallFunc("mp1201:init")
}

function "Speedrun_Rex_MeetB"
{
			SetStopFlag(STOPFLAG_EVENTIMPOSE)
			FadeOut(FADE_BLACK,0)
			WaitFade()
			CallFunc("rng:0426")
			SetFlag( GF_SPEEDRUN_FISH_ENCOUNTER, 1 )
			ResetStopFlag(STOPFLAG_EVENTIMPOSE)
			FadeIn(FADE_BLACK,FADE_NORMAL)
			CallFunc("mp1201:init")
}

function "Speedrun_Rex_MeetA_old"
{
	//　　「▼第三部③リコッタが仲間になった」のタイミングで
	//　　ハシビロコウの近くにリコッタとサハド・ラクシャ、リトルパロがおり、
	//　　二通りのパターンで起動可能。

	//──────────────────────
	//	⇒外に出ようとした場合

	//	  　外に出ようとすると、パロに呼び止められる。
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")

	TalkPopup("Paro",0,3,0,0,0)
	{
		"#5C#000e#000mあどる、コッチ、コッチ！\p"
		"#5Cりこった、ヨンデル、ヨンデル！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	  　アドルに「？」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_Q, 0, 5, 1, 1, 1.0f)	// 「？」
	Wait(50)

	//	  　暗転を挟んで、ハシビロコウ、リコッタ、
	//	  　サハド、ラクシャ、リトルパロの前に配置。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	EventCue("mp1201:Speedrun_Rex_Meet")
	//──────────────────────
}
//──────────────────────────────
//	リコッタとハシビロコウの遭遇イベント	ハシビロコウたちに近づいた場合の起動用
//──────────────────────────────
function "Speedrun_Rex_MeetB_old"
{
	//　　「▼第三部③リコッタが仲間になった」のタイミングで
	//　　ハシビロコウの近くにリコッタとサハド・ラクシャ、リトルパロがおり、
	//　　二通りのパターンで起動可能。

	//──────────────────────
	//	⇒ハシビロコウたちに近づいた場合

	//	  　ハシビロコウたちに近づくと、アドルに「パッ」エモーション。
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")

	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//PA
	Wait(50)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	EventCue("mp1201:Speedrun_Rex_Meet")
	//──────────────────────
}
//──────────────────────────────
//	リコッタとハシビロコウの遭遇イベント
//──────────────────────────────
function "Speedrun_Rex_Meet"
{
	//　　「▼第三部③リコッタが仲間になった」のタイミングで
	//　　ハシビロコウの近くにリコッタとサハド・ラクシャ、リトルパロがおり、
	//　　二通りのパターンで起動可能。

//	//──────────────────────
//	//	⇒外に出ようとした場合
//
//		//	  　外に出ようとすると、パロに呼び止められる。
//
//		TalkPopup("Paro",0,0,0,0,0)
//		{
//			"#000e#000mあどる、コッチ、コッチ！\p"
//			"りこった、ヨンデル、ヨンデル！"
//		}
//		WaitPrompt()
//		WaitCloseWindow()
//
//		//	  　アドルに「？」エモーション。
//		//	  　暗転を挟んで、ハシビロコウ、リコッタ、
//		//	  　サハド、ラクシャ、リトルパロの前に配置。
//
//	//	⇒ハシビロコウたちに近づいた場合
//
//		//	  　ハシビロコウたちに近づくと、アドルに「パッ」エモーション。
//
//	//──────────────────────

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Sahad")
	LoadChr("Laxia")
	LoadChr("Ricotta")
	LoadChr("Rex")
	LoadChr("Paro")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
//	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",31.38f,-1419.88f,10.83f)
	Turn("ADOL",-23.18f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "Rex" )

	SetChrWork("Rex", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Rex",33.16f,-1422.89f,10.83f)
	Turn("Rex",122.95f.69f,360.0f)
	ChangeAnimation( "Rex" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Rex",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Rex",SUBMOT_MOUTH,ANI_M_WAIT,1)
//	ChangeSubAnimation("Rex",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Rex" )

	SetChrWork("Ricotta", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Ricotta",31.15f,-1421.55f,10.83f)
	Turn("Ricotta",-52.40f,360.0f)
	ChangeAnimation( "Ricotta" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Ricotta",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Ricotta",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Ricotta",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Ricotta" )

	SetChrWork("Sahad", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Sahad",30.78f,-1422.54f,10.83f)
	Turn("Sahad",-175.40f,360.0f)
	ChangeAnimation( "Sahad" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Sahad",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Sahad",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Sahad",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Sahad", "ADOL")

	SetChrWork("Laxia", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Laxia",32.71f,-1420.70f,10.83f)
	Turn("Laxia",132.23f,360.0f)
	ChangeAnimation( "Laxia" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Laxia",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Laxia",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Laxia",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Laxia", "ADOL")

	SetChrWork("Paro", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrInfoFlag( "Paro" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Paro" , INFOFLAG_NOSHADOW )
	SetChrPos("Paro",34.68f,-1421.10f,12.32f)
	Turn("Paro",120.72f,360.0f)
	ChangeAnimation( "Paro" , "ANI_WAIT3", -1 , 1 )
	ChangeSubAnimation("Paro",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Paro",SUBMOT_MOUTH,ANI_M_WAIT,1)
//	ChangeSubAnimation("Paro",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Paro" )


	//カメラ設定
	MoveCameraAt( 0 , 31.639f , -1421.831f , 12.208f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.102f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.184f , 0 )	// 基本仰角
	RotateCamera( 0 , 163.508f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Speedrun_Rex_Meet_ED")

//開始処理ここまで-----------------------------------------------

	LookChr("Sahad", "ADOL")
	LookChr("Laxia", "ADOL")

	Wait(10)
	
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　リコッタとハシビロコウが「ワイワイ」エモーションを出している。
	EmotionEx("Ricotta", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//ワイワイ
	EmotionEx("Rex", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//ワイワイ

	TalkPopup("Sahad",0,2,0,0,0)
	{
		"#000e#000mおお、アドルか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Laxia", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	TalkPopup("Laxia",0,1,0,0,0)
	{
		"#000e#000m今、リコッタちゃんに漂流村を"
		"案内していた所だったのですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　リコッタに「パッ」エモーション。
	EmotionEx("Ricotta", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)

	//　　アドルの方を振り向く。
	Turn("Ricotta",-176.76f,8.0f)

	TalkPopup("Ricotta",0,2,0,0,0)
	{
		"#000e#000mお、来た来た。"
		"アドルにも紹介する！\p"
		"#021e#080mこちら──リコッタのセンパイ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr( "Rex", "ADOL" )
	Wait(30)

	TalkPopup("Rex",0,2,0,0,0)
	{
		"#000e#000m……グァ………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルに「！！」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_EX2, 0, 5, 1, 1, 1.0f)	//!!
	Wait(35)

	ChangeAnimation( "Sahad", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	TalkPopup("Sahad",0,2,0,0,0)
	{
		"#021e#080mガハハ、まあ驚くよな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Laxia", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	TalkPopup("Laxia",0,1,0,0,0)
	{
		"#000e#000m何でも昔からずっと"
		"一緒だったそうですが……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , 31.663f , -1421.529f , 12.226f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.852f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -8.097f , 0 )	// 基本仰角
	RotateCamera( 0 , 218.803f , 0 )				// 角度
	ChangeCameraPers( 0 , 42.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Turn("Laxia", 86.04f, 360.0f)
	LookChr("Laxia", "Ricotta")
	LookChr("Sahad", "Ricotta")
	
	Wait(FADE_CROSS)

	TalkPopup("Ricotta",0,2,0,0,0)
	{
		"#022e#080mリコッタ、今いる。"
		"ぜんぶセンパイのおかげ。\p"
		"今より小さい時、"
		"獣から守ってくれて食べ物くれた。\p"
		"食べ物の場所や取り方も"
		"教えてくれた。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Ricotta", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	
	TalkPopup("Ricotta",0,2,0,0,0)
	{
		"#011e#080mそして何より──"
		"温かい気持ち、たくさんくれた。\p"
		"#012e#080mセンパイは最高のセンパイ！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
//	LookChr("Rex", "Ricotta")
	LookReset("Rex")
	Wait(10)

	TalkPopup("Rex",0,2,0,0,0)
	{
		"#000e#000m……グァ………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Ricotta", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て
	WaitAnimation2( "Ricotta" , -1, 1, "ANI_EV_TEMUNE_E",  0)
	LookChr("Ricotta", "Rex")
	TurnToChr("Ricotta", "Rex", 8.0f)
	Wait(15)

	TalkPopup("Ricotta",0,2,0,0,0)
	{
		"#000e#000m『そんなことない』？\p"
		"センパイ、照れなくていい！"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , 31.630f , -1421.303f , 12.376f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.851f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.650f , 0 )	// 基本仰角
	RotateCamera( 0 , 233.764f , 0 )				// 角度
	ChangeCameraPers( 0 , 46.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	TalkPopup("Laxia",0,2,0,0,0)
	{
		"#081e#080mふふ、とても素晴らしい関係ですね。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
//	HeadYes("Sahad", 1, 25)	// キャラ, うなずき回数, 速さ

	TalkPopup("Sahad",0,2,0,0,0)
	{
		"#022e#080mああ、まったくだ。\p"
		"センパイさんは"
		"親父さんとも仲がいいのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Ricotta", 0.0f, -10.0f)	// うつむく

	TalkPopup("Ricotta",0,1,0,0,0)
	{
		"#000e#000m仲は悪くない……が……"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Rex",0,2,0,0,0)
	{
		"#000e#000m…………………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Sahad", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	TalkPopup("Sahad",0,2,0,0,0)
	{
		"#000e#000mふむ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Ricotta", "Sahad")
	TurnToChr("Ricotta", "Sahad", 8.0f)

	TalkPopup("Ricotta",0,1,0,0,0)
	{
		"#000e#000mリコッタも最近分かった……\p"
		"#011e#000mセンパイ、人間と鳥が関わるの、"
		"あまりよくないと思ってるらしい。\p"
		"#012e#000mだから父上来てから……"
		"少し疎遠になった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Sahad",0,2,0,0,0)
	{
		"#000e#000mそうか……なるほどなぁ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Laxia", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	TalkPopup("Laxia",0,2,0,0,0)
	{
		"#000e#000mですが、それならなぜ漂流村に？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr( "Rex", "ADOL" )
	Wait(30)

	TalkPopup("Rex",0,2,0,0,0)
	{
		"#000e#000m……グァ……グァ…………"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Ricotta", "Rex")
	TurnToChr("Ricotta", "Rex", 8.0f)

	TalkPopup("Ricotta",0,1,0,0,0)
	{
		"#000e#000m『人間、たくさん。"
		"　リコッタに害ないか、確かめる』\p"
		"『危険な奴がいたみたい。"
		"　だが今は大丈夫なようだ』\p"
		"『お前たち、リコッタを頼む』\p"
		"センパイ……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ああ、任せてくれ")
	MenuAdd(2,"面倒見のいいセンパイだな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)


	//──────────────────────
	//	⇒リコッタのことは任せてくれ
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		LookChr("Laxia", "Rex")
		ChangeAnimation( "Laxia", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
		
		TalkPopup("Laxia",0,2,0,0,0)
		{
			"#000e#000mええ、お父上を探すこともそうですが"
			"彼女を一人にはさせません。"
		}
		WaitPrompt()
		WaitCloseWindow()
	
		LookChr("Sahad", "Rex")
		ChangeAnimation( "Sahad", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
		TalkPopup("Sahad",0,2,0,0,0)
		{
			"#000e#000mおうよ、だから安心してくれ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	
		Look("Ricotta", 0.0f, -10.0f)	// うつむく
	
		TalkPopup("Ricotta",0,1,0,0,0)
		{
			"#000e#000mみんな……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒面倒見のいいセンパイだな
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		
		LookChr("Laxia", "ADOL")
		ChangeAnimation( "Laxia", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
		
		TalkPopup("Laxia",0,2,0,0,0)
		{
			"#000e#000mええ、まったくです。"
		}
		WaitPrompt()
		WaitCloseWindow()
	
		TalkPopup("Rex",0,2,0,0,0)
		{
			"#000e#000m……グァ………………"
		}
		WaitPrompt()
		WaitCloseWindow()
	
		TalkPopup("Ricotta",0,2,0,0,0)
		{
			"#000e#000m『そんなことない』？\p"
			"なはは、センパイまた同じこと言ってる！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	//　　リコッタに「…」エモーション。
	EmotionEx("Ricotta", 0.0f, "EMO_3DOT", 27, 5, 1, 1, 0.9f)	// 「…」
	Wait(52)

	LookChr( "Ricotta", "Rex" )

	TalkPopup("Ricotta",0,1,0,0,0)
	{
		"#000e#000m少し寂しいけど……\p"
		"コウハイだからといって"
		"いつまでも甘える、ダメ……\p"
		"リコッタ、もっと強くなる！"
	}
	WaitPrompt()
	WaitCloseWindow()

//	LookChr( "Rex", "Ricotta" )
	LookReset("Rex")
	
	TalkPopup("Rex",0,2,0,0,0)
	{
		"#000e#000m……グァ………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Ricotta", "ANI_EV_GUTSPOSE_S", -1, 1 )	// ガッツポーズ

	TalkPopup("Ricotta",0,1,0,0,0)
	{
		"#000e#000m御意！　リコッタ頑張る！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ハシビロコウがアドルの方を見る
	LookChr( "Rex", "ADOL" )
	Wait(30)

	TalkPopup("Rex",0,2,0,0,0)
	{
		"#000e#000m……グァ………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルに「パッ」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)
	
	ChangeAnimation( "Ricotta", "ANI_EV_GUTSPOSE_E", -1, 1 )	// ガッツポーズ

	TalkPopup("Ricotta",0,1,0,0,0)
	{
		"#000e#000m『わたしはこれからも"
		"　ここでリコッタを見守る』\p"
		"『引き続き、おいしい魚を"
		"　よろしく頼む』\p"
		"『代わりといっては何だが"
		"　村を守る手伝いしてやる』\p"
		"本当か、センパイ！　心強い！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Laxia", "ADOL")

	TalkPopup("Laxia",0,2,0,0,0)
	{
		"#080e#080mふふ、何だか"
		"面白いことになりましたね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Sahad",0,2,0,0,0)
	{
		"#021e#080mガハハ、まあ改めてよろしく頼むぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル

	//	システムテキスト
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cハシビロコウが迎撃戦に参加することになった！#10W"
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Speedrun_Rex_Meet_ED")
}
function "Speedrun_Rex_Meet_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	ResetMotion( "ALL" , 1 )  
	

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	CallFunc("rng:0426")
    SetFlag( GF_SPEEDRUN_FISH_ENCOUNTER, 1 ) // Fish delivery: Ricotta and shoebill encounter event

//制圧戦クエストに直接つなぐのはやめる
//	EventCue("mp1201:QS_303_Start")

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",34.19f,-1417.94f,10.83f)
	Turn("LEADER",-119.32f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)
	SetChrWork("Paro", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation( "Paro" , "ANI_WAIT3", -1 , 1 )

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

//	================================================
//	【名無しの聞き込み：キルゴール】
//	================================================
function "SubEV_02_Talk_Kiergaard"
{
	//　　キルゴールの前に、アドル、ラクシャ、サハドを再配置する。

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("Kiergaard")

	//イベント開始前情報の保存	
	SaveEventState()												
	CallFunc("system:event_chrinfoflag_set")						
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	//ResetChrPos((CHRTYPE_NPC | REMOVE_POS))
	SetChrPos("Nia", -100000.00f, 0.00f, 0.00f)

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",20.34f,-1429.88f,11.66f)
	Turn("ADOL",58.51f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookChr( "ADOL", "Kiergaard" )

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",20.77f,-1430.50f,11.66f)
	Turn("LAXIA",78.00f,360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)
	LookChr( "LAXIA", "Kiergaard" )

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",20.59f,-1429.08f,11.64f)
	Turn("SAHAD",49.23f,360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)
	LookChr( "SAHAD", "Kiergaard" )

	SetChrWork("Kiergaard", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kiergaard",19.10f,-1430.67f,11.67f)
	Turn("Kiergaard",-131.81f,360.0f)
	ChangeAnimation( "Kiergaard", "ANI_EV_SIT_C", -1, 1)
	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Kiergaard" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag("Kiergaard", INFOFLAG_NOATARI)
	LookReset("Kiergaard")
	LookChr("Kiergaard", "ADOL")

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
//	MoveCameraAt(0, 17.003f, -1429.818f, 12.448f, 0)	// 注視点
//	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
//	ChangeCameraElevation(0, 15.065f, 0)	// 基本仰角
//	RotateCamera(0, 78.907f, 0)				// 角度
//	ChangeCameraPers(0, 50.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
	MoveCameraAt( 0 , 18.076f , -1429.523f , 12.448f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.736f , 0 )	// 基本仰角
	RotateCamera( 0 , 76.369f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:SubEV_02_Talk_Kiergaard_ED")

//開始処理ここまで-----------------------------------------------

	FadeIn(FADE_BLACK, FADE_FAST)
	WaitFade()

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 18.076f, -1429.523f, 12.448f, 60)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 11.736f, 60)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 76.369f, 60)		// 角度
//
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)

	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mキルゴール先生、"
		"少しよろしいでしょうか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	Wait(20)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7C事件について、何か"
		"#7C心当たりはないか尋ねてみた。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Kiergaard"
	HeadYes("Kiergaard", 1, 25)
	TalkPopup("Kiergaard",0,0,0,0,0)
	{
		"#000e#000mふむ、そうですね……\p"
		"バルバロス船長、そしてカーラン卿。\p"
		"バルバロス2行目"
		"二人の負った傷について"
		"不審な点はありませんでした。\p"
		"しいていえば、二人とも"
		"深手ではなかった点でしょうか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルたちにＰＡエモーション
	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	EmotionEx("SAHAD", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	Wait(35)

	TalkPopup("SAHAD", 0, 1, 400, 150, 0)
	{
		"#000e#000mお？　どうして"
		"そいつが気になるんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Kiergaard"
	ChangeAnimation("Kiergaard", "ANI_EV_SC_TEBURI", -1, 1)
	TalkPopup("Kiergaard",0,0,0,0,0)
	{
		"#000e#000mええ、あまり"
		"考えたくはありませんが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_FAST)
	MoveCameraAt(0, 20.814f, -1428.397f, 12.572f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 7.721f, 0)	// 基本仰角
	RotateCamera(0, 328.606f, 0)				// 角度
	ChangeCameraPers(0, 39.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	Wait(FADE_FAST)

	//　　アドルも思案モーションを取る
	ChangeAnimation( "ADOL", "ANI_EV_SIAN_S", -1, 1 )
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_SIAN_S",  0)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"犯人は臆病かもしれない")
	MenuAdd(2,"予告的な襲撃だったのかもしれない")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	//────────────────────
	//	⇒犯人は臆病かもしれない
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_SIAN_E", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		HeadNo("Kiergaard", 1, 35)
		TalkPopup("Kiergaard",0,1,0,0,0)
		{
			"#000e#000mいえ……それはどうでしょう。\p"
			"噂に聞く“名無し”は"
			"残虐な人物のようです。\p"
			"可能性があるとすれば、襲撃が"
			"予告的なものだったという推測でしょう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒予告的な襲撃だったのかもしれない
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_SIAN_E", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		HeadYes("Kiergaard", 1, 25)
		TalkPopup("Kiergaard",0,1,0,0,0)
		{
			"#000e#000mええ、他にあえて"
			"殺さなかった理由が思い当たりません。\p"
			"カーラン卿はその後"
			"死に至ったわけですし……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	TalkPopup("Kiergaard",0,1,0,0,0)
	{
		"#000e#000m一度襲撃を行って"
		"標的の恐怖をかきたて──\p"
		"じわじわと心理的に"
		"追い詰めるためだったのでは。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	ChangeAnimation("SAHAD", "ANI_EV_SUP_S", -1, 1)
	TalkPopup("SAHAD", 0, 1, 250, 90, 0)
	{
		"#050e#110mぞぞっ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	ChangeAnimation("LAXIA", "ANI_EV_SIAN_S", -1, 1)
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000e#000mまさに“狂気の切り裂き魔”の"
		"所業という事ですか……\p"
		"せめて凶器が分かっていれば"
		"対策も立てられるのですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("SAHAD", "ANI_EV_SUP_E", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_TAME_E, 1)

	//	"Kiergaard"
	HeadNo("Kiergaard", 1, 30)
	TalkPopup("Kiergaard",0,1,0,0,0)
	{
		"#000e#000m残念ですが、鋭利な物としか。\p"
		"鋭利な物2行目"
		"ナイフのような物だとは"
		"思うのですが。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#011e#000mそうですか……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	ChangeAnimation("LAXIA", "ANI_EV_SIAN_E", -1, 1)
	WaitAnimation2("LAXIA", -1, 1, "ANI_EV_SIAN_E", 0)
	
	//　　ラクシャにＰＡエモーション
	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Wait(35)

	ChangeAnimation("LAXIA", "ANI_EV_NOZOKI_S", -1, 1)
	WaitAnimation2("LAXIA", -1, 1, "ANI_EV_NOZOKI_S", 0)
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000e#000mあら先生、首のあたり、"
		"どうかなさったのですか？"

	}
	WaitPrompt()
	WaitCloseWindow()
	
	CrossFade(FADE_CROSS)
	MoveCameraAt(0, 16.165f, -1430.195f, 12.522f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 9.445f, 0)	// 基本仰角
	RotateCamera(0, 74.710f, 0)				// 角度
	ChangeCameraPers(0, 37.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 18.189f, -1430.085f, 12.770f, 100)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 98.270f, 100)		// 角度

	WaitThread(1000)
	WaitThread(1001)

	TalkPopup("LAXIA", 0, 1, 0, 0, 0)
	{
		"#000e#000mまさか切りつけられた跡では……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャ以外にＰＡエモーション
	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	EmotionEx("SAHAD", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
//	EmotionEx("Kiergaard", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	Wait(35)

	Look("Kiergaard", 3.00f, -5.00f)
	TalkPopup("Kiergaard",0,2,0,0,0)
	{
		"#011e#000mああ、これですか。\p"
		"はは、ご心配なく。"
		"これは少し前の日焼けの跡でして。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("LAXIA", "ANI_EV_NOZOKI_E", -1, 1)

	//	"SAHAD"
	ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("SAHAD", 0, 1, 400, 150, 0)
	{
		"#000e#000mガハハ、驚かさないでくれよ。"
		"驚かす2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Kiergaard", "ADOL")
	//	"Kiergaard"
	TalkPopup("Kiergaard",0,0,0,0,0)
	{
		"#012e#000m実はアルタゴという"
		"場所にいたことがありまして……\p"
		"そこで長期間、野外で"
		"医療活動をしていたためなのです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルにＰＡエモーション
	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	Wait(35)

	ChangeAnimation("LAXIA", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mアルタゴ公国……わたくしは"
		"父から聞かされた事がありますね。\p"
		"何でも大きな獣が闊歩する"
		"謎の多い土地だとか……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャにＰＡエモーション
	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	ChangeAnimation("LAXIA", "ANI_EV_UDEGUMI_E", -1, 1)
	LookChr( "LAXIA", "ADOL" )

	Wait(35)

	//　　アドルに向く。

	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000m……アドル、その様子では"
		"あなたもご存知のようですね？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル頷く。
	HeadYes("ADOL" , 1 , 25)
	Wait(35)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"羨ましいです")
	MenuAdd(2,"詳しく聞かせてください")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//────────────────────
	//	⇒羨ましいです
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)

		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cアドルはアルタゴ公国に興味があり"
			"#7C訪れてみたかった事を説明した。"
		}
		WaitPrompt()
		WaitCloseWindow()
	
		//　　アドル以外に冷や汗エモーション
		EmotionEx("LAXIA", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f )	// 「冷や汗」
		EmotionEx("SAHAD", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f )	// 「冷や汗」
		EmotionEx("Kiergaard", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f )	// 「冷や汗」
		ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
		Wait(50)
	
		ChangeAnimation("LAXIA", "ANI_EV_TEBURI", -1, 1)
		TalkPopup("LAXIA",0,0,0,0,0)
		{
			"#000e#000mやはりそうでしたか……"
		}
		WaitPrompt()
		WaitCloseWindow()
	
		//	"Kiergaard"
		TalkPopup("Kiergaard",0,0,0,0,0)
		{
			"#000e#080mははは……さすがはアドル君ですね。"
			"頼もしい限りです。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒詳しく聞かせてください
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cアドルは伝え聞くアルタゴ公国の噂話に"
			"#7C以前から興味があったことを説明した。"
		}
		WaitPrompt()
		WaitCloseWindow()
	
		//　　アドル以外に冷や汗エモーション
		EmotionEx("LAXIA", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f )	// 「冷や汗」
		EmotionEx("SAHAD", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f )	// 「冷や汗」
		EmotionEx("Kiergaard", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f )	// 「冷や汗」

		ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
		Wait(50)
	
		ChangeAnimation("LAXIA", "ANI_EV_TEBURI", -1, 1)
		TalkPopup("LAXIA",0,1,0,0,0)
		{
			"#000e#000mふう、こんな時まで"
			"冒険の話ですか……"
		}
		WaitPrompt()
		WaitCloseWindow()
	
		//	"Kiergaard"
		TalkPopup("Kiergaard",0,0,0,0,0)
		{
			"#012e#080mははは……僕の見聞きした"
			"範囲でよければ喜んで。\p"
			"ですが、事件の解決が先でしょうね。"
			"事件の解決4行目"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1)
	LookChr("SAHAD", "ADOL")
	TalkPopup("SAHAD", 0, 1, 400, 150, 0)
	{
		"#000e#000mまあその話は後で"
		"ゆっくりしてくれよ、アドル。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル頷く。
	HeadYes("ADOL" , 1 , 25)
	Wait(35)

	LookChr("SAHAD", "Kiergaard")
	ChangeAnimation("Kiergaard", "ANI_EV_SC_TEBURI", -1, 1)
	TalkPopup("Kiergaard",0,0,0,0,0)
	{
		"#012e#000mまた聞きたい事があれば"
		"いつでもいらしてください。\p"
		"それと、皆さんも犯人を追う以上"
		"くれぐれもお気をつけて。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr( "LAXIA", "Kiergaard" )

	//	"LAXIA"
	HeadYes("LAXIA", 1, 25)
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mええ、ありがとうございます。 "
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	ChangeAnimation("SAHAD", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("SAHAD", 0, 1, 400, 150, 0)
	{
		"#000e#000m参考になったぜ、先生。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　暗転を挟んで操作許可。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_02_Talk_Kiergaard_ED")
}
function "SubEV_02_Talk_Kiergaard_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")	
	CallFunc("system:reset_chrmot_Kiergaard")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	ResetChrInfoFlag("Kiergaard", INFOFLAG_NOATARI)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	SetFlag( GF_SUBEV_NEMO_TALK_KIERGAARD, 1 )		//名無しについてキルゴールと話した

	if( FLAG[GF_SUBEV_NEMO_TALK_LICHT] &&		//名無しについてリヒトと話した
		FLAG[GF_SUBEV_NEMO_TALK_BARBAROSS] &&	//名無しについてバルバロス船長と話した
		FLAG[GF_SUBEV_NEMO_TALK_HUMMEL] &&		//名無しについてヒュンメルと話した
		FLAG[GF_SUBEV_NEMO_TALK_KIERGAARD] )	//名無しについてキルゴールと話した
	{
		SetFlag( GF_02MP1201_END_HEARING, 1 )		// 聞き込みで情報を集めた

		SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット
		LoadArg("map/mp1201/mp1201.arg")
		EventCue("mp1201:EV_M02S590")

		ResetStopFlag(STOPFLAG_EVENT)
	}
	else {
		CallFunc("mp1201:init")

		//イベント後の再配置
		SetChrPos("LEADER",23.35f,-1428.04f,11.33f)
		Turn("LEADER",-118.28f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		//カメラ位置復帰
		//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
		//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
		//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
		//RotateCamera( 0 , 0.0f , 0 )				// 角度
		//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
		//SetCameraZPlane( 0 , 0.0f )					// ZPlane
		//RollCamera( 0 , 0.0f , 0 )					// ロール回転

		RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
		CallFunc("system:camera_reset")

		ResetStopFlag(STOPFLAG_EVENT)

		FadeIn(FADE_BLACK, FADE_FAST)
		//WaitFade()
	}

//終了処理ここまで----------------------------------------------------
}

//	================================================
//	【カーラン卿を発見する２】　漂流村入り口
//	================================================
//function "SubEV_06_Look_Curran_Relocate"
function "SubEV_06_Look_Curran2"
{
	//────────────────────
	//　　フェードインして漂流村入り口。
	//　　カーラン卿とアドルたちが立っている。


	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//キャラのit3を読み込む
	LoadChr("Dogi")
	LoadChr("Curran")
	LoadChr("Dina")
	LoadChr("Aaron")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SetChrInfoFlagStr(Curran   ,"----EZGP---")	//加入フラグが立つ前に反映させるため

	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定			
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 40.53f, -1413.53f, 10.81f)
	Turn("ADOL", 64.46f, 360.0f)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)	// 待機

	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 39.93f, -1412.07f, 10.74f)
	Turn("LAXIA", 48.13f, 360.0f)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)	// 待機

	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 42.27f, -1414.05f, 10.74f)
	Turn("SAHAD", 59.83f, 360.0f)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)	// 待機

	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 33.58f, -1415.20f, 10.83f)
	Turn("Dogi", -107.00f, 360.0f)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("Dogi", "Curran")
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)	// 待機

	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)
	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", 43.48f, -1412.59f, 10.72f)
	Turn("HUMMEL", 72.38f, 360.0f)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)	// 待機

	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)
	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", 42.34f, -1412.15f, 10.76f)
	Turn("RICOTTA", 58.06f, 360.0f)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("RICOTTA", "Curran")
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)	// 待機

	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)
	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", 41.72f, -1411.13f, 10.71f)
	Turn("DANA", 58.59f, 360.0f)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("DANA", "Curran")
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)	// 待機

	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 33.84f, -1416.38f, 10.83f)
	Turn("Aaron", -123.30f, 360.0f)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("Aaron", "Curran")
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)	// 待機

	SetChrInfoFlag("Dina", INFOFLAG_NOCHRATARI)
	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dina", 34.33f, -1417.33f, 10.83f)
	Turn("Dina", -116.00f, 360.0f)
	ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dina", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dina", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Dina", "ANI_WAIT", -1, 1)	// 待機
	LookChr("Dina", "Curran")

	SetChrInfoFlag("Curran", INFOFLAG_NOCHRATARI)
	SetChrWork("Curran", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Curran", 39.31f, -1413.44f, 10.80f)
	Turn("Curran", 61.95f, 360.0f)
	ChangeSubAnimation("Curran", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Curran", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Curran", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Curran")
	ChangeAnimation("Curran", "ANI_WAIT", -1, 1)	// 待機

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
//	MoveCameraAt(0, 39.419f, -1415.610f, 16.350f, 0)	// 注視点
//	ChangeCameraDistance(0, 4.622f, 0)		// 基本距離
//	ChangeCameraElevation(0, 3.049f, 0)	// 基本仰角
//	RotateCamera(0, 321.865f, 0)				// 角度
//	ChangeCameraPers(0, 40.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , 40.379f , -1413.184f , 11.935f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.622f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.084f , 0 )	// 基本仰角
	RotateCamera( 0 , 287.733f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 120.000, 0.000, 0.550, 0.600)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)

	//スキップ許可
	SetSkipScript("mp1201:SubEV_06_Look_Curran2_ED")

	//開始処理ここまで----------------------------------------------------
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 40.379f, -1413.184f, 11.935f, 140)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 4.084f, 140)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 287.733f, 140)		// 角度

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)

	ChangeAnimation("Curran", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("Curran", 0, 0, 0, 0, 0)
	{
		"#080e#080mおお、懐かしいのである……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	EarthQuake(0.02f, 0.02f, 8)

		//	男の声
	SetName("男の声")
	TalkPopup(UNDEF, 0, 3, 120, 60, 0)
	{
		"おっ！？　ありゃあまさか……"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	LookChr("Curran", "Aaron")
	Wait(10)

	//　　集落方面からドギ、ディナ、エアランなどがやってくる。

	LookChr("ADOL", "Dogi")
	LookChr("LAXIA", "Dogi")
	LookChr("SAHAD", "Aaron")


	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 38.368f, -1413.989f, 12.381f, 70)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 261.246f, 70)		// 角度

	ExecuteCmd(1, MoveTo, "Dina", 37.56f, -1415.49f, 10.83f,  0.1f, 0.24f)
	ExecuteCmd(2, MoveTo, "Aaron", 37.38f, -1414.47f, 10.83f, , 0.1f, 0.24f)
	ExecuteCmd(3, MoveTo, "Dogi", 36.82f, -1413.89f, 10.83f, 0.1f, 0.24f)

	LookChr("SAHAD", "Aaron")
	WaitThread(1000)
	WaitThread(1001)

	WaitThread(1)
	WaitThread(2)
	WaitThread(3)

	ChangeAnimation("Dina", "ANI_EV_SUP_S", -1, 1)
	EarthQuake(0.02f, 0.02f, 8)

	TalkPopup("Dina", 0, 2, 0, 0, 0)
	{
		"#000e#000mうそ、カーラン卿！？"
		"死んだはずじゃあ……！"
	}
	WaitPrompt()
	WaitCloseWindow()
	ChangeAnimation("Dina", "ANI_EV_SUP_E", -1, 1)

	//	"Aaron"
	ChangeAnimation("Aaron", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Aaron", 0, 2, 0, 0, 0)
	{
		"#000e#000mこいつはたまげたなァ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Curran"
	TalkPopup("Curran", 0, 0, 0, 0, 0)
	{
		"#000e#000mおお者ども、出迎えに来たのだな！\p"
		"出迎え2行目"
		"このカーランが不在の間、"
		"よくぞ我が住居を守り通したのである。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("Curran", 1, 25)
	TalkPopup("Curran", 0, 0, 0, 0, 0)
	{
		"#011e#000mご苦労だったな……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　カーラン卿以外に冷や汗エモーション
	EmotionEx("ADOL", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	EmotionEx("SAHAD", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	EmotionEx("LAXIA", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	EmotionEx("RICOTTA", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	EmotionEx("HUMMEL", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	EmotionEx("DANA", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	EmotionEx("Dogi", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	EmotionEx("Dina", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	EmotionEx("Aaron", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	ChangeSubAnimation("ADOL"	,SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
	ChangeSubAnimation("LAXIA"	,SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
	ChangeSubAnimation("SAHAD"	,SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
	//ChangeSubAnimation("HUMMEL"	,SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_LAUGH_S,1)
	//ChangeSubAnimation("DANA"	,SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)

	Wait(50)

	ChangeAnimation("Dogi", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("Dogi", 0, 2, 0, 0, 0)
	{
		"#000e#000mそう言われると、なんだか複雑だぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Dina"
	ChangeAnimation("Dina", "ANI_EV_RYOTEBURI", -1, 1)
	TalkPopup("Dina", 0, 2, 0, 0, 0)
	{
		"#000e#000mまあそういう人だったよね……"
		"すっかり忘れてたけど。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	ChangeSubAnimation("ADOL"	,SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA"	,SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD"	,SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("HUMMEL"	,SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("DANA"	,SUBMOT_EYE,ANI_E_WAIT,1)

	ChangeAnimation( "DANA" , "ANI_EV_RYOTESIRI", -1 , 1 )
	ChangeAnimation( "RICOTTA" , "ANI_EV_RYOTEKOSI", -1 , 1 )

	MoveCameraAt(0, 40.755f, -1412.454f, 12.183f, 0)	// 注視点
	ChangeCameraDistance(0, 4.622f, 0)		// 基本距離
	ChangeCameraElevation(0, 2.694f, 0)	// 基本仰角
	RotateCamera(0, 310.211f, 0)				// 角度
	ChangeCameraPers(0, 40.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	Wait(FADE_CROSS)

	//	"LAXIA"
	LookChr("LAXIA", "Curran")
	ChangeAnimation("LAXIA", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("LAXIA", 0, 0, 0, 0, 0)
	{
		"#000e#000mカーラン卿、先ほどご説明したとおり"
		"脱出の準備は整ってきています。\p"
		"しかし古代種の襲撃が激しく……"
		"あなたにも助力頂けると助かるのですが。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL", "Curran")

	//	"Curran"
	ChangeAnimation("Curran", "ANI_EV_RYOTEKOSI_E", -1, 1)
	LookChr("Curran", "LAXIA")
	TalkPopup("Curran", 0, 0, 0, 0, 0)
	{
		"#000e#000mふむ？　なぜ私が"
		"力を貸さねばならんのだ？\p"
		"それはお前たちの仕事であろう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, 38.710f, -1413.938f, 12.183f, 0)	// 注視点
	ChangeCameraDistance(0, 4.622f, 0)		// 基本距離
	ChangeCameraElevation(0, 9.562f, 0)	// 基本仰角
	RotateCamera(0, 317.598f, 0)				// 角度
	ChangeCameraPers(0, 40.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	Wait(FADE_CROSS)

	ChangeAnimation("Curran", "ANI_EV_TEBURI", -1, 1)
	LookChr("Curran", "Dogi")
	TalkPopup("Curran", 0, 0, 0, 0, 0)
	{
		"#030e#000m手が足りぬのなら"
		"あの生意気な船長にでも言うのである。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　カーラン以外にＰＡエモーション
	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx("SAHAD", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	//EmotionEx("RICOTTA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx("HUMMEL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	//EmotionEx("DANA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx("Dogi", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx("Dina", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx("Aaron", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)

	TalkPopup("Aaron", 0, 0, 0, 0, 0)
	{
		"#000e#000m……まだ話してなかったのかァ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	HeadYes("SAHAD", 1, 25)
	TalkPopup("SAHAD", 0, 0, 0, 0, 0)
	{
		"#061e#000mああ、きっかけが無くてな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT_S,1)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 40.690f, -1412.732f, 11.935f, 80)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 324.246f, 80)		// 角度

	ExecuteCmd(5, MoveTo, "SAHAD", 40.56f, -1414.51f, 10.78f,0.1f, 0.225f)
	WaitThread(5)

	Turn("SAHAD", 94.86f,10.0f)
	LookChr("SAHAD", "Curran")
	Wait(20)

	LookReset("Curran")
	Turn("Curran", 0.01f, 10.0f)
	LookChr("Curran", "SAHAD")

	WaitThread(1000)
	WaitThread(1001)

	ChangeAnimation("SAHAD", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#000e#000mカーラン卿、よく聞いてくれ。\p"
			"船長殿は死んじまったんだ。"
			"あの後、切り裂き魔の手でな……"
	}
	WaitPrompt()
	WaitCloseWindow()


	//　　カーラン卿に！エモーション
	EmotionEx("Curran", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	// 「！」
	Wait(40)

	TalkPopup("Curran", 0, 0, 0, 0, 0)
	{
		"#000e#000mそ、そうであったか……"
			
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Curran", 0.00f, -10.00f)


	TalkPopup("Curran", 0, 0, 0, 0, 0)
	{
		"#011e#000m何かと気に入らぬ男ではあったが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　カーラン卿に・・・エモーション
	EmotionEx("Curran", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(55)


	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "本当に立派な最期でした")
	MenuAdd(2, "僕たちも色々あったのです")
	MenuOpen(TF_MENU_SELECT, -1, ADOLMENU_PPOSY, -2, -2, 10, 0)
	WaitMenu(0)
	MenuClose(10, 0)

	ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//────────────────────
	//	⇒本当に立派な最期でした
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		LookChr("Curran", "ADOL")
		TalkPopup("Curran", 0, 0, 0, 0, 0)
		{
			"#012e#000m………そうか………"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒僕たちも色々あったのです
	if (FLAG[TF_MENU_SELECT] == 2)
	{
		LookChr("Curran", "ADOL")
		TalkPopup("Curran", 0, 0, 0, 0, 0)
		{
			"#012e#000mああ、そのようであるな……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
		//────────────────────

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, 39.177f, -1413.539f, 12.183f, 0)	// 注視点
	ChangeCameraDistance(0, 4.623f, 0)		// 基本距離
	ChangeCameraElevation(0, 6.685f, 0)	// 基本仰角
	RotateCamera(0, 265.500f, 0)				// 角度
	ChangeCameraPers(0, 32.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)

	TalkPopup("Dogi", 0, 0, 0, 0, 0)
	{
		"#000e#000mともかく、漂流村は"
		"かなり厳しい状況にありましてね。\p"
		"以前みてえに勝手な行動は"
		"謹んでもらわねえと。\p"
		"次は本当に命を落としかねませんぜ？"
		"命5行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Curran"
	LookReset("Curran")
	Turn("Curran", 61.56f, 8.0f)

	TalkPopup("Curran", 0, 0, 0, 0, 0)
	{
		"#041e#000mわ、わかっておるわ！\p"
		"#012eフン、無礼者が多いのは"
		"変わらぬようだな！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　カーラン卿、屋内方面に少しだけ歩き出す。
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 37.911f, -1413.182f, 12.232f, 90)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 241.880f, 90)		// 角度


	ExecuteCmd(1, MoveTo, "Curran", 36.39f, -1413.21f, 10.83f,  0.1f, 0.20f)

	WaitThread(1)

	TalkPopup("LAXIA", 0, 0, 0, 0, 0)
	{
		"#000e#000mあの……どちらへ？"
	}
	WaitPrompt()
	WaitCloseWindow()
	WaitThread(1000)
	WaitThread(1001)

	ChangeAnimation("Dogi", "ANI_EV_UDEGUMI_E", -1, 1)
	//	"Curran"
	TalkPopup("Curran", 0, 0, 0, 0, 0)
	{
		"#011e#000mスマンが私は疲れているのである。\p"
		"しばらく一人にするがいい。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeSubAnimation("Curran",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	//　　カーラン卿、歩き去ってしまう。

	TurnTo("Curran", 34.95f, -1414.25f, 10.83f,8.0f)
	ExecuteCmd(1, MoveTo, "Curran", 34.95f, -1414.25f, 10.83f, 0.1f, 0.20f)


	WaitThread(1)
	SetChrPos("Curran", -100000.00f, 0.00f, 0.00f)
	//　　（フラグによって一般の配置場所が違うため、
	//　　　鍛冶場下の坂あたりの前にカメラを切り替えて映さないようにする）

	Wait(20)

	CrossFade(FADE_FAST)
	Turn("Dogi", 102.16f, 360.0f)
	Turn("Dina", 96.15f, 360.0f)
	Turn("Aaron", 90.36f, 360.0f)
	SetChrPos("Dogi", 37.62f, -1413.71f, 10.83f)

	SetChrPos("RICOTTA", 42.33f, -1411.86f, 10.73f)
	Turn("RICOTTA", 58.06f, 360.0f)

	MoveCameraAt(0, 41.734f, -1412.558f, 12.257f, 0)	// 注視点
	ChangeCameraDistance(0, 4.623f, 0)		// 基本距離
	ChangeCameraElevation(0, 3.065f, 0)	// 基本仰角
	RotateCamera(0, 115.372f, 0)				// 角度
	ChangeCameraPers(0, 40.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 40.892f, -1412.765f, 12.257f, 60)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 107.862f, 60)		// 角度

	WaitThread(1000)
	WaitThread(1001)

	TalkPopup("RICOTTA", 0, 0, 0, 0, 0)
	{
		"#000e#000mどこか具合が悪いのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "HUMMEL" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	//	"HUMMEL"
	TalkPopup("HUMMEL", 0, 0, 0, 0, 0)
	{
		"#000e#000mさてな……あの男なりに"
		"思うところがあるのかもしれん。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Dina"
	TalkPopup("Dina", 0, 0, 0, 0, 0)
	{
		"#000e#000m確かに、ちょっと雰囲気が"
		"変わったような……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Aaron"
	TalkPopup("Aaron", 0, 0, 0, 0, 0)
	{
		"#000e#000mま、無事だったのはいいが"
		"また問題を起こされても厄介だ。\p"
		"気をつけとくべきなんじゃねえかァ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi" , "ANI_EV_BORI", -1 , 1 )

	//	"Dogi"
	TalkPopup("Dogi", 0, 0, 0, 0, 0)
	{
		"#000e#000mそうだな……どのみち"
		"村の連中にも説明しておかねえとな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2( "Dogi" , -1, 1, "ANI_EV_BORI",  0)

	//　　ドギ、アドルに向き直る。
	LookReset("Dogi")
	Turn("Dogi", -90.13f, 10.0f)
	LookChr("Dogi", "ADOL")
	Wait(15)

	CrossFade(FADE_CROSS)
	Turn("Dogi", -90.13f, 360.0f)

	MoveCameraAt(0, 37.765f, -1414.429f, 12.307f, 0)	// 注視点
	ChangeCameraDistance(0, 4.623f, 0)		// 基本距離
	ChangeCameraElevation(0, 2.427f, 0)	// 基本仰角
	RotateCamera(0, 115.467f, 0)				// 角度
	ChangeCameraPers(0, 40.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	Wait(FADE_CROSS)

	TalkPopup("Dogi", 0, 0, 0, 0, 0)
	{
		"#000e#000mアドル、忙しいのにお疲れさんだったな。"
		"お疲れさん2行目"
	
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("Dogi", 0, 0, 0, 0, 0)
	{
		"#000e#000mまあ、カーラン卿のことは"
		"何となく気をかけておくとしようぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル頷く。
	HeadYes("ADOL", 1, 25)
	Wait(35)

	//　　暗転
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	PlaySE(SE_PARTYIN, 100, 0, 0, 0, 1.0f, 0)	//仲間に加わる
		
	//	ナレーション
	TalkPopup(UNDEF, 0, 5, 0, 0, 0)
	{
		"#8S"
		"#-1W#4Cカーラン卿が改めて漂流村に加わった！#10W" 
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　暗転明けで漂流村の中央から操作許可。
	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_06_Look_Curran2_ED")
}
function "SubEV_06_Look_Curran2_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//アドル以外のキャラ全てを画面外に移動
		
	SetChrPos("Aaron", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Dogi", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Dina", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Curran", -100000.00f, 0.00f, 0.00f)

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_Aaron")
	CallFunc("system:reset_chrmot_Dina")
	CallFunc("system:reset_chrmot_Curran")
	CallFunc("system:reset_chrmot_Dogi")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	//SetDiaryFlag( DF_JOIN_CURRAN2, 1 )		//★足跡メモ：カーラン卿が改めて漂流村に加わった。
	SetFlag(GF_SUBEV_JOIN_CURRAN2, 1)		// カーラン卿が改めて合流した
	SetFlag(GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2))			//カーラン再合流	名声値+2
	//JoinNPC( NPC_CURRAN2, JOIN_NPC_JOIN )			// 新カーランが仲間になった

	CallFunc( "system:Get_DrifterRescue" )		//漂流村の合流トロフィー判定

	// 人物メモを切り替える・カーラン卿（３）	再合流
	//SetDiaryCharaFlag(DRCHA_CURRAN ,DRCHA_FLAG_OPEN, 0)
	//SetDiaryCharaFlag(DRCHA_CURRAN2,DRCHA_FLAG_OPEN, 0)
	//SetDiaryCharaFlag(DRCHA_CURRAN3,DRCHA_FLAG_OPEN, 1)
	//SetDiaryCharaFlag( DRCHA_CURRAN, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（カーラン卿）
	//SetDiaryCharaFlag( DRCHA_CURRAN2, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（カーラン卿）
	//SetDiaryCharaFlag( DRCHA_CURRAN3, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（カーラン卿）
	//マーカー消去
 	DelMapMarker( SMI_SUBEVENT, PAGE_F013, MARKER_SUBEV_CURRAN, 0, 0)	// サブイベント：「【カーラン卿を発見する】」に登場するカーラン卿の居場所用

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", 36.59f, -1415.32f, 10.83f)
	Turn("LEADER", 64.46f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------
}

//============================================================
//■追加サブイベント・一般メッセージ
//============================================================
//──────────────────────────────
//▼エドとアリスンのフォロー会話
//──────────────────────────────
function "SubEV_05_Follow_TalkS"
{
	//　　エドを自力で見つけなかった場合、エドのクエストは発生せず、
	//　　「▼第五部④大空洞へ向かう」のタイミングになると
	//　　集会所の24.80f, -1418.46f, 10.83f付近でアリスンとエドが向き合っている。
	//　　その上で、二通りのパターンで強制サブイベントが起動。

	//──────────────────────
	//	⇒外に出ようとした場合
	//		or 休息所に入ろうとした場合
	//		or 地図メニューでどこかに転位しようとした場合
	//　　画面フェードアウトして、パロのセリフを表示する。

	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")

	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	TalkPopup("Paro",0,3,240,120,0)
	{
		"#5Cあどる、デカケルマエに"
		"#5Cシュウカイジョ、イク！\p"
		"#5Cありすん、エガオ、エガオ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　画面フェードインして、エドとアリスンの前にアドルを配置。
	EventCue("mp1201:SubEV_05_Follow_Talk")
	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
}
function "SubEV_05_Follow_Talk"
{
	//	⇒エドたちに近づいた場合
	//　　エドとアリスンの前にアドルを配置。
	//
	//──────────────────────

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	LoadChr("Alison")
	LoadChr("Ed")
	LoadChr("Baby")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
//	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",26.25f,-1417.82f,10.83f)
	Turn("ADOL",65.14f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "ADOL" )

	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison",24.26f,-1418.33f,10.83f)
	Turn("Alison",-62.33f,360.0f)
	ChangeAnimation( "Alison", "ANI_EV_WAIT_DAKKO", -1, 1 )
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Alison" )
	SetParent("Baby" , "Alison" , "Null_dakko")

	SetChrInfoFlag("Baby", INFOFLAG_NOATARI)	// アタリ無視
	SetChrWork("Baby", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Baby",24.80f, -1418.46f, 10.83f)
	ChangeAnimation( "Baby" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Baby",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Baby",SUBMOT_MOUTH,ANI_M_WAIT,1)
	//ChangeSubAnimation("Baby",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Baby" )

	SetChrWork("Ed", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Ed",25.16f,-1418.87f,10.83f)
	Turn("Ed",123.78f,360.0f)
	ChangeAnimation( "Ed" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Ed",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Ed",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Ed",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Ed" )

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , 25.884f , -1418.103f , 12.227f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.900f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.066f , 0 )	// 基本仰角
	RotateCamera( 0 , 85.464f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:SubEV_05_Follow_Talk_ED")

//開始処理ここまで-----------------------------------------------

	//　　場面切り替わって集会所。
	//　　赤ちゃんを抱いたアリスンとエドが向き合っており、
	//　　その前にアドルを配置。
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　アドルに「！」エモーションの後、
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	//！
	Wait(40)

	//　　アリスンとエドに「パッ」エモーション。
	EmotionEx("Alison", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx("Ed", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)

	//　　アドルの方を振り向く。
	LookChr( "Alison", "ADOL" )
	LookChr( "Ed", "ADOL" )
	Turn("Ed",-140.29f,8.0f)
	Wait(10)

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#000e#080mあ、アドルさん！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	エド
	TalkPopup("Ed",0,0,0,0,0)
	{
		"#000e#000m燃えるような赤い髪……"
		"なるほど、君がアドルか。\p"
		"はじめまして。"
		"僕はアリスンの夫でエドという。\p"
		"#011e実は君たちが出かけている間に、"
		"偶然ドギたちに出会ってね。\p"
		"#012eそのまま漂流村へ案内してもらって、"
		"こうして妻と再会できたんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Alison"
	TalkPopup("Alison",0,0,0,0,0)
	{
		"#000e#000mそれと、赤ちゃんも"
		"何とか無事に産むことができました。\p"
		"#011e夫にも出産に"
		"立ち会ってもらうことができて……\p"
		"その後すぐに迎撃戦もあったんですが、"
		"何とか乗り越えることができて……\p"
		"#012eこれも漂流村の皆さん、"
		"そしてアドルさんたちのおかげです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Ed", "ANI_EV_RYOTEBURI", -1, 1 )

	//	エド
	TalkPopup("Ed",0,0,0,0,0)
	{
		"#000e#080m何でもアドル、君が中心となって"
		"この島の探索を進めているそうだね。\p"
		"それを聞いて、"
		"僕もすごく勇気付けられたよ。\p"
		"#011eアリスンのこともずいぶん"
		"気にかけてくれていたみたいだし……\p"
		"#012eまったく、感謝の言葉もないよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Alison"
	TalkPopup("Alison",0,0,0,0,0)
	{
		"#000e#080m私からも、"
		"改めてお礼を言わせてください。\p"
		"アドルさん、"
		"本当にありがとうございました。  "
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　エドは赤ちゃんの方を見る。
	LookChr( "Ed", "Baby" )

	//	エド
	TalkPopup("Ed",0,0,0,0,0)
	{
		"ちなみに、この子には"
		"“ウィル”と名付けたんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Alison"
	TalkPopup("Alison",0,0,0,0,0)
	{
		"“意志”の強い子になるようにって"
		"二人で考えたんです。"
		"二人で3行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　エドがアドルの方を見る。
	LookChr( "Ed", "ADOL" )

	ChangeAnimation( "Ed", "ANI_EV_TEBURI", -1, 1 )

	//	エド
	TalkPopup("Ed",0,0,0,0,0)
	{
		"#020eはは、こういっちゃあ"
		"何だけど、いい名前だろう？\p"
		"#000eこれからはどうか、"
		"家族ともどもよろしく頼むよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayVoice(Y8V_5305,"Baby",100)	//きゃはっ（笑い声）

	SetName("ウィル")
	TalkPopup("Baby",0,0,0,0,0)
	{
		"きゃはっ♪"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	//　　イベント終了、操作許可。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//	システムテキスト
	PlaySE(SE_PARTYIN, 100, 0, 0, 0, 1.0f, 0)	//仲間に加わる
	TalkPopup(UNDEF, 0, 5, 0, 0, 0)
	{
		"#8S"
		"#-1W#4Cエドが漂流村に参加することになった！#10W"
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//	システムテキスト
	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル
	TalkPopup(UNDEF, 0, 5, 0, 0, 0)
	{
		"#-1W#4Cドギの演習戦メニューに"
		"#-1W#4C『知恵者たちの襲撃』が追加された！#10W"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_05_Follow_Talk_ED")
}
function "SubEV_05_Follow_Talk_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_Alison")
	CallFunc("system:reset_chrmot_Ed")
	CallFunc("system:reset_chrmot_Baby")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_SUBEV_MP1201_FOLLOW_TALK, 1 )				// ▼エドとアリスンのフォロー会話 を見た
	//SetDiaryCharaFlag( DRCHA_ALISON, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（アリスン）
	//SetDiaryCharaFlag( DRCHA_ED, DRCHA_FLAG_OPEN, 1 )		//★人物メモ：合流時に登録（エド）
	//SetDiaryCharaFlag( DRCHA_ED, DRCHA_FLAG_INFO1, 1 )		//★人物メモ：追加情報の開放１（エド）
	//SetDiaryCharaFlag( DRCHA_BABY3, DRCHA_FLAG_OPEN, 1 )	//★人物メモ：合流時に登録（アリスンの子供）
	//SetDiaryCharaFlag( DRCHA_BABY3, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（アリスンの子供）

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",33.44f,-1417.75f,10.83f)
	Turn("LEADER",-115.48f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK, FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


function "SubEV_Past_07_Main000"		//過去編Ⅶ▼漂流村の水晶柱が変化する	
{
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")

	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラクター初期化
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",39.54f,-1419.29f,10.85f)
	Turn("ADOL",-56.66f,360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",39.65f,-1418.22f,10.83f)
	Turn("LAXIA",-42.88f,360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",39.71f,-1422.19f,11.12f)
	Turn("SAHAD",-152.08f,360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA",40.95f,-1418.04f,10.83f)
	Turn("RICOTTA",-17.77f,360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL",38.76f,-1421.02f,10.98f)
	Turn("HUMMEL",-113.59f,360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA",38.84f,-1419.92f,10.89f)
	TurnTo("DANA",39.54f,-1420.14f,10.94f,360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)

	//水晶石
	Effect2(3900500, 40.91f,-1420.22f,10.99f,0.0f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 1.0f, 1.0f)	//共鳴音と連動するように水晶石が明滅（ループ）
//	ChangeAnimation( "chkpt2" , "ANI_STOP2", -1 , 1 )

	//カメラ設定
	MoveCameraAt( 0 , 41.137f , -1420.591f , 12.753f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.322f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -17.861f , 0 )	// 基本仰角
	RotateCamera( 0 , 221.999f , 0 )				// 角度
	ChangeCameraPers( 0 , 54.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000, 0.000, 0.550, 0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)

	//スキップ許可
	SetSkipScript("mp1201:SubEV_Past_07_Main000_ED")

	//開始処理ここまで----------------------------------------------------

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 41.137f , -1420.591f , 12.753f , 110 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.202f , 110 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -17.859f , 110 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 221.992f , 110 )

//	MoveCameraAt( 0 , 41.137f , -1420.591f , 12.753f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.202f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -17.859f , 0 )	// 基本仰角
//	RotateCamera( 0 , 221.992f , 0 )				// 角度
//	ChangeCameraPers( 0 , 54.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	FadeBGM(70, 30)

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	PlaySE(SE_KAKO_7_01, 70, 1, 0, 0, 1.0f, 0)	//	水晶石共鳴ループ

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	Wait(45)

	CrossFade(FADE_FAST)
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)

	MoveCameraAt( 0 , 40.528f , -1419.798f , 12.265f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.190f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.607f , 0 )	// 基本仰角
	RotateCamera( 0 , 206.615f , 0 )				// 角度
	ChangeCameraPers( 0 , 51.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_FAST)

	//　　ラクシャに「！」エモーション。
	EmotionEx("LAXIA", 0.00f,EMO_PA,0,5,1,1,1.0f )
	Wait(35)
	
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mあら？　水晶石が……"
	}
	WaitPrompt()
	WaitCloseWindow()


	ChangeAnimation( "RICOTTA" , "ANI_EV_SIAN_S", -1 , 1 )

	//	"RICOTTA"
	TalkPopup("RICOTTA",0,1,0,0,0)
	{
		"#000e#000m急に光り出したぞ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlaySE(SE_KAKO_7_02, 100, 0, 0, 0, 1.0f, 0)
	Effect2(3900510, 40.91f,-1420.22f,10.99f,0.0f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 1.0f, 0.5f)	//水晶石の輝きが強まる
	
	Wait(10)

	CrossFade(FADE_NORMAL)
	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)

	MoveCameraAt( 0 , 41.272f , -1420.442f , 12.654f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.982f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -12.635f , 0 )	// 基本仰角
	RotateCamera( 0 , 233.431f , 0 )				// 角度
	ChangeCameraPers( 0 , 54.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 41.272f , -1420.442f , 12.629f , 440 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.911f , 440 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -14.628f , 440 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 233.438f , 440 )

	//MoveCameraAt( 0 , 41.272f , -1420.442f , 12.629f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.911f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -14.628f , 0 )	// 基本仰角
	//RotateCamera( 0 , 233.438f , 0 )				// 角度
	//ChangeCameraPers( 0 , 54.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(60)
	PlaySE(SE_KAKO_7_02, 100, 0, 0, 0, 1.0f, 0)
	Wait(60)
	PlaySE(SE_KAKO_7_02, 100, 0, 0, 0, 1.0f, 0)
	Wait(60)
	PlaySE(SE_KAKO_7_02, 100, 0, 0, 0, 1.0f, 0)
	Wait(30)


	PlaySE(SE_KAKO_7_03, 140, 0, 0, 0, 1.0f, 0)

	FadeOut(FADE_WHITE,FADE_NORMAL)
	WaitFade()

	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
	ChangeAnimation( "SAHAD" , "ANI_EV_SUP", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SAD,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_TAME,1)

	//ChangeAnimation( "chkpt2" , "ANI_STOP2", -1 , 1 )
	SetFlag(GF_PAST_CRYSTAL,1)	// 水晶石を光らすためにここで立てる


	//　　不意に一段を水晶柱が光り輝き、画面ホワイトアウト。
	//　　FIすると水晶柱が紋章入りのものになっている。
	Effect2(3900520, 40.91f,-1420.22f,10.99f,0.0f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 1.0f, 1.0f)	//水晶石の輝きが弱まる
	StopEffect(3900510, ALL, 1)	// 輝き強まるエフェクト停止
	StopEffect(3900500, ALL, 1)	// 輝きエフェクト停止

	StopSE(SE_KAKO_7_01, 4000)

	Wait(60)

	PlaySE(SE_KAKO_7_04, 140, 0, 0, 0, 1.0f, 0)
	
	FadeIn(FADE_WHITE,FADE_NORMAL)
	WaitFade()


	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)


	Wait(90)

	FadeBGM(100, 30)

	CrossFade(FADE_FAST)
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)

	MoveCameraAt( 0 , 39.583f , -1418.959f , 12.555f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.671f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.726f , 0 )	// 基本仰角
	RotateCamera( 0 , 218.906f , 0 )				// 角度
	ChangeCameraPers( 0 , 48.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_FAST)


	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000mおいおい、この模様は確か……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "DANA" , "ANI_EV_SIAN_S", -1 , 1 )

	//	"DANA"
	TalkPopup("DANA",0,2,0,0,0)
	{
		"#000e#000m……過去を視る事ができる水晶石と"
		"同じ紋章が現れているね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "HUMMEL" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	//	"HUMMEL"
	TalkPopup("HUMMEL",0,2,0,0,0)
	{
		"何か作為めいたものを感じるな。"
		"護り人どもの差金か？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000e#000m何らかの罠……でしょうか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"DANA"
	TalkPopup("DANA",0,2,0,0,0)
	{
		"#000e#000mうーん、あの人たちの想念も解放した今"
		"それはないと思うんだけど……"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 39.227f , -1418.800f , 12.183f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.531f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.227f , 0 )	// 基本仰角
	RotateCamera( 0 , 92.300f , 0 )				// 角度
	ChangeCameraPers( 0 , 48.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	LookChr("RICOTTA","DANA")

	//	"RICOTTA"
	TalkPopup("RICOTTA",0,1,0,0,0)
	{
		"#000e#000mここからまた"
		"ダーナ姉の過去、見られるのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "DANA" , "ANI_EV_SIAN_E", -1 , 1 )
	LookChr("DANA" , "RICOTTA")

	//	"DANA"
	TalkPopup("DANA",0,2,0,0,0)
	{
		"#000e#000mええと、そうだね。"
		"多分見られるはずだよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ダーナに「ＰＡ」エモーション。

	EmotionEx("DANA", 0.00f,EMO_PA,0,5,1,1,1.0f )
	Wait(35)

	LookReset("DANA")	
	TalkPopup("DANA",0,2,0,0,0)
	{
		"#011e#000mそっか……もしかして。"
	}
	WaitPrompt()
	WaitCloseWindow()		

	TalkPopup("DANA",0,2,0,0,0)
	{		
		"#012eアドルさん、ここから"
		"過去を見に行ってみよう。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("ADOL","DANA")
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"何か気づいたのか")
	MenuAdd(2,"危険じゃないか")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	//──────────────────────
	//	⇒何か気づいたのか
	if(FLAG[TF_MENU_SELECT] == 1)
	{
		TalkPopup("DANA",0,2,0,0,0)
		{
			"#011e#000mうん、ちょっとね。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	else
	{
		HeadNo("DANA", 1 , 30 )
	
		//	⇒危険じゃないか
		TalkPopup("DANA",0,2,0,0,0)
		{
			"#011e#000mううん、大丈夫。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────
	TalkPopup("DANA",0,2,0,0,0)
	{
		"#000e#000m多分、これは罠なんかじゃないよ。\p"
		"ここから視える過去は"
		"きっとあの時の出来事。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)
	
	CrossFade(FADE_CROSS)
	
	MoveCameraAt( 0 , 41.194f , -1420.561f , 12.728f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.381f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -11.553f , 0 )	// 基本仰角
	RotateCamera( 0 , 244.447f , 0 )				// 角度
	ChangeCameraPers( 0 , 44.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookReset("ADOL")

	Wait(10)

	//　　ダーナ、アドルたちに向き直る。
	TalkPopup("DANA",0,1,0,0,0)
	{
		"#000e#000m皆にも見てほしいな。"
		"エタニア王国の真実と……\p"
		"――そして私の想いを。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(20)

	//　　イベント終了し、その場で操作許可。
	//　　このイベント以降、漂流村の水晶石を調べると
	//　　過去編Ⅶへ飛べるようになる。

	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_Past_07_Main000_ED")
}
function "SubEV_Past_07_Main000_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag(GF_SUBEV_PAST_07_ADD,1)	// 過去編Ⅶ：▼漂流村の水晶柱が変化する　を見た
	SetFlag(GF_PAST_CRYSTAL,1)		//過去編水晶石に切り替え
	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",37.49f,-1416.88f,10.83f)
	Turn("LEADER",-47.65f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt( 0 , 37.494f , -1416.883f , 12.666f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.823f , 0 )	// 基本仰角
	RotateCamera( 0 , -131.761f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------
}

function "SubEV_Past_07_Main081"		//過去編Ⅶ▼現代に戻ってくる
{
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")

	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラクター初期化
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",39.54f,-1419.29f,10.85f)
	Turn("ADOL",-56.66f,360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",39.65f,-1418.22f,10.83f)
	Turn("LAXIA",-42.88f,360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",39.71f,-1422.19f,11.12f)
	Turn("SAHAD",-152.08f,360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA",40.67f,-1418.05f,10.83f)
	Turn("RICOTTA",-14.22f,360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL",38.76f,-1421.02f,10.98f)
	Turn("HUMMEL",-113.59f,360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA",38.84f,-1419.92f,10.89f)
	TurnTo("DANA",39.54f,-1420.14f,10.94f,360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	//SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)


	//カメラ設定
	MoveCameraAt( 0 , 39.990f , -1420.883f , 12.579f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.782f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 16.823f , 0 )	// 基本仰角
	RotateCamera( 0 , 308.206f , 0 )				// 角度
	ChangeCameraPers( 0 , 44.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000, 0.000, 0.550, 0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)

	//スキップ許可
	SetSkipScript("mp1201:SubEV_Past_07_Main081_ED")

	//開始処理ここまで----------------------------------------------------

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 41.137f , -1420.591f , 12.753f , 110 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.372f , 160 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -17.859f , 110 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 221.992f , 110 )

	//MoveCameraAt( 0 , 39.990f , -1420.883f , 12.579f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 4.372f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 16.823f , 0 )	// 基本仰角
	//RotateCamera( 0 , 308.206f , 0 )				// 角度
	//ChangeCameraPers( 0 , 44.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	PlaySE(SE_KAKO_7_09, 100, 0, 0, 0, 1.0f, 0)
	Wait(30)
	SetEnvSEPlayState(-1, 1)
	PlayBGM(BGM_EVENT_017, 0)

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	Wait(30)

	//　　意識交代のエフェクトをかけながらフェードイン。
	//　　水晶石の周りでアドルたちが瞑目している。
	//　　ダーナを除く全員に「…」エモーション。
	EmotionEx("ADOL", 0.00f,EMO_3DOT,0,4.5,1,1,1.0f )
	EmotionEx("SAHAD", 0.00f,EMO_3DOT,0,4.5,1,1,1.0f )
	EmotionEx("LAXIA", 0.00f,EMO_3DOT,0,4.5,1,1,1.0f )
	EmotionEx("RICOTTA", 0.00f,EMO_3DOT,0,4.5,1,1,1.0f )
	EmotionEx("HUMMEL", 0.00f,EMO_3DOT,0,4.5,1,1,1.0f )

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	Wait(20)

	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	
	SetChrInfoFlag("chkpt2" ,INFOFLAG_INVISIBLE)

	MoveCameraAt( 0 , 38.626f , -1420.251f , 12.530f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.171f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.102f , 0 )	// 基本仰角
	RotateCamera( 0 , 39.224f , 0 )				// 角度
	ChangeCameraPers( 0 , 44.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(20)
	
	ChangeAnimation( "HUMMEL" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	//　　その中で、ヒュンメルは空気を読まず普段の調子で喋り出す。
	TalkPopup("HUMMEL",0,1,0,0,0)
	{
		"#000m巫女たちが"
		"受け継いできた覚悟と真実。\p"
		"それはとてつもない"
		"重責だっただろうが……"
	}
	WaitPrompt()
	WaitCloseWindow()	

	ChangeAnimation( "HUMMEL" , "ANI_EV_UDEGUMI_TEBURI", -1 , 1 )

	TalkPopup("HUMMEL",0,1,0,0,0)
	{
		"ダーナはそれすらも凌駕して"
		"この時代にやってきた訳だ。\p"
		"#012e#080mフッ、お転婆ここに極まれり、だな。"
		"お転婆4行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ダーナに「ＰＡ」エモーション。
	EmotionEx("DANA", 0.00f,EMO_PA,0,5,1,1,1.0f )
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	LookChr("DANA" , "HUMMEL")
	Wait(35)

	ChangeAnimation( "DANA" , "ANI_EV_WAIT2_S", -1 , 1 )
	
	TalkPopup("DANA",0,2,0,0,0)
	{
		"#061e#080mあはは、ひどいなぁ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("DANA")

	TalkPopup("DANA",0,2,0,0,0)
	{
		"#092eでもそうだね、イオちゃんが"
		"ビックリした顔は見てみたかったかも。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SMILE_CLOSE,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_SMILE,1)

	ResetChrInfoFlag("chkpt2" ,INFOFLAG_INVISIBLE)
	
	MoveCameraAt( 0 , 39.607f , -1419.465f , 12.430f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.300f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.682f , 0 )	// 基本仰角
	RotateCamera( 0 , 203.544f , 0 )				// 角度
	ChangeCameraPers( 0 , 39.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	LookChr("SAHAD" , "DANA")
	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )
	ChangeAnimation( "DANA" , "ANI_EV_WAIT2_E", -1 , 1 )

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#021e#080mガハハ、それだけじゃねーな。\p"
		"オルガやラステルの坊主も"
		"みんな度肝を抜かれているだろーぜ。\p"
		"#080eそんで、揃ってこう言うんだ。"
		"『いつもダーナには驚かされる』ってな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA" , "DANA")

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#080e#080mふふ、ダーナさんのこと、"
		"皆さん誇らしく思っているはずです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	//LookChr("ADOL" , "DANA")
	//ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	SetChrInfoFlag("chkpt2" ,INFOFLAG_INVISIBLE)

	MoveCameraAt( 0 , 39.089f , -1419.849f , 12.381f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.750f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.678f , 0 )	// 基本仰角
	RotateCamera( 0 , 33.811f , 0 )				// 角度
	ChangeCameraPers( 0 , 39.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(20)
	
	ChangeAnimation( "DANA" , "ANI_EV_HOHOKAKI", -1 , 1 )
	
	//	"DANA"
	TalkPopup("DANA",0,1,0,0,0)
	{
		"#062e#080mうーん、それはどうかな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 39.488f , -1419.757f , 12.381f , 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.960f , 100 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.673f , 100 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 11.874f , 100 )
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE , -0.4f , 100 )

	//MoveCameraAt( 0 , 39.488f , -1419.757f , 12.381f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 1.960f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 7.673f , 0 )	// 基本仰角
	//RotateCamera( 0 , 11.874f , 0 )				// 角度
	//ChangeCameraPers( 0 , 39.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//　　アドルに「…」エモーション。
	LookReset("ADOL")

	//ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	EmotionEx("ADOL", 0.00f,EMO_3DOT,0,4.5,1,1,1.0f )
	Wait(65)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Wait(15)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"決着をつけよう")
	MenuAdd(2,"絶対に阻止しよう")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	ChangeAnimation( "ADOL" , "ANI_EV_WAIT2_S", -1 , 1 )

	HeadYes("ADOL" , 1 , 25 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(20)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(20)
	
	CrossFade(FADE_FAST)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)

	ResetChrInfoFlag("chkpt2" ,INFOFLAG_INVISIBLE)

	MoveCameraAt( 0 , 40.067f , -1419.150f , 12.406f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.089f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.395f , 0 )	// 基本仰角
	RotateCamera( 0 , 192.751f , 0 )				// 角度
	ChangeCameraPers( 0 , 36.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_FAST)

	LookChr("SAHAD" , "ADOL")
	Turn("SAHAD",177.72f,8.0f)
	ChangeAnimation( "SAHAD" , "ANI_EV_TEBURI", -1 , 1 )

	//──────────────────────
	//	⇒決着をつけよう
	if(FLAG[TF_MENU_SELECT] == 1)
	{
	
		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#011e#080mおお、今のを見せられちゃあ"
			"立ち止まってなんていられねーぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒絶対に阻止しよう
	else
	{
		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#021e#080mガハハ、諦めの悪さで"
			"ダーナにも負けない奴がここにいたな。"
		}
		WaitPrompt()
		WaitCloseWindow()

		HeadYes("SAHAD", 1 , 25 )

		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#022eおーよ、ラクリモサなんかに"
			"負けてやるかよ！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	ChangeAnimation( "LAXIA" , "ANI_EV_TEMUNE_S", -1 , 1 )

	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mええ、やはりこのような形で"
		"未来を失うわけには参りません。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "HUMMEL" , "ANI_EV_UDEGUMI_TEBURI", -1 , 1 )

	//	"HUMMEL"
	TalkPopup("HUMMEL",0,2,0,0,0)
	{
		"#000m無論だ。\p"
		"運び屋にも理不尽すぎる依頼は"
		"拒否する権利がある。"
	}
	WaitPrompt()
	WaitCloseWindow()

	TurnToChr("RICOTTA","DANA",8.0f)
	ChangeAnimation( "RICOTTA" , "ANI_EV_GUTSPOSE_S", -1 , 1 )

	//	"RICOTTA"
	TalkPopup("RICOTTA",0,2,0,0,0)
	{
		"#000e#080mダーナ姉が頑張ってくれたから"
		"ここまで来れた。\p"
		"#000e今度はリコッタたちが頑張るぞ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	SetChrInfoFlag("chkpt2" ,INFOFLAG_INVISIBLE)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )

	MoveCameraAt( 0 , 39.492f , -1418.465f , 12.009f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.409f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.799f , 0 )	// 基本仰角
	RotateCamera( 0 , 1.542f , 0 )				// 角度
	ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetChrInfoFlag("SAHAD",INFOFLAG_INVISIBLE)
	SetChrInfoFlag("HUMMEL",INFOFLAG_INVISIBLE)

	SetChrPos("ADOL",39.23f,-1419.03f,10.83f)
	Turn("ADOL",-56.66f,360.0f)

	Wait(10)

	ChangeAnimation( "DANA" , "ANI_EV_WAIT2_E", -1 , 1 )
	LookChr("DANA" , "RICOTTA")
	
	//	"DANA"
	TalkPopup("DANA",0,0,0,0,0)
	{
		"#020e#080mふふ、でも私も"
		"まだまだ頑張り足らないかな。\p"
		"#022eだから一緒に頑張ろうね、"
		"リコッタちゃん。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　リコッタ、ダーナに笑顔を向ける。
	TalkPopup("RICOTTA",0,0,0,0,0)
	{
		"#021e#080mなはは、御意！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//ChangeAnimation( "LAXIA" , "ANI_EV_TEMUNE_E", -1 , 1 )
	TurnToChr("LAXIA","ADOL", 8.0f)

	//	"LAXIA"
	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#031e#000mアドル、参りましょう。"
		"――オクトゥスに！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル頷きを見せた後、カットを切り替えて
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Wait(45)

	CrossFade(FADE_NORMAL)
	SetChrInfoFlag("chkpt2" ,INFOFLAG_INVISIBLE)
	
	MoveCameraAt( 0 , 38.509f , -1420.022f , 12.257f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.109f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -7.809f , 0 )	// 基本仰角
	RotateCamera( 0 , 105.578f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookReset("DANA")
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_CLOSE_S,1)

	Wait(FADE_NORMAL)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 38.509f , -1420.022f , 12.430f , 90 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.960f , 100 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.673f , 100 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 11.874f , 100 )
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE , -0.4f , 100 )

	//MoveCameraAt( 0 , 38.509f , -1420.022f , 12.430f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.109f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -7.809f , 0 )	// 基本仰角
	//RotateCamera( 0 , 105.578f , 0 )				// 角度
	//ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	WaitThread(1000)

	//　　ダーナがひとり物思いにふけるような構図。
	TalkPopup("DANA",0,0,0,0,0)
	{
		"#0L（ラステル、アトラ、セシル……）\p"
		"#0L（オルガちゃんにイオちゃん……）\p"
		"#0L（私たちが守りたかった世界は"
		"　無くなっちゃったけれど……）\p"
		"#0L（この世界はちゃんと"
		"　私たちを受け継いでくれているよ。）\p"
		"#012e#080m#0L（いつか、みんなに"
		"　教えてあげられるといいなぁ……）"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　空を映しつつフェードアウトしていくと見せかけ、
	//　　アドルのミストルティンを映す構図でフェードイン。


	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 38.509f , -1420.022f , 13.993f , 220 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.019f , 220 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -25.805f , 220 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 106.432f , 220 )
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE , -0.0f , 220 )
	
	//MoveCameraAt( 0 , 38.509f , -1420.022f , 13.993f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.019f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -25.805f , 0 )	// 基本仰角
	//RotateCamera( 0 , 106.582f , 0 )				// 角度
	//ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	Wait(90)
	
	
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)

	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )

	Wait(30)

	MoveCameraAt( 0 , 38.965f , -1419.289f , 11.859f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.171f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 32.516f , 0 )	// 基本仰角
	RotateCamera( 0 , 197.517f , 0 )				// 角度
	ChangeCameraPers( 0 , 52.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 38.509f , -1420.022f , 12.430f , 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.821f , 250 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.673f , 100 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 11.874f , 100 )
//	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE , -0.4f , 100 )

	//MoveCameraAt( 0 , 38.965f , -1419.289f , 11.859f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.821f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 32.533f , 0 )	// 基本仰角
	//RotateCamera( 0 , 197.528f , 0 )				// 角度
	//ChangeCameraPers( 0 , 52.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　ミストルティンにカメラが寄りつつ、
	//　　一瞬精霊ツクモのような光の玉がミストルティンに吸い込まれていく。
	//　　そのままカメラはミストルティンに寄りながらフェードアウト。
	//　　イベント終了して、村の集会所で操作許可。

	Wait(50)

	PlaySE(SE_KAKO_7_10, 40, 0, 0, 0, 1.0f, 0)
	Effect2(106050,38.909f , -1419.096f , 12.033f,90.00f , 0 , 0 , IMPACT_NONE , KNOCK_EFXPOS , 0, 0.2f, 0.8f)
	Wait(20)

	StopEffect(106000, ALL, 1)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	Wait(20)

	if ( WORK[WK_ISINTERCEPT] == 1 ){		// 迎撃戦中だったら
		StopBGM(60)
	}

	FadeOut(FADE_BLACK, 45)
	WaitFade()

	if(FLAG[SF_SYS_CLEARED])		//既に一度クリアしていて、タイムアタック開放済ならメッセージ
	{
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#4C#-1Wタイムアタックに"
			"#4C#-1W《エタニアモード》が追加されました。#10W"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}

	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_Past_07_Main081_ED")
}
function "SubEV_Past_07_Main081_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	ResetChrInfoFlag("chkpt2" ,INFOFLAG_INVISIBLE)
	
	//フラグ立て・アイテム入手・アイテム回収
	SetFlag(GF_SUBEV_PAST_07_CLEAR,1)	// 過去編Ⅶ：▼現代に戻ってくる　を見た

	SetFlag(GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 20 ))			//過去編Ⅶクリアした　+20

	GetItem(ICON3D_WP_DANA_005		, 1)		// 霊環セレスディア
	EquipWeapon(DANA, ICON3D_WP_DANA_005)		// 霊環セレスディア

	//古い装備はすべて捨てる
	DeleteItem(ICON3D_WP_DANA_000,99)
	DeleteItem(ICON3D_WP_DANA_000,99)
	DeleteItem(ICON3D_WP_DANA_100,99)
	DeleteItem(ICON3D_WP_DANA_100,99)
	DeleteItem(ICON3D_WP_DANA_200,99)
	DeleteItem(ICON3D_WP_DANA_200,99)
	DeleteItem(ICON3D_WP_DANA_001,99)
	DeleteItem(ICON3D_WP_DANA_001,99)
	DeleteItem(ICON3D_WP_DANA_101,99)
	DeleteItem(ICON3D_WP_DANA_101,99)
	DeleteItem(ICON3D_WP_DANA_201,99)
	DeleteItem(ICON3D_WP_DANA_201,99)
	DeleteItem(ICON3D_WP_DANA_002,99)
	DeleteItem(ICON3D_WP_DANA_002,99)
	DeleteItem(ICON3D_WP_DANA_102,99)
	DeleteItem(ICON3D_WP_DANA_102,99)
	DeleteItem(ICON3D_WP_DANA_202,99)
	DeleteItem(ICON3D_WP_DANA_202,99)
	DeleteItem(ICON3D_WP_DANA_003,99)
	DeleteItem(ICON3D_WP_DANA_003,99)
	DeleteItem(ICON3D_WP_DANA_103,99)
	DeleteItem(ICON3D_WP_DANA_103,99)
	DeleteItem(ICON3D_WP_DANA_203,99)
	DeleteItem(ICON3D_WP_DANA_203,99)

	//クリア済の場合、現代編地下聖堂のマーカーを設置する
	if(FLAG[SF_SYS_CLEARED] && FLAG[GF_SUBEV_PAST_07_CLEAR] && !FLAG[GF_CRYPT_MARKER_SETED])
	{
		SetMapMarker( SMI_SUBEVENT ,PAGE_F032, MARKER_SUBEV_CRYPT, -429.70f,948.39f,14.01f, -429.70f,948.39f,MARKER_SUBEV_CRYPT,MN_F_MP6211,0)			//現代編地下聖堂（入り口
		SetMapMarker( SMI_SUBEVENT ,PAGE_MP65xx, MARKER_SUBEV_CRYPT2, -0.09f, -115.66f, -451.00f, -0.09f, -115.66f,MARKER_SUBEV_CRYPT2,MN_D_MP6569,6)		//現代編地下聖堂（宝箱
		SetFlag(GF_CRYPT_MARKER_SETED,1)		//旧地下聖堂のマーカーをセットした
	}

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",36.41f,-1416.84f,10.83f)
	Turn("LEADER",84.16f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt( 0 , 36.414f , -1416.839f , 12.688f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.359f , 0 )	// 基本仰角
	RotateCamera( 0 , 97.498f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------
}

function "SubEV_Past_07_Rearrive"		//過去編Ⅶ再訪
{
//　　GF_05MP6110_OUT_CAMPが立って以降、
//　　mp6110にある水晶石のＬＰを調べると以下の選択肢。

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	TurnToChr( LEADER , "LP_chkpt" , 10.0f )
	Wait(10)

	//テキスト
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0)
	{
		"#7C不思議な紋章が刻まれた水晶石がある。"
		"水晶石2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	SetFlag( TF_MENU_SELECT, 0 )
	YesNoMenu(TF_MENU_SELECT,"#7C水晶石に触れますか？",1)

	//────────────────────
	//	⇒はい
	if( FLAG[TF_MENU_SELECT] )	// Yesを選んだ
	{
		//　　下の流れに接続
	
		//　　クロスフェードで水晶石の前にキャラを配置。
		//　　（ダーナはいる・いない場合がある）
	
		FadeIn(FADE_BLACK,FADE_FAST)
		WaitFade()
	
		CallFunc("mp1201:SubEV_Past_07_Rearriveb")
		
		ResetStopFlag(STOPFLAG_SIMPLEEVENT2)	
	}
	//────────────────────
	//	⇒いいえ
	else
	{
		//	  　そのまま操作許可を戻す
	
	//終了処理ここから----------------------------------------------------
		CrossFade(FADE_CROSS)
		SetStopFlag(STOPFLAG_NOCHARACLIP)
	
		//イベント後の再配置
		//SetChrPos("LEADER", -218.56f, 816.64f, 64.58f)
		//Turn("LEADER", 166.13f, 360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用
	
		RestoreCamera(0,0)
		ResetCameraObserver(0)
		ResetCameraZPlane()
		//WaitFade()
		Wait(FADE_CROSS)
	
		ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
	//終了処理ここまで----------------------------------------------------
	}

}

function "SubEV_Past_07_Rearriveb"
{	
//開始処理ここから-----------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	//イベント開始前情報の保存
	SaveEventState()
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラクター初期化
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",39.54f,-1419.29f,10.85f)
	Turn("ADOL",-56.66f,360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",39.65f,-1418.22f,10.83f)
	Turn("LAXIA",-42.88f,360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",39.71f,-1422.19f,11.12f)
	Turn("SAHAD",-152.08f,360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA",40.95f,-1418.04f,10.83f)
	Turn("RICOTTA",-17.77f,360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL",38.76f,-1421.02f,10.98f)
	Turn("HUMMEL",-113.59f,360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA",38.84f,-1419.92f,10.89f)
	Turn("DANA",-86.26f,360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)
	// ポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)

	//	ChangeAnimation( "chkpt2" , "ANI_STOP2", -1 , 1 )
	
	//カメラ設定
	MoveCameraAt( 0 , 41.223f , -1420.385f , 12.540f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.999f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.089f , 0 )	// 基本仰角
	RotateCamera( 0 , 210.965f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
		
	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 60.000 ,0.000 ,0.150 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:SubEV_Past_07_Rearrive_ED")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 40.875f , -1419.933f , 12.565f , 300 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 6.199f , 300 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 16.830f , 300 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 328.080f , 300 )

	//MoveCameraAt( 0 , 40.875f , -1419.933f , 12.565f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 6.199f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 16.830f , 0 )	// 基本仰角
	//RotateCamera( 0 , 328.080f , 0 )				// 角度
	//ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Effect2(3900500, 40.91f, -1420.22f, 10.99f , 0.0f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 1.0f, 1.0f)	//共鳴音と連動するように水晶石が明滅（ループ）

	Wait(20)

	//開始処理ここまで-----------------------------------------------

	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()
	
	//　　先頭のアドルが手をかざし、水晶石が光る演出が入る。

	ChangeAnimation("ADOL", "ANI_EV_KAZASU_S", -1, 1)		// 手をかざす
	Wait(10)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)

	PlaySE(SE_GO_KAKO_1, 100, 1, 1000, 0, 1.0f, 0)	//水晶石と交信エフェクトループ
	PlaySE(SE_GO_KAKO_4, 30, 1, 4000, 0, 1.0f, 0)

	Effect2(3900530,  40.344f , -1419.952f , 12.427f , 0.0f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 1.2f, 1.0f)	// 水晶石と交信エフェクト

	EarthQuake( 0.01f , 0.01f , 300 )	// 縦揺れ幅, 横揺れ幅, 時間

	Effect2(3900570, -98.575f , 1409.608f , 78.090f, 0.0f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 1.2f, 1.0f)	// 過去に飛ぶ時の画面切り替えエフェクト
	PlaySE(SE_GO_KAKO_4, 30, 1, 4000, 0, 1.0f, 0)

//	Wait(250)
	Wait(90)
	PlaySE(SE_GO_KAKO_2, 80, 0, 0, 0, 1.0f, 0)	//	発光（過去編ワープ）
	Wait(60)
	PlaySE(SE_GO_KAKO_2, 80, 0, 0, 0, 1.0f, 0)	//	発光（過去編ワープ）
	Wait(60)
	PlaySE(SE_GO_KAKO_2, 80, 0, 0, 0, 1.0f, 0)	//	発光（過去編ワープ）
	Wait(40)
	
	StopBGM(120)

	//　　ホワイトアウトし、以下に接続

	PlaySE(SE_GO_KAKO_3, 100, 0, 0, 0, 1.0f, 0)	//	ホワイトアウト
	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	StopSE(SE_GO_KAKO_1, 2000)
	StopSE(SE_GO_KAKO_4, 4000)

	// フェードアウト（白）
	FadeOut(FADE_WHITE, FADE_NORMAL)
	Wait(FADE_NORMAL)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	Wait(60)
	
	// 擬似フェードアウト表示
	Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
	Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)

	// フェードイン（白）
	FadeIn(FADE_WHITE, FADE_NORMAL)
	WaitFade()

	// フェードアウト（黒）
	FadeOut(FADE_BLACK, 0)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_Past_07_Rearrive_ED")
}

function "SubEV_Past_07_Rearrive_ED"
{
	SetSkipScript("")		//終了処理はスキップ禁止

	//モンスターを復帰
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_HUMMEL")
	CallFunc("system:reset_chrmot_RICOTTA")
	
	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	// エフェクト停止
	StopEffect(-1, ALL, 1)

	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

//	CallFunc("system:camera_reset")

	SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット

	StopBGM(30)
	
	if(!FLAG[GF_SUBEV_PAST_07_IN_CASTLE])	//初めて過去編Ⅶに進む
	{
		SetFlag(SF_NOCHANGEBGM, 1)
		LoadArg("map/mp6201m2/mp6201m2.arg")
		EventCue("mp6201m2:SubEV_Past_07_Main010")
	}
	else 
	{
		LoadArg("map/mp6222m2/mp6222m2.arg")
		EventCue("mp6222m2:SubEV_Past_07_Rearrive2")
	}
	ResetStopFlag(STOPFLAG_EVENT)

//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//	【過去編Ⅶ：現代に戻るイベント】　後の再配置
//──────────────────────────────
function "SubEV_Past_07_Return_Relocate"
{
	//	  　現代編の水晶石の前に復帰して操作許可を戻す。

	CallFunc("system:event_begin")

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//イベント後の再配置
	SetChrPos("LEADER",38.74f,-1417.25f,10.83f)
	Turn("LEADER",41.19f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt( 0 , 38.742f , -1417.253f , 12.686f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.771f , 0 )	// 基本仰角
	RotateCamera( 0 , 144.955f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
}

////////////////////////////////////////////////////////////////////////////////
// ストッパーセクション
////////////////////////////////////////////////////////////////////////////////

//	================================================
//	【ストッパー：拠点から出れない】
//	================================================
function "Stopper_S003"
{
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")

	if( FLAG[GF_07MP1201_CHECK_VILLAGE] ){
	//▼GF_07MP1201_CHECK_VILLAGE～		//ＥＤⅢ セイレン島を脱出する
		//　　※0509追加
		//	テキスト
		TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#7Cまもなく出航の時間だ。"
			"#7C村の外に出る必要はない。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	else if( FLAG[GF_07MP1202_AWAKE_ADOL] && !FLAG[GF_07MP1201_TALK_ALL] ){
	//▼GF_07MP1202_AWAKE_ADOL				//漂流村でアドルが目を覚ます
	//	～！GF_07MP1201_TALK_ALL,			// 漂流村を回ってみる後（全員と話して北部に向かうことにした）
		//	テキスト
		TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#7Cひとまず村の中を回ってみよう……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	else if( FLAG[GF_05MP1201_HOLD_PARTY] && !FLAG[GF_05MP6231M_GOTO_SKYWAY] ){
	//▼GF_05MP1201_HOLD_PARTY,			//漂流村で決起会が催される
	//	～！GF_05MP6231M_GOTO_SKYWAY,		//過去Ⅳ－２　王都に星が落下する
		//	テキスト
		TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#7Cもう日も暮れている……"
			"#7C一人で出かけるのは止めておこう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	else if( FLAG[GF_05MP1201_UP_LOOKOUT] && !FLAG[GF_05MP1201_GOTO_GHOSTHIP] ){
	//▼GF_05MP1201_UP_LOOKOUT,			//見張り台を登ることにする
	//	～！GF_05MP1201_GOTO_GHOSTHIP,		//幽霊船を調査することになる
		//	テキスト
		TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#7C何かがあるようだ……"
			"#7C見張り台に上がってみよう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	else if( FLAG[GF_03MP1202_AWAKE_ADOL] && !FLAG[GF_03MP1201_GOTO_GENSD] ){
	//▼GF_03MP1202_AWAKE_ADOL,			//夢に驚くアドル
	//	～！GF_03MP1201_GOTO_GENSD,			//ジャンダルムへ向かうことになる
		//	テキスト
		TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#7C一人で出かけるわけにはいかない。\p"
			"#7Cまずはラクシャとサハドに声をかけよう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	else if( FLAG[GF_02MP1201_UNMASK_NEMO] && !FLAG[GF_02MP1201_CHASE_KIERGAARD] ){
	//▼GF_02MP1201_UNMASK_NEMO,			// 名無しの正体が判明した
	//	～！GF_02MP1201_CHASE_KIERGAARD,	// キルゴールが逃げた
		TalkPopup("LAXIA",0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#000e#000mアドル、早く"
			"キルゴール先生を探しましょう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	
		TalkPopup("SAHAD",0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#000e#000mおお、まだ村の中にいるはずだ。"
			"急ぐとしよーぜ！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	else if( FLAG[GF_02MP1201_START_HEARING] && !FLAG[GF_02MP1201_LOOK_MAN] ){
	//▼GF_02MP1201_START_HEARING,		// 聞き込みを開始した
	//	～！GF_02MP1201_LOOK_MAN,			// 人影を見つけた
		TalkPopup("LAXIA",0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#000e#000mまずは村を回って"
			"聞き込みをしてみましょう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	
		//	"Sahad"
		TalkPopup("SAHAD",0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#000e#000m何か分かるといいんだがなぁ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	else if( FLAG[GF_02MP1201_LOST_CURRAN] && !FLAG[GF_02MP1201_LOOK_CURRAN] ){
	//▼GF_02MP1201_LOST_CURRAN,			// カーラン卿が行方不明になった
	//	～！GF_02MP1201_LOOK_CURRAN,		// カーラン卿を発見した
		//	テキスト
		TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#7Cカーラン卿を探さなくては……\p"
			"#7C手がかりが残されていないか"
			"#7C村の中を探してみよう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	else if( FLAG[GF_02MP1202_HEAR_SHOUT] && !FLAG[GF_02MP1201_BEFORE_INTERCEPT2] ){

		TalkPopup("LAXIA",0,0,0,0,0)
		{
			"先ほどの声はそう遠くないように" 	//◆仮メッセージ
			"聞こえましたが……\p"
			"アドル・クリスティン、2"
			"まずは村の中を探してみませんか？"
		}
		WaitPrompt()
		WaitCloseWindow()

	}

	else if( FLAG[GF_02MP1201_JOIN_ALISON] && !FLAG[GF_02MP1202_OPEN_DRESS] ){
	//▼GF_02MP1201_JOIN_ALISON,		// アリスンを救出した
	//	～！GF_02MP1202_OPEN_DRESS,			// アリスンが仕立屋を始める
		//	テキスト
		TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#7Cラクシャがアリスンを"
			"#7C送って行ったまま帰って来ていない。\p"
			"#7C様子を見に行ってみようか……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	else if( FLAG[GF_02MP1201_TALK_DOGISAHAD] && !FLAG[GF_02MP1201_INFO_QUEST] ){
	//▼GF_02MP1201_TALK_DOGISAHAD,	// ドギとサハドと話す
	//	～！GF_02MP1201_INFO_QUEST,		// 依頼の説明を受けた
		//	テキスト
		TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#7Cまだ用事が残っている。"
			"#7C出発する前に済ませておこう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	else if( FLAG[GF_02MP1202_GET_CLOTHES] && !FLAG[GF_02MP1201_TALK_DOGISAHAD] ){
	//▼GF_02MP1202_GET_CLOTHES,		// ラクシャから探索服をもらう
	//	～！GF_02MP1201_TALK_DOGISAHAD,	// ドギとサハドと話す
		//	テキスト
		TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#7C広場でドギとサハドが話し合っているようだ。"
			"#7Cふたりに声をかけておこう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	else if( FLAG[GF_01MP1201_LOOK_MAN] && !FLAG[GF_01MP1201_MEET_BARBAROSS]){
	//▼GF_01MP1201_LOOK_MAN			// 人影を見つけた
	//	～！GF_01MP1201_MEET_BARBAROSS	// バルバロスと再会した
		TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#7Cラクシャが見たという人影が気になる。"
			"#7Cあの洞穴の中を調べてみよう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	else if( FLAG[GF_01MP1201_IN_BASE] && !FLAG[GF_01MP1201_LOOK_MAN]){
	//▼GF_01MP1201_IN_BASE			// 拠点に到着した
	//	～！GF_01MP1201_LOOK_MAN		// 人影を見つけた
		TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#7Cこの辺りに人がいるかもしれない。"
			"#7Cもう少し付近を調べてみよう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	else {

		TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#7C今はまだ村を離れる訳にはいかない。"	//◆仮　ストッパー用メッセージ
		}
		WaitPrompt()
		WaitCloseWindow()

	}

//	if(FLAG[GF_PARTY_NONE]){
//	// アドルおひとり様モードOFF のときのみこの処理を行う
//
//		// PLAYER2とPLAYER3のどちらかがPLAYER1から一定距離離れていたら
//		// PLAYER1のそばにワープする
//		SetFlag( TF_CHECK_DISTANCE, 1 )
//		SetFlag( TF_CHECK_DISTANCE2, 1 )
//		if( WORK[WK_ISEXIST_PLAYER2] )
//		{
//			CheckChrDistance( TF_CHECK_DISTANCE, "PLAYER1", "PLAYER2", 0, STOPPER_WARPDIS )
//		}
//		if( WORK[WK_ISEXIST_PLAYER3] )
//		{
//			CheckChrDistance( TF_CHECK_DISTANCE2, "PLAYER1", "PLAYER3", 0, STOPPER_WARPDIS )
//		}
//	}
//
//	if(FLAG[GF_PARTY_NONE]){
//	// アドルおひとり様モードOFF のときのみこの処理を行う
//
//		if( FLAG[TF_CHECK_DISTANCE]==0 || FLAG[TF_CHECK_DISTANCE2]==0)
//		{
//			ChrAlpha( "PLAYER2" , 0.0f , 0 )
//			ChrAlpha( "PLAYER3" , 0.0f , 0 )
//			ResetPartyPos()
//		}
//		ExecuteCmd(1, TurnToChr, "PLAYER2" , "PLAYER1" , 10.0f )
//		ExecuteCmd(2, TurnToChr, "PLAYER3" , "PLAYER1" , 10.0f )
//		if( FLAG[TF_CHECK_DISTANCE]==0 || FLAG[TF_CHECK_DISTANCE2]==0)
//		{
//			ExecuteCmd(3, ChrAlpha, "PLAYER2" , 1.0f , 10 )
//			ExecuteCmd(4, ChrAlpha, "PLAYER3" , 1.0f , 10 )
//			WaitThread(3)
//			WaitThread(4)
//		}
//		WaitThread(1)
//		WaitThread(2)
//	}


	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	SetChrPos("LEADER",40.90f,-1413.29f,10.81f)
	Turn("LEADER",61.18f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	WaitFade()

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
}

//	================================================
//	【ストッパー：屋内に入れない】
//	================================================
function "Stopper_S004"
{
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")


	if( FLAG[GF_05MP1201_UP_LOOKOUT] && !FLAG[GF_05MP1201_GOTO_GHOSTHIP] )
	{
	//▼GF_05MP1201_UP_LOOKOUT,			//見張り台を登ることにする
	//	～！GF_05MP1201_GOTO_GHOSTHIP,		//幽霊船を調査することになる
		//	テキスト
		TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#7C何かがあるようだ……"
			"#7C見張り台に上がってみよう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	else
	{
	//▼GF_01MP1201_IN_BASE			// 拠点に到着した
	//	～！GF_01MP1201_LOOK_MAN		// 人影を見つけた
		TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#7C洞窟は奥へと続いているようだが、"
			"#7C人がいる気配はない……\p"
			"#7C先に他の場所を調べるべきかもしれない。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	SetChrPos("LEADER",9.00f,-1396.10f,11.50f)
	Turn("LEADER",-56.98f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	WaitFade()

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
}

//	================================================
//	【ストッパー：武器練成チュートリアル中】Ａ
//	================================================
function "ST_1201_TutoA"
{
	//▼GF_02MP1201_JOIN_KATRIN,			// カトリーンが合流した（武器の強化が可能になる２）
	//	～！GF_02MP1201_TEST_RENSEI,		// 武器の強化した
	//　　鍛冶屋の付近から離れようとするとストッパー

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	//	テキスト
	TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
	{
		"#7Cカトリーンが武器を鍛えてくれるようだ。\p"
		"#7Cカトリーンに話し掛けて"
		"#7C《練成》を試してみよう。"
	}
	WaitPrompt()
	WaitCloseWindow()

//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	//イベント後の再配置
	SetChrPos("LEADER",0.49f,-1419.32f,16.55f)
	Turn("LEADER",79.77f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}

//	================================================
//	【ストッパー：武器練成チュートリアル中】Ｂ
//	================================================
function "ST_1201_TutoB"
{
	//▼GF_02MP1201_JOIN_KATRIN,			// カトリーンが合流した（武器の強化が可能になる２）
	//	～！GF_02MP1201_TEST_RENSEI,		// 武器の強化した
	//　　鍛冶屋の付近から離れようとするとストッパー

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	//	テキスト
	TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
	{
		"#7Cカトリーンが武器を鍛えてくれるようだ。\p"
		"#7Cカトリーンに話し掛けて"
		"#7C《練成》を試してみよう。"
	}
	WaitPrompt()
	WaitCloseWindow()

//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	//イベント後の再配置
	SetChrPos("LEADER",-0.62f,-1423.10f,16.55f)
	Turn("LEADER",134.42f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}

//	================================================
//	【ストッパー：屋内方面⇒集会所に行けない】
//	================================================
function "ST_1201_toHall"
{
	//▼GF_02MP1202_HEAR_SHOUT,			// 叫び声を聞いた
	//	～！GF_02MP1201_BEFORE_INTERCEPT2,	// 迎撃戦の準備をはじめた
	//　　22.71f	-1408.32f	11.49f	-19.29f付近に来ると
	//　　ストッパー処理。
	//　　まだエアランの一般を見ていない場合は
	//　　ここでエアランの一般処理が起動する。
	//　　その後、集会所方面へ行こうとするとストッパーメッセージ。
	//　　
	//　　※なお、このタイミングでは坂の部分に空気アタリをおき
	//　　　集会所に落下では入れないようにする。

	if( !FLAG[GF_1STTALK_2_12_AARON] )	// エアランＧＦ初回
	{
		// エアランの会話処理呼び出し
		SetStopFlag(STOPFLAG_TALK)
		CallFunc("system:talk_begin_zoom")		//TALK_ZOOM
		CallFunc( "talk:Talk_Aaron2" )
		SetChrPos("LEADER",21.85f,-1406.06f,11.49f)	
		Turn("LEADER",154.60f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()

		RestoreCamera(0,0)
		ResetCameraObserver(0)
		ResetCameraZPlane()

		ResetStopFlag(STOPFLAG_TALK)
	}
	else
	{
	//開始処理ここから----------------------------------------------------
		SetStopFlag(STOPFLAG_SIMPLEEVENT2)
		ResetStopFlag(STOPFLAG_NOCHARACLIP)
		SaveCamera()
	
		ResetMotion( "PARTYALL" , 0 )
		StopEffect(-1,PARTYALL,1)
		StopEmotion( "PARTYALL" )
		ResetMoveVec("PARTYALL")
	//開始処理ここまで-----------------------------------------------
	
		TalkPopup("LAXIA",0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
		{
			"#000e#000m先ほどの声はそう遠くないように"
			"聞こえました……\p"
			"あちらはエアランさんに任せて"
			"近くを探してみませんか？"
		}
		WaitPrompt()
		WaitCloseWindow()
	
	//終了処理ここから----------------------------------------------------
		CrossFade(FADE_CROSS)
		SetStopFlag(STOPFLAG_NOCHARACLIP)
	
		//イベント後の再配置
		SetChrPos("LEADER",21.85f,-1406.06f,11.49f)
		Turn("LEADER",154.60f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
	
		RestoreCamera(0,0)
		ResetCameraObserver(0)
		ResetCameraZPlane()
		Wait(FADE_CROSS)
	
		ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
	//終了処理ここまで----------------------------------------------------
	}
}

//	================================================
//	【ストッパー：坂上⇒集会所に行けない】
//	================================================
function "ST_1201_toSlopel"
{
	//▼GF_02MP1202_HEAR_SHOUT,			// 叫び声を聞いた
	//	～！GF_02MP1201_BEFORE_INTERCEPT2,	// 迎撃戦の準備をはじめた
	//	mp1201　7.22f	-1429.15f	16.75f	-46.04f付近に来るとストッパー。
	//	見張り台の中段には入れないように手前で引っ掛ける。

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	TalkPopup("SAHAD",0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
	{
		"#000e#000mアドル、待ってくれ。"
		"もしかして丘の方かもしれねーぞ……\p"
		"まずは丘の方に行ってみようぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	//イベント後の再配置
	SetChrPos("LEADER",5.88f,-1429.27f,16.70f)
	Turn("LEADER",129.52f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}

//	================================================
//	【ストッパー：浜辺マップに行けない】
//	================================================
function "ST_1201_Beach"
{
	//▼GF_05MP1201_UP_LOOKOUT,			//見張り台を登ることにする
	//	～！GF_05MP1201_GOTO_GHOSTHIP,		//幽霊船を調査することになる

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	//	テキスト
	TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
	{
		"#7C何かがあるようだ……"
		"#7C見張り台に上がってみよう。"
	}
	WaitPrompt()
	WaitCloseWindow()

//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	//イベント後の再配置
	SetChrPos("LEADER",32.63f,-1451.84f,10.53f)
	Turn("LEADER",177.36f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}

//	================================================
//	【ストッパー：丘マップに行けない】
//	================================================
function "ST_1201_Hill"
{
	//▼GF_05MP1201_UP_LOOKOUT,			//見張り台を登ることにする
	//	～！GF_05MP1201_GOTO_GHOSTHIP,		//幽霊船を調査することになる

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	//	テキスト
	TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
	{
		"#7C何かがあるようだ……"
		"#7C見張り台に上がってみよう。"
	}
	WaitPrompt()
	WaitCloseWindow()

//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	//イベント後の再配置
	SetChrPos("LEADER",-2.99f,-1431.50f,18.40f)
	Turn("LEADER",-103.97f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}

//	================================================
//	【ストッパー：集会所マップの高台方面に行けない】
//	================================================
function "ST_1201_Upland"
{
	//▼GF_05MP1201_UP_LOOKOUT,			//見張り台を登ることにする
	//	～！GF_05MP1201_GOTO_GHOSTHIP,		//幽霊船を調査することになる
	//	mp1201　17.72f	-1443.33f	18.56f	2.98f付近に来るとストッパー

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	//	テキスト
	TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
	{
		"#7C何かがあるようだ……"
		"#7C見張り台に上がってみよう。"
	}
	WaitPrompt()
	WaitCloseWindow()

//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	//イベント後の再配置
	SetChrPos("LEADER",15.06f,-1439.39f,18.45f)
	Turn("LEADER",136.41f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}

//	================================================
//	【ＬＰ：見張り台下段の梯子】
//	================================================
function "LP_1201_LadderL"
{
	//▼GF_SUBEV_MAKE_LOOKOUT～			// 見張り台を作成した
	//　　※時間帯バリエーションマップにも仕掛ける。
	//	下段から登る梯子に近づくと、「登る」のＬＰが出る。
	//　　選ぶと、短い暗転とＳＥを挟んで
	//　　梯子を上った位置に立っている状態になり
	//　　操作許可を戻す。

	SetStopFlag(STOPFLAG_SIMPLEEVENT2)

	FadeOut( FADE_BLACK , FADE_FAST )
	WaitFade()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")

//	TalkPopup("UNDEF",0,0,0,0,0)
//	{
//		"#7C◆はしごを登るＳＥ"
//	}
//	WaitPrompt()
//	WaitCloseWindow()

	PlaySE(SE_WOOD_HASIGO, 100, 0, 0, 0, 1.0f, 0)
	Wait(30)
	PlaySE(SE_WOOD_HASIGO, 100, 0, 0, 0, 1.0f, 0)

	SetChrPos("LEADER",20.54f,-1425.86f,17.89f)
	Turn("LEADER",56.76f,360.0f)

	ResetPartyPos()
	ResetFollowPoint()

	CallFunc("system:camera_reset")
	Wait(30)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)

	FadeIn( FADE_BLACK , FADE_FAST )
	//WaitFade()
}

//	================================================
//	【ＬＰ：見張り台中段の梯子】
//	================================================
function "LP_1201_LadderM"
{
	//▼GF_SUBEV_MAKE_LOOKOUT～			// 見張り台を作成した
	//　　※時間帯バリエーションマップにも仕掛ける。
	//	中段から登る梯子に近づくと、「登る」のＬＰが出る。
	//　　選ぶと、短い暗転とＳＥを挟んで
	//　　梯子を上った位置に立っている状態になり
	//　　操作許可を戻す。

	SetStopFlag(STOPFLAG_SIMPLEEVENT2)

	FadeOut( FADE_BLACK , FADE_FAST )
	WaitFade()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")

//	TalkPopup("UNDEF",0,0,0,0,0)
//	{
//		"#7C◆はしごを登るＳＥ"
//	}
//	WaitPrompt()
//	WaitCloseWindow()

	PlaySE(SE_NAWA_HASIGO, 100, 0, 0, 0, 1.0f, 0)
	Wait(23)
	PlaySE(SE_NAWA_HASIGO, 100, 0, 0, 0, 1.0f, 0)

	SetChrPos("LEADER",18.96f,-1428.21f,32.34f)
	Turn("LEADER",-122.32f,360.0f)

	ResetPartyPos()
	ResetFollowPoint()

	CallFunc("system:camera_reset")
	Wait(30)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)

	FadeIn( FADE_BLACK , FADE_FAST )
	//WaitFade()
}

//	================================================
//	【ＬＰ：見張り台最上段の梯子】
//	================================================
function "LP_1201_LadderH"
{
	//▼GF_SUBEV_MAKE_LOOKOUT～			// 見張り台を作成した
	//　　※時間帯バリエーションマップにも仕掛ける。
	//	最上段から降りる梯子に近づくと、「降りる」のＬＰが出る。
	//　　選ぶと、短い暗転とＳＥを挟んで
	//　　梯子を降りた位置（中段）に立っている状態になり
	//　　操作許可を戻す。

	SetStopFlag(STOPFLAG_SIMPLEEVENT2)

	FadeOut( FADE_BLACK , FADE_FAST )
	WaitFade()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")

//	TalkPopup("UNDEF",0,0,0,0,0)
//	{
//		"#7C◆はしごを降りるＳＥ"
//	}
//	WaitPrompt()
//	WaitCloseWindow()

	PlaySE(SE_NAWA_HASIGO, 100, 0, 0, 0, 1.0f, 0)
	Wait(23)
	PlaySE(SE_NAWA_HASIGO, 100, 0, 0, 0, 1.0f, 0)

	SetChrPos("LEADER",20.57f,-1425.76f,17.89f)
	Turn("LEADER",-122.33f,360.0f)

	ResetPartyPos()
	ResetFollowPoint()

	CallFunc("system:camera_reset")
	Wait(30)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)

	FadeIn( FADE_BLACK , FADE_FAST )
	//WaitFade()
}

//	================================================
//	【ＬＰ：クエスト掲示板（クエストチュートリアル前）】
//	================================================
function "LP_1201_bbs"
{
	//▼GF_02MP1202_GET_CLOTHES,			// ラクシャから探索服をもらう
	//～！GF_02MP1201_INFO_QUEST,			// 依頼の説明を受けた
	//　　※クエスト掲示板と同じ位置にLPを出す。
	//　　　（時間帯変化があるため注意）

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	TurnToChr( LEADER , this , 7.5f )
	Wait(10)

	//	テキスト
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7C掲示板のような物がある。"
		"#7Cドギたちが設置したようだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	//イベント後の再配置
//	SetChrPos("LEADER",0.00f,0.00f,0.00f)
//	Turn("LEADER",0.00f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//■親愛イベントセクション

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//===============================================================
// エアラン：▼親愛イベント
function "Sinai_Aaron"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Aaron")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Aaron" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Aaron" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",22.07f,-1442.99f,11.39f)
	Turn("ADOL",18.84f,360.0f)
	LookChr("ADOL" , "Aaron")
	SetChrPos("Aaron",21.60f,-1444.31f,11.32f)
	Turn("Aaron",39.46f,360.0f)
	LookReset("Aaron")

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Aaron" , "ANI_WAIT", -1 , 1 )

	MoveCameraAt( 0 , 22.144f , -1443.293f , 13.011f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.326f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.538f , 0 )	// 基本仰角
	RotateCamera( 0 , 80.249f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	if( FLAG[GF_05MP6330_LOOK_MONOLITH] && !FLAG[GF_05MP1201_GOTO_GHOSTHIP] ){		//幽霊船を目撃
		StopBGM(120)
	} else if (FLAG[GF_05MP1201_OCEANUS_STANDBY] && !FLAG[GF_05MP1201_HOLD_PARTY]){		// オケアノス戦前
		StopBGM(120)
	} else if (FLAG[GF_TBOX_DUMMY087] && !FLAG[GF_07MP1202_AWAKE_ADOL]){		// ６話以降～ラスボス戦
		StopBGM(120)
	} else if(WORK[WK_ISINTERCEPT] == 1){	//迎撃戦中
		StopBGM(120)
	}

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Aaron_ED")

//開始処理ここまで-----------------------------------------------

	//　　暗転を挟んで字幕イベント。
	//　　集落内の適当な水路の前。
	//　　エアランが水路前に立ち、近くにアドルがいる。

	// カット1 ----------------------------------------------------------------------------------------

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// 位置調整・表情・モーション
	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI", -1, 1 )	// 両手腰
	LookChr("ADOL", "Aaron")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 22.174f , -1443.800f , 12.887f , 120 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.036f , 120 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.434f , 120 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 110.143f , 120 )

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

//	Wait(30)

	PlayBGM(BGM_TOWN_501, 0)
	FadeBGM(70,10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	// エアラン
	TalkMes("Aaron",
		"#3879V#000e#000mチッ、やっぱ水漏れしてやがる。",
		"誰だァ？　雑に組みやがって……","")
	WaitPrompt()

	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// エアラン
	TalkMes("Aaron",
		"#3880V#000e#000m一度バラして組み直すしかねェ。",
		"アドル、２番の工具をよこしな。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	LookChr("Aaron", "ADOL")
	Turn("Aaron", 174.47f, 8.0f)
	Wait(10)
	ChangeAnimation( "Aaron", "ANI_EV_TEWATASI_S", -1, 1 )	// 手渡し
	Wait(25)

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_FAST)
	WaitFade()
	
	// カット2 ----------------------------------------------------------------------------------------

	//　　エアランは受け取るモーションをした後
	//　　何か作業をしている状態になる。

	// カメラ
	MoveCameraAt( 0 , 21.958f , -1444.099f , 12.387f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.076f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -6.879f , 0 )	// 基本仰角
	RotateCamera( 0 , 354.402f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -6.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", 22.47f, -1443.01f, 11.39f)
	Turn("ADOL", 29.50f, 360.0f)
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	Turn("Aaron", 46.57f, 360.0f)
	ChangeAnimation( "Aaron", "ANI_EV_SHAGAMI", -1, 1 )	// しゃがみ
	LookReset("Aaron")

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 21.781f , -1444.061f , 12.447f , 100 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.076f , 100 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -6.879f , 100 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 354.402f , 100 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 100 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -6.9f , 100 )		// ロール回転

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
//	// カメラ待ち（Aイベント用）
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//	WaitThread(1004)
//	WaitThread(1005)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"さすがの手際だな")
	MenuAdd(2,"エアランに任せれば安心だな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0169,"ADOL",100)	//すごいな…（しみじみ）

	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	//────────────────────
	//	⇒さすがの手際だな
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// エアラン
		TalkMes("Aaron",
			"#3881V#011e#000mハン……俺は必要な事を",
			"やっているだけだ。","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒エアランに任せれば安心だな
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// エアラン
		TalkMes("Aaron",
			"#3882V#011e#000mったく……軽口はよしな。",
			"俺は必要な事をしているだけだってんだ。","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//────────────────────
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , 22.178f , -1443.663f , 12.587f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.316f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.299f , 0 )	// 基本仰角
	RotateCamera( 0 , 114.727f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 22.178f , -1443.663f , 12.907f , 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.076f , 100 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 5.153f , 100 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 118.172f , 100 )

	LookChr("ADOL", "Aaron")
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeAnimation( "Aaron", "ANI_EV_SHAGAMI_E", -1, 1 )	// しゃがみ

	// フェード待ち
	Wait(FADE_CROSS)
	
	WaitAnimation2("Aaron", -1, 1, "ANI_EV_SHAGAMI_E", 0)
	TurnToChr("Aaron", "ADOL", 5.0f)

//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// エアラン
	TalkMes("Aaron",
		"#3883V#000e#000mロムン本土には、まだまだ",
		"凶悪な指名手配犯がいやがる。","")
	WaitPrompt()

	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// エアラン
	TalkMes("Aaron",
		"#3884V#011e#000m俺ァ必ず戻って",
		"そいつらをお縄にかけなきゃならねェ。","")
	WaitPrompt()

	// エアラン
	TalkMes("Aaron",
		"#3885V#012e#000m今回みてえな事を",
		"繰り返さねえためにもな。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , 21.941f , -1443.610f , 12.907f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.316f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.283f , 0 )	// 基本仰角
	RotateCamera( 0 , 8.439f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェード待ち
	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"確かにそうだな")
	MenuAdd(2,"もう一息だ、一緒に頑張ろう")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0164,"ADOL",100)	//ああ…（相槌）

	HeadYes("ADOL" , 1 , 25 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Wait(10)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	//────────────────────
	//	⇒確かにそうだな
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		HeadYes("Aaron", 1, 25)	// キャラ, うなずき回数, 速さ
		
		// エアラン
		TalkMes("Aaron",
			"#3886V#000e#000mああ……こんな島で",
			"もたもたしてるワケにはいかねえ。","")
		WaitPrompt()

		ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

		// エアラン
		TalkMes("Aaron",
			"#3887V#000e#000mアドル、お前には",
			"これからも手を貸してもらうぜ。","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒もう一息だ、一緒に頑張ろう
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		HeadYes("Aaron", 1, 25)	// キャラ, うなずき回数, 速さ
		
		// エアラン
		TalkMes("Aaron",
			"#3888V#000e#000mああ、お前には特に",
			"力を貸してもらうぜ、アドル。","")
		WaitPrompt()

		ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

		// エアラン
		TalkMes("Aaron",
			"#3889V#000e#000mこの先もお前の腕が",
			"必要になる事があるだろうからなァ。","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し


	StopBGM(90)

	// カット4 ----------------------------------------------------------------------------------------

	//　　エアランはアドルの傍を通りすぎ、去っていこうとするが
	//　　そこでふと立ち止まる。
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 21.840f , -1442.855f , 12.627f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.316f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.616f , 0 )	// 基本仰角
	RotateCamera( 0 , 151.320f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt , INTERPOLATE_SPHERE , 21.750f , -1443.287f , 12.847f , 100 )	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance , INTERPOLATE_SPHERE , 2.796f , 100 )					// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation , INTERPOLATE_SPHERE , 3.911f , 100 )				// 基本仰角
	ExecuteCmd(1003, RotateCamera , INTERPOLATE_SPHERE , 180.822f , 100 )						// 角度

	// フェード待ち
	Wait(FADE_CROSS)

	ExecuteCmd(1, MoveTo, "Aaron",21.35f,-1442.27f,11.32f, 0.1f, 0.16f )
	Wait(20)
	ExecuteCmd(2, Turn, "ADOL",131.63f, 8.0f)
	WaitThread(1)

	// 移動待ち
	WaitThread(2)
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	PlayBGM(BGM_EVENT_004, 0)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	LookChr("Aaron" , "ADOL")

	// エアラン
	TalkMes("Aaron",
		"#3890V#011e#000mそうそう、こいつは",
		"機密だし独り言だ──","")
	WaitPrompt()

	// エアラン
	TalkMes("Aaron",
		"#3891V#012e#000m任務で、謎の異変が起きた地域を",
		"調査した事があるんだが。","")
	WaitPrompt()

	LookReset("Aaron")
	ChangeAnimation( "Aaron", "ANI_EV_BORI", -1, 1 )	// 頭かき

	// エアラン
	TalkMes("Aaron",
		"#3892V#011e#080m周辺を洗ううちに",
		"面白い事が分かってな。","")
	WaitPrompt()

	// エアラン
	TalkMes("Aaron",
		"#3893V#012e#000mエステリア、フェルガナ、",
		"それにセルセタ地方……","")
	WaitPrompt()

	LookChr("Aaron" , "ADOL")
	ChangeAnimation( "Aaron", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// エアラン
	TalkMes("Aaron",
		"#3894V#011e#000mいずれも《赤毛の剣士》とかいう奴が",
		"現れて、解決に一役買っているってんだ。","")
	WaitPrompt()

	// エアラン
	TalkMes("Aaron",
		"#3895V#012e#010l#080m最近じゃサンドリアにも現れたって",
		"聞いたが……真偽はどうだかなァ。","")
	WaitPrompt()
	WaitCloseWindow()

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , 22.157f , -1442.646f , 13.007f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.836f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.384f , 0 )	// 基本仰角
	RotateCamera( 0 , 93.450f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 8.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 22.157f , -1442.646f , 12.907f , 100 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.836f , 100 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.395f , 100 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 93.747f , 100 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 100 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 14.1f , 100 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)
	
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKR_E,1)
	Turn("Aaron", -59.62f, 5.0f)

//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	// エアラン
	TalkMes("Aaron",
		"#3896V#011e#000mクク、まあともかく、海軍のお偉方には",
		"興味を示してる方もいるらしい……","")
	WaitPrompt()

	//　　エアラン、ニヤリと笑みを見せる。

	// エアラン
	TalkMes("Aaron","#3897V#012e#080m……もしかすると、お前さんとは",
		"長い付き合いになっちまうかもなァ？","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドルにＰＡエモーション
	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)

	//　　その後肩をすくめる
	ChangeAnimation("ADOL", "ANI_EV_AKIRE", -1, 1)
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_AKIRE",  0)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"忠告、ありがとう")
	MenuAdd(2,"一体誰の事だろうか……")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//────────────────────
	//	⇒忠告、ありがとう
	if (FLAG[TF_MENU_SELECT] == 1) {

		PlayVoice(Y8V_0162,"ADOL",100)	//フッ（微笑）
		
		ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )	// 手振り
		//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)
		
		// エアラン
		TalkMes("Aaron",
			"#3898V#000e#080mアア？　何のことだァ？","","")
		WaitPrompt()
	}
	//	⇒一体誰の事だろうか……
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		PlayVoice(Y8V_0188,"ADOL",100)	//ええと…（相手に声をかける）

		LookRoll("ADOL", 10.0f)	// かしげる
		ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )	// 手振り
		//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)
		LookRoll("ADOL", 0.0f)	// かしげる
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)
		
		// エアラン
		TalkMes("Aaron",
			"#3899V#011e#080mクク……俺の独り言に",
			"口を挟むんじゃねェ。","")
		WaitPrompt()
	}
	//────────────────────

	ChangeAnimation( "Aaron", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// エアラン
	TalkMes("Aaron",
		"#3900V#000e#000m……ま、今はこの島を",
		"出ることが先決だろうな。","")
	WaitPrompt()

	// エアラン
	TalkMes("Aaron",
		"#3901V#011e#080mとっとと仕事に戻るかねェ。","","")
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 23.330f , -1441.965f , 13.167f , 180 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.276f , 180 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.200f , 180 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 53.074f , 180 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 180 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 1.7f , 180 )		// ロール回転

	//　　エアランが立ち去りつつ暗転。
	LookReset("Aaron")
	TurnTo("Aaron", 23.25f, -1432.27f, 11.39f, 8.0f)
	ExecuteCmd(1, MoveTo, "Aaron",23.25f, -1432.27f, 11.39f, 0.1f, 0.16f )

	Wait(60)
	
	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()

	// 移動停止
	StopThread( 1 )

//　　イベント終了、操作許可。
//　　※アドルを集会所の焚き火前に再配置。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Aaron_ED")
}
function "Sinai_Aaron_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	SetChrPos("Aaron", -100000.00f, 0.00f, 0.00f)	// 彼方へ

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_AARON, 1 )			// 親愛イベントを見た（エアラン）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（エアラン）	名声値+2
		//SetDiaryCharaFlag( DRCHA_AARON, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（エアラン）

		SetFlag(GF_GALL_EV_LIKE_17,1)			// Sinai_Aaron

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",29.42f,-1420.57f,10.83f)
		Turn("LEADER",-123.80f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

		FadeBGM(100, 30)
		SetEnvSEPlayState(-1, 1)

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// オースティン：▼親愛イベント
function "Sinai_Austen"
{
	//　　暗転を挟んで字幕イベント。
	//　　見張り台の上にオースティンとアドルが立っており、
	//　　２人で海の方を眺めている。

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Austen")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Austen" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Austen" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Austen" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Austen", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",18.13f,-1428.62f,32.34f)
	Turn("ADOL",-0.91f,360.0f)
	LookReset("ADOL")
	SetChrPos("Austen",17.29f,-1429.45f,32.34f)
	Turn("Austen",-29.83f,360.0f)
	LookReset("Austen")

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL", "ANI_EV_WAIT2", -1, 1 )	// 待機（腰に手）
	ChangeSubAnimation("Austen",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Austen",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Austen",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Austen" , "ANI_WAIT", -1 , 1 )

	MoveCameraAt( 0 , 16.599f , -1429.192f , 30.944f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.440f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.767f , 0 )	// 基本仰角
	RotateCamera( 0 , 248.645f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	if( FLAG[GF_05MP6330_LOOK_MONOLITH] && !FLAG[GF_05MP1201_GOTO_GHOSTHIP] ){		//幽霊船を目撃
		StopBGM(120)
	} else if (FLAG[GF_05MP1201_OCEANUS_STANDBY] && !FLAG[GF_05MP1201_HOLD_PARTY]){		// オケアノス戦前
		StopBGM(120)
	} else if (FLAG[GF_TBOX_DUMMY087] && !FLAG[GF_07MP1202_AWAKE_ADOL]){		// ６話以降～ラスボス戦
		StopBGM(120)
	} else if(WORK[WK_ISINTERCEPT] == 1){	//迎撃戦中
		StopBGM(120)
	}

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 100.000 ,1.000 ,0.700 ,0.600)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Austen_ED")

//開始処理ここまで-----------------------------------------------

	// カット1 ----------------------------------------------------------------------------------------

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 16.599f , -1429.192f , 32.764f , 100 )
	
	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
		
	// カット2 ----------------------------------------------------------------------------------------

	PlayBGM(BGM_TOWN_501, 15)

	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , 17.863f , -1429.700f , 33.844f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.219f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.817f , 0 )	// 基本仰角
	RotateCamera( 0 , 9.542f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.668f , -1429.549f , 33.844f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.219f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.676f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 338.028f , 900 )
	
	// フェード待ち
	Wait(FADE_NORMAL)

	FadeBGM(70,10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	ChangeAnimation( "Austen", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// オースティン
	TalkMes("Austen","#4869V#000e#080mしかし、いい眺めだ──","","")
	WaitPrompt()

	// オースティン
	TalkMes("Austen","#4870V#011e#000m最初は何もないと感じた漂流村だが……","村2行目","")
	WaitPrompt()

	// オースティン
	TalkMes("Austen","#4871V#012e#080mこのように雄大な自然があり、",
		"何よりアドルやみんながいる。","")
	WaitPrompt()

	ChangeAnimation( "Austen", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// オースティン
	TalkMes("Austen","#4872V#081e#080mもちろん脅威も多いが……",
		"ここには大陸にはない豊かさがあるな。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	LookChr("ADOL", "Austen")
	ChangeAnimation( "ADOL", "ANI_EV_WAIT2_E", -1, 1 )	// 待機（腰に手）
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"急にどうしたんだい？")
	MenuAdd(2,"確かにその通りだね")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	if (FLAG[TF_MENU_SELECT] == 1) {
		PlayVoice(Y8V_0190,"ADOL",100)	//どうした？（相手を気遣う、フラット～優しめのテンション）
	}else{
		PlayVoice(Y8V_0164,"ADOL",100)	//ああ…（相槌）
	}
	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	//──────────────────────
	//	⇒急にどうしたんだい？
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		Look("Austen", 0.0f, -10.0f)	// うつむく
		
		// オースティン
		TalkMes("Austen","#4873V#011e#080mハハ、柄じゃあなかったか？","","")
		WaitPrompt()

		// オースティン
		TalkMes("Austen","#4874V#010e#080mだが、こんな僕にも",
			"思うところがあってな。","")
		WaitPrompt()
		WaitCloseWindow()

	}
	//	⇒確かにその通りだね
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		Look("Austen", 0.0f, -10.0f)	// うつむく
		
		// オースティン
		TalkMes("Austen","#4875V#011e#080mフフ、流石はアドル。","","")
		WaitPrompt()

		// オースティン
		TalkMes("Austen","#4876V#010e#080mそんなこと最初から",
			"分かっているという顔だな。","")
		WaitPrompt()
		WaitCloseWindow()

	}
	//──────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 17.696f , -1429.285f , 33.884f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.939f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.615f , 0 )	// 基本仰角
	RotateCamera( 0 , 88.912f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.907f , -1428.987f , 33.884f , 450 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.179f , 450 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.615f , 450 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 83.221f , 450 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	//　　オースティンに「…」エモーション。アドルの方を見る。
	EmotionEx("Austen", 0.00f, EMO_3DOT, 0, 5, 1, 1, 0.9f)	//…
	Wait(50)
	ChangeSubAnimation("Austen", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	LookChr("Austen" , "ADOL")
	Turn("Austen", -100.89f, 5.0f)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// オースティン
	TalkMes("Austen","#4877V#000e#000m僕は貴族ということもあって",
		"自分が特別な存在だと思っていたが……","")
	WaitPrompt()

	ChangeAnimation( "Austen", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// オースティン
	TalkMes("Austen","#4878V#000e#000mここで生活をしている内に",
		"決してそうではないと気付かされてな。","")
	WaitPrompt()

	ChangeAnimation( "Austen", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// オースティン
	TalkMes("Austen","#4879V#011e#000mここではそれぞれに役割がある……",
		"漂流村はいわば世の中の縮図だ。","")
	WaitPrompt()

	// オースティン
	TalkMes("Austen","#4880V#012e#000m自分はあくまでも",
		"その中の一人にしか過ぎない。","")
	WaitPrompt()
	
	ChangeAnimation( "Austen", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// オースティン
	TalkMes("Austen","#4881V#011e#000mそして貴族も……",
		"世の中の一部にしか過ぎない。","")
	WaitPrompt()

	// オースティン
	TalkMes("Austen","#4882V#012e#000m僕には類稀なる芸術の",
		"センスがあるとはいえ……","")
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Austen", "ANI_EV_AKIRE", -1, 1 )	// あきれ
	ChangeSubAnimation("Austen", SUBMOT_EYE, ANI_E_SAD_S, 1)	// 目

	// オースティン
	TalkMes("Austen","#4883V#050e#000mこの状況では何の役にも立たないし、",
		"正直恥ずかしいとさえ感じるのだ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"そんなことはないさ")
	MenuAdd(2,"演奏があるじゃないか")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//──────────────────────
	//	⇒そんなことはないさ
	if (FLAG[TF_MENU_SELECT] == 1) {

		PlayVoice(Y8V_0166,"ADOL",100)	//いや…（否定）

		HeadNo("ADOL", 1, 35)	// キャラ, 回数, 速さ
		//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(35)
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)
	
		// オースティン
		TalkMes("Austen","#4884V#052e#080mフッ、君は優しいな。",
			"慰めでも嬉しいよ。","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒演奏があるじゃないか
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		PlayVoice(Y8V_0165,"ADOL",100)	//それは…（真剣な受け答え）
		
		// 手振りセット
		ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
		//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)
		
		// オースティン
		TalkMes("Austen","#4885V#081e#080mハハ、何度も言っているが",
			"あれは大した才能じゃない。","")
		WaitPrompt()

		// オースティン
		TalkMes("Austen","#4886V#011e#000m才能というのは独創性──",
			"僕の音楽はただの模倣だからな。","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//──────────────────────

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 17.817f , -1429.040f , 33.664f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.599f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.905f , 0 )	// 基本仰角
	RotateCamera( 0 , 266.165f , 0 )				// 角度
	ChangeCameraPers( 0 , 55.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
//	Turn("ADOL", 30.71f, 360.0f)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.817f , -1429.040f , 33.904f , 450 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.299f , 450 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.046f , 450 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 277.038f , 450 )

	// フェード待ち
	Wait(FADE_CROSS)

	// オースティン
	TalkMes("Austen","#4887V#000e#000mただ自分にしか果たせない",
		"役割があるのだとしたら……","")
	WaitPrompt()
	
	// オースティン
	TalkMes("Austen","#4888V#000e#000m僕はそれを全うできる人間になりたい。","","")
	WaitPrompt()
	
	ChangeAnimation( "Austen", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	// オースティン
	TalkMes("Austen","#4889V#000e#000mそれが何かはまだ分からないが……",
		"決意だけでもアドルに伝えておきたくてな。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"立派な心掛けだね")
	MenuAdd(2,"だから演奏があるじゃないか")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0156,"ADOL",100)	//ああ（肯定）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	MoveCameraAt( 0 , 17.700f , -1429.067f , 33.884f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.299f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.184f , 0 )	// 基本仰角
	RotateCamera( 0 , 109.705f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.700f , -1429.067f , 33.884f , 600 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.299f , 600 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.248f , 600 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 77.343f , 600 )

	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	//──────────────────────
	//	⇒立派な心掛けだね
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		ChangeAnimation( "Austen", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
		LookReset("Austen")
		Look("Austen", 0.0f, -10.0f)	// うつむく
		
		// オースティン
		TalkMes("Austen","#4890V#011e#080mフフ、君にそう言われると",
			"素直に嬉しいな。","")
		WaitPrompt()
		
	}
	//	⇒だから演奏があるじゃないか
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// オースティン
		TalkMes("Austen","#4891V#030e#000mき、君もしつこいな……！","","")
		WaitPrompt()
		
		ChangeAnimation( "Austen", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
		LookReset("Austen")
		Look("Austen", 0.0f, -10.0f)	// うつむく
		
		// オースティン
		TalkMes("Austen","#4892V#011e#080mだが演奏か……",
			"確かに受けは一番いいが……","")
		WaitPrompt()
		
	}
	//──────────────────────

	LookChr("Austen", "ADOL")

	// オースティン
	TalkMes("Austen","#4893V#000e#000mまあなんだ、",
		"とにかく改めてよろしく頼む。","")
	WaitPrompt()
	
	ChangeAnimation( "Austen", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	
	// オースティン
	TalkMes("Austen","#4894V#000e#080m全員の力を合わせて、",
		"必ずこの島から脱出しようじゃないか！","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドルが頷く。
	
	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(30)
	
//　　イベント終了、操作許可。
//　　※アドルを見張り台の足下に再配置。

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Austen_ED")
}
function "Sinai_Austen_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	SetChrPos("Austen", -100000.00f, 0.00f, 0.00f)		// 彼方へ

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_AUSTEN, 1 )			// 親愛イベントを見た（オースティン）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（オースティン）	名声値+2
		//SetDiaryCharaFlag( DRCHA_AUSTEN, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（オースティン）
		//SetDiaryCharaFlag( DRCHA_AUSTEN2, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（オースティン）

		SetFlag(GF_GALL_EV_LIKE_19,1)			// Sinai_Austen

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",24.24f,-1423.41f,10.83f)
		Turn("LEADER",-122.86f,360.0f)

		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

		FadeBGM(100, 30)
		SetEnvSEPlayState(-1, 1)

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// カトリーン：▼親愛イベント
function "Sinai_Katrin"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Katrin")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Katrin" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Katrin" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Katrin" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",-1.13f,-1418.60f,16.55f)
	Turn("ADOL",92.98f,360.0f)
	LookReset("ADOL")
	SetChrPos("Katrin",-2.32f, -1418.53f, 16.55f)
	Turn("Katrin",-85.72f,360.0f)
	LookReset("Katrin")

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Katrin" , "ANI_WAIT", -1 , 1 )

	MoveCameraAt( 0 , -1.530f , -1418.583f , 17.854f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.080f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.734f , 0 )	// 基本仰角
	RotateCamera( 0 , 121.613f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 100.000 ,1.000 ,0.700 ,0.600)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Katrin_ED")

//開始処理ここまで-----------------------------------------------

	//　　暗転を挟んで字幕イベント。場所は鍛冶屋前。	//◆仮入力：キャラ配置

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------

	StopBGM(120)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -1.530f , -1418.583f , 17.994f , 300 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.840f , 300 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.880f , 300 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 126.200f , 300 )

	// フェード
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　カトリーンがアドルの剣を見る。
	LookTo("Katrin", -0.954f , -1418.167f , 17.674f)	// 座標：アドルの剣の柄
	Wait(10)
	
	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	ChangeAnimation( "Katrin", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// カトリーン
	TalkMes("Katrin","#4080V#000e#000mそれにしても……ふむ。","","")
	WaitPrompt()

	PlayBGM(BGM_TOWN_501, 0)
	FadeBGM(70,0)

	LookChr("Katrin", "ADOL")

	// カトリーン
	TalkMes("Katrin","#4081V#000e#080mこの島で、貴方の剣の腕にも",
		"ますます磨きがかかったようね。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"まだまだこれからです")
	MenuAdd(2,"貴女のおかげです")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//──────────────────────
	//	⇒まだまだこれからです
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		PlayVoice(Y8V_0167,"ADOL",100)	//いえ…（目上に対する否定）

		HeadNo("ADOL", 1, 30)	// キャラ, 回数, 速さ
		//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(25)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)
		
		// カトリーン
		TalkMes("Katrin","#4082V#011e#080mふふ、既にそこまで剣を",
			"扱えるのに素晴らしい向上心ね。","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒貴女のおかげです
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		PlayVoice(Y8V_0159,"ADOL",100)	//ええ（目上に対する肯定）

		HeadYes("ADOL", 1, 25)	// キャラ, 回数, 速さ
		//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(25)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)
		
		// カトリーン
		TalkMes("Katrin","#4083V#011e#080mふふ、貴方ほどの剣士に",
			"そう言われて悪い気はしないわね。","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//──────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -1.653f , -1418.617f , 18.134f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.360f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.130f , 0 )	// 基本仰角
	RotateCamera( 0 , 57.138f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -1.949f , -1418.653f , 18.014f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.880f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 6.000f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 58.294f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 9.2f , 600 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	//　　カトリーンに「…」エモーション。
	EmotionEx("Katrin", 0.00f, EMO_3DOT, 0, 5, 1, 1, 0.9f)	//…
	Wait(45)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// カトリーン
	TalkMes("Katrin","#4084V#010e#000m祖父の真似事を脱却するために必要な",
		"“私自身がどうありたいか”という問い……","")
	WaitPrompt()

	ChangeAnimation( "Katrin", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// カトリーン
	TalkMes("Katrin","#4085V#000mその答えが未だに見出せないと、",
		"貴方に言ったわね。","")
	WaitPrompt()

	// カトリーン
	TalkMes("Katrin","#4086V#011e#080mけれど今の貴方を見てようやく分かったわ。","貴方2行目","")
	WaitPrompt()
	WaitCloseWindow()

	// カット3 ----------------------------------------------------------------------------------------

	//　　カトリーンがアドルを見据える

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -1.288f , -1418.649f , 18.074f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.360f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.136f , 0 )	// 基本仰角
	RotateCamera( 0 , 117.329f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -1.419f , -1418.378f , 18.014f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.360f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.021f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 128.491f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -9.2f , 600 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Katrin", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// カトリーン
	TalkMes("Katrin","#4087V#000e#000m私はアドル──貴方のように",
		"人々の希望を切り拓く武器を打ちたい。","")
	WaitPrompt()

	ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	Look("Katrin", 0.0f, -10.0f)	// うつむく

	// カトリーン
	TalkMes("Katrin","#4088V#010e#000mそれは確かに私の中にあった“意志”。",
		"恐らくは幼い頃から持ち続けていたもの。","")
	WaitPrompt()

	// カトリーン
	TalkMes("Katrin","#4089V#010e#000m言葉にしたら何とも単純だけど……","","")
	WaitPrompt()

	ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	ChangeAnimation( "Katrin", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て
	Look("Katrin", 0.0f, 0.0f)	// うつむく戻す

	// カトリーン
	TalkMes("Katrin","#4090V#000e#080mこの島での経験や出会いを経て、",
		"今になってようやく掴むことができたわ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"きっかけになれて嬉しいです")
	MenuAdd(2,"これからも応援しています")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0161,"ADOL",100)	//はは（微笑）


	// うなずきパクパク
	HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(25)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	//──────────────────────
	//	⇒きっかけになれて嬉しいです
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// カトリーン
		TalkMes("Katrin","#4091V#081e#080mふふ、私の方こそ",
			"そう言われて嬉しく思うわ。","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒これからも応援しています
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// カトリーン
		TalkMes("Katrin","#4092V#081e#080mふふ、どうもありがとう。","","")
		WaitPrompt()
		
		ChangeAnimation( "Katrin", "ANI_EV_TEBURI", -1, 1 )	// 手振り
		
		// カトリーン
		TalkMes("Katrin","#4093V#082e#080m貴方にそう言って貰えると、",
			"何より励みになるわ。","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//──────────────────────

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(25)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -3.459f , -1422.916f , 19.187f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.978f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.121f , 0 )	// 基本仰角
	RotateCamera( 0 , 65.971f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -3.232f , -1420.643f , 17.727f , 400 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.978f , 400 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.744f , 400 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 84.880f , 400 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	// カトリーン
	TalkMes("Katrin","#4094V#000e#000m──いつか私は自分にしか",
		"実現できないランベルトとなってみせる。","")
	WaitPrompt()

	Look("Katrin", 0.0f, -10.0f)	// うつむく

	// カトリーン
	TalkMes("Katrin","#4095V#011e#000mそして今なら分かるわ。","","")
	WaitPrompt()

	// カトリーン
	TalkMes("Katrin","#4096V#012e#000m私が自らの“意志”に気付くこと──",
		"それこそが祖父の求めていたものなのだと。","")
	WaitPrompt()
	WaitCloseWindow()

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -2.163f , -1418.602f , 17.959f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.360f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -11.294f , 0 )	// 基本仰角
	RotateCamera( 0 , 122.372f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 2.4f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -2.163f , -1418.602f , 18.039f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.120f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.170f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 120.933f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -8.0f , 600 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)
	
	LookChr("Katrin", "ADOL")
	ChangeAnimation( "Katrin", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// カトリーン
	TalkMes("Katrin","#4097V#000e#080mアドル、その上でどうか覚えておいて。","覚えて2行目","")
	WaitPrompt()

	Look("Katrin", 0.0f, -10.0f)	// うつむく

	// カトリーン
	TalkMes("Katrin","#4098V#011e#080mいつか貴方が更なる冒険を経て、",
		"ロムンに立ち寄る機会があれば……","")
	WaitPrompt()

	Look("Katrin", 0.0f, 0.0f)	// うつむく戻す

	// カトリーン
	TalkMes("Katrin","#4099V#012e#080mその時はどうかぜひ、",
		"ランベルト工房を訪ねて欲しい。","")
	WaitPrompt()

	LookRoll("Katrin", -7.0f)	// かしげる

	// カトリーン
	TalkMes("Katrin","#4100V#081e#080mそうしたら今より成長した貴方に相応しい",
		"最高の剣を、この手で鍛えさせて貰うわ。","")
	WaitPrompt()

	LookRoll("Katrin", 0.0f)	// かしげる

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -2.111f , -1418.271f , 18.074f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.120f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.020f , 0 )	// 基本仰角
	RotateCamera( 0 , 236.430f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェード待ち
	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"必ず訪ねます")
	MenuAdd(2,"それは楽しみです")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0159,"ADOL",100)	//ええ（目上に対する肯定）


	// 手振りセット
	HeadYes("ADOL", 1, 25 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	ChangeAnimation( "Katrin", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	
	//──────────────────────
	//	⇒必ず訪ねます
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// カトリーン
		TalkMes("Katrin","#4101V#000e#000mそう言って貰えて光栄よ。","","")
		WaitPrompt()
		
		// カトリーン
		TalkMes("Katrin","#4102V#000e#000mいつの日か、貴方が現れるのを",
			"楽しみにしているわ。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒それは楽しみです
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// カトリーン
		TalkMes("Katrin","#4103V#000e#000mええ、私も楽しみよ。","","")
		WaitPrompt()

		// カトリーン
		TalkMes("Katrin","#4104V#000e#000mそれまでに私も、今より一回りも二回りも",
			"成長していると誓いましょう。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

//　　イベント終了、操作許可。
//　　※アドルを鍛冶屋前に再配置。

	Wait(10)

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Katrin_ED")
}
function "Sinai_Katrin_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	SetChrPos("Katrin", -100000.00f, 0.00f, 0.00f)		// 彼方へ

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_KATRIN, 1 )			// 親愛イベントを見た（カトリーン）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（カトリーン）	名声値+2
		//SetDiaryCharaFlag( DRCHA_KATRIN, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（カトリーン）

		SetFlag(GF_GALL_EV_LIKE_20,1)			// Sinai_Katrin

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",0.70f,-1418.88f,16.55f)
		Turn("LEADER",-80.89f,360.0f)

		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(30)
		SetEnvSEPlayState(-1, 1)
		FadeBGM(100, 30)

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// グリゼルダ：▼親愛イベント
function "Sinai_Griselda"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Griselda")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Griselda" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Griselda" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Griselda" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Griselda", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",-6.41f, -1472.10f, 24.48f)
	Turn("ADOL",77.35f,360.0f)
	LookReset("ADOL")
	SetChrPos("Griselda",-7.56f,-1472.41f,24.52f)
	Turn("Griselda",75.82f,360.0f)
	LookReset("Griselda")
	
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Griselda",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Griselda",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Griselda",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Griselda" , "ANI_WAIT", -1 , 1 )

	MoveCameraAt( 0 , -6.706f , -1472.212f , 25.322f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.600f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.062f , 0 )	// 基本仰角
	RotateCamera( 0 , 89.970f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 120.000 ,1.000 ,0.700 ,0.600)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Griselda_ED")

//開始処理ここまで-----------------------------------------------

	//　　暗転を挟んで字幕イベント。
	//　　集落上段・高台の奥にグリゼルダが立っている。

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------
	
	ChangeAnimation( "Griselda", "ANI_EV_RYOTEKOSI", -1, 1 )	// 両手腰

	StopBGM(150)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -6.706f , -1472.232f , 25.962f , 300 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.640f , 300 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.807f , 300 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 64.187f , 300 )
	
	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// グリゼルダ
	TalkMes("Griselda","#5167V#000e#000mふう、ここは何とも景色が良いな。","","")
	WaitPrompt()
	WaitCloseWindow()


	ChangeAnimation( "Griselda", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	WaitAnimation2("Griselda", -1, 1, "ANI_EV_RYOTEKOSI_E", 0)

	//　　グリゼルダがアドルの方を振り向く。
	TurnToChr("Griselda" , "ADOL" , 8.0f)
	LookChr("Griselda" , "ADOL")

	PlayBGM(BGM_EVENT_005, 0)
	FadeBGM(70, 0)

	// グリゼルダ
	TalkMes("Griselda","#5168V#000e#000m突然付き合わせてすまない。","突然2行目","")
	WaitPrompt()
	
	// グリゼルダ
	TalkMes("Griselda","#5169V#011e#080m貴殿には改めて直接",
		"礼を言っておきたくてな。","")
	WaitPrompt()
	
	ChangeAnimation( "Griselda", "ANI_EV_TEWATASI_S", -1, 1 )	// 手渡し
	
	// グリゼルダ
	TalkMes("Griselda","#5170V#012e#080mこれは私からのほんの気持ちだ。",
		"ぜひ受け取って欲しい。","")
	WaitPrompt()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(10)

	//アイテム入手テキスト
	//「貴石のブローチを手に入れた。」
	GetItemMessageExPlus(ICON3D_AC_056, 1, ITEMMSG_SE_JINGLE, "を手に入れた。", 0, 0)
	WaitPrompt()
	WaitCloseWindow()

	FadeBGM(70, 10)

	ChangeAnimation( "Griselda", "ANI_EV_TEWATASI_E", -1, 1 )	// 手渡し
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"これは一体？")
	MenuAdd(2,"こんな高価な物は受け取れない")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -7.132f , -1472.442f , 26.022f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.920f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.807f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 76.800f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -11.7f , 600 )		// ロール回転


	PlayVoice(Y8V_0181,"ADOL",100)	//え…？（疑問）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	ChangeAnimation( "Griselda", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	//──────────────────────
	//	⇒これは一体？
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// グリゼルダ
		TalkMes("Griselda","#5171V#011e#080mフフ、私の手持ちの品の中で",
			"貴殿にも似合いそうな物を選んでみた。","")
		WaitPrompt()

		// グリゼルダ
		TalkMes("Griselda","#5172V#012e#080m必要なければ、島を脱出してから",
			"売ってくれても構わない。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒こんな高価な物は受け取れない
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// グリゼルダ
		TalkMes("Griselda","#5173V#011e#080m貴殿ほど気の利いたものではないが",
			"私の精一杯の気持ちだ。","")
		WaitPrompt()

		// グリゼルダ
		TalkMes("Griselda","#5174V#012e#080mどうか受け取って欲しい。","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　グリゼルダに「…」エモーション。
	EmotionEx("Griselda", 0.00f, EMO_3DOT, 0, 5, 1, 1, 0.8f)	//…
	ChangeSubAnimation("Griselda", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	ChangeSubAnimation("Griselda",SUBMOT_MOUTH,ANI_M_WAIT,1)

	Look("Griselda", 0.0f, -10.0f)	// うつむく
	Wait(50)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	ChangeSubAnimation("Griselda", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	
	ChangeAnimation( "Griselda", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	Look("Griselda", 0.0f, 0.0f)	// うつむく

	// グリゼルダ
	TalkMes("Griselda","#5175V#000e#000m突然だが、貴殿は",
		"ロムン帝国のことをどう思う？","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -7.253f , -1472.549f , 26.022f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.920f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.922f , 0 )	// 基本仰角
	RotateCamera( 0 , 320.182f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 2.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// フェード待ち
	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"強い国、でしょうか")
	MenuAdd(2,"窮屈な国かもしれません")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0188,"ADOL",100)	//ええと…（相手に声をかける）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	//──────────────────────
	//	⇒強い国、でしょうか
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// グリゼルダ
		TalkMes("Griselda","#5176V#000e#000mそれは軍事力という意味か？","","")
		WaitPrompt()
		
		HeadNo("Griselda", 1, 30)	// キャラ, 回数, 速さ
		
		// グリゼルダ
		TalkMes("Griselda","#5177V#000e#000m……だとしたら誇れるものではないな。","","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒窮屈な国かもしれません
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		HeadYes("Griselda", 1, 25)	// キャラ, うなずき回数, 速さ
		
		// グリゼルダ
		TalkMes("Griselda","#5178V#000e#000mそうだな……金や権威を",
			"持たない人間にはなおさらだ。","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//──────────────────────


	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -7.513f , -1472.036f , 26.022f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.920f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.061f , 0 )	// 基本仰角
	RotateCamera( 0 , 127.202f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -7.341f , -1472.358f , 26.022f , 1050 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.920f , 1050 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.951f , 1050 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 75.040f , 1050 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 1050 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -9.7f , 1050 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)


	//　　グリゼルダが何かしらアクション。
	ChangeAnimation( "Griselda", "ANI_EV_UDEGUMI_S", -1, 1 )

	// グリゼルダ
	TalkMes("Griselda","#5179V#000e#000mロムンは侵略戦争によって",
		"年々その版図を広げているが……","")
	WaitPrompt()

	// グリゼルダ
	TalkMes("Griselda","#5180V#011e#000m実際の所、その征服欲は",
		"留まることを知らぬのが現状だ。","")
	WaitPrompt()

	ChangeAnimation( "Griselda", "ANI_EV_UDEGUMI_E", -1, 1 )

	// グリゼルダ
	TalkMes("Griselda","#5181V#012e#000mアドル、ここだけの話なのだが……","ここだけ2行目","")
	WaitPrompt()

	// グリゼルダ
	TalkMes("Griselda","#5182V#000e#000mロムン軍内部には貴殿の行動に",
		"目を付け始めた輩がいるようだ。","")
	WaitPrompt()

	ChangeAnimation( "Griselda", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// グリゼルダ
	TalkMes("Griselda","#5183V#000e#000mセルセタの一件でもそうだったが、",
		"これからも迷惑をかけるやもしれん。","")
	WaitPrompt()

	// グリゼルダ
	TalkMes("Griselda","#5184V#000e#000mくれぐれも注意してくれ。","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し


	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -7.441f , -1470.980f , 25.482f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.120f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.518f , 0 )	// 基本仰角
	RotateCamera( 0 , 245.396f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -7.871f , -1472.017f , 25.482f , 600 )

	// フェード待ち
	Wait(FADE_CROSS)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"お気遣いに感謝します")
	MenuAdd(2,"殿下はお優しいですね")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0159,"ADOL",100)	//ええ（目上に対する肯定）


	// うなずきパクパク
	HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(30)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	
	ChangeAnimation( "Griselda", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	Wait(10)
	
	//──────────────────────
	//	⇒感謝します
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// グリゼルダ
		TalkMes("Griselda","#5185V#000e#000mフッ、感謝するのはこちらの方だ。","","")
		WaitPrompt()
		WaitCloseWindow()
		
		// グリゼルダ
		TalkMes("Griselda","#5186V#000e#000m貴殿を見ていると、",
			"いつも勇気づけられる。","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒殿下はお優しいですね
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// グリゼルダ
		TalkMes("Griselda","#5187V#000e#000mフッ、そんな風に持ち上げても",
			"これ以上は何も出ぬぞ。","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//──────────────────────

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_NORMAL)

	// カメラ停止
	StopThread(1000)
	
	// カメラ
	MoveCameraAt( 0 , -6.936f , -1472.097f , 25.862f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.160f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.493f , 0 )	// 基本仰角
	RotateCamera( 0 , 142.154f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -11.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -6.936f , -1472.097f , 26.022f, 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.160f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 5.071f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 131.848f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -1.1f , 600 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_NORMAL)

	ChangeAnimation( "Griselda", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	Wait(10)

	// グリゼルダ
	TalkMes("Griselda","#5188V#011e#080mフフ、礼を言うつもりが逆に",
		"私の方が励まされてしまったようだ。","")
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "Griselda", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	Wait(10)
	
	// グリゼルダ
	TalkMes("Griselda","#5189V#012e#080m……レオにも言われているが私も",
		"本国における身の処し方を考えねばな。","")
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Griselda", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て
	Wait(10)

	// グリゼルダ
	TalkMes("Griselda","#5190V#000e#080mともあれ、脱出しなければ何も始まらん。",
		"どうか最後までよろしく頼むぞ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	Wait(20)

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

//　　イベント終了、操作許可。
//　　※アドルを中央上段・高台の前（17.04f, -1451.75f, 19.68f ,-149.83f）に再配置。

	FadeOut(FADE_BLACK,45)
	WaitFade()

	Wait(30)

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Griselda_ED")
}
function "Sinai_Griselda_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	SetChrPos("Griselda", -100000.00f, 0.00f, 0.00f)		// 彼方へ

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{

		//フラグ立て・アイテム入手
		SetFlag( GF_SUBEV_SINAI_GRISELDA, 1 )		// 親愛イベントを見た（グリゼルダ）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（グリゼルダ）	名声値+2
		//SetDiaryCharaFlag( DRCHA_GRISELDA, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（グリゼルダ）
		GetItem(ICON3D_AC_056, 1)	//貴石のブローチ

		SetFlag(GF_GALL_EV_LIKE_22,1)			// Sinai_Griselda

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",17.04f, -1451.75f, 19.68f)
		Turn("LEADER",-149.83f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

		FadeBGM(100, 30)
		SetEnvSEPlayState(-1, 1)	//環境SE

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// サハド：▼親愛イベント
function "Sinai_Sahad"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Sahad")
	LoadChr("Dina")
	LoadChr("Miralda")
	LoadChr("Dogi")
	LoadChr("Aaron")
	LoadChr("Kuina")
	
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Sahad" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Sahad" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Sahad" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Sahad", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",27.89f, -1419.98f, 10.83f)
	Turn("ADOL",11.66f,360.0f)
	LookReset("ADOL")
	SetChrPos("Sahad",25.73f,-1420.71f,10.83f)
	Turn("Sahad",-46.79f,360.0f)
	LookReset("Sahad")
	
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Sahad",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Sahad",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Sahad",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Sahad" , "ANI_WAIT", -1 , 1 )

	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeAnimation( "Aaron" , "ANI_WAIT", -1 , 1 )
	ChangeAnimation( "Dina" , "ANI_WAIT", -1 , 1 )
	ChangeAnimation( "Kuina" , "ANI_WAIT", -1 , 1 )
	ChangeAnimation( "Miralda" , "ANI_WAIT", -1 , 1 )

	MapHide("fire_alpha", 1)
	MapAnime("fire_alpha", "on")

	MapHide( "que01" , 1 )				//中央焚火の魚料理(サハドの親愛イベント)

	MoveCameraAt( 0 , 27.079f , -1421.961f , 12.732f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.080f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.597f , 0 )	// 基本仰角
	RotateCamera( 0 , 35.280f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 90.000 ,1.000 ,0.700 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Sahad_ED")

//開始処理ここまで-----------------------------------------------

	//　　暗転を挟んで字幕イベント。
	//　　村の中央。サハドとアドルが焚き火で魚を焼いている。
	//　　（鍋的なオブジェがあればそれでもよい）

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------

	// 位置調整・表情・モーション
	ChangeAnimation( "ADOL", "ANI_EV_WAIT2_S", -1, 1 )	// しゃがみ
	ChangeAnimation( "Sahad", "ANI_EV_RYOTEKOSI", -1, 1 )	// 両手腰
	LookTo("ADOL", 27.044f , -1422.110f , 11.517f)	// 座標：焚き火中心
	LookTo("Sahad", 27.044f , -1422.110f , 11.517f)	// 座標：焚き火中心
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.362f , -1421.772f , 12.152f , 90 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.880f , 90 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.576f , 90 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 43.025f , 90 )

	PlayBGM(BGM_TOWN_501, 0)
	PlaySELabel(SE_SINAI_SAHAD_01, 30, 1, 9999, 2000, 0, 1.0f, 0)	//グツグツ

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// カット2 ----------------------------------------------------------------------------------------

	//　　いいニオイに気づいて何人かのＮＰＣが集まってくる無言劇。

	FadeSELabel(SE_SINAI_SAHAD_01, 9999, 30, 15, 15 )

	// クロスフェード
	CrossFade(FADE_NORMAL)

	// カメラ
	MoveCameraAt( 0 , 28.453f , -1424.161f , 12.137f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.599f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.827f , 0 )	// 基本仰角
	RotateCamera( 0 , 33.198f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 30.419f , -1420.989f , 13.017f , 210 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.599f , 210 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 17.000f , 210 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 97.656f , 210 )

	SetChrPos("Dina",22.15f,-1422.15f,10.83f)
	Turn("Dina",-94.07f,360.0f)
	ExecuteCmd( 1, MoveTo, "Dina",24.35f,-1422.04f,10.83f 0.1f, 0.16 )

	SetChrPos("Miralda",25.30f,-1425.65f,10.83f)
	Turn("Miralda",-148.35f,360.0f)
	ExecuteCmd( 2, MoveTo, "Miralda", 25.65f, -1424.37f, 10.83f, 0.1f, 0.16f )

	Wait(10)

	SetChrPos("Kuina",32.19f,-1419.15f,10.83f)
	Turn("Kuina",64.52f,360.0f)
	ExecuteCmd( 3, MoveTo, "Kuina",28.87f,-1420.73f,10.83f, 0.1f, 0.16f )

	SetChrPos("Dogi",35.53f, -1419.24f, 10.83f)
	Turn("Dogi",73.86f,360.0f)
	LookChr("Dogi", "Sahad")
	ExecuteCmd( 4, MoveTo, "Dogi",29.78f,-1421.37f,10.83f, 0.1f, 0.195f )

	SetChrPos("Aaron",32.82f, -1416.38f, 10.83f)
	Turn("Aaron",47.33f,360.0f)
	LookChr("Aaron", "Sahad")
	ExecuteCmd( 5, MoveTo, "Aaron", 29.28f, -1419.67f, 10.83f, 0.1f, 0.185f )
	
	EmotionEx("Dina", 0.00f, EMO_ONPU, 0, 5, 1, 0, 1.0f )	// 「♪」
	Wait(70)
	
	LookChr("Sahad", "Dogi")
	Wait(10)
	EmotionEx("Sahad", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.2f )	// 「ワイワイ」
	ChangeAnimation( "Sahad", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// 両手腰手振り
	Wait(30)
	LookChr("ADOL", "Dogi")
	
	EmotionEx("Dogi", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.2f )	// 「ワイワイ」
	
	Wait(20)
	EmotionEx("Aaron", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.2f )	// 「ワイワイ」

	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	StopSELabel(9999, 2000)

	//　　暗転を挟んで集落丘方面のベンチ。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Sahad_ED")
}
function "Sinai_Sahad_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")
	
	MapHide( "que01" , 0 )				//中央焚火の魚料理(サハドの親愛イベント)

	//イベント前の状態を復帰
	RestoreEventState()

	SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット

	//イベント・ギャラリー中
	if(FLAG[TF_EVSKIP] && FLAG[SF_GALLERY_EVENT])
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}
	// 通常時
	else
	{
		PlayBGM(BGM_TOWN_501, 0)
		//SetFlag(SF_NOCHANGEBGM, 1)

		//LoadArg("map/mp1201/mp1201.arg")
		EventCue("mp1201:Sinai_SahadB")
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// ダーナ：▼親愛イベント
function "Sinai_Dana"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("DANA")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "DANA" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "DANA" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "DANA" , INFOFLAG_NOMAPATARICHECK )

	SetChrInfoFlag( "DANA" , INFOFLAG_FIXED )
	SetChrInfoFlag( "DANA" , INFOFLAG_NOATARI )

	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("DANA",CWK_BATTLEMODE,0)	

	SetChrPos("ADOL",18.09f, -1428.52f, 32.34f)
	Turn("ADOL",-179.77f,360.0f)
	LookChr("ADOL", "DANA")
	SetChrPos("DANA",18.07f, -1427.37f, 30.73f)	//18.07f, -1427.37f, 30.03f)
	Turn("DANA",55.19f,360.0f)
	LookReset("DANA")
	
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_EV_SHAGAMI", -1 , 1 )
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "DANA" , "ANI_CLIMB_WAIT", -1 , 1 )

	MapHide("flag", 0)	// 旗が邪魔なので消す

//	MoveCameraAt( 0 , 18.566f , -1427.090f , 32.064f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.761f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -15.329f , 0 )	// 基本仰角
//	RotateCamera( 0 , 88.786f , 0 )				// 角度
//	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 19.5f , 0 )				// ロール回転
MoveCameraAt( 0 , 18.323f , -1427.822f , 32.310f , 0 )	// 注視点
ChangeCameraDistance( 0 , 1.663f , 0 )		// 基本距離
ChangeCameraElevation( 0 , -10.769f , 0 )	// 基本仰角
RotateCamera( 0 , 149.164f , 0 )				// 角度
ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
RollCamera( 0 , -5.8f , 0 )				// ロール回転
// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。



	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 120.000 ,1.000 ,0.700 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Dana_ED")

//開始処理ここまで-----------------------------------------------

	//　　暗転を挟んで字幕イベントに。
	//　　村中央の見張り台に、アドルとダーナが登ってくる
	//　　（可能なら先に登ったアドルが手を貸して
	//　　　ダーナが頂上に立つ演出をやりたい）

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------

	LookSpd("ADOL", 0.1f, 0.1f, 0.1f )// ゆっくりめに首向き
	LookSpd("DANA", 0.1f, 0.1f, 0.1f )// ゆっくりめに首向き
//
//	// カメラ移動（Aイベント用）
////	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 18.566f , -1427.090f , 32.704f , 150 )		// 注視点
////	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.320f , 150 )		// 基本距離
////	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -15.045f , 150 )		// 基本仰角
////	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 152.945f , 150 )		// 角度
////	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 60.000f , 150 )		// 視野角
////	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -13.2f , 150 )		// ロール回転
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 18.323f , -1427.822f , 32.890f , 150 )		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.183f , 150 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -17.071f , 150 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 160.624f , 150 )		// 角度
//	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 60.000f , 150 )		// 視野角
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -11.8f , 150 )		// ロール回転
//
//	StopBGM(150)
//
//	// フェードイン
//	FadeIn(FADE_BLACK,FADE_NORMAL)
//	WaitFade()
//
//	Wait(70)
//
//	// フェードアウト
//	FadeOut(FADE_BLACK, FADE_NORMAL)
//	WaitFade()
//
//	// カット2 ----------------------------------------------------------------------------------------
//
//	//　　辺りを見渡す無言劇などを見せつつ、以下のナレーションを表示。
//	
//	// カメラ停止（Aイベント用）
//	StopThread(1000)
//	StopThread(1001)
//	StopThread(1002)
//	StopThread(1003)
//	StopThread(1004)
//	StopThread(1005)
//	
//	// カメラ
	MoveCameraAt( 0 , 14.803f , -1427.776f , 32.138f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.386f , 0 )	// 基本仰角
	RotateCamera( 0 , 291.681f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ResetChrInfoFlag( "DANA",INFOFLAG_FLING )
	ResetChrInfoFlag( "DANA" , INFOFLAG_FIXED )
	ResetChrInfoFlag( "DANA",INFOFLAG_INVISIBLE)
	
	SetChrPos("ADOL",17.30f,-1429.44f,32.34f)
	Turn("ADOL",-64.20f,360.0f)
	SetChrPos("DANA",18.22f,-1428.86f,32.34f)
	Turn("DANA",-1.82f,360.0f)
	LookReset("DANA")
	LookTo("DANA", 29.952f , -1450.844f , 33.864f)	// 座標：二人の視線の先
	LookReset("ADOL")
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeAnimation( "DANA", "ANI_WAIT", -1, 1)
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 15.734f , -1429.692f , 34.287f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 5.000f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -11.165f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 244.122f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 60.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 0.0f , 600 )		// ロール回転

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// ナレーション
	TalkMes(UNDEF,"#7Cアドルはダーナと見張り台に上り、",
		"#7C周辺を見渡してみた。","")
	WaitPrompt()

	ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_S", -1, 1 )	// 両手 尻組み

	// ナレーション
	TalkMes(UNDEF,"#7C幸い近くに古代種の姿は無く──","古代種2行目","")
	WaitPrompt()

	LookChr("ADOL", "DANA")

	// ナレーション
	TalkMes(UNDEF,"#7C束の間だが、２人は気の休まる",
		"#7Cひとときを過ごすのだった。","")
	WaitPrompt()

	StopBGM(90)

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	LookTo("ADOL", 29.952f , -1450.844f , 33.864f)	// 座標：二人の視線の先
	Wait(35)

	// カット3 ----------------------------------------------------------------------------------------

	//　　２人が景色を眺めているカメラでダーナが語りだす。
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , 18.140f , -1429.323f , 33.824f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.160f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.132f , 0 )	// 基本仰角
	RotateCamera( 0 , 72.642f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 18.140f , -1429.323f , 33.824f , 600 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.160f , 600 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.846f , 600 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 101.862f , 600 )

	// 位置調整・表情・モーション
	ChangeAnimation( "DANA", "ANI_WAIT", -1, 1 )	// 待機

	// フェード待ち
	Wait(FADE_CROSS)

	PlayBGM(BGM_EVENT_016, 0)
	FadeBGM(70,0)
	
	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// ダーナ
	TalkMes("DANA","#3007V#000e#000mラクリモサを止めたとしても、",
		"どうなるか分からないけど……","")
	WaitPrompt()

	ChangeAnimation( "DANA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// ダーナ
	TalkMes("DANA","#3008V#011e#080m……やっとここまで来たんだね。","","")
	WaitPrompt()

	LookRoll("DANA", 5.0f)	// かしげる

	// ダーナ
	TalkMes("DANA","#3009V#012e#080mこの時をずーっと待ち続けたから、",
		"さすがに感慨深いかな。","")
	WaitPrompt()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	Look("ADOL", -20 , 0 )
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKL_S,1)
	//Turn("ADOL",-90.85f,6.0f)
	Wait(10)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"一緒に頑張ろう")
	MenuAdd(2,"ありがとう、待ってくれて")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0161,"ADOL",100)	//はは（微笑）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	Wait(20)

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 17.946f , -1429.372f , 33.844f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.440f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.702f , 0 )	// 基本仰角
	RotateCamera( 0 , 344.785f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookChr("DANA", "ADOL")
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.648f , -1429.317f , 33.884f, 700 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.220f , 700 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.702f , 700 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 341.632f , 700 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 700 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 14.9f , 700 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	//────────────────────
	//	⇒一緒に頑張ろう
	if (FLAG[TF_MENU_SELECT] == 1) {

		// ダーナ
		TalkMes("DANA","#3010V#011e#080mうん、そうだね。","","")
		WaitPrompt()

		// ダーナ
		TalkMes("DANA","#3011V#012e#080m最後の戦い──私たちなら",
			"必ずやり遂げられるはずだよ。","")
		WaitPrompt()
		WaitCloseWindow()
		
		//　　ダーナ、ふと表情を曇らせて・・・エモーション
		Look("DANA", 0.0f, -5.0f)	// うつむく
		ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_SAD_S, 1)	// 目
		ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)	// 口		
		ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKL_S,1)
		EmotionEx("DANA", 0.00f, EMO_3DOT, 0, 5, 1, 1, 0.7f)	//…
		Wait(52)
		
		ChangeAnimation( "DANA", "ANI_EV_RYOTEMUNE_S", -1, 1 )	// 両手胸当て
		Look("DANA", 0.0f, -10.0f)	// うつむく
		
		// ダーナ
		TalkMes("DANA","#3012V#061e#000mでもその前に……",
			"やっぱり伝えておかないとね。","")
		WaitPrompt()

		LookChr("DANA", "ADOL")
		ChangeAnimation( "DANA", "ANI_EV_RYOTEMUNE_E", -1, 1 )	// 両手胸当て
		ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKL_E,1)

		// ダーナ
		TalkMes("DANA","#3013V#062e#000m実は私ね、アドルさんに１つ",
			"謝っておかないといけないんだ。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒ありがとう、待ってくれて
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// ダーナ
		TalkMes("DANA","#3014V#020e#080mあはは……でもここまで",
			"来られたのはアドルさんのおかげだよ。","")
		WaitPrompt()

		Look("DANA", 0.0f, -5.0f)	// うつむく

		// ダーナ
		TalkMes("DANA","#3015V#091e#080m出会えて本当に良かった……","","")
		WaitPrompt()

		ChangeAnimation( "DANA", "ANI_EV_RYOTEMUNE_S", -1, 1 )	// 両手胸当て
		Look("DANA", 0.0f, -10.0f)	// うつむく

		// ダーナ
		TalkMes("DANA","#3016V#092e#000mだから、やっぱり言っておかなくちゃ。","","")
		WaitPrompt()
		WaitCloseWindow()
		
		//　　ダーナ、ふと表情を曇らせて・・・エモーション
		ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)	// 目
		ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)	// 口		
		ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKL_S,1)
		EmotionEx("DANA", 0.00f, EMO_3DOT, 0, 5, 1, 1, 0.7f)	//…
		Wait(52)
		ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKL_E,1)
		
		LookChr("DANA", "ADOL")
		ChangeAnimation( "DANA", "ANI_EV_RYOTEMUNE_E", -1, 1 )	// 両手胸当て
		
		// ダーナ
		TalkMes("DANA","#3017V#062e#000m実は私ね、アドルさんに１つ",
			"謝っておかないといけないんだ。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	//　　アドルにＰＡエモーション
	//　　ダーナに向く。
	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKL_E,1)
	LookReset("ADOL")
	TurnToChr("ADOL", "DANA", 8.0f)
	Wait(15)

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , 17.624f , -1429.410f , 34.032f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.790f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -6.769f , 0 )	// 基本仰角
	RotateCamera( 0 , 236.833f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Turn("DANA",55.03f, 360.0f)
	LookChr("DANA", "ADOL")

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.546f , -1429.634f , 34.032f , 1000 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.790f , 1000 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -5.337f , 1000 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 260.041f , 1000 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 1000 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 0.3f , 1000 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_S", -1, 1 )	// 両手 尻組み

	// ダーナ
	TalkMes("DANA","#3018V#000e#080m私たちって、ちょっと",
		"不思議な縁があったよね。","")
	WaitPrompt()

	LookRoll("DANA", 15.0f)	// かしげる

	// ダーナ
	TalkMes("DANA","#3019V#011e#080mお互いの意識を共有していたり、",
		"こうして一緒に旅をする事になったり。","")
	WaitPrompt()

	LookRoll("DANA", 0.0f)	// かしげる
	ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_E", -1, 1 )	// 両手 尻組み

	// ダーナ
	TalkMes("DANA","#3020V#012e#080mそんな中で、私は心のどこかで",
		"確信するようになっていった。","")
	WaitPrompt()

	Look("DANA", 0.0f, -10.0f)	// うつむく

	// ダーナ
	TalkMes("DANA","#3021V#011e#000m今の地上で“最も輝く魂”を持つのは",
		"この人なんじゃないかって。","")
	WaitPrompt()

	LookChr("DANA", "ADOL")
	SetMotSpd("DANA" ,-1 , 0.6f )	// モーションスピード変更
	ChangeAnimation( "DANA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// ダーナ
	TalkMes("DANA","#3022V#050e#000mそう、アドルさんを《進化の護り人》に",
		"選んだのは私なんだと思う。","")
	WaitPrompt()
	WaitCloseWindow()

	
	// カット6 ----------------------------------------------------------------------------------------

	//　　カメラカットを切り替える

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , 18.136f , -1428.937f , 33.852f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.870f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.997f , 0 )	// 基本仰角
	RotateCamera( 0 , 326.499f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -12.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 18.118f , -1428.931f , 33.852f , 750 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.870f , 750 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.116f , 750 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 341.394f , 750 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 750 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 0.3f , 750 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	// ダーナ
	TalkMes("DANA","#3023V#061e#000m……この先、アドルさんにはとても",
		"辛い想いをさせてしまうかもしれない。","")
	WaitPrompt()

	ChangeAnimation( "DANA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// ダーナ
	TalkMes("DANA","#3024V#062e#041l#000m私は“涙の日#6Rラクリモサ#R”に抗ってきたつもりなのに……",
		"アドルさんには沢山助けられてきたのに……","")
	WaitPrompt()

	Look("DANA", 0.0f, -10.0f)	// うつむく

	// ダーナ
	TalkMes("DANA","#3025V#061e#042l#000mこんな事に巻き込んじゃって、",
		"本当にごめんなさい。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	SetMotSpd("DANA" ,-1 , 1.0f )	// モーションスピード変更

	// カット7 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , 17.697f , -1429.217f , 33.852f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.350f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.613f , 0 )	// 基本仰角
	RotateCamera( 0 , 142.112f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE, 1)	// 目
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)	// 口
	Look("ADOL", 0.0f, -5.0f)	// うつむく

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.832f , -1429.163f , 33.852f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.350f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.753f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 168.759f , 900 )

	// フェード待ち
	Wait(FADE_CROSS)

	//　　アドルに・・・エモーション
	EmotionEx("ADOL", 0.00f, EMO_3DOT, 0, 5, 1, 1, 0.8f)	//…
	Wait(50)

	//　　正面を向いてしっかりとした意思を感じさせる表情になる。
	Look("ADOL", 0.0f, 0.0f)	// うつむく戻す
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	Wait(10)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)	// 目
//	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_MAJI_S, 1)	// 目
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)	// 口
	Wait(10)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"謝る必要なんてない")
	MenuAdd(2,"むしろ君に選ばれて光栄だ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0162,"ADOL",100)	//フッ（微笑）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	
	Wait(10)
	LookChr("DANA", "ADOL")
	
	//────────────────────
	//	⇒謝る必要なんてない
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// ダーナ
		TalkMes("DANA","#3026V#000e#000mアドルさん……","","")
		WaitPrompt()

		// うなずきセット
		HeadYes("DANA" , 1 , 40 )
		ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		// ダーナ
		TalkMes("DANA","#3027V#000e#000m……そうだね。",
			"うん、今回はあの時とは違う。","")
		WaitPrompt()

		ChangeAnimation( "DANA", "ANI_EV_RYOTEMAE_S", -1, 1 )	// 両手 前組み
		LookTo("DANA", 17.420f , -1429.909f , 33.452f)	// 座標：アドルの剣の柄

		// ダーナ
		TalkMes("Dana","#3028V#000e#000m《想剣ミストルティン》──",
			"その剣があれば、きっと。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒むしろ君に選ばれて光栄だ
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		ChangeAnimation( "DANA", "ANI_EV_HOHOKAKI", -1, 1 )	// 頬かき
		
		// ダーナ
		TalkMes("DANA","#3029V#000e#000mあはは……そんなふうに言われると",
			"なんだか恥ずかしいなぁ。","")
		WaitPrompt()

		ChangeAnimation( "DANA", "ANI_EV_RYOTEMAE_S", -1, 1 )	// 両手 前組み
		LookTo("DANA", 17.420f , -1429.909f , 33.452f)	// 座標：アドルの剣の柄

		// ダーナ
		TalkMes("DANA","#3030V#000e#000mでも《想剣ミストルティン》──",
			"その剣があれば、きっと。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
	Wait(25)

	// カット8 ----------------------------------------------------------------------------------------

	//　　アドルがうなずき返し、
	//　　ダーナは少し明るさを取り戻す。

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 17.686f , -1429.327f , 33.692f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.351f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -7.335f , 0 )	// 基本仰角
	RotateCamera( 0 , 327.662f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 13.5f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.636f , -1429.509f , 33.872f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.111f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.258f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 335.669f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 7.5f , 600 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)
	
	LookChr("DANA", "ADOL")

	// ダーナ
	TalkMes("DANA","#3031V#080e#080mやっぱり想念の力は、アドルさんに",
		"受け取ってもらって良かったかな。","")
	WaitPrompt()

	ChangeAnimation( "DANA", "ANI_EV_RYOTEMAE_E", -1, 1 )	// 両手 前組み

	// ダーナ
	TalkMes("DANA","#3032V#091e#000m本当は私が手にすることも",
		"出来たかもしれないけど……","")
	WaitPrompt()

	ChangeAnimation( "DANA", "ANI_EV_HOHOKAKI", -1, 1 )	// 頬かき

	// ダーナ
	TalkMes("DANA","#3033V#020e#080mやっぱりアドルさんと",
		"最後まで一緒に戦いたくて。","")
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_LAUGH_E, 1)	// 目

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)
	
	//　　苦笑しつつ照れてみせるダーナ

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"そうだったのか……")
	MenuAdd(2,"ダーナにはいつも驚かされるな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 18.035f , -1429.078f , 33.792f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.871f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.181f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 354.573f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -0.3f , 600 )		// ロール回転

	PlayVoice(Y8V_0175,"ADOL",100)	//ふむ…（思案）

	ChangeAnimation( "ADOL", "ANI_EV_BORI", -1, 1 )	// 頭かき
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	//────────────────────
	//	⇒そうだったのか……
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		LookRoll("DANA", 10.0f)	// かしげる
		ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_S", -1, 1 )	// 両手 尻組み
		
		// ダーナ
		TalkMes("DANA","#3034V#021e#080mあはは、ごめんね。",
			"騙すつもりはなかったんだけど……","")
		WaitPrompt()

		LookRoll("DANA", 0.0f)	// かしげる戻す

		// ダーナ
		TalkMes("DANA","#3035V#022e#031l#080mでも、今考えてもこうするのが",
			"一番良かったって思ってる。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒ダーナにはいつも驚かされるな
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		Look("DANA", 0.0f, -5.0f)	// うつむく
		ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_S", -1, 1 )	// 両手 尻組み
		
		// ダーナ
		TalkMes("DANA","#3036V#050e#020l#080mうう、ついにアドルさんにまで",
			"言われてしまったなぁ……","")
		WaitPrompt()
	
		Look("DANA", 0.0f, 0.0f)	// うつむく戻す
	
		// ダーナ
		TalkMes("DANA","#3037V#052e#030l#080mでも、今考えてもこうするのが",
			"一番良かったって思ってる。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	//　　ダーナにＰＡエモーション
	EmotionEx("DANA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_SUP_S, 1)	// 目
	Wait(40)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_SUP_E, 1)	// 目


	ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_E", -1, 1 )	// 両手 尻組み
	
	// ダーナ
	TalkMes("DANA","#3038V#000e#032l#080m……そうだ。","","")
	WaitPrompt()

	WaitAnimation2("DANA", -1, 1, "ANI_EV_RYOTESIRI_E", 0)
	ChangeAnimation( "DANA", "ANI_EV_TEWATASI_S", -1, 1 )	// 手渡し

	// ダーナ
	TalkMes("DANA","#3039V#000e#080mアドルさん、これを",
		"持っていてくれないかな。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(10)
	//　　ダーナ、アドルに指環を渡す。

	//	アイテム入手テキスト
	//「古き封じの指環を受け取った。」
	GetItemMessageExPlus(ICON3D_AC_057, 1, ITEMMSG_SE_JINGLE, "を手に入れた。", 0, 0)	//古き封じの指環
	WaitPrompt()
	WaitCloseWindow()
	Wait(10)

	// カット9 ----------------------------------------------------------------------------------------

	FadeBGM(70,10)

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , 16.835f , -1429.358f , 34.181f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.355f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.885f , 0 )	// 基本仰角
	RotateCamera( 0 , 246.162f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeAnimation( "DANA", "ANI_EV_TEWATASI_E", -1, 1 )

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.697f , -1429.198f , 33.852f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.351f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.109f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 265.014f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -1.1f , 600 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)
	
	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	ChangeAnimation( "DANA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// ダーナ
	TalkMes("DANA","#3040V#000e#080mそう、これはお母さんの形見。","","")
	WaitPrompt()

	WaitAnimation2("DANA", -1, 1, "ANI_EV_TEMUNE_S", 0)
	ChangeAnimation( "DANA", "ANI_EV_RYOTEMUNE_S", -1, 1 )	// 両手胸当て
	Look("DANA", 0.0f, -10.0f)	// うつむく

	// ダーナ
	TalkMes("DANA","#3041V#011e#080m私の、みんなを助けたいっていう",
		"想いの原点かな。","")
	WaitPrompt()

	Look("DANA", 0.0f, 0.0f)	// うつむく戻す

	// ダーナ
	TalkMes("DANA","#3042V#012e#000m本当は理力を封じる指環だけど……","","")
	WaitPrompt()

	ChangeAnimation( "DANA", "ANI_EV_RYOTEMUNE_E", -1, 1 )	// 両手胸当て

	// ダーナ
	TalkMes("DANA","#3043V#080e#080m今はちょっと細工をしてあるから",
		"アドルさんの役に立つと思う。","")
	WaitPrompt()

	WaitAnimation2("DANA", -1, 1, "ANI_EV_RYOTEMUNE_E", 0)
	ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_S", -1, 1 )	// 両手 尻組み

	// ダーナ
	TalkMes("DANA","#3044V#080e#031l#080m……その剣と一緒に",
		"持っていてくれたら嬉しいかな。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ありがとう、大事にするよ")
	MenuAdd(2,"わかった、運命を切り拓こう")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0156,"ADOL",100)	//ああ（肯定）

	// うなずきパクパク
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	Wait(20)
	
	// カット10 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , 17.943f , -1429.218f , 33.852f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.872f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.540f , 0 )	// 基本仰角
	RotateCamera( 0 , 355.863f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -4.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.825f , -1429.262f , 33.852f , 450 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.351f , 450 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -3.904f , 450 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 10.758f , 450 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 450 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 9.2f , 450 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	//────────────────────
	//	⇒ありがとう、大事にするよ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// ダーナ
		TalkMes("DANA","#3045V#020e#080mふふっ……",
			"こちらこそありがとう。","")
		WaitPrompt()
	}
	//	⇒わかった、運命を切り拓こう
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// うなずきセット
		HeadYes("DANA" , 1 , 25 )
		ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
		Wait(15)
		
		// ダーナ
		TalkMes("DANA","#3046V#090e#080mうん、私たちが受け取った",
			"全ての想いに応えるためにも。","")
		WaitPrompt()
	}
	//────────────────────

	ChangeAnimation( "DANA", "ANI_EV_RYOTESIRI_E", -1, 1 )	// 両手 尻組み

	// ダーナ
	TalkMes("DANA","#3047V#000e#032l#080mアドルさん、一緒に戦おう。",
		"最後まで、諦めずにね。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドルは頷き返す。
	
	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
	Wait(30)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	StopBGM(90)

//　　暗転してイベント終了、操作許可。
//　　※アドルを集会所の焚き火前に再配置。

	FadeOut(FADE_BLACK,45)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Dana_ED")
}
function "Sinai_Dana_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_DANA")

	SetChrPos("DANA", -100000.00f, 0.00f, 0.00f)// 彼方へ

	ResetChrInfoFlag( "DANA",INFOFLAG_FLING )
	ResetChrInfoFlag( "DANA" , INFOFLAG_FIXED )
	ResetChrInfoFlag( "DANA",INFOFLAG_INVISIBLE)

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム入手
		SetFlag( GF_SUBEV_SINAI_DANA, 1 )			// 親愛イベントを見た（ダーナ）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（ダーナ）	名声値+2
		GetItem(ICON3D_AC_057, 1)	//古き封じの指環
		//SetDiaryCharaFlag( DRCHA_DANA, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（ダーナ）
		//SetDiaryCharaFlag( DRCHA_DANA2, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（ダーナ）

		SetFlag(GF_GALL_EV_LIKE_23,1)			// Sinai_Dana

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",29.42f,-1420.57f,10.83f)
		Turn("LEADER",-123.80f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		FadeBGM(100, 30)
		SetEnvSEPlayState(-1, 1)	//環境SE

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// ディナ：▼親愛イベント
function "Sinai_Dina"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()
	
	LoadChr("Dina")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Dina" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Dina" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Dina" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",17.73f,-1416.16f,11.58f)
	Turn("ADOL",100.85f,360.0f)
	LookReset("ADOL")
	SetChrPos("Dina",16.63f,-1415.97f,11.58f)
	Turn("Dina",-79.44f,360.0f)
	LookReset("Dina")

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Dina" , "ANI_WAIT", -1 , 1 )
	
	MoveCameraAt( 0 , 16.766f , -1416.991f , 13.408f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.310f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.077f , 0 )	// 基本仰角
	RotateCamera( 0 , 77.889f , 0 )				// 角度
	ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	if( FLAG[GF_05MP6330_LOOK_MONOLITH] && !FLAG[GF_05MP1201_GOTO_GHOSTHIP] ){		//幽霊船を目撃
		StopBGM(120)
	} else if (FLAG[GF_05MP1201_OCEANUS_STANDBY] && !FLAG[GF_05MP1201_HOLD_PARTY]){		// オケアノス戦前
		StopBGM(120)
	} else if (FLAG[GF_TBOX_DUMMY087] && !FLAG[GF_07MP1202_AWAKE_ADOL]){		// ６話以降～ラスボス戦
		StopBGM(120)
	} else if(WORK[WK_ISINTERCEPT] == 1){	//迎撃戦中
		StopBGM(120)
	}

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Dina_ED")

//開始処理ここまで-----------------------------------------------

	//　　暗転を挟んで字幕イベント。場所は倉庫前。

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------

	LookChr("Dina", "ADOL")
	LookChr("ADOL", "Dina")

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.210f , -1416.284f , 12.962f , 150 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.702f , 150 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.460f , 150 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 42.699f , 150 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 150 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -6.0f , 150 )		// ロール回転

	//MoveCameraAt( 0 , 17.210f , -1416.284f , 12.962f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 1.702f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.460f , 0 )	// 基本仰角
	//RotateCamera( 0 , 42.699f , 0 )				// 角度
	//ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -6.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	// カメラ待ち（Aイベント用）
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//	WaitThread(1004)
//	WaitThread(1005)

	Wait(30)

	PlayBGM(BGM_TOWN_501, 0)
	FadeBGM(70, 10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	ChangeAnimation( "Dina", "ANI_EV_TEWATASI_S", -1, 1 )	// 手渡し

	// ディナ
	TalkMes("Dina","#4355V#021e#080mはいコレ、アドルにあげる。","","")
	WaitPrompt()

	ChangeAnimation( "Dina", "ANI_EV_TEWATASI_E", -1, 1 )	// 手渡し
	ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_LAUGH_E, 1)	// 目
	
	GetItemMessageExPlus(ICON3D_GOLD_COIN_BAG, 1, ITEMMSG_SE_JINGLE, "を手に入れた。金", 0, 0)
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	Wait(10)

	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cディナから１０万デニル分の"
		"#7C金貨を押し付けられた。"
	}
	WaitPrompt()
	WaitCloseWindow()

//	//	ナレーション
//	TalkMes(UNDEF,"#7Cディナから１０万デニル分の",
//		"金貨を押し付けられた。","")
//	WaitPrompt()
//	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"これは一体？")
	MenuAdd(2,"こんな大金をどこで？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)


	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 16.987f , -1416.172f , 13.002f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.440f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.119f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 39.295f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 60.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 1.1f , 600 )		// ロール回転

	PlayVoice(Y8V_0188,"ADOL",100)	//ええと…（相手に声をかける）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	Wait(10)
	ChangeAnimation( "Dina", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組	
	//──────────────────────
	//	⇒これは一体？
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// ディナ
		TalkMes("Dina","#4356V#000e#080m見ての通り、お金よお金。",
			"この島じゃ何の役にも立たないけど。","")
		WaitPrompt()
		
		// ディナ
		TalkMes("Dina","#4357V#050e#000mって、別にそういうことが",
			"聞きたいわけじゃないわよね。","")	//（苦笑）
		WaitPrompt()
	}
	//	⇒こんな大金をどこで？
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// ディナ
		TalkMes("Dina","#4358V#000e#080mどこでって、アタシは商売人よ？",
			"元々持ってたに決まってるじゃない。","")
		WaitPrompt()
		WaitCloseWindow()

		// ディナ
		TalkMes("Dina","#4359V#011e#000mそれはともかく……","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , 17.357f , -1415.932f , 13.002f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.640f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.763f , 0 )	// 基本仰角
	RotateCamera( 0 , 101.453f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -6.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.377f , -1415.928f , 13.002f , 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.640f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -3.264f , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 127.834f , 900 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 900 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 12.3f , 900 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Dina", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// ディナ
	TalkMes("Dina","#4360V#000e#000mアドルは島から出た後も",
		"冒険で色々な所へ行くのよね？","")
	WaitPrompt()

	Look("Dina", 0.0f, -10.0f)	// うつむく

	// ディナ
	TalkMes("Dina","#4361V#011e#080mってなわけで、新しい冒険先で",
		"何か珍しい品物を手に入れたら……","")
	WaitPrompt()

	Look("Dina", 0.0f, 0.0f)	// うつむく戻す

	// ディナ
	TalkMes("Dina","#4362V#012e#080mこれまでと同じ要領でアタシの所に",
		"じゃんじゃん持って来てちょーだい。","")
	WaitPrompt()

	ChangeAnimation( "Dina", "ANI_EV_RYOTESIRI_S", -1, 1 )	// 両手 尻組み

	LookRoll("Dina", -10.0f)	// かしげる

	// ディナ
	TalkMes("Dina","#4363V#021e#080mまずは今渡した１０万デニル分──",
		"どうかよろしくね！","")
	WaitPrompt()
	WaitCloseWindow()
	
	LookRoll("Dina", 0.0f)	// かしげる戻す

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , 17.141f , -1416.015f , 13.002f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.640f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.675f , 0 )	// 基本仰角
	RotateCamera( 0 , 209.724f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.141f , -1416.015f , 13.002f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.640f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -6.347f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 227.774f , 900 )

	// フェード待ち
	Wait(FADE_CROSS)
	
	ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	Wait(10)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"……もしかして嵌められた？")
	MenuAdd(2,"僕は受け取ると言っていない")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0180,"ADOL",100)	//やれやれ…（溜息）
	ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_TEBURI", -1, 1 )	// 腕組手振り
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_KOMA_S,1)
	Wait(30)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示	
	Wait(10)
	
	ChangeAnimation( "Dina", "ANI_EV_RYOTESIRI_E", -1, 1 )	// 両手 尻組み
	LookChr("Dina", "ADOL")
	
	//──────────────────────
	//	⇒……もしかして嵌められた？
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// ディナ
		TalkMes("Dina","#4364V#000e#000mふふ、その様子だとアドルも",
			"断れないと分かってるみたいね。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒僕は受け取ると言っていない
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// ディナ
		TalkMes("Dina","#4365V#000e#000mふふふ……そうは行くもんですか。","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 17.141f , -1416.015f , 13.102f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.120f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.393f , 0 )	// 基本仰角
	RotateCamera( 0 , 48.449f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -4.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.141f , -1416.015f , 13.102f , 600 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.120f , 600 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.477f , 600 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 30.686f , 600 )

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Dina", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ディナ
	TalkMes("Dina","#4366V#000e#080m──残念だけど、既に契約は成立済みよ。","成立2行目","")
	WaitPrompt()
	
	WaitAnimation2("Dina", -1, 1, "ANI_EV_TEBURI", 0)
	LookReset("Dina")
	ChangeAnimation( "Dina", "ANI_EV_SIAN_S", -1, 1 )	// 思案

	// ディナ
	TalkMes("Dina","#4367V#011e#080m解除するならそうね、違約金は",
		"２０万デニルってところかしら。","")
	WaitPrompt()

	WaitAnimation2("Dina", -1, 1, "ANI_EV_SIAN_S", 0)
	LookChr("Dina", "ADOL")
	ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	ChangeAnimation( "Dina", "ANI_EV_SIAN_E", -1, 1 )	// 思案

	// ディナ
	TalkMes("Dina","#4368V#031e#080m分かったら、黙ってお宝を持ってきなさい！",
		"ディナ2行目","")
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルに「冷や汗」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD_CLOSE,1)
	Wait(50)

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , 15.380f , -1418.141f , 12.242f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.800f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.271f , 0 )	// 基本仰角
	RotateCamera( 0 , 342.214f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 16.684f , -1416.606f , 12.602f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.800f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 6.610f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 46.099f , 900 )

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Dina", "ANI_EV_BORI", -1, 1 )	// 頭かき

	// ディナ
	TalkMes("Dina","#4369V#050e#080mって、ごめんごめん──",
		"契約ってのはゼンブ冗談だから。","")
	WaitPrompt()

	// ディナ
	TalkMes("Dina","#4370V#052e#080mアドルの反応が楽しくて",
		"ついつい悪乗りしちゃったわ。","")
	WaitPrompt()

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)

	ChangeAnimation( "Dina", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ディナ
	TalkMes("Dina","#4371V#011e#000m実は何かしらの形で、",
		"アドルに感謝を示したくってさ。","")
	WaitPrompt()

	WaitAnimation2("Dina", -1, 1, "ANI_EV_TEBURI", 0)
	ChangeAnimation( "Dina", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// ディナ
	TalkMes("Dina","#4372V#012e#080mアタシに用意できるのは",
		"お金くらいだったからこうしたの。","")
	WaitPrompt()

	WaitAnimation2("Dina", -1, 1, "ANI_EV_TEMUNE_S", 0)
	ChangeAnimation( "Dina", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// ディナ
	TalkMes("Dina","#4373V#021e#080mだからそれは、気にせず取っておいて。",
		"ディナ2行目2","")
	WaitPrompt()
	WaitCloseWindow()

	// カット6 ----------------------------------------------------------------------------------------

	//　　ディナが何かしらモーション。

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 16.979f , -1416.038f , 12.782f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.160f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.612f , 0 )	// 基本仰角
	RotateCamera( 0 , 27.476f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 11.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 16.979f , -1416.038f , 13.002f , 450 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.160f , 450 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 8.619f , 450 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 97.986f , 450 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 450 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 5.2f , 450 )		// ロール回転

	// 非表示・再表示
	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 非表示
	
	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Dina", "ANI_EV_GUTSPOSE_S", -1, 1 )
	
	// ディナ
	TalkMes("Dina","#4374V#020e#080mなーに、それくらい島から出たら",
		"一瞬で稼いでみせるんだから！","")
	WaitPrompt()

	WaitAnimation2("Dina", -1, 1, "ANI_EV_GUTSPOSE_S", 0)
	ChangeAnimation( "Dina", "ANI_EV_GUTSPOSE_E", -1, 1 )

	// ディナ
	TalkMes("Dina","#4375V#022e#080mま、それでも要らないってんなら",
		"どこかに捨てるか寄付でもして頂戴。","")
	WaitPrompt()

	ChangeAnimation( "Dina", "ANI_EV_RYOTESIRI_S", -1, 1 )	// 両手 尻組み
	LookRoll("Dina", 10.0f)	// かしげる

	// ディナ
	TalkMes("Dina","#4376V#021e#080mフフ、それじゃあ引き続き頑張ろうね！","引き続き2行目","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	Wait(20)
	ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_LAUGH_E, 1)	// 目
	
	//　　イベント終了、操作許可。
	//　　※アドルを倉庫前に再配置。

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Dina_ED")
}
function "Sinai_Dina_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	SetChrPos("Dina", -100000.00f, 0.00f, 0.00f)	// 彼方へ
	LookRoll("Dina", 0.0f)	// かしげる戻す

	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_DINA, 1 )			// 親愛イベントを見た（ディナ）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（ディナ）	名声値+2
		//SetDiaryCharaFlag( DRCHA_DINA, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（ディナ）
		GetItem(ICON3D_GOLD_COIN_BAG, 1)	//金貨入りの袋

		SetFlag(GF_GALL_EV_LIKE_24,1)			// Sinai_Dina

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",17.19f,-1419.78f,11.58f)
		Turn("LEADER",-59.51f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

		FadeBGM(100, 30)
		SetEnvSEPlayState(-1, 1)

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// ドギ：▼親愛イベント
function "Sinai_Dogi"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Dogi")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",-0.29f, -1474.79f, 24.52f)
	Turn("ADOL",-71.49f,360.0f)
	LookReset("ADOL")
	SetChrPos("Dogi",0.62f, -1474.07f, 24.51f)
	Turn("Dogi",-3.53f,360.0f)
	LookReset("Dogi")
	
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL", "ANI_EV_SIT_C", -1, 1)
//	ChangeAnimation( "ADOL", "ANI_SC_MUGWAIT", -1, 1)
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
//	ChangeAnimation( "Dogi", "ANI_EV_SIT_C", -1, 1)	
	ChangeAnimation( "Dogi", "ANI_EV_SIT_C_CUP", -1, 1)

//	SetChrPos("ev_eq4016a",-0.37f, -1474.85f, 24.52f )	// （カップ）アドル
	SetChrPos("ev_eq4016b",0.62f, -1474.07f, 24.51f)	// （カップ）ドギ
//	ChangeAnimation( "ev_eq4016a", "ANI_WAIT_ADOL", -1, 1)
//	SetParent("ev_eq4016a", "ADOL", "Bone_Rhand")
	SetParent("ev_eq4016b", "Dogi", "Null_eq4016")

//	SetChrPos("ev_eq4016", -100000.00f, 0.00f, 0.00f)	// （マグ）
//	ChangeAnimation( "ev_eq4016", "ANI_WAIT_ADOL", -1, 1 )

	MoveCameraAt( 0 , 1.160f , -1475.690f , 26.243f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.560f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.332f , 0 )	// 基本仰角
	RotateCamera( 0 , 121.921f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MapHide( "que03" , 1 )				//崖のベンチ(ドギとのイベント)


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000 ,1.000 ,0.700 ,0.550)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Dogi_ED")

//開始処理ここまで-----------------------------------------------

	//　　ここで字幕イベントへ。
	//　　フェードインして中央上段・高台に座って飲んでいるアドルとドギ。
	//　　２人の間には酒とツマミが置かれている。

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 0.090f , -1474.490f , 25.723f , 140 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.880f , 140 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.241f , 140 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 96.141f , 140 )

	PlayBGM(BGM_TOWN_501, 0)

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Wait(60)
	FadeBGM(70,10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	Look("Dogi", 0.0f, -10.0f)	// うつむく

	// ドギ
	TalkMes("Dogi","#3577V#021e#080mカーッ……うめえ！！","","")
	WaitPrompt()

	Look("Dogi", 0.0f, 0.0f)	// うつむく

	// ドギ
	TalkMes("Dogi","#3578V#020e#080mこの久々に喉が焼ける",
		"感覚がたまんねえぜ！","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドル、調子よく飲むドギを見やって冷や汗エモーション
	LookChr("ADOL", "Dogi" )
	EmotionEx("ADOL", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_S, 1)	// 目
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(55)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"飛ばしすぎだよ")
	MenuAdd(2,"ツマミは食べないの？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0179,"ADOL",100)	//ふう…（溜息）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_SC_TEBURI", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	
	Look("Dogi", 40.0f, 20.0f)	// ←（＾＾）
	
	//────────────────────
	//	⇒飛ばしすぎだよ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// ドギ
		TalkMes("Dogi","#3579V#022e#080mへヘッ、心配ご無用だ。",
			"ドギ様はこの程度じゃ酔わねえよ。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒ツマミは食べないの？
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// ドギ
		TalkMes("Dogi","#3580V#022e#080mああ、俺はいいから",
			"お前が食っちまえ、ハハハ！","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	// カメラ待ち
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 0.150f , -1474.628f , 25.723f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.680f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.250f , 0 )	// 基本仰角
	RotateCamera( 0 , 340.407f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -11.2f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 0.010f , -1474.611f , 25.643f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.120f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -7.979f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 352.155f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -2.6f , 600 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	// ドギ
	TalkMes("Dogi","#3581V#011e#000mしかしまあ、今回も",
		"大変な事になっちまったな。","")
	WaitPrompt()

	// ドギ
	TalkMes("Dogi","#3582V#012e#000mその何にでも巻き込まれる体質は",
		"どうにかならねえのかい？","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"そう言われてもね")
	MenuAdd(2,"神様にでも聞いてくれ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0166,"ADOL",100)	//いや…（否定）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_SC_TEBURI", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	
	LookReset("Dogi")
	
	//────────────────────
	//	⇒そう言われてもね
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// ドギ
		TalkMes("Dogi","#3583V#011e#080mま、気をつける程度で",
			"治るもんなら苦労はしねえか。","")
		WaitPrompt()
	}
	//	⇒神様にでも聞いてくれ
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		//HeadNo("Dogi", 1, 25)	// キャラ, 回数, 速さ
		
		// ドギ
		TalkMes("Dogi","#3584V#061e#080mやれやれ……",
			"冒険バカにつける薬はねえな。","")
		WaitPrompt()
	}
	//────────────────────

	Look("Dogi", 40.0f, 20.0f)	// ←（＾＾）

	// ドギ
	TalkMes("Dogi","#3585V#000e#080mま、漂流村の方は任せておきな。","","")
	WaitPrompt()

	// ドギ
	TalkMes("Dogi","#3586V#000e#080mお前さんたちが戻ってくるまで",
		"意地でも持たせてみせるからよ。","")
	WaitPrompt()

	Look("Dogi", 0.0f, -10.0f)	// うつむく

	// ドギ
	TalkMes("Dogi","#3587V#011e#000mだが……","","")
	WaitPrompt()
	WaitCloseWindow()


	// カット3 ----------------------------------------------------------------------------------------

	//　　カメラを切り替える。
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , 0.566f , -1474.162f , 25.892f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.161f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.728f , 0 )	// 基本仰角
	RotateCamera( 0 , 73.469f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -2.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	ChangeAnimation( "Dogi", "ANI_EV_SIT_C", -1, 1)	
	SetParent("ev_eq4016b", "", "")
	SetChrPos("ev_eq4016b", 0.005f , -1473.880f , 25.063f)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 0.459f , -1474.175f , 25.892f , 150 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.161f , 150 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.733f , 150 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 86.067f , 150 )

	// フェード待ち
	Wait(FADE_CROSS)

	//　　ドギ、改まった様子でアドルに向く
	LookChr("Dogi", "ADOL")
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	Wait(30)

	// ドギ
	TalkMes("Dogi","#3588V#000e#000mアドル、まさかとは思うが……",
		"お前さん、戻ってくるよな？","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドルにＰＡエモーション。
	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)

	//　　不思議そうな顔をしてドギに向く。
	LookRoll("ADOL", 10.0f)	// かしげる
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_S, 1)	// 目
	Wait(40)
	LookRoll("ADOL", 0.0f)	// かしげる
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)	// 目

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -0.003f , -1474.235f , 25.912f , 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.042f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.571f , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 218.700f , 900 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 45.000f , 900 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 0.0f , 900 )		// ロール回転

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	
	LookReset("Dogi")

	// ドギ
	TalkMes("Dogi","#3589V#011e#000m……慣れっこかと思っていたが、今回は",
		"俺もちょいとばかり心配してるみてえだ。","")
	WaitPrompt()

	Look("Dogi", 0.0f, -10.0f)	// うつむく
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)

	// ドギ
	TalkMes("Dogi","#3590V#000e#000m“涙の日#6Rラクリモサ#R”……こいつはこれまでの",
		"冒険の中でもかなりヤバい部類だぜ。","")
	WaitPrompt()

	LookChr("Dogi", "ADOL")
	ChangeAnimation( "Dogi", "ANI_EV_SC_TEBURI", -1, 1 )

	// ドギ
	TalkMes("Dogi","#3591V#000e#000mその、何となくお前さんが",
		"戻ってこねえような気がしちまってな。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドル、正面を見て・・・エモーション
	LookReset("ADOL")
	EmotionEx("ADOL", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(55)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"“涙の日”は必ず止める")
	MenuAdd(2,"必ずダーナと一緒に帰る")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0164,"ADOL",100)	//ああ…（相槌）


	// うなずきパクパク
	HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Wait(30)

	// カット4 ----------------------------------------------------------------------------------------

	//　　カメラを切り替える。
	
	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , 0.049f , -1474.395f , 25.752f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.883f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.292f , 0 )	// 基本仰角
	RotateCamera( 0 , 341.333f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -4.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 0.120f , -1474.405f , 25.752f , 1200 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.603f , 1200 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.291f , 1200 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 45.792f , 1200 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 45.000f , 1200 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 0.3f , 1200 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	
	//────────────────────
	//	⇒“涙の日”は必ず止める
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		LookReset("Dogi")
		
		// ドギ
		TalkMes("Dogi","#3592V#011e#000m…………そうかい…………","","")
		WaitPrompt()

		HeadNo("Dogi", 1, 35)	// キャラ, 回数, 速さ

		// ドギ
		TalkMes("Dogi","#3593V#012e#080m……ヘッ、やれやれ。",
			"こんな状況だってのに頼もしいもんだぜ。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒必ずダーナと一緒に帰る
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// ドギ
		TalkMes("Dogi","#3594V#000e#000mダーナと一緒にって……",
			"予知じゃ、そいつは無理って話だろ？","")
		WaitPrompt()

		LookReset("Dogi")
		Wait(10)
		HeadNo("Dogi", 1, 35)	// キャラ, 回数, 速さ

		// ドギ
		TalkMes("Dogi","#3595V#011e#080mヤレヤレ、お前ってやつは……","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	//　　ドギ、困ったような顔をしているが
	//　　一杯飲んで、笑顔に戻る。

	LookChr("Dogi", "ADOL")

	// ドギ
	TalkMes("Dogi","#3596V#020e#080mけどまあ、アドルはこうでなくちゃな。","アドルは2行目","")
	WaitPrompt()
	
	ChangeAnimation( "Dogi", "ANI_EV_SC_TEBURI", -1, 1 )

	LookChr("ADOL", "Dogi")

	// ドギ
	TalkMes("Dogi","#3597V#022e#080mいいぜ、好きにやんな。",
		"最後まで付き合ってやるからよ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドル、しっかりとうなずく。

	// うなずきセット
	HeadYes("ADOL" , 1 , 30 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(20)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	// ドギ
	TalkMes("Dogi","#3598V#000e#080mその代わり、無事に島を出られたら",
		"酒盛りに付き合えよ？","")
	WaitPrompt()

	// ドギ
	TalkMes("Dogi","#3599V#021e#080m俺は潰れるまで飲むからな。",
		"覚悟しとけってんだ。","")
	WaitPrompt()
	EmotionEx("Dogi", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//ワイワイ

	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドルに冷や汗エモーション。ドギにワイワイエモーション。
	Wait(20)
	EmotionEx("ADOL", 0.00f, EMO_TARA, 0, 5, 1, 0, 1.0f)	//冷や汗
	Wait(55)

	// カット5 ----------------------------------------------------------------------------------------

	//　　２人の無言劇を見せつつフェードアウトしてイベント終了、操作許可。
	//　　※アドルを中央上段・高台の前（17.04f, -1451.75f, 19.68f ,-149.83f）に再配置。
	
	// クロスフェード
	CrossFade(FADE_NORMAL)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , -1.037f , -1473.676f , 25.732f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.603f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.719f , 0 )	// 基本仰角
	RotateCamera( 0 , 230.184f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -1.037f , -1473.676f , 26.872f , 210 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.603f , 210 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -19.627f , 210 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 229.897f , 210 )

	// フェード待ち
	Wait(FADE_NORMAL)
	
	Wait(20)
	ChangeAnimation( "Dogi", "ANI_EV_SC_TEBURI", -1, 1 )
	EmotionEx("Dogi", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//ワイワイ
	Wait(30)
	HeadYes("ADOL" , 1 , 25 )
	EmotionEx("ADOL", 0.00f, EMO_WAI, 0, 5, 1, 1, 1.0f)	//ワイワイ
	Wait(60)

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Dogi_ED")
}
function "Sinai_Dogi_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	SetChrPos("Dogi", -100000.00f, 0.00f, 0.00f)	// 彼方へ
	MapHide( "que03" , 0 )				//崖のベンチ(ドギとのイベント)

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_DOGI, 1 )			// 親愛イベントを見た（ドギ）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（ドギ）	名声値+2
		//SetDiaryCharaFlag( DRCHA_DOGI, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（ドギ）

		SetFlag(GF_GALL_EV_LIKE_01,1)			// Sinai_Dogi

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",17.04f, -1451.75f, 19.68f)
		Turn("LEADER",-149.83f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

		SetEnvSEPlayState(-1, 1)	//環境SE
		FadeBGM(100, 30)

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// ヒュンメル：▼親愛イベント
function "Sinai_Hummel"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Hummel")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Hummel" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Hummel" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Hummel" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Hummel", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",18.13f, -1428.81f, 32.34f)
	Turn("ADOL",-1.27f,360.0f)
	LookReset("ADOL")
	SetChrPos("Hummel",17.29f,-1429.45f,32.34f)
	Turn("Hummel",-29.83f,360.0f)
	LookReset("Hummel")

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Hummel",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Hummel",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Hummel",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Hummel" , "ANI_WAIT", -1 , 1 )

	MapHide("flag", 0)	// 旗が邪魔なので消す

	MoveCameraAt( 0 , 13.507f , -1429.297f , 33.694f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.799f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.172f , 0 )	// 基本仰角
	RotateCamera( 0 , 223.548f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 100.000 ,1.000 ,0.700 ,0.550)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//ポートレート処理
	Portrait_Load(   0 , "visual/portrait/p_10170.itp" )	//２Ｄポートレート「出奔」
	Portrait_Load(   1 , "visual/portrait/p_10180.itp" )	//２Ｄポートレート「親子の再会」

	Portrait_Create(0 , 0 , 0 , 
					0 , 0 , 1920,1080 , 
					0 , 0x00ffffff , 0x00000000 )
	Portrait_Create(1 , 0 , 0 , 
					0 , 0 , 1920,1080 , 
					0 , 0x00ffffff , 0x00000000 )

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Hummel_ED")

//開始処理ここまで-----------------------------------------------

	//　　暗転を挟んで字幕イベント。
	//　　見張り台の上にヒュンメルとアドルが立っており、
	//　　２人で海の方を眺めている。
	
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------

	Look("ADOL", -30.0f, 0.0f)	// （＾＾）→
	Wait(10)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 16.641f , -1429.837f , 33.694f , 150 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.799f , 150 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.026f , 150 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 230.424f , 150 )

	StopBGM(150)

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Wait(50)

	//　　ヒュンメルに「…」エモーション。
	EmotionEx("Hummel", 0.02f, EMO_3DOT, 0, 5, 1, 1, 1.145f)	//…
	ChangeSubAnimation("Hummel", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	Wait(65)

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	Wait(10)
	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , 17.815f , -1429.259f , 33.894f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.078f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.974f , 0 )	// 基本仰角
	RotateCamera( 0 , 328.064f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.780f , -1429.250f , 33.894f , 1200 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.853f , 1200 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -7.855f , 1200 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 61.574f , 1200 )

	LookReset("ADOL")
	LookChr("ADOL", "HUMMEL")

	// フェード待ち
	Wait(FADE_CROSS)

	Wait(10)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"どうかしたのか？")
	MenuAdd(2,"思っていることを話してくれ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0190,"ADOL",100)	//どうした？（相手を気遣う、フラット～優しめのテンション）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	
	// うなずきセット
	HeadYes("Hummel" , 1 , 25 )
	Wait(15)
	ChangeSubAnimation("Hummel", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	
	//──────────────────────
	//	⇒どうかしたのか？
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// ヒュンメル
		TalkMes("Hummel","#2178V#000mああ……気を持たせてすまない。","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒思っていることを話してくれ
	if (FLAG[TF_MENU_SELECT] == 2) {
		
		// ヒュンメル
		TalkMes("Hummel","#2179V#000mああ……そうさせてもらう。","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	PlayBGM(BGM_EVENT_016, 0)
	FadeBGM(70,0)

	LookChr("Hummel", "ADOL")
	Turn("Hummel", -76.02f, 5.0f)
	
	// ヒュンメル
	TalkMes("Hummel","#2180V#000e#000m運び屋は素性を語るべからず……",
		"だが、お前には随分と世話になった。","")
	WaitPrompt()

	LookReset("Hummel")
	ChangeAnimation( "Hummel", "ANI_EV_HIDEFACE_S", -1, 1 )	// 顔隠し

	// ヒュンメル
	TalkMes("Hummel","#2181V#011e#080mその……何だ……",
		"知っておいてもらいたくてな。","")
	WaitPrompt()

	WaitAnimation2("Hummel", -1, 1, "ANI_EV_HIDEFACE_S", 0)
	ChangeAnimation( "Hummel", "ANI_EV_HIDEFACE_E", -1, 1 )	// 顔隠し
	LookChr("Hummel", "ADOL")

	// ヒュンメル
	TalkMes("Hummel","#2182V#012e#000mそう、オレが運び屋を……",
		"トラバルトを受け継いだ経緯を……","")
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルがうなづき、カメラが切り替わる。

	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(30)

	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 17.688f , -1429.268f , 33.414f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.644f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.688f , 0 )	// 基本仰角
	RotateCamera( 0 , 163.975f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -2.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetChrPos("Hummel",17.29f,-1429.45f,32.34f)
	Turn("Hummel",-96.27f,360.0f)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.786f , -1429.288f , 33.874f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.404f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.110f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 175.147f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -0.3f , 600 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)


	ChangeAnimation( "Hummel", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// ヒュンメル
	TalkMes("Hummel","#2183V#000e#000m闇の世界の運び屋として代々歴史の",
		"影で暗躍してきたトラバルト家……","")
	WaitPrompt()
	
	Look("Hummel", 0.0f, -10.0f)	// うつむく

	// ヒュンメル
	TalkMes("Hummel","#2184V#011e#000mオレはそんな“悪”の",
		"象徴とすら言える家柄……","")
	WaitPrompt()

	LookChr("Hummel", "ADOL")
	ChangeSubAnimation("Hummel", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// ヒュンメル
	TalkMes("Hummel","#2185V#012e#000mそして、当然のようにそれを",
		"受け継いだ父を軽蔑していたのだ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット4 ----------------------------------------------------------------------------------------

	//　　ここで２Ｄポートレート「出奔」を表示。
	//　　※路地裏をさ迷う、幼き日のヒュンメル。
	
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	Portrait_Anime(  0 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f,FADE_NORMAL)
	Wait(FADE_NORMAL)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// 位置調整・表情・モーション（次カット用）
//	SetChrPos("Hummel",17.29f,-1429.45f,32.34f)
//	Turn("Hummel",-29.83f,360.0f)

	ChangeAnimation( "Hummel", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("Hummel")

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// ヒュンメル
	TalkMes("Hummel","#2186V#000e#000mそんな中、オレはまだ１０歳にも",
		"満たない年齢だったが……","")
	WaitPrompt()

	// ヒュンメル
	TalkMes("Hummel","#2187V#000e#000mある時、父との喧嘩をきっかけに",
		"オレは家を出奔した。","")
	WaitPrompt()

	// ヒュンメル
	TalkMes("Hummel","#2188V#000e#000m幼かったオレに行くアテなどなく、",
		"すぐ路頭を彷徨う羽目になった。","")
	WaitPrompt()

	// ヒュンメル
	TalkMes("Hummel","#2189V#000e#000mその時だ……とある老夫婦が",
		"震えるオレに声をかけてきてな。","")
	WaitPrompt()

	// ヒュンメル
	TalkMes("Hummel","#2190V#000e#000m幸いにも二人が営む小さな孤児院に",
		"引き取られることになったのだ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット5 ----------------------------------------------------------------------------------------

	//　　ここで２Ｄを消す。

	// カメラ
	MoveCameraAt( 0 , 17.959f , -1429.243f , 33.694f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.645f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.539f , 0 )	// 基本仰角
	RotateCamera( 0 , 72.844f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 4.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.647f , -1429.477f , 33.994f , 1200 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.164f , 1200 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.764f , 1200 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 8.969f , 1200 )

	SetEnvSEPlayState(-1, 1)	//環境SE

	Portrait_Anime(  0 , PR_ANIME_COLOR, 0.0f, 0.0f, 0.0f, 0.0f,FADE_NORMAL)
	Wait(FADE_NORMAL)
	Portrait_Close(  0 )
	Portrait_Unload( 0 )

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	// ヒュンメル
	TalkMes("Hummel","#2191V#011e#000m孤児院には様々な事情を抱えた",
		"子供たちが多くいたが……","")
	WaitPrompt()

	// ヒュンメル
	TalkMes("Hummel","#2192V#012e#000mオレを含めた新入りはどいつも",
		"未来に絶望した表情をしていた。","")
	WaitPrompt()

	ChangeAnimation( "Hummel", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// ヒュンメル
	TalkMes("Hummel","#2193V#011e#080mそんなオレたちを見て",
		"院長が連れてきたのが大道芸人だ。","")
	WaitPrompt()

	// ヒュンメル
	TalkMes("Hummel","#2194V#090e#080mショーが始まると、たちまちの内に",
		"皆の目が輝き始めてな。","")
	WaitPrompt()

	// ヒュンメル
	TalkMes("Hummel","#2195V#092e#080mまるで魔法にでもかけられたように",
		"笑顔が広がっていったのだ。","")
	WaitPrompt()

	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 17.926f , -1429.257f , 33.854f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.684f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.614f , 0 )	// 基本仰角
	RotateCamera( 0 , 89.192f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 4.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.924f , -1429.217f , 33.854f , 600 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.404f , 600 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.479f , 600 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 88.911f , 600 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	LookChr("Hummel", "ADOL")
	ChangeAnimation( "Hummel", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// ヒュンメル
	TalkMes("Hummel","#2196V#000e#000mそんな光景を目の当たりにし、",
		"オレは大道芸人に憧れを抱き……","")
	WaitPrompt()

	WaitAnimation2("Hummel", -1, 1, "ANI_EV_UDEGUMI_E", 0)
	ChangeAnimation( "Hummel", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ヒュンメル
	TalkMes("Hummel","#2197V#000e#000mやがて自立できる歳になると、",
		"そのまま大道芸人になることを選んだ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"……意外だけど納得したよ")
	MenuAdd(2,"ジャグリングが上手いはずだ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0175,"ADOL",100)	//ふむ…（思案）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	
	//──────────────────────
	//	⇒……意外だけど納得したよ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		LookReset("Hummel")
		ChangeAnimation( "Hummel", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
		
		// ヒュンメル
		TalkMes("Hummel","#2198V#011e#080mフッ、正直おどけたりするのは",
			"柄ではないからな。","")
		WaitPrompt()

		// ヒュンメル
		TalkMes("Hummel","#2199V#080e#080mだが子供たちの色んな反応を",
			"見られるのは、楽しみでならない。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒ジャグリングが上手いはずだ
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		LookReset("Hummel")
		ChangeAnimation( "Hummel", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
		
		// ヒュンメル
		TalkMes("Hummel","#2200V#080e#080mフッ、独学だったが",
			"さんざん練習したからな。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.486f , -1429.497f , 33.934f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.164f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -8.204f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 72.003f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -1.2f , 600 )		// ロール回転

	//　　ヒュンメルに「…」エモーション。
	EmotionEx("Hummel", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	ChangeSubAnimation("Hummel", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	Look("Hummel", 0.0f, -10.0f)	// うつむく
	Wait(52)

	// ヒュンメル
	TalkMes("Hummel","#2201V#010e#000mそれから数年が経ち、大道芸人として",
		"ある程度知られるようになった頃……","")
	WaitPrompt()
	
	Look("Hummel", 0.0f, 0.0f)	// うつむく戻す
	ChangeAnimation( "Hummel", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// ヒュンメル
	TalkMes("Hummel","#2202V#012e#000mオレは偶然、父と再会することになる。","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット7 ----------------------------------------------------------------------------------------

	//　　ここで２Ｄポートレート「親子の再会」を表示
	//　　※大怪我をし、死に目に見知らぬ道化の
	//　　　若者（ヒュンメル）に抱えられつつ、
	//　　　真剣な表応で荷物（アタッスケース）を託すヒュンメルの父。
	
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	Portrait_Anime(  1 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f,FADE_NORMAL)
	Wait(FADE_NORMAL)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// 位置調整・表情・モーション（次カット用）
	SetChrPos("Hummel",17.29f,-1429.45f,32.34f)
	Turn("Hummel",-96.27f,360.0f)

	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// ヒュンメル
	TalkMes("Hummel","#2203V#000e#000m……路地裏で再会した父は一目で",
		"致命的と分かる傷を負っていた。","")
	WaitPrompt()

	// ヒュンメル
	TalkMes("Hummel","#2204V#000e#000m道化師の格好をしたオレを、",
		"息子だと分からなかったのだろう。","")
	WaitPrompt()

	// ヒュンメル
	TalkMes("Hummel","#2205V#000e#000m運んでいた荷物を託すと、",
		"そのまま静かに息を引き取った。","")
	WaitPrompt()

	// ヒュンメル
	TalkMes("Hummel","#2206V#000e#000mこれが闇の世界に身を置いた者の末路……",
		"荷物も真っ当なものではないだろう。","真っ当3行目")
	WaitPrompt()

	// ヒュンメル
	TalkMes("Hummel","#2207V#000e#000mだが最期の頼みくらいは聞こうと",
		"オレはその荷物を届けることにした。","")
	WaitPrompt()

	// ヒュンメル
	TalkMes("Hummel","#2208V#000e#000m届け先は闇医者であり、",
		"荷物は確かに非合法のブツだという。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット8 ----------------------------------------------------------------------------------------

	// カメラ
	MoveCameraAt( 0 , 14.116f , -1431.213f , 34.707f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.125f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -15.519f , 0 )	// 基本仰角
	RotateCamera( 0 , 222.668f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 15.181f , -1429.470f , 33.247f , 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.125f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -16.952f , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 263.923f , 900 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 900 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -0.8f , 900 )		// ロール回転

	SetEnvSEPlayState(-1, 1)	//環境SE

	//　　ここで２Ｄを消す。
	Portrait_Anime(  1 , PR_ANIME_COLOR, 0.0f, 0.0f, 0.0f, 0.0f,FADE_NORMAL)
	Wait(FADE_NORMAL)
	Portrait_Close(  1 )
	Portrait_Unload( 1 )

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	// ヒュンメル
	TalkMes("Hummel","#2209V#000e#000mしかし……それが当時流行していた",
		"疫病の薬であったと後で知ってな。","")
	WaitPrompt()

	// ヒュンメル
	TalkMes("Hummel","#2210V#000e#000mくしくも、オレの芸を見に来ていた",
		"子供たちもそれによって救われたと言うのだ。","")
	WaitPrompt()

	LookChr("Hummel", "AODL")

	// ヒュンメル
	TalkMes("Hummel","#2211V#000e#000mその時、オレは闇の世界にも",
		"志のある人間がいること──","")
	WaitPrompt()
	
	ChangeAnimation( "Hummel", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// ヒュンメル
	TalkMes("Hummel","#2212V#000e#000mさらに遺品である父の手帳や闇医者から、",
		"一族が時に歴史を支えてきたことを知った。","")
	WaitPrompt()

	LookReset("Hummel")
	Look("Hummel", 0.0f, -10.0f)	// うつむく

	// ヒュンメル
	TalkMes("Hummel","#2213V#000e#000mオレはその時になって初めて父を理解し、",
		"涙を止めることができなかった……","")
	WaitPrompt()
	WaitCloseWindow()

	// カット9 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , 17.726f , -1428.996f , 34.207f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.245f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.524f , 0 )	// 基本仰角
	RotateCamera( 0 , 167.947f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 17.726f , -1428.996f , 33.907f , 300 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	LookChr("Hummel", "ADOL")
	ChangeAnimation( "Hummel", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// ヒュンメル
	TalkMes("Hummel","#2214V#000e#000mそうしてオレは“新たなトラバルト”",
		"となることを決意したのだ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"誇りある仕事だ")
	MenuAdd(2,"ヒュンメルらしいね")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0161,"ADOL",100)	//はは（微笑）

	// うなずきパクパク
	HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)
	
	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	//──────────────────────
	//	⇒誇りある仕事だ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		LookReset("Hummel")
		ChangeAnimation( "Hummel", "ANI_EV_HIDEFACE_S", -1, 1 )	// 顔隠し
		
		// ヒュンメル
		TalkMes("Hummel","#2215V#011e#080mフッ、決して世間に",
			"顔向けできる仕事ではないがな。","")
		WaitPrompt()

		ChangeAnimation( "Hummel", "ANI_EV_HIDEFACE_E", -1, 1 )	// 顔隠し

		// ヒュンメル
		TalkMes("Hummel","#2216V#012e#080mだが、それでもいい──",
			"それによって救われる人がいるならば。","")
		WaitPrompt()
		WaitCloseWindow()
		
		ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	}
	//	⇒ヒュンメルらしいね
	if (FLAG[TF_MENU_SELECT] == 2) {
		
		ChangeAnimation( "Hummel", "ANI_EV_TEBURI", -1, 1 )	// 手振り
		LookRoll("Hummel", 10.0f)	// かしげる
		
		// ヒュンメル
		TalkMes("Hummel","#2217V#000e#000mオレらしい……？","","")
		WaitPrompt()
		
		LookRoll("Hummel", 0.0f)	// かしげる戻す
		LookReset("Hummel")
		ChangeAnimation( "Hummel", "ANI_EV_HIDEFACE_S", -1, 1 )	// 顔隠し

		// ヒュンメル
		TalkMes("Hummel","#2218V#011e#000m……昔からあらゆることを",
			"きちんとしなければ寝つけなくてな。","")
		WaitPrompt()

		// ヒュンメル
		TalkMes("Hummel","#2219V#012e#000mお前には話しておかなければ",
			"どうにもよく眠れそうにない。","")
		WaitPrompt()
		WaitCloseWindow()
		
		ChangeAnimation( "Hummel", "ANI_EV_HIDEFACE_E", -1, 1 )	// 顔隠し
		
		ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
		
		//　　アドルに「冷や汗」エモーション。
		EmotionEx("ADOL", 0.03f, EMO_TARA, 0, 5, 1, 1, 0.7f)	//冷や汗
		Wait(55)
	}
	//──────────────────────

	// カット10 ----------------------------------------------------------------------------------------

	//　　ヒュンメルが何かしらアクション。

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)

	// カメラ
	MoveCameraAt( 0 , 17.854f , -1429.528f , 33.887f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.006f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.197f , 0 )	// 基本仰角
	RotateCamera( 0 , 29.844f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 5.5f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 18.039f , -1429.271f , 33.807f , 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.246f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -6.927f , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 73.079f , 900 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 900 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -5.1f , 900 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	ChangeAnimation( "Hummel", "ANI_EV_UDEGUMI_S", -1, 1 )

	// ヒュンメル
	TalkMes("Hummel","#2220V#011e#080mともかく、これがオレという人間だ。","","")
	WaitPrompt()

	LookChr("Hummel", "ADOL")

	// ヒュンメル
	TalkMes("Hummel","#2221V#012e#080m改めてどうか最後まで──","","")
	WaitPrompt()
	WaitCloseWindow()

	//　　クイナの声が聞こえてくる


	FadeBGM(20, 10)


	// クイナの声
	TalkMes(UNDEF,"#4648V#18Sあー！","アドルとヒュンメル、見っけー！","")
	Wait(15)
	LookReset("ADOL")
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SUP_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Hummel",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Hummel",SUBMOT_MOUTH,ANI_M_WAIT,1)
	WaitPrompt()
	
	// クイナの声
	TalkMes(UNDEF,"#4649V#18Sなにやらコソコソ、あやしーぞー！","コソコソ2行目","")
	WaitPrompt()
	WaitCloseWindow()

	FadeBGM(70, 30)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)

	ChangeAnimation( "Hummel", "ANI_EV_UDEGUMI_E", -1, 1 )
	LookReset("Hummel")
	Look("Hummel", 0.0f, -10.0f)	// うつむく

	// ヒュンメル
	TalkMes("Hummel","#2222V#091e#080mフッ、そろそろ下に戻るとするか。","","")
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Hummel", "ADOL")

	// ヒュンメル
	TalkMes("Hummel","#2223V#092e#080mアドル──",
		"どうか最後までよろしく頼んだぞ。","")
	Wait(20)
	LookSpd("ADOL", 0.10f, 0.10f, 0.10f)
	LookChr("ADOL", "Hummel")
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)

	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し


//　　イベント終了、操作許可。
//　　※アドルを見張り台の足下に再配置。

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Hummel_ED")
}
function "Sinai_Hummel_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	SetChrPos("Hummel", -100000.00f, 0.00f, 0.00f)	// 彼方へ

	//マップパラメーターリセット
	ResetMapParam( -1 )

	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_HUMMEL, 1 )			// 親愛イベントを見た（ヒュンメル）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（ヒュンメル）	名声値+2
		//SetDiaryCharaFlag( DRCHA_HUMMEL, DRCHA_FLAG_INFO4, 1 )	//★人物メモ：追加情報の開放４（ヒュンメル）

		SetFlag(GF_GALL_EVIMG_22,1)			// p_10170 ヒュンメル回想「出奔」
		SetFlag(GF_GALL_EVIMG_23,1)			// p_10180 ヒュンメル回想「親子の再会」
		SetFlag(GF_GALL_EV_LIKE_02,1)		// Sinai_Hummel

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",24.24f,-1423.41f,10.83f)
		Turn("LEADER",-122.86f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

		SetEnvSEPlayState(-1, 1)	//環境SE

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// ミラルダ：▼親愛イベント
function "Sinai_Miralda"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Miralda")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Miralda" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Miralda" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Miralda" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Miralda", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",21.29f,-1439.52f,11.49f)
	Turn("ADOL",38.66f,360.0f)
	LookReset("ADOL")

	SetChrPos("Miralda",20.53f,-1440.47f,11.46f)
	Turn("Miralda",-141.34f,360.0f)
	LookReset("Miralda")
	
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Miralda",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Miralda",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Miralda",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Miralda" , "ANI_WAIT", -1 , 1 )

	MoveCameraAt( 0 , 21.425f , -1440.444f , 13.328f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.600f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.974f , 0 )	// 基本仰角
	RotateCamera( 0 , 131.925f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	if( FLAG[GF_05MP6330_LOOK_MONOLITH] && !FLAG[GF_05MP1201_GOTO_GHOSTHIP] ){		//幽霊船を目撃
		StopBGM(120)
	} else if (FLAG[GF_05MP1201_OCEANUS_STANDBY] && !FLAG[GF_05MP1201_HOLD_PARTY]){		// オケアノス戦前
		StopBGM(120)
	} else if (FLAG[GF_TBOX_DUMMY087] && !FLAG[GF_07MP1202_AWAKE_ADOL]){		// ６話以降～ラスボス戦
		StopBGM(120)
	} else if(WORK[WK_ISINTERCEPT] == 1){	//迎撃戦中
		StopBGM(120)
	}

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 60.000 ,1.000 ,0.700 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Miralda_ED")

//開始処理ここまで-----------------------------------------------

	//　　暗転を挟んで字幕イベント。場所は普通に調理場前を想定。

//	Wait(20)

		//	ナレーション
	TalkPopup("UNDEF",0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
	{
		"#7Cアドルはミラルダに頼まれ、"
		"#7C調理場に現れた蜘蛛を追い払った！"
	}
	WaitPrompt()
	WaitCloseWindow()
	Wait(15)

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------

	// 位置調整・表情・モーション
	ChangeAnimation( "Miralda", "ANI_EV_RYOTEKOSI", -1, 1 )	// 両手腰
	LookChr("ADOL", "Miralda")
	LookChr("Miralda", "ADOL")

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 20.919f , -1440.025f , 12.948f , 125 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.640f , 125 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.750f , 125 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 98.118f , 125 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 125 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -7.2f , 125 )		// ロール回転

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
	Wait(30)

	PlayBGM(BGM_TOWN_501, 0)
	FadeBGM(70, 30)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// ミラルダ
	TalkMes("Miralda","#4806V#011e#000mふう……これで一安心ね。","","")
	WaitPrompt()

	ChangeAnimation( "Miralda", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// ミラルダ
	TalkMes("Miralda","#4807V#012e#080m追い払ってくれてありがとう。","","")
	WaitPrompt()

	// カメラ待ち（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 20.735f , -1440.152f , 12.948f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.921f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.177f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 96.980f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 0.0f , 600 )		// ロール回転

	ChangeAnimation( "Miralda", "ANI_EV_HOHOKAKI", -1, 1 )	// 頬かき

	// ミラルダ
	TalkMes("Miralda","#4808V#051e#050m私、蜘蛛だけは",
		"昔からどうしても苦手で……","")	//（苦笑）
	WaitPrompt()

	// ミラルダ
	TalkMes("Miralda","#4809V#020e#080mそれにしても、流石は男の子ね㈱","","")	//（ウィンク）
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , 20.899f , -1440.433f , 12.948f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.930f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.611f , 0 )	// 基本仰角
	RotateCamera( 0 , 353.578f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 9.907f , 600 )

	// フェード待ち
	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"それほどでもないさ")
	MenuAdd(2,"男の子という歳でもないけど")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0161,"ADOL",100)	//はは（微笑）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	ChangeAnimation( "Miralda", "ANI_EV_SEKI", -1, 1 )	// 咳払い
	
	//──────────────────────
	//	⇒それほどでもないさ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// ミラルダ
		TalkMes("Miralda","#4810V#020e#080mふふ、本当に頼りになるわ㈱","","")
		WaitPrompt()

		// ミラルダ
		TalkMes("Miralda","#4811V#022e#000mそれにしても、その歳で",
			"色んな修羅場を踏んでるだなんて。","")
		WaitPrompt()

		// ミラルダ
		TalkMes("Miralda","#4812V#000e#000m本当に大したものよね。","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒男の子という歳でもないけど
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// ミラルダ
		TalkMes("Miralda","#4813V#020e#080mふふ、ごめんなさい。","","")
		WaitPrompt()

		// ミラルダ
		TalkMes("Miralda","#4814V#022e#000mアドル君は２１歳だったかしら？",
			"もう立派な大人の男性だものね㈱","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────


	// カット3 ----------------------------------------------------------------------------------------

	//　　ミラルダが何かしらアクション。
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 20.290f , -1439.480f , 12.948f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.610f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.750f , 0 )	// 基本仰角
	RotateCamera( 0 , 151.154f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 20.012f , -1439.336f , 12.768f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.610f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.323f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 179.806f , 900 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Miralda", "ANI_EV_UDEGUMI_S", -1, 1 )

	// ミラルダ
	TalkMes("Miralda","#4815V#000e#080m前に話したかもしれないけど",
		"私には子供が６人いてね。","")
	WaitPrompt()

	// ミラルダ
	TalkMes("Miralda","#4816V#000e#080mそれも見事に全員、男の子なの。","","")
	WaitPrompt()

	ChangeAnimation( "Miralda", "ANI_EV_UDEGUMI_E", -1, 1 )

	// ミラルダ
	TalkMes("Miralda","#4817V#011e#000mみんなアドル君ほど強くなければ",
		"勇敢でもないけど……","")
	WaitPrompt()

	LookRoll("Miralda", 10.0f)	// かしげる

	// ミラルダ
	TalkMes("Miralda","#4818V#050e#080mどうしても重ねて見ちゃうのよね。","","")
	WaitPrompt()
	WaitCloseWindow()

	//　　ミラルダに「…」エモーション。
	EmotionEx("Miralda", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	ChangeSubAnimation("Miralda", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	LookReset("Miralda")
	Look("Miralda", 0.0f, -10.0f)	// うつむく
	Wait(52)

	ChangeAnimation( "Miralda", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// ミラルダ
	TalkMes("Miralda","#4819V#010e#000mみんな良い子で旦那もしっかり者だから",
		"元気にしてるとは思うんだけど……","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 20.860f , -1440.037f , 12.928f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.410f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -8.771f , 0 )	// 基本仰角
	RotateCamera( 0 , 295.848f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 10.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 20.860f , -1440.037f , 12.928f , 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.410f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.182f , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 277.498f , 900 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 900 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 2.2f , 900)		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "ADOL", "ANI_EV_WAIT2_S", -1, 1 )	// 待機（腰に手）
	Wait(10)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"脱出は時間の問題さ")
	MenuAdd(2,"驚く顔が楽しみじゃない？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0163,"ADOL",100)	//フフ…（微笑）


	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_WAIT2_TEBURI", -1, 1 )	// 片手腰 手振り
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	ChangeAnimation( "Miralda", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て
	LookChr("Miralda", "ADOL")
	Wait(10)

	//──────────────────────
	//	⇒脱出は時間の問題さ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// ミラルダ
		TalkMes("Miralda","#4820V#000e#000mふふ、そうね。","","")
		WaitPrompt()
	
		// ミラルダ
		TalkMes("Miralda","#4821V#000e#000m確かにみんなの力を合わせれば",
			"脱出なんてすぐよね。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒驚く顔が楽しみじゃない？
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// ミラルダ
		TalkMes("Miralda","#4822V#070e#070mえ……","","")	//（驚き）
		WaitPrompt()
	
		ChangeAnimation( "Miralda", "ANI_EV_HOHOKAKI", -1, 1 )	// 頬かき
	
		// ミラルダ
		TalkMes("Miralda","#4823V#000e#000mその発想はなかったけど……","","")
		WaitPrompt()

		// ミラルダ
		TalkMes("Miralda","#4824V#000e#000m確かに私が生きてたって知ったら",
			"腰を抜かしそうね。","")
		WaitPrompt()
		
		ChangeAnimation( "Miralda", "ANI_EV_TEBURI", -1, 1 )	// 手振り

		// ミラルダ
		TalkMes("Miralda","#4825V#000e#000mふふ、アドル君の言う通り",
			"その反応を見るのは楽しみかも㈱","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	WaitAnimation2("Miralda", -1, 1, "ANI_EV_TEBURI", 0)

	TurnTo("Miralda",20.96f, -1439.92f, 11.46f, 8.0f)

	// 移動
	SetMotSpd("Miralda" ,-1 , 0.8f )	// モーションスピード変更
	ExecuteCmd(1, MoveTo, "Miralda", 20.96f, -1439.92f, 11.46f, 0.1f, 0.13f)
	
	// 移動待ち
	WaitThread(1)
	SetMotSpd("Miralda" ,-1 , 1.0f )	// モーションスピード戻す

	// カット5 ----------------------------------------------------------------------------------------

	//　　ミラルダが何かしらアクション。

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , 21.097f , -1439.728f , 12.868f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.850f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.464f , 0 )	// 基本仰角
	RotateCamera( 0 , 191.361f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 8.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("Miralda", 20.96f, -1439.92f, 11.46f)
	Turn("Miralda", -130.68f, 360.0f)
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	Look("ADOL", 0.0f, -12.0f)	// うつむく

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 21.151f , -1439.776f , 12.988f , 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.851f , 100 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 8.608f , 100 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 196.512f , 100 )

	// フェード待ち
	Wait(FADE_FAST)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	ChangeAnimation( "Miralda", "ANI_EV_RYOTEKOSI_S", -1, 1 )

	// ミラルダ
	TalkMes("Miralda","#4826V#000e#080m元気付けてくれてありがとう、アドル君。","","")
	WaitPrompt()

	ChangeAnimation( "Miralda", "ANI_EV_RYOTEKOSI_E", -1, 1 )

	// ミラルダ
	TalkMes("Miralda","#4827V#021e#080mこれはほんのお礼よ㈱","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	//　　ここでミラルダがアドルのほっぺにキス。
	LookReset("Miralda")
	ChangeAnimation( "Miralda", "ANI_EV_KISS", -1, 1 )	// キス

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 21.111f , -1439.682f , 12.988f , 60 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.851f , 60 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -6.578f , 60 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 274.714f , 60 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 60 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 8.0f , 60 )		// ロール回転
	Blur( BLUR_TYPE_AFTERIMAGE ,0.3f , 60 )	// 残像

	Wait(20)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SUP_S, 1)	// 目
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_OPEN_S, 1)	// 口

	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	//　　アドルが頬を赤らめつつアセアセ。
	EmotionEx("ADOL", 0.00f, EMO_ASE, 0, 5, 1, 1, 1.0f)	//アセアセ
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_OPEN_E, 1)	// 口
	Wait(60)

	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ
	MoveCameraAt( 0 , 21.051f , -1439.926f , 12.908f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.311f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.586f , 0 )	// 基本仰角
	RotateCamera( 0 , 99.142f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 12.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	SetChrPos("Miralda", 20.83f, -1440.11f, 11.46f)
	Turn("Miralda", -141.34f, 360.0f)
	LookChr("Miralda", "ADOL")
	LookChr("ADOL", "Miralda")
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 21.051f , -1439.926f , 12.908f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.311f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 11.186f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 110.019f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 0.0f , 600 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_FAST)
	
	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	ChangeAnimation( "Miralda", "ANI_EV_SEKI", -1, 1 )	// 咳払い
	Wait(10)

	// ミラルダ
	TalkMes("Miralda","#4828V#020e#080mふふ、ホント可愛いんだから㈱","","")
	WaitPrompt()

	// ミラルダ
	TalkMes("Miralda","#4829V#022e#080mさてと、ここにはお腹を空かせた",
		"大きな子供たちが沢山いることだし。","")
	WaitPrompt()

	ChangeAnimation( "Miralda", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// ミラルダ
	TalkMes("Miralda","#4830V#021e#080m今日も精の付くものを",
		"張り切って作らなくっちゃね！","")	//（ウィンク）
	WaitPrompt()
	WaitCloseWindow()


//　　イベント終了、操作許可。
//　　※アドルを調理場前に再配置。

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Miralda_ED")
}
function "Sinai_Miralda_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	SetChrPos("Miralda", -100000.00f, 0.00f, 0.00f)

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_MIRALDA, 1 )		// 親愛イベントを見た（ミラルダ）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（ミラルダ）	名声値+2
		//SetDiaryCharaFlag( DRCHA_MIRALDA, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（ミラルダ）

		SetFlag(GF_GALL_EV_LIKE_03,1)			// Sinai_Miralda

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",23.52f,-1436.93f,11.56f)
		Turn("LEADER",-140.58f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

		SetEnvSEPlayState(-1, 1)
		FadeBGM(100, 30)

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// リトル・パロ：▼親愛イベント
function "Sinai_Paro"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Paro")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Paro" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Paro" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Paro" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Paro", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",-9.04f,-1480.47f,24.44f)
	Turn("ADOL",45.18f,360.0f)
	LookReset("ADOL")
	SetChrPos("Paro",-9.33f,-1480.43f,25.96f)
	Turn("Paro",45.18f,360.0f)
	LookReset("Paro")

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Paro",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Paro",SUBMOT_MOUTH,ANI_M_WAIT,1)
//	ChangeSubAnimation("Paro",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Paro" , "ANI_WAIT", -1 , 1 )

	ChangeAnimation("ADOL", "ANI_EV_PARO", -1, 1)
	SetParent("Paro", "ADOL", "Null_Rhand3")
	ChangeAnimation("Paro", "ANI_WAIT3", -1, 1)

	MoveCameraAt( 0 , -4.308f , -1481.706f , 26.936f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 7.400f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.415f , 0 )	// 基本仰角
	RotateCamera( 0 , 339.439f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 180.000 ,1.000 ,0.700 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Paro_ED")

//開始処理ここまで-----------------------------------------------

	//　　暗転を挟んで字幕イベント。

	//　　アドルが中央上段・高台に立っており、その肩にリトル・パロが乗っている。
	//　　※イベントの発生タイミングは六部「▼山門前で護り人たちに遭遇する」以降。

//	Wait(50)	//リトルパロの着地アニメーションが見えてしまうので、終了までフェードインしないようにしてあります

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------

	StopBGM(150)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -6.072f , -1480.011f , 25.756f , 125 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 7.400f , 125 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.977f , 125 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 324.829f , 125 )

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	PlayBGM(BGM_EVENT_004, 0)

	Wait(10)

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , -9.740f , -1480.716f , 25.996f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.400f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.753f , 0 )	// 基本仰角
	RotateCamera( 0 , 10.783f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -9.394f , -1480.609f , 25.996f , 600 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.160f , 600 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.752f , 600 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 10.782f , 600 )
	
	// フェード待ち
	Wait(20)

	FadeBGM(70, 10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// パロ
	TalkMes("Paro","#5260V#000e#000m#5Cコダイシュ、タクサン。",
		"#5Cタクサン、コダイシュ。","")
	WaitPrompt()
	WaitCloseWindow()

	// パロ
	TalkMes("Paro","#5261V#000e#000m#5Cオレサマ、ウンザリ。",
		"#5Cあどるモ、ウンザリ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"そんなことはないよ")
	MenuAdd(2,"いつもありがとう")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	PlayVoice(Y8V_0161,"ADOL",100)	//はは（微笑）

	//────────────────────
	//	⇒そんなことはないよ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// 首振りパクパク
		HeadNo("ADOL", 1, 35)	// キャラ, 回数, 速さ
		//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)
		Wait(5)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)
		
		// パロ
		TalkMes("Paro","#5262V#000e#000m#5Cソンナコト、ナイ。","","")
		WaitPrompt()

		// パロ
		TalkMes("Paro","#5263V#000e#000m#5Cソンナコト、アル。","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒いつもありがとう
	if (FLAG[TF_MENU_SELECT] == 2) {
		
		// うなずきパクパク
		HeadYes("ADOL", 1, 25)	// キャラ, 回数, 速さ
		//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
		Wait(15)
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)
		Wait(10)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)
		
		// パロ
		TalkMes("Paro","#5264V#000e#000m#5Cアリガトウ、アリガトウ。","","")
		WaitPrompt()

		// パロ
		TalkMes("Paro","#5265V#000e#000m#5Cコチラコソ、アリガトウ。","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	Look("Paro", 0.0f, -10.0f)	// うつむく

	StopBGM(90)

	// パロ
	TalkMes("Paro","#5266V#011e#000m#0L#5C………………","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドルがリトル・パロの方を見て「？」エモーション。
	LookChr("ADOL" , "Paro")
	EmotionEx("ADOL", 0.00f, EMO_Q, 0, 5, 1, 1, 1.0f)	//？
	Wait(50)

	// カット3 ----------------------------------------------------------------------------------------

	PlayBGM(BGM_EVENT_018, 0)

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -9.228f , -1480.750f , 25.996f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.921f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -6.625f , 0 )	// 基本仰角
	RotateCamera( 0 , 65.203f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 8.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -9.228f , -1480.750f , 25.996f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.921f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.823f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 82.664f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 60.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -0.6f , 600 )		// ロール回転

	// フェード待ち
	Wait(FADE_FAST)

	//　　リトル・パロがアドルの方を向く。
	LookChr("Paro" , "ADOL")
	ChangeSubAnimation("Paro", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	
	FadeBGM(70, 10)
	
	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// パロ
	TalkMes("Paro","#5267V#000e#000m#5Cオレサマ、ミマモル。",
		"#5Cオマエタチ、ガンバル。","")
	WaitPrompt()

	// パロ
	TalkMes("Paro","#5268V#000e#000m#5Cモリビト、ツライカ？","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ありがとう、大丈夫だ")
	MenuAdd(2,"ダーナはもっと辛いはずだ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//────────────────────
	//	⇒ありがとう、大丈夫だ
	if (FLAG[TF_MENU_SELECT] == 1) {
		PlayVoice(Y8V_0162,"ADOL",100)	//フッ（微笑）
		
		// うなずきパクパク
		HeadYes("ADOL", 1, 25)	// キャラ, 回数, 速さ
		//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)
		
		// パロ
		TalkMes("Paro","#5269V#011e#000m#5Cあどる、ナカマイル。",
			"#5Cミンナ、ウレシイ。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒ダーナはもっと辛いはずだ
	else if (FLAG[TF_MENU_SELECT] == 2) {

		PlayVoice(Y8V_0176,"ADOL",100)	//そうだな…（思案／真剣）
	
		// 首振りパクパク
		HeadNo("ADOL", 1, 35)	// キャラ, 回数, 速さ
		//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
		Wait(35)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(15)
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)
		
		// パロ
		TalkMes("Paro","#5270V#011e#000m#5Cイマ、オマエタチイル。",
			"#5Cダーナ、ウレシイ。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -10.650f , -1480.409f , 25.996f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.801f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.182f , 0 )	// 基本仰角
	RotateCamera( 0 , 168.898f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookReset("ADOL")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -10.429f , -1479.977f , 25.996f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.801f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.755f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 121.627f , 900 )

	// フェード待ち
	Wait(FADE_CROSS)

	LookReset("Paro")
	
	// パロ
	TalkMes("Paro","#5271V#000e#000m#5Cオレサマ、ユメミル。","","")
	WaitPrompt()

	// パロ
	TalkMes("Paro","#5272V#000e#000m#5Cオマエタチノ、ユメミル。",
		"#5Cデモユメ、イツカオワル。","")
	WaitPrompt()
	
	LookChr("Paro", "ADOL")

	TalkMes("Paro","#5273V#000e#000m#5Cユメノツヅキ、ドウナル？","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	LookChr("ADOL", "Paro")
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"パロも夢をみるのか？")
	MenuAdd(2,"ど、どういうことだい？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)

	PlayVoice(Y8V_0181,"ADOL",100)	//え…？（疑問）

	Wait(50)

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -9.116f , -1480.525f , 25.996f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.161f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.333f , 0 )	// 基本仰角
	RotateCamera( 0 , 336.959f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 17.2f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -9.243f , -1480.636f , 25.996f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.681f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -9.486f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 24.799f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 60.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 0.6f , 600 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	LookReset("Paro")
	
	//────────────────────
	//	⇒パロも夢をみるのか？
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// パロ
		TalkMes("Paro","#5274V#011e#000m#0L#5C………………………………","","")
		WaitPrompt()
	}
	//	⇒ど、どういうことだい？
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// パロ
		TalkMes("Paro","#5274V#011e#000m#0L#5C………………………………","","")
		WaitPrompt()
	}
	//────────────────────

	// パロ
	TalkMes("Paro","#5275V#012e#000m#5Cオレサマ、あどるスキ。",
		"#5Cあどる、ガンバレ。","")
	WaitPrompt()

	// パロ
	TalkMes("Paro","#5276V#000e#000m#5Cオレサマ、ミマモル。",
		"#5Cオレサマ、オウエン。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　リトル・パロが飛んで行き、アドルがそれを眺める。
	LookReset("Paro")
	ChangeAnimation("Paro", "ANI_FLY2_S", -1, 1)
	Wait(50)
	ChangeAnimation("Paro", "ANI_FLY_RUN", -1, 1)
	ExecuteCmd(1, MoveTo, "Paro", -19.79f,-1488.50f,28.21f, 0.1f, 0.40f)
	ExecuteCmd(2, MoveZ, "Paro", 28.21f, 0, INTERPOLATE_COS, 80)
	SetParent("Paro", "", "")
	
	ChangeAnimation("ADOL", "ANI_EV_PARO_E", -1, 1)
	Wait(30)

	StopBGM(150)

	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_NORMAL)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , -11.593f , -1480.604f , 26.220f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.016f , 0 )	// 基本仰角
	RotateCamera( 0 , 133.953f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -11.593f , -1480.604f , 26.220f , 150 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 5.000f , 150 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -10.589f , 150 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 131.662f , 150 )

	Wait(FADE_NORMAL)
	Wait(60)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()

	//　　イベント終了、操作許可。
	//　　※アドルを中央上段・高台の前（17.04f, -1451.75f, 19.68f ,-149.83f）に再配置。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Paro_ED")
}
function "Sinai_Paro_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	SetParent("Paro", "", "")

	StopThread( 1 )
	StopThread( 2 )

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_PARO, 1 )			// 親愛イベントを見た（リトル・パロ）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（リトル・パロ）	名声値+2
		//SetDiaryCharaFlag( DRCHA_PARO, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（リトル・パロ）

		SetFlag(GF_GALL_EV_LIKE_04,1)			// Sinai_Paro

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",17.04f, -1451.75f, 19.68f)
		Turn("LEADER",-149.83f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

		SetEnvSEPlayState(-1, 1)	//環境SE
		FadeBGM(100, 30)

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
		SetChrWork("Paro", CWK_DEFAULT_SKIPNODE_OFF, 1)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// リヒト：▼親愛イベント
function "Sinai_Licht"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Licht")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Licht" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Licht" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Licht" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",-3.63f,-1474.62f,24.53f)
	Turn("ADOL",32.14f,360.0f)
	LookReset("ADOL")
	SetChrPos("Licht",-4.40f,-1475.88f,24.56f)
	Turn("Licht",-151.70f,360.0f)
	LookReset("Licht")

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Licht" , "ANI_WAIT", -1 , 1 )

	MoveCameraAt( 0 , -3.912f , -1475.819f , 26.424f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.401f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.757f , 0 )	// 基本仰角
	RotateCamera( 0 , 125.619f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.600)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	if( FLAG[GF_05MP6330_LOOK_MONOLITH] && !FLAG[GF_05MP1201_GOTO_GHOSTHIP] ){		//幽霊船を目撃
		StopBGM(120)
	} else if (FLAG[GF_05MP1201_OCEANUS_STANDBY] && !FLAG[GF_05MP1201_HOLD_PARTY]){		// オケアノス戦前
		StopBGM(120)
	} else if (FLAG[GF_TBOX_DUMMY087] && !FLAG[GF_07MP1202_AWAKE_ADOL]){		// ６話以降～ラスボス戦
		StopBGM(120)
	} else if(WORK[WK_ISINTERCEPT] == 1){	//迎撃戦中
		StopBGM(120)
	}

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Licht_ED")

//開始処理ここまで-----------------------------------------------

	//　　暗転を挟んで字幕イベントに移行。
	//　　中央上段・高台に立っているリヒトとアドル。
	//　　※この時点のリヒトは、アリスンの出産などの出来事を越えて
	//　　　少しは自信をつけている状態。

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------

	LookChr("ADOL", "Licht")
	LookChr("Licht", "ADOL")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -4.135f , -1475.210f , 26.002f , 120 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.640f , 120 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.759f , 120 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 107.692f , 120 )

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Wait(45)
	PlayBGM(BGM_TOWN_501, 15)

//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	FadeBGM(70,10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	ChangeAnimation( "Licht", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// リヒト
	TalkMes("Licht","#4278V#011e#080mアリスンさんの出産も",
		"無事に終えることができてほっとしました。","")
	WaitPrompt()

	ChangeAnimation( "Licht", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// リヒト
	TalkMes("Licht","#4279V#012e#000mふう……僕も少しは",
		"皆さんの役に立てているでしょうか。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -4.077f , -1475.194f , 25.862f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.880f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.754f , 0 )	// 基本仰角
	RotateCamera( 0 , 352.515f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -4.150f , -1475.233f , 26.102f , 600 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.640f , 600 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.327f , 600 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 17.438f , 600 )
	
	// フェード待ち
	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"リヒトの腕は評判だ")
	MenuAdd(2,"もっと自信を持っていい")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0156,"ADOL",100)	//ああ（肯定）


	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	
	ChangeAnimation( "Licht", "ANI_EV_BORI", -1, 1 )	// 頭かき
	Wait(10)
	
	//────────────────────
	//	⇒リヒトの腕は評判だ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// リヒト
		TalkMes("Licht","#4280V#000e#000mそ、そんな事は……",
			"僕はまだ医学生ですし……","")
		WaitPrompt()
	
		Look("Licht", 0.0f, -10.0f)	// うつむく
	
		// リヒト
		TalkMes("Licht","#4281V#011e#000m…………………………","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒もっと自信を持っていい
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// リヒト
		TalkMes("Licht","#4282V#000e#000mそ、そういうわけには……","","")
		WaitPrompt()

		// リヒト
		TalkMes("Licht","#4283V#000e#000m皆さんに支えられてやっと",
			"真似事が出来ているだけですから……","")
		WaitPrompt()

		Look("Licht", 0.0f, -10.0f)	// うつむく

		// リヒト
		TalkMes("Licht","#4281V#000e#000m…………………………","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	// カット3 ----------------------------------------------------------------------------------------

	//　　リヒト、遠くを見る。

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -5.298f , -1474.661f , 26.842f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.689f , 0 )	// 基本仰角
	RotateCamera( 0 , 105.103f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookReset("Licht")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -5.298f , -1474.661f , 26.082f , 600 )

	// フェード待ち
	Wait(FADE_CROSS)

	Turn("Licht",92.12f,6.5f)
	Wait(15)

	// リヒト
	TalkMes("Licht","#4284V#000e#000m……本当は、もう医者になるのは",
		"諦めようと思っていたんです。","")
	WaitPrompt()

	HeadNo("Licht", 1, 25)	// キャラ, 回数, 速さ

	// リヒト
	TalkMes("Licht","#4285V#000e#000m僕には向いていませんから。","","")
	WaitPrompt()
	WaitCloseWindow()

	// カット4 ----------------------------------------------------------------------------------------

	//　　リヒト、自分の手に視線を落とす。

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	
	// カメラ
	MoveCameraAt( 0 , -4.747f , -1475.812f , 25.953f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.095f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.335f , 0 )	// 基本仰角
	RotateCamera( 0 , 341.725f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -4.927f , -1475.719f , 26.126f , 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.920f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.180f , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 297.483f , 900 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 900 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -1.4f , 900 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_CROSS)
	
	ChangeAnimation( "Licht", "ANI_EV_TEWATASI_S", -1, 1 )	// 手渡し
	LookTo("Licht",-4.927f , -1475.719f , 25.766f)	// 座標：リヒトの手
	Wait(15)

	// リヒト
	TalkMes("Licht","#4286V#000e#000m医療というのは命を扱う事で……",
		"全てをこの手に抱えないといけないんです。","")
	WaitPrompt()

	ChangeAnimation( "Licht", "ANI_EV_TEWATASI_E", -1, 1 )	// 手渡し

	// リヒト
	TalkMes("Licht","#4287V#061e#000mでも僕には──それほど重い責任を",
		"負うなんて、できそうもありません。","")
	WaitPrompt()

	Look("Licht", 0.0f, -10.0f)	// うつむく

	// リヒト
	TalkMes("Licht","#4288V#062e#000m僕の小さなミスが命を奪うかもしれない……",
		"……怖いんです、医療に携わる事が。","")
	WaitPrompt()

	Look("Licht", 0.0f, 0.0f)	// うつむく戻す

	// リヒト
	TalkMes("Licht","#4289V#050e#080mはは……やっぱり",
		"名医だった先生のようにはなれません。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドルに・・・エモーション
	EmotionEx("ADOL", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(52)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	//　　リヒトと同じように遠くを見る
	LookSpd("ADOL",0.10f,0.10f,0.10f)
	LookTo("ADOL", -9.299f , -1475.922f , 26.126f)	// 座標：リヒトが見つめてる方向
	Wait(10)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"リヒトは向いていると思う")
	MenuAdd(2,"絶対の自信がある医者なんていない")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0166,"ADOL",100)	//いや…（否定）

	ChangeAnimation( "ADOL", "ANI_EV_WAIT2_S", -1, 1 )	// 待機（腰に手）
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//　　リヒトにＰＡエモーション
	EmotionEx("Licht", -0.015f, EMO_PA, 0, 5, 1, 1, 0.7f)	//パッ
	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_SUP, 1)	// 目
	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(35)
	
	//　　アドルに振り向く
	LookChr("Licht", "ADOL")
	TurnToChr("Licht", "ADOL", 5.0f)
	Wait(15)

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -4.032f , -1475.274f , 25.966f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.880f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.698f , 0 )	// 基本仰角
	RotateCamera( 0 , 179.165f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -3.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -4.032f , -1475.274f , 25.966f , 1200 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.880f , 1200 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.460f , 1200 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 96.946f , 1200 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 1200 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 2.3f , 1200 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_CROSS)

	//────────────────────
	//	⇒リヒトは向いていると思う
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)
		// リヒト
		TalkMes("Licht","#4290V#000e#000m……えっ？","","")
		WaitPrompt()
		
		LookChr("ADOL", "Licht")
		ChangeAnimation( "ADOL", "ANI_EV_WAIT2_TEBURI", -1, 1 )	// 片手腰 手振り
		
		//	ナレーション
		TalkMes(UNDEF,"#7Cアドルは、悩むのは誠実な",
			"#7C医者の証である事を伝えた。","")
		WaitPrompt()

		ChangeAnimation( "Licht", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
		
		// リヒト
		TalkMes("Licht","#4291V#070e#000m………誠実だから、悩む………","","")	//（驚き顔）
		WaitPrompt()
		WaitCloseWindow()

		ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
		
		//　　リヒトに・・・エモーション
		EmotionEx("Licht", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
		ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE, 1)	// 目
		Look("Licht", 0.0f, -10.0f)	// うつむく
		Wait(52)
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Look("Licht", 0.0f, 0.0f)	// うつむく戻す
		
		// リヒト
		TalkMes("Licht","#4292V#012e#000m先生も、悩んでいたのでしょうか……","","")
		WaitPrompt()
	
		ChangeAnimation( "Licht", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て
	
		// リヒト
		TalkMes("Licht","#4293V#000e#000m僕の知らない所で……",
			"闘病する僕を励ましながらも……","")
		WaitPrompt()
		WaitCloseWindow()
		
		//　　アドル、リヒトに頷いてみせる。

		ChangeAnimation( "ADOL", "ANI_EV_WAIT2_E", -1, 1 )	// 待機（腰に手）

		// うなずきセット
		HeadYes("ADOL" , 1 , 25 )
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		Wait(20)
		

		ChangeAnimation( "Licht", "ANI_EV_HOHOKAKI", -1, 1 )	// 頬かき
		
		// リヒト
		TalkMes("Licht","#4294V#081e#080m──そうですよね。",
			"僕の知っている先生は、そんな人です。","")
		WaitPrompt()

		// リヒト
		TalkMes("Licht","#4295V#011e#000mどんなに容態を悪くしても諦めずに……",
			"何日も休まずに看病してくださって。","")
		WaitPrompt()
		
		LookReset("Licht")
		//　　リヒト、軽く涙を拭う等のモーション
		ChangeAnimation( "Licht", "ANI_EV_NAMIDA", -1, 1 )

		//　　笑顔になる。
//		ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)	
//		ChangeSubAnimation("Licht",SUBMOT_EXT1,ANI_E_WAIT,1)	
		
		WaitAnimation2( "Licht" , -1, 1, "ANI_EV_NAMIDA",  0)
		
		TalkMes("Licht","#4296V#020e#080m忘れていました。",
			"そんな先生だから……僕は憧れたんです。","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒絶対の自信がある医者なんていない
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		
		// リヒト
		TalkMes("Licht","#4297V#000e#000m……えっ？","","")
		WaitPrompt()
		
		LookChr("ADOL", "Licht")
		ChangeAnimation( "ADOL", "ANI_EV_WAIT2_TEBURI", -1, 1 )	// 片手腰 手振り
		
		//	ナレーション
		TalkMes(UNDEF,"#7Cアドルは、どんな名医も",
			"#7C患者を信じて治療している事を説明した。","")
		WaitPrompt()
		
		ChangeAnimation( "Licht", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
		
		// リヒト
		TalkMes("Licht","#4298V#000e#000m………患者を信じて………","","")
		WaitPrompt()
		WaitCloseWindow()
		
		
		//　　リヒトに・・・エモーション
		EmotionEx("Licht", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
		ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE, 1)	// 目
		Look("Licht", 0.0f, -10.0f)	// うつむく
		Wait(52)
		
		Look("Licht", 0.0f, 0.0f)	// うつむく戻す
		
		// リヒト
		TalkMes("Licht","#4299V#012e#000m確かに……医療に",
			"絶対なんてありません。","")
		WaitPrompt()

		ChangeAnimation( "Licht", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

		// リヒト
		TalkMes("Licht","#4300V#000e#000mなのに先生は、いつも落ち着いて",
			"根気強く治療してくださいました。","")
		WaitPrompt()

		// リヒト
		TalkMes("Licht","#4301V#000e#000m……それはきっと、僕が必ず治ると",
			"信じてくださっていたから──","")
		WaitPrompt()
		WaitCloseWindow()
		
		ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
		
		//　　アドル、リヒトに頷いてみせる。

		ChangeAnimation( "ADOL", "ANI_EV_WAIT2_E", -1, 1 )	// 待機（腰に手）

		// うなずきセット
		HeadYes("ADOL" , 1 , 25 )
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		Wait(20)
		
		//　　リヒト、晴れ晴れとした顔を見せる。
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		
		ChangeAnimation( "Licht", "ANI_EV_HOHOKAKI", -1, 1 )	// 頬かき
		
		// リヒト
		TalkMes("Licht","#4302V#021e#080mはは、そうだったのか……","","")
		WaitPrompt()
		WaitCloseWindow()

		// リヒト
		TalkMes("Licht","#4303V#010e#080m僕は今まで何を……",
			"なんてつまらない事で悩んでいたんだろう。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"いい笑顔だ")
	MenuAdd(2,"これからもよろしく、リヒト先生")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0161,"ADOL",100)	//はは（微笑）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)

	// カメラ
	MoveCameraAt( 0 , -4.243f , -1475.690f , 26.206f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.680f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.172f , 0 )	// 基本仰角
	RotateCamera( 0 , 127.583f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 98.672f , 600 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	//────────────────────
	//	⇒いい笑顔だ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		ChangeAnimation( "Licht", "ANI_EV_BORI", -1, 1 )	// 頭かき
		
		// リヒト
		TalkMes("Licht","#4304V#020e#080mあははは……","","")
		WaitPrompt()

		// リヒト
		TalkMes("Licht","#4305V#022e#080mありがとうございました、アドルさん。",
			"これからもどうかよろしくお願いします！","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒これからもよろしく、リヒト先生
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// うなずきセット
		HeadYes("Licht" , 1 , 25 )
		ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		
		// リヒト
		TalkMes("Licht","#4306V#080m……はい！",
			"もちろんです、アドルさん！","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	
	Wait(20)

	//　　イベント終了、操作許可。
	//　　※アドルを中央上段・高台の前（17.04f, -1451.75f, 19.68f ,-149.83f）に再配置。

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Licht_ED")
}
function "Sinai_Licht_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	SetChrPos("Licht", -100000.00f, 0.00f, 0.00f)	// 彼方へ

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{

		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_LICHT, 1 )			// 親愛イベントを見た（リヒト）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（リヒト）	名声値+2
		//SetDiaryCharaFlag( DRCHA_LICHT, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（リヒト）
	
		SetFlag(GF_GALL_EV_LIKE_05,1)			// Sinai_Licht

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",17.04f, -1451.75f, 19.68f)
		Turn("LEADER",-149.83f,360.0f)

		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

		SetEnvSEPlayState(-1, 1)
		FadeBGM(100, 30)

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// クイナ：▼親愛イベント
function "Sinai_Kuina2"			//親愛クイナ・・・操作許可用
{
	SetStopFlag(STOPFLAG_EVENT)

	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理

	//イベント後の再配置
	SetChrPos("LEADER", 38.13f, -1414.59f, 10.83f)
	Turn("LEADER", 63.45f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt( 0 , 38.127f , -1414.587f , 12.692f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.642f , 0 )	// 基本仰角
	RotateCamera( 0 , 116.546f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
	
}



////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//■クエストセクション

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//===============================================================
//
// 【QS201】備蓄用の素材（ドギ）
// ▼クエスト開始イベント
//
function "QS_201_Start"
{
	//　　画面暗転を挟んで、倉庫前。
	//　　（最初から配置されている、ディナが干渉しない場所。
	//　　　※集落の発展度合いによって、
	//　　　　カメラや配置に分岐が必要かもしれません）
	//　　ドギの前にアドルが立っている。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",13.52f,-1420.12f,11.58f)
	Turn("ADOL",106.89f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	LookChr( "ADOL", "Dogi" )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi",11.61f,-1419.54f,11.58f)
	Turn("Dogi",-73.11f,360.0f)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dogi")
	LookChr( "Dogi", "ADOL" )
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

//	//カメラ設定
//	MoveCameraAt(0, 12.801f, -1419.805f, 13.149f, 0)	// 注視点
//	ChangeCameraDistance(0, 2.300f, 0)		// 基本距離
//	ChangeCameraElevation(0, 4.000f, 0)	// 基本仰角
//	RotateCamera(0, 106.528f, 0)				// 角度
//	ChangeCameraPers(0, 40.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
//
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 13.211f, -1419.791f, 13.149f, 45)		// 注視点

	MoveCameraAt( 0 , 13.211f , -1419.791f , 13.149f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.300f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 106.528f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 60.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_201_Start_ED")

//開始処理ここまで-----------------------------------------------

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	WaitThread(1000)

	ChangeAnimation("Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1)

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000mさてと、依頼ってのは他でもない、"
		"この倉庫のことだ。\p"
		"見ての通り、ここには島の方々から"
		"集めてきた資材を置いてあるんだが。\p"
		"実際に物々交換を始めてみると、"
		"どうにも一部の品が不足しがちでな。\p"
		"特に獣から採取できる素材……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dogi", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1)
	TalkPopup("Dogi", 0, 2, 0, 0, 0)
	{
		"#000e#000mそれも大量に消費するものほど、"
		"在庫の確保が面倒なんだ。\p"
		"ってなわけでアドル、"
		"ちょいと狩りを手伝ってもらえねえか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"もちろん協力するさ")
	MenuAdd(2,"具体的に何が必要なんだい？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	//──────────────────────
	//	⇒もちろん協力するさ
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadYes("ADOL", 1, 25)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		ChangeAnimation("Dogi", "ANI_EV_RYOTEKOSI_E", -1, 1)
		TalkPopup("Dogi",0,2,0,0,0)
		{
			"#000e#000mへへっ、アドルなら"
			"そう言ってくれると思ったぜ！\p"
			"#011eで、具体的に必要なモノだが。"
			"そうだな、在庫の状況からして……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒具体的に何が足りていないんだい？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		ChangeAnimation("Dogi", "ANI_EV_RYOTEKOSI_E", -1, 1)
		TalkPopup("Dogi", 0, 2, 0, 0, 0)
		{
			"#000e#000mへへっ、流石はアドルだ。"
			"話が早いぜ！\p"
			"#011eそうだな、在庫の状況からして……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	ChangeAnimation("Dogi", "ANI_EV_SIAN_S", -1, 1)
	TalkPopup("Dogi", 0, 2, 0, 0, 0)
	{
		"#012e#000m『濁った粘液』が１２、"
		//"#000e#000m#2C#166I濁った粘液#0Cが１２、"
		"『軽い骨』が８つばかし必要ってとこか。\p"
		//"#2C#158I軽い骨#0Cが８つばかし必要ってとこか。\p"
		"そんだけ用意してくれりゃあ、"
		"交換に回せる品も増やせるってもんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dogi", "ANI_EV_SIAN_E", -1, 1)
	
	TalkPopup("Dogi", 0, 2, 0, 0, 0)
	{

		"#000e#000mどうだ、何とかなりそうか？"
	}
	WaitPrompt()
		WaitCloseWindow()

	//　　アドルが頷く。
	HeadYes("ADOL" , 1 , 25)
	Wait(30)

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 11.345f , -1419.713f , 13.349f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.210f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -5.859f , 0 )	// 基本仰角
	RotateCamera( 0 , 101.164f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	Wait(FADE_CROSS)

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#080e#080mへへっ、ありがとよ！\p"
		"ちなみに素材が揃ったら、倉庫じゃなく"
		"直接俺の所まで持って来てくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dogi", "ANI_EV_YARUKI_S", -1, 1)
	TalkPopup("Dogi", 0, 2, 0, 0, 0)
	{
		"#080e#080mそんじゃあ、よろしく頼んだぜ！"
	}
	WaitPrompt()
		WaitCloseWindow()

	//　　イベント終了、操作許可。

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_201_Start_ED")
}
function "QS_201_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Dogi")
	SetChrPos("Dogi", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	SetFlag( GF_QUEST_201, QUEST_START )		// 【QS201】備蓄用の素材（ドギ）　クエスト開始
	SetDiaryFlag( DF_QS201_START, 1 )			// 【QS201】★ドギから話を聞いた。以下の素材を集めよう。

	//init呼び出し
	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", 15.00f, -1420.38f, 11.58f)
	Turn("LEADER", 69.27f, 360.0f)

	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt(0, 15.001f, -1420.382f, 13.439f, 0)	// 注視点
	//ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	//ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	//RotateCamera(0, 104.882f, 0)				// 角度
	//ChangeCameraPers(0, 60.000f, 0)			// 視野角
	//SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	//RollCamera(0, 0.0f, 0)				// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK, FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

//===============================================================
//
// 【QS201】備蓄用の素材（ドギ）
// ▼クエスト達成イベント
//
function "QS_201_Complete"
{
	//　　暗転明けて、倉庫前。
	//　　（最初から配置されている、ディナが干渉しない場所。
	//　　　※集落の発展度合いによって、
	//　　　　カメラや配置に分岐が必要かもしれません）
	//　　ドギとアドルが向き合っている。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",13.52f,-1420.12f,11.58f)
	Turn("ADOL",106.89f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	LookChr( "ADOL", "Dogi" )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 11.61f, -1419.54f, 11.58f)
	Turn("Dogi", 121.10f, 360.0f)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dogi")
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt(0, 11.108f, -1418.788f, 13.248f, 0)	// 注視点
	ChangeCameraDistance(0, 2.10f, 0)		// 基本距離
	ChangeCameraElevation(0, 5.109f, 0)	// 基本仰角
	RotateCamera(0, 99.096f, 0)				// 角度
	ChangeCameraPers(0, 55.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 11.180f, -1419.515f, 13.248f, 80)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 79.477f, 80)		// 角度

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 60.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_201_Complete_ED")

//開始処理ここまで-----------------------------------------------

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Turn("Dogi", -73.11f, 8.0f)
	LookChr("Dogi", "ADOL")

	WaitThread(1000)
	WaitThread(1001)

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#011e#080mよし、おかげさんで"
		"獣の素材も大分充実したな。\p"
		"#012eこれでより希少な素材も"
		"交換に回せるってもんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dogi", "ANI_EV_TEWATASI_S", -1, 1)

	TalkPopup("Dogi", 0, 2, 0, 0, 0)
	{
		"#000e#080m早速、対価として渡しておくぜ。"
	}
	WaitPrompt()
		WaitCloseWindow()
	ChangeAnimation("Dogi", "ANI_EV_TEWATASI_E", -1, 1)

	//	アイテム入手テキスト
	//「『暴獣爪』を手に入れた！」
	GetItemMessageExPlus(ICON3D_MT_R1_PARTS01, 1, ITEMMSG_SE_JINGLE, "を手に入れた。" ,0 ,0 )
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dogi", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#080e#080mへっ、なかなか上質な素材だろ？\p"
		"#000e#080m俺の方でも、暇を見ては"
		"狩りに繰り出してるからな。\p"
		"これからも気兼ねなく、"
		"じゃんじゃん倉庫を活用してくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, 12.826f, -1419.862f, 13.124f, 0)	// 注視点
	ChangeCameraDistance(0, 2.361f, 0)		// 基本距離
	ChangeCameraElevation(0, 2.899f, 0)	// 基本仰角
	RotateCamera(0, 40.206f, 0)				// 角度
	ChangeCameraPers(0, 45.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(10)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"流石はドギだね")
	MenuAdd(2,"頼りにしているよ2")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	//──────────────────────
	//	⇒流石はドギだね
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadYes("ADOL", 1, 25)
		Wait(25)

		ChangeAnimation("Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1)
		PlayVoice(Y8V_3567, "Dogi", 100)	//ハハ！
		TalkPopup("Dogi",0,2,0,0,0)
		{
			"#080e#080mハハ、体力と馬鹿力こそが"
			"俺の取り得だからな。\p"
			"これからも、せいぜい"
			"支えてやるから安心するこった。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒頼りにしているよ
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		HeadYes("ADOL", 1, 25)
		Wait(25)

		ChangeAnimation("Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1)
		PlayVoice(Y8V_3566, "Dogi", 100)	//おうよ！
		TalkPopup("Dogi",0,2,0,0,0)
		{
			"#080e#080mおうよ、任せとけ！\p"
			"こちらこそ頼りにしてるぜ、相棒！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 14.204f, -1420.627f, 13.124f, 160)		// 注視点
//	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 71.323f, 160)		// 角度
//
	//　　画面暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	StopThread(1000)
	StopThread(1001)

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【備蓄用の素材】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒好感度が一段階上がる場合
	if( FLAG[GF_LIKELV_DOGI] < 2 )
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cドギの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cドギの好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4C倉庫で交換できる素材が増えた！#10W" 
		"素材2行目"
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。
	//　　※アドルを屋内のエントランススペースに再配置。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_201_Complete_ED")
}
function "QS_201_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_Dogi")
	SetChrPos("Dogi", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_QUEST_201, QUEST_SUCCESS )		// 【QS201】備蓄用の素材（ドギ）　クエストを達成した
	DeleteItem( ICON3D_MT_N1_BONE, 8 )			// 「軽い骨」×8
	DeleteItem( ICON3D_MT_N1_LIQUID, 12 )		// 「濁った粘液」×12
	GetItem( ICON3D_MT_R1_PARTS01, 1 )			// 『暴獣爪』
	SetFlag( GF_LIKELV_DOGI, ( FLAG[GF_LIKELV_DOGI] + 1 ) )	// 好感度ＵＰ
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS201】備蓄用の素材（ドギ）	名声値+1
	SetDiaryFlag( DF_QS201_END, 1 )				//　【QS201】★ドギに素材を渡し、依頼を達成。
	//SetFlag( GF_QS201_SHOP_ADD, 1 )				//【QS201】「備蓄用の素材」クリア後ショップに追加

	//init呼び出し
	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", 15.00f, -1420.38f, 11.58f)
	Turn("LEADER", 69.27f, 360.0f)

	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, 15.001f, -1420.382f, 13.439f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, 104.882f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

//──────────────────────────────
//▽バルバロスが通りかかり必須クエスト開始
//──────────────────────────────
function "Tuto_Barbaross"
{
	//　　カトリーンのチュートリアルイベント後、
	//　　集落の出口付近に行くとイベント起動。
	//　　（地図移動で出ようとした場合もハックして起動）

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("Barbaross")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",42.92f,-1412.02f,10.74f)
	Turn("ADOL",-121.67f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	//SetChrPos("Barbaross",37.03f,-1415.87f,10.83f)
	//Turn("Barbaross",-124.28f,360.0f)
	SetChrPos("Barbaross", 38.66f, -1414.95f, 10.83f)
	Turn("Barbaross", -123.62f, 360.0f)
	ChangeAnimation( "Barbaross" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Barbaross", "ADOL")
	SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI)

	//ノード制御
	MapHide("smoke", 0)				//煙消す

	//カメラ設定
	MoveCameraAt(0, 44.206f, -1410.573f, 12.008f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 2.884f, 0)	// 基本仰角
	RotateCamera(0, 324.107f, 0)				// 角度
	ChangeCameraPers(0, 40.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 150.000 ,1.000 ,0.700 ,0.600)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Tuto_Barbaross_ED")

//開始処理ここまで-----------------------------------------------

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//	落ち着いた声
	SetName("落ち着いた声")
	TalkPopup(UNDEF,0,0,1,100,0)
	{
		"──おお、アドル。"
		"丁度良かった。"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	// 「！」
	Wait(40)
	//　　アドルが向くとバルバロスが歩いてくる。
	
	Turn("ADOL",49.46f, 8.0f)
	Wait(10)

	CrossFade(FADE_FAST)

	//バルひとりカメラ
	//MoveCameraAt(0, 39.304f, -1414.174f, 12.380f, 0)	// 注視点
	//ChangeCameraDistance(0, 2.700f, 0)		// 基本距離
	//ChangeCameraElevation(0, 6.195f, 0)	// 基本仰角
	//RotateCamera(0, 119.076f, 0)				// 角度
	//ChangeCameraPers(0, 40.000f, 0)			// 視野角
	//SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	//RollCamera(0, 0.0f, 0)				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//アドルも一緒に移しつつ
	MoveCameraAt(0, 42.344f, -1412.593f, 12.306f, 0)	// 注視点
	ChangeCameraDistance(0, 2.700f, 0)		// 基本距離
	ChangeCameraElevation(0, 2.855f, 0)	// 基本仰角
	RotateCamera(0, 106.690f, 0)				// 角度
	ChangeCameraPers(0, 40.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1, MoveTo, "Barbaross", 41.22f, -1413.22f, 10.82f, 0.1f, 0.227f)
	//ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 40.801f, -1413.328f, 12.380f, 100)		// 注視点

	WaitThread(1)
	Wait(10)

	ChangeAnimation("Barbaross", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000e#000m今、掲示板に依頼を"
		"張り出そうとしたのだが……\p"
		"少々重要な案件なので直接"
		"君に伝えたいと思っていたのだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　カメラ切り替えて見張り台予定地に移動。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	SetChrPos("ADOL", 21.86f, -1424.43f, 10.99f)
	Turn("ADOL", 64.47f, 360.0f)

	LookReset("Barbaross")
	SetChrPos("Barbaross",22.20f,-1425.68f,11.13f)
	Turn("Barbaross",91.28f,360.0f)

	//MoveCameraAt(0, 22.738f, -1424.092f, 15.757f, 0)	// 注視点
	//ChangeCameraDistance(0, 4.139f, 0)		// 基本距離
	//ChangeCameraElevation(0, 4.945f, 0)	// 基本仰角
	//RotateCamera(0, 121.587f, 0)				// 角度
	//ChangeCameraPers(0, 59.000f, 0)			// 視野角
	//SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	//RollCamera(0, 0.0f, 0)				// ロール回転
	//ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 20.611f, -1425.160f, 12.508f, 180)	// 注視点
	//ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 4.139f, 180)		// 基本距離
	//ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 6.025f, 180)	// 基本仰角
	//ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 92.349f, 180)				// 角度

	MoveCameraAt(0, 26.513f, -1423.435f, 13.897f, 0)	// 注視点
	ChangeCameraDistance(0, 4.139f, 0)		// 基本距離
	ChangeCameraElevation(0, 13.424f, 0)	// 基本仰角
	RotateCamera(0, 112.419f, 0)				// 角度
	ChangeCameraPers(0, 59.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 20.879f, -1425.252f, 12.731f, 110)	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 4.139f, 110)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, -0.066f, 110)	// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 97.296f, 110)				// 角度

	FadeIn(FADE_BLACK, FADE_FAST)
	WaitFade()

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	Look("Barbaross", 30.00f, -5.00f)

	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000e#000mアドルたちのおかげで"
		"漂流者たちの捜索は順調だ。\p"
		"だが、ここも獣たちの襲撃に"
		"遭ったりと全く油断はできない。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Barbaross", "ANI_EV_UDEGUMI_S", -1, 1)

	TalkPopup("Barbaross", 0, 2, 0, 0, 0)
	{
		"#000e#000mそこで皆さんを守るために"
		"村の防衛力を強化したいのだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL", "Barbaross")

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"協力させてください")
	MenuAdd(2,"どうするつもりですか？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//─────────────────────────
	//	⇒協力させてください
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadYes("ADOL", 1, 25)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		ChangeAnimation("Barbaross", "ANI_EV_UDEGUMI_E", -1, 1)
		TalkPopup("Barbaross",0,2,0,0,0)
		{
			"#010e#000mうむ、すまないな。"
			"やるべきことは多いのだが……\p"
			"#000e#000mここはやはり獣から身を守るための"
			"施設を増やすべきだろう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	
	}
	//	⇒どうするつもりですか？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI_L", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		ChangeAnimation("Barbaross", "ANI_EV_UDEGUMI_E", -1, 1)
		TalkPopup("Barbaross", 0, 2, 0, 0, 0)
		{
			"#010e#000mうむ、すまないな。"
			"やるべきことは多いのだが……\p"
			"#000e#000mここはやはり獣から身を守るための"
			"施設を増やすべきだろう。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//─────────────────────────
	Look("Barbaross", 0.0f, 20.0f)
	ChangeAnimation("Barbaross", "ANI_EV_RYOTEKOSI_S", -1, 1)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 20.226f, -1425.406f, 13.078f, 40)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, -6.444f, 40)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 107.198f, 40)		// 角度

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000e#000mまずはこの場所に大きな"
		"《見張り台》を造りたいと考えている。\p"
		"それが皆さんを励ますような"
		"村の象徴となれば尚良いと思わんか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("ADOL", 0.0f, 20.0f)
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"それはいい考えですね")
	MenuAdd(2,"迎撃の施設を強化するべきです")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
	HeadYes("ADOL", 1, 25)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//─────────────────────────
	//	⇒それはいい考えですね
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		Look("Barbaross", 30.00f, -5.00f)
		TalkPopup("Barbaross",0,2,0,0,0)
		{
			"#080e#080mふむ、賛成してくれるか。\p"
			"#000e#000m迎撃の施設も強化したいが、"
			"いずれにしても見張り台は必要だ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒迎撃の施設を強化するべきです
	else if (FLAG[TF_MENU_SELECT] == 2)
	{

		Look("Barbaross", 30.00f, -5.00f)
		TalkPopup("Barbaross",0,2,0,0,0)
		{
			"#080e#080mうむ、それももちろん考えている。\p"
			"#000e#000mだが、いずれにしても"
			"見張り台は最優先で必要なのだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//─────────────────────────

	ChangeAnimation("Barbaross", "ANI_EV_RYOTEKOSI_E", -1, 1)
	WaitAnimation2("Barbaross", -1, 1, "ANI_EV_RYOTEKOSI_E", 0)

	CrossFade(FADE_CROSS)

	LookReset("Barbaross")
	LookReset("ADOL")
	Turn("Barbaross", 145.82f, 360.0f)
	Turn("ADOL", -27.49f, 360.0f)

	LookSpd("Barbaross", 1.0, 1.0, 1.0)
	LookSpd("ADOL", 1.0, 1.0, 1.0)

	LookChr("ADOL", "Barbaross")
	LookChr("Barbaross", "ADOL")

	//MoveCameraAt(0, 23.526f, -1425.540f, 12.478f, 0)	// 注視点
	//ChangeCameraDistance(0, 3.639f, 0)		// 基本距離
	//ChangeCameraElevation(0, 3.798f, 0)	// 基本仰角
	//RotateCamera(0, 246.897f, 0)				// 角度
	//ChangeCameraPers(0, 54.000f, 0)			// 視野角
	//SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	//RollCamera(0, 0.0f, 0)				// ロール回転

	MoveCameraAt(0, 23.665f, -1425.588f, 12.453f, 0)	// 注視点
	ChangeCameraDistance(0, 3.639f, 0)		// 基本距離
	ChangeCameraElevation(0, 3.954f, 0)	// 基本仰角
	RotateCamera(0, 249.366f, 0)				// 角度
	ChangeCameraPers(0, 54.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)

	TalkPopup("Barbaross",0,0,0,0,0)
	{
		"#000e#000mそのためには、質の良い資材が"
		"それなりに必要となりそうだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Barbaross", "ANI_EV_UDEGUMI_S", -1, 1)

	TalkPopup("Barbaross", 0, 0, 0, 0, 0)
	{
		"#000e#000mどうやらリトル・パロが、いくつか"
		"いい場所を見つけてくれたようでな。\p"
		"名知らず海岸の北に"
		"広がっているという大峡谷の流域──\p"
		"そこに良質な木材や石材が"
		"採れる場所が３箇所あるようなのだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"それらを運んでくればいいんですね？")
	MenuAdd(2,"まずは調べる必要がありそうですね")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	Wait(20)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)
	
	//──────────────────────
	//	⇒それを運んでくればいいんですね？
	if (FLAG[TF_MENU_SELECT] == 1)
	{

		HeadNo("Barbaross", 1, 35)
		ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		TalkPopup("Barbaross",0,0,0,0,0)
		{
			"#000mいや、アドルたちだけでは"
			"それは大変だろう。"
		}
		WaitPrompt()
		ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		WaitCloseWindow()
		
	}
	//	⇒まずは調べる必要がありそうですね
	else if (FLAG[TF_MENU_SELECT] == 2)
	{

		HeadYes("Barbaross", 1, 25)
		ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		TalkPopup("Barbaross",0,0,0,0,0)
		{
			"#000mああ、その通りだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	TalkPopup("Barbaross",0,0,0,0,0)
	{
		"#000e#000mそれらが本当に使える資材なのか。\p"
		"使える資材2行目"
		"切り出して運び出すとなれば、"
		"どのくらいの手間がかかりそうか。\p"
		"まずは現地に赴き、"
		"しかと見極める必要があるだろう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Barbaross", "ANI_EV_UDEGUMI_TEBURI", -1, 1)
	TalkPopup("Barbaross", 0, 0, 0, 0, 0)
	{
		"#000e#000mその役目をアドル、"
		"ぜひとも君たちにお願いしたいのだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルが頷く。
	HeadYes("ADOL" , 1 , 25)
	Wait(35)

	ChangeAnimation("Barbaross", "ANI_EV_UDEGUMI_E", -1, 1)

	TalkPopup("Barbaross",0,0,0,0,0)
	{
		"#000e#000mありがとう、本当に助かる。\p"
		"資材の場所を確認できたら"
		"私まで報告をしてくれたまえ。\p"
		"どうかくれぐれも気をつけてな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//StopThread(1000)
	//StopThread(1001)

	//　　画面暗転のまま下記のメッセージ表示。

	PlaySE(SE_QUEST_ADD, 100, 0, 0, 0, 1.0f, 0)		// クエスト追加
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#-1W#4C冒険日誌のクエストページに"
		"#-1W#4C必須クエスト#8C【見張り台の建設】#4Cが追加された。"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	PlaySE(SE_EV_POINT, 100, 0, 0, 0, 1.0f, 0)	//マップ登録
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4C探索ポイントが地図に記された。#10W" 
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　フェードインして操作許可。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Tuto_Barbaross_ED")
}
function "Tuto_Barbaross_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Barbaross")
	SetChrPos("Barbaross", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag(GF_02MP1201_TUTO_QS220, 1)
	SetFlag( GF_QUEST_220, QUEST_START )		// 【QS220】見張り台の建設（バルバロス）　クエストを開始した
	SetDiaryFlag( DF_QS220_START, 1 )// 【QS220】★名知らず海岸の北に広がっているという
	SetFlag( TF_BARBAROSS_TALK, 0 )		//（★パッチ1.01対応）バルバロス会話ＴＦリセット

	//マーカー設置			
	SetMapMarker( SMI_SYMBOL, PAGE_F002, MARKER_QS_220_LP1, 135.09f, -537.51f, 52.15f, 	135.09f, -537.51f,	MARKER_QS_220_LP1, MN_F_MP1107,	1)	// 【QS220】見張り台の建設（バルバロス）イベントＡ用
	SetMapMarker( SMI_SYMBOL, PAGE_F002, MARKER_QS_220_LP2, 227.91f, -933.01f, -0.14f, 	227.91f, -933.01f,	MARKER_QS_220_LP2, MN_F_MP1120,	1)	// 【QS220】見張り台の建設（バルバロス）イベントＢ用
	SetMapMarker( SMI_SYMBOL, PAGE_F002, MARKER_QS_220_LP3, 295.53f, -702.34f, 59.34f, 	295.53f, -702.34f,	MARKER_QS_220_LP3, MN_F_MP3103,	0)	// 【QS220】見張り台の建設（バルバロス）イベントＣ用

	//init呼び出し
	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",32.04f,-1418.69f,10.83f)
	Turn("LEADER",-125.63f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, 32.040f, -1418.690f, 12.690f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, -59.147f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

//===============================================================
//
// 【QS220】見張り台の作成（バルバロス）
// ▼クエスト達成イベント
//
function "QS_220_Complete"
{

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Barbaross")
	LoadChr("Dogi")
	LoadChr("Alison")
	LoadChr("Paro")
	LoadChr("Curran")
	LoadChr("Kiergaard")
	LoadChr("Katrin")
	LoadChr("Licht")
	CallFunc("system:Load_Nia_Event")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 24.45f, -1422.20f, 10.83f)
	Turn("ADOL", 48.67f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 18.86f, -1427.29f, 11.65f)
	Turn("LAXIA", 102.63f, 360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("LAXIA")
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 25.48f, -1424.30f, 10.83f)
	Turn("SAHAD", 105.79f, 360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("SAHAD")
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)

	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Barbaross",16.68f,-1427.41f,11.61f)
	Turn("Barbaross",-117.78f,360.0f)
	ChangeAnimation( "Barbaross" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Barbaross")
	SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 22.82f, -1422.94f, 10.83f)
	Turn("Dogi", -92.12f, 360.0f)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dogi")
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI)

	SetChrWork("Kiergaard", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kiergaard", 18.04f, -1426.16f, 11.66f)
	Turn("Kiergaard", 38.32f, 360.0f)
	ChangeAnimation( "Kiergaard" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Kiergaard",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Kiergaard",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Kiergaard")
	SetChrInfoFlag( "Kiergaard" , INFOFLAG_NOCHRATARI)

	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison", 13.54f, -1422.23f, 11.60f)
	Turn("Alison", 110.39f, 360.0f)
	ChangeAnimation( "Alison" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Alison")
	SetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI)

	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Katrin",11.68f,-1418.80f,11.58f)
	Turn("Katrin",94.71f,360.0f)
	ChangeAnimation( "Katrin" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Katrin")
	SetChrInfoFlag( "Katrin" , INFOFLAG_NOCHRATARI)

	if( FLAG[GF_SUBEV_JOIN_NIA] )				// シスター・ニアと合流した
	{
		SetChrWork("Nia", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Nia", 17.01f, -1419.15f, 11.58f)
		Turn("Nia", 76.96f, 360.0f)
		ChangeAnimation( "Nia" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Nia",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Nia",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Nia",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Nia")
		SetChrInfoFlag( "Nia" , INFOFLAG_NOCHRATARI)
	}

	SetChrInfoFlag( "Curran" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Curran" , INFOFLAG_NOATARI)

	SetChrWork("Curran", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Curran", 27.13f, -1426.25f, 10.808f)
	Turn("Curran", 171.43f, 360.0f)
	ChangeAnimation("Curran", "ANI_EV_SIT_C", -1, 1)
	ChangeSubAnimation("Curran",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Curran")

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt(0, 19.100f, -1426.636f, 13.137f, 0)	// 注視点
	ChangeCameraDistance(0, 2.899f, 0)		// 基本距離
	ChangeCameraElevation(0, 1.832f, 0)	// 基本仰角
	RotateCamera(0, 63.163f, 0)				// 角度
	ChangeCameraPers(0, 57.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_220_Complete_ED")

//開始処理ここまで-----------------------------------------------

	//　　以下のキャラたちが漂流村の設備を建設する様子を写しつつ
	//　　ナレーションを表示する。
	//　　※ただしカーランだけはさぼっている風。
	//　　・アドル
	//　　・ラクシャ
	//　　・サハド
	//　　・バルバロス
	//　　・ドギ
	//　　・キルゴ－ル
	//　　・アリスン
	//　　・カトリーン
	//　　・シスター・ニア（回収していれば）
	//　　・カーラン

	//カメラ：漂流村の設備を建設する様子を写す
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 25.248f, -1429.523f, 13.410f, 400)	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 2.899f, 400)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 10.126f, 400)	// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 355.865f, 400)				// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE, 49.000f, 400)		// 視野角

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	ExecuteFunc(100, "mp1201:QS_220_Laxia_move")
	ExecuteFunc(101, "mp1201:QS_220_Adol_move")
	ExecuteFunc(102, "mp1201:QS_220_Katrin_move")

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cこうしてバルバロス船長の指示の下、"
		"#7Cさっそく作業が始まった。"
	}

	Wait(100)
	ClosePrompt()
	WaitCloseWindow()

	Wait(50)

	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0)
	{
		
		"#7C資材の切り出しから運び出し、"
		"#7C組み立てに至るまで……"
	}
	
	Wait(80)
	ClosePrompt()
	WaitCloseWindow()

	Wait(50)

	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0)
	{
		"#7Cアドルたち探索班を含め、"
		"#7C漂流村の者たち全員が"
		"#7C一致団結して作業に取り組み……"
	}
	Wait(130)
	ClosePrompt()
	WaitCloseWindow()

	Wait(20)
	EmotionEx("Curran", 0.00f, EMO_ZZZ, 0, 5, 1, 1, 1.8f)	//Ｚｚｚ
	Wait(50)

	//　　画面暗転を挟んで、
	//　　まずは見張り台をじっくりと写す。

	StopBGM(120)
	FadeOut(FADE_BLACK,FADE_SLOW)
	WaitFade()
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//カメラ停止：漂流村の設備を建設する様子を写す
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)

	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0)
	{
		
		"#7C幾度かの夜を経て、"
		"#7Cついに見張り台が完成するのだった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// 集落を発展させる
	MapAnime( "Village" , "Lv4" )	// Lv4			40-41[E]	見張り台、台所が追加され、物置が拡張されます。
	
	MapHide("fire_alpha", 0)		//煙消し
	MapHide("smoke", 0)
	MapHide("flag", 1)				//旗ON
	MapAnime( "flag", "on" )

	MapHide("EVENT_kadan", 1)		//防衛柵と周辺の花壇

	// パロの止まり木
	MapAnime( "parowood" , "Lv1" )
	MapHide( "parowood", 1 )

	SetChrPos("ADOL", 25.37f, -1421.82f, 10.83f)
	Turn("ADOL", 40.41f, 360.0f)

	SetChrPos("LAXIA", 24.61f, -1421.17f, 10.83f)
	Turn("LAXIA", 25.35f, 360.0f)

	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	SetChrPos("SAHAD", 26.06f, -1420.53f, 10.83f)
	Turn("SAHAD", 26.75f, 360.0f)

	SetChrPos("Barbaross", 24.25f, -1423.52f, 10.83f)
	Turn("Barbaross", -115.20f, 360.0f)

	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	SetChrPos("Dogi", 24.72f, -1424.73f, 10.83f)
	Turn("Dogi", -133.96f, 360.0f)

	ChangeAnimation("Alison", "ANI_WAIT", -1, 1)
	SetChrPos("Alison", 27.20f, -1424.00f, 10.83f)
	Turn("Alison", 116.53f, 360.0f)

	ChangeAnimation("Kiergaard", "ANI_WAIT", -1, 1)
	SetChrPos("Kiergaard", 28.76f, -1423.91f, 10.83f)
	Turn("Kiergaard", 102.70f, 360.0f)

	ChangeAnimation("Katrin", "ANI_WAIT", -1, 1)
	SetChrPos("Katrin", 27.65f, -1424.79f, 10.83f)
	Turn("Katrin", 129.77f, 360.0f)
	//ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_SMILE, 1)
	//ChangeSubAnimation("Katrin", SUBMOT_MOUTH, ANI_M_SMILE, 1)

	SetChrPos("Curran" , -100000.0f , 0.0f , 0.0f)
	
	LookTo("ADOL", 25.00f, -1423.00f, 13.00f)
	LookTo("LAXIA", 25.00f, -1423.00f, 13.00f)
	LookTo("SAHAD", 25.00f, -1423.00f, 13.00f)
	LookTo("Alison", 25.00f, -1423.00f, 13.00f)
	//ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_SMILE, 1)
	//ChangeSubAnimation("Alison", SUBMOT_MOUTH, ANI_M_SMILE, 1)
	LookTo("Kiergaard", 25.00f, -1423.00f, 13.00f)
	LookTo("Katrin", 25.00f, -1423.00f, 13.00f)

	if( FLAG[GF_SUBEV_JOIN_NIA] )				// シスター・ニアと合流した
	{
		ChangeAnimation("Nia", "ANI_WAIT", -1, 1)
		SetChrPos("Nia", 28.62f, -1422.77f, 10.83f)
		Turn("Nia", 78.47f, 360.0f)
		LookTo("Nia", 25.00f, -1423.00f, 13.00f)
	}

	SetChrInfoFlag( "Paro" , INFOFLAG_NOGRAVITY )
	SetChrWork("Paro", CWK_DEFAULT_SKIPNODE_OFF, 1)
	//SetChrPos("Paro", 22.19f, -1423.10f, 12.24f)
	//Turn("Paro", -115.89f, 360.0f)
	SetChrPos("Paro", 22.11f, -1422.99f, 12.24f)
	Turn("Paro", -127.32f, 360.0f)
	SetParent("Paro", "", "")
	ChangeAnimation("Paro", "ANI_WAIT3", -1, 1)
	ChangeSubAnimation("Paro", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Paro", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	LookReset("Paro")
	SetChrInfoFlag( "Paro" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Paro" , INFOFLAG_NOSHADOW)

	MoveCameraAt(0, 28.634f, -1415.600f, 36.899f, 0)	// 注視点
	ChangeCameraDistance(0, 5.701f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.300f, 0)	// 基本仰角
	RotateCamera(0, 138.113f, 0)				// 角度
	ChangeCameraPers(0, 54.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	PlayBGM(BGM_EVENT_003, 0)
	//SetEnvSEPlayState(1201201, 0)	//

	SetEnvSEPlayState(1201001, 1)	//
	SetEnvSEPlayState(1201002, 1)	//
	SetEnvSEPlayState(1201003, 1)	//
	SetEnvSEPlayState(1201101, 1)	//

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 33.609f , -1425.305f , 15.667f, 180)	// 注視点
	ExecuteCmd(1000, ChangeCameraDistance, INTERPOLATE_SPHERE, 5.701f, 180)		// 基本距離
	ExecuteCmd(1000, ChangeCameraElevation, INTERPOLATE_SPHERE, 6.194f , 180)	// 基本仰角
	ExecuteCmd(1000, RotateCamera, INTERPOLATE_SPHERE, 86.436f ,  180)				// 角度

	//MoveCameraAt( 0 , 33.609f , -1425.305f , 15.667f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 5.701f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 6.194f , 0 )	// 基本仰角
	//RotateCamera( 0 , 86.436f , 0 )				// 角度
	//ChangeCameraPers( 0 , 54.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	Wait(30)

	//　　その後、見張り台の前に集まっている
	//　　全員を写す。
	//　　ただし、カーランのみ上段
	//　　16.75f, -1438.21f, 18.46f ,-167.97f付近にいる。

	//カメラ：見張り台前

	CrossFade(FADE_NORMAL)

	ResetChrInfoFlag( "Curran" , INFOFLAG_NOATARI)

	SetChrPos("Curran", 16.10f, -1437.25f, 18.48f)
	Turn("Curran", -142.48f, 360.0f)
	ChangeAnimation("Curran", "ANI_WAIT", -1, 1)

	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	SetChrPos("ADOL", 25.37f, -1421.82f, 10.83f)
	Turn("ADOL", 40.41f, 360.0f)	
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE, 1)

	SetChrPos("LAXIA", 24.61f, -1421.17f, 10.83f)
	Turn("LAXIA", 25.35f, 360.0f)

	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	SetChrPos("SAHAD", 26.06f, -1420.53f, 10.83f)
	Turn("SAHAD", 26.75f, 360.0f)

//	MoveCameraAt(0, 31.591f, -1423.342f, 13.360f, 0)	// 注視点
//	ChangeCameraDistance(0, 1.501f, 0)		// 基本距離
//	ChangeCameraElevation(0, 7.493f, 0)	// 基本仰角
//	RotateCamera(0, 104.326f, 0)				// 角度
//	ChangeCameraPers(0, 55.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
//
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 29.021f, -1419.552f, 13.162f, 100)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 7.492f, 100)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 140.163f, 100)		// 角度
//	ExecuteCmd(1000, ChangeCameraDistance, INTERPOLATE_SPHERE, 1.501f, 100)		// 基本距離
//
//	Wait(FADE_NORMAL)
//
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//	Wait(15)

	CrossFade(FADE_FAST)
	MoveCameraAt(0, 24.732f, -1422.134f, 12.318f, 0)	// 注視点
	ChangeCameraDistance(0, 1.501f, 0)		// 基本距離
	ChangeCameraElevation(0, 7.492f, 0)	// 基本仰角
	RotateCamera(0, 313.591f, 0)				// 角度
	ChangeCameraPers(0, 55.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_FAST)

	PlayVoice(Y8V_1411, "SAHAD", 100)	//ガハハ（控えめな笑い）
	ChangeAnimation("SAHAD", "ANI_EV_GUTSPOSE_S", -1, 1)
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#080e#080mガハハ、まったく見事なモンだぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("LAXIA", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#080e#080mこれを、わたくしたちが一から……"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)

	MoveCameraAt(0, 26.878f, -1423.680f, 12.218f, 0)	// 注視点
	ChangeCameraDistance(0, 1.501f, 0)		// 基本距離
	ChangeCameraElevation(0, 7.491f, 0)	// 基本仰角
	RotateCamera(0, 267.462f, 0)				// 角度
	ChangeCameraPers(0, 55.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)

	PlayVoice(Y8V_4415, "Alison", 100)	//ふふ（微笑）
	ChangeAnimation("Alison", "ANI_EV_MUNEGASSHOU_S", -1, 1)
	TalkPopup("Alison",0,1,0,0,0)
	{
		"#080e#080mええ、とても感慨深いですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Kiergaard", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Kiergaard",0,2,0,0,0)
	{
		"#000e#000mふむ、人間何事も"
		"やればできるものですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒シスター・ニアが合流している場合
	if( FLAG[GF_SUBEV_JOIN_NIA] )				// シスター・ニアと合流した
	{
		ChangeAnimation("Nia", "ANI_EV_TEMUNE_S", -1, 1)
		TalkPopup("Nia",0,0,0,0,0)
		{
			"#080e#080mふふ、これも神の思し召しでしょう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────
	CrossFade(FADE_CROSS)
	MoveCameraAt(0, 24.981f, -1423.034f, 12.443f, 0)	// 注視点
	ChangeCameraDistance(0, 1.420f, 0)		// 基本距離
	ChangeCameraElevation(0, 4.197f, 0)	// 基本仰角
	RotateCamera(0, 130.937f, 0)				// 角度
	ChangeCameraPers(0, 58.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)

	ChangeAnimation("Barbaross", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Barbaross",0,0,0,0,0)
	{
		"#000e#000mしかし、この見張り台も"
		"素晴らしいですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ここで外れの広場と調理場を写してから

	//外れの広場
	FadeOut(FADE_BLACK,FADE_FAST)
	WaitFade()

	MoveCameraAt( 0 , -52.103f , -1444.926f , 30.738f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.700f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 42.393f , 0 )	// 基本仰角
	RotateCamera( 0 , 145.905f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -50.923f , -1445.536f , 30.167f , 110 )	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 5.800f, 110)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 27.368f, 110)	// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 107.412f, 110)				// 角度

	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	//調理場
	FadeOut(FADE_BLACK,FADE_FAST)
	WaitFade()

	MoveCameraAt( 0 , 19.057f , -1440.535f , 12.566f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 31.311f , 0 )	// 基本仰角
	RotateCamera( 0 , 65.559f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 20.319f, -1439.605f, 13.434f, 110)	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 5.000f, 110)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 15.784f, 110)	// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 123.217f, 110)				// 角度

	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	//　　再び見張り台前。

	//カメラ：見張り台前
	FadeOut(FADE_BLACK,FADE_FAST)
	WaitFade()

	MoveCameraAt(0, 24.981f, -1423.034f, 12.443f, 0)	// 注視点
	ChangeCameraDistance(0, 1.420f, 0)		// 基本距離
	ChangeCameraElevation(0, 4.197f, 0)	// 基本仰角
	RotateCamera(0, 130.937f, 0)				// 角度
	ChangeCameraPers(0, 58.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()

	PlayVoice(Y8V_3736, "Barbaross", 100)	//ふふ（微笑）
	ChangeAnimation("Barbaross", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("Barbaross",0,0,0,0,0)
	{
		"#080e#080m奥の花壇スペースに調理場、"
		"それから休息所の充実……\p"
		"まさか、ここまで一気に"
		"整えられるとは思いませんでした。\p"
		"これもひとえに"
		"皆さんの協力のおかげです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "Barbaross")
	ChangeAnimation("Dogi", "ANI_EV_UDEGUMI_S", -1, 1)

	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#000e#000mま、資材が思ったよりも"
		"豊富にありましたからね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Paro", "ANI_FLY2_S", -1, 1)
	WaitAnimation2("Paro", -1, 1, "ANI_FLY2_S", 0)
	ChangeAnimation("Paro", "ANI_FLY2_E", -1, 1)

	TalkPopup("Paro",0,0,0,0,0)
	{
		"#5Cオレサマ、ミツケタ！"
		"#5Cカンシャシロ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dogi", "ANI_EV_UDEGUMI_E", -1, 1)
	WaitAnimation2("Dogi", -1, 1, "ANI_EV_UDEGUMI_E", 0)
	LookReset("Dogi")
	Turn("Dogi", 146.84f, 8.0f)
	LookChr("Dogi", "Paro")

	LookChr("Paro", "Dogi")
	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#080e#080mへいへい、分かってるっての。"
	}
	WaitPrompt()
	WaitCloseWindow()
	Wait(10)

	CrossFade(FADE_CROSS)

	ChangeAnimation("Nia", "ANI_WAIT", -1, 1)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeAnimation("Alison", "ANI_WAIT", -1, 1)
	ChangeAnimation("Kiergaard", "ANI_WAIT", -1, 1)
	ChangeAnimation("Katrin", "ANI_WAIT", -1, 1)

	LookChr("ADOL", "Barbaross")
	LookChr("LAXIA", "Barbaross")
	LookChr("Katrin", "Barbaross")
	LookChr("Paro", "Barbaross")
//
//	MoveCameraAt(0, 27.875f, -1422.533f, 12.858f, 0)	// 注視点
//	ChangeCameraDistance(0, 2.603f, 0)		// 基本距離
//	ChangeCameraElevation(0, 5.226f, 0)	// 基本仰角
//	RotateCamera(0, 101.294f, 0)				// 角度
//	ChangeCameraPers(0, 35.344f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
//
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 30.764f, -1421.953f, 12.858f, 90)		// 注視点
//	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 101.295f, 90)		// 角度
	MoveCameraAt( 0 , 30.764f , -1421.953f , 12.858f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.603f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.226f , 0 )	// 基本仰角
	RotateCamera( 0 , 101.295f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.344f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)
//
//	WaitThread(1000)
//	WaitThread(1001)

	ChangeAnimation("Katrin", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Katrin",0,1,0,0,0)
	{
		"#080e#080mフフ、でも改めてみんなの"
		"結束が強まった感じがするわね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("LAXIA", 1, 25)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mええ、本当に──"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Curran", 0, 0, 0, 0, 0)
	{
		"#000e#000mうわはははっ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookTo("ADOL", 23.13f, -1430.86f, 16.36f)
	LookTo("LAXIA", 23.13f, -1430.86f, 16.36f)
	LookTo("SAHAD", 23.13f, -1430.86f, 16.36f)
	LookReset("Dogi")
	Turn("Dogi", -53.25f, 8.0f)

	
	ChangeAnimation("Barbaross", "ANI_EV_RYOTEKOSI_E", -1, 1)
	LookTo("Dogi", 23.13f, -1430.86f, 16.36f)
	LookTo("Alison", 23.13f, -1430.86f, 16.36f)
	Wait(10)
	
	LookTo("Kiergaard", 23.13f, -1430.86f, 16.36f)
	LookTo("Katrin", 23.13f, -1430.86f, 16.36f)

	ChangeSubAnimation("Curran", SUBMOT_EYE, ANI_E_LAUGH_S, 1)
	ChangeSubAnimation("Curran", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)

	//カメラ：カーランのアップ
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 30.724f, -1422.135f, 15.835f, 90)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, -2.804f, 90)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 121.473f, 90)		// 角度

	WaitAnimation2("Barbaross", -1, 1, "ANI_EV_RYOTEKOSI_E", 0)
	Turn("Barbaross", -63.86f, 8.0f)
	LookTo("Barbaross", 23.13f, -1430.86f, 16.36f)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	CrossFade(FADE_CROSS)
//	MoveCameraAt(0, 17.083f, -1436.564f, 18.718f, 0)	// 注視点
//	ChangeCameraDistance(0, 2.603f, 0)		// 基本距離
//	ChangeCameraElevation(0, 18.563f, 0)	// 基本仰角
//	RotateCamera(0, 167.936f, 0)				// 角度
//	ChangeCameraPers(0, 57.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転

	MoveCameraAt( 0 , 16.241f , -1436.683f , 19.834f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.603f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 19.118f , 0 )	// 基本仰角
	RotateCamera( 0 , 294.583f , 0 )				// 角度
	ChangeCameraPers( 0 , 57.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 16.241f, -1436.683f, 19.834f, 150)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 19.118f, 150)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 294.583f, 150)		// 角度
//	ExecuteCmd(1003, ChangeCameraPers, INTERPOLATE_SPHERE, 57.000f, 150)		// 視野角

	Wait(FADE_CROSS)
//
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//
	ChangeAnimation("Curran", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("Curran",0,0,0,0,0)
	{
		"#000e#000mなかなかどうして立派なのである！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//カメラ：全員
	CrossFade(FADE_FAST)

	LookReset("Paro")

	SetChrPos("LAXIA", 25.03f, -1421.67f, 10.83f)
	Turn("LAXIA", 9.37f, 360.0f)

	SetChrPos("ADOL", 25.71f, -1423.10f, 10.83f)
	Turn("ADOL", 9.08f, 360.0f)

	SetChrPos("SAHAD", 25.94f, -1420.60f, 10.83f)
	Turn("SAHAD", 26.75f, 360.0f)

	SetChrPos("Barbaross", 23.90f, -1423.37f, 10.83f)
	Turn("Barbaross", -63.86f, 360.0f)

	SetChrPos("Kiergaard", 28.93f, -1423.94f, 10.83f)
	Turn("Kiergaard", 59.70f, 360.0f)

	SetChrPos("Alison", 26.92f, -1423.98f, 10.83f)
	Turn("Alison", 51.91f, 360.0f)

	SetChrPos("Katrin", 27.77f, -1424.78f, 10.83f)
	Turn("Katrin", 64.20f, 360.0f)

	SetChrPos("Dogi", 24.72f, -1424.73f, 10.83f)
	Turn("Dogi", -53.25f, 360.0f)

	if (FLAG[GF_SUBEV_JOIN_NIA])				// シスター・ニアと合流した
	{
		LookTo("Nia", 23.13f, -1430.86f, 16.36f)
	}

	MoveCameraAt(0, 23.440f, -1430.232f, 17.576f, 0)	// 注視点
	ChangeCameraDistance(0, 1.403f, 0)		// 基本距離
	ChangeCameraElevation(0, 37.540f, 0)	// 基本仰角
	RotateCamera(0, 338.676f, 0)				// 角度
	ChangeCameraPers(0, 32.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_FAST)

	//　　仲間たちに「冷や汗」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.3f)	//冷や汗
	EmotionEx("LAXIA", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.3f)	//冷や汗
	EmotionEx("SAHAD", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.3f)	//冷や汗
	EmotionEx("Barbaross", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.3f)	//冷や汗
	EmotionEx("Dogi", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.3f)	//冷や汗
	EmotionEx("Kiergaard", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.3f)	//冷や汗
	EmotionEx("Alison", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.3f)	//冷や汗
	EmotionEx("Katrin", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.3f)	//冷や汗
	if( FLAG[GF_SUBEV_JOIN_NIA] )				// シスター・ニアと合流した
	{
		EmotionEx("Nia", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	}
	Wait(50)

	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#000e#000mあの方だけは例外でしたが……\p"
		"今回もまったく、"
		"手伝ってくれませんでしたし……"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#000e#000mですが、少なくとも"
		"邪魔はされませんでしたね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("SAHAD",0,1,180,50,0)
	{
		"#000e#000mま、オッサンなりに"
		"空気を読んでるんだろーな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#000e#000mであればいいのですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	StopBGM(90)

	//カメラ：アドル
	CrossFade(FADE_CROSS)
	//SetChrPos("Dogi", 24.72f, -1424.73f, 10.83f)
	//Turn("Dogi", 36.75f, 360.0f)

	//SetChrPos("Barbaross", 23.90f, -1423.37f, 10.83f)
	//Turn("Barbaross", -72.50f, 360.0f)

	SetChrPos("SAHAD", 25.32f, -1421.18f, 10.83f)
	Turn("SAHAD", 22.33f, 360.0f)

	SetChrPos("LAXIA", 24.90f, -1422.05f, 10.83f)
	Turn("LAXIA", 41.82f, 360.0f)

	SetChrPos("ADOL", 25.36f, -1422.68f, 10.83f)
	Turn("ADOL", 34.45f, 360.0f)

	MoveCameraAt(0, 26.542f, -1421.436f, 12.939f, 0)	// 注視点
	ChangeCameraDistance(0, 1.904f, 0)		// 基本距離
	ChangeCameraElevation(0, 9.954f, 0)	// 基本仰角
	RotateCamera(0, 122.670f, 0)				// 角度
	ChangeCameraPers(0, 38.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//カメラ：見張り台前
	LookReset("Barbaross")

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 26.305f, -1421.447f, 12.443f, 60)		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 1.902f, 60)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 4.963f, 60)		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 129.965f, 60)		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE, 38.000f, 60)		// 視野角
	Wait(25)

	Turn("Barbaross", -102.64f, 8.0f)
	LookChr("Barbaross", "ADOL")

	LookReset("Dogi")
	Turn("Dogi", -157.63f, 8.0f)
	LookChr("Dogi", "ADOL")


	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	LookChr("ADOL", "Barbaross")
	LookReset("LAXIA")

	LookReset("SAHAD")

	PlayBGM(BGM_1201, 0)

	//ChangeAnimation("LAXIA", "ANI_EV_UDEGUMI_E", -1, 1)

	TalkPopup("Barbaross",0,0,0,0,0)
	{
		"#000e#000m何はともあれ、こうして"
		"無事に完成して何よりです。\p"
		"最後に一つ、迎撃戦で重要な"
		"集落の防衛柵のことだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "Dogi")
	TalkPopup("Barbaross", 0, 0, 0, 0, 0)
	{
		"#000e#000mドギ、説明してくれるか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 25.568f, -1422.579f, 12.443f, 52)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 139.942f, 52)		// 角度
	LookChr("ADOL", "Dogi")
	LookChr("LAXIA", "Dogi")

	WaitThread(1000)
	WaitThread(1001)

	ChangeAnimation("Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#080e#080mへへ、お任せくだせえ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ここで海側の防衛柵と山側の防衛柵を写す。

	//カメラ：海側の防衛柵
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	MapAnime("gate_Lv0", "open")		
	MapHide("gate_Lv0", 0)	//非表示
	MapAnime("gate_Lv1", "close")	
	MapHide("gate_Lv1", 1)	//表示

	MoveCameraAt( 0 , -7.876f , -1496.789f , 13.919f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.300f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 25.994f , 0 )	// 基本仰角
	RotateCamera( 0 , 107.861f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -13.152f , -1501.092f , 9.777f , 100 )	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 5.000f, 100)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 22.134f, 100)	// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 76.883f, 100)				// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	//カメラ：山側の防衛柵
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	MoveCameraAt( 0 , -60.423f , -1436.976f , 30.613f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.001f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 13.127f , 0 )	// 基本仰角
	RotateCamera( 0 , 3.672f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -56.109f, -1438.336f, 31.109f, 90)	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 5.000f, 90)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 0.480f, 90)	// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 26.163f, 90)				// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	Wait(20)

	//カメラ：ドギ
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	MoveCameraAt(0, 25.568f, -1422.579f, 12.443f, 0)	// 注視点
	ChangeCameraDistance(0, 1.904f, 0)		// 基本距離
	ChangeCameraElevation(0, 4.963f, 0)	// 基本仰角
	RotateCamera(0, 139.942f, 0)				// 角度
	ChangeCameraPers(0, 38.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#011e#000m今回の資材で防衛柵も"
		"より強固に作り直してみたが……\p"
		"獣どもの脅威を考えりゃあ、"
		"まだまだ強化の余地があるだろ。\p"
		"#012e安全のためにこっち方面も"
		"今後は力を入れていくつもりだ。\p"
		"囮や新たな迎撃設備の"
		"追加なんてことも考えている。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dogi", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1)

	TalkPopup("Dogi", 0, 2, 0, 0, 0)
	{
		"#000e#000mつうことで、資材は"
		"いくらあっても足りねえ。\p"
		"今後もじゃんじゃん"
		"俺のところへ持って来てくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　チュートリアル画像表示。

	//　　（１周目のみ）help_a45：漂流村の強化
	if ( !FLAG[SF_2NDSTART] )		// 2周目判定
	{
		FadeOut(FADE_BLACK, FADE_NORMAL)
		WaitFade()
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		
		//■▼チュートリアル：漂流村の強化（mp1201）
		Wait(10)
		
		Portrait_Load(0, "system/black.itp")		//擬似フェードアウト用
		Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
		
		Portrait_Anime(0, PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()
				
		Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
		Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
		Portrait_Load(2, "visual/help/hp_a45.itp")	// help_a45：漂流村の強化
		Portrait_Create(2, TOPIC_POS_X, TOPIC_POS_Y,
		0, 0, TOPIC_SCALE_X, TOPIC_SCALE_Y,
		0.0f, 0x00ffffff, 0x00000000)
		
		
		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		Portrait_Close(1)
		Portrait_Close(2)
		
		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
		
		Wait(10)
		
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		
		Portrait_Close(0)
		Portrait_Unload(0)
		
		//　　チュートリアル画像消去。
		LookReset("Barbaross")

		SetChrPos("ADOL", 25.37f, -1421.82f, 10.83f)
		Turn("ADOL", 40.41f, 360.0f)

		SetChrPos("LAXIA", 24.61f, -1421.17f, 10.83f)
		Turn("LAXIA", 25.35f, 360.0f)

		SetChrPos("SAHAD", 26.06f, -1420.53f, 10.83f)
		Turn("SAHAD", 26.75f, 360.0f)

		SetChrPos("Barbaross", 24.25f, -1423.52f, 10.83f)
		Turn("Barbaross", -115.20f, 360.0f)

		ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
		SetChrPos("Dogi", 24.72f, -1424.73f, 10.83f)
		Turn("Dogi", -133.96f, 360.0f)
		LookReset("Dogi")

		SetChrPos("Alison", 27.20f, -1424.00f, 10.83f)
		Turn("Alison", 116.53f, 360.0f)
		LookChr("Alison", "Barbaross")

		SetChrPos("Kiergaard", 28.76f, -1423.91f, 10.83f)
		Turn("Kiergaard", 102.70f, 360.0f)
		LookChr("Kiergaard", "Barbaross")

		SetChrPos("Katrin", 27.65f, -1424.79f, 10.83f)
		Turn("Katrin", 129.77f, 360.0f)
		LookChr("Katrin", "Barbaross")

		if (FLAG[GF_SUBEV_JOIN_NIA])				// シスター・ニアと合流した
		{
			LookChr("Nia", "Barbaross")
		}

		MoveCameraAt(0, 31.754f, -1421.700f, 12.742f, 0)	// 注視点
		ChangeCameraDistance(0, 1.400f, 0)		// 基本距離
		ChangeCameraElevation(0, 5.864f, 0)	// 基本仰角
		RotateCamera(0, 101.723f, 0)				// 角度
		ChangeCameraPers(0, 38.000f, 0)			// 視野角
		SetCameraZPlane(0.100f, 300.000f)			// ZPlane
		RollCamera(0, 0.0f, 0)				// ロール回転

		FadeIn(FADE_BLACK, FADE_NORMAL)
		WaitFade()
	}

	ChangeAnimation("Barbaross", "ANI_EV_RYOTEBURI", -1, 1)
	TalkPopup("Barbaross",0,0,0,0,0)
	{
		"#000e#000mではこの辺りで解散としましょうか。\p"
		"#010e#000m皆さん、本当にどうもお疲れ様でした。"
	}
	WaitPrompt()
	WaitCloseWindow()

	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	//カメラ：アドル
	CrossFade(FADE_NORMAL)

	SetChrPos("ADOL", 31.69f, -1418.84f, 10.83f)
	Turn("ADOL", 178.42f, 360.0f)

	SetChrPos("LAXIA", 31.18f, -1417.49f, 10.83f)
	Turn("LAXIA", 12.31f, 360.0f)

	SetChrPos("SAHAD", 32.42f, -1417.33f, 10.83f)
	Turn("SAHAD", 37.63f, 360.0f)

	LookChr("LAXIA", "ADOL")
	LookChr("SAHAD", "ADOL")
	LookReset("ADOL")

	MoveCameraAt(0, 31.160f, -1418.770f, 12.369f, 0)	// 注視点
	ChangeCameraDistance(0, 2.101f, 0)		// 基本距離
	ChangeCameraElevation(0, 6.087f, 0)	// 基本仰角
	RotateCamera(0, 317.641f, 0)				// 角度
	ChangeCameraPers(0, 52.001f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	FadeIn(FADE_BLACK, FADE_NORMAL)
	Wait(FADE_NORMAL)

	ChangeAnimation("LAXIA", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#000e#000mさてと、わたくしたちは"
		"探索に戻るとしましょうか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000e#000mああ、目指すは"
		"大峡谷流域の先だったな。"
	}
	WaitPrompt()
	WaitCloseWindow()


	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 31.160f, -1418.770f, 14.924f, 190)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 302.280f, 190)		// 角度

	//　　アドルが頷く。
	HeadYes("ADOL" , 1 , 25)
	Wait(40)

	SetEnvSEPlayState(-1, 0)	//

	//　　画面暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	StopThread(1000)
	StopThread(1001)

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【見張り台の建設】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//	アイテム入手テキスト
	//「報酬として『釣り餌×５』を受け取った！」
	GetItemMessageExPlus(ICON3D_FISHBAIT_WORM, 5, ITEMMSG_SE_JINGLE, "を手に入れた！" ,0 ,0 )
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_220_Complete_ED")
}
function "QS_220_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	//CallFunc("system:reset_chrmot_NPCALL")

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Dogi")
	CallFunc("system:reset_chrmot_Barbaross")
	CallFunc("system:reset_chrmot_Paro")
	CallFunc("system:reset_chrmot_Kiergaard")
	CallFunc("system:reset_chrmot_Katrin")
	CallFunc("system:reset_chrmot_Alison")
	CallFunc("system:reset_chrmot_Nia")
	CallFunc("system:reset_chrmot_Curran")

	SetChrPos("Barbaross", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Alison", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Dogi", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Paro", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Licht", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Nia", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Curran", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Katrin", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Kiergaard", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_QUEST_220, QUEST_SUCCESS )		// 【QS220】見張り台の作成（バルバロス）　クエストを達成した
	GetItem(ICON3D_FISHBAIT_WORM, 5)			// 釣り餌×５
	SetFlag( GF_HELP_A45, 1 )					// チュートリアル：漂流村の強化
	SetFlag( GF_SUBEV_MAKE_LOOKOUT, 1 )			// 一般メッセ更新用：見張り台を作成した（【QS220】を達成した時に立てています）
	SetFlag( GF_CAMP_VILLAGE_LV, 4 )			// 漂流村の発展設定：集落LV4
	SetFlag( GF_CAMP_PAROWOOD_LV, 1 )			// 漂流村の発展設定：パロの止まり木LV1
	SetFlag( GF_CAMP_ROOM_LV, 2 )				// 漂流村の発展設定：拠点屋内LV2
	SetFlag( GF_CAMP_GATE_LV, 2 )				// 漂流村の発展設定：海と丘方面の防衛柵（拠点の強化後）
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS220】見張り台の作成（バルバロス）	名声値+1
	SetDiaryFlag( DF_QS220_END, 1 )				// 【QS220】★材料の場所をバルバロス船長に報告。
	SetWork(WK_ITC_BASE_LV, 2)					// 防衛柵をＬＶ１に設定する。

	SetDiaryShopFlag(SHOP_ID_INT_CUSTOM,1)				// 村強化

	//マーカー消去
	//DelMapMarker( SMI_SYMBOL, PAGE_F002, MARKER_QS_220_LP1, 0, 0)	// 【QS220】見張り台の建設（バルバロス）イベントＡ用
	//DelMapMarker( SMI_SYMBOL, PAGE_F002, MARKER_QS_220_LP2, 0, 0)	// 【QS220】見張り台の建設（バルバロス）イベントＢ用
	//DelMapMarker( SMI_SYMBOL, PAGE_F002, MARKER_QS_220_LP3, 0, 0)	// 【QS220】見張り台の建設（バルバロス）イベントＣ用

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",33.46f,-1416.85f,10.83f)
	Turn("LEADER", -122.50f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, 33.460f, -1416.850f, 12.690f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, 126.243f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	SetEnvSEPlayState(1201001, 1)	//
	SetEnvSEPlayState(1201002, 1)	//
	SetEnvSEPlayState(1201003, 1)	//
	SetEnvSEPlayState(1201201, 1)	//
	SetEnvSEPlayState(1201202, 1)	//

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

function "QS_220_Adol_move"
{
	Wait(190)
	ChangeAnimation("Dogi", "ANI_EV_RYOTEBURI", -1, 1)
	WaitAnimation2("Dogi", -1, 1, "ANI_EV_RYOTEBURI", 0)

	ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
	WaitAnimation2("ADOL", -1, 1, "ANI_EV_TEBURI", 0)

	ChangeAnimation("SAHAD", "ANI_EV_GUTSPOSE_S", -1, 1)
	WaitAnimation2("SAHAD", -1, 1, "ANI_EV_GUTSPOSE_S", 0)

	EmotionEx("Dogi", 0.00f, EMO_ONPU, 0, 5, 1, 1, 2.0f)	//♪
	Wait(40)

	ChangeAnimation("SAHAD", "ANI_EV_GUTSPOSE_E", -1, 1)

	Turn("Dogi", 53.50f, 8.0f)
	Wait(8)
	ExecuteCmd(1, MoveTo, "Dogi", 17.89f, -1423.26f, 11.64f, 0.1f, 0.24f)

	Wait(10)
	ExecuteCmd(2, MoveTo, "ADOL", 19.22f, -1423.08f, 11.61f, 0.1f, 0.24f)

	WaitAnimation2("SAHAD", -1, 1, "ANI_EV_GUTSPOSE_E", 0)
	ExecuteCmd(3, MoveTo, "SAHAD", 17.76f, -1423.74f, 11.64f, 0.1f, 0.24f)

	Wait(120)
	StopThread(1)
	StopThread(2)
	StopThread(3)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
}

function "QS_220_Laxia_move"
{
	Wait(10)
	EmotionEx("Kiergaard", 0.00f, EMO_Q, 0, 5, 1, 1, 1.5f)	// 「？」
	Wait(30)
	
	ChangeAnimation("Barbaross", "ANI_EV_TEBURI", -1, 1)
	SetChrWork("Barbaross", CWK_FORCELIPSYNC, 1)
	Wait(20)

	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.5f)	//パッ
	Wait(30)
	HeadYes("LAXIA", 1, 25)

	SetChrWork("Barbaross", CWK_FORCELIPSYNC, 0)
	
}

function "QS_220_Katrin_move"
{

	Wait(30)
	ChangeAnimation("Alison", "ANI_EV_RYOTEKOSI_S", -1, 1)

	Wait(20)

	Turn("Katrin", -59.10f, 8.0f)
	Wait(10)
	ExecuteCmd(4, MoveTo, "Katrin", 17.43f, -1422.90f, 11.65f, 0.1f, 0.18f, 1, 1)

	Wait(20)
	if (FLAG[GF_SUBEV_JOIN_NIA])				// シスター・ニアと合流した
	{
		ChangeAnimation("Nia", "ANI_EV_INORI_S", -1, 1)
	}

	Wait(50)
	EmotionEx("Alison", 0.00f, EMO_PIKA, 0, 5, 1, 1, 1.5f)	//閃き
	Wait(100)

	StopThread(4)
	ChangeAnimation("Katrin", "ANI_WAIT", -1, 1)
}



//===============================================================
//
// 【QS221】小舟の作成（ドギ）
// ▼クエスト達成イベント　後の再配置
//
function "QS_221_Complete_Relocate"
{
	//　　※アドルを集会所中央付近に再配置。
	CallFunc("system:event_begin")

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",24.91f,-1420.56f,10.83f)
	Turn("LEADER",-58.99f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
}

//===============================================================
//
// 【QS230】海賊のお宝探し（ディナ）
// ▼クエスト開始イベント
//
function "QS_230_Start"
{
	//　　画面暗転を挟んで、倉庫前。
	//　　ディナの前にアドルが立っている。

//開始処理ここから----------------------------------------------------

	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("Dina")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",16.02f,-1419.11f,11.58f)
	Turn("ADOL",119.03f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("ADOL","Dina")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dina",14.59f,-1418.32f,11.58f)
	Turn("Dina",-55.05f,360.0f)
	ChangeAnimation( "Dina" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Dina","ADOL")
	SetChrInfoFlag( "Dina" , INFOFLAG_NOCHRATARI)


//	//カメラ設定
//	MoveCameraAt(0, 15.039f, -1419.019f, 14.506f, 0)	// 注視点
//	ChangeCameraDistance(0, 1.900f, 0)		// 基本距離
//	ChangeCameraElevation(0, 14.703f, 0)	// 基本仰角
//	RotateCamera(0, 68.778f, 0)				// 角度
//	ChangeCameraPers(0, 37.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転

	MoveCameraAt( 0 , 16.184f , -1419.977f , 13.241f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.900f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.139f , 0 )	// 基本仰角
	RotateCamera( 0 , 33.868f , 0 )				// 角度
	ChangeCameraPers( 0 , 28.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//宝の地図のポートレート読み込み
	Portrait_Load(   1 , "visual/portrait/p_30014.itp" )	//宝の地図の２Ｄポートレート
	Portrait_Create(1, SUBP_POS_X, SUBP_POS_Y,
	0, 0, SUBP_SCALE_X, SUBP_SCALE_Y,
	0.0f, 0x00ffffff, 0x00000000)


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_230_Start_ED")

//開始処理ここまで-----------------------------------------------

//	//カメラ：アドルたちの頭上～アドルたち中心
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 16.184f, -1419.977f, 13.241f, 120)	// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 1.900f, 120)		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 10.139f, 120)	// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 33.868f, 120)				// 角度
//	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE, 28.000f, 120)		// 視野角

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	//カメラ待ち：アドルたちの頭上～アドルたち中心
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	TalkPopup("Dina",0,0,0,0,0)
	{
		"#000e#000mま、とはいえ口で言うより"
		"コレを見せた方が早いわね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dina", "ANI_EV_TEWATASI_S", -1, 1)
	WaitAnimation2("Dina", -1, 1, "ANI_EV_TEWATASI_S", 0)

	Look("ADOL", 0.00f, -25.0f)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cアドルはディナに"
		"#7C古びた地図を見せてもらった。\p"
		"#7C地図には何やら暗号めいた言葉と"
		"#7C宝箱の絵が書かれてある。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dina", "ANI_EV_TEWATASI_E", -1, 1)

	//　　アドルに！エモーション
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 0.8f)	//！
	Wait(40)

	LookChr("ADOL", "Dina")

	////選択肢
	//SetFlag(TF_MENU_SELECT,0)
	//MenuReset()
	//MenuType(MENUTYPE_POPUP)
	//MenuAdd(1,"これはまさか……")
	//MenuAdd(2,"これはすごい！")
	//MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	//WaitMenu(0)
	//MenuClose(10,0)
	//Wait(20)	

	////──────────────────────
	////	⇒これはまさか……
	//if (FLAG[TF_MENU_SELECT] == 1)
	//{
	//	ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
	//	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	//	Wait(20)
	//	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	//	Wait(10)

	//	ChangeAnimation("Dina", "ANI_EV_UDEGUMI_S", -1, 1)

	//	TalkPopup("Dina",0,0,0,0,0)
	//	{
	//		"#080e#080mふふっ、なかなかいい顔をするわね。\p"
	//		"そう──"
	//		"コレは正真正銘“宝の地図”よ！"
	//	}
	//	WaitPrompt()
	//	WaitCloseWindow()
	//}
	////	⇒これはすごい！
	//else if (FLAG[TF_MENU_SELECT] == 2)
	//{
	//	ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
	//	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	//	Wait(20)
	//	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	//	Wait(10)

	//	ChangeAnimation("Dina", "ANI_EV_GUTSPOSE_S", -1, 1)
	//	TalkPopup("Dina",0,0,0,0,0)
	//	{
	//		"#080e#080mよねよね？　興奮するよね？"
	//		"ロマンよね！？\p"
	//		"なんたってコレは、どこから"
	//		"どう見ても“宝の地図”だもの！"
	//	}
	//	WaitPrompt()
	//	WaitCloseWindow()
	//	ChangeAnimation("Dina", "ANI_EV_GUTSPOSE_E", -1, 1)
	//	WaitAnimation2("Dina", -1, 1, "ANI_EV_GUTSPOSE_E", 0)

	//	ChangeAnimation("Dina", "ANI_EV_UDEGUMI_S", -1, 1)
	//}
	////──────────────────────

	ChangeAnimation("Dina", "ANI_EV_UDEGUMI_S", -1, 1)

	TalkPopup("Dina",0,0,0,0,0)
	{
		"#021e#080mふふっ、なかなかいい顔をするわね。\p"
		"#000eそう──"
		"コレは正真正銘“宝の地図”よ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Dina",0,0,0,0,0)
	{
		"#000e#000m漂着してわりとすぐくらいかな。\p"
		"#011e#000m海岸沿いでさ迷ってるときに、"
		"海賊っぽい骸を見つけてね。\p"
		"何やら大事そうに抱えてたから"
		"強引に奪ってやったの。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルに「冷や汗」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	Wait(50)

	ChangeAnimation("Dina", "ANI_EV_UDEGUMI_E", -1, 1)
	TalkPopup("Dina",0,0,0,0,0)
	{
		"#012e#080mま、それはともかく"
		"地図をよく見てちょうだい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ここで宝の地図の２Ｄポートレートを表示。
	Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 20)
	Wait(20)

	TalkPopup("Dina",0,3,240,240,0)
	{
		"#000e#000m場所は大峡谷流域より東側の"
		"海岸沿いだと思うんだけど……\p"
		"とりあえず暗号を読むと……\p"
		"『我は蜂の王、"
		"　居城よりいざ出向かん』\p"
		"『東に２、西に５、"
		"　南に８８２、北に８８５』\p"
		"……だって。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　２Ｄポートレートを消去。
	Portrait_Anime(1, PR_ANIME_COLOR, 0.0f, 0.0f, 0.0f, 0.0f, FADE_FAST)
	Wait(FADE_FAST)
	Portrait_Close(1)
	Portrait_Unload(1)

	ChangeAnimation("Dina", "ANI_EV_BORI", -1, 1)
	TalkPopup("Dina",0,0,0,0,0)
	{
		"#000e#000m数字はおそらく長さの単位……"
		"“メライ”のことよね？\p"
		"アタシの身長がおよそ"
		"１．３メライってところだけど……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dina" , "ANI_EV_JIDANDA", -1 , 1 )

	TalkPopup("Dina",0,0,0,0,0)
	{
		"#030e８８２メライなんて、"
		"どうやって測ればいいのよ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ディナに「モヤモヤ」エモーション。
	ChangeSubAnimation("Dina",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
	EmotionEx("Dina", 0.00f, EMO_MOYA, 0, 5, 1, 1, 1.0f)	//モヤモヤ
	Wait(50)
	ChangeAnimation( "Dina", "ANI_EV_RYOTEBURI", -1, 1 )

	TalkPopup("Dina",0,0,0,0,0)
	{
		"#040e#000m──ああもう、"
		"アタシにはさっぱりよ！\p"
		"#012eアドル、あなたは冒険家なんでしょ？"
		"だったら、このくらい簡単よね？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ああ、任せてくれ ")
	MenuAdd(2,"すぐには難しいかな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	//──────────────────────
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_GUTSPOSE_S", -1, 1)
		WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_GUTSPOSE_S",  0)
		Wait(10)

		ChangeAnimation("Dina", "ANI_EV_RYOTEKOSI_S", -1, 1)

		//	⇒ああ、任せてくれ
		TalkPopup("Dina",0,0,0,0,0)
		{
			"#000e#080mふふ、いいわね！\p"
			"ならその地図はあなたにあげるから"
			"ちゃっちゃと探してきて！\p"
			"#021e見つかったら二人で山分けよ！"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation("ADOL", "ANI_EV_GUTSPOSE_E", -1, 1)

	}
	//	⇒すぐには難しいかな
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		HeadNo("ADOL", 1, 35)	
		Wait(45)

		ChangeAnimation("Dina", "ANI_EV_RYOTEKOSI_S", -1, 1)

		TalkPopup("Dina",0,0,0,0,0)
		{
			"#050e#000mう～ん、そう言われると"
			"何だか心許ないわね。\p"
			"#061e#000mま、でもしょうがないか。"
			"分からないのはアタシも同じだし。\p"
			"#012eとりあえず地図はあなたにあげるから"
			"ちゃっちゃと探してきて！\p"
			"#021e見つかったら二人で山分けよ！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	//　　アドルが頷く。
	HeadYes("ADOL" , 1 , 25)
	Wait(40)

	//　　イベント終了、操作許可。

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//	アイテム入手メッセージ
	//	「宝の地図を手に入れた！」
	GetItemMessageExPlus(ICON3D_TREASURE_MAP, 1, ITEMMSG_SE_JINGLE, "を手に入れた。", 0, 0)	//宝の地図
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_230_Start_ED")
}
function "QS_230_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Dina")
	SetChrPos("Dina", -100000.00f, 0.00f, 0.00f)

	//ポートレート全開放・全クローズ
	Portrait_Close(  -1 )
	Portrait_Unload( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手
	SetFlag( GF_QUEST_230, QUEST_START )		// 【QS230】海賊のお宝探し（ディナ）　クエスト開始
	GetItem( ICON3D_TREASURE_MAP, 1 )			// 「宝の地図」
	SetDiaryFlag( DF_QS230_START, 1 )			// 【QS230】★ディナから海賊の物と思しき
	//マーカー設置
	SetMapMarker( SMI_QUEST, PAGE_F012, MARKER_QS_230_LP1, 627.28f,-730.13f,27.35f, 	627.28f,-730.13f,	MARKER_QS_230_LP1, MN_F_MP1114,	0)	// 【QS230】海賊のお宝探し（ディナ）「▼ヒントイベント」が発生するポイント用

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", 18.94f, -1421.81f, 11.61f)//ディナの前にエアランが来ている事があるので、少し離して再配置しています
	Turn("LEADER", -90.86f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, 18.942f, -1421.813f, 13.477f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.632f, 0)	// 基本仰角
	RotateCamera(0, 89.506f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}
//===============================================================
//
// 【QS230】海賊のお宝探し（ディナ）
// ▼クエスト達成イベント
//
function "QS_230_Complete"
{
	//　　画面暗転を挟んで、倉庫前。
	//　　ディナとアドルの前に宝箱を置く。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Dina")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",16.77f,-1420.01f,11.58f)
	Turn("ADOL",57.49f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("ADOL","ev_QS_230_tbox")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dina",16.02f,-1419.47f,11.58f)
	Turn("Dina",27.63f,360.0f)
	ChangeAnimation( "Dina" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Dina","ev_QS_230_tbox")
	SetChrInfoFlag( "Dina" , INFOFLAG_NOCHRATARI)

	//宝箱
	SetChrPos("ev_QS_230_tbox", 15.50f, -1420.60f, 11.64f)
	//Turn("ev_QS_230_tbox", -140.38f, 360.0f)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , 15.430f , -1419.093f , 13.043f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.431f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 27.744f , 0 )	// 基本仰角
	RotateCamera( 0 , 179.517f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_230_Complete_ED")

//開始処理ここまで-----------------------------------------------

	//カメラ：宝箱中心
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 15.754f, -1419.133f, 13.043f, 75)	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 2.200f, 75)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 27.758f, 75)	// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 179.517f, 75)				// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//カメラ待ち：宝箱中心
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	Wait(20)

	EmotionEx("Dina", 0.00f, EMO_KIRA, 0, 5, 1, 1, 1.0f)	// キラキラ
	Wait(40)

	PlayVoice(Y8V_4349, "Dina", 100)	//ふふふ（企み笑い）
	ChangeAnimation("Dina", "ANI_EV_YARUKI_S", -1, 1)	
	TalkPopup("Dina",0,0,0,0,0)
	{
		"#000e#000mさあさあ、ご開帳っ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2( "Dina" , -1, 1, "ANI_EV_YARUKI_S",  0)
	ChangeAnimation("Dina", "ANI_EV_YARUKI_E", -1, 1)
	WaitAnimation2("Dina", -1, 1, "ANI_EV_YARUKI_E", 0)

	//　　宝箱が開く。
	ChangeAnimation( "ev_QS_230_tbox" , "ANI_OPEN", 0 , 1 )
	Wait(35)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7C宝箱には、何かが書かれた"
		"#7C紙切れが一枚だけ入っていた。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dina", "ANI_EV_SUP_S", -1, 1)
	TalkPopup("Dina",0,0,0,0,0)
	{
		"#000e#000m……ちょ、ちょっと。\p"
		"もしかして、ここからさらに"
		"探せって言うんじゃないわよね？\p"
		"どれどれ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2( "Dina" , -1, 1, "ANI_EV_SUP_S",  0)
	ChangeAnimation("Dina", "ANI_EV_SUP_E", -1, 1)

	//　　ディナに「…」エモーション。
	EmotionEx("Dina", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(52)

	TalkPopup("Dina",0,1,0,0,0)
	{
		"#000e#000m『宝を追い求める者へ』\p"
		"追い求める2行目"
		"『残念だが、こいつには最初から"
		"　中身なんてモノはねえ。』\p"
		"『だがその知恵と勇気は買ってやる"
		"　　　　　　　　──キャプテンＬ』"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	//カメラ：ディナとアドル中心
	CrossFade(FADE_CROSS)
	//MoveCameraAt(0, 16.019f, -1420.408f, 12.870f, 0)	// 注視点
	//ChangeCameraDistance(0, 1.600f, 0)		// 基本距離
	//ChangeCameraElevation(0, -10.011f, 0)	// 基本仰角
	//RotateCamera(0, 332.633f, 0)				// 角度
	//ChangeCameraPers(0, 41.000f, 0)			// 視野角
	//SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	//RollCamera(0, 0.0f, 0)				// ロール回転

	SetChrPos("ev_QS_230_tbox", 15.22f, -1420.89f, 11.64f)
	Turn2("ev_QS_230_tbox", -140.38f, 360.0f)

	MoveCameraAt( 0 , 15.499f , -1422.687f , 13.292f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.200f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.195f , 0 )	// 基本仰角
	RotateCamera( 0 , 351.308f , 0 )				// 角度
	ChangeCameraPers( 0 , 26.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_ANGER_CLOSE, 1)
	Wait(FADE_CROSS)

	//　　ディナに「ムカ」エモーション。
	EmotionEx("Dina", 0.00f, EMO_MUKA, 0, 5, 1, 1, 0.9f)	//ムカ／青筋
	Wait(45)

	TalkPopup("Dina",0,0,0,0,0)
	{
		"#040e#000mうぐぐ……！　なによ、コレ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dina" , "ANI_EV_JIDANDA", -1 , 1 )
	EarthQuake(0.10,0.10,5)
	TalkPopup("Dina",0,0,0,0,0)
	{
		"#042e信じられない！"
		"とんだ骨折り損じゃない！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL","Dina")

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"一本取られたね")
	MenuAdd(2,"まあまあ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	LookChr("Dina","ADOL")
	
	//──────────────────────
	//	⇒一本取られたね
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_WAIT2_S", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		ChangeAnimation("Dina", "ANI_EV_UDEGUMI_S", -1, 1)
		TalkPopup("Dina",0,0,0,0,0)
		{
			"#070e#000m一本取られたねって……"
			"あなたは悔しくないの！？"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookReset("Dina")
		TalkPopup("Dina", 0, 0, 0, 0, 0)
		{
			"#041eぐぎぎ……"
			"Ｌだか誰だか知らないけど許すまじ！"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//	⇒まあまあ
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_WAIT2_S", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		TalkPopup("Dina", 0, 0, 0, 0, 0)
		{
			"#000mまあまあって──"
			"落ち着いていられないっての！"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookReset("Dina")
		ChangeAnimation("Dina", "ANI_EV_UDEGUMI_S", -1, 1)

		TalkPopup("Dina", 0, 0, 0, 0, 0)
		{
			"#041eぐぎぎ……"
			"Ｌだか誰だか知らないけど許すまじ！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	//　　アドルに「パッ」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(45)
	LookChr("ADOL", "ev_QS_230_tbox")
	Wait(30)


	//カメラ：宝箱
	CrossFade(FADE_CROSS)
	SetChrPos("ADOL", 16.32f, -1420.32f, 11.58f)
	Turn("ADOL", 57.49f, 360.0f)
	ChangeAnimation("Dina", "ANI_WAIT", -1, 1)
	LookChr("Dina", "ev_QS_230_tbox")
	ChangeAnimation("ADOL", "ANI_EV_SHAGAMI_S", -1, 1)

	MoveCameraAt(0, 16.951f, -1420.263f, 13.242f, 0)	// 注視点
	ChangeCameraDistance(0, 1.600f, 0)		// 基本距離
	ChangeCameraElevation(0, 31.174f, 0)	// 基本仰角
	RotateCamera(0, 95.116f, 0)				// 角度
	ChangeCameraPers(0, 42.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)
	
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_SHAGAMI_S",  0)
	Wait(10)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7C若干だが、宝箱の底が"
		"#7C不自然にずれているように見える。\p"
		"#7C──どうやら宝箱は"
		"#7C二重底になっていたらしい。"
		"#7C書物と紙切れがもう一枚入っていた。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("ADOL", "ANI_EV_SHAGAMI_E", -1, 1)
	WaitAnimation2("ADOL", -1, 1, "ANI_EV_SHAGAMI_E", 0)

	//	アイテム入手テキスト
	//	「『剣術の極意』を手に入れた！」
	GetItemMessageExPlus(ICON3D_DRUG_RECIPE02, 1, ITEMMSG_SE_JINGLE, "を手に入れた！2", 0, 0)	//蒼き調合書《甘》
	WaitPrompt()
	WaitCloseWindow()

	//カメラ：ディナとアドル中心
	CrossFade(FADE_CROSS)
	SetChrPos("ADOL", 16.61f, -1420.02f, 11.58f)
	Turn("ADOL", 63.23f, 360.0f)

//	Look("ADOL" , 30 , -7)
	LookChr("ADOL","Dina")

	ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_WAIT, 1)

	MoveCameraAt(0, 14.510f, -1422.383f, 13.391f, 0)	// 注視点
	ChangeCameraDistance(0, 1.602f, 0)		// 基本距離
	ChangeCameraElevation(0, 12.209f, 0)	// 基本仰角
	RotateCamera(0, 332.250f, 0)				// 角度
	ChangeCameraPers(0, 27.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)
	//　　ディナに「！」エモーション。
	EmotionEx("Dina", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	//！
	Wait(40)

	ChangeSubAnimation("Dina", SUBMOT_EXT1, ANI_E_LOOKU_S, 1)
	TalkPopup("Dina",0,2,0,0,0)
	{
		"#070e#000mちょっと、その紙を見せて──\p"
		"なになに……"
		"『宝を見つけた者へ』\p"
		"『この二重底に気付くとは"
		"　大した奴だ。』\p"
		"『逆にこいつに気付けない奴は"
		"　それまでの奴ってこった。』\p"
		"『大したモンでもねえが"
		"　なかなか役立つ本だ、とっておけ』"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Dina")
	ChangeSubAnimation("Dina", SUBMOT_EXT1, ANI_E_LOOKU_E, 1)
	ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_ANGER_CLOSE_S, 1)

	//　　ディナに「ムカ」エモーション。
	EmotionEx("Dina", 0.00f, EMO_MUKA, 0, 5, 1, 1, 0.9f)	//ムカ／青筋
	Wait(50)
	ChangeAnimation("Dina", "ANI_EV_RYOTEKOSI_S", -1, 1)

	TalkPopup("Dina",0,2,0,0,0)
	{
		"#040e#000mこ、これじゃまるで"
		"アタシだけが間抜けみたいじゃない。\p"
		"#010l#030eこのＬって奴──"
		"本当に性格が捻じ曲がってるわね！\p"
		"#041eこのディナ様をたばかった上に"
		"馬鹿にするだなんて……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Dina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("ADOL","Dina")
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"……この本はどうしよう？")
	MenuAdd(2,"まあまあ ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	//──────────────────────
	//	⇒……この本はどうしよう？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		TalkPopup("Dina",0,2,0,0,0)
		{
			"#020l#042e#000mべ、別にそんなのいらないわよ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		//	  　ディナに「…」エモーション。
		ChangeSubAnimation("Dina",SUBMOT_EYE,ANI_E_ANGER_CLOSE_S,1)
		ChangeSubAnimation("Dina",SUBMOT_EXT1,ANI_E_LOOKL_E,1)
		EmotionEx("Dina", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
		Wait(52)
		ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		ChangeAnimation("Dina", "ANI_EV_RYOTEKOSI_E", -1, 1)
		LookChr("Dina", "ADOL")

		ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 15.371f, -1421.750f, 13.366f, 50)		// 注視点
		ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 341.977f, 50)		// 角度

		WaitThread(1000)
		WaitThread(1001)

		ChangeAnimation("Dina", "ANI_EV_TEBURI", -1, 1)
		TalkPopup("Dina",0,2,0,0,0)
		{
			"#080mってか、でも確かにこんなのに"
			"気付くアドルはすごいわね。\p"
			"……ちょっとだけ見直したわ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒まあまあ
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_S, 1)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
		ChangeAnimation("ADOL", "ANI_EV_RYOTEBURI", -1, 1)
		Wait(30)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		LookChr("Dina", "ADOL")
		TalkPopup("Dina",0,2,0,0,0)
		{
			"#020l#042e#000mぐっ、その余裕の表情はなんなのよ。\p"
			"#000l#041e#000mむかつくわね！"
		}
		WaitPrompt()
		WaitCloseWindow()

		EmotionEx("Dina", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
		Wait(52)
		ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		
		ChangeAnimation("Dina", "ANI_EV_RYOTEKOSI_E", -1, 1)
		LookChr("Dina", "ADOL")

		ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 15.371f, -1421.750f, 13.366f, 50)		// 注視点
		ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 341.977f, 50)		// 角度

		WaitThread(1000)
		WaitThread(1001)

		ChangeAnimation("Dina", "ANI_EV_TEBURI", -1, 1)
		TalkPopup("Dina",0,2,0,0,0)
		{
			"#010l#000e#000mま、まあ……それでも"
			"ちょっとだけ見直したけど。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	TalkPopup("Dina",0,2,0,0,0)
	{
		"#000l#011e#000m──とにかく、"
		"この件はもうこれで終わりよ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dina", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("Dina", 0, 2, 0, 0, 0)
	{
		"#042e#000mいい、アドル──このことは"
		"他の誰にも言っちゃダメだからね！\p"
		"#041e#000mこんなことがみんなに知れたら、"
		"大商人ディナ様の沽券に関わるんだから！"
	}
	WaitPrompt()
	WaitCloseWindow()
	Wait(10)

	//　　アドルに「冷や汗」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)

	Wait(10)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 15.526f, -1424.384f, 13.490f, 180)		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 1.603f, 180)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 12.360f, 180)		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 350.949f, 180)		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE, 38.000f, 180)		// 視野角

	Wait(30)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	
	//　　画面暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【海賊のお宝探し】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒好感度が一段階上がる場合
	if( FLAG[GF_LIKELV_DINA] < 1 )
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)

		{
			"#8S"
			"#-1W#4Cディナの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)

		{
			"#8S"
			"#-1W#4Cディナの好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	//　　イベント終了、操作許可。

	//　　※アドルを倉庫前に再配置。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_230_Complete_ED")
}
function "QS_230_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Dina")
	SetChrPos("Dina", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_QUEST_230, QUEST_SUCCESS )		// 【QS230】海賊のお宝探し（ディナ）　クエストを達成した
	DeleteItem( ICON3D_TREASURE_MAP, 1 )		// 「宝の地図」
	DeleteItem(ICON3D_PIRATE_BOX, 1)		// 海賊の宝箱
	GetItem( ICON3D_DRUG_RECIPE02, 1 )			// 「蒼き調合書《甘》」	甘い妙薬のレシピ
	SetFlag( GF_LIKELV_DINA, ( FLAG[GF_LIKELV_DINA] + 1 ) )	// 好感度ＵＰ
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS230】海賊のお宝探し（ディナ）	名声値+1
	SetDiaryFlag( DF_QS230_END, 1 )				// 【QS230】★ディナと一緒に宝箱の中身を確認。

	SetEnvSEPlayState(-1, 1)

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",17.35f,-1418.51f,11.58f)	//ディナの前にエアランが来ている事があるので、少し離して再配置しています
	Turn("LEADER",-107.34f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()

	SetChrPos("ev_QS_230_tbox" , -100000.00f , 0.00f ,0.00f )		// 宝箱を画面外に移動
	Wait(1)

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS231】美味なる食事（カーラン卿）
// ▼クエスト達成イベント（続き）
//
function "QS_231_Complete2"
{

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Curran")
	LoadChr("Barbaross")
	LoadChr("Dogi")
	LoadChr("Dina")
	LoadChr("Alison")
	LoadChr("Laxia")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 25.33f, -1421.90f, 10.83f)
	Turn("ADOL", -87.54f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookChr( "ADOL", "Curran" )

	SetChrWork("Curran", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Curran",28.78f,-1421.25f,10.83f)
	Turn("Curran",60.24f,360.0f)
	ChangeAnimation( "Curran" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Curran",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Curran" , INFOFLAG_NOCHRATARI)
	ResetChrInfoFlag( "Curran" , INFOFLAG_FIXED)

	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Barbaross",25.52f,-1422.99f,10.83f)
	Turn("Barbaross",-126.64f,360.0f)
	ChangeAnimation( "Barbaross" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI)
	LookChr( "Barbaross", "Curran" )

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 26.60f, -1423.67f, 10.83f)
	Turn("Dogi", -157.48f, 360.0f)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI)
	LookChr( "Dogi", "Curran" )

	SetChrWork("Laxia", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Laxia", 25.51f, -1420.87f, 10.83f)
	Turn("Laxia", -54.89f, 360.0f)
	ChangeAnimation( "Laxia" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Laxia",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Laxia",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Laxia",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Laxia" , INFOFLAG_NOCHRATARI)
	LookChr( "Laxia", "Curran" )

	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dina", 26.36f, -1420.32f, 10.83f)
	Turn("Dina", -50.01f, 360.0f)
	ChangeAnimation( "Dina" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Dina" , INFOFLAG_NOCHRATARI)
	LookChr( "Dina", "Curran" )

	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison", 27.70f, -1423.83f, 10.83f)
	Turn("Alison", -176.31f, 360.0f)
	ChangeAnimation( "Alison" , "ANI_EV_RYOTESIRI", -1 , 1 )
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI)
	LookChr( "Alison", "Curran" )

	//BGM設定
	PlayBGM(BGM_EVENT_004, 0)

	MoveCameraAt( 0 , 28.245f , -1422.200f , 12.119f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.841f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.224f , 0 )	// 基本仰角
	RotateCamera( 0 , 96.764f , 0 )				// 角度
	ChangeCameraPers( 0 , 41.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_231_Complete2_ED")

//開始処理ここまで-----------------------------------------------

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cカーラン卿は人々に声をかけたが"
		"#7Cまるで相手にされず……\p"
		"#7C自ら倉庫に赴き、食糧を持ち出そうとした。\p"
		"食糧2行目"
		"#7Cそのため止めに入った人々と"
		"#7C口論になってしまったのだった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//カメラ：少し上～アドルたちを映すカメラ
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 28.206f, -1421.906f, 12.293f, 65)	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 3.601f, 65)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 7.223f, 65)	// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 96.827f, 65)				// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE, 41.000f, 65)		// 視野角

	SetEnvSEPlayState(-1, 1)

	//　　フェードインして集会所。
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　そのタイミングでいるキャラたちが集まっている。
	//　　（エアラン、ヒュンメル、カトリーンの姿はない）
	//　　アドル、ドギはバルバロスの近くに配置しておく

	//カメラ待ち：少し上～アドルたちを映すカメラ
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	PlayVoice(Y8V_3738, "Barbaross", 100)	//なるほど…

	ChangeAnimation("Barbaross", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Barbaross",0,0,0,0,0)
	{
		"#000e#000m事情は分かりました……\p"
		"確かに、無断でというのは困りますな。"
		"無断3行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//PlayVoice(Y8V_4520, "Curran", 100)	//フン（平常のテンション。あらゆる場面で使用）

	ChangeAnimation("Curran", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("Curran",0,1,0,0,0)
	{
		"#000e#000mフン、声は掛けたではないか！"
		"従わぬお前たちが悪いのである！"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, 27.921f, -1421.450f, 12.144f, 0)	// 注視点
	ChangeCameraDistance(0, 3.601f, 0)		// 基本距離
	ChangeCameraElevation(0, 9.059f, 0)	// 基本仰角
	RotateCamera(0, 53.878f, 0)				// 角度
	ChangeCameraPers(0, 30.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	ChangeAnimation("Laxia", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Laxia",0,2,0,0,0)
	{
		"#000e#000mそういう問題ではありません。"
		"あれは漂流村全員の食糧なのですから。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dina", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("Dina",0,2,0,0,0)
	{
		"#030e#000mそ、そうよ！"
		"勝手されちゃ困るんですけど！"
	}
	WaitPrompt()
	WaitCloseWindow()

//	EmotionEx("Curran", 0.00f, EMO_MOYA, 0, 5, 1, 1, 1.0f)	// 困り
//	Wait(40)
	LookChr("Curran", "Laxia")


	ChangeAnimation("Curran", "ANI_EV_UDEGUMI_E", -1, 1)
	TalkPopup("Curran",0,0,0,0,0)
	{
		"#030e#000mなんだとう！？"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 28.164f , -1419.943f , 12.417f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.830f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.546f , 0 )	// 基本仰角
	RotateCamera( 0 , 147.091f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	LookReset("Barbaross")
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000e#000m皆さん、どうか落ち着いて下さい。\p"
		"そうですな……確かに"
		"食事が貧しかったのも事実です。"	
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Barbaross", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Barbaross", 0, 2, 0, 0, 0)
	{
		"#000e#000m幸い、探索班のお陰で"
		"食糧調達も目処が立ってきました。\p"
		"今後はもう少し"
		"贅沢をしてもよいでしょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　バルバロス以外にＰＡエモーション
//	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx("Curran", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
//	EmotionEx("Dogi", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx("Laxia", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx("Dina", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx("Alison", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ


	LookChr("Curran", "Barbaross" )
	LookChr("Laxia", "Barbaross" )
	LookChr("Dina", "Barbaross" )
	LookChr("Alison", "Barbaross" )
	ChangeAnimation("Dina", "ANI_EV_RYOTEKOSI_E", -1, 1)

	Wait(35)

	TalkPopup("Dina",0,1,0,0,0)
	{
		"#000e#000mえっ、ほんと？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//Turn("Alison", 160.54f, 8.0f)
	TalkPopup("Alison",0,1,0,0,0)
	{
		"#000e#080m美味しい物が食べられるのなら、"
		"私たちも嬉しいです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Barbaross", "ANI_EV_UDEGUMI_S", -1, 1)
	LookChr("Barbaross", "Curran")
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#011e#000mええ、増やす分量は状況を見て"
		"私が決めさせていただきます。\p"
		"#012eカーラン殿も、"
		"それでよろしいですかな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dina", "Curran")
	LookChr("Laxia", "Curran")
	LookChr("Dogi", "Curran")
	LookChr("ADOL", "Curran")
	LookChr("Alison", "Curran")

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 28.811f, -1420.613f, 12.368f, 60)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 5.544f, 60)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 125.069f, 60)		// 角度

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	ChangeAnimation("Curran", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("Curran",0,1,0,0,0)
	{
		"#000e#000mフン！　私に指図する気か。"
		"無礼であるぞ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、カーラン卿に向く
	Turn("ADOL", -112.55f, 8.0f)

	//カメラ：アドルとカーラン卿中心のカメラ

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"僕からも頼みます")
	MenuAdd(2,"今後の料理のためです")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	LookChr( "Curran", "ADOL" )

	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	HeadYes("ADOL", 1, 25)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//────────────────────
	//	⇒僕からも頼みます
	if (FLAG[TF_MENU_SELECT] == 1)
	{

		PlayVoice(Y8V_4525, "Curran", 100)	//ぐぬぬ…（悔しい）

		TalkPopup("Curran",0,1,0,0,0)
		{
			"#030e#000mむむむ……\p"
			"フン、仕方ない。"
			"今日の所は引き下がってやるのである！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒今後の料理のためです
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		PlayVoice(Y8V_4525, "Curran", 100)	//ぐぬぬ…（悔しい）

		TalkPopup("Curran",0,1,0,0,0)
		{
			"#030e#000mむ……わかっておる！\p"
			"もうよい、今日の所は"
			"引き下がってやるのである！"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//────────────────────

	ChangeAnimation("Curran", "ANI_EV_RYOTEKOSI_E", -1, 1)
	WaitAnimation2("Curran", -1, 1, "ANI_EV_RYOTEKOSI_E", 0)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 32.126f, -1420.028f, 12.368f, 100)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 79.055f, 100)		// 角度

	SetChrInfoFlag("Curran",INFOFLAG_NOATARI)

	//　　カーラン卿、屋内に立ち去っていく。
	ExecuteFunc( 100 , "mp1201:QS_231_Complete2_Curran_move" )
	Wait(90)

	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	StopThread(1000)
	StopThread(1001)
	StopThread(100)	//カーラン卿の動きを止める

	//　　クロスフェードでカメラ切り替え。
	//　　アドルとドギを映す。（他のキャラは映らないようにする）

	SetChrPos("Laxia", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Barbaross", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Alison", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Dina", -100000.00f, 0.00f, 0.00f)

	SetChrPos("ADOL", 25.69f, -1423.09f, 10.83f)
	Turn("ADOL", -134.71f, 360.0f)

	//SetChrPos("Curran", 33.23f, -1415.55f, 10.83f)

	MoveCameraAt(0, 25.967f, -1423.187f, 12.392f, 0)	// 注視点
	ChangeCameraDistance(0, 3.701f, 0)		// 基本距離
	ChangeCameraElevation(0, -2.301f, 0)	// 基本仰角
	RotateCamera(0, 116.804f, 0)				// 角度
	ChangeCameraPers(0, 44.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	ChangeAnimation("Dogi", "ANI_EV_RYOTEBURI", -1, 1)
	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#000e#000mやれやれ、何とか収まったみてえだな。\p"
		"しかしカーランの旦那には"
		"色々手を焼かされちゃいたが……\p"
		"これで少しは"
		"大人しくなってくれそうじゃねえか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Dogi")
	Turn("Dogi", 119.21f, 8.0f)
	LookChr("Dogi", "ADOL")

	TalkPopup("Dogi", 0, 0, 0, 0, 0)
	{
		"#000e#000mアドル、ありがとよ。"
		"俺からも礼を言わせて貰うぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadNo("ADOL",1 ,35 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)

	Wait(50)

	StopBGM(120)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　画面暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【美味なる食事】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒好感度が一段階上がる場合
	if (FLAG[GF_LIKELV_CURRAN] < 1)
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF, 0, 5, 0, 0, 0)
		{
			"#8S"
			"#-1W#4Cカーラン卿の好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF, 0, 5, 0, 0, 0)
		{
			"#8S"
			"#-1W#4Cカーラン卿の好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────
	//　　イベント終了、操作許可。
	//　　※アドルを集会所中央付近に再配置。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_231_Complete2_ED")
}
function "QS_231_Complete2_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Alison")
	CallFunc("system:reset_chrmot_Dina")
	CallFunc("system:reset_chrmot_Dogi")
	CallFunc("system:reset_chrmot_Laxia")
	CallFunc("system:reset_chrmot_Barbaross")
	CallFunc("system:reset_chrmot_Curran")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム回収
	SetFlag( GF_QUEST_231, QUEST_SUCCESS )		// 【QS231】美味なる食事（カーラン卿）	クエストを達成した
	DeleteItem( ICON3D_USFD_FOOD03, 1 )			// 「彩りムニエル」×１
	GetItem( ICON3D_US_ADD_DEF, 1)				// 守の霊薬
	SetFlag( GF_LIKELV_CURRAN, ( FLAG[GF_LIKELV_CURRAN] + 1 ) )	// 好感度ＵＰ
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS231】美味なる食事（カーラン卿）	名声値+1
	SetDiaryFlag( DF_QS231_START, 1 )			// 【QS231】★カーラン卿に料理を渡し、依頼を達成。

	SetEnvSEPlayState(-1, 1)

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",30.65f,-1419.37f,10.83f)
	Turn("LEADER",51.28f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	if( FLAG[GF_02MP23xx_OCCUR_INTERCEPT3] && !FLAG[GF_02MP2308_KILL_HIPPO] && WORK[WK_ISINTERCEPT] == 1 ){		//▼迎撃戦３発生
		PlayBGM(BGM_EVENT_012, 0)
	} else {
		PlayBGM(BGM_1201, 0)
	}

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}
function "QS_231_Complete2_Curran_move"
{
	LookReset("Curran")
	TurnTo("Curran" , 33.23f,-1415.55f,10.83f ,8.0f)
	MoveTo("Curran",33.23f,-1415.55f,10.83f,0.1f,0.20f)
	MoveTo("Curran", 10.88f, -1395.73f, 11.49f, 0.1f, 0.20f)
}


//===============================================================
//
// 【QS300】祈願の木（サハド）
// ▼クエスト開始イベント
//
function "QS_300_Start"
{
	//　　画面暗転を挟んで、集落中央マップ、農場からの坂を下った辺りの広場。
	//　　アドルとサハドが向き合っている。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	//LoadChr("Sahad")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 3.96f, -1428.02f, 16.61f)
	Turn("ADOL", -71.11f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "SAHAD" )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 3.53f, -1429.14f, 16.56f)
	Turn("SAHAD", -130.80f, 360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "SAHAD", "ADOL" )
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , 5.176f , -1428.226f , 18.190f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.291f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.439f , 0 )	// 基本仰角
	RotateCamera( 0 , 104.583f , 0 )				// 角度
	ChangeCameraPers( 0 , 37.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_300_Start_ED")

//開始処理ここまで-----------------------------------------------

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 5.176f, -1428.226f, 18.190f, 80)		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE,  2.100f, 65)		// 角度
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 6.442f, 80)		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 104.454f, 80)		// 角度

	//MoveCameraAt( 0 , 5.176f , -1428.226f , 18.190f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.100f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 6.442f , 0 )	// 基本仰角
	//RotateCamera( 0 , 104.454f , 0 )				// 角度
	//ChangeCameraPers( 0 , 37.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#011e#000mワシの故郷には、願い事を書いて"
		"木に飾る風習があってな。\p"
		"#012e#000m『祈願の木』なんて言うんだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("SAHAD", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#080e#080mこいつをやると、不思議と元気が出るんだ。\p"
		"不思議2行目"
		"この漂流村でも、同じ事が"
		"やれねーもんかと思ってな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"いい案だと思う")
	MenuAdd(2,"うまくできるだろうか……")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	//────────────────────
	//	⇒いい案だと思う
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		HeadYes("ADOL", 1, 25)
		Wait(20)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		//ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1)
		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#080e#080mガハハ、だろ？\p"
			"#050e#000m問題は……この島で"
			"いい木が見つかるかどうかだなぁ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		//ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1)
		//WaitAnimation2( "SAHAD" , -1, 1, "ANI_EV_RYOTEKOSI_E",  0)
	}
	//	⇒うまくできるだろうか……
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI_L", -1, 1)	
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)
	
		//ChangeAnimation("SAHAD", "ANI_EV_UDEGUMI_S", -1, 1)
		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#050e#000mおーよ、問題はそこだ。\p"
			"この島でいい木が"
			"見つかればいいんだがなぁ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		//ChangeAnimation("SAHAD", "ANI_EV_UDEGUMI_E", -1, 1)
		//WaitAnimation2( "SAHAD" , -1, 1, "ANI_EV_UDEGUMI_E",  0)

	}
	//────────────────────

//	TalkPopup("SAHAD",0,2,0,0,0)
//	{
//		"#000e#000m願い事は貝殻にでも書くとして……"
//		"木はどうしたもんかな。"
//	}
//	WaitPrompt()
//	WaitCloseWindow()

	//　　サハド、会話モーション
	LookReset("SAHAD")
	ChangeAnimation("SAHAD", "ANI_EV_SIAN_S", -1, 1)

	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	EmotionEx("SAHAD", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(52)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000m祈願を飾る木は"
		"ちょいと変わった見た目でな。\p"
		"幹は白くて、葉が青々としとるんだ。\p"	
		"#011e#000mふむ、ワシの故郷じゃ"
		"ちょいと高い場所に生えていたが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("SAHAD", "ANI_EV_SIAN_E", -1, 1)
	LookChr("SAHAD", "ADOL")

	TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#012e#000mこのセイレン島にも"
		"あるかはわからねーなぁ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"探してみよう")
	MenuAdd(2,"中々骨が折れそうだ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	//────────────────────
	//	⇒探してみよう
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_WAIT2_S", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#080e#080mおお、そう言ってくれりゃあ"
			"心強いぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation("SAHAD", "ANI_EV_YARUKI_S", -1, 1)
		TalkPopup("SAHAD", 0, 2, 0, 0, 0)
		{
			"#080mぜひ力を貸してくれよ、アドル！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒中々骨が折れそうだ
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_BORI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		ChangeAnimation("SAHAD", "ANI_EV_TEBURI", -1, 1)

		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#080e#080mガハハ……だがお前さんが"
			"いりゃあ心強いぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation("SAHAD", "ANI_EV_YARUKI_S", -1, 1)
		TalkPopup("SAHAD", 0, 2, 0, 0, 0)
		{
			"#080mぜひ力を貸してくれよ、アドル！ "
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	HeadYes("ADOL", 1, 25)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(20)

	//──────────────────────
	//	⇒依頼が冒険日誌に未登録の場合
	if (FLAG[GF_QUEST_300] == QUEST_NOTHING)
	{
		PlaySE(SE_QUEST_ADD, 100, 0, 0, 0, 1.0f, 0)		// クエスト追加
		//	システムメッセージ
		TalkPopup(UNDEF, 0, 5, 0, 0, 0)
		{
			"#-1W#4C冒険日誌のクエストページに1"
			"#-1W#4Cクエスト#8C【祈願の木】#4Cが追加された。#10W" 
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()

		//	  　※サハドにクエストマーカーを付ける。
	}
	//──────────────────────

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_300_Start_ED")
}
function "QS_300_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_SAHAD")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手
	SetFlag( GF_QUEST_300, QUEST_START )		// 【QS300】祈願の木（サハド）　クエスト開始
	SetDiaryFlag( DF_QS300_START, 1 )			// 【QS300】★サハドから話を聞いた。
	//マーカー設置
	SetMapMarker( SMI_QUEST, PAGE_MP433x, MARKER_QS_300_LP, -5.50f,-40.73f,500.00f, 	-5.50f,-40.73f,		MARKER_QS_300_LP, MN_D_MP4336,	1)	// 【QS300】祈願の木（サハド）「▼木を入手する」が発生するポイント用

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", 5.00f, -1420.45f, 16.55f)
	Turn("LEADER", -158.64f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, 5.001f, -1420.450f, 18.413f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, -21.355f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS301】新しい薬の調合（リヒト）
// ▼クエスト達成イベント
//
function "QS_301_Complete"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("Licht")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 20.19f, -1429.44f, 11.65f)
	Turn("ADOL", 61.10f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookChr( "ADOL", "Licht" )

	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Licht", 19.47f, -1430.22f, 11.64f)
	Turn("Licht", 124.57f, 360.0f)
	ChangeAnimation( "Licht" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Licht" , INFOFLAG_NOCHRATARI)
	Look("Licht", 1.00f, -50.00f)
	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , 19.053f , -1429.836f , 12.941f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.031f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.686f , 0 )	// 基本仰角
	RotateCamera( 0 , 92.350f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

MoveCameraAt( 0 , 19.028f , -1430.032f , 12.941f , 0 )	// 注視点
ChangeCameraDistance( 0 , 3.901f , 0 )		// 基本距離
ChangeCameraElevation( 0 , 7.686f , 0 )	// 基本仰角
RotateCamera( 0 , 92.298f , 0 )				// 角度
ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
RollCamera( 0 , 0.0f , 0 )				// ロール回転
// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_301_Complete_ED")

//開始処理ここまで-----------------------------------------------

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cリヒトは意外にも"
		"#7Cしっかりした手つきで調薬を進め……\p"
		"#7C多少手こずりつつも"
		"#7C見事完成させたのだった。"
	}
	WaitPrompt()
	WaitCloseWindow()

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 19.028f, -1430.032f, 12.941f, 70)		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 3.901f , 70)		// 視野角
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 7.686f, 70)		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 92.298f, 70)		// 角度

	//MoveCameraAt( 0 , 19.028f , -1430.032f , 12.941f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.901f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 7.686f , 0 )	// 基本仰角
	//RotateCamera( 0 , 92.298f , 0 )				// 角度
	//ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetEnvSEPlayState(-1, 1)	//環境SE

	//　　フェードインして、診療所前。
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//
	//　　アドルとリヒトが向かい合っている。
	TalkPopup("Licht",0,2,0,0,0)
	{
		"#000e#000mで、できました……！"
		"初めてです、この薬を調合できたのは。\p"
		"#000e#000mきっと、頂いた"
		"素材が良かったお陰ですね。"
	}
	WaitPrompt()
	WaitCloseWindow()


	CrossFade(FADE_CROSS)
	MoveCameraAt(0, 19.415f, -1431.555f, 13.114f, 0)	// 注視点
	ChangeCameraDistance(0, 3.901f, 0)		// 基本距離
	ChangeCameraElevation(0, 1.488f, 0)	// 基本仰角
	RotateCamera(0, 168.303f, 0)				// 角度
	ChangeCameraPers(0, 40.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)

	//ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 17.239f, -1431.905f, 12.693f, 50)		// 注視点
	//ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 127.965f, 50)		// 角度
	LookReset("Licht")
	ExecuteCmd(1, TurnToChr, "Licht", "ADOL", 8.0f)

	WaitThread(1)
	LookChr("Licht", "ADOL")
	//WaitThread(1000)
	//WaitThread(1001)

	TalkPopup("Licht", 0, 2, 0, 0, 0)
	{
		"#000e#000mアドルさん、お礼と言っては何ですが"
		"この薬をお持ちいただけませんか？\p"
		"気力を回復する、"
		"少し珍しい薬なのですが。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Licht", "ANI_EV_TEWATASI_S", -1, 1)
	WaitAnimation2("Licht", -1, 1, "ANI_EV_TEWATASI_S", 0)

	//	アイテム入手テキスト
	//	「『奮迅薬』を手に入れた。」
	GetItemMessageExPlus(ICON3D_US_EXTRA_01, 1, ITEMMSG_SE_JINGLE, "を手に入れた！3", 0, 0)	//奮迅薬
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Licht", "ANI_EV_TEWATASI_E", -1, 1)
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"凄そうな薬だ")
	MenuAdd(2,"大した腕前だね")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	//────────────────────
	//	⇒凄そうな薬だ
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadYes("ADOL", 1, 25)
		Wait(35)

		HeadNo("Licht", 1, 30)
		ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(20)
		ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		TalkPopup("Licht",0,2,0,0,0)
		{
			"#000mええ……あまり"
			"知られていない薬かもしれません。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//	⇒大した腕前だね
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		HeadYes("ADOL", 1, 25)
		Wait(35)

		HeadNo("Licht", 1, 35)
		ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(30)
		ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		TalkPopup("Licht",0,2,0,0,0)
		{
			"#000mい、いえ、そんな事は……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	//　　リヒトに・・・エモーション
	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	EmotionEx("Licht", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 19.265f, -1431.925f, 13.114f, 70)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 165.696f, 70)		// 角度

	WaitThread(1000)
	WaitThread(1001)

	ChangeAnimation("Licht", "ANI_EV_TEMUNE_S", -1, 1)
	TalkPopup("Licht",0,2,0,0,0)
	{
		"#010e#000m実は僕は……幼い頃に"
		"大きな病気をしていた事がありまして。\p"
		"そのとき先生に"
		"処方して頂いていたんです。\p"
		"#000e#000mうまく調合できるか"
		"自信はなかったのですが……\p"
		"これで、少しは皆さんの"
		"お役に立てそうな気がします。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　初めて少し苦笑を見せるリヒト。
//	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_NIGA_S,1)
//	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_NIGA_S,1)	
	ChangeAnimation("Licht", "ANI_EV_TEMUNE_E", -1, 1)

	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_SAD_S, 1)
	ChangeSubAnimation("Licht", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)

	Look("Licht", -6.00f, -8.00f)

	Wait(30)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"大事に使わせてもらうよ")
	MenuAdd(2,"これからもよろしく")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	//────────────────────
	//	⇒大事に使わせてもらうよ
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		HeadYes("ADOL", 1, 25)
		Wait(35)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)


		LookChr("Licht", "ADOL")
		TalkPopup("Licht",0,2,0,0,0)
		{
			"#080e#080mはい、ぜひそうしていただければ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒これからもよろしく
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		HeadYes("ADOL", 1, 25)
		Wait(35)

		LookChr("Licht", "ADOL")
		TalkPopup("Licht",0,2,0,0,0)
		{
			"#080e#080mは……はい。"
			"こちらこそよろしくお願いします。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	PlayVoice(Y8V_4270, "Licht", 100)	//よーし！（前向き）
	TalkPopup("Licht",0,2,0,0,0)
	{
		"#000e#080mまだまだ診療所をやっていけるか不安ですが"
		"……僕も頑張ってみようと思います。\p"
		"アドルさん、今日は本当に"
		"ありがとうございました。 "
	}
	WaitPrompt()
	WaitCloseWindow()

	//ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 20.255f, -1428.800f, 13.114f, 160)		// 注視点
	//ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 153.404f, 160)		// 角度

	//Wait(40)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　画面暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	//StopThread(1000)
	//StopThread(1001)

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【新しい薬の調合】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒好感度が一段階上がる場合
	if( FLAG[GF_LIKELV_LICHT] < 1 )
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cリヒトの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cリヒトの好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4C診療所で作成できる薬が増えた！#10W" 
		"診療所2行目"
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_301_Complete_ED")
}
function "QS_301_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Licht")
	SetChrPos("Licht", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_QUEST_301, QUEST_SUCCESS )		// 【QS301】新しい薬の調合（リヒト）　クエストを達成した
	SetFlag( GF_DRUG_RECIPE12, 1)				// 【QS301】新しい薬の調合（リヒト）達成 奮迅水が作成可能に
	DeleteItem( ICON3D_MT_N3_LIQUID, 1 )		// 『煌く粘液』×１
	DeleteItem( ICON3D_MT_N3_FLOWER, 1 )		// 『輝く葉』×１
	GetItem( ICON3D_US_EXTRA_01, 1 )			// 『奮迅薬』
	SetFlag( GF_LIKELV_LICHT, ( FLAG[GF_LIKELV_LICHT] + 1 ) )	// 好感度ＵＰ
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS301】新しい薬の調合（リヒト）	名声値+1
	SetDiaryFlag( DF_QS301_END, 1 )				// 【QS301】★リヒトに素材を渡し、依頼を達成。

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", 22.56f, -1428.85f, 11.61f)
	Turn("LEADER", 56.76f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, 22.559f, -1428.849f, 13.475f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, 123.237f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS310】試作品の性能テスト（エアラン）
// ▼クエスト開始イベント
//
function "QS_310_Start"
{
	//　　画面暗転を挟んで、工芸屋前。
	//　　エアランが席に座り、アドルと話している構図になる。

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("Aaron")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 16.91f, -1423.38f, 11.66f)
	Turn("ADOL", 58.37f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "Aaron" )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 15.74f, -1423.87f, 11.64f)
	Turn("Aaron", -59.45f, 360.0f)
	ChangeAnimation( "Aaron" , "ANI_EV_SIT_C", -1 , 1 )
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Aaron", "ADOL")
	SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag("Aaron", INFOFLAG_NOATARI)	//椅子に座れるためNOATARI

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

//	//カメラ設定
//	MoveCameraAt(0, 17.162f, -1424.747f, 14.501f, 0)	// 注視点
//	ChangeCameraDistance(0, 2.650f, 0)		// 基本距離
//	ChangeCameraElevation(0, 12.275f, 0)	// 基本仰角
//	RotateCamera(0, 143.988f, 0)				// 角度
//	ChangeCameraPers(0, 33.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , 16.771f , -1423.854f , 13.037f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.650f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.367f , 0 )	// 基本仰角
	RotateCamera( 0 , 82.306f , 0 )				// 角度
	ChangeCameraPers( 0 , 33.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_310_Start_ED")

//開始処理ここまで-----------------------------------------------

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 16.771f, -1423.854f, 13.037f, 120)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 11.367f, 120)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 82.306f, 120)		// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)

	TalkPopup("Aaron",0,1,0,0,0)
	{
		"#000e#000m古代種どもをブッ倒せるってのは"
		"デカイ前進だが……\p"
		"連中が脅威なのは変わりねェだろ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Aaron", "ANI_EV_SC_TEBURI", -1, 1)

	TalkPopup("Aaron", 0, 1, 0, 0, 0)
	{
		"#000e#000mそこで、ドギとも相談してな。"
		"こんな物を作ってみたぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	アイテム入手テキスト
	//	「『鉛の肩当て』を受け取った。」
	GetItemMessageExPlus(ICON3D_AC_063, 1, ITEMMSG_SE_JINGLE, "を受け取った。4", 0, 0)	//鉛の肩当て
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"これは……？")
	MenuAdd(2,"丁寧な作りだな……")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//────────────────────
	//	⇒これは……？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		HeadYes("Aaron", 1, 25)
		ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		TalkPopup("Aaron",0,1,0,0,0)
		{
			"#000mああ、頑丈な素材を組み合わせた"
			"試作の肩当てでな。\p"
			"あの厄介な【失血状態】を"
			"ある程度防げるはずだぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒丁寧な作りだな……
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		HeadYes("ADOL", 1, 25)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(15)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		EmotionEx("Aaron", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
		ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_CLOSE_S,1)
		Wait(40)
		TalkPopup("Aaron",0,1,0,0,0)
		{
			"#012e#000mバーロー、見るのはそこじゃねェ。\p"
			"#000e#000mこいつは頑丈な素材を組み合わせた"
			"試作の肩当てでな。\p"
			"あの厄介な【失血状態】を"
			"ある程度防げるはずだぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	TalkPopup("Aaron",0,1,0,0,0)
	{
		"#000e#000mお前らにはこいつのテストを頼みてェ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"僕らとしてもありがたいな")
	MenuAdd(2,"どうすればいいんだ？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//────────────────────
	//	⇒僕らとしてもありがたいな
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadYes("ADOL", 1, 25)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(15)

		HeadNo("Aaron", 1, 35)
		ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_CLOSE_S, 1)

		TalkPopup("Aaron",0,1,0,0,0)
		{
			"#011e#000mハン、まだ試作品だ。"
			"あんま期待すんじゃねえぞ。\p"
			"#012eそうだな、ジャンダルムには"
			"古代種がいるらしいな？\p"
			"ならそいつを装備して、"
			"２体ほど倒してみてくれ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒どうすればいいんだ？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		TalkPopup("Aaron",0,1,0,0,0)
		{
			"#000e#000mなァに、そいつを装備して"
			"古代種と戦うだけだ。\p"
			"そうだな、ジャンダルムには"
			"古代種がいるらしいな？\p "
			"ならそいつを２体ほど倒してみてくれ。"
			"2対ほど6行目"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	ChangeAnimation("Aaron", "ANI_EV_SC_TEBURI", -1, 1)
	TalkPopup("Aaron",0,1,0,0,0)
	{
		"#000e#000m終わったら報告に来てくれ。"
		"よろしくな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルが頷く。
	HeadYes("ADOL" , 1 , 25)
	Wait(35)

	//　　イベント終了、操作許可
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_310_Start_ED")
}
function "QS_310_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Aaron")
	ResetChrInfoFlag("Aaron", INFOFLAG_NOATARI)
	SetChrPos("Aaron", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手
	SetFlag( GF_QUEST_310, QUEST_START )		// 【QS310】試作品の性能テスト（エアラン）　クエスト開始
	SetDiaryFlag( DF_QS310_START, 1 )			// 【QS310】★エアランから試作品の

	GetItem( ICON3D_AC_063, 1 )				// 『鉛の肩当て』

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",16.18f,-1421.79f,11.64f)
	Turn("LEADER",-149.19f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, 16.180f, -1421.790f, 13.501f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, 144.212f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}
//===============================================================
//
// 【QS310】試作品の性能テスト（エアラン）
// ▼クエスト達成イベント
//
function "QS_310_Complete"
{
	//　　画面暗転を挟んで、工芸屋前。
	//　　エアランが席に座り、アドルと話している構図になる。

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("Aaron")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")	

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 17.46f, -1422.69f, 11.65f)
	Turn("ADOL", 68.64f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("ADOL", "Aaron")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 16.15f, -1423.01f, 11.64f)
	Turn("Aaron", -105.08f, 360.0f)
	//ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeAnimation("Aaron", "ANI_EV_TEWATASI", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)
	SetChrInfoFlag("Aaron", INFOFLAG_NOATARI)
				
	RemovePartyEquip(ICON3D_AC_063, 1)// 『鉛の肩当て』を装備品から外す

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

//	//カメラ設定
//	MoveCameraAt(0, 17.168f, -1422.611f, 14.352f, 0)	// 注視点
//	ChangeCameraDistance(0, 1.699f, 0)		// 基本距離
//	ChangeCameraElevation(0, 3.847f, 0)	// 基本仰角
//	RotateCamera(0, 158.891f, 0)				// 角度
//	ChangeCameraPers(0, 44.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転

	MoveCameraAt( 0 , 17.168f , -1422.611f , 13.186f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.699f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.046f , 0 )	// 基本仰角
	RotateCamera( 0 , 140.195f , 0 )				// 角度
	ChangeCameraPers( 0 , 44.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_310_Complete_ED")

//開始処理ここまで-----------------------------------------------
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 17.168f, -1422.611f, 13.186f, 90)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 5.046f, 90)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 140.195f, 90)		// 角度

	Look("Aaron", 0.00f, -15.0f)
	Wait(10)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	Wait(20)

	ChangeAnimation("Aaron", "ANI_EV_TEWATASI_E", -1, 1)
	WaitAnimation2("Aaron", -1, 1, "ANI_EV_TEWATASI_E", 0)

	HeadNo("Aaron", 1, 35)
//	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
//	Wait(35)
//	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//
	TalkPopup("Aaron",0,2,0,0,0)
	{
		"#011e#000m思ったより損傷してやがる。"
		"基礎強度もまだまだだなァ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Aaron", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("Aaron", 0, 2, 0, 0, 0)
	{
		"#012e#000mだがまあ、お陰で"
		"改良点もはっきり見えてきたか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Aaron", "ADOL")	
	TalkPopup("Aaron", 0, 2, 0, 0, 0)
	{
		"#000e#000mアドル、礼を言わせてもらうぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"どういたしましてだ")
	MenuAdd(2,"これで少しは安心だな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//────────────────────
	//	⇒どういたしましてだ
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		Wait(40)

//		HeadYes("Aaron", 1, 25)
//		Wait(25)
		TalkPopup("Aaron",0,2,0,0,0)
		{
			"#000e#000mハン……相変わらず"
			"頼りになるヤローだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		ChangeAnimation("Aaron", "ANI_EV_UDEGUMI_E", -1, 1)
//		WaitAnimation2("Aaron", -1, 1, "ANI_EV_UDEGUMI_E", 0)

	}
	//	⇒これで少しは安心だな
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_WAIT2_S", -1, 1)
		Wait(40)

//		HeadYes("Aaron", 1, 25)
//		Wait(25)

		TalkPopup("Aaron",0,2,0,0,0)
		{
			"#000e#000mああ、改良が済んだら"
			"村の連中に配ってやるかね。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation("Aaron", "ANI_EV_UDEGUMI_E", -1, 1)
//		WaitAnimation2("Aaron", -1, 1, "ANI_EV_UDEGUMI_E", 0)
	}
	//────────────────────

	//　　エアランにＰＡエモーション
	EmotionEx("Aaron", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)
	LookReset("Aaron")

	WaitAnimation2("Aaron", -1, 1, "ANI_EV_UDEGUMI_E", 0)
	ChangeAnimation("Aaron", "ANI_EV_SIAN_S", -1, 1)
	TalkPopup("Aaron",0,2,0,0,0)
	{
		"#011e#000mそうだな、腕ならしに"
		"こいつも軽く強化してみるかね。\p"
		"……ちょいと待ってな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　軽く暗転を挟んで工具作成のＳＥがする。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	PlaySE(SE_QS_310_01, 100, 0, 0, 0, 1.0f, 0)		//
	Wait(60)
	SetChrPos("Aaron", 15.70f, -1423.79f, 11.64f)
	Turn("Aaron", -76.29f, 360.0f)
	LookReset("Aaron")
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)

	SetChrPos("ADOL", 16.98f, -1423.46f, 11.66f)
	Turn("ADOL", 66.51f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
//
//	MoveCameraAt(0, 16.742f, -1424.071f, 13.186f, 0)	// 注視点
//	ChangeCameraDistance(0, 1.697f, 0)		// 基本距離
//	ChangeCameraElevation(0, 11.597f, 0)	// 基本仰角
//	RotateCamera(0, 70.360f, 0)				// 角度
//	ChangeCameraPers(0, 41.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転

	MoveCameraAt( 0 , 16.967f , -1424.067f , 13.112f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.697f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.598f , 0 )	// 基本仰角
	RotateCamera( 0 , 61.971f , 0 )				// 角度
	ChangeCameraPers( 0 , 41.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeAnimation("Aaron", "ANI_EV_SIT_C", -1, 1)

//	////　　同じ構図でフェードイン。
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 16.967f, -1424.067f, 13.112f, 50)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 11.598f, 50)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 61.971f, 50)		// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)

	TalkPopup("Aaron",0,0,0,0,0)
	{
		"#000mま、こんな所か。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Aaron", "ADOL")
	TalkPopup("Aaron", 0, 0, 0, 0, 0)
	{
		"#012e#000mおらよ、報酬代わりだ。"
		"こいつを持っていきな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("ADOL", "ANI_EV_TEWATASI_S", -1, 1)
	Look("ADOL", 0.00f, -15.0f)

	Wait(10)

	//	アイテム入手テキスト
	//	「『暴竜の肩当て』を受け取った。」
	GetItemMessageExPlus(ICON3D_AC_022, 1, ITEMMSG_SE_JINGLE, "を受け取った。5", 0, 0)	//『暴竜の肩当て』
	WaitPrompt()
	WaitCloseWindow()
	
	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7C見るからに立派な肩当てだ。\p"
		"#7C表面には中々見事な彫刻まで施されている……"
		"表面3行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルに冷や汗エモーション
	EmotionEx("ADOL", 0.00f, EMO_TARA, 0, 5, 1, 1, 0.8f)	//冷や汗
	Wait(50)

	PlayVoice(Y8V_3871, "Aaron", 100)	//あァ？（面倒くさそうに）
	TalkPopup("Aaron",0,0,0,0,0)
	{
		"#000e#000mア？　なにジロジロ見てやがるんだァ？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"なんでもない")
	MenuAdd(2,"やっぱり工芸が好きなんじゃ……")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//────────────────────
	//	⇒なんでもない
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadNo("ADOL", 1, 30)
		Wait(35)

		TalkPopup("Aaron",0,0,0,0,0)
		{
			"#041e#000mフン、そんな目つきじゃ"
			"なかったがなァ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒やっぱり工芸が好きなんじゃ……
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		HeadYes("ADOL", 1, 25)
		Wait(30)

		EmotionEx("Aaron", 0.00f, EMO_MOYA, 0, 5, 1, 1, 1.0f)	//モヤモヤ
		Wait(50)

		TalkPopup("Aaron",0,0,0,0,0)
		{
			"#030e#000mバーロー、誰がンな事言ったんだ？"
		}
		WaitPrompt()
		WaitCloseWindow()

		PlayVoice(Y8V_3874, "Aaron", 100)	//ったく…（イライラ）
		TalkPopup("Aaron", 0, 0, 0, 0, 0)
		{
			"#041e#000m余計な軽口を叩くんじゃねえぜ、"
			"ったく……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	ChangeAnimation("ADOL", "ANI_EV_TEWATASI_E", -1, 1)

	ChangeAnimation("Aaron", "ANI_EV_SC_TEBURI", -1, 1)
	TalkPopup("Aaron",0,0,0,0,0)
	{
		"#012e#000m……まあいい、この先も"
		"何があるか判ったもんじゃねえ。\p"
		"#000e#000m今後も気を抜くんじゃねえぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()

//	//　　アドルうなずく。
//	HeadYes("ADOL" , 1 , 25)
//	Wait(35)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　画面暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【試作品の性能テスト】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒好感度が一段階上がる場合
	if( FLAG[GF_LIKELV_AARON] < 1 )
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cエアランの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cエアランの好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル
	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4C工芸屋で作成できる装飾品が増えた！#10W" 
		"装飾品3行目"
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_310_Complete_ED")
}
function "QS_310_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Aaron")
	ResetChrInfoFlag("Aaron", INFOFLAG_NOATARI)
	SetChrPos("Aaron", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_QUEST_310, QUEST_SUCCESS )		// 【QS310】試作品の性能テスト（エアラン）　クエストを達成した
	DeleteItem( ICON3D_AC_063, 1 )				// 『鉛の肩当て』
	GetItem( ICON3D_AC_022, 1 )					// 『暴竜の肩当て』
	SetFlag( GF_LIKELV_AARON, ( FLAG[GF_LIKELV_AARON] + 1 ) )	// 好感度ＵＰ
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS310】試作品の性能テスト（エアラン）	名声値+1
	SetDiaryFlag( DF_QS310_END, 1 )				// 【QS310】★エアランに報告し、依頼を達成した！

	SetFlag( GF_QS310_GET_ITEM, 1 )				// 【QS310】報酬をもらった。ショップ更新用

	if(FLAG[GF_NPC_5_04_GOTO_HOLLOW]) {// ▼第五部④大空洞へ向かう
		//SetFlag( GF_QS310_GET_ITEM2, 1 )	// 【QS310】ショップ更新用・暴竜の守護石専用フラグ
	}
	if(FLAG[GF_NPC_5_02_GOTO_BAHA]) {// ▼第五部②バハの塔に向かう
		//SetFlag( GF_QS310_GET_ITEM3, 1 )	// 【QS310】ショップ更新用・暴竜の護符専用フラグ
	}

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", 19.73f, -1422.17f, 11.44f)
	Turn("LEADER", -113.96f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, 19.726f, -1422.165f, 13.304f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, 113.963f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	SetEnvSEPlayState(-1, 1)	//環境SE

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS402】栄養満点の肉料理（ミラルダ）
// ▼クエスト達成イベント
//
function "QS_402_Complete"
{
	//　　暗転を挟んで、調理場の前。
	//　　アドルとミラルダが向かい合っている。

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("Miralda")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 20.97f, -1442.38f, 11.41f)
	Turn("ADOL", 149.62f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookChr( "ADOL", "Miralda" )

	SetChrWork("Miralda", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Miralda", 20.51f, -1441.03f, 11.46f)
	Turn("Miralda", 115.74f, 360.0f)
	ChangeAnimation( "Miralda" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Miralda", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("Miralda",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Miralda",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Miralda" , INFOFLAG_NOCHRATARI)
	LookReset("Miralda")

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
//	MoveCameraAt( 0 , 20.129f , -1440.971f , 12.774f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.100f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 13.878f , 0 )	// 基本仰角
//	RotateCamera( 0 , 110.157f , 0 )				// 角度
//	ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	MoveCameraAt( 0 , 20.282f , -1441.420f , 12.873f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.100f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.339f , 0 )	// 基本仰角
	RotateCamera( 0 , 203.150f , 0 )				// 角度
	ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_402_Complete_ED")

//開始処理ここまで-----------------------------------------------

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 20.282f, -1441.420f, 12.873f, 135)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 8.339f, 135)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 203.150f, 135)		// 角度
//	ExecuteCmd(1003, ChangeCameraPers, INTERPOLATE_SPHERE, 43.000f, 135)		// 視野角
//
//	//MoveCameraAt( 0 , 20.282f , -1441.420f , 12.873f , 0 )	// 注視点
//	//ChangeCameraDistance( 0 , 2.100f , 0 )		// 基本距離
//	//ChangeCameraElevation( 0 , 8.339f , 0 )	// 基本仰角
//	//RotateCamera( 0 , 203.150f , 0 )				// 角度
//	//ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
//	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)

	ChangeAnimation("Miralda", "ANI_EV_RYOTEKOSI_S", -1, 1)
	ChangeSubAnimation("Miralda", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	TalkPopup("Miralda",0,2,0,0,0)
	{
		"#080e#080mよし、完成っと！\p"
		"少しお肉を薄めに切って、"
		"それをキノコに巻いてみたの。"
	}
	WaitPrompt()
	WaitCloseWindow()
	ChangeAnimation("Miralda", "ANI_EV_RYOTEKOSI_E", -1, 1)
	WaitAnimation2("Miralda", -1, 1, "ANI_EV_RYOTEKOSI_E", 0)

	Turn("Miralda", -19.16f, 8.0f)
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 20.419f, -1441.701f, 12.873f, 40)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 212.599f, 40)		// 角度

	WaitThread(1000)
	WaitThread(1001)

	ChangeAnimation("Miralda", "ANI_EV_TEWATASI_S", -1, 1)
	EmotionEx("Miralda", 0.00f, EMO_LOVE, 0, 5, 1, 1, 1.0f)	//ハート
	Wait(35)
	TalkPopup("Miralda", 0, 2, 0, 0, 0)
	{
		"#000e#000mはい、アーンして。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルに「アセアセ」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_ASE, 0, 5, 1, 1, 1.2f)	//汗汗	
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_S, 1)
	Wait(40)

	PlayVoice(Y8V_4799, "Miralda", 100)	//ふふ（微笑）
	TalkPopup("Miralda",0,2,0,0,0)
	{
		"#080e#080mふふ、照れない照れない㈱"
	}
	WaitPrompt()
	WaitCloseWindow()

	FadeOut(FADE_BLACK, FADE_FAST)
	WaitFade()

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cアドルは戸惑いつつも、"
		"#7C完成したばかりの料理を"
		"#7Cミラルダに食べさせてもらった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	MoveCameraAt(0, 21.580f, -1441.499f, 12.993f, 0)	// 注視点
	ChangeCameraDistance(0, 2.100f, 0)		// 基本距離
	ChangeCameraElevation(0, 3.582f, 0)	// 基本仰角
	RotateCamera(0, 74.516f, 0)				// 角度
	ChangeCameraPers(0, 34.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	SetChrPos("ADOL", 21.07f, -1441.68f, 11.45f)
	Turn("ADOL", 149.06f, 360.0f)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)

	SetChrPos("Miralda", 20.53f, -1440.62f, 11.46f)
	Turn("Miralda", -29.28f, 360.0f)

	LookChr("Miralda", "ADOL")
	ChangeAnimation("Miralda", "ANI_EV_UDEGUMI", -1, 1)

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	//　　アドルに「パッ」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(40)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ほっぺが落ちそうだ")
	MenuAdd(2,"食べ応えがあるね")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	ChangeAnimation("ADOL", "ANI_EV_WAIT2_S", -1, 1)
	Wait(30)

	//──────────────────────
	//	⇒ほっぺが落ちそうだ
	if (FLAG[TF_MENU_SELECT] == 1)
	{

		TalkPopup("Miralda",0,2,0,0,0)
		{
			"#021e#080mふふ、アドル君ってば褒め上手ね㈱"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒食べ応えがあるね
	else if (FLAG[TF_MENU_SELECT] == 2)
	{

		TalkPopup("Miralda",0,2,0,0,0)
		{
			"#021e#080mふふ、でしょう？"
			"キノコもまるでお肉みたいじゃない？"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	ChangeSubAnimation("Miralda",SUBMOT_EYE,ANI_E_LAUGH_E,1)
	Look("Miralda", 40.00f, 0.0f)

	TalkPopup("Miralda",0,2,0,0,0)
	{
		"#000mそれにしても、"
		"これは本当に上質なお肉ね。\p"
		"脂にもしっかり旨みがあって、"
		"普通のお肉じゃこうはいかなかったわ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ミラルダに「…」エモーション。
	ChangeSubAnimation("Miralda", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	EmotionEx("Miralda", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(52)
	ChangeSubAnimation("Miralda", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	LookChr("Miralda", "ADOL")

	ChangeAnimation("Miralda", "ANI_EV_UDEGUMI_E", -1, 1)
	TalkPopup("Miralda",0,2,0,0,0)
	{
		"#000m本当なら、もっと沢山"
		"お肉を使いたい所なんだけど……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Miralda", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Miralda", 0, 2, 0, 0, 0)
	{
		"#000e#000mみんなそれぞれ、"
		"色々と仕事を抱えているでしょ？\p"
		"そんなわけで狩りや採取も"
		"いつも出来るわけじゃないからさ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Miralda", "ANI_EV_TEMUNE_S", -1, 1)

	TalkPopup("Miralda", 0, 2, 0, 0, 0)
	{
		"#000e#000mこのお肉に限らず、"
		"何だかんだ食料は貴重なのよね。\p"
		"#011e#000mだから私も、何かしら"
		"工夫を凝らさなきゃって思って。"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2( "Miralda" , -1, 1, "ANI_EV_TEMUNE_S",  0)
	ChangeAnimation("Miralda", "ANI_EV_TEMUNE_E", -1, 1)

	TalkPopup("Miralda", 0, 2, 0, 0, 0)
	{
		"#012e#000mアドル君が美味しそうに"
		"食べてくれて本当によかったわ。"
	}
	WaitPrompt()
	WaitCloseWindow()

//	CrossFade(FADE_CROSS)
//	MoveCameraAt(0, 20.926f, -1440.516f, 12.993f, 0)	// 注視点
//	ChangeCameraDistance(0, 2.100f, 0)		// 基本距離
//	ChangeCameraElevation(0, 5.488f, 0)	// 基本仰角
//	RotateCamera(0, 157.799f, 0)				// 角度
//	ChangeCameraPers(0, 34.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
//
//	Wait(15)

	ChangeAnimation("ADOL", "ANI_EV_WAIT2_E", -1, 1)

	Wait(5)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"いつも助かってる")
	MenuAdd(2,"最高の奥さんだ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	//──────────────────────
	//	⇒いつも助かってる
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		ChangeAnimation("Miralda", "ANI_EV_RYOTEKOSI_S", -1, 1)
		TalkPopup("Miralda",0,2,0,0,0)
		{
			"#000e#080mふふ、それはこちらの台詞よ。\p"
			"アドル君たちが頑張ってくれてるから"
			"私も頑張れるんだから。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒最高の奥さんだ
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		HeadYes("ADOL", 1, 25)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		Wait(20)
		
		EmotionEx("Miralda", 0.00f, EMO_LOVE, 0, 5, 1, 1, 1.0f)	//ハート
		ChangeSubAnimation("Miralda",SUBMOT_EYE,ANI_E_LAUGH_S,1)
		ChangeSubAnimation("Miralda",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
		Wait(40)

		ChangeAnimation("Miralda", "ANI_EV_RYOTEKOSI_S", -1, 1)
		TalkPopup("Miralda",0,2,0,0,0)
		{
			"#080mふふ、ありがと。"
			"主婦冥利に尽きるわ㈱"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	ChangeAnimation("Miralda", "ANI_EV_RYOTEKOSI_E", -1, 1)

	TalkPopup("Miralda",0,2,0,0,0)
	{
		"#000e#080mとりあえず、ある程度"
		"まとめて作ったから持って行って。"
	}
	WaitPrompt()
	WaitCloseWindow()
	WaitAnimation2("Miralda", -1, 1, "ANI_EV_RYOTEKOSI_E", 0)

	ChangeAnimation("Miralda", "ANI_EV_TEWATASI_S", -1, 1)
	TalkPopup("Miralda",0,2,0,0,0)
	{
		"#000e#080mそれからレシピもまとめておいたわ。\p"
		"またみんなで作ってみてね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	GetItemMessageExPlus(ICON3D_USFD_FOOD10, 5, ITEMMSG_SE_BETTER, "を手に入れた！4", 0, 0)	//『肉巻きキノコ』
	WaitPrompt()
	WaitCloseWindow()

	GetItemMessageExPlus(ICON3D_COOK_RECIPE06, 1, ITEMMSG_SE_JINGLE, "を手に入れた！5", 0, 0)	//『肉巻きキノコ』
	WaitPrompt()
	WaitCloseWindow()

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 21.646f, -1440.278f, 12.993f, 70)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 10.790f, 70)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 119.006f, 70)		// 角度

	ChangeAnimation("Miralda", "ANI_EV_TEWATASI_E", -1, 1)


	TalkPopup("Miralda",0,2,0,0,0)
	{
		"#021e#080mさてと、それじゃあこのまま"
		"漂流村のみんなの分も作ろっかな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2("Miralda", -1, 1, "ANI_EV_TEWATASI_E", 0)

	LookReset("Miralda")
	Turn("Miralda", 102.15f, 8.0f)
	Look("Miralda", 0.00f, -10.0f)

	TalkPopup("Miralda",0,2,0,0,0)
	{
		"みんな、本当によく食べるから"
		"張り切って作らないとね！"
	}
	WaitPrompt()
	WaitCloseWindow()

	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	//　　画面暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	StopThread(1000)
	StopThread(1001)
	StopThread(1002)

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【栄養満点の肉料理】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒好感度が一段階上がる場合
	if( FLAG[GF_LIKELV_MIRALDA] < 1 )
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cミラルダの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cミラルダの好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	//　　イベント終了、操作許可。
	//　　※アドルを調理場前に再配置。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_402_Complete_ED")
}
function "QS_402_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_Miralda")
	SetChrPos("Miralda", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_QUEST_402, QUEST_SUCCESS )		// 【QS402】栄養満点の肉料理（ミラルダ）　クエストを達成した
	DeleteItem( ICON3D_FD_MEAT_03, 3 )			// 『始原肉』×３
	GetItem( ICON3D_USFD_FOOD10, 5 )			// 『肉巻きキノコ』×５
	GetItem( ICON3D_COOK_RECIPE06, 1 )			// レシピ帳・肉とキノコ
	SetFlag( GF_LIKELV_MIRALDA, ( FLAG[GF_LIKELV_MIRALDA] + 1 ) )	// 好感度ＵＰ
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS402】栄養満点の肉料理（ミラルダ）	名声値+1
	SetDiaryFlag( DF_QS402_END, 1 )				// 【QS402】★ミラルダさんに食材を渡し、依頼を達成した！
	//SetDiaryCharaFlag( DRCHA_MIRALDA, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（ミラルダ）

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",21.76f,-1438.97f,11.50f)
	Turn("LEADER",36.67f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetEnvSEPlayState(-1, 1)	//環境SE

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS311】神に祈りを（シスター・ニア）
// ▼クエスト開始イベント
//
function "QS_311_Start"
{
	//　　画面暗転を挟んで、中央上段の高台。
	//　　ニアの前にアドルが立っている。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Nia")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -3.85f, -1474.56f, 24.52f)
	Turn("ADOL", -21.84f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "Nia" )

	SetChrWork("Nia", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Nia", -3.28f, -1475.90f, 24.58f)
	Turn("Nia", -14.01f, 360.0f)
	ChangeAnimation( "Nia" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Nia",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Nia",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Nia",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Nia")

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
//	MoveCameraAt(0, -3.384f, -1475.664f, 26.037f, 0)	// 注視点
//	ChangeCameraDistance(0, 1.498f, 0)		// 基本距離
//	ChangeCameraElevation(0, 5.003f, 0)	// 基本仰角
//	RotateCamera(0, 184.223f, 0)				// 角度
//	ChangeCameraPers(0, 44.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt(0, -3.370f, -1475.867f, 26.037f, 0)	// 注視点
	ChangeCameraDistance(0, 1.498f, 0)		// 基本距離
	ChangeCameraElevation(0, 5.003f, 0)	// 基本仰角
	RotateCamera(0, 184.223f, 0)				// 角度
	ChangeCameraPers(0, 44.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_311_Start_ED")

//開始処理ここまで-----------------------------------------------

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -3.370f, -1475.867f, 26.037f, 60)		// 注視点

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Wait(15)

	Turn("Nia", 159.11f, 8.0f)

	LookChr("Nia", "ADOL")

	TalkPopup("Nia",0,0,0,0,0)
	{
		"#080e#080mふふ……やはり"
		"この場所は素晴らしいですね。"
		
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Nia", "ANI_EV_INORI_S", -1, 1)
	ChangeSubAnimation("Nia", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	WaitAnimation2("Nia", -1, 1, "ANI_EV_INORI_S", 0)

	TalkPopup("Nia", 0, 0, 0, 0, 0)
	{
		"#011e#000m空と海を眺めていると、"
		"神をより身近に感じられる気がします。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -3.411f, -1474.501f, 26.062f, 80)		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 1.497f, 80)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 7.109f, 80)		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 168.546f, 80)		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE, 38.000f, 80)		// 視野角
	
	ChangeAnimation("Nia", "ANI_EV_INORI_E", -1, 1)
//	WaitAnimation2("Nia", -1, 1, "ANI_EV_INORI_E", 0)

	//　　シスターに「…」エモーション。
	EmotionEx("Nia", 0.00f, EMO_3DOT, 0, 5, 1, 1, 0.6f)	//…


	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	TalkPopup("Nia",0,0,0,0,0)
	{
		"#000mアドルさん、もっと神の近くで"
		"改めて祈りを捧げたいのですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Nia", 0, 0, 0, 0, 0)
	{
		"#012e#000mそのために、どうしても"
		"風見丘陵の頂上へ行きたいのです。\p"
		"どうかわたしを"
		"案内していただけないでしょうか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ここじゃ駄目なのかい？")
	MenuAdd(2,"シスターには危険じゃないかな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//──────────────────────
	//	⇒ここは駄目なのかい？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)


		HeadYes("Nia", 1, 25)
		TalkPopup("Nia",0,0,0,0,0)
		{
			"#011e#000mええ、実は少し"
			"確かめたいことがありまして……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒シスターには危険じゃないかな
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		HeadYes("Nia", 1, 25)
		TalkPopup("Nia",0,0,0,0,0)
		{
			"#011e#000mそうかもしれません……\p"
			"#012eですが危険を承知で、"
			"確かめたいことがあるのです。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────
	ChangeAnimation("Nia", "ANI_EV_TEMUNE_S", -1, 1)

	TalkPopup("Nia",0,0,0,0,0)
	{
		"#000e#000m無理にとは言いません。\p"
		"もし余裕があれば"
		"引き受けていただけると幸いです。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cクエストを開始すると、"
		"#7C風見丘陵の麓まで移動します。\p"
		"#7Cそこから頂上を目指し、"
		"#7Cアドル一人の状態で"
		"#7Cシスター・ニアを護衛します。\p"
		"#7C準備を整えたら、"
		"#7Cシスター・ニアに話しかけてください。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒依頼が冒険日誌に未登録の場合
	if( FLAG[GF_QUEST_311] == QUEST_NOTHING )
	{
		PlaySE(SE_QUEST_ADD, 100, 0, 0, 0, 1.0f, 0)		// クエスト追加
		//	システムメッセージ
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#-1W#4C冒険日誌のクエストページに2"
			"#-1W#4Cクエスト#8C【神に祈りを】#4Cが追加された。#10W" 
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()

		//	  　※アリスンにクエストマーカーを付ける。
	}
	//──────────────────────

	//　　イベント終了、操作許可。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_311_Start_ED")
}
function "QS_311_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Nia")
	SetChrPos("Nia", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手
	SetFlag( GF_QUEST_311, QUEST_START )		// 【QS311】神に祈りを（シスター・ニア）　クエスト開始
	SetDiaryFlag( DF_QS311_START, 1 )			// 【QS311】★シスター・ニアから話を聞いた。

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",-2.67f,-1471.15f,24.43f)
	Turn("LEADER",13.03f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}
//===============================================================
//
// 【QS311】神に祈りを（シスター・ニア）
// ▼キャンセルイベント　後の再配置
//
function "QS_311_Relocate"
{
	//	  　集落の入口で操作許可。
	CallFunc("system:event_begin")

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Nia")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	SetFlag(SF_SETRAMSAVE, 1)		//リトライセーブ

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",39.20f,-1414.15f,11.0f)
	Turn("LEADER",54.24f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt( 0 , 39.202f , -1414.152f , 12.677f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 125.759f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
}


//===============================================================
//
// 【QS401】新入りはいずこ（レーヤ）
// ▼ピッカード捕獲イベント（集会所）
//
function "QS_401_Picard_2"
{
	//　　集会所、見張り台中段21.48f	-1428.50f	17.89f	46.38f付近にピッカードがいる。
	//　　調べるとイベント起動。

//開始処理ここから----------------------------------------------------

//	CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("ev_QS_401_Picard")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",21.53f,-1430.13f,17.28f)
	Turn("ADOL",173.46f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "ev_QS_401_Picard" )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("ev_QS_401_Picard", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ev_QS_401_Picard", 21.48f, -1428.52f, 17.89f)
	Turn("ev_QS_401_Picard", -14.94f, 360.0f)
	ChangeAnimation( "ev_QS_401_Picard" , "ANI_WAIT", -1 , 1 )
//	ChangeSubAnimation("ev_QS_401_Picard",SUBMOT_EYE,ANI_E_WAIT,1)
//	ChangeSubAnimation("ev_QS_401_Picard",SUBMOT_MOUTH,ANI_M_WAIT,1)
//	ChangeSubAnimation("ev_QS_401_Picard",SUBMOT_EXT1,ANI_E_LOOKC,1)
//	LookReset("ev_QS_401_Picard")
	SetChrInfoFlag( "ev_QS_401_Picard" , INFOFLAG_NOCHRATARI)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt(0, 22.142f, -1429.797f, 18.244f, 0)	// 注視点
	ChangeCameraDistance(0, 1.900f, 0)		// 基本距離
	ChangeCameraElevation(0, 14.451f, 0)	// 基本仰角
	RotateCamera(0, 21.956f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 60.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_401_Picard_2_ED")

//開始処理ここまで-----------------------------------------------

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 21.895f, -1428.713f, 18.244f, 110)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 31.491f, 110)		// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	Wait(FADE_NORMAL)

	EmotionEx("ev_QS_401_Picard", 0.00f, EMO_EX2, 0, 5, 1, 1, 1.0f)	// 「！」

	//　　飛び上がってビックリするピッカード。
	Jump("ev_QS_401_Picard", 0.2)
	Wait(30)

	Turn("ev_QS_401_Picard", -144.65f, 15.0f)

	//　　慌てて集会所方面に大ジャンプする。
	ExecuteCmd(1, MoveTo, "ev_QS_401_Picard", 21.83f, -1427.27f, 17.89f, 0.1f, 0.35f)
	WaitThread(1)

	PlaySE(SE_QS_401_01, 40, 0, 200, 0, 1.0f, 0)		//
	Jump("ev_QS_401_Picard", 0.4)
	ForceDash("ev_QS_401_Picard", 0.5f, 0.0f )
	Wait(5)
	//　　クロスフェードでカメラ切り替えし、中央焚き火の辺り。
	CrossFade(FADE_FAST)
	StopThread(1000)
	StopThread(1001)

	SetChrPos("ev_QS_401_Picard", -100000.00f, 0.00f, 0.00f)

	MoveCameraAt(0, 23.496f, -1425.822f, 17.278f, 0)	// 注視点
	ChangeCameraDistance(0, 1.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 57.793f, 0)	// 基本仰角
	RotateCamera(0, 323.930f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 24.386f, -1424.955f, 16.335f, 120)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 329.900f, 120)		// 角度

	Wait(FADE_FAST)
	Wait(10)
	//　　ジャンプしたピッカードが焚き火の中央に落ちてジュウ……というＳＥがする。
	SetChrPos("ev_QS_401_Picard", 27.06f, -1421.90f, 14.19f)
	Turn("ev_QS_401_Picard", -119.75f, 360.0f)

	Wait(14)
	EarthQuake(0.01f, 0.01f, 3)

	PlaySE(SE_QS_401_02, 80, 0, 0, 0, 1.0f, 0)		//
	Wait(10)

	//　　一拍置いて飛び上がるピッカード。
	EmotionEx("ev_QS_401_Picard", 0.015f, EMO_GIKU, 0, 5, 1, 0, 1.5f)	//ぎくっ
	Wait(30)
	Jump("ev_QS_401_Picard", 0.3)
	Wait(10)
	Jump("ev_QS_401_Picard", 0.3)
	ForceDash("ev_QS_401_Picard", 0.3f, 0)	
	SetChrInfoFlag("ev_QS_401_Picard", INFOFLAG_NOATARI)

	//　　焚き火を出て、近くで１，２度グルグル回った後、
	Turn("ev_QS_401_Picard", 165.83f, 8.0f)
	ExecuteCmd(1, MoveTo, "ev_QS_401_Picard", 28.03f, -1420.06f, 10.93f, 0.1f, 0.50f)
	WaitThread(1)
	EmotionEx("ev_QS_401_Picard", 0.00f, EMO_ASE, 0, 5, 1, 1, 2.0f)	//汗汗
	Wait(20)

	ResetChrInfoFlag("ev_QS_401_Picard", INFOFLAG_NOATARI)

	Turn("ev_QS_401_Picard", -111.75f, 8.0f)
	ExecuteCmd(1, MoveTo, "ev_QS_401_Picard", 31.04f, -1417.91f, 10.93f, 0.1f, 0.50f)
	WaitThread(1)

	WaitThread(1000)
	WaitThread(1001)

	//　　屋内の方向へ全速力で逃げていく。
	CrossFade(FADE_NORMAL)
	SetChrPos("ev_QS_401_Picard", 29.97f, -1412.02f, 11.25f)
	Turn("ev_QS_401_Picard", 135.95f, 360.0f)

	MoveCameraAt(0, 34.274f, -1417.989f, 13.309f, 0)	// 注視点
	ChangeCameraDistance(0, 1.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 9.422f, 0)	// 基本仰角
	RotateCamera(0, 55.861f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 31.677f, -1414.205f, 13.309f, 120)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 55.861f, 120)		// 角度

	SetChrInfoFlag("ev_QS_401_Picard", INFOFLAG_NOMAPATARICHECK)
	ExecuteCmd(1, MoveTo, "ev_QS_401_Picard", -44.60f,-1354.26f, 11.67f, 0.1f, 0.60f)
	Wait(FADE_NORMAL)
	Wait(20)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cピッカードは逃げてしまった……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(20)

	//　　暗転を挟んで操作許可。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	StopThread(1000)
	StopThread(1001)
	StopThread(1)

	SetChrPos("ev_QS_401_Picard", -100000.00f, 0.00f, 0.00f)		// イベント用ピッカードを画面外に移動

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_401_Picard_2_ED")
}
function "QS_401_Picard_2_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	ResetChrInfoFlag("ev_QS_401_Picard", INFOFLAG_NOATARI)
	ChangeAnimation("ev_QS_401_Picard", "ANI_WAIT", -1, 1)
	SetChrPos("ev_QS_401_Picard", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手
	SetFlag( GF_QS401_LOOK_PICARD_2, 1 )		//【QS401】▼ピッカード捕獲イベント（集会所） を見た
	SetDiaryFlag( DF_QS401_001, 1 )				//【QS401】★見張り台でピッカードを発見するが
	//マーカー消去と設置
	DelMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP2, 0, 0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（集会所）」ポイント用
	SetMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP3, -20.77f,-1373.62f,12.92f,	-20.77f,-1373.62f,	MARKER_QS_401_LP3, MN_T_VILLAGE_MP1201,	0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（屋内Ａ）」ポイント用
	SetMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP4, -4.53f,-1367.64f,12.09f,	-4.53f,-1367.64f,	MARKER_QS_401_LP4, MN_T_VILLAGE_MP1201,	0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（屋内Ｂ）」ポイント用
	//SetMapMarker( SMI_NONE, PAGE_MP120x, MARKER_QS_401_LP5, -4.53f,-1367.64f,12.09f,	-4.53f,-1367.64f,	MARKER_QS_401_LP5, MN_T_VILLAGE_MP1201,	0)		// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（屋内Ｃ）」ポイント用

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",21.53f,-1430.13f,17.28f)
	Turn("LEADER",173.46f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()

	SetChrPos("ev_QS_401_Picard" , -100000.00f , 0.00f ,0.00f )		// イベント用ピッカードを画面外に移動
	Wait(1)

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS502】航海のお守り（クイナ）
// ▼クエスト達成イベント
//
function "QS_502_Complete"
{
	//　　暗転を挟んで工芸屋。
	//　　エアランの姿は無く、代わりにクイナが座って
	//　　作業をしている。
	//　　アドルは脇からそれを見ている。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Kuina")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 16.59f, -1423.54f, 11.66f)
	Turn("ADOL", 59.34f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookChr( "ADOL", "Kuina" )
	// アドル非表示
	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)

	SetChrWork("Kuina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kuina",14.66f,-1424.27f,11.61f)
	Turn("Kuina",30.50f,360.0f)
	ChangeAnimation( "Kuina" , "ANI_EV_SIT_C", -1 , 1 )
	ChangeSubAnimation("Kuina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kuina",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Kuina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Kuina" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Kuina" , INFOFLAG_NOMAPATARICHECK )
	Look( "Kuina", 0.00f, -20.0f )

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

//	//カメラ設定
//	MoveCameraAt(0, 17.277f, -1425.423f, 14.572f, 0)	// 注視点
//	ChangeCameraDistance(0, 1.998f, 0)		// 基本距離
//	ChangeCameraElevation(0, 7.419f, 0)	// 基本仰角
//	RotateCamera(0, 115.306f, 0)				// 角度
//	ChangeCameraPers(0, 48.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , 14.773f , -1424.175f , 12.563f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.998f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.418f , 0 )	// 基本仰角
	RotateCamera( 0 , 173.783f , 0 )				// 角度
	ChangeCameraPers( 0 , 48.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_502_Complete_ED")

//開始処理ここまで-----------------------------------------------

	PlayBGM(BGM_EVENT_001, 0)

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 14.773f, -1424.175f, 12.563f, 120)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 7.418f, 120)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 173.783f, 120)		// 角度
//
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//
	TalkPopup("Kuina",0,1,0,0,0)
	{
		"#000e#000mごしごし、これをこうしてっと。"
	}
	WaitPrompt()
	WaitCloseWindow()

	EmotionEx("Kuina", 0.00f, EMO_LOVE, 0, 5, 1, 1, 1.0f)	// ♪ハート
	Wait(40)

	LookReset("Kuina")
	PlayVoice(Y8V_4618, "Kuina", 100)	//あはは（笑い）
	TalkPopup("Kuina", 0, 0, 0, 0, 0)
	{
		"#000e#000mでーきた♪"
		"きれいな大クジラのお守りっ！"
	}
	WaitPrompt()
	WaitCloseWindow()


	CrossFade(FADE_CROSS)

	SetChrPos("Kuina", 15.84f, -1423.58f, 11.65f)
	Turn("Kuina", -96.49f, 360.0f)
	LookChr("Kuina", "ADOL")
	// 再表示
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)

	MoveCameraAt(0, 15.461f, -1424.461f, 12.712f, 0)	// 注視点
	ChangeCameraDistance(0, 3.440f, 0)		// 基本距離
	ChangeCameraElevation(0, 8.532f, 0)	// 基本仰角
	RotateCamera(0, 145.146f, 0)				// 角度
	ChangeCameraPers(0, 48.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"中々見事な品だな")
	MenuAdd(2,"そろそろエアランに見つかるよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	//────────────────────
	//	⇒中々見事な品だな
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadYes("ADOL", 1, 25)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(15)

		ChangeAnimation("Kuina", "ANI_EV_SC_TEBURI", -1, 1)
		TalkPopup("Kuina",0,0,0,0,0)
		{
			"#021e#080mでしょでしょ～？"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookReset("Kuina")
		ChangeAnimation("Kuina", "ANI_EV_SIT_C_E", -1, 1)
		WaitAnimation2("Kuina", -1, 1, "ANI_EV_SIT_C_E", 0)

	}
	//	⇒そろそろエアランに見つかるよ
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		EmotionEx("Kuina", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
		Wait(35)
		LookReset("Kuina")
		ChangeAnimation("Kuina", "ANI_EV_SIT_C_E", -1, 1)

		TalkPopup("Kuina",0,0,0,0,0)
		{
			"#011e#000mおっと、いけない。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	LookChr("Kuina", "ADOL")
	TalkPopup("Kuina",0,0,0,0,0)
	{
		"#000e#000mそれじゃあ渡しに行こうかな。"
		"……アドルも来る～？"
	}
	WaitPrompt()
	WaitCloseWindow()

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　暗転を挟んで、バルバロスの墓前に歩いてくる２人。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_502_Complete_ED")
}
function "QS_502_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Kuina")

	// 再表示
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	PlayBGM(BGM_EVENT_001, 0)
	//SetFlag(SF_NOCHANGEBGM, 1)

	SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット
	//LoadArg("map/mp1201/mp1201.arg")
	EventCue("mp1201:QS_502_Complete2")		// 続き

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS522】奮起の演奏会（オースティン）
// ▼クエスト開始イベント
//
function "QS_522_Start"
{
	//　　画面暗転を挟んで、中央上段・高台。
	//　　オースティンの前にアドルとダーナがいる。

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//キャラのit3を読み込む
	LoadChr("Austen")
	//LoadChr("Dana")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",-0.62f,-1472.97f,24.51f)
	Turn("ADOL",-27.71f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "Austen" )

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA",-0.93f,-1473.96f,24.52f)
	Turn("DANA",-95.78f,360.0f)
	ChangeAnimation( "DANA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "DANA", "Austen" )

	SetChrWork("Austen", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Austen",0.27f,-1474.23f,24.49f)
	Turn("Austen",123.42f,360.0f)
	ChangeAnimation( "Austen" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Austen",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Austen",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Austen",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "Austen", "DANA" )

	SetChrPos("eq4020", 0.62f, -1474.07f, 24.51f)	// 竪琴
	SetParent("eq4020", "Austen", "Null_harp")
	SetChrInfoFlag("eq4020", INFOFLAG_INVISIBLE)		// 非表示

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
//	MoveCameraAt(0, 1.027f, -1473.470f, 26.478f, 0)	// 注視点
//	ChangeCameraDistance(0, 2.801f, 0)		// 基本距離
//	ChangeCameraElevation(0, 2.304f, 0)	// 基本仰角
//	RotateCamera(0, 107.549f, 0)				// 角度
//	ChangeCameraPers(0, 39.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
	MoveCameraAt( 0 , -0.003f , -1473.644f , 25.932f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.801f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.304f , 0 )	// 基本仰角
	RotateCamera( 0 , 93.163f , 0 )				// 角度
	ChangeCameraPers( 0 , 39.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_522_Start_ED")

//開始処理ここまで-----------------------------------------------
	Wait(10)

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -0.003f, -1473.644f, 25.932f, 100)		// 注視点
//	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 93.163f, 100)		// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	WaitThread(1000)
	WaitThread(1001)

	ChangeAnimation("DANA", "ANI_EV_WAIT2_S", -1, 1)

	TalkPopup("DANA",0,0,0,0,0)
	{
		"#000e#000mオースティンさん、だよね。\p"
		"私に何か用事かな？"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("Austen", 1, 25)
	TalkPopup("Austen",0,2,0,0,0)
	{
		"#000e#000mああ、君にもぜひ"
		"聞いておいてもらいたくてな。\p"
		"実は最近、こんな物を見つけたのだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	CrossFade(FADE_FAST)

	//　　オースティンが竪琴を持つ。
	ResetChrInfoFlag("eq4020", INFOFLAG_INVISIBLE)
	ChangeAnimation("Austen", "ANI_EV_HARP_WAIT", -1, 1)

	LookChr("ADOL", "eq4020")
	Look("DANA", 12.00f, -8.00f)
	LookChr("Austen", "eq4020")

	MoveCameraAt(0, 0.586f, -1473.744f, 25.956f, 0)	// 注視点
	ChangeCameraDistance(0, 2.801f, 0)		// 基本距離
	ChangeCameraElevation(0, 4.162f, 0)	// 基本仰角
	RotateCamera(0, 300.772f, 0)				// 角度
	ChangeCameraPers(0, 39.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -0.172f, -1473.704f, 25.882f, 75)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 7.860f, 75)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 299.585f, 75)		// 角度
	Wait(FADE_FAST)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	//　　ダーナに「パッ」エモーション。
	EmotionEx("DANA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)

	TalkPopup("DANA",0,1,220,180,0)
	{
		"#000e#000mあ、それはエタニア時代の……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Austen"
	LookChr("Austen", "DANA")
	TalkPopup("Austen", 0, 2, 0, 0, 0)
	{
		"#000e#000mふむ、やはりそうだったか。\p"
		"さきほど軽く触ってみたが"
		"音色は奇跡的に現役でな。\p"
		"#061eこいつを持っていると、"
		"周りから演奏をせがまれるのだ。\p"
		"#062eオケアノスに挑む前の"
		"景気付けに一つ──なんて風に。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"DANA"
	LookChr("DANA", "Austen")
	TalkPopup("DANA", 0, 1, 220, 180, 0)
	{
		"#000e#000mふふ、それは私もお願いしたいなあ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("DANA", "ADOL")
	TalkPopup("DANA", 0, 1, 220, 180, 0)
	{
		"#000e#000mアドルさんも聴いてみたいよね？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL", "Austen")
	Wait(10)
	//　　アドルが頷く。
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Wait(20)

	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "竪琴を演奏できるのかい？")
	MenuAdd(2, "音楽は苦手じゃなかったのかい？")
	MenuOpen(TF_MENU_SELECT, -1, ADOLMENU_PPOSY, -2, -2, 10, 0)
	WaitMenu(0)
	MenuClose(10, 0)

	LookChr("Austen", "ADOL")
	ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	LookChr("DANA", "Austen")
	HeadYes("Austen", 1, 25)

	//──────────────────────
	//	⇒ハープを演奏できるのかい？
	if (FLAG[TF_MENU_SELECT] == 1)
	{

		LookChr("DANA", "Austen")
		HeadYes("Austen", 1, 25)
		TalkPopup("Austen", 0, 2, 0, 0, 0)
		{
			"#011e#000mああ、竪琴に限らず"
			"どんな楽器でも演奏はできる。\p"
			"#012e……あくまで演奏だけだがな。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒音楽は苦手じゃなかったのかい？
	if (FLAG[TF_MENU_SELECT] == 2)
	{
		TalkPopup("Austen", 0, 2, 0, 0, 0)
		{
			"#011e#000mああ、確かに"
			"僕には音楽の才能がない。\p"
			"#012eだが、楽器を"
			"演奏することくらいはできる。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
		//──────────────────────

	LookReset("Austen")
	ChangeSubAnimation("Austen", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	EmotionEx("Austen", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(52)
	ChangeSubAnimation("Austen", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	
	TalkPopup("Austen", 0, 2, 0, 0, 0)
	{
		"#000m最近、改めて漂流村を"
		"見回してみて気付いたんだが……\p"
		"ここの住民は皆それぞれ"
		"素晴らしい特技を持っている。\p"
		"それに比べたら……\p"
		"#011e#000m僕がこの村でしていることは、"
		"何て中途半端なんだろうと思ってな。\p"
		"僕が天才芸術家であることは"
		"誰が見ても揺ぎないが……\p"
		"とはいえ、生活の役に立たぬのでは"
		"お荷物と言われても仕方がない。\p"
		"#012e#000mだがこんな僕でも、"
		"少しでも皆の役に立てるとしたら……\p"
		"恥を忍んで、演奏を披露するのもいい。"
		"そう思った次第だ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"DANA"
	ChangeAnimation("DANA", "ANI_EV_WAIT2_E", -1, 1)
	TalkPopup("DANA", 0, 1, 220, 180, 0)
	{
		"#000e#000mう～ん、お荷物だなんて"
		"誰も思っていないと思うけど。\p"
		"でも演奏は聴いてみたいな。"
		"演奏4行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Austen"
	LookChr("Austen", "DANA")

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 0.045f , -1473.510f , 25.882f, 40)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 290.833f, 40)		// 角度
	//MoveCameraAt( 0 , 0.045f , -1473.510f , 25.882f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.801f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 7.860f , 0 )	// 基本仰角
	//RotateCamera( 0 , 290.833f , 0 )				// 角度
	//ChangeCameraPers( 0 , 39.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	WaitThread(1000)
	WaitThread(1001)

	TalkPopup("Austen", 0, 2, 0, 0, 0)
	{
		"#000e#000mふむ、そこまで言われて"
		"よもや引き下がれまい。\p"
		"#061eだがなにぶん、"
		"僕には音楽の才能がなくてな。\p"
		"#062eできることなら、"
		"どこかで楽譜を調達して欲しいのだ。\p"
		"#052e楽譜とは音楽の設計図……\p"
		"楽譜2行目"
		"それさえあれば、こんな僕でも"
		"それなりに納得のいく演奏ができる。\p"
		"そしてこの竪琴はエタニアのもの……\p"
		"折角なら、エタニア時代の"
		"楽譜でもないものかと思ってな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("DANA", "ANI_EV_SIAN_S", -1, 1)

	//	"DANA"
	TalkPopup("DANA", 0, 1, 220, 180, 0)
	{
		"#000e#000mなるほど。"
		"だから私に声をかけたんだね。\p"
		"楽譜、楽譜かぁ……\p"	
		"#0L#12S（うーん、エタニアの時代になら"
		"#12S　確実にあるんだけどなあ……）"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"DANA"
	ChangeAnimation("DANA", "ANI_EV_SIAN_E", -1, 1)
	TalkPopup("DANA", 0, 1, 220, 180, 0)
	{

		"とりあえず探してみるね！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Austen"
	HeadYes("Austen", 1, 25)
	TalkPopup("Austen", 0, 2, 0, 0, 0)
	{
		"#011e#000mああ、どうかよろしく頼んだぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_522_Start_ED")
}
function "QS_522_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_Austen")
	SetChrPos("Austen", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手
	SetFlag( GF_QUEST_522, QUEST_START )		// 【QS522】奮起の演奏会（オースティン）　クエスト開始
	SetDiaryFlag( DF_QS522_START, 1 )			// 【QS522】★オースティンから話を聞いた。

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",-1.15f,-1472.07f,24.48f)
	Turn("LEADER",-41.71f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

//===============================================================
//
// 【QS522】奮起の演奏会（オースティン）
// ▼クエスト達成イベント
//
function "QS_522_Complete"
{
	//　　中央上段・高台。
	//　　オースティンの前にアドルとダーナがいる。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Austen")
	LoadChr("DANA")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",-0.62f,-1472.97f,24.51f)
	Turn("ADOL",-27.71f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "Austen" )

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA",-0.93f,-1473.96f,24.53f)
	Turn("DANA",-95.78f,360.0f)
	ChangeAnimation( "DANA" , "ANI_EV_RYOTESIRI", -1 , 1 )
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "DANA", "Austen" )

	SetChrWork("Austen", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Austen",0.27f,-1474.23f,24.49f)
	Turn("Austen",123.42f,360.0f)
	ChangeAnimation( "Austen" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Austen",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Austen",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Austen",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "Austen", "ADOL" )


	//カメラ設定
//	MoveCameraAt(0, -1.594f, -1472.741f, 26.851f, 0)	// 注視点
//	ChangeCameraDistance(0, 1.802f, 0)		// 基本距離
//	ChangeCameraElevation(0, 14.348f, 0)	// 基本仰角
//	RotateCamera(0, 215.051f, 0)				// 角度
//	ChangeCameraPers(0, 43.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	MoveCameraAt( 0 , -1.239f , -1473.057f , 26.156f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.802f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 14.347f , 0 )	// 基本仰角
	RotateCamera( 0 , 230.227f , 0 )				// 角度
	ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_522_Complete_ED")

//開始処理ここまで-----------------------------------------------

	Wait(10)

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -1.239f, -1473.057f, 26.156f, 80)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 14.347f, 80)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 230.227f, 80)		// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
//
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)

	ChangeAnimation("ADOL", "ANI_EV_TEWATASI_S", -1, 1)
	
	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		//"オースティンに『蒼き豊穣の楽譜』を渡した。"
		"#7Cオースティンに#2C#323I蒼き豊穣の楽譜#7Cを渡した。"	
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Austen", "ANI_EV_TEWATASI_S", -1, 1)
	WaitAnimation2("Austen", -1, 1, "ANI_EV_TEWATASI_S", 0)

	ChangeAnimation("ADOL", "ANI_EV_TEWATASI_E", -1, 1)

	PlayVoice(Y8V_4865, "Austen", 100)	//ほう…（感心そうに）
	TalkPopup("Austen",0,2,0,0,0)
	{
		"#080e#080mおお、これは……！\p"
		"よく手に入れてくれたな。"
		"感謝するぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("DANA",0,0,0,0,0)
	{
		"#000e#000mふふ、どういたしまして。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Austen", 5.00f, -10.00f)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -1.239f , -1473.057f , 26.230f, 65 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE ,  1.191f , 65 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 14.359f , 65 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 230.288f, 65 )

	//MoveCameraAt( 0 , -1.239f , -1473.057f , 26.230f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 1.191f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 14.359f , 0 )	// 基本仰角
	//RotateCamera( 0 , 230.288f , 0 )				// 角度
	//ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転

	TalkPopup("Austen",0,2,0,0,0)
	{
		"#000e#000mふむ、さっそく譜面の確認を……"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	//　　オースティンに「！」エモーション。
	EmotionEx("Austen", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	//！
	ChangeSubAnimation("Austen",SUBMOT_EYE,ANI_E_SUP_S,1)
	//ChangeSubAnimation("Austen",SUBMOT_MOUTH,ANI_M_SUP_S,1)
	Wait(40)
	EarthQuake(0.02f, 0.02f, 8)
	TalkPopup("Austen",0,2,0,0,0)
	{
		"#030e#000m#16Sなんとこれは……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("DANA", "ANI_EV_RYOTESIRI_E", -1, 1)
	TalkPopup("DANA",0,0,0,0,0)
	{
		"#000e#000mど、どうかした？"
	}
	WaitPrompt()
	WaitCloseWindow()

	EarthQuake(0.02f, 0.02f, 8)
	TalkPopup("Austen",0,2,0,0,0)
	{
		"#041e#000m何が書いてあるのかさっぱり読めん！"
		"さっぱり読めんぞ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Austen", "ANI_EV_TEWATASI_E", -1, 1)
	//　　アドルとダーナに「冷や汗」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_TARA, 0, 5, 1, 1, 0.9f)	//冷や汗
	EmotionEx("DANA", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	Wait(50)

	TalkPopup("DANA",0,0,0,0,0)
	{
		"#000e#000mそうか……私たちとは"
		"使ってる文字が違うんだね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "DANA" , "ANI_EV_TEMUNE_S", -1 , 1 )

	TalkPopup("DANA", 0, 0, 0, 0, 0)
	{
		"#000e#000mなら私が教えてあげる！"
	}
	WaitPrompt()
	WaitCloseWindow()

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　画面フェードアウト。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	ChangeAnimation( "DANA" , "ANI_WAIT", -1 , 1 )
	SetChrPos("Austen",0.64f,-1474.18f,24.49f)
	Turn("Austen",124.76f,360.0f)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cこうしてオースティンはダーナから"
		"#7C楽譜の読み方を教えてもらい……\p"
		"#7C何とか演奏の目処を付けるのだった。"
		"目処4行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	MoveCameraAt( 0 , -0.116f , -1473.854f , 26.007f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.304f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.598f , 0 )	// 基本仰角
	RotateCamera( 0 , 30.108f , 0 )				// 角度
	ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(15)

	SetEnvSEPlayState(-1, 1)	//環境SE

	//　　画面フェードイン。
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	HeadYes("Austen", 1, 25)
	TalkPopup("Austen",0,0,0,0,0)
	{
		"#000e#000mうむ、これで大丈夫だ。\p"
		"しかし、ダーナも"
		"音楽への造詣が深いのだな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("DANA", "ANI_EV_TEBURI", -1, 1)

	TalkPopup("DANA",0,0,0,0,0)
	{
		"#000e#000mまあ、巫女として祭事で"
		"披露する機会もあるからね。\p"
		"#081e#080m笛ならそれなりに得意かな。"
		"この曲も大好きだし。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Austen", "ANI_EV_SIAN_S", -1, 1)
	TalkPopup("Austen",0,0,0,0,0)
	{
		"#000e#000mほう、それはちょうどいい。\p"
		"こちらでも楽譜を探していたのだが……"
		"代わりにフルートを手に入れてな。\p"
		"ぜひ協奏と洒落込もうではないか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("DANA", "ANI_EV_MUNEGASSHOU_S", -1, 1)

	TalkPopup("DANA",0,0,0,0,0)
	{
		"#021e#080mふふ、いいね──ぜひ！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	WaitAnimation2( "DANA" , -1, 1, "ANI_EV_MUNEGASSHOU_S",  0)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　画面フェードアウト。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_522_Complete_ED")
}
function "QS_522_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_DANA")
	CallFunc("system:reset_chrmot_Austen")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット
	//LoadArg("map/mp1201/mp1201.arg")
	EventCue("mp1201:QS_522_Complete2")		// 続き

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS600】輝ける鎧（カトリーン）
// ▼クエスト達成イベント
//
function "QS_600_Complete"
{
	//　　画面フェードインして、鍛冶場の前。
	//　　カトリーンの前にアドルが立っている。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Katrin")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -2.70f, -1420.46f, 16.55f)
	Turn("ADOL", 111.27f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "Katrin" )

	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Katrin",-4.77f,-1420.03f,16.55f)
	Turn("Katrin",-23.17f,360.0f)
	ChangeAnimation("Katrin","ANI_EV_SIT_C", -1 , 1 )	
	ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Katrin")

	SetChrInfoFlag("Katrin", INFOFLAG_NOCHRATARI)
	SetChrInfoFlag("Katrin", INFOFLAG_NOATARI)
	//Look("Katrin", 0.0f, -5.0f)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , -4.222f , -1421.079f , 17.618f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.748f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.042f , 0 )	// 基本仰角
	RotateCamera( 0 , 39.776f , 0 )				// 角度
	ChangeCameraPers( 0 , 31.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_600_Complete_ED")

//開始処理ここまで-----------------------------------------------

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -4.053f , -1420.982f , 17.618f, 65)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 6.032f, 170)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 39.695f, 170)		// 角度
	ExecuteCmd(1003, ChangeCameraDistance, INTERPOLATE_SPHERE, 2.190f, 65)		// 基本距離

	//MoveCameraAt( 0 , -4.053f , -1420.982f , 17.618f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.190f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 6.038f , 0 )	// 基本仰角
	//RotateCamera( 0 , 39.737f , 0 )				// 角度
	//ChangeCameraPers( 0 , 31.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	FadeIn(FADE_BLACK,FADE_NORMAL)

	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
	WaitThread(1003)

	HeadYes("Katrin", 1, 25)

	TalkPopup("Katrin", 0, 2, 0, 0, 0)
	{
		"#000m……ようやく完成したわ。\p"
		"#012eこれがヒイロカネを"
		"一から鍛えて造り上げた鎧よ。\p"
		"#020lさあ、持って行きなさい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKL_E,1)
	ChangeAnimation("Katrin", "ANI_EV_SIT_C_E", -1, 1)
	WaitAnimation2("Katrin", -1, 1, "ANI_EV_SIT_C_E", 0)
	ExecuteCmd(1, TurnToChr, "Katrin", "ADOL", 8.0f)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -3.304f , -1420.229f , 18.039f, 70)		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 2.590f, 70)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 3.236f, 70)		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 28.542f , 70)		// 角度

	//MoveCameraAt( 0 , -3.304f , -1420.229f , 18.039f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.590f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 3.236f , 0 )	// 基本仰角
	//RotateCamera( 0 , 28.542f , 0 )				// 角度
	//ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	WaitThread(1)
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	LookChr("Katrin", "ADOL")

	ExecuteCmd(2, MoveTo, "Katrin", -3.84f, -1419.97f, 16.55f, 0.1f, 0.15f)


	WaitThread(2)

	Turn("Katrin", -56.23f, 8.0f)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	ChangeAnimation("Katrin", "ANI_EV_TEWATASI_S", -1, 1)
	WaitAnimation2("Katrin", -1, 1, "ANI_EV_TEWATASI_S", 0)
	Wait(10)

	//──────────────────────
	//	⇒男性用の鎧を選択した
	if( !FLAG[GF_QS600_ARMOR_WOMEN] )		//【QS600】男性用の鎧を造ってもらう を選んだ
	{
		//	アイテム入手テキスト（豪華ジングル付き）
		//	「『輝甲クロノス』を手に入れた！」
		GetItemMessageExPlus(ICON3D_AM_008M, 1, ITEMMSG_SE_JINGLE, "を手に入れた！6", 0, 0)	//『輝甲クロノス』
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒女性用の鎧を選択した
	else
	{
		//	アイテム入手テキスト（豪華ジングル付き）
		//	「『閃甲ラケシス』を手に入れた！」
		GetItemMessageExPlus(ICON3D_AM_008F, 1, ITEMMSG_SE_JINGLE, "を手に入れた！7", 0, 0)	//『閃甲ラケシス』
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	ChangeAnimation("Katrin", "ANI_EV_TEWATASI_E", -1, 1)
	WaitAnimation2("Katrin", -1, 1, "ANI_EV_TEWATASI_E", 0)

	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "見事にやり遂げましたね")
	MenuAdd(2, "かっこいい名前ですね")
	MenuOpen(TF_MENU_SELECT, -1, ADOLMENU_PPOSY, -2, -2, 10, 0)
	WaitMenu(0)
	MenuClose(10, 0)

	//──────────────────────
	//	⇒見事にやり遂げましたね
	if (FLAG[TF_MENU_SELECT] == 1) {

		ChangeAnimation("ADOL", "ANI_EV_TEBURI_L", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)


		TalkPopup("Katrin", 0, 0, 0, 0, 0)
		{
			"#011e#000mええ……"
			"かなり苦労したけど何とかね。\p"
			"#012e#080mフフ、もっとも一番"
			"驚いているのは私なのだけど。"
			
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation("Katrin", "ANI_EV_TEMUNE_S", -1, 1)
		TalkPopup("Katrin", 0, 0, 0, 0, 0)
		{
			"#011e#000mでもこれで、偉大なる祖父の技に"
			"少しは迫れた気がするわ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}


	//	⇒かっこいい名前ですね
	if (FLAG[TF_MENU_SELECT] == 2) {

		HeadYes("ADOL", 1, 25)
		Wait(35)

		ChangeAnimation("Katrin", "ANI_EV_TEBURI", -1, 1)
		TalkPopup("Katrin", 0, 0, 0, 0, 0)
		{
			"#000e#000mセイレン島にあやかって、"
			"グリーク神話にちなんでみたわ。\p"
			"かなり苦労したけど……"
			"名前にも負けない最高の鎧が出来た。"
		
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation("Katrin", "ANI_EV_TEMUNE_S", -1, 1)

		TalkPopup("Katrin", 0, 0, 0, 0, 0)
		{
			"#011e#000mこれで、偉大なる祖父の技に"
			"少しは迫れた気がするわ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────


	//　　アドルに「パッ」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)

	StopBGM(150)

	ChangeAnimation("Katrin", "ANI_EV_TEMUNE_E", -1, 1)
	LookReset("Katrin")
	ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	WaitAnimation2("Katrin", -1, 1, "ANI_EV_TEMUNE_E", 0)

	TurnTo("Katrin", -3.42f, -1421.96f, 16.55f, 8.0f)
	ExecuteCmd(1, MoveTo, "Katrin", -3.42f, -1421.96f, 16.55f,  0.1f, 0.13f)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -2.792f, -1421.321f, 17.767f, 90)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 89.702f, 90)		// 角度

	WaitThread(1)

	Turn("Katrin", 31.01f,8.0f)

	WaitThread(1000)
	WaitThread(1001)
	Turn("ADOL", 47.04f, 8.0f)

	TalkPopup("Katrin",0,0,0,0,0)
	{
		"#000e#000m知ってるかもしれないけれど、"
		"私の姓は《ランベルト》と言ってね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayBGM(BGM_DUNGEON_301, 0)

	CrossFade(FADE_NORMAL)

	MoveCameraAt(0, -3.537f, -1422.578f, 17.817f, 0)	// 注視点
	ChangeCameraDistance(0, 3.664f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.433f, 0)	// 基本仰角
	RotateCamera(0, 313.257f, 0)				// 角度
	ChangeCameraPers(0, 34.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 358.083f, 800)		// 角度

	//MoveCameraAt(0, -3.537f, -1422.578f, 17.817f, 0)	// 注視点
	//ChangeCameraDistance(0, 3.664f, 0)		// 基本距離
	//ChangeCameraElevation(0, 9.040f, 0)	// 基本仰角
	//RotateCamera(0, 358.083f, 0)				// 角度
	//ChangeCameraPers(0, 34.000f, 0)			// 視野角
	//SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	//RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_NORMAL)

	//TalkPopup("Katrin", 0, 0, 0, 0, 0)
	//{
	//	"#000e#000mロムンの皇帝陛下へ献上する剣を"
	//	"鍛えるほどの名工として名高い家系よ。\p"
	//	"中でも祖父は、歴代の中でも"
	//	"特に優れた刀匠として知られた存在で……\p"
	//	"#010e幼くして両親を失くした私には、"
	//	"祖父こそが頼りであり憧れそのものだった。\p"
	//	"なので物心がつく頃には"
	//	"すでに槌を握っていたし……\p"
	//	"#000e#000m気付けば当然のように"
	//	"年老いた祖父の跡を継いでいたわ。"
	//}
	//WaitPrompt()
	//WaitCloseWindow()

	TalkPopup("Katrin", 0, 0, 0, 0, 0)
	{
		"#000e#000mロムンの皇帝陛下へ献上する剣を"
		"鍛えるほどの名工として知られる家系よ。\p"
		"しかも祖父は、歴代の中でも"
		"特に優れた鍛冶師とされていて……"
		
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Katrin", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("Katrin", 0, 0, 0, 0, 0)
	{
		"#011e#000m幼くして両親を失くした私には、"
		"祖父こそが頼りであり憧れそのものだった。\p"
		"だから物心がついた頃には"
		"すでに槌を握っていたし……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Katrin", "ANI_EV_UDEGUMI_E", -1, 1)
	TalkPopup("Katrin", 0, 0, 0, 0, 0)
	{
		"#012e#000m色々苦労したけれど、跡継ぎとして"
		"何とか認められるようになった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_FAST)
	StopThread(1001)

	MoveCameraAt(0, -3.655f, -1421.645f, 17.866f, 0)	// 注視点
	ChangeCameraDistance(0, 2.903f, 0)		// 基本距離
	ChangeCameraElevation(0, 8.252f, 0)	// 基本仰角
	RotateCamera(0, 126.337f, 0)				// 角度
	ChangeCameraPers(0, 45.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_FAST)

	//　　カトリーンに「…」エモーション。
	EmotionEx("Katrin", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(52)

	//TalkPopup("Katrin",0,2,0,0,0)
	//{
	//	"#000e#000mけれど……いつまでたっても"
	//	"祖父の技に及ぶことができなくてね。\p"
	//	"もちろん、最低限ランベルトの名に"
	//	"恥じない仕事はしてきたつもりだけど……\p"
	//	"いつしか、なぜ祖父が私を"
	//	"跡取りに選んだのか考えるようになったわ。"
	//}
	//WaitPrompt()
	//WaitCloseWindow()

	TalkPopup("Katrin", 0, 0, 0, 0, 0)
	{
		"#000e#000mでも、どんなに打っても"
		"私の刀剣には何かが足りていない。\p"
		"それが何かちっとも分からずに……"
		"ずっと悩んでいたの。\p"
		"ただヒイロカネの鎧を完成させることで"
		"何となく分かったわ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Katrin", 0, 0, 0, 0, 0)
	{
		"#000e#000m私が祖父に至らない理由……"
		"至らない2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	Turn("Katrin", 157.0f, 8.0f)
	LookTo("Katrin", -4.670f , -1420.840f , 17.320f)
	Wait(20)
	CrossFade(FADE_CROSS)

	MoveCameraAt( 0 , -4.070f , -1421.082f , 17.568f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.904f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -11.209f , 0 )	// 基本仰角
	RotateCamera( 0 , 251.995f , 0 )				// 角度
	ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	//TalkPopup("Katrin",0,0,0,0,0)
	//{
	//	"#000e#000mだたこの島へ来て、少なくとも"
	//	"祖父に及ばない理由だけは分かったわ。\p"
	//	"──それは私が祖父のことを"
	//	"ただ単純に“追いかけていたから”。\p"
	//	"つまり私に欠けていたのは"
	//	"“私自身がどうありたいか”という意志……\p"
	//	"とはいえ、肝心の答えについては"
	//	"未だに見出せてはいないのだけど。"
	//}
	//WaitPrompt()
	//WaitCloseWindow()

	TalkPopup("Katrin", 0, 0, 0, 0, 0)
	{
		"#000e#000mそれは私が祖父の技術を"
		"ただ単純に真似ていたから。\p"
		"そのために私には"
		"当たり前でいて最も重要な……"
	
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Katrin", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Katrin", 0, 0, 0, 0, 0)
	{
		"#011e#000m“私自身がどうありたいか”"
		"という想いそのものが欠けていた……\p"
		"私は今後、その答えを"
		"見い出さなければならないわ。\p"
		"#012e#080mフフ、あと少しの所まで"
		"来ている気はするのだけれど。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1, MoveTo, "ADOL", -3.18f, -1420.86f, 16.55f, 0.1f, 0.13f)
	WaitThread(1)
	Turn("ADOL", 4.52f, 8.0f)

	LookChr("Katrin", "ADOL")

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "どうか応援させてください")
	MenuAdd(2, "カトリーンさんなら必ず掴めます")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)	
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
		HeadYes("ADOL", 1, 25)
		Wait(20)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(35)

		CrossFade(FADE_CROSS)
		Turn("Katrin", 165.70f, 360.0f)
		Look("Katrin", 0 , -10.0f)

		MoveCameraAt(0, -2.828f, -1423.097f, 17.940f, 0)	// 注視点
		ChangeCameraDistance(0, 2.903f, 0)		// 基本距離
		ChangeCameraElevation(0, 4.268f, 0)	// 基本仰角
		RotateCamera(0, 199.018f, 0)				// 角度
		ChangeCameraPers(0, 36.000f, 0)			// 視野角
		SetCameraZPlane(0.100f, 300.000f)			// ZPlane
		RollCamera(0, 0.0f, 0)				// ロール回転
		// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

		Wait(FADE_CROSS)

	//──────────────────────
	//	⇒どうか応援させてください
	if (FLAG[TF_MENU_SELECT] == 1)
	{

		TalkPopup("Katrin", 0, 0, 0, 0, 0)
		{
			"#011e#080mふふ、どうもありがとう。\p"
			"貴方にそう言って貰えると"
			"純粋に嬉しいわ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒カトリーンさんなら必ずやれます
	else if (FLAG[TF_MENU_SELECT] == 2)
	{

		TalkPopup("Katrin", 0, 0, 0, 0, 0)
		{
			"#011e#080mふふ、そうだといいのだけれど。\p"
			"けれど貴方に言われると、"
			"不思議と出来る気がするわ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────
	
	LookChr("Katrin","ADOL")
	ChangeAnimation("Katrin", "ANI_EV_UDEGUMI_S", -1, 1)
	PlayVoice(Y8V_4074, "Katrin", 100)	//フフ（微笑）
	TalkPopup("Katrin", 0, 0, 0, 0, 0)
	{
		"#012e#080mフフ、私としたことが"
		"話が長くなってしまったわね。\p"
		"ともかく材料さえあれば、"
		"防具は何度でも造ることができるわ。\p"
		"#011eまた『ヒイロカネ』が手に入ったら"
		"いつでも言いなさい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(20)

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -3.658f, -1419.785f, 18.114f, 200)		// 注視点
//
//	Wait(35)
//	//　　アドルが頷く。
//	HeadYes("ADOL" , 1 , 25)
//	Wait(40)

	StopBGM(120)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　画面暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	StopThread(1000)

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【輝ける鎧】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒好感度が一段階上がる場合
	if( FLAG[GF_LIKELV_KATRIN] < 1 )
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cカトリーンの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cカトリーンの好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	//　　イベント終了、操作許可。
	//　　※アドルを鍛冶場前に再配置。
	//　　※以後、カトリーンのショップにヒイロカネ製の最強防具が並ぶ。
	//	ナレーション
	TalkPopup(UNDEF, 0, 5, 0, 0, 0)
	{
		"#-1W#4Cカトリーンの工房で"
		"#-1W#4Cヒイロカネ製の防具が造れるようになった！#10W" 
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_600_Complete_ED")
}
function "QS_600_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Katrin")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_QUEST_600, QUEST_SUCCESS )		// 【QS600】輝ける鎧（カトリーン）　クエストを達成した
	//SetFlag( GF_QS600_SHOP_ADD, 1 )		// 【QS600】「輝ける鎧」クリア後ショップに追加
	DeleteItem(ICON3D_MT_R5_STONE, 1)			// 「ヒイロカネ」×１	
	SetFlag( GF_LIKELV_KATRIN, ( FLAG[GF_LIKELV_KATRIN] + 1 ) )	// 好感度ＵＰ
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS600】輝ける鎧（カトリーン）	名声値+1
	SetDiaryFlag( DF_QS600_END, 1 )				// 【QS600】★カトリーンさんにヒイロカネを渡し、
	//SetDiaryCharaFlag( DRCHA_KATRIN, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（カトリーン）
	
	//	⇒男性用の鎧を選択した
	if( !FLAG[GF_QS600_ARMOR_WOMEN] )		//【QS600】女性用の鎧を造ってもらう を選んだ
	{
		GetItem( ICON3D_AM_008M, 1 )			// 『輝甲クロノス』
	}
	//	⇒女性用の鎧を選択した
	else
	{
		GetItem( ICON3D_AM_008F, 1 )			// 『閃甲ラケシス』
	}

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",-0.76f,-1419.50f,16.55f)
	Turn("LEADER",-95.72f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetEnvSEPlayState(-1, 1)	//環境SE

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS601】冒険家への依頼（フランツ）
// ▼クエスト開始イベント
//
function "QS_601_Start"
{
	//　　画面暗転を挟んで、集落中央マップ、農場からの坂を下った辺りの広場。
	//　　アドルとフランツが向き合っている状態。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Franz")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",5.06f,-1424.61f,16.59f)
	Turn("ADOL",3.53f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "Franz" )

	SetChrWork("Franz", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Franz",4.95f,-1425.87f,16.62f)
	Turn("Franz",-173.68f,360.0f)
	ChangeAnimation( "Franz" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Franz",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Franz",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Franz",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "Franz", "ADOL" )

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
//	MoveCameraAt(0, 4.088f, -1423.642f, 19.080f, 0)	// 注視点
//	ChangeCameraDistance(0, 2.251f, 0)		// 基本距離
//	ChangeCameraElevation(0, 4.840f, 0)	// 基本仰角
//	RotateCamera(0, 226.703f, 0)				// 角度
//	ChangeCameraPers(0, 29.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転

	MoveCameraAt( 0 , 5.948f , -1424.866f , 18.187f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.093f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.861f , 0 )	// 基本仰角
	RotateCamera( 0 , 222.130f , 0 )				// 角度
	ChangeCameraPers( 0 , 36.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetFlag(TF_MENU_SELECT2,0)	// スキップされた場合に「⇒まだ準備がある」を選んだ扱いにするための処理

	//スキップ許可
	SetSkipScript("mp1201:QS_601_Start_ED")

//開始処理ここまで-----------------------------------------------

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 5.265f , -1425.410f , 18.187f, 80)		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 3.093f, 80)		// 基本距離
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 215.514f, 80)		// 角度

	//MoveCameraAt( 0 , 5.265f , -1425.410f , 18.187f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.812f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -0.890f , 0 )	// 基本仰角
	//RotateCamera( 0 , 215.514f , 0 )				// 角度
	//ChangeCameraPers( 0 , 36.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	WaitThread(1000)
	WaitThread(1001)
//	WaitThread(1002)

	TalkPopup("Franz",0,2,0,0,0)
	{
		"#000e#000mあなたはかなりの"
		"腕前とお見受けします。\p"
		"#080e#080mフフ、さすが“冒険家”を"
		"名乗るだけはありそうですね。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"まだまださ")
	MenuAdd(2,"君こそ腕が立ちそうだ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//────────────────────
	//	⇒まだまださ
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadNo("ADOL", 1, 30)
		Wait(40)

		//	 　フランツ、眼鏡くいっ的なモーション

		ChangeSubAnimation("Franz", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		ChangeAnimation("Franz", "ANI_EV_MEGANEKUI", -1, 1)
		WaitAnimation2("Franz", -1, 1, "ANI_EV_MEGANEKUI", 0)
		ChangeSubAnimation("Franz", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		TalkPopup("Franz",0,2,0,0,0)
		{
			"#080e#080mフフ……謙遜なさっても"
			"私の目は誤魔化せませんよ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒君こそ腕が立ちそうだ
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		Wait(40)
		
		//	  　フランツにＰＡエモーション
		EmotionEx("Franz", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
		ChangeSubAnimation("Franz",SUBMOT_EYE,ANI_E_SUP_S,1)
		ChangeSubAnimation("Franz",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(35)
		
		TalkPopup("Franz",0,2,0,0,0)
		{
			"#000mおや、まだ本気を見せた事は"
			"ないはずですが……"
		}
		WaitPrompt()
		WaitCloseWindow()

		TalkPopup("Franz", 0, 2, 0, 0, 0)
		{
			"#011e#080m……フフ、やはり"
			"あなたは侮れない方だ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	ChangeAnimation("Franz", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Franz",0,2,0,0,0)
	{
		"#000e#000mその腕を見込んで"
		"１つお願いがあるのです。\p"
		"実は先日、村からほど近い場所で"
		"古代種の足跡を発見しまして。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルに！エモーション
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 0.95f)	//！
	Wait(40)

	HeadYes("Franz", 1, 25)
	TalkPopup("Franz",0,2,0,0,0)
	{
		"#011e#000mええ、まだ付近に潜んでいる"
		"可能性があるでしょう。\p"
		"#012eしかしこの状況で"
		"皆さんの気を遣わせたくはありません。"

	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Franz", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("Franz", 0, 2, 0, 0, 0)
	{
		"#000e#000mそこで、どうでしょう。"
		"これから私と調査に向かいませんか？\p"
		"無論、古代種を発見した場合は"
		"速やかに討伐する事になるでしょう。"

	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT2,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"フランツと共に行く")
	MenuAdd(2,"まだ準備がある")
	MenuOpen( TF_MENU_SELECT2 , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//────────────────────
	//	⇒フランツと共に行く
	if (FLAG[TF_MENU_SELECT2] == 1)
	{
		HeadYes("ADOL", 1, 25)
		Wait(35)

		ChangeAnimation("Franz", "ANI_EV_UDEGUMI_E", -1, 1)
		TalkPopup("Franz",0,2,0,0,0)
		{
			"#000e#000mよろしい、では"
			"案内するとしましょう。"
		}
		WaitPrompt()
		WaitCloseWindow()

		StopBGM(90)
		SetEnvSEPlayState(-1, 0)	//環境SE全停止

		//	  　暗転して「▼フランツと浜辺に来る」に接続する
		FadeOut(FADE_BLACK,FADE_NORMAL)
		WaitFade()
	}
	//	⇒まだ準備がある
	else if (FLAG[TF_MENU_SELECT2] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		Wait(40)

		ChangeAnimation("Franz", "ANI_EV_UDEGUMI_E", -1, 1)
		TalkPopup("Franz",0,2,0,0,0)
		{
			"#000e#000mそうですか。"
			"では、少々待ちましょう。\p"
			"準備が整い次第、"
			"改めて声を掛けて下さい。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		//	  　暗転を挟んで操作許可
		FadeOut(FADE_BLACK,FADE_NORMAL)
		WaitFade()
	}
	//──────────────────────

	//──────────────────────
	//	⇒依頼が冒険日誌に未登録の場合
	if( FLAG[GF_QUEST_601] == QUEST_NOTHING )
	{
		PlaySE(SE_QUEST_ADD, 100, 0, 0, 0, 1.0f, 0)		// クエスト追加
		//	システムメッセージ
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#-1W#4C冒険日誌のクエストページに3"
			"#-1W#4Cクエスト#8C【冒険家への依頼】#4Cが追加された。#10W" 
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()

		//	  　※フランツにクエストマーカーを付ける。
	}
	//──────────────────────

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_601_Start_ED")
}
function "QS_601_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Franz")
	SetChrPos("Franz", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手
	SetFlag( GF_QUEST_601, QUEST_START )		// 【QS601】冒険家への依頼（フランツ）　クエスト開始
	SetDiaryFlag( DF_QS601_START, 1 )			// 【QS601】★フランツさんと話した。

	//	⇒フランツと共に行く
	if (FLAG[TF_MENU_SELECT2] == 1)
	{
		//	  　暗転して「▼フランツと浜辺に来る」に接続する
		
		SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット
		LoadArg("map/mp1113/mp1113.arg")
		EventCue("mp1113:QS_601_Beach")		// 【QS601】冒険家への依頼（フランツ）	▼フランツと浜辺に来る
	}
	//	⇒まだ準備がある（もしくはイベントスキップ）
	else
	{
		//	  　暗転を挟んで操作許可
		
		CallFunc("mp1201:init")

		//イベント後の再配置
		SetChrPos("LEADER",5.06f,-1424.61f,16.59f)
		Turn("LEADER", -139.04f, 360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		//カメラ位置復帰
		//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
		//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
		//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
		//RotateCamera( 0 , 0.0f , 0 )				// 角度
		//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
		//SetCameraZPlane( 0 , 0.0f )					// ZPlane
		//RollCamera( 0 , 0.0f , 0 )					// ロール回転

		RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
		CallFunc("system:camera_reset")

		ResetStopFlag(STOPFLAG_EVENT)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}

//終了処理ここまで----------------------------------------------------
}
//===============================================================
//
// 【QS601】冒険家への依頼（フランツ）
// ▼戦闘～クエスト達成イベント（続き）
//
function "QS_601_Complete2"
{
	//　　マップを切り替えて集落にフェードイン。
	//　　外からアドルとフランツが帰ってきた位置に立っている。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Franz")
	LoadChr("Laxia")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",41.78f,-1413.19f,10.83f)
	Turn("ADOL",65.17f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "Franz" )

	SetChrWork("Franz", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Franz",41.40f,-1411.96f,10.74f)
	Turn("Franz",53.76f,360.0f)
	ChangeAnimation( "Franz" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Franz",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Franz",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Franz",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "Franz", "ADOL" )

	SetChrWork("Laxia", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Laxia", 36.77f, -1415.04f, 10.83f)
	Turn("Laxia", -119.31f, 360.0f)
	ChangeAnimation("Laxia", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Laxia", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Laxia", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Laxia", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Laxia")

	//カメラ設定
	MoveCameraAt( 0 , 40.933f , -1413.200f , 13.319f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.099f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.106f , 0 )	// 基本仰角
	RotateCamera( 0 , 295.840f , 0 )				// 角度
	ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 100.000 ,1.000 ,0.700 ,0.600)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetShadowBound(8.0f , 8.0f )
	SetFlag(SF_CHARANORECVSHADOW,1)

	//スキップ許可
	SetSkipScript("mp1201:QS_601_Complete2_ED")

//開始処理ここまで-----------------------------------------------

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 40.933f, -1413.200f, 12.327f, 85)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 310.269f, 85)		// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	WaitThread(1000)
	WaitThread(1001)
	TalkPopup("Franz",0,0,0,0,0)
	{
		"#000e#000mアドルさん、このたびは"
		"大変お世話になりました。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"こちらこそだ")
	MenuAdd(2,"これでひとまず安心だな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//────────────────────
	//	⇒こちらこそだ
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		HeadYes("ADOL", 1, 25)
		Wait(20)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		TalkPopup("Franz",0,0,0,0,0)
		{
			"#080e#080mフフ、そう言っていただけると。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒これでひとまず安心だな
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		HeadYes("Franz", 1, 25)
		ChangeSubAnimation("Franz", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("Franz", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		TalkPopup("Franz",0,0,0,0,0)
		{
			"#000mええ、見張りを強化する"
			"必要はありそうですが。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	//	若い女性の声
	SetName("若い女性の声")
	TalkPopup("Laxia",0,3,0,130,0)
	{
		"#000e#000mアドル！　それにフランツも……！"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	// 「！」
	EmotionEx("Franz", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	// 「！」
	LookChr("ADOL", "Laxia")
	LookChr("Franz", "Laxia")
	Wait(40)

	//　　集会所方向からラクシャがやってくる。
	CrossFade(FADE_FAST)
	MoveCameraAt(0, 42.974f, -1413.481f, 12.526f, 0)	// 注視点
	ChangeCameraDistance(0, 0.901f, 0)		// 基本距離
	ChangeCameraElevation(0, 7.822f, 0)	// 基本仰角
	RotateCamera(0, 78.339f, 0)				// 角度
	ChangeCameraPers(0, 46.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd(1, MoveTo, "Laxia", 39.24f, -1413.70f, 10.80f, 0.1f, 0.225f)

	Wait(FADE_FAST)
	WaitThread(1)

	TalkPopup("Laxia",0,0,0,0,0)
	{
		"#000e#000mどこへ行っていたのです？"
		"心配したのですよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Franz", "ANI_EV_SITUJIREI", -1, 1)
	WaitAnimation2("Franz", -1, 1, "ANI_EV_SITUJIREI", 0)

	TalkPopup("Franz",0,0,0,0,0)
	{
		"#000e#000mこれは申し訳ありません。"
		"所用が長引いてしまいまして。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Laxia", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("Laxia",0,0,0,0,0)
	{
		"#130e#000m……その口ぶりでは、正直に"
		"話すつもりはなさそうですね。\p"	//（溜息顔)
		"一体二人で何を……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャにＰＡエモーション
	EmotionEx("Laxia", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	LookChr("Laxia", "ADOL")
	ChangeAnimation("Laxia", "ANI_EV_UDEGUMI_E", -1, 1)
	Wait(35)

	WaitAnimation2("Laxia", -1, 1, "ANI_EV_UDEGUMI_E", 0)


	CrossFade(FADE_NORMAL)
	MoveCameraAt(0, 40.496f, -1413.279f, 12.402f, 0)	// 注視点
	ChangeCameraDistance(0, 0.900f, 0)		// 基本距離
	ChangeCameraElevation(0, 5.820f, 0)	// 基本仰角
	RotateCamera(0, 263.798f, 0)				// 角度
	ChangeCameraPers(0, 46.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Turn("Laxia", -97.92f, 360.0f)
	ExecuteCmd(1, MoveTo, "Laxia", 40.89f, -1413.63f, 10.83f, 0.1f, 0.16f)

	Turn("Franz", 26.40f, 360.0f)
	Wait(20)

	//　　アドルに近づく。	
	WaitThread(1)

	TalkPopup("Laxia",0,0,0,0,0)
	{
		"#000e#000mあら、埃だらけではありませんか。"
		"襟も曲がっていますし……\p"
		"まったく…… "
		"本当に何をなさっていたのです？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//アドルの服装を直そうとするラクシャ。
	//ExecuteCmd(1, MoveTo, "Laxia", 41.13f, -1413.66f, 10.83f, 0.1f, 0.10f)
	ExecuteCmd(1, MoveTo, "Laxia", 41.31f, -1413.43f, 10.84f,  0.1f, 0.10f)
	WaitThread(1)
	//Turn("Laxia", -125.50f, 8.0f)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cラクシャは手早く"
		"#7Cアドルの服装を直しにかかった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　そんな２人の様子を見ているフランツのカメラに切り替え。
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 40.444f, -1413.306f, 12.402f, 60)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 296.718f, 60)		// 角度

	WaitThread(1000)
	WaitThread(1001)

	//　　フランツに・・・エモーション。
	EmotionEx("Franz", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(52)

	LookReset("Franz")
	ChangeAnimation("Franz", "ANI_EV_SIAN_S", -1, 1)

	PlayVoice(Y8V_5097, "Franz", 100)	//ほう…（感心そうに）
	TalkPopup("Franz",0,2,0,0,0)
	{
		"#011e#000m#0L（これは……在りし日の旦那様と"
		"#0L    お嬢様を見ているような……）\p"
		"#0L（やれやれ、私までもが"
		"#0L    こんな既視感を覚えてしまうとは……）"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr( "Laxia", "Franz" )
	EmotionEx("Laxia", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)

	Turn("Laxia", -165.44f, 8.0f)

	LookChr("Franz", "Laxia")
	ChangeAnimation("Franz", "ANI_EV_SIAN_E", -1, 1)

	TalkPopup("Laxia",0,0,0,0,0)
	{
		"#000e#000mフランツ、あなたもです。"
		"……聞いているのですか！？"
	}
	WaitPrompt()
	WaitCloseWindow()

//	EmotionEx("Franz", 0.00f, EMO_KIRI, 0, 5, 1, 1, 1.1f)	//キラーン
//	Wait(50)

	ChangeAnimation("Franz", "ANI_EV_AKIRE", -1, 1)
	ChangeSubAnimation("Franz", SUBMOT_EYE, ANI_E_LAUGH_E, 1)
	TalkPopup("Franz",0,2,0,0,0)
	{
		"#012e#080mハハハ、勿論ですとも。"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2( "Franz" , -1, 1, "ANI_EV_AKIRE",  0)
	ChangeAnimation("Franz", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Franz", 0, 2, 0, 0, 0)
	{
		"#080e#080mそれより、まるで夫婦のような"
		"仲睦まじさに思わず見とれてしまいまして。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 40.783f , -1411.975f , 12.402f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.900f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.821f , 0 )	// 基本仰角
	RotateCamera( 0 , 221.590f , 0 )				// 角度
	ChangeCameraPers( 0 , 46.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	//　　ラクシャ、赤くなって焦る。
	ChangeSubAnimation("Laxia",SUBMOT_EXT1,ANI_E_LOOKL_S,1)
	ChangeSubAnimation("Laxia", SUBMOT_EYE, ANI_E_SAD_S, 1)
	ChangeSubAnimation("Laxia",SUBMOT_EXT2,ANI_C_RED_S,1)

	TalkPopup("Laxia", 0, 0, 0, 0, 0)
	{
		"#000mあ……これは、その……"
	
	}
	WaitPrompt()
	WaitCloseWindow()

	EarthQuake(0.05,0.05,7)
	ChangeAnimation("Laxia", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("Laxia", 0, 0, 0, 0, 0)
	{
		"#16S#130e#022lフランツ！"
		"#16S#130e余計な事は言わなくていいのです！"	//（フォント大）
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Franz", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("Franz",0,2,0,0,0)
	{
		"#020e#020mハハハハハ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)
	EmotionEx("ADOL", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	Wait(50)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　画面暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【冒険家への依頼】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	if(rand()%100 < 50) {
		PlayVoice(SVO_ADL_QST_1,"ADOL",100)		// よし、やったぞ！
	} else {
		PlayVoice(SVO_ADL_QST_2,"ADOL",100)		// うん、上出来だ！
	}
	WaitPrompt()
	WaitCloseWindow()

	//────────────────────
	//	⇒好感度が一段階上がる場合
	if( FLAG[GF_LIKELV_FRANZ] < 1 )
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cフランツの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cフランツの好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	//　　※報酬仮。一品物アクセサリアイテムだと嬉しい

	//	アイテム入手テキスト
	//GetItemMessageExPlus(ICON3D_COOK_RECIPE11, 1, ITEMMSG_SE_JINGLE, "を受け取った。6", 0, 0)	//『レシピ帳・パンプキンパイ』
	//WaitPrompt()
	//WaitCloseWindow()

	//　　イベント終了、操作許可。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_601_Complete2_ED")
}
function "QS_601_Complete2_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Franz")
	CallFunc("system:reset_chrmot_Laxia")
	SetChrPos("Laxia", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Franz", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	SetFlag(SF_CHARANORECVSHADOW,0)		//影受け戻す

	//フラグ立て・アイテム入手
	SetFlag( GF_QUEST_601, QUEST_SUCCESS )		// 【QS601】冒険家への依頼（フランツ）　クエストを達成した
	//GetItem( ICON3D_COOK_RECIPE11, 1 )			// 『レシピ帳・パンプキンパイ』
	SetFlag( GF_LIKELV_FRANZ, ( FLAG[GF_LIKELV_FRANZ] + 1 ) )	// 好感度ＵＰ
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS601】冒険家への依頼（フランツ）	名声値+1
	SetDiaryFlag( DF_QS601_END, 1 )				// 【QS601】★思った以上の数と対峙することになったものの
	//SetDiaryCharaFlag( DRCHA_FRANZ, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（フランツ）

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",40.80f,-1413.45f,10.81f)
	Turn("LEADER",57.77f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	SetEnvSEPlayState(-1, 1)	//環境SE

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS610】親友の遺言（ダーナ）
// ▼クエスト開始イベント
//
function "QS_610_Start"
{
	//　　集落上段・高台から海を眺めているダーナ。
	//　　話しかけるとイベント起動。

//開始処理ここから----------------------------------------------------

	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("Dana")
	LoadChr("Olga")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",-2.26f,-1476.59f,24.61f)
	Turn("ADOL",-6.43f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "Dana" )

	SetChrWork("Dana", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dana", -2.02f, -1478.08f, 24.61f)
	Turn("Dana", -8.04f, 360.0f)
	ChangeAnimation( "Dana" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dana",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dana",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dana",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dana")

	//インフォフラグ、キャラワーク
	SetChrInfoFlag("Olga", INFOFLAG_NOGRAVITY)
	SetChrInfoFlag("Olga", INFOFLAG_NOCHRATARI)
	SetChrInfoFlag("Olga", INFOFLAG_NOMAPATARICHECK)
	SetChrWork("Olga", CWK_DEFAULT_SKIPNODE_OFF, 1)

	//キャラ位置は原点
	SetChrPos("Olga", 0.00f, 0.00f, 0.00f)
	Turn("Olga", 14.68f, 360.0f)
	LookTo("Olga", -0.262f, -2.829f, 1.446f)
	//LookSpd("Olga", 1.0f, 1.0f, 1.0f)
	//Wait(1)
	//LookSpd("Olga", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)

	//初期モーション
	ChangeSubAnimation("Olga", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Olga", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Olga", SUBMOT_EXT1, ANI_E_LOOKC, 1)

	SetFlag(SF_CHARANORECVSHADOW,1)	//キャラ影受けない

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt(0, -2.044f, -1477.887f, 26.139f, 0)	// 注視点
	ChangeCameraDistance(0, 2.100f, 0)		// 基本距離
	ChangeCameraElevation(0, 0.511f, 0)	// 基本仰角
	RotateCamera(0, 213.227f, 0)				// 角度
	ChangeCameraPers(0, 31.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_610_Start_ED")

//開始処理ここまで-----------------------------------------------
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -1.871f, -1478.149f, 26.139f, 60)		// 注視点

	FadeBGM(70,30)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	WaitThread(1000)
	//　　ダーナにＰＡエモーション
	EmotionEx("Dana", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)

	Turn("Dana", 162.81f, 8.0f)
	LookChr("Dana", "ADOL")
	Wait(10)
	TalkPopup("Dana",0,2,0,0,0)
	{
		"#070e#000mあ……アドルさん。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -2.240f, -1477.181f, 26.139f, 45)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 0.511f, 45)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 213.227f, 45)		// 角度

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	ChangeAnimation("Dana", "ANI_EV_RYOTESIRI_S", -1, 1)
	TalkPopup("Dana", 0, 2, 0, 0, 0)
	{
		"#011e#080mあはは……ちょっと考え事をね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Dana", SUBMOT_EXT1, ANI_E_LOOKL_S, 1)
	Look("Dana", 5.00f, -10.00f)
	//ChangeSubAnimation("Dana", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	TalkPopup("Dana", 0, 0, 0, 0, 0)
	{
		"#012e#080mその、大したことじゃないんだけど。"
	}
	WaitPrompt()
	WaitCloseWindow()
	LookSpd("Dana", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"寂しそうだった")
	MenuAdd(2,"話してみてくれ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//────────────────────
	//	⇒寂しそうだった
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadYes("ADOL", 1, 25)
		Wait(35)

		ChangeSubAnimation("Dana", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		
		TalkPopup("Dana",0,0,0,0,0)
		{
			"#011e#000m……そっか………\p"
			"#000l実は、オルガちゃんの事を"
			"思い出していて……"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeSubAnimation("Dana", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		//ChangeSubAnimation("Dana", SUBMOT_EXT1, ANI_E_LOOKU_E, 1)
		LookChr("Dana", "ADOL")
	}
	//	⇒話してみてくれ
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		HeadYes("ADOL", 1, 25)
		Wait(35)

		LookChr("Dana", "ADOL")
		ChangeSubAnimation("Dana", SUBMOT_EYE, ANI_E_SMILE_S, 1)
		TalkPopup("Dana",0,0,0,0,0)
		{
			"#000l#050e#080mふふ、そうだね。"
			"アドルさんになら……\p"
			"#061e実は、オルガちゃんの事を"
			"思い出していて。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//────────────────────
	
	TalkPopup("Dana",0,0,0,0,0)
	{
		"#000l#062e#000m私ね、最後までオルガちゃんと"
		"過ごすことはできなかったんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dana", "ANI_EV_RYOTESIRI_E", -1, 1)

	Look("Dana", -10.00f, -5.00f)
	TalkPopup("Dana", 0, 0, 0, 0, 0)
	{
		"#020l#050e#000mあの時は、世界に残った人を"
		"少しでも助けようと必死で……\p"
		"#061e#000mお互い、ゆっくり話をする間も"
		"なかったから。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(15)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	FadeBGM(30,60)

	//　　一旦暗転し、オルガのバストショットを出す。
	FadeOut(FADE_BLACK,45)
	WaitFade()

	//CallFunc("system:bokeevent_begin")		//ぼかしイベント

//	SetStopFlag(STOPFLAG_EVENT)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)

//	Portrait_SS(0)
//	Portrait_Create(0, 0, 0, 0, 0, 1920,1080, 0, 0x00ffffff, 0x00000000)
////	Portrait_Anime(0, PR_ANIME_BLUR, 8.0,0,0,0, 0)
//	Portrait_Anime(0, PR_ANIME_COLOR, 0.7,0.7,0.7,1, 0)

//	Portrait_SetKoma(0, 0)		// ３Ｄより先に描画
	SetFlag(SF_NODRAWMAP, 1)	// マップを描画しない（マップ切替でリセットされる）

//	CrossFade(FADE_NORMAL)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	//LookReset( "Olga" )
	//LookSpd("Olga", 1.0f, 1.0f, 1.0f)
	//Wait(1)
	//LookSpd("Olga", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)

	////インフォフラグ、キャラワーク
	//SetChrInfoFlag( "Olga" , INFOFLAG_NOGRAVITY )
	//SetChrInfoFlag( "Olga" , INFOFLAG_NOCHRATARI)
	//SetChrInfoFlag( "Olga" , INFOFLAG_NOMAPATARICHECK )
	//SetChrWork("Olga", CWK_DEFAULT_SKIPNODE_OFF, 1)

	////キャラ位置は原点
	//SetChrPos("Olga",0.00f,0.00f,0.00f)
	//Turn("Olga",14.68f,360.0f)
	//LookTo("Olga", -0.262f , -2.829f , 1.446f )
	//LookSpd("Olga", 1.0f, 1.0f, 1.0f)
	//Wait(1)
	//LookSpd("Olga", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)

	////初期モーション
	//ChangeSubAnimation("Olga",SUBMOT_EYE,ANI_E_WAIT,1)
	//ChangeSubAnimation("Olga",SUBMOT_MOUTH,ANI_M_WAIT,1)
	//ChangeSubAnimation("Olga",SUBMOT_EXT1,ANI_E_LOOKC,1)

	//カメラ位置（キャラの大きさによって調整してください）
	MoveCameraAt( 0 , -0.262f , -0.808f , 1.662f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.230f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.448f , 0 )	// 基本仰角
	RotateCamera( 0 , 0.000f , 0 )				// 角度
	ChangeCameraPers( 0 , 25.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(15)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	//　　可能ならセピア調にし、メッセージはフォント色を変える。	//◆仮入力

	//	オルガ祭司長
	SetName("オルガ祭司長")
	TalkPopup("Olga", 0, 1, 320, 190, 0)
	{
		"#7Cお前にもつくづく呆れたものだ。\p"
		"#7C#011e南方諸国と協力するためとは言え、"
		"#7Cあの時期、あの人数で旅立つとはな……\p"
		"#7C#012e#080mこれでは私も"
		"#7C挫けるわけにはいかぬではないか。"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	//　　オルガに・・・エモーション
	ChangeSubAnimation("Olga", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	EmotionEx("Olga", 0.00f, EMO_3DOT, 0, 5, 1, 1, 0.9f)	//…
	Wait(52)
	ChangeSubAnimation("Olga", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	//	オルガ祭司長
	SetName("オルガ祭司長")
	TalkPopup("Olga", 0, 1, 320, 190, 0)
	{
		"#7C#000m以前調べていた伝承に"
		"#7C『青き鳥』という者が出てきてな。\p"
		"#7Cお前を見ていると、"
		"#7Cどうしてもその伝承を思い出す。\p"
		"#7C#080e#080mフフ……もしもの時は"
		"#7Cかの者にでも託すとするか。"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	//　　画面暗転し、イベントシーンに戻る。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//CallFunc("system:boke_end")	//ぼかし解除

	SetFlag(SF_NODRAWMAP, 0)	// マップを描画しない（マップ切替でリセットされる）

//	FadeIn(FADE_BLACK,FADE_FAST)
//	WaitFade()
//	ResetStopFlag(STOPFLAG_EVENT)

	ChangeSubAnimation("Dana",SUBMOT_EYE,ANI_E_CLOSE,1)
	ChangeAnimation("Dana", "ANI_EV_WAIT2", -1, 1)

	//カメラを戻す
	MoveCameraAt(0, -2.240f, -1477.181f, 26.139f, 0)	// 注視点
	ChangeCameraDistance(0, 2.100f, 0)		// 基本距離
	ChangeCameraElevation(0, 0.511f, 0)	// 基本仰角
	RotateCamera(0, 213.227f, 0)				// 角度
	ChangeCameraPers(0, 31.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetEnvSEPlayState(-1, 1)	//環境SE
	FadeBGM(70, 60)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	TalkPopup("Dana",0,0,0,0,0)
	{
		"#000mそれが、オルガちゃんと話した"
		"最後の言葉だった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dana", "ANI_EV_WAIT2_E", -1, 1)
	TalkPopup("Dana", 0, 0, 0, 0, 0)
	{
		"#062e#000mあの時、オルガちゃんは"
		"何を伝えたかったのかな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dana", "ADOL")
	TalkPopup("Dana", 0, 0, 0, 0, 0)
	{
		"#022l#061e#000m今でも思い返してみるけど……"
		"はっきりした事は１つだけ。"
		
	}
	WaitPrompt()
	WaitCloseWindow()

	//LookSpd("Dana", 0.08f, 0.08f, 0.08f)// ゆっくりめに首向き
	Look("Dana", 3.00f, -6.00f)
	TalkPopup("Dana", 0, 0, 0, 0, 0)
	{
		"#062e#000mオルガちゃんは死んでしまった──"
		"今は悲しいというより、ただ寂しいかな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルに・・・エモーション
	//EmotionEx("ADOL", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	//Wait(52)

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"もう一人で考えなくてもいい")
	MenuAdd(2,"その言葉の意味を調べてみよう")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//────────────────────
	//	⇒もう一人で考えなくてもいい
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadYes("ADOL", 1, 25)
		Wait(35)

		LookChr("Dana", "ADOL")
		ChangeSubAnimation("Dana", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		TalkPopup("Dana",0,0,0,0,0)
		{
			"#000e#000mえっ……？\p"
			"アドルさん、それって……？"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒その言葉の意味を調べてみよう
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		HeadYes("ADOL", 1, 25)
		Wait(35)

		LookChr("Dana", "ADOL")
		ChangeSubAnimation("Dana", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		TalkPopup("Dana",0,0,0,0,0)
		{
			"#000e#000mで、でも……\p"
			"もう滅びた過去のことだし、"
			"いまさら調べたって……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	ChangeAnimation("ADOL", "ANI_EV_WAIT2_S", -1, 1)
	Wait(20)
	
	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cアドルは冒険家として"
		"#7C伝承に興味があることを説明した。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Dana", SUBMOT_EYE, ANI_E_SUP_S, 1)
	//　　ダーナにＰＡエモーション
	EmotionEx("Dana", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)

	ChangeAnimation("Dana", "ANI_EV_RYOTESIRI_S", -1, 1)
	TalkPopup("Dana",0,0,0,0,0)
	{
		"#091e#080mアドルさん……"
		"……ふふっ、ありがとう。\p"
		"#092eそうだね……オルガちゃんはあの頃"
		"各地の神話や伝承を集めていた。\p"
		"寺院のどこかに手がかりくらいは"
		"残っているかも……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、頷いて手を差し伸べてみせる。	◆仮入力：握手するで代用しています
	HeadYes("ADOL", 1, 25)
	Wait(35)

	//ChangeAnimation("ADOL", "ANI_EV_AKUSHU2_S", -1, 1)
	//WaitAnimation2("ADOL", -1, 1, "ANI_EV_AKUSHU2_S", 0)

	TalkPopup("Dana",0,0,0,0,0)
	{
		"#021e#080mうん、アドルさんと一緒なら"
		"何かが分かりそうな気がしてきたよ。\p"
		"#022eありがとう、アドルさん。"
		"合間を見て大樹の寺院に行ってみよう！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -4.141f, -1474.799f, 26.139f, 180)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 226.709f, 180)		// 角度

	Wait(35)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	StopThread(1000)
	StopThread(1001)

	PlaySE(SE_QUEST_ADD, 100, 0, 0, 0, 1.0f, 0)		// クエスト追加

	//	システムメッセージ
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#-1W#4C冒険日誌のクエストページに4"
		"#-1W#4Cクエスト#8C【親友の遺言】#4Cが追加された。#10W" 
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　※ダーナにクエストマーカーを付ける。

	//　　操作許可を戻す。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_610_Start_ED")
}
function "QS_610_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Dana")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	SetFlag(SF_CHARANORECVSHADOW,0)	//キャラ影受ける

	SetFlag(SF_NODRAWMAP, 0)	// マップを描画しない（マップ切替でリセットされる）

	Portrait_Close(-1)
	Portrait_Unload(-1)

	//フラグ立て・アイテム入手
	SetFlag( GF_QUEST_610, QUEST_START )		// 【QS610】親友の遺言（ダーナ）　クエスト開始
	SetDiaryFlag( DF_QS610_START, 1 )			// 【QS610】★オルガが託すと語ったらしい
	SetFlag(SF_NODRAWMAP, 0)	// マップを描画する（マップ切替でリセットされる）
	SetFlag(GF_QS610_TALK_DANA, 1)		// 【QS610】親友の遺言（ダーナ）ダーナーの話を聞く　冒険日誌に登録判定フラグです

	//マーカー設置
	SetMapMarker( SMI_QUEST, PAGE_MP6401, MARKER_QS_610_LP1, 27.44f,5.07f,0.30f,	27.44f,5.07f,		MARKER_QS_610_LP1, MN_D_MP6402,	1)	// 【QS610】親友の遺言（ダーナ）「▽ダーナの部屋の棚を調べる」の場所用
	SetMapMarker( SMI_QUEST, PAGE_MP6401, MARKER_QS_610_LP2, -1.52f,-5.48f,8.00f,	-1.52f,-5.48f,		MARKER_QS_610_LP2, MN_D_MP6401,	0)	// 【QS610】親友の遺言（ダーナ）「▽中央書架の棚を調べる」の場所用１
	SetMapMarker( SMI_QUEST, PAGE_MP6401, MARKER_QS_610_LP3, -1.55f,-26.65f,8.00f,	-1.55f,-26.65f,		MARKER_QS_610_LP3, MN_D_MP6401,	0)	// 【QS610】親友の遺言（ダーナ）「▽中央書架の棚を調べる」の場所用２
	SetMapMarker( SMI_QUEST, PAGE_MP6401, MARKER_QS_610_LP4, -14.52f,-26.49f,8.00f,	-14.52f,-26.49f,	MARKER_QS_610_LP4, MN_D_MP6401,	0)	// 【QS610】親友の遺言（ダーナ）「▽中央書架の棚を調べる」の場所用３
	SetMapMarker( SMI_QUEST, PAGE_MP6401, MARKER_QS_610_LP5, -14.44f,-5.41f,8.00f,	-14.44f,-5.41f,		MARKER_QS_610_LP5, MN_D_MP6401,	0)	// 【QS610】親友の遺言（ダーナ）「▽中央書架の棚を調べる」の場所用４
	SetMapMarker( SMI_QUEST, PAGE_MP6401, MARKER_QS_610_LP6, -13.49f,-10.04f,8.04f,	-13.49f,-10.04f,	MARKER_QS_610_LP6, MN_D_MP6401,	0)	// 【QS610】親友の遺言（ダーナ）「▼中央書架の机を調べる」の場所用

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",-1.68f,-1474.88f,24.56f)
	Turn("LEADER",14.77f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	SetEnvSEPlayState(-1, 1)	//環境SE
	FadeBGM(100,30)

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

//===============================================================
//

function "QS_232_Start"
{

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Katrin")
	LoadChr("Barbaross")
	LoadChr("Dogi")
	LoadChr("Dina")
	LoadChr("Alison")
	LoadChr("Laxia")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",27.43f,-1420.24f,10.83f)
	Turn("ADOL",6.57f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookChr( "ADOL", "Dogi" )

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",26.11f,-1420.25f,10.83f)
	Turn("LAXIA",-13.68f,360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)
	LookChr( "LAXIA", "Dogi" )

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",25.14f,-1421.44f,10.83f)
	Turn("SAHAD",-70.52f,360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)
	LookChr( "SAHAD", "Dogi" )

	if( FLAG[SF_RICOTTA_JOINOK] )	// リコッタがいる
	{
		SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("RICOTTA",26.97f,-1419.43f,10.83f)
		Turn("RICOTTA",5.15f,360.0f)
		ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
		SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI)
		LookChr( "RICOTTA", "Dogi" )
	}

	if( FLAG[SF_DANA_JOINOK] )	// ダーナがいる
	{
		SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("DANA",28.66f,-1420.39f,10.83f)
		Turn("DANA",42.46f,360.0f)
		ChangeAnimation( "DANA" , "ANI_EV_WAIT2", -1 , 1 )
		ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
		SetChrInfoFlag( "DANA" , INFOFLAG_NOCHRATARI)
		LookChr( "DANA", "Dogi" )
	}
	if( FLAG[SF_HUMMEL_JOINOK] )	// ヒュンメルがいる
	{
		SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("HUMMEL",26.47f,-1424.95f,10.83f)
		Turn("HUMMEL",-167.61f,360.0f)
		ChangeAnimation( "HUMMEL" , "ANI_EV_UDEGUMI", -1 , 1 )
		ChangeSubAnimation("HUMMEL",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("HUMMEL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("HUMMEL",SUBMOT_EXT1,ANI_E_LOOKC,1)
		SetChrInfoFlag( "HUMMEL" , INFOFLAG_NOCHRATARI)
		LookReset( "HUMMEL")
	}
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Katrin",28.77f,-1422.94f,10.83f)
	Turn("Katrin",109.98f,360.0f)
	ChangeAnimation( "Katrin" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Katrin" , INFOFLAG_NOCHRATARI)
	ResetChrInfoFlag( "Katrin" , INFOFLAG_FIXED)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi",25.79f,-1423.28f,10.83f)
	Turn("Dogi",-129.06f,360.0f)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI)
	LookChr( "Dogi", "ADOL" )

	if(FLAG[GF_NPC_2_14_LOST_CURRAN])		//▼第二部⑭カーラン卿を探しに行く
	{
		SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Dina",29.25f,-1421.85f,10.83f)
		Turn("Dina",107.47f,360.0f)
		ChangeAnimation( "Dina" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Dina",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Dina",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Dina",SUBMOT_EXT1,ANI_E_LOOKC,1)
		SetChrInfoFlag( "Dina" , INFOFLAG_NOCHRATARI)
		LookChr( "Dina", "Dogi" )
	}
	else
	{
		SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Barbaross",29.25f,-1421.85f,10.83f)
		Turn("Barbaross",107.47f,360.0f)
		ChangeAnimation( "Barbaross" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
		SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI)
		LookChr( "Barbaross", "Dogi" )
	}

	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison",27.70f,-1423.83f,10.83f)
	Turn("Alison",-176.31f,360.0f)
	ChangeAnimation( "Alison" , "ANI_EV_RYOTESIRI", -1 , 1 )
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI)
	LookChr( "Alison", "Dogi" )

	MoveCameraAt( 0 , 27.383f , -1420.518f , 12.218f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.972f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.064f , 0 )	// 基本仰角
	RotateCamera( 0 , 171.171f , 0 )				// 角度
	ChangeCameraPers( 0 , 44.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_232_Start_ED")

//開始処理ここまで-----------------------------------------------

	Wait(10)

	//　　フェードインして集会所。
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　画面暗転を挟んでイベント開始。
	//　　集会所にドギ、アリスン、カトリーン、ディナ。
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000mよし、みんな集まってくれたな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000m村の周辺に夜行性の獣が"
		"出没するという事でしたね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi" ,"LAXIA")

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000mああ、だが目撃者から聞く話が"
		"どうも奇妙でな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000e#000mお？　話が見えねーな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000mそれが、その――"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	SetChrInfoFlag("DANA",INFOFLAG_INVISIBLE)
	
	MoveCameraAt( 0 , 28.838f , -1422.805f , 12.293f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.181f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.274f , 0 )	// 基本仰角
	RotateCamera( 0 , 191.062f , 0 )				// 角度
	ChangeCameraPers( 0 , 44.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookChr("ADOL","Katrin")
	LookChr("SAHAD","Katrin")
	LookChr("LAXIA","Katrin")
	LookChr("RICOTTA","Katrin")
	LookChr("DANA","Katrin")

	Wait(FADE_CROSS)

	//────────────────────
	if(FLAG[GF_NPC_2_14_LOST_CURRAN])
	{
		ChangeAnimation( "Dina" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

		//	"Dina"
		TalkPopup("Dina",0,2,0,0,0)
		{
			"#011e#000mだから、あれはゼッタイに"
			"オオカミだって言ってるじゃん。\p"
			"#012e何匹かで群れているのを見たわ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		//	"Alison"
		TalkPopup("Alison",0,2,0,0,0)
		{
			"#000e#000m私が見た時は、オオカミよりもっと大きい"
			"ずんぐりしたイノシシみたいな姿でした。\p"
			"門のところでウロウロしていましたが……"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "Katrin" , "ANI_EV_UDEGUMI_S", -1 , 1 )

		//	"Katrin"
		TalkPopup("Katrin",0,2,0,0,0)
		{
			"#000e#000mいいえ、あれはサルに間違いないわ。\p"
			"器用に手を使って、村の柵を"
			"揺さぶっていた事がその根拠よ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("Dina","Katrin")

		//	"Dina"
		TalkPopup("Dina",0,2,0,0,0)
		{
			"#000e#000mアタシは遠吠えだって聞いたんだから。"
			"村の食糧を群れで狙っているのよ、きっと！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	else
	{

		ChangeAnimation( "Katrin" , "ANI_EV_UDEGUMI_S", -1 , 1 )

		//	"Katrin"
		TalkPopup("Katrin",0,2,0,0,0)
		{
			"#000e#000mあれはサルに間違いないわ。\p"
			"器用に手を使って、村の柵を"
			"揺さぶっていた事がその根拠よ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		//	"Alison"
		TalkPopup("Alison",0,2,0,0,0)
		{
			"#000e#000m私が見た時は、オオカミよりもっと大きい"
			"ずんぐりしたイノシシみたいな姿でした。\p"
			"門のところでウロウロしていましたが……"
		}
		WaitPrompt()
		WaitCloseWindow()


		LookReset("Barbaross")
		ChangeAnimation( "Barbaross" , "ANI_EV_SIAN_S", -1 , 1 )

		//	"Dina"
		TalkPopup("Barbaross",0,1,0,0,0)
		{
			"#011e#000m私にはオオカミに見えたのですが……\p"
			"#012e何匹かで行動していましたので、"
			"恐らく群れを成す獣だと考えています。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	
	CrossFade(FADE_CROSS)
	ResetChrInfoFlag("DANA",INFOFLAG_INVISIBLE)
	
	MoveCameraAt( 0 , 25.016f , -1421.092f , 12.664f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.922f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 15.282f , 0 )	// 基本仰角
	RotateCamera( 0 , 241.579f , 0 )				// 角度
	ChangeCameraPers( 0 , 44.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	ChangeAnimation( "Barbaross" , "ANI_EV_SIAN_E", -1 , 1 )


	//　　アドルたちに「冷や汗」エモーション。
	EmotionEx("ADOL", 0.00f,EMO_TARA,0,5,1,1,1.0f )
	EmotionEx("DANA", 0.00f,EMO_TARA,0,5,1,1,1.0f )
	EmotionEx("SAHAD", 0.00f,EMO_TARA,0,5,1,1,1.0f )
	EmotionEx("RICOTTA", 0.00f,EMO_TARA,0,5,1,1,1.0f )
	EmotionEx("DANA", 0.00f,EMO_TARA,0,5,1,1,1.0f )
	Wait(45)
	
	
	ChangeAnimation( "SAHAD" , "ANI_EV_UDEGUMI_E", -1 , 1 )
	
	TalkPopup("SAHAD",0,1,0,0,0)
	{
		"#000e#000mなんだなんだ？"
		"言ってる事がバラバラじゃねーか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi","SAHAD")
	LookChr("ADOL","Dogi")
	LookChr("LAXIA","Dogi")
	LookChr("RICOTTA","Dogi")
	LookChr("DANA","Dogi")
	
	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#011e#000mまぁ、こういう有様でな。\p"
		"アドルたちに頼みたいのは"
		"この獣の正体を突き止める事なんだ。\p"
		"#012e今のところ実害はねえが、どういう危険が"
		"あるかってのは把握しておきたくてな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("LAXIA")
	ChangeAnimation( "LAXIA" , "ANI_EV_SIAN_S", -1 , 1 )

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mどういった獣がいるかで"
		"対処方法は変わりますからね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA","ADOL")

	//────────────────────
	//	⇒ラクシャと見張り台で話していない
	if(!FLAG[GF_NPC_2_14_LOST_CURRAN])
	{
		TalkPopup("LAXIA",0,1,0,0,0)
		{
			"アドル・クリスティン、3"
			"ここは調査を引き受けるべきでしょう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	else
	{
		//	⇒ラクシャと見張り台で話している
		TalkPopup("LAXIA",0,1,0,0,0)
		{
			"アドル、ここは調査を引き受けましょう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	
	LookChr("SAHAD","LAXIA")
	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )
	
	TalkPopup("SAHAD",0,1,0,0,0)
	{
		"#000e#000m調査って言ってもな。\p"
		"次に獣が現れるまで待っていたら"
		"漂流者探しが進まねーぜ？"
	}
	WaitPrompt()
	WaitCloseWindow()


	LookChr("SAHAD","Dogi")
	LookChr("LAXIA","Dogi")
	
	ChangeAnimation( "Dogi" , "ANI_EV_TEBURI", -1 , 1 )


	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000mああ、そこでまず調べて"
		"もらいたい場所がある。\p"
		"隆起珊瑚の森の中で"
		"遠吠えを聞いたって話があってな。\p"
		"今ある手がかりの中じゃ"
		"こいつが一番可能性が高い。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000m遠吠えとなると"
		"オオカミかもしれませんね。\p"
		"確かに、一度調査してみる"
		"必要がありそうです。"
	}
	WaitPrompt()
	WaitCloseWindow()


	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 27.494f , -1421.271f , 12.342f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.473f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.682f , 0 )	// 基本仰角
	RotateCamera( 0 , 124.613f , 0 )				// 角度
	ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"すぐに行こう")
	MenuAdd(2,"どこだっけ？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)
	
	//────────────────────
	//	⇒さっそく行こう
	if(FLAG[TF_MENU_SELECT] == 1)
	{
		LookChr("Dogi","ADOL")
		ChangeAnimation( "Dogi" , "ANI_EV_BORI", -1 , 1 )
		
		TalkPopup("Dogi",0,2,0,0,0)
		{
			"#061e#000mおいおい、さっそくかよ？\p"
			"#062eふう、こういう事になると"
			"お前さんはいつも興味津々だな。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookChr("LAXIA","ADOL")
		Wait(10)

		//	"LAXIA"
		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#011e#000mまったく……遊びに行く訳では"
			"ないのですよ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	}
	//	⇒どこだっけ？
	else
	{
		LookChr("Dogi","ADOL")

		LookChr("LAXIA","ADOL")
		Wait(10)

		if(!FLAG[GF_02MP1201_UNMASK_NEMO])	//名無しの正体が判明した
		{
			TalkPopup("LAXIA",0,2,0,0,0)
			{
				"#011e#000m……もう忘れたのですか？\p"
				"カーラン卿とキルゴール先生を"
				"発見した森です。\p"
				"#012e村から北西方面に進んだところですね。"
			}
			WaitPrompt()
			WaitCloseWindow()
		}
		else
		{
			TalkPopup("LAXIA",0,2,0,0,0)
			{
				"#011e#000m……もう忘れたのですか？\p"
				"以前カーラン卿を発見した森です。"
				"#012e村から北西方面に進んだところですね。 "
			}
			WaitPrompt()
			WaitCloseWindow()
		}
	}
	//────────────────────

	LookChr("LAXIA","Dogi")
	LookChr("SAHAD","Dogi")
	
	ChangeAnimation( "Dogi" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )
	
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#052e#000m探索はその獣が活動し始める"
		"夜間に行ってもらう事になる。\p"
		"昼間の探索とは勝手が違うはずだ。"
		"十分に注意してくれよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("SAHAD", 0 , -10 )
	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_E", -1 , 1 )
	
	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#061e#000mゴクリ……よ、夜の森か……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA","ADOL")
	ChangeAnimation( "LAXIA" , "ANI_EV_SIAN_E", -1 , 1 )

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000e#000mでは、準備が整ったら"
		"森の前の野営地で夜まで待ちましょうか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	PlaySE( SE_TUTORIAL , 100 , 0,  0, 0, 1.0f, 0)		//チュートリアル
	//	システムメッセージ
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4C隆起珊瑚の森で夜間探索ができるようになりました。#-10W"
		"夜間探索２行目"
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#-1W#4C名知らず海岸・野営地のテントを調べると"
		"#-1W#4C隆起珊瑚の森の夜間探索を行うかを選択できます。#10W"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、その場で操作許可。
	//　　mp1105テントにクエストマーカーを付ける。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_232_Start_ED")
}
function "QS_232_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム回収
	//SetFlag(GF_OPEN_CORAL_T2,1)					//珊瑚の森夜マップ解放
	//SetFlag( GF_QUEST_232, QUEST_START )		// 【QS232】闇夜の怪（漂流村／夜D）開始イベントを見た
	//SetDiaryFlag( DF_QS232_START, 1 )			// 【QS232】★ドギから話を聞いた。

	//マーカー
	SetMapMarker( SMI_QUEST ,PAGE_F001, MARKER_QS_232_0, -197.255f , -890.508f , 40.974f, -197.255f , -890.508f,MARKER_QS_232_0,MN_F_SOUTHWEST_PLANE_MP1105,0)		// 【QS232】闇夜の怪（テント常設）

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",30.65f,-1419.37f,10.83f)
	Turn("LEADER",51.28f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)
	
	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}
function "QS_232_Complete"
{

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Katrin")
	LoadChr("Dogi")
	LoadChr("Dina")
	LoadChr("Alison")
	LoadChr("Laxia")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",27.43f,-1420.24f,10.83f)
	Turn("ADOL",6.57f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookChr( "ADOL", "Dogi" )

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",26.11f,-1420.25f,10.83f)
	Turn("LAXIA",-13.68f,360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)
	LookChr( "LAXIA", "Dogi" )

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",25.14f,-1421.44f,10.83f)
	Turn("SAHAD",-70.52f,360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)
	LookChr( "SAHAD", "Dogi" )

	if( FLAG[SF_RICOTTA_JOINOK] )	// リコッタがいる
	{
		SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("RICOTTA",26.97f,-1419.43f,10.83f)
		Turn("RICOTTA",5.15f,360.0f)
		ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
		SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI)
		LookChr( "RICOTTA", "Dogi" )
	}

	if( FLAG[SF_DANA_JOINOK] )	// ダーナがいる
	{
		SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("DANA",28.66f,-1420.39f,10.83f)
		Turn("DANA",42.46f,360.0f)
		ChangeAnimation( "DANA" , "ANI_EV_RYOTESIRI", -1 , 1 )
		ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
		SetChrInfoFlag( "DANA" , INFOFLAG_NOCHRATARI)
		LookChr( "DANA", "Dogi" )
	}
	if( FLAG[SF_HUMMEL_JOINOK] )	// ヒュンメルがいる
	{
		SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("HUMMEL",25.28f,-1426.20f,10.83f)
		Turn("HUMMEL",-150.20f,360.0f)
		ChangeAnimation( "HUMMEL" , "ANI_EV_SIAN", -1 , 1 )
		ChangeSubAnimation("HUMMEL",SUBMOT_EYE,ANI_E_CLOSE,1)
		ChangeSubAnimation("HUMMEL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("HUMMEL",SUBMOT_EXT1,ANI_E_LOOKC,1)
		SetChrInfoFlag( "HUMMEL" , INFOFLAG_NOCHRATARI)
		LookReset( "HUMMEL")
	}
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Katrin",29.72f,-1423.77f,10.83f)
	Turn("Katrin",102.40f,360.0f)
	ChangeAnimation( "Katrin" , "ANI_EV_UDEGUMI", -1 , 1 )
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_CLOSE,1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Katrin" , INFOFLAG_NOCHRATARI)
	ResetChrInfoFlag( "Katrin" , INFOFLAG_FIXED)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi",25.79f,-1423.28f,10.83f)
	Turn("Dogi",-153.93f,360.0f)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI)
	LookChr( "Dogi", "ADOL" )

	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dina",28.44f,-1425.30f,10.83f)
	Turn("Dina",166.81f,360.0f)
	ChangeAnimation( "Dina" , "ANI_EV_RYOTEKOSI", -1 , 1 )
	ChangeSubAnimation("Dina",SUBMOT_EYE,ANI_E_LAUGH,1)
	ChangeSubAnimation("Dina",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Dina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Dina" , INFOFLAG_NOCHRATARI)
	LookReset( "Dina" )

	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison",29.25f,-1424.47f,10.83f)
	Turn("Alison",105.52f,360.0f)
	ChangeAnimation( "Alison" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_SAD,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI)
	LookChr( "Alison", "Dina" )

	if(FLAG[GF_NPC_2_14_LOST_CURRAN])
	{
		LoadChr("Aaron")
	
		SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Aaron",27.37f,-1425.00f,10.83f)
		Turn("Aaron",-157.49f,360.0f)
		ChangeAnimation( "Aaron" , "ANI_EV_UDEGUMI", -1 , 1 )
		ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_CLOSE,1)
		ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
		SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI)
		LookReset( "Aaron")		
	}
	else
	{
		LoadChr("Barbaross")

		SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Barbaross",27.59f,-1425.15f,10.83f)
		Turn("Barbaross",79.94f,360.0f)
		ChangeAnimation( "Barbaross" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
		SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI)
		LookChr( "Barbaross","Curran")		

		LoadChr("Curran")

		SetChrWork("Curran", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Curran",26.47f,-1426.02f,10.83f)
		Turn("Curran",-170.35f,360.0f)
		ChangeAnimation( "Curran" , "ANI_EV_UDEGUMI", -1 , 1 )
		ChangeSubAnimation("Curran",SUBMOT_EYE,ANI_E_CLOSE,1)
		ChangeSubAnimation("Curran",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Curran",SUBMOT_EXT1,ANI_E_LOOKC,1)
		SetChrInfoFlag( "Curran" , INFOFLAG_NOCHRATARI)
		LookReset( "Curran")
	}

	MoveCameraAt( 0 , 26.556f , -1421.359f , 12.342f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.282f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.478f , 0 )	// 基本仰角
	RotateCamera( 0 , 320.883f , 0 )				// 角度
	ChangeCameraPers( 0 , 37.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_232_Complete_ED")

//開始処理ここまで-----------------------------------------------

	Wait(10)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　画面暗転し、集会所前にドギとアドルを向きあわせてイベント開始。
	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#000e#000mそうか、やっぱりオオカミの群れが"
		"棲み着いてやがったか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA" , "ANI_EV_WAIT2_S", -1 , 1 )

	//	"LAXIA"
	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#000e#000mええ、一度戦闘になりましたが"
		"群れ全体を退治するには至っていません。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Dogi","LAXIA")

	//	"Dogi"
	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#011e#000m状況が分かっただけでも十分だ。"
		"ありがとよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD" , "ANI_EV_TEBURI", -1 , 1 )

	//	"SAHAD"
	TalkPopup("SAHAD",0,0,0,0,0)
	{
		"#000mそれで、そっちの報告ってのはなんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	
	SetChrInfoFlag("LAXIA",INFOFLAG_INVISIBLE)
	
	MoveCameraAt( 0 , 25.542f , -1423.907f , 12.516f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.482f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.442f , 0 )	// 基本仰角
	RotateCamera( 0 , 177.421f , 0 )				// 角度
	ChangeCameraPers( 0 , 37.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	LookChr("Dogi", "SAHAD")
	
	//	"Dogi"
	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#012e#000mああ……いや、実はこっちも"
		"イノシシとサルの正体が判明してな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	TalkPopup("SAHAD",0,0,0,0,0)
	{
		"#000e#000mお？　なんだ、イノシシとサルも"
		"別にいたってことか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Dogi")
	ChangeAnimation( "Dogi" , "ANI_EV_BORI", -1 , 1 )

	//	"Dogi"
	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#061e#000mいや、それがな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 27.167f , -1423.678f , 12.516f, 65 )
	//ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 12.130f, 210 )
	//ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 10.726f, 210 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 198.589f, 65 )

	//MoveCameraAt( 0 , 27.167f , -1423.678f , 12.496f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 4.482f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 2.442f , 0 )	// 基本仰角
	//RotateCamera( 0 , 198.589f , 0 )				// 角度
	//ChangeCameraPers( 0 , 37.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	//────────────────────
	//	⇒カーラン離脱前
	if(!FLAG[GF_NPC_2_14_LOST_CURRAN])
	{
		TalkPopup("Barbaross",0,0,0,0,0)
		{
			"#000e#000mカーラン卿、夜間に柵の外を"
			"出歩くのは大変危険です。\p"
			"万が一獣に襲われてはいけません。"
			"どうかご自愛いただきたい。"
		}
		WaitPrompt()
		WaitCloseWindow()

		//	"Curran"
		TalkPopup("Curran",0,0,0,0,0)
		{
			"#000mフン、どこを散歩しようが"
			"私の勝手なのである。\p"
			"#012e#000m獣が現れたらお前たちが"
			"助けに来れば良い話であろう。"
		}
		WaitPrompt()
		WaitCloseWindow()

		Wait(10)

		CrossFade(FADE_CROSS)
		ResetChrInfoFlag("LAXIA",INFOFLAG_INVISIBLE)

		MoveCameraAt( 0 , 28.490f , -1425.735f , 12.268f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 4.701f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , -0.104f , 0 )	// 基本仰角
		RotateCamera( 0 , 169.330f , 0 )				// 角度
		ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , 0.0f , 0 )				// ロール回転
		// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

		LookChr("Dogi","Dina")
		LookChr("ADOL","Dina")
		LookChr("LAXIA","Dina")
		LookChr("SAHAD","Dina")
		LookChr("RICOTTA","Dina")
		LookChr("DANA","Dina")
	
		ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_LAUGH,1)
		ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_SMILE,1)
		ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SMILE,1)
		ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_SMILE,1)
		ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_SAD,1)

		Wait(FADE_CROSS)

		//	"Dina"
		TalkPopup("Dina",0,2,0,0,0)
		{
			"#080mいひひ、それにしても"
			"二人とも笑っちゃうわ～。\p"
			"まさか獣と見間違えるなんてね。"
		}
		WaitPrompt()
		WaitCloseWindow()


		ChangeAnimation( "Alison" , "ANI_EV_TEMUNE_S", -1 , 1 )

		//	"Alison"
		TalkPopup("Alison",0,2,0,0,0)
		{
			"#062e#080mあはは……暗かったですし、"
			"まさか柵の外に出られているなんて……"
		}
		WaitPrompt()
		WaitCloseWindow()

		//	"Katrin"
		TalkPopup("Katrin",0,2,0,0,0)
		{
			"#000mまったく、紛らわしい真似は"
			"やめて欲しいわね。"
		}
		WaitPrompt()
		WaitCloseWindow()

		//	"Dina"
		TalkPopup("Dina",0,0,0,0,0)
		{
			"#080mイノシシとサル……"
			"ふふ、どちらも言い得て妙だわ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("Curran","Dina")

		//	"Curran"
		TalkPopup("Curran",0,0,0,0,0)
		{
			"#000mなんだ商人の娘、何か言ったか？"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "Dina" , "ANI_EV_RYOTEKOSI_E", -1 , 1 )
		Look("Dina" , 25 , 7 )

		//	"Dina"
		TalkPopup("Dina",0,0,0,0,0)
		{
			"#010e#080mいいえ、なーんにも？"
		}
		WaitPrompt()
		WaitCloseWindow()

		CrossFade(FADE_FAST)
		ResetChrInfoFlag("LAXIA",INFOFLAG_INVISIBLE)
		
		MoveCameraAt( 0 , 26.566f , -1420.303f , 12.020f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 5.723f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , 13.457f , 0 )	// 基本仰角
		RotateCamera( 0 , 355.750f , 0 )				// 角度
		ChangeCameraPers( 0 , 39.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , 0.0f , 0 )				// ロール回転
		// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

		Wait(FADE_FAST)

		//　　ドギに「冷や汗」エモーション。
		EmotionEx("Dogi", 0.00f,EMO_TARA,0,5,1,1,1.0f )
		Wait(45)
		
		LookChr("Dogi","ADOL")

		TalkPopup("Dogi",0,0,0,0,0)
		{
			"#061e#000m実はな、昨日の夜中にカーラン卿が"
			"村の外を出歩いている所を見つけてな。\p"
			"問いただしてみると、獣が目撃された日に"
			"カーラン卿が出歩いていた事が分かってな……"
		}
		WaitPrompt()
		WaitCloseWindow()

		//	"LAXIA"
		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#061e#000mえっと、もしかして……"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		//	"SAHAD"
		TalkPopup("SAHAD",0,0,0,0,0)
		{
			"#021e#080mガハハ、カーランのおっさんを"
			"獣と見間違えたってわけか。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒カーラン離脱後
	else
	{

		TalkPopup("Dina",0,2,0,0,0)
		{
			"#080mいひひ、それにしても"
			"二人とも笑っちゃうわ～。\p"
			"まさか獣と見間違えるなんてね。"
		}
		WaitPrompt()
		WaitCloseWindow()

		CrossFade(FADE_CROSS)
		ResetChrInfoFlag("LAXIA",INFOFLAG_INVISIBLE)

		MoveCameraAt( 0 , 28.490f , -1425.735f , 12.268f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 4.701f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , -0.104f , 0 )	// 基本仰角
		RotateCamera( 0 , 169.330f , 0 )				// 角度
		ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , 0.0f , 0 )				// ロール回転
		// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

		LookChr("Dogi","Dina")
		LookChr("ADOL","Dina")
		LookChr("LAXIA","Dina")
		LookChr("SAHAD","Dina")
		LookChr("RICOTTA","Dina")
		LookChr("DANA","Dina")
	
		ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_LAUGH,1)
		ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_SMILE,1)
		ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SMILE,1)
		ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_SMILE,1)
		ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_SAD,1)

		Wait(FADE_CROSS)

		ChangeAnimation( "Alison" , "ANI_EV_TEMUNE_S", -1 , 1 )

		//	"Alison"
		TalkPopup("Alison",0,2,0,0,0)
		{
			"#062e#080mあはは……暗かったですし、"
			"まさか柵の外に出られているなんて……"
		}
		WaitPrompt()
		WaitCloseWindow()

		//	"Katrin"
		TalkPopup("Katrin",0,2,0,0,0)
		{
			"#000mまったく、紛らわしい真似は"
			"やめて欲しいわね。"
		}
		WaitPrompt()
		WaitCloseWindow()

		//	"Aaron"
		TalkPopup("Aaron",0,2,0,0,0)
		{
			"#000m最近、柵の調子がおかしかったんで"
			"見回ってただけだってのによ……\p"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("Aaron","Dina")

		TalkPopup("Aaron",0,2,0,0,0)
		{

			"#012e#000mおいディナ、お前は笑いすぎだ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("Dina","Aaron")

		//	"Dina"
		TalkPopup("Dina",0,2,0,0,0)
		{
			"#080mふふふ、だって傑作でしょ？\p"
			"#022e#080mあ、大丈夫よ。"
			"普段はちゃんと人間として見てるから㈱"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "Aaron" , "ANI_EV_UDEGUMI_E", -1 , 1 )

		//	"Aaron"
		TalkPopup("Aaron",0,2,0,0,0)
		{
			"#041e#000mお前ケンカ売ってんのか？"
		}
		WaitPrompt()
		WaitCloseWindow()

		CrossFade(FADE_FAST)
		MoveCameraAt( 0 , 26.566f , -1420.303f , 12.020f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 5.723f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , 13.457f , 0 )	// 基本仰角
		RotateCamera( 0 , 355.750f , 0 )				// 角度
		ChangeCameraPers( 0 , 39.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , 0.0f , 0 )				// ロール回転
		// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

		Wait(FADE_FAST)

		//　　ドギに「冷や汗」エモーション。
		EmotionEx("Dogi", 0.00f,EMO_TARA,0,5,1,1,1.0f )
		Wait(45)
		
		LookChr("Dogi","ADOL")
		
		TalkPopup("Dogi",0,1,0,0,0)
		{
			"#061e#000m実はな、昨日の夜中にアリスンさんが"
			"エアランをイノシシと見間違えてな。\p"
			"以前サルが目撃された日もエアランが"
			"村の外で作業していた事も分かったんだ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		//	"LAXIA"
		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#061e#000mえっと、もしかして……"
		}
		WaitPrompt()
		WaitCloseWindow()

		//	"SAHAD"
		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#021e#080mガハハ、エアランを"
			"獣と見間違えたってわけか。 "
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	HeadYes("Dogi" ,1 , 25 )

	TalkPopup("Dogi",0,1,0,0,0)
	{
		"#012e#000mああ、お前さんたちに余計な情報を"
		"与えちまってすまなかったな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadNo("LAXIA", 1, 35 )

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000mま、まぁ大した事がなくて"
		"良かったと言うべきでしょうか……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Dogi"
	TalkPopup("Dogi",0,1,0,0,0)
	{
		"#000e#000mただ、お前さんたちが見つけた"
		"オオカミの方は警戒しておく必要があるな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL","Dogi")
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"任せたよ")
	MenuAdd(2,"大丈夫かい")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	//────────────────────
	//	⇒任せたよ
	if(FLAG[TF_MENU_SELECT] == 1 )
	{

		LookChr("LAXIA","Dogi")

		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#012e#000mそうですね、ドギの方で"
			"対策をお願いします。"
		}
		WaitPrompt()
		WaitCloseWindow()

		HeadYes("Dogi", 1, 25 )
		ChangeAnimation( "Dogi" , "ANI_EV_UDEGUMI_S", -1 , 1 )

		//	"Dogi"
		TalkPopup("Dogi",0,1,0,0,0)
		{
			"#000e#000mおう、任せとけ。"
			"防衛柵の強化に抜かりはねえ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒大丈夫かい
	else
	{
		ChangeAnimation( "Dogi" , "ANI_EV_UDEGUMI_S", -1 , 1 )
	
		TalkPopup("Dogi",0,1,0,0,0)
		{
			"#000e#000mなぁに、迎撃戦を経て"
			"防衛柵もそれなりに強化してある。\p"
			"いきなり村へ侵入される事はないはずだぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	ChangeAnimation( "Dogi" , "ANI_EV_UDEGUMI_TEBURI", -1 , 1 )
	
	TalkPopup("Dogi",0,1,0,0,0)
	{
		"#000e#000mともかく、"
		"調査ご苦労さんだったな。\p"
		"本当に助かったぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　画面暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
	Wait(10)
	
	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【闇夜の怪】#4Cを達成した！#10W"
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	GetItemMessageExPlus(ICON3D_MT_R1_PARTS05, 2, ITEMMSG_SE_JINGLE, "を受け取った。7", 0, 0)	//『グワラニーガ』
	WaitPrompt()
	WaitCloseWindow()
	GetItemMessageExPlus(ICON3D_MT_R1_PARTS06, 2, ITEMMSG_SE_NONE, "を受け取った。8", 0, 0)		//『ブルフロドン』
	WaitPrompt()
	WaitCloseWindow()
	GetItemMessageExPlus(ICON3D_MT_R2_PARTS06, 1, ITEMMSG_SE_NONE, "を受け取った。9", 0, 0)		//『ザスピオン』
	WaitPrompt()
	WaitCloseWindow()

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#-1W#4C『隆起珊瑚の森』の夜間探索は、以降も"
		"#-1W#4C名知らず海岸・野営地のテントから行う事ができます。#10W"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。



//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_232_Complete_ED")
}
function "QS_232_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム回収
	SetFlag(GF_OPEN_CORAL_T2,1)					//珊瑚の森夜マップ解放
	SetFlag( GF_QUEST_232, QUEST_SUCCESS )		// 【QS232】闇夜の怪（漂流村／夜D）達成イベントを見た
	SetDiaryFlag( DF_QS232_END, 1 )			// 【QS232】★調査の間、漂流村でも聞き込みが進み

	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成	名声値+1


	GetItem(ICON3D_MT_R1_PARTS05,2)		//グワラニーガ
	GetItem(ICON3D_MT_R1_PARTS06,2)		//ブルフロドン
	GetItem(ICON3D_MT_R2_PARTS06,1)		//ザスピオン

	DelMapMarker( SMI_QUEST, PAGE_F001, MARKER_QS_232_0, 0, 0)		// 【QS232】闇夜の怪（テント常設）
	DelMapMarker( SMI_NIGHT_QUEST, PAGE_MP1301t2, MARKER_QS_232_1, 0, 0)		// 【QS232】闇夜の怪（最終イベント）

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",30.65f,-1419.37f,10.83f)
	Turn("LEADER",51.28f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetEnvSEPlayState(-1, 1)	//環境SE復帰
	
	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}
function "QS_303_Start"
{

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Dogi")
	LoadChr("Aaron")
	LoadChr("Katrin")
	LoadChr("Alison")
	LoadChr("Licht")
	
	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrPos("ADOL",-2.42f,-1420.92f,16.55f)
	Turn("ADOL",101.64f,360.0f)
	SetChrPos("LAXIA",-3.54f,-1421.83f,16.55f)
	Turn("LAXIA",161.72f,360.0f)
	SetChrPos("SAHAD",-2.49f,-1419.91f,16.55f)
	Turn("SAHAD",48.70f,360.0f)
	SetChrPos("RICOTTA",-2.82f,-1421.56f,16.55f)
	Turn("RICOTTA",124.59f,360.0f)
	SetChrPos("Katrin",-4.08f,-1419.88f,16.55f)
	Turn("Katrin",-38.62f,360.0f)


	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "Dogi" )

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "RICOTTA" )

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("SAHAD", "Dogi")

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("LAXIA", "Dogi")

	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Katrin",-4.08f,-1419.88f,16.55f)
	Turn("Katrin",-38.62f,360.0f)
	ChangeAnimation( "Katrin" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "Katrin","Dogi" )

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi",3.125f , -1416.479f , 16.585f)
	Turn("Dogi",61.65f,360.0f)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "Dogi","ADOL" )

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation( "Aaron" , "ANI_EV_UDEGUMI", -1 , 1 )
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Aaron" )

	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation( "Alison" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Alison" )

	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation( "Licht" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Licht" )

	MapHide("smoke", 0)	//煙消し
	
	MoveCameraAt( 0 , -2.250f , -1420.076f , 17.759f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 9.359f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.181f , 0 )	// 基本仰角
	RotateCamera( 0 , 109.550f , 0 )				// 角度
	ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetFlag(TF_MENU_SELECT2,0)	// スキップされた場合に「⇒まだ準備がある」を選んだ扱いにするための処理

	//スキップ許可
	SetSkipScript("mp1201:QS_303_Start_ED")

//開始処理ここまで-----------------------------------------------


	SetEnvSEPlayState(1201201, 0)	//焚き火SEいったんオフ

	//　　画面暗転を挟んでイベント開始。
	//　　集会所でドギ、エアラン、アリスンと
	//　　アドルたちが焚き火の周辺で話をしている。
	
	SetChrPos("Dogi",26.59f,-1423.67f,10.82f)
	Turn("Dogi",-162.49f,360.0f)
	SetChrPos("Aaron",27.98f,-1423.73f,10.82f)
	Turn("Aaron",160.56f,360.0f)
	
	LookReset("Dogi")

	SetChrPos("ADOL",25.15f,-1421.64f,10.83f)
	Turn("ADOL",-53.84f,360.0f)
	SetChrPos("LAXIA",26.41f,-1420.35f,10.83f)
	Turn("LAXIA",-21.70f,360.0f)
	SetChrPos("RICOTTA",27.47f,-1420.08f,10.83f)
	Turn("RICOTTA",0.90f,360.0f)
	SetChrPos("SAHAD",28.55f,-1420.34f,10.83f)
	Turn("SAHAD",20.02f,360.0f)

	SetChrPos("Katrin",25.30f,-1422.75f,10.83f)
	Turn("Katrin",-97.19f,360.0f)
	SetChrPos("Alison",29.20f,-1421.98f,10.83f)
	Turn("Alison",48.44f,360.0f)
	SetChrPos("Licht",29.08f,-1422.82f,10.83f)
	Turn("Licht",98.82f,360.0f)

	LookChr("Alison","Dogi")
	LookChr("Licht","Dogi")
	
	MoveCameraAt( 0 , 27.362f , -1422.577f , 12.005f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.057f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.954f , 0 )	// 基本仰角
	RotateCamera( 0 , 195.525f , 0 )				// 角度
	ChangeCameraPers( 0 , 44.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(30)

	//ExecuteCmd( 1001,MoveCameraAt, INTERPOLATE_SPHERE ,-257.523f , 1445.654f , 57.268f , 600 )	// 注視点
	ExecuteCmd( 1002,ChangeCameraDistance, INTERPOLATE_SPHERE , 6.556f , 100 )				// 基本距離
	//ExecuteCmd( 1003,ChangeCameraElevation, INTERPOLATE_SPHERE , -0.115f , 600 )				// 基本仰角
	//ExecuteCmd( 1004,RotateCamera, INTERPOLATE_SPHERE ,  222.225f , 600 )				// 角度
	//ExecuteCmd( 1005,RollCamera, INTERPOLATE_SPHERE , 5.0f , 600 )				// ロール回転

	//MoveCameraAt( 0 , 27.362f , -1422.577f , 12.005f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 6.556f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 9.955f , 0 )	// 基本仰角
	//RotateCamera( 0 , 195.527f , 0 )				// 角度
	//ChangeCameraPers( 0 , 44.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	PlaySE(SE_ENV_FIRE_1, 15, 1000, 0, 0, 1.0f, 0)	//焚き火

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	
	TalkPopup("SAHAD",0,1,0,0,0)
	{
		"#000e#000m一体何があったんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	HeadYes("Dogi", 1 , 25 )

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000mああ、密林地帯でちょいと"
		"困ったことが起こってな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャに「？」エモーション。
	EmotionEx("LAXIA", 0.00f,EMO_Q,0,5,1,1,1.0f )
	Wait(40)
	
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000m密林地帯というと、"
		"エアランさんと出会った場所ですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "Aaron")

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000mエアラン、説明してやってくれるか。"
		"エアラン2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron" , "ANI_EV_UDEGUMI_E", -1 , 1 )

	//	"Aaron"
	TalkPopup("Aaron",0,2,0,0,0)
	{
		"#011e#000mああ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	StopBGM(150)

	//	"Aaron"
	TalkPopup("Aaron",0,2,0,0,0)
	{
		"#012e村で必要になる木材資源の入手は"
		"ほとんどあそこに頼っているんだがな。\p"
		"いつも通り、何人かで調達に行ったら"
		"獣どもが異常に繁殖してやがってなァ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルたちに「！」エモーション。
	EmotionEx("ADOL", 0.00f,EMO_EX,0,5,1,1,1.0f )
	EmotionEx("SAHAD", 0.00f,EMO_EX,0,5,1,1,1.0f )
	EmotionEx("LAXIA", 0.00f,EMO_EX,0,5,1,1,1.0f )
	EmotionEx("RICOTTA", 0.00f,EMO_EX,0,5,1,1,1.0f )
	EmotionEx("Licht", 0.00f,EMO_EX,0,5,1,1,1.0f )
	EmotionEx("Alison", 0.00f,EMO_EX,0,5,1,1,1.0f )
	EmotionEx("Katrin", 0.00f,EMO_EX,0,5,1,1,1.0f )
	Wait(10)
	PlayBGM(BGM_EVENT_012, 0)
	Wait(30)

	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000m密林地帯には元々"
		"多数の獣が棲息していましたが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron" , "ANI_EV_TEBURI", -1 , 1 )

	//	"Aaron"
	TalkPopup("Aaron",0,2,0,0,0)
	{
		"#000mああ、それが普段からは"
		"考えられねえ程に増えていやがる。\p"
		"#011e資源の入手が難しくなれば"
		"村の防衛力にも影響が出てくる。\p"
		"#012eまた古代種に襲撃される可能性を"
		"考えると、こいつは致命傷になりかねん。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("LAXIA")

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mもしかして、私たちが森の主を"
		"退治した事で生態系に変化が……？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi","LAXIA")

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000m何にせよ、このままにはできねえ。\p"
		"資源的にもそうだが、"
		"村から遠い場所って訳じゃない。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

	//	"SAHAD"
	TalkPopup("SAHAD",0,1,0,0,0)
	{
		"#000e#000mおお、地図がありゃあ"
		"１、２日で辿り着ける距離だ。\p"
		"このままじゃ"
		"安心して眠れねーわな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"対策はあるのか")
	MenuAdd(2,"僕たちが行く")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	LookChr("Dogi","ADOL")

	// 手振り
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//────────────────────
	//	⇒対策はあるのか
	if(FLAG[TF_MENU_SELECT] ==1 )
	{

		HeadYes("Dogi", 1, 25 )

		TalkPopup("Dogi",0,2,0,0,0)
		{
			"#011e#000mああ、実はな。\p"
			"#012e村人全員で密林地帯に"
			"攻め入ろうと考えている。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒僕たちが行く
	else
	{
	
		LookChr("Aaron", "ADOL")
	
		TalkPopup("Aaron",0,2,0,0,0)
		{
			"#000e#000mバーロー、お前たちだけで"
			"何とかできる数じゃねえ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		HeadYes("Dogi", 1, 25 )

		//	"Dogi"
		TalkPopup("Dogi",0,2,0,0,0)
		{
			"#011e#000mああ、そこでだ。\p"
			"#012e村人全員で密林地帯に"
			"攻め入ろうと考えている。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	//　　アドルたちに「！」エモーション。
	EmotionEx("ADOL", 0.00f,EMO_EX,0,5,1,1,1.0f )
	EmotionEx("SAHAD", 0.00f,EMO_EX,0,5,1,1,1.0f )
	EmotionEx("LAXIA", 0.00f,EMO_EX,0,5,1,1,1.0f )
	EmotionEx("RICOTTA", 0.00f,EMO_EX,0,5,1,1,1.0f )
	Wait(40)

	LookReset("Dogi")
	ChangeAnimation( "Dogi" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000m迎撃戦ならぬ、制圧戦ってところだな。\p"
		"制圧戦2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Alison"
	TalkPopup("Alison",0,2,0,0,0)
	{
		"#000mと、とうとう村の外にも"
		"出て行くのですね……"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 28.134f , -1422.593f , 12.179f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.637f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.891f , 0 )	// 基本仰角
	RotateCamera( 0 , 262.137f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	//LookChr("Katrin","Alison")
	LookReset("Katrin")
	LookChr("Aaron","Alison" )

	//	"Katrin"
	TalkPopup("Katrin",0,1,0,0,0)
	{
		"#000e#000mとはいえ、やる事は"
		"迎撃戦と変わらないはずよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron" , "ANI_EV_TEBURI", -1 , 1 )

	//	"Aaron"
	TalkPopup("Aaron",0,2,0,0,0)
	{
		"#011e#000mああ、気負わなくていい。"
		"いつも通りやればいいだけだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 27.362f , -1422.577f , 12.005f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.556f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.955f , 0 )	// 基本仰角
	RotateCamera( 0 , 195.527f , 0 )				// 角度
	ChangeCameraPers( 0 , 44.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)
	
	LookChr("LAXIA","Dogi")
	LookChr("Aaron","LAXIA")
	
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	ChangeAnimation( "Dogi" , "ANI_EV_UDEGUMI_TEBURI", -1 , 1 )

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000m幸い、今は周辺の獣が"
		"落ち着いている状況だ。\p"
		"アドルたちに手伝ってもらって、"
		"この隙に素早く制圧しちまいたい。"
	}
	WaitPrompt()
	WaitCloseWindow()


	ChangeAnimation( "LAXIA" , "ANI_EV_TEMUNE_S" , 1 )
	LookChr("LAXIA","Dogi")

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000mそういう事でしたら"
		"当然、私たちも参加します。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル頷く。

	HeadYes("ADOL" ,1 , 25)
	Wait(40)


	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_E", -1 , 1 )

	//	"SAHAD"
	TalkPopup("SAHAD",0,1,0,0,0)
	{
		"#000m武器を強化してもらわねーと"
		"どのみち先には進めんからな。\p"
		"そうと決まったら"
		"ちゃっちゃと片付けちまおーぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()
	//LookReset("LAXIA")

	ChangeAnimation( "RICOTTA" , "ANI_EV_GUTSPOSE_S", -1 , 1 )

	//	"RICOTTA"
	TalkPopup("RICOTTA",0,1,0,0,0)
	{
		"#000e#000mおおー！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi","ADOL")

	ChangeAnimation( "Dogi" , "ANI_EV_UDEGUMI_E", -1 , 1 )

	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#011e#000m話が早くて助かるぜ。\p"
		"#012eそれじゃ、さっそく"
		"出撃準備を始めるとするか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Aaron")
	ChangeAnimation( "Aaron" , "ANI_EV_BORI", -1 , 1 )

	//	"Aaron"
	TalkPopup("Aaron",0,0,0,0,0)
	{
		"#011e#000m防衛設備で使えるモノを"
		"持っていく準備もしないとなァ。\p"
		"#012eちっ、忙しくなるぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()


	ChangeAnimation( "Dogi" , "ANI_EV_TEBURI", -1 , 1 )

	//	"Dogi"
	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#000mアドル、準備が整ったら"
		"いつも通り俺に言ってくれよな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("ADOL" , 1 , 25 )
	Wait(40)

	StopSE(SE_ENV_FIRE_1, 1000)
	StopBGM(60)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	PlaySE( SE_TUTORIAL , 100 , 0,  0, 0, 1.0f, 0)		//チュートリアル
	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4C制圧戦『制圧せよ、密林地帯』が追加された！#10W"
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#-1W#4C制圧戦を開始する際はドギに話しかけ、"
		"#-1W#4C『制圧戦を開始する』を選択してください。#10W"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()
	
	//　　イベント終了、その場で操作許可。
	//　　以降「作戦を開始する」する　＞　遠征戦選択メニューに
	//　　「制圧せよ！　密林地帯」ステージが追加される。
	//　　また、掲示板にも当該クエストが追加される。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_303_Start_ED")
}
function "QS_303_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	SetChrPos("Dogi", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	MapHide("smoke", 1)	//煙戻し

	//フラグ立て・アイテム入手
	SetFlag( GF_QUEST_303, QUEST_START )		// 【QS303】強制イベントを見た
	SetFlag( GF_QS303_QUESTEVENT, 1 )			// 【QS303】強制イベントを見た	
	SetDiaryFlag( DF_QS303_START, 1 )			// 【QS303】

	//SetFlag( SF_MISSIONNO, MS_03_08C )	//★冒険メモ：ドギに話して制圧戦に出発しよう


	//	  　暗転を挟んで操作許可
	
	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",34.19f,-1417.94f,10.83f)
	Turn("LEADER",-119.32f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)
	SetChrWork("Paro", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation( "Paro" , "ANI_WAIT3", -1 , 1 )

	SetEnvSEPlayState(1201201, 1)

	FadeIn(FADE_BLACK,FADE_FAST)
	SetFlag(GF_CLEAR_CONTROL31,1)
	EventCue("mp1201:QS_303_Complete")
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

function "QS_303_Complete"
{

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Dogi")
	LoadChr("Aaron")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",31.38f,-1419.88f,10.83f)
	Turn("ADOL",-23.18f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "Dogi" )

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA",31.15f,-1421.55f,10.83f)
	Turn("RICOTTA",-52.40f,360.0f)
	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "RICOTTA" )

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",30.78f,-1422.54f,10.83f)
	Turn("SAHAD",-175.40f,360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("SAHAD", "Dogi")

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",32.71f,-1420.70f,10.83f)
	Turn("LAXIA",132.23f,360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("LAXIA", "Dogi")

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Dogi", )

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation( "Aaron" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Aaron")

	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation( "Katrin" , "ANI_EV_UDEGUMI", -1 , 1 )
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset( "Katrin" )

	SetChrPos("Dogi",26.59f,-1423.67f,10.82f)
	Turn("Dogi",-162.49f,360.0f)
	SetChrPos("Aaron",27.98f,-1423.73f,10.82f)
	Turn("Aaron",160.56f,360.0f)
	SetChrPos("Katrin",25.57f,-1423.14f,10.83f)
	Turn("Katrin",-137.06f,360.0f)

	SetChrPos("ADOL",25.15f,-1421.64f,10.83f)
	Turn("ADOL",-53.84f,360.0f)
	SetChrPos("LAXIA",26.41f,-1420.35f,10.83f)
	Turn("LAXIA",-21.70f,360.0f)
	SetChrPos("RICOTTA",27.47f,-1420.08f,10.83f)
	Turn("RICOTTA",0.90f,360.0f)
	SetChrPos("SAHAD",28.92f,-1420.93f,10.83f)
	Turn("SAHAD",44.54f,360.0f)

	MapHide("smoke", 0)	//煙消し

	MoveCameraAt( 0 , 26.746f , -1423.818f , 12.402f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.337f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.320f , 0 )	// 基本仰角
	RotateCamera( 0 , 125.841f , 0 )				// 角度
	ChangeCameraPers( 0 , 42.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_303_Complete_ED")

//開始処理ここまで-----------------------------------------------


	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
	//　　制圧戦が終了したところで、漂流村でイベント開始。
	//　　集会所にアドルたちとドギ、エアランを配置。
	
	ChangeAnimation( "Dogi" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )
	
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#011e#000m――これでしばらくは"
		"落ち着くはずだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("Aaron", 1, 25 )

	//	"Aaron"
	TalkPopup("Aaron",0,2,0,0,0)
	{
		"#011e#000mああ、当分は資源の入手に"
		"問題はなくなるはずだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 26.957f , -1422.685f , 12.030f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.396f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.374f , 0 )	// 基本仰角
	RotateCamera( 0 , 156.357f , 0 )				// 角度
	ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)
	
	ChangeAnimation( "SAHAD" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	//	"SAHAD"
	TalkPopup("SAHAD",0,1,0,0,0)
	{
		"#000e#000m何とかなって良かったぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA" , "ANI_EV_TEMUNE_S", -1 , 1 )

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#011e#000mこれまでは迎撃ばかりだったので"
		"実感がありませんでしたが……\p"
		"#012e私たち漂流村の力はすごいものですね。"
		"漂流村の力4行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Aaron"
	TalkPopup("Aaron",0,2,0,0,0)
	{
		"#012e#080mハン、獣どもには"
		"随分と鍛えられたからなァ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA" , "ANI_EV_KYOSHU_S", -1 , 1 )

	//	"RICOTTA"
	TalkPopup("RICOTTA",0,1,0,0,0)
	{
		"#000e#000m皆で力合わせるの、すごく楽しかった！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000m今後、またどこかで制圧戦を仕掛ける"
		"必要が出てくるだろう。\p"
		"#012eできれば今回みたいに"
		"すばやく片付けたいところだな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA" , "ANI_EV_KYOSHU_E", -1 , 1 )

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mそうですね……\p "
		"周囲の獣が落ち着いている隙を見て"
		"一気に決着をつける必要があります。"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000m制圧戦には私たちの参加が"
		"必須だと考えるべきでしょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("Dogi" , 1 , 25 )

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#011e#000mああ、すまねえが"
		"そういう事になるな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi","ADOL")

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#012e制圧戦に出る時は、お前さん方の"
		"都合がいい時に声をかけてくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()


	HeadYes("ADOL" ,1 , 25 )
	Wait(40)

	LookReset("Dogi")

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#011eともかく、みんな今回は"
		"#080mお疲れさんだったな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【制圧せよ、密林地帯】#4Cを達成した！#10W"
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//	アイテム入手メッセージ
	GetItemMessageExPlus(ICON3D_US_MANGO_S, 1, ITEMMSG_SE_JINGLE, "を受け取った。10", 0, 0)	//『完熟マンゴー』
	WaitPrompt()
	WaitCloseWindow()

	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル

		// システムメッセージ
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4C制圧戦#8C『密林地帯に平穏を』#4Cが追加された！#10W"
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_FAST)
	MoveCameraAt( 0 , 24.778f , -1424.015f , 11.906f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.996f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 12.009f , 0 )	// 基本仰角
	RotateCamera( 0 , 162.188f , 0 )				// 角度
	ChangeCameraPers( 0 , 42.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_FAST)
	
	LookChr("Katrin","ADOL")
	LookChr("ADOL","Katrin")

	TalkPopup("Katrin",0,0,0,0,0)
	{
		"#000e#000mさて、アドル。\p"
		"邪魔が入ってしまったけれど、"
		"さっそく武器の強化を再開するわよ。\p"
		"ヒイロカネの精製は終わっているから"
		"一気に仕上げてみせる。\p"
		"武器を持って今すぐ"
		"私の鍛冶場まで来なさい。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	HeadYes("ADOL" ,1 , 25 )
	Wait(40)

	//　　以降「作戦を開始する」する　＞　遠征戦選択メニューに
	//　　「制圧せよ！　密林地帯２」ステージが追加される。
	//　　イベント終了、暗転明けて集会所前で操作許可。
	//　　以降の制圧戦開放クエストの内容は
	//　　討伐モンスターに近い扱いにし、テキストは簡易的にする予定。

	FadeBGM(60, 60)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()


	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	
	ExecuteFunc(98 , "mp1201:SE_kaji")


	//　　画面フェードアウト。
	//　　暗転のまま以下のメッセージを表示。

	//	テキスト
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cヒイロカネを使った"
		"#7C武器の強化が本格的に始まった。\p"
		"#7Cこれまで漂流者に"
		"#7C恐怖を与え続けてきた古代種たち──\p"
		"#7C彼らに対抗する手段を"
		"#7Cようやく手にしたのかもしれない。\p"
		"#7C期待と不安が入り混じる中、"
		"#7C昼夜問わずに響く槌の音が不意に鳴り止んだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	StopThread(98)


//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_303_Complete_ED")
}
function "QS_303_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	SetChrPos("Dogi", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	MapHide("smoke", 1)	//煙戻し

	//フラグ立て・アイテム入手
	SetFlag( GF_QUEST_303, QUEST_SUCCESS )
	SetFlag( GF_QS303_QUESTCLEAR, 1 )			// 【QS303】クリアした
	SetDiaryFlag( DF_QS303_END, 1 )			// 【QS303】

	GetItem(ICON3D_US_MANGO_S,1)		//完熟マンゴー

	//Intercept(INTERCEPT_STAGE32, -1)			// 密林地帯２開放

	EventCue("mp1201:EV_M03S231")
	ResetStopFlag(STOPFLAG_EVENT)

//	//	  　暗転を挟んで操作許可
//	
//	CallFunc("mp1201:init")
//
//	//イベント後の再配置
//	SetChrPos("LEADER",34.19f,-1417.94f,10.83f)
//	Turn("LEADER",-119.32f,360.0f)
//	ResetPartyPos()
//	ResetFollowPoint()
//	//Wait(1) //処理待ち用
//
//	//カメラ位置復帰
//	MoveCameraAt( 0 , 34.190f , -1417.940f , 12.690f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 3.334f , 0 )	// 基本仰角
//	RotateCamera( 0 , 130.698f , 0 )				// 角度
//	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
//
//	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
//	CallFunc("system:camera_reset")
//
//	ResetStopFlag(STOPFLAG_EVENT)
//
//	FadeIn(FADE_BLACK,FADE_FAST)
//	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

function "QS_505_Start"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("Licht")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",20.19f,-1429.44f,11.65f)
	Turn("ADOL",51.86f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookChr( "ADOL", "Licht" )

	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Licht",18.98f,-1430.56f,11.64f)
	Turn("Licht",-140.56f,360.0f)
	ChangeAnimation( "Licht" , "ANI_EV_SIT_C", -1 , 1 )
	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Licht" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Licht" , INFOFLAG_NOATARI)
	LookChr("Licht","ADOL")

	//カメラ設定
	MoveCameraAt( 0 , 18.654f , -1430.148f , 13.015f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.041f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.950f , 0 )	// 基本仰角
	RotateCamera( 0 , 94.638f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_505_Start_ED")

//開始処理ここまで-----------------------------------------------
	Wait(10)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　画面暗転を挟んで、診療所内に座るリヒトと
	//　　アドルを向き合わせる。
	TalkPopup("Licht",0,2,0,0,0)
	{
		"#000e#000m調達をお願いしたい薬の材料ですが……\p"
		"調達2行目"
		"それ自体はどこにでもある"
		"普通の薬草なんです。\p"
		"#011eその中でも、特に薬効が高いものは"
		"仄かに発光する性質がありまして。\p"
		"#012e昼間は全く見分けがつきませんが、"
		"夜の間なら見つける事ができるんです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Licht" , "ANI_EV_SC_TEBURI", -1 , 1 )

	TalkPopup("Licht",0,2,0,0,0)
	{

		"#000mそのような由来から"
		"『月光草』と呼ばれています。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"面白そうだ")
	MenuAdd(2,"物知りだね")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	HeadYes("ADOL" , 1 , 25 )
	Wait(40)

	//────────────────────
	//	⇒面白そうだ
	if(FLAG[TF_MENU_SELECT] == 1)
	{
		TalkPopup("Licht",0,2,0,0,0)
		{
			"#011e#080mはは……見た目はとても綺麗ですから"
			"アドルさん好みかもしれません。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒物知りだね
	else
	{
		HeadNo("Licht" ,1 ,35 )
	
		TalkPopup("Licht",0,2,0,0,0)
		{
			"#011e#000mいえ、医学生としては"
			"当然の知識ですから……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	
	TalkPopup("Licht",0,2,0,0,0)
	{
		"#012e#000mそれで、採取できそうな場所ですが……\p"
		"タナトスさんが言うには、ジャンダルムで"
		"見かけた事があるそうなんです。\p"
		"#061eただ夜間に行くとなると、僕たちでは"
		"危険すぎるという事になりまして。"
	}
	WaitPrompt()
	WaitCloseWindow()


	ChangeAnimation( "Licht" , "ANI_EV_SC_TEBURI", -1 , 1 )

	TalkPopup("Licht",0,2,0,0,0)
	{

		"#012eそこでアドルさんたちに"
		"採取をお願いしたいんです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル頷く。
	ChangeAnimation( "ADOL" , "ANI_EV_WAIT2_S", -1 , 1 )
	HeadYes("ADOL" , 1 , 25 )

	Wait(40)
	
	TalkPopup("Licht",0,2,0,0,0)
	{
		"#011e#080mありがとうございます。\p"
		"#012e#000mそうですね……５つくらい"
		"採取してもらえれば十分だと思います。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(15)

	TalkPopup("Licht",0,2,0,0,0)
	{
		"#061eあの、お願いしておいて何ですが……"
		"くれぐれも無理をなさらないでくださいね。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)

	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル

	//	システムメッセージ
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cジャンダルムで夜間探索ができるようになりました。#-10W"
		"夜間探索2行目"
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup(UNDEF,0,5,0,0,0)
	{

		"#-1W#4C古代種の抜け道・野営地のテントを調べると"
		"#-1W#4Cジャンダルムの夜間探索を行うかを選択できます。#10W"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、その場で操作許可。
	//　　mp3105テントにクエストマーカーを付ける。
	//　　※月光草のＬＰはポイントライトエフェクトを使用します。
	//　　　草の群生オブジェの上にＬＰを置く形にし、新規データ不要の見込み。


	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_505_Start_ED")
}
function "QS_505_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Licht")
	SetChrPos("Licht", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム回収
	//SetFlag(GF_OPEN_GENSD_T2,1)					//ジャンダルム夜マップ解放
	//SetFlag( GF_QUEST_505, QUEST_START )		// 【QS505】月光草の採取（漂流村／夜D）開始イベントを見た
	//SetDiaryFlag( DF_QS505_START, 1 )			// 【QS505】★リヒトから話を聞いた。
	
	//マーカー
	SetMapMarker( SMI_QUEST ,PAGE_F007, MARKER_QS_505_0, 69.91f, -260.34f, 187.17f , 69.91f, -260.34f,MARKER_QS_505_0,MN_F_MP3105,0)	// 【QS505】月光草の採取（テント常設）
																		
	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", 22.56f, -1428.85f, 11.61f)
	Turn("LEADER", 56.76f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, 22.559f, -1428.849f, 13.475f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, 123.237f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

function "QS_505_Complete"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("Licht")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",20.19f,-1429.44f,11.65f)
	Turn("ADOL",51.86f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookChr( "ADOL", "Licht" )

	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Licht",18.98f,-1430.56f,11.64f)
	Turn("Licht",-140.56f,360.0f)
	ChangeAnimation( "Licht" , "ANI_EV_SIT_C", -1 , 1 )
	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Licht" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Licht" , INFOFLAG_NOATARI)
	LookChr("Licht","ADOL")

	//カメラ設定
	MoveCameraAt( 0 , 18.654f , -1430.148f , 13.015f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.041f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.950f , 0 )	// 基本仰角
	RotateCamera( 0 , 94.638f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_505_Complete_ED")

//開始処理ここまで-----------------------------------------------
	Wait(10)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　リヒトの会話選択肢【『月光草』を渡す】を選択すると
	//　　イベント開始。
	//　　暗転明けて診療所前にリヒトとアドルを向きあわせる。

	TalkPopup("Licht",0,0,0,0,0)
	{
		"#000m『月光草』を採ってきてくれたんですね。\p"
		"#061eその、危険な場所に行かせてしまって"
		"申し訳ありませんでした。 "
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"楽しかった")
	MenuAdd(2,"いい景色だったよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	//────────────────────
	//	⇒楽しかった
	if(FLAG[TF_MENU_SELECT] == 1)
	{
		TalkPopup("Licht",0,0,0,0,0)
		{
			"#062e#080mはは、さすがはアドルさんですね。"
			"その精神、僕も見習いたいです。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒いい景色だったよ
	else
	{
		//	リヒトにＰＡエモーション
		EmotionEx("Licht", 0.00f,EMO_PA,0,5,1,1,1.0f )
		ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)

		Wait(35)
		
		TalkPopup("Licht",0,0,0,0,0)
		{
			"#011e#000mなるほど、リコッタちゃんの……\p"
			"#012e#080mはは、結果的にですが"
			"楽しんでもらえたようで良かったです。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	
	TalkPopup("Licht",0,0,0,0,0)
	{
		"#011e#000mこの薬草は必ず有効に活用します。\p"
		"#012eアドルさん、本当にありがとうございました。"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【月光草の採取】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//	アイテム入手メッセージ
	//報酬として『月の涙』を受け取った！
	GetItemMessageExPlus(ICON3D_US_RESSURECT_11, 1, ITEMMSG_SE_JINGLE, "を受け取った！" ,0 ,0 )
	WaitPrompt()
	WaitCloseWindow()

	GetItemMessageExPlus(ICON3D_US_CURE_ALL, 1, ITEMMSG_SE_NONE, "を受け取った！" ,0 ,0 )		//万能薬
	WaitPrompt()
	WaitCloseWindow()

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4C診療所で作成できる薬が増えた！#10W"
		"診療所2行目2"
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#-1W#4C『ジャンダルム』の夜間探索は、以降も"
		"#-1W#4C古代種の抜け道・野営地のテントから行う事ができます。#10W"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　その場で操作許可。

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_505_Complete_ED")
}
function "QS_505_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Licht")
	SetChrPos("Licht", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム回収
	SetFlag( GF_QS505_QUESTCLEAR,1)			//【QS505】クエストをクリアした
	SetFlag( GF_QUEST_505, QUEST_SUCCESS )		// 【QS505】月光草の採取（漂流村／夜D）開始イベントを見た
	SetFlag( GF_DRUG_RECIPE13, 1)		// 【QS505】新しい薬の調合（リヒト）達成 月の涙/万能薬が作成可能に

	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成	名声値+1
	
	GetItem(ICON3D_US_RESSURECT_11,1)		//月の涙
	GetItem(ICON3D_US_CURE_ALL,1)			//万能薬

	SetDiaryFlag( DF_QS505_END, 1 )			// 【QS505】

	DelMapMarker( SMI_QUEST, PAGE_F007, MARKER_QS_505_0, 0, 0)			// 【QS505】月光草の採取（テント常設）
	DelMapMarker( SMI_NIGHT_QUEST, PAGE_MP433xt2, MARKER_QS_505_1, 0, 0)		// 【QS505】月光草の採取（採取ＬＰ）
	DelMapMarker( SMI_NIGHT_QUEST, PAGE_MP433xt2, MARKER_QS_505_2, 0, 0)		// 【QS505】月光草の採取（採取ＬＰ）
	DelMapMarker( SMI_NIGHT_QUEST, PAGE_MP433xt2, MARKER_QS_505_3, 0, 0)		// 【QS505】月光草の採取（採取ＬＰ）
	DelMapMarker( SMI_NIGHT_QUEST, PAGE_MP433xt2, MARKER_QS_505_4, 0, 0)		// 【QS505】月光草の採取（採取ＬＰ）
	DelMapMarker( SMI_NIGHT_QUEST, PAGE_MP433xt2, MARKER_QS_505_5, 0, 0)		// 【QS505】月光草の採取（採取ＬＰ）
	DelMapMarker( SMI_NIGHT_QUEST, PAGE_MP433xt2, MARKER_QS_505_6, 0, 0)		// 【QS505】月光草の採取（タナトス小屋）

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", 22.56f, -1428.85f, 11.61f)
	Turn("LEADER", 56.76f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, 22.559f, -1428.849f, 13.475f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, 123.237f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}



function "QS_613_Start"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("Dogi")
	LoadChr("Aaron")
	LoadChr("Thanatos")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",25.99f,-1423.68f,10.83f)
	Turn("ADOL",-122.99f,360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("ADOL","HUMMEL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA",28.65f,-1422.63f,10.83f)
	Turn("RICOTTA",88.58f,360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("RICOTTA","HUMMEL")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",28.36f,-1420.79f,10.83f)
	Turn("SAHAD",35.94f,360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("SAHAD","HUMMEL")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 25.37f, -1422.01f, 10.83f)
	Turn("LAXIA", -88.08f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("LAXIA","HUMMEL")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", 27.25f, -1423.67f, 10.83f)
	Turn("HUMMEL", 171.28f, 360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA",25.97f,-1420.38f,10.83f)
	Turn("DANA",-37.27f,360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	//カメラ設定
	MoveCameraAt( 0 , 27.267f , -1422.714f , 12.023f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.471f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.352f , 0 )	// 基本仰角
	RotateCamera( 0 , 188.272f , 0 )				// 角度
	ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_613_Start_ED")

//開始処理ここまで-----------------------------------------------

	Wait(5)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　画面暗転を挟んで、集会所でアドル班が集まっている。
	TalkPopup("RICOTTA",0,0,0,0,0)
	{
		"#000e#000mヒュンメル兄、翼竜の依頼って"
		"どういう事だ？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "HUMMEL" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	//────────────────────
	//	⇒【QS501】卵の配達を達成済
	if(FLAG[GF_QUEST_501] == QUEST_SUCCESS )
	{
		TalkPopup("HUMMEL",0,2,0,0,0)
		{
			"#000e#000m翼竜の卵を巣まで届けてやった事を"
			"覚えているか？\p"
			"お前たちにも手伝ってもらった仕事だ。\p"
			"その時の翼竜からの依頼だ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒【QS501】卵の配達を未達成
	else
	{

		TalkPopup("HUMMEL",0,2,0,0,0)
		{
			"#000e#000m以前、偶然拾った翼竜の卵を"
			"巣まで届けてやった事があってな。\p"
			"その翼竜からの依頼だ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	//　　ラクシャに「冷や汗」エモーション
	EmotionEx("LAXIA", 0.00f,EMO_TARA,0,5,1,1,1.0f )
	Wait(50)
	
	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_S", -1 , 1 )
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#061e#000m古代種から依頼されるって……"
		"もう滅茶苦茶ですね。"
		"滅茶苦茶3行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

	//	"SAHAD"
	TalkPopup("SAHAD",0,1,0,0,0)
	{
		"#000e#000mそこはツッコんでも"
		"無駄なんだろーなぁ、多分。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA" , "ANI_EV_GUTSPOSE_S", -1 , 1 )

	//	"RICOTTA"
	TalkPopup("RICOTTA",0,2,0,0,0)
	{
		"#021e#080m古代種からも頼りにされる"
		"ヒュンメル兄、流石だな！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"HUMMEL"
	TalkPopup("HUMMEL",0,2,0,0,0)
	{
		"#011e#000mその依頼だが……少々厄介な内容でな。\p"
		"厄介2行目"
		"よければお前たちの力を貸して欲しい。"
		"よければ2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"厄介な内容とは？")
	MenuAdd(2,"卵は無事孵ったのか？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	LookChr("HUMMEL","ADOL")

	//────────────────────
	//	⇒厄介な内容とは？
	if(FLAG[TF_MENU_SELECT] == 1)
	{
		TalkPopup("HUMMEL",0,2,0,0,0)
		{
			"ああ、それがな。\p"
			"#012e#000m異形の古代種に例の卵が"
			"持ち去られてしまったらしい。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒卵は孵ったのか？
	else
	{
		TalkPopup("HUMMEL",0,2,0,0,0)
		{
			"#012e#000mああ、それがな……\p"
			"実はその卵が異形の古代種に"
			"持ち去られてしまったらしい。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	//　　アドルたちに「！」エモーション。
	EmotionEx("ADOL", 0.00f,EMO_EX,0,5,1,1,1.0f )
	EmotionEx("LAXIA", 0.00f,EMO_EX,0,5,1,1,1.0f )
	EmotionEx("SAHAD", 0.00f,EMO_EX,0,5,1,1,1.0f )
	EmotionEx("RICOTTA", 0.00f,EMO_EX,0,5,1,1,1.0f )
	EmotionEx("DANA", 0.00f,EMO_EX,0,5,1,1,1.0f )
	Wait(40)

	ChangeAnimation( "RICOTTA" , "ANI_EV_GUTSPOSE_E", -1 , 1 )

	TalkPopup("HUMMEL",0,0,0,0,0)
	{
		"#000m翼竜からの依頼は、その卵の奪還だ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadNo("SAHAD" , 1 , 35 )

	//	"SAHAD"
	TalkPopup("SAHAD",0,1,0,0,0)
	{
		"#061e#000mそ、そいつは……\p"
		"#062eでもよ、食われちまったんなら"
		"もう手遅れなんじゃねーか？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("HUMMEL", "SAHAD")	
	ChangeAnimation( "HUMMEL" , "ANI_EV_UDEGUMI_TEBURI", -1 , 1 )
	
	//	"HUMMEL"
	TalkPopup("HUMMEL",0,2,0,0,0)
	{
		"#000mそれが、どうやらまだのようだ。\p"
		"パンガイア大平原にある"
		"巣に置かれていると聞いた。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 28.061f , -1422.978f , 11.998f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.710f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.324f , 0 )	// 基本仰角
	RotateCamera( 0 , 229.645f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)
	
	
	HeadNo("LAXIA" , 1 , 30 )

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mいくらなんでも危険すぎます！\p"
		"仮にうまく侵入できたとしても"
		"間に合わない可能性だって――"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA" , "ANI_EV_TEMUNE_S", -1 , 1 )
	LookChr("RICOTTA","LAXIA")

	//	"RICOTTA"
	TalkPopup("RICOTTA",0,2,0,0,0)
	{
		"#051e#000mでも、せっかく"
		"ヒュンメル兄が助けた命。\p"
		"#061eまだ希望あるなら助けたい！"
		"希望4行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("HUMMEL","LAXIA")

	//	"HUMMEL"
	TalkPopup("HUMMEL",0,2,0,0,0)
	{
		"#000e#000mどれほど絶望的な状況でも"
		"行動する前から諦めはしない。\p"
		"仕事として請け負った以上はな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	TurnToChr("DANA" , "LAXIA" , 8.0f )
	LookChr("DANA" ,"LAXIA")

	//　　ダーナ、ラクシャに向き直る。
	TalkPopup("DANA",0,1,0,0,0)
	{
		"#000e#000mね、ラクシャさん。\p"
		"私も竜種について、教養として"
		"それなりに知っているつもり。\p"
		"ラクシャさんの知識と合わせて"
		"竜種の隙を突く方法を考えられないかな？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_E", -1 , 1 )
	LookChr("LAXIA","DANA")

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mでもダーナさん、"
		"私たちに寄り道をしている時間は……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD","LAXIA")

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#081e#080m嬢ちゃん、こうなっちまったら"
		"もう諦めよーぜ。\p"
		"言い出したら聞かねえ奴らなのは"
		"嬢ちゃんもよく知ってるだろ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	SetChrPos("LAXIA",25.37f,-1422.01f,10.83f)
	Turn("LAXIA",-65.70f,360.0f)

	MoveCameraAt( 0 , 25.309f , -1419.838f , 11.825f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.210f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.452f , 0 )	// 基本仰角
	RotateCamera( 0 , 19.879f , 0 )				// 角度
	ChangeCameraPers( 0 , 36.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookChr("ADOL","LAXIA")

	Wait(10)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"なんとかなるさ")
	MenuAdd(2,"ラクシャ頼む")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	HeadYes("ADOL" ,1 , 25 )
	Wait(40)

	LookChr("LAXIA","ADOL")

	//────────────────────
	//	⇒なんとかなるさ
	if(FLAG[TF_MENU_SELECT] == 1)
	{
		//	name2("LAXIA")
		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#061eはぁ……まったく。"
			"４人目の頑固者もいましたね。\p"
			"#012e#000m仕方ありません、できる限り安全に"
			"事を進める方法を考えましょう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒ラクシャ頼む
	else
	{
		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#061e#000mうっ……あなたという人は……\p"
			"#062e……はぁ、わかりました。"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("LAXIA","DANA")

		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#000mダーナさん、いい方法がないか"
			"一緒に考えましょう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	ChangeAnimation( "DANA" , "ANI_EV_RYOTESIRI_S", -1 , 1 )

	TalkPopup("DANA",0,2,0,0,0)
	{
		"#021e#080mふふ、頑張ろうねラクシャさん。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#011e#000mええ、最善は尽くします。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA","HUMMEL")

	TalkPopup("LAXIA",0,2,0,0,0)
	{

		"#012eではヒュンメル、卵を持ち去った"
		"古代種の特徴を教えてください。"
	}
	WaitPrompt()
	WaitCloseWindow()

	SetEnvSEPlayState(-1,0)	//

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	SetChrPos("Thanatos", 28.02f, -1420.56f, 10.83f)
	Turn("Thanatos", 39.82f, 360.0f)
	SetChrPos("Aaron", 27.05f, -1420.08f, 10.83f)
	Turn("Aaron", 10.26f, 360.0f)
	SetChrPos("Dogi",25.51f,-1420.54f,10.83f)
	Turn("Dogi",-47.06f,360.0f)
	SetChrPos("Thanatos",27.99f,-1419.78f,10.83f)
	Turn("Thanatos",7.84f,360.0f)
	SetChrPos("Aaron",26.66f,-1419.70f,10.83f)
	Turn("Aaron",-11.06f,360.0f)
	SetChrPos("DANA",25.20f,-1421.84f,10.83f)
	Turn("DANA",-98.35f,360.0f)
	SetChrPos("RICOTTA",26.87f,-1423.77f,10.83f)
	Turn("RICOTTA",-175.49f,360.0f)
	SetChrPos("HUMMEL",28.67f,-1423.15f,10.83f)
	Turn("HUMMEL",117.98f,360.0f)
	SetChrPos("SAHAD",29.21f,-1420.65f,10.83f)
	Turn("SAHAD",50.15f,360.0f)
	SetChrPos("LAXIA",25.46f,-1422.92f,10.83f)
	Turn("LAXIA",-116.15f,360.0f)
	SetChrPos("ADOL",29.28f,-1421.77f,10.83f)
	Turn("ADOL",100.14f,360.0f)

	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeAnimation( "HUMMEL" , "ANI_WAIT", -1 , 1 )
	ChangeAnimation( "DANA" , "ANI_WAIT", -1 , 1 )
	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )

	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)

	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)

	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	
	LookChr("Dogi","LAXIA")
	LookChr("Aaron","LAXIA")
	LookChr("Thanatos","LAXIA")
	LookChr("LAXIA","ADOL")
	
	MoveCameraAt( 0 , 28.498f , -1419.822f , 11.676f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 7.571f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.969f , 0 )	// 基本仰角
	RotateCamera( 0 , 323.790f , 0 )				// 角度
	ChangeCameraPers( 0 , 36.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//　　画面暗転し、以下のモノローグ。
	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cこうして、卵を奪還するための"
		"#7C話し合いが始まった。\p"
		"#7C漂流村の面々からも"
		"#7C異形の古代種の情報が集められた。\p"
		"#7Cそこから、ラクシャとダーナが"
		"#7C古代種たちの生態を推測し……\p"
		"#7Cこれならば奪還の可能性が高い、"
		"#7Cという結論を何とか導き出すのであった。"
		"結論9行目"
	}
	WaitPrompt()
	WaitCloseWindow()

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 16.184f, -1419.977f, 13.241f, 120)	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 8.671f, 90)		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 10.139f, 120)	// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 33.868f, 120)				// 角度
//	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE, 28.000f, 120)		// 視野角

	//MoveCameraAt( 0 , 28.498f , -1419.822f , 11.676f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 8.671f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 7.969f , 0 )	// 基本仰角
	//RotateCamera( 0 , 323.792f , 0 )				// 角度
	//ChangeCameraPers( 0 , 36.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetEnvSEPlayState(-1,1)	//

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　暗転明けて、集会所に集まるアドルたち。
	//　　ドギ、タナトス、エアランが増えている。

	WaitThread(1001)

	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#011e#000m――それでは作戦内容を改めて説明します。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("DANA","ADOL")

	//	"DANA"
	TalkPopup("DANA",0,1,0,0,0)
	{
		"#000e#000mパンガイア大平原には"
		"いくつか竜種の巣が作られている。\p"
		"これをひとつずつ調べて"
		"翼竜の卵を探す事になるかな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA" , "ANI_EV_TEBURI", -1 , 1 )

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mそのために、大多数の古代種が"
		"大人しくなる夜間に決行します。\p"
		"それでも活動する古代種もいますから、"
		"迅速かつ慎重な行動が求められます。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#011e#000mなるほどな。\p"
		"古代種も元気な昼に突撃するより"
		"夜に紛れた方が安全かもしれねえ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

	//	"RICOTTA"
	TalkPopup("RICOTTA",0,1,0,0,0)
	{
		"#061e#000m巣を守る古代種を怒らせたら"
		"きっとすごく怖いな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("LAXIA")

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mええ、そういう事です。\p"
		"王都遺跡近くの野営地で"
		"夜を待って行動開始になります。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)

	MoveCameraAt( 0 , 28.532f , -1423.001f , 12.296f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.271f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.215f , 0 )	// 基本仰角
	RotateCamera( 0 , 280.279f , 0 )				// 角度
	ChangeCameraPers( 0 , 42.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookChr("Thanatos","HUMMEL")
	LookChr("Aaron","HUMMEL")
	LookChr("Dogi","HUMMEL")
	LookChr("SAHAD","HUMMEL")
	LookChr("DANA","HUMMEL")
	LookChr("LAXIA","HUMMEL")

	Wait(FADE_CROSS)

	Turn("HUMMEL",97.61f,8.0f)

	//	"HUMMEL"
	TalkPopup("HUMMEL",0,2,0,0,0)
	{
		"#000m委細了解した。"
		"ラクシャにダーナ、恩に着るぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA" , "ANI_EV_RYOTEKOSI_E", -1 , 1 )
	LookChr("RICOTTA","HUMMEL")
	LookChr("ADOL","HUMMEL")
	TurnToChr("ADOL","HUMMEL",8.0f)
	
	LookChr("HUMMEL","RICOTTA")
	
	//	"RICOTTA"
	TalkPopup("RICOTTA",0,1,0,0,0)
	{
		"#000e#000mもちろんリコッタたちもついて行くぞ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、ヒュンメルを見ながら頷く。
	HeadYes("ADOL" , 1 ,25 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)
	Wait(25)
	
	LookChr("HUMMEL","ADOL")
	TurnToChr("HUMMEL", "ADOL" , 8.0f)
	
	TalkPopup("HUMMEL",0,2,0,0,0)
	{
		"#012e#000mああ、お前たちも感謝する。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 27.106f , -1423.350f , 11.602f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 7.172f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 15.127f , 0 )	// 基本仰角
	RotateCamera( 0 , 172.528f , 0 )				// 角度
	ChangeCameraPers( 0 , 44.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	HeadNo("Aaron", 1 , 35)

	//	"Aaron"
	TalkPopup("Aaron",0,1,0,0,0)
	{
		"#011e#000mやれやれ、妙な事に命を張りやがって。"
		"2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Thanatos" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	//	"Thanatos"
	TalkPopup("Thanatos",0,1,0,0,0)
	{
		"#000e#000mワハハ、こういう無茶は"
		"若いうちに楽しむもんじゃて。\p"
		"お前たち、しっかり"
		"やり遂げてくるんじゃぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("HUMMEL","Thanatos")
	ChangeAnimation( "HUMMEL" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	//	"HUMMEL"
	TalkPopup("HUMMEL",0,2,0,0,0)
	{
		"#000e#000m言われるまでもない。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("RICOTTA")
	ChangeAnimation( "RICOTTA" , "ANI_EV_KYOSHU_S", -1 , 1 )

	//	"RICOTTA"
	TalkPopup("RICOTTA",0,2,0,0,0)
	{
		"#021e#080mえいえいおー！"
	}
	WaitPrompt()
	WaitCloseWindow()

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	SetEnvSEPlayState(-1, 0)

	PlaySE( SE_TUTORIAL , 100 , 0,  0, 0, 1.0f, 0)		//チュートリアル
	//	システムメッセージ
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cパンガイア大平原で夜間探索ができるようになりました。#10W"
		"パンガイア大平原2行目"
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#-1W#4Cパンガイア大平原・野営地のテントを調べると"
		"#-1W#4Cパンガイア大平原の夜間探索を行うかを選択できます。#10W"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、その場で操作許可。
	//　　mp6101テントにクエストマーカーを付ける。



//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_613_Start_ED")
}
function "QS_613_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Licht")
	SetChrPos("Licht", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム回収
	//SetFlag(GF_OPEN_PANGAIA_T2,1)				//パンガイア大平原夜マップ解放
	//SetFlag( GF_QUEST_613, QUEST_START )		// 【QS613】
	//SetDiaryFlag( DF_QS613_START, 1 )			// 【QS613】

	//マップマーカー
	SetMapMarker( SMI_QUEST ,PAGE_F034, MARKER_QS_613_0, -202.50f, 794.00f, 63.55f , -202.50f, 794.00f ,MARKER_QS_613_0,MN_F_MP6101,0)	// 【QS613】卵の奪還

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",34.36f,-1417.82f,10.83f)
	Turn("LEADER",-121.25f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt( 0 , 34.358f , -1417.820f , 12.687f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.006f , 0 )	// 基本仰角
	RotateCamera( 0 , 121.435f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetEnvSEPlayState(-1, 1)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}




////////////////////////////////////////////////////////////////////////////////
// ★★以下mp1204から移植
////////////////////////////////////////////////////////////////////////////////
// クイナのルートムーブ
function "npc_mv_Kuina" 	//★★以下mp1204から移植
{
	if((FLAG[GF_NPC_6_03_AFTER_INTERCEPT12] || FLAG[GF_NPC_6_04_GET_MISTILTEINN] ) &&
		!FLAG[GF_NPC_7_01_GOTO_TEM] )
	{
		//「☆第六部Ｆ迎撃戦⑫を済ませた」or「▼第六部④想剣ミストルティンを入手」時のルートムーブ
		while(1)
		{
			if (this.CHRWORK[CWK_NPCMODE] == NPC_MODE_WALK)
			{
				//一列目の苗の前を往復して手入れするルートムーブ
				MoveTo("Kuina",-33.23f,-1415.41f,29.75f, 0.1f, 0.25f)
				Turn("Kuina",152.75f,8.0f)
				Wait(30)
				
				MoveTo("Kuina",-31.95f,-1414.74f,29.75f, 0.1f, 0.25f)
				Turn("Kuina",152.75f,8.0f)
				Wait(30)
				
				MoveTo("Kuina",-30.76f,-1414.11f,29.75f, 0.1f, 0.25f)
				Turn("Kuina",152.75f,8.0f)
				Wait(30)
				
				MoveTo("Kuina",-29.49f,-1413.45f,29.75f, 0.1f, 0.25f)
				Turn("Kuina",152.75f,8.0f)
				Wait(30)
				
				MoveTo("Kuina",-34.49f,-1416.06f,29.75f, 0.1f, 0.25f)
				Turn("Kuina",152.75f,8.0f)
				Wait(30)
			}
			else
			{
				// とりあえず待機させたい
				ChangeAnimation(Kuina,"ANI_WAIT",-1,0)
				Wait(10)
			}
		}
	}
	else
	{
		// フリームーブ
		while(1)
		{
			if (this.CHRWORK[CWK_NPCMODE] == NPC_MODE_WALK)
			{
				// 初期座標＋３Ｍの範囲で歩き回る
				FreeMove(this,(this.CHRWORK[CWK_INITPOS_X]),(this.CHRWORK[CWK_INITPOS_Y]),(this.CHRWORK[CWK_INITPOS_Z]),3.0f,0.2f)
				Wait((60 + rand() % 90))	// 適当にばらけさせる
			}
			else
			{
				// とりあえず待機させたい
				ChangeAnimation(this,"ANI_WAIT",-1,0)
				Wait(10)
			}
		}
	}
}

// レーヤのルートムーブ
function "npc_mv_Reja"
{
	while(1)
	{
		if (this.CHRWORK[CWK_NPCMODE] == NPC_MODE_WALK)
		{
			//一列目の苗の前を往復して手入れするルートムーブ
			MoveTo("Reja",-33.23f,-1415.41f,29.75f, 0.1f, 0.25f)
			Turn("Reja",152.75f,8.0f)
			Wait(30)
			
			MoveTo("Reja",-31.95f,-1414.74f,29.75f, 0.1f, 0.25f)
			Turn("Reja",152.75f,8.0f)
			Wait(30)
			
			MoveTo("Reja",-30.76f,-1414.11f,29.75f, 0.1f, 0.25f)
			Turn("Reja",152.75f,8.0f)
			Wait(30)
			
			MoveTo("Reja",-29.49f,-1413.45f,29.75f, 0.1f, 0.25f)
			Turn("Reja",152.75f,8.0f)
			Wait(30)
			
			MoveTo("Reja",-34.49f,-1416.06f,29.75f, 0.1f, 0.25f)
			Turn("Reja",152.75f,8.0f)
			Wait(30)
		}
		else
		{
			// とりあえず待機させたい
			ChangeAnimation("Reja","ANI_WAIT",-1,0)
			Wait(10)
		}
	}
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//■メインイベントセクション

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


//──────────────────────────────
//▼墓前でラクシャと話す(mp1204)
//──────────────────────────────

function "SubEV_Help_Farm_2"	// チュートリアル：農場
{
//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Dogi")
	LoadChr("Reja")
	LoadChr("Picard")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	ResetMotion( "PARTYALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
//	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -38.50f, -1418.89f, 29.47f)
	Turn("ADOL", -129.33f, 360.0f)
	ChangeAnimation("ADOL","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKR,1)
	LookReset("ADOL")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI )

	SetChrWork("Reja", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Reja", -37.36f, -1418.58f, 29.47f )
	Turn("Reja", -144.29f, 360.0f)
	ChangeAnimation("Reja","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Reja",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Reja",SUBMOT_MOUTH,ANI_M_WAIT,1)
	LookReset("Reja")
	SetChrInfoFlag( "Reja" , INFOFLAG_NOCHRATARI )

	SetChrWork("Picard", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Picard", -33.80f, -1419.97f, 29.12f)
	Turn("Picard", 143.85f, 360.0f)

//	ChangeAnimation("Picard","ANI_WAIT", -1 , 1 )
//	ChangeSubAnimation("Picard",SUBMOT_EYE,ANI_E_WAIT,1)
//	ChangeSubAnimation("Picard",SUBMOT_MOUTH,ANI_M_WAIT,1)
	LookReset("Picard")
	SetChrInfoFlag( "Picard" , INFOFLAG_NOCHRATARI )

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", -37.47f, -1420.20f, 29.48f)
	Turn("Dogi", -157.75f, 360.0f)
	ChangeAnimation("Dogi","ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	LookReset("Dogi")
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI )

	SetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)	// 非表示

	//BGM設定
//	PlayBGM( BGM_FIELD_101 , XX )

	// カメラ
	MoveCameraAt( 0 , -24.768f , -1433.667f , 29.430f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.271f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.577f , 0 )	// 基本仰角
	RotateCamera( 0 , 298.404f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// チュートリアルポートレート読み込み
	Portrait_Load(0, "system/black.itp" )		//擬似フェードアウト用
	Portrait_Create(0, 0, 0, 0, 0, 64,64, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(1, "visual/help/hp_00.itp" )	// 背景用
	Portrait_Create(1, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	Portrait_Load(2, "visual/help/hp_a40.itp" )	// help_a40：農場
	Portrait_Create(2, HELP_POS_X, HELP_POS_Y, 0, 0, HELP_SCALE_X, HELP_SCALE_Y, 0.0f, 0x00ffffff, 0x00000000)
	
	// 農場		第三部の前後で畑の状態を変更する処理を追加しました（5/14）
//	MapAnime("farm", "Lv0")
//	MapAnime("farmFence", "Lv1")
	// 野菜類は全て非表示
	MapHide("LODH_vegetable_mat4101", 0)
	MapHide("LODH_vegetable_mat4102", 0)
	MapHide("LODH_vegetable_mat4103", 0)
	MapHide("LODH_vegetable_mat4104", 0)
	MapHide("LODH_vegetable_mat4105", 0)
	MapHide("LODH_vegetable_mat4106", 0)
	// 第三部前の場合は農場は未開拓
	if( !FLAG[GF_02MPxxxx_2ND_CHAPTER_FINISH] )	// 第二部了
	{
		MapAnime("farm", "Lv0")
		MapAnime("farmFence", "Lv0")
	}
	// 第三部後の場合は農場はうね出現（柵は無し）
	else
	{
		MapAnime("farm", "Lv1")
		MapAnime("farmFence", "Lv0")
	}
	
	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 100.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)	//イベント毎に調整

	SetSkipScript("mp1201:SubEV_Help_Farm_2_ED")

//開始処理ここまで----------------------------------------------------

	//　　暗転を挟んで集落の農場にフェードイン。
	//　　マップは最低限の農場施設がある状態になっており、
	//　　その前にドギ、レーヤとアドルが立っている。
	
	// カット1 ----------------------------------------------------------------------------------------

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -27.872f , -1428.674f , 31.130f, 125 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 5.271f, 125 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.028f , 125 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 19.190f , 125 )		// 角度

	//MoveCameraAt( 0 , -37.842f , -1419.163f , 31.070f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.307f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 5.525f , 0 )	// 基本仰角
	//RotateCamera( 0 , 323.821f , 0 )				// 角度
	//ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
		
	// カット2 ----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_NORMAL)

	MoveCameraAt( 0 , -36.619f , -1417.917f , 30.748f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.507f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 15.111f , 0 )	// 基本仰角
	RotateCamera( 0 , 313.641f , 0 )				// 角度
	ChangeCameraPers( 0 , 54.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
		
//	// カメラ
//	MoveCameraAt( 0 , -37.842f , -1419.163f , 31.616f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.307f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 5.828f , 0 )	// 基本仰角
//	RotateCamera( 0 , 354.858f , 0 )				// 角度
//	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	ChangeAnimation( "ADOL", "ANI_EV_WAIT2_S", -1, 1 )	// 待機（腰に手）

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -37.842f , -1419.163f , 31.070f , 90 )		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.307f, 90 )		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 5.525f , 90 )		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 323.821f , 90 )		// 角度

	// フェード待ち
	Wait(FADE_NORMAL)
	
//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
//		"#000e#000mここは耕して農場にできねえかと"
		"#000e#000mここは整備して農場に"
		"できねえかと思っていたんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Dogi", "Reja")
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"働かざるもの何とやらだ。"
		"坊主、よろしく頼んだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Reja", "Dogi")
	TurnToChr("Reja", "Dogi", 7.0f)

	// レーヤ
	TalkPopup("Reja", 0, 2, 0, 0, 0) {
		"#031e#000mちょっとデカイ兄ちゃん、"
		"何言ってんの？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("ADOL", "Reja")
	
	ChangeAnimation( "Reja", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	// レーヤ
	TalkPopup("Reja", 0, 2, 0, 0, 0) {
		"オレは金持ちで天才少年なんだっての！"
		"こーいうの、ガラじゃないんだけど！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mそう言うなって。"
		"助け合わなきゃやっていけねえんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	WaitAnimation2("Dogi", -1, 1, "ANI_EV_RYOTEKOSI_E", 0)
	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"水遣りと草むしり程度だ。"
		"そいつの世話もできて一石二鳥じゃねーか？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//　　農場を暢気に走るピッカード。
	
	// 移動
	ExecuteCmd(1, MoveTo, "Picard", -40.09f, -1411.42f, 29.47f, 0.1f, 0.35f)

	ChangeAnimation( "Reja", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	
	//　　レーヤに冷や汗エモーション
	EmotionEx("Reja", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f )	// 「冷や汗」
	ChangeSubAnimation("Reja", SUBMOT_EYE, ANI_E_SAD_S, 1)	// 目
	Wait(45)

	// レーヤ
	TalkPopup("Reja", 0, 2, 0, 0, 0) {
		"#050e#000mうぐっ……そ、それは……"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// 移動停止
	StopThread(1)
	
	// カメラ
	MoveCameraAt( 0 , -37.878f , -1419.319f , 30.928f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.043f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.914f , 0 )	// 基本仰角
	RotateCamera( 0 , 153.368f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// 位置調整・表情・モーション
	LookReset("Dogi")
	SetChrPos("Dogi",-37.47f,-1420.20f,29.48f)
	Turn("Dogi",170.27f,360.0f)

//	SetChrPos("ADOL", -38.44f, -1418.48f, 29.47f)
//	Turn("ADOL", -68.93f, 360.0f)
//	SetChrPos("Dogi", -37.57f, -1419.99f, 29.48f)
//	Turn("Dogi", -175.52f, 360.0f)
//	SetChrPos("Reja", -36.81f, -1418.65f, 29.47f)
//	Turn("Reja", 47.57f, 360.0f)
	
	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Dogi", "ANI_EV_BORI", -1, 1 )	// 頭かき

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#011e#000mただ１つ問題があってな。\p"
		"#012e#000m育てられそうな作物の種が"
		"中々見つからねーんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("ADOL", "Dogi")
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKR_E,1)

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#011e#000m新鮮な野菜がありゃあ"
		"もっとウマい料理も"
		"作れるはずなんだがなぁ……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//　　アドルとレーヤにＰＡエモーション
	//　　その後・・・エモーション
	EmotionEx("ADOL", 0.05f, EMO_PA, 0, 5, 1, 1, 1.1f )	// 「PA」
	EmotionEx("Reja", 0.00f, EMO_PA, 0, 5, 1, 1, 1.1f )	// 「PA」
	Wait(35)
	ChangeAnimation( "ADOL", "ANI_EV_WAIT2_E", -1, 1 )	// 待機（腰に手）
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("ADOL", "Reja")
	LookChr("Reja", "ADOL")
	Wait(20)
	EmotionEx("ADOL", 0.0f, "EMO_3DOT", 27, 5, 1, 1, 0.9f)	// 「…」
	EmotionEx("Reja", 0.0f, "EMO_3DOT", 27, 5, 1, 1, 0.9f)	// 「…」
	Wait(52)
	
	LookChr("ADOL", "Dogi")
	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "種なら持ってるよ")
	MenuAdd(2, "……心当たりはない、かな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)
	

	//─────────────────────────
	//	⇒種なら持ってるよ
	if (FLAG[TF_MENU_SELECT] == 1 ) {
		// 手振りセット
		ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)


		EmotionEx("Reja", 0.00f, EMO_GIKU, 0, 5, 1, 1, 1.2f )	// 「ぎくっ」
		Wait(20)

		// レーヤ
		TalkPopup("Reja", 0, 1, 0, 0, 0) {
			"#000e#000mちょ、ちょっと兄ちゃん！？"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("Dogi", "ADOL")
		ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

		// ドギ
		TalkPopup("Dogi", 0, 2, 0, 0, 0) {
			"#000e#000mへえ、そうなのか？"
			"そいつは好都合だぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()

	//	⇒……心当たりはない、かな
	} else {

		LookReset("ADOL")

		ChangeAnimation( "ADOL", "ANI_EV_BORI", -1, 1 )
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		ChangeAnimation( "Reja", "ANI_EV_GUTSPOSE_S", -1, 1 )	// ガッツポーズ

		// レーヤ
		TalkPopup("Reja", 0, 1, 0, 0, 0) {
			"#000e#000m#0L（ナイス兄ちゃん！"
			"　さっきの種の事は黙っててくれよ！）"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		ChangeAnimation( "Reja", "ANI_EV_GUTSPOSE_E", -1, 1 )	// ガッツポーズ
		
		LookChr("Dogi", "Reja")
		ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
		Wait(40)
		ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
		ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)	// 口
		Wait(20)
		
		LookChr("Dogi", "ADOL")
		ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

		// ドギ
		TalkPopup("Dogi", 0, 2, 0, 0, 0) {
			"#000e#080mへえ？　どうやら心配は"
			"いらなさそうだな。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//─────────────────────────

	ChangeAnimation( "Dogi", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"#000e#000mアドル、見つけた種を"
		"坊主に渡してやってくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Dogi", "Reja")
	
	LookChr("Reja", "Dogi")
	LookChr("ADOL", "Dogi")
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	
	// ドギ
	TalkPopup("Dogi", 0, 2, 0, 0, 0) {
		"坊主、後は任せたぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2( "Dogi" , -1, 1, "ANI_EV_TEBURI",  0)
	LookReset("Dogi")
	TurnTo("Dogi", -33.16f, -1424.33f, 28.39f, 8.0f)
	
	// 移動
	ExecuteCmd(1, MoveTo, "Dogi", -33.16f, -1424.33f, 28.39f, 0.1f, 0.18f)
	Wait(30)

	// レーヤ
	TalkPopup("Reja", 0, 1, 0, 0, 0) {
		"#000e#000mな、なな……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("Reja")
	ChangeAnimation( "Reja", "ANI_EV_GAKKARI_S", -1, 1 )	// がっかり
	
	// レーヤ
	TalkPopup("Reja", 0, 1, 0, 0, 0) {
		"なんでこうなるんだよお～っ！？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ドギが去っていきつつ暗転。

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	// ナレーション
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0){
		"#7Cその後、アドルはふて腐れるレーヤを宥めつつ"
		"#7C農場の設備を整えた。\p"
		"#7Cレーヤも次第に機嫌を直し……\p"
		"#7Cしぶしぶながらも"
		"#7C農場の仕事を始めたのだった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カットX -----------------------------------------------------------------------------------------

	//　　暗転明けで農場が耕されている状態。
	//　　畝の１つには初期野菜（パプリカ？）が植えられており
	//　　その前にアドルとレーヤが立っている。

	//　　※0506変更。入手するのは「種」なので、
	//　　　生えている状態にはしないで下さい。

	// 農場
	MapAnime("farm", "Lv1")
	MapHide("LODH_vegetable_mat4102", 0)
//	MapHide("mat4102_body", 1)
//	MapHide("mat4102_mi", 0)
	MapHide("LODH_vegetable_mat4101", 0)
	MapHide("LODH_vegetable_mat4103", 0)
	MapHide("LODH_vegetable_mat4104", 0)
	MapHide("LODH_vegetable_mat4105", 0)
	MapHide("LODH_vegetable_mat4106", 0)

	// 移動停止
	StopThread(1)
	
	// カメラ
	MoveCameraAt( 0 , -37.420f , -1412.601f , 31.638f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.454f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.710f , 0 )	// 基本仰角
	RotateCamera( 0 , 340.594f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL",-38.62f, -1413.36f, 29.56f)
	Turn("ADOL", -139.99f, 360.0f)
	SetChrPos("Reja", -37.28f, -1413.55f, 29.65f)
	Turn("Reja", -166.76f, 360.0f)
	SetChrPos("Picard", -39.50f, -1408.47f, 29.47f)
	Turn("Picard", -5.57f, 360.0f)
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "Reja", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("ADOL")
	LookReset("Reja")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -37.482f , -1412.638f , 30.938f , 90 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.974f , 90 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 5.002f , 90 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 332.572f , 90 )

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	ChangeAnimation( "Reja", "ANI_EV_BORI", -1, 1 )	// 頭かき

	// レーヤ
	TalkPopup("Reja", 0, 2, 0, 0, 0) {
		"#000e#000mどうにか種を植えてみたけどさ……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	WaitAnimation2("Reja", -1, 1, "ANI_EV_BORI", 0)
	LookChr("Reja", "ADOL")
	TurnToChr("Reja", "ADOL", 6.0f)
	
	LookChr("ADOL", "Reja")

	// レーヤ
	TalkPopup("Reja", 0, 2, 0, 0, 0) {
		"#050e#000mオレ、ゼンゼンわかんねーよ。"
		"これってどうやったら育つのさ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "毎日水遣りをすればいい")
	MenuAdd(2, "こまめに世話をすればいい")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)
	
	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(30)

	//　　レーヤに冷や汗エモーション
	EmotionEx("Reja", 0.1f, EMO_TARA, 0, 5, 1, 1, 1.0f )	// 「冷や汗」
	ChangeSubAnimation("Reja", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)	// 目
	Wait(45)
	
	//─────────────────────────
	//	⇒毎日水遣りをすればいい
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// レーヤ
		TalkPopup("Reja", 0, 2, 0, 0, 0) {
			"#060e#000mうう……わかったよ。"
			"やってみるってば。\p"
			"#062e#000mその代わり、アドル兄ちゃんも"
			"時々顔を出してくれよな。"
		}
		WaitPrompt()
		WaitCloseWindow()

	//	⇒こまめに世話をすればいい
	} else {

		// レーヤ
		TalkPopup("Reja", 0, 2, 0, 0, 0) {
			"#060e#000mうう……そういうのが"
			"サッパリなんだけど。\p"
			"#062e#000mまあいいや、アドル兄ちゃんも"
			"時々顔を出してくれよな。 "
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//─────────────────────────

	if (!FLAG[GF_05MP1201_IN_MEETING]) {	// ▽[M05S001][ドギたちに北部の状況を伝える]
	//	⇒第五部になっていない
	
		LookReset("Reja")
		ChangeAnimation( "Reja", "ANI_EV_HOHOKAKI", -1, 1 )	// 頬かき

		// レーヤ
		TalkPopup("Reja", 0, 2, 0, 0, 0) {
			"#000e#000m#020lその……さ。"
			"収穫も手伝ってくれると嬉しいっていうか。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookChr("Reja", "ADOL")
		
		// レーヤ
		TalkPopup("Reja", 0, 2, 0, 0, 0) {
			"#031e#000m#000lとにかく兄ちゃん、よろしくなっ！"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	} else {
	//	⇒第五部以降

		//	アドルうなずく。
		HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
		Wait(35)

		// ナレーション
		TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0) {
			"#7Cアドルは船造りも進んでいる事を話し、"
			"#7C希望を持つように説得した。"
		}
		WaitPrompt()
		WaitCloseWindow()

		//　　レーヤにＰＡエモーション
		EmotionEx("Reja", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
		ChangeSubAnimation("Reja",SUBMOT_EYE,ANI_E_SUP_S,1)
		Wait(35)

		// レーヤ
		TalkPopup("Reja", 0, 2, 0, 0, 0) {
			"#070e#000mそ、そうだったんだ。\p"
			"#072e#080m……分かったよ、そういう事なら"
			"オレもできるだけやってみるかな。"
		}
		WaitPrompt()
		WaitCloseWindow()

		//　　レーヤ、アドルに改まる。
		ChangeAnimation( "Reja", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

		// レーヤ
		TalkPopup("Reja", 0, 2, 0, 0, 0) {
			"#021e#080mへへ、兄ちゃん、色々ありがとな！\p"
			"これからもよろしくたのむぜ！"
		}
		WaitPrompt()
		WaitCloseWindow()
	
	}

//	// カメラ移動
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -38.002f , -1414.018f , 31.258f , 150 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.190f , 150 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 5.137f , 150 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 347.185f , 150 )
//
	//	アドルうなずいて暗転。
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	Wait(25)
	
	//	（１周目のみ）help_a40：農場

	//	操作許可を戻す。

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
//	// カメラ停止
//	StopThread(1000)
//	StopThread(1001)
//	StopThread(1002)
//	StopThread(1003)
	

	// チュートリアル =================================================================================
	if ( !FLAG[SF_2NDSTART] ) {		// 2周目判定
		
		//自動送り禁止
		ResetStopFlag(STOPFLAG_AUTOMESSAGE)
		Wait(10)

		// 擬似フェードアウト表示
		Portrait_Anime(0 ,PR_ANIME_SCALE, 30.0f, 17.0f, 0, 0, 0)
		Portrait_Anime(0 ,PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, 0)
		FadeIn(FADE_BLACK, 0)
		WaitFade()

		// ポートレート表示
		PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f, FADE_NORMAL)
		Wait(FADE_NORMAL)
		Message2(1, TOPIC_BUTTUN_X, TOPIC_BUTTUN_Y, "", "", "", "", "", "", "", "", "", "")		//ボタン入力可能を提示
		WaitPrompt()
		Portrait_Anime(1, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)	// チュートリアル背景
		Portrait_Anime(2, PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 0.0f, FADE_FAST)
		Wait(FADE_FAST)
		Portrait_Close(1)
		Portrait_Close(2)
		
		// 擬似フェードアウト削除
		FadeOut(FADE_BLACK, 0)
		WaitFade()
		Portrait_Close(0)

		//自動送り許可
		SetStopFlag(STOPFLAG_AUTOMESSAGE)
	
	}
	// ================================================================================================

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_Help_Farm_2_ED")
	
}
function "SubEV_Help_Farm_2_ED"
{
	//スキップ禁止
	SetSkipScript("")
	
	SetChrPos("Dogi", -100000.00f,0.00f,0.00f) 
	SetChrPos("Reja", -100000.00f,0.00f,0.00f) 
	SetChrPos("Picard", -100000.00f,0.00f,0.00f) 
	
	//イベント前のキャラ情報を復帰
	RestoreEventState()
	
	//隠したものを復帰
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))
	
	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Dogi")
	CallFunc("system:reset_chrmot_Reja")
	
	//パーティキャラを解放
	ReleaseEventPartyChr()
	
	//マップパラメーターリセット
	ResetMapParam( -1 )
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)
	
	// フラグ処理
	SetFlag( GF_HELP_A40, 1 )	// チュートリアル：農場
	SetFlag( GF_CAMP_FARM_LV, 1 )	// 農場レベル
	SetFlag( GF_CAMP_FARMFENCE_LV, 1 )	// 柵レベル

	// 現在の敵撃破数を保存
	SetFlag( GF_SPEEDRUN_FARM_NASUBI_KC, FLAG[SF_KILLMONSTER_COUNT] )
	SetFlag( GF_SPEEDRUN_FARM_PAPRIKA_KC, FLAG[SF_KILLMONSTER_COUNT] )
	SetFlag( GF_SPEEDRUN_FARM_CABBAGE_KC, FLAG[SF_KILLMONSTER_COUNT] )
	SetFlag( GF_SPEEDRUN_FARM_CORN_KC, FLAG[SF_KILLMONSTER_COUNT] )
	SetFlag( GF_SPEEDRUN_FARM_TOMATO_KC, FLAG[SF_KILLMONSTER_COUNT] )
	SetFlag( GF_SPEEDRUN_FARM_PUMPKIN_KC, FLAG[SF_KILLMONSTER_COUNT] )

	SetFlag( GF_SPEEDRUN_FARM_1ST_KC, FLAG[SF_KILLMONSTER_COUNT] )	// 初回用

	// アイテム消費
	UseItem(ICON3D_SEED_EGGPLANT, 1)	// ナスビの種
	
	CallFunc("mp1201:init")
	
	//イベント後の再配置
	SetChrPos("LEADER", -36.88f, -1418.83f, 29.47f )
	Turn("LEADER", -161.31f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用
	
	//カメラ位置復帰 or 初期位置設定
//	MoveCameraAt( 0 , 4.943f , -1418.988f , 18.413f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
//	RotateCamera( 0 , 138.011f , 0 )				// 角度
//	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	RestoreCamera(0,0)														//※イベント終了時のカメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")
	
	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
	
}

//===============================================================
//
// やり込み農場レーヤ：畑の状態制御（収穫可能数のチェック）
//
//	《野菜を３個生産するのに必要な敵撃破回数まとめ》
//	ピッカード	１体	デフォルト	
//				２体	２割減		
//				３体	４割減		

//　ナスビ					２０／１６／１２
//　パプリカ				２５／２０／１５
//　キャベツ				３０／２４／１８
//　シャインコーン			３５／２８／２１
//　クイーントマト			４０／３２／２４
//　キングパンプキン		４５／３６／２７

function "Speedrun_Reja_Check"
{
	//ピッカードの数をチェック
	SetFlag( TF_MENU_SELECT, 1 )	// ピッカードの数（デフォルト＝１）
	if( FLAG[GF_QUEST_401] >= QUEST_SUCCESS )		// 【QS401】新入りはいずこ（レーヤ）　クエストを達成した
	{
		SetFlag( TF_MENU_SELECT, (FLAG[TF_MENU_SELECT] + 1) )
	}
	if( FLAG[GF_SPEEDRUN_FARM_PICARD] )				// やり込み農場：ピッカードを渡した
	{
		SetFlag( TF_MENU_SELECT, (FLAG[TF_MENU_SELECT] + 1) )
	}

	SetFlag( TF_MENU_SELECT2, 0)
	
	//ナスビ				２０／１６／１２
	SetFlag( TF_MENU_SELECT2, ( FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_NASUBI_KC]) )	// 敵撃破数を取得
	
	// 種を植えて、一番最初に収穫するときは敵撃破数を調整（苗成長分）
	if ( FLAG[GF_SPEEDRUN_FARM_NASUBI_KC] == FLAG[GF_SPEEDRUN_FARM_1ST_KC] )
	{
		SetFlag(TF_MENU_SELECT2, ( FLAG[TF_MENU_SELECT2] - 20) )
	}
	
	//ピッカードの数に合わせた収穫数のチェック
	if( ( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 20 )||		// ピッカード１匹 && 撃破数0～19
		( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 16 )||		// ピッカード２匹 && 撃破数0～15
		( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 12 ) )		// ピッカード３匹 && 撃破数0～11
	{
		SetFlag( GF_SPEEDRUN_FARM_NASUBI_LV, 0 )	// やり込み農場：ナスビの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else if(( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 40 )||	// ピッカード１匹 && 撃破数～39
			( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 32 )||	// ピッカード２匹 && 撃破数～31
			( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 24 ) )	// ピッカード３匹 && 撃破数～23
	{
		SetFlag( GF_SPEEDRUN_FARM_NASUBI_LV, 1 )	// やり込み農場：ナスビの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else if(( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 60 )||	// ピッカード１匹 && 撃破数～59
			( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 48 )||	// ピッカード２匹 && 撃破数～47
			( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 36 ) )	// ピッカード３匹 && 撃破数～35
	{
		SetFlag( GF_SPEEDRUN_FARM_NASUBI_LV, 2 )	// やり込み農場：ナスビの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else
	{
		// ピッカード１匹 && 撃破数60以上
		// ピッカード２匹 && 撃破数48以上
		// ピッカード３匹 && 撃破数36以上
		SetFlag( GF_SPEEDRUN_FARM_NASUBI_LV, 3 )	// やり込み農場：ナスビの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	//──────────────────────
	//	⇒ナスビを植えてから、ナスビ用敵撃破回数が一度も２０を超えていない（最優先）
	if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_KC]) < 20 )
	{
		MapHide( "LODH_vegetable_mat4102", 0 )	// ナスビ全部
	}
	// 最初の種を渡していない（全体表示をしない）
//	else if( FLAG[GF_CAMP_FARM_LV] == 0 )		// 漂流村の発展設定：農場LV
	else if( !FLAG[GF_SUBEV_JOIN_REJA] )		// レーヤと合流した
	{
		MapHide( "LODH_vegetable_mat4102", 0 )	// ナスビ全部
	}
	//	⇒ナスビ用敵撃破回数＜２０
	else if( FLAG[GF_SPEEDRUN_FARM_NASUBI_LV] == 0 )
	{
		//	mat4102_body			：ナスビ_本体のみ	表示
		//	mat4102_mi				：ナスビ_実のみ		非表示
		MapHide( "mat4102_body", 1 )
		MapHide( "mat4102_mi", 0 )
	}
	// ⇒初回から撃破数40以内（まだ茎だけ）
	else if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_KC]) < 40 )
	{
		MapHide( "mat4102_body", 1 )
		MapHide( "mat4102_mi", 0 )
	}
	//	⇒ナスビ用敵撃破回数≧２０
	else
	{

		//	mat4102_body			：ナスビ_本体のみ	表示
		//	mat4102_mi				：ナスビ_実のみ		表示
		MapHide( "mat4102_body", 1 )
		MapHide( "mat4102_mi", 1 )
	}
	//──────────────────────

	//　パプリカ				２５／２０／１５
	SetFlag( TF_MENU_SELECT2, ( FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_PAPRIKA_KC]) )	// 敵撃破数を取得
	
	// 種を植えて、一番最初に収穫するときは敵撃破数を調整（苗成長分）
	if (FLAG[GF_SPEEDRUN_FARM_PAPRIKA_KC] == FLAG[GF_SPEEDRUN_FARM_1ST_PAPRIKA])
	{
		SetFlag(TF_MENU_SELECT2, ( FLAG[TF_MENU_SELECT2] - 25) )
	}
	
	//ピッカードの数に合わせた収穫数のチェック
	if( ( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 25 )||		// ピッカード１匹 && 撃破数0～24
		( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 20 )||		// ピッカード２匹 && 撃破数0～19
		( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 15 ) )		// ピッカード３匹 && 撃破数0～14
	{
		SetFlag( GF_SPEEDRUN_FARM_PAPRIKA_LV, 0 )	// やり込み農場：パプリカの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else if(( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 50 )||	// ピッカード１匹 && 撃破数～49
			( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 40 )||	// ピッカード２匹 && 撃破数～39
			( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 30 ) )	// ピッカード３匹 && 撃破数～29
	{
		SetFlag( GF_SPEEDRUN_FARM_PAPRIKA_LV, 1 )	// やり込み農場：パプリカの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else if(( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 75 )||	// ピッカード１匹 && 撃破数～74
			( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 60 )||	// ピッカード２匹 && 撃破数～59
			( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 45 ) )	// ピッカード３匹 && 撃破数～44
	{
		SetFlag( GF_SPEEDRUN_FARM_PAPRIKA_LV, 2 )	// やり込み農場：パプリカの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else
	{
		// ピッカード１匹 && 撃破数60以上
		// ピッカード２匹 && 撃破数48以上
		// ピッカード３匹 && 撃破数36以上
		SetFlag( GF_SPEEDRUN_FARM_PAPRIKA_LV, 3 )	// やり込み農場：パプリカの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	//──────────────────────
	//	⇒パプリカを植えてから、パプリカ用敵撃破回数が一度も２５を超えていない（最優先）
	if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_PAPRIKA]) < 25 )
	{
		MapHide( "LODH_vegetable_mat4101", 0 )	// パプリカ全部
	}
	// 種を渡していない（全体表示をしない）
	else if( !FLAG[GF_SPEEDRUN_FARM_PAPRIKA] )		// やり込み農場：パプリカの種を渡した
	{
		MapHide( "LODH_vegetable_mat4101", 0 )	// パプリカ全部
	}
	//	⇒パプリカ用敵撃破回数＜２０
	else if( FLAG[GF_SPEEDRUN_FARM_PAPRIKA_LV] == 0 )
	{
		//	mat4101_body			：パプリカ_本体のみ
		//	mat4101_mi				：パプリカ_実のみ
		MapHide( "mat4101_body", 1 )
		MapHide( "mat4101_mi", 0 )
	}
	// ⇒初回から撃破数50以内（まだ茎だけ）
	else if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_PAPRIKA]) < 50 )
	{
		MapHide( "mat4101_body", 1 )
		MapHide( "mat4101_mi", 0 )
	}
	//	⇒パプリカ用敵撃破回数≧２０
	else
	{
		MapHide( "mat4101_body", 1 )
		MapHide( "mat4101_mi", 1 )
	}
	//──────────────────────

	//　キャベツ				３０／２４／１８
	SetFlag( TF_MENU_SELECT2, ( FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_CABBAGE_KC]) )	// 敵撃破数を取得
	
	// 種を植えて、一番最初に収穫するときは敵撃破数を調整（苗成長分）
	if (FLAG[GF_SPEEDRUN_FARM_CABBAGE_KC] == FLAG[GF_SPEEDRUN_FARM_1ST_CABBAGE])
	{
		SetFlag(TF_MENU_SELECT2, ( FLAG[TF_MENU_SELECT2] - 30) )
	}
	
	//ピッカードの数に合わせた収穫数のチェック
	if( ( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 30 )||		// ピッカード１匹 && 撃破数0～29
		( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 24 )||		// ピッカード２匹 && 撃破数0～23
		( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 18 ) )		// ピッカード３匹 && 撃破数0～17
	{
		SetFlag( GF_SPEEDRUN_FARM_CABBAGE_LV, 0 )	// やり込み農場：キャベツの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else if(( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 60 )||	// ピッカード１匹 && 撃破数～59
			( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 48 )||	// ピッカード２匹 && 撃破数～47
			( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 36 ) )	// ピッカード３匹 && 撃破数～35
	{
		SetFlag( GF_SPEEDRUN_FARM_CABBAGE_LV, 1 )	// やり込み農場：キャベツの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else if(( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 90 )||	// ピッカード１匹 && 撃破数～89
			( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 72 )||	// ピッカード２匹 && 撃破数～71
			( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 54 ) )	// ピッカード３匹 && 撃破数～53
	{
		SetFlag( GF_SPEEDRUN_FARM_CABBAGE_LV, 2 )	// やり込み農場：キャベツの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else
	{
		// ピッカード１匹 && 撃破数75以上
		// ピッカード２匹 && 撃破数60以上
		// ピッカード３匹 && 撃破数45以上
		SetFlag( GF_SPEEDRUN_FARM_CABBAGE_LV, 3 )	// やり込み農場：キャベツの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	//──────────────────────
	//	⇒キャベツを植えてから、キャベツ用敵撃破回数が一度も30を超えていない（最優先）
	if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_CABBAGE]) < 30 )
	{
		MapHide( "LODH_vegetable_mat4103", 0 )	// キャベツ全部
	}
	// 種を渡していない（全体表示をしない）
	else if( !FLAG[GF_SPEEDRUN_FARM_CABBAGE] )		// やり込み農場：キャベツの種を渡した
	{
		MapHide( "LODH_vegetable_mat4103", 0 )	// キャベツ全部
	}
	//	⇒キャベツ用敵撃破回数＜２５
	else if( FLAG[GF_SPEEDRUN_FARM_CABBAGE_LV] == 0 )
	{
		//	mat4103_body			：キャベツ_本体のみ
		//	mat4103_mi				：キャベツ_実のみ
		MapHide( "mat4103_body", 1 )
		MapHide( "mat4103_mi", 0 )
	}
	// ⇒初回から撃破数60以内（まだ茎だけ）
	else if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_CABBAGE]) < 60 )
	{
		MapHide( "mat4103_body", 1 )
		MapHide( "mat4103_mi", 0 )
	}
	//	⇒キャベツ用敵撃破回数≧２５
	else
	{
		MapHide( "mat4103_body", 1 )
		MapHide( "mat4103_mi", 1 )
	}
	//──────────────────────

	//　シャインコーン			３５／２８／２１
	SetFlag( TF_MENU_SELECT2, ( FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_CORN_KC]) )	// 敵撃破数を取得
	
	// 種を植えて、一番最初に収穫するときは敵撃破数を調整（苗成長分）
	if (FLAG[GF_SPEEDRUN_FARM_CORN_KC] == FLAG[GF_SPEEDRUN_FARM_1ST_CORN])
	{
		SetFlag(TF_MENU_SELECT2, ( FLAG[TF_MENU_SELECT2] - 35) )
	}
	
	//ピッカードの数に合わせた収穫数のチェック
	if( ( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 35 )||		// ピッカード１匹 && 撃破数0～34
		( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 28 )||		// ピッカード２匹 && 撃破数0～27
		( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 21 ) )		// ピッカード３匹 && 撃破数0～20
	{
		SetFlag( GF_SPEEDRUN_FARM_CORN_LV, 0 )	// やり込み農場：コーンの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else if(( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 70 )||	// ピッカード１匹 && 撃破数～69
			( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 56 )||	// ピッカード２匹 && 撃破数～55
			( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 42 ) )	// ピッカード３匹 && 撃破数～41
	{
		SetFlag( GF_SPEEDRUN_FARM_CORN_LV, 1 )	// やり込み農場：コーンの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else if(( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 105 )||	// ピッカード１匹 && 撃破数～104
			( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 84 )||	// ピッカード２匹 && 撃破数～83
			( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 63 ) )	// ピッカード３匹 && 撃破数～62
	{
		SetFlag( GF_SPEEDRUN_FARM_CORN_LV, 2 )	// やり込み農場：コーンの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else
	{
		// ピッカード１匹 && 撃破数90以上
		// ピッカード２匹 && 撃破数72以上
		// ピッカード３匹 && 撃破数54以上
		SetFlag( GF_SPEEDRUN_FARM_CORN_LV, 3 )	// やり込み農場：コーンの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	//──────────────────────
	//	⇒コーンを植えてから、コーン用敵撃破回数が一度も35を超えていない（最優先）
	if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_CORN]) < 35 )
	{
		MapHide( "LODH_vegetable_mat4104", 0 )	// コーン全部
	}
	// 種を渡していない（全体表示をしない）
	else if( !FLAG[GF_SPEEDRUN_FARM_CORN] )		// やり込み農場：コーンの種を渡した
	{
		MapHide( "LODH_vegetable_mat4104", 0 )	// コーン全部
	}
	//	⇒コーン用敵撃破回数＜３０
	else if( FLAG[GF_SPEEDRUN_FARM_CORN_LV] == 0 )
	{
		//	mat4104_body			：コーン_本体のみ
		//	mat4104_mi				：コーン_実のみ
		MapHide( "mat4104_body", 1 )
		MapHide( "mat4104_mi", 0 )
	}
	// ⇒初回から撃破数70以内（まだ茎だけ）
	else if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_CORN]) < 70 )
	{
		MapHide( "mat4104_body", 1 )
		MapHide( "mat4104_mi", 0 )
	}
	//	⇒コーン用敵撃破回数≧３０
	else
	{
		MapHide( "mat4104_body", 1 )
		MapHide( "mat4104_mi", 1 )
	}
	//──────────────────────

	//　クイーントマト			４０／３２／２４
	SetFlag( TF_MENU_SELECT2, ( FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_TOMATO_KC]) )	// 敵撃破数を取得
	
	// 種を植えて、一番最初に収穫するときは敵撃破数を調整（苗成長分）
	if (FLAG[GF_SPEEDRUN_FARM_TOMATO_KC] == FLAG[GF_SPEEDRUN_FARM_1ST_TOMATO])
	{
		SetFlag(TF_MENU_SELECT2, ( FLAG[TF_MENU_SELECT2] - 40) )
	}
	
	//ピッカードの数に合わせた収穫数のチェック
	if( ( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 40 )||		// ピッカード１匹 && 撃破数0～39
		( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 32 )||		// ピッカード２匹 && 撃破数0～31
		( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 24 ) )		// ピッカード３匹 && 撃破数0～23
	{
		SetFlag( GF_SPEEDRUN_FARM_TOMATO_LV, 0 )	// やり込み農場：トマトの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else if(( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 80 )||	// ピッカード１匹 && 撃破数～79
			( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 64 )||	// ピッカード２匹 && 撃破数～63
			( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 48 ) )	// ピッカード３匹 && 撃破数～47
	{
		SetFlag( GF_SPEEDRUN_FARM_TOMATO_LV, 1 )	// やり込み農場：トマトの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else if(( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 120 )||	// ピッカード１匹 && 撃破数～119
			( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 96 )||	// ピッカード２匹 && 撃破数～95
			( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 72 ) )	// ピッカード３匹 && 撃破数～71
	{
		SetFlag( GF_SPEEDRUN_FARM_TOMATO_LV, 2 )	// やり込み農場：トマトの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else
	{
		// ピッカード１匹 && 撃破数105以上
		// ピッカード２匹 && 撃破数84以上
		// ピッカード３匹 && 撃破数63以上
		SetFlag( GF_SPEEDRUN_FARM_TOMATO_LV, 3 )	// やり込み農場：トマトの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	//──────────────────────
	//	⇒トマトを植えてから、トマト用敵撃破回数が一度も40を超えていない（最優先）
	if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_TOMATO]) < 40 )
	{
		MapHide( "LODH_vegetable_mat4105", 0 )	// トマト全部
	}
	// 種を渡していない（全体表示をしない）
	else if( !FLAG[GF_SPEEDRUN_FARM_TOMATO] )		// やり込み農場：トマトの種を渡した
	{
		MapHide( "LODH_vegetable_mat4105", 0 )	// トマト全部
	}
	//	⇒トマト用敵撃破回数＜３５
	else if( FLAG[GF_SPEEDRUN_FARM_TOMATO_LV] == 0 )
	{
		//	mat4105_body			：トマト_本体のみ
		//	mat4105_mi				：トマト_実のみ
		MapHide( "mat4105_body", 1 )
		MapHide( "mat4105_mi", 0 )
	}
	// ⇒初回から撃破数80以内（まだ茎だけ）
	else if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_TOMATO]) < 80 )
	{
		MapHide( "mat4105_body", 1 )
		MapHide( "mat4105_mi", 0 )
	}
	//	⇒トマト用敵撃破回数≧３５
	else
	{
		MapHide( "mat4105_body", 1 )
		MapHide( "mat4105_mi", 1 )
	}
	//──────────────────────

	//　キングパンプキン		４５／３６／２７
	SetFlag( TF_MENU_SELECT2, ( FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_PUMPKIN_KC]) )	// 敵撃破数を取得
	
	// 種を植えて、一番最初に収穫するときは敵撃破数を調整（苗成長分）
	if (FLAG[GF_SPEEDRUN_FARM_PUMPKIN_KC] == FLAG[GF_SPEEDRUN_FARM_1ST_PUMPKIN])
	{
		SetFlag(TF_MENU_SELECT2, ( FLAG[TF_MENU_SELECT2] - 45) )
	}
	
	//ピッカードの数に合わせた収穫数のチェック
	if( ( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 45 )||		// ピッカード１匹 && 撃破数0～44
		( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 36 )||		// ピッカード２匹 && 撃破数0～35
		( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 27 ) )		// ピッカード３匹 && 撃破数0～26
	{
		SetFlag( GF_SPEEDRUN_FARM_PUMPKIN_LV, 0 )	// やり込み農場：パンプキンの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else if(( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 90 )||	// ピッカード１匹 && 撃破数～89
			( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 72 )||	// ピッカード２匹 && 撃破数～71
			( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 54 ) )	// ピッカード３匹 && 撃破数～53
	{
		SetFlag( GF_SPEEDRUN_FARM_PUMPKIN_LV, 1 )	// やり込み農場：パンプキンの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else if(( FLAG[TF_MENU_SELECT] == 1 && FLAG[TF_MENU_SELECT2] < 135 )||	// ピッカード１匹 && 撃破数～134
			( FLAG[TF_MENU_SELECT] == 2 && FLAG[TF_MENU_SELECT2] < 108 )||	// ピッカード２匹 && 撃破数～107
			( FLAG[TF_MENU_SELECT] == 3 && FLAG[TF_MENU_SELECT2] < 81 ) )	// ピッカード３匹 && 撃破数～80
	{
		SetFlag( GF_SPEEDRUN_FARM_PUMPKIN_LV, 2 )	// やり込み農場：パンプキンの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	else
	{
		// ピッカード１匹 && 撃破数120以上
		// ピッカード２匹 && 撃破数96以上
		// ピッカード３匹 && 撃破数72以上
		SetFlag( GF_SPEEDRUN_FARM_PUMPKIN_LV, 3 )	// やり込み農場：パンプキンの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	}
	//──────────────────────
	//	⇒パンプキンを植えてから、パンプキン用敵撃破回数が一度も45を超えていない（最優先）
	if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_PUMPKIN]) < 45 )
	{
		MapHide( "LODH_vegetable_mat4106", 0 )	// パンプキン全部
	}
	// 種を渡していない（全体表示をしない）
	else if( !FLAG[GF_SPEEDRUN_FARM_PUMPKIN] )		// やり込み農場：パンプキンの種を渡した
	{
		MapHide( "LODH_vegetable_mat4106", 0 )	// パンプキン全部
	}
	//	⇒パンプキン用敵撃破回数＜４０
	else if( FLAG[GF_SPEEDRUN_FARM_PUMPKIN_LV] == 0 )
	{
		//	mat4106_body			：パンプキン_本体のみ
		//	mat4106_mi				：パンプキン_実のみ
		MapHide( "mat4106_body", 1 )
		MapHide( "mat4106_mi", 0 )
	}
	// ⇒初回から撃破数90以内（まだ茎だけ）
	else if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_PUMPKIN]) < 90 )
	{
		MapHide( "mat4106_body", 1 )
		MapHide( "mat4106_mi", 0 )
	}
	//	⇒パンプキン用敵撃破回数≧４０
	else
	{
		MapHide( "mat4106_body", 1 )
		MapHide( "mat4106_mi", 1 )
	}
	//──────────────────────
}
//===============================================================
//
// やり込み農場レーヤ：ＬＰ処理
//
//▼農場の処理・ナスビ
function "Speedrun_Reja_Nasubi"
{
	//　　畑のナスビのＬＰを調べると以下の処理。

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	SetChrInfoFlag( "Reja" , INFOFLAG_FIXED )
	SetChrInfoFlag( "Kuina" , INFOFLAG_FIXED )

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	TurnToChr( LEADER , this , 7.5f )
	Wait(10)

	//──────────────────────
	//	⇒ナスビを植えてから、ナスビ用敵撃破回数が一度も２０を超えていない（最優先）
	if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_KC]) < 20 )
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだナスビは芽を出していないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	// ⇒初回から撃破数40以内（まだ茎だけ）
	else if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_KC]) < 40 )
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだナスビは実を付けていないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒収穫不可能
	else if( FLAG[GF_SPEEDRUN_FARM_NASUBI_LV] == 0 )		// やり込み農場：ナスビの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだナスビは実を付けていないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒収穫可能
	else
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7C畑にナスビがなっている。"
			"#7C収穫しますか？"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		//──────────────────────
		//	⇒ナスビ用敵撃破回数≧６０
		if( FLAG[GF_SPEEDRUN_FARM_NASUBI_LV] == 3 )		// やり込み農場：ナスビの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"ナスビを収穫する（×９）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
			//Wait(20)
			
			//	⇒ナスビを収穫する（×９）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_EGGPLANT, 9)		//ナスビ
				GetItemMessageExPlus(ICON3D_FD_VG_EGGPLANT, 9, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//ナスビ
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//	⇒ナスビ用敵撃破回数≧４０
		else if( FLAG[GF_SPEEDRUN_FARM_NASUBI_LV] == 2 )		// やり込み農場：ナスビの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"ナスビを収穫する（×６）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
			Wait(20)
			
			//	⇒ナスビを収穫する（×６）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_EGGPLANT, 6)		//ナスビ
				GetItemMessageExPlus(ICON3D_FD_VG_EGGPLANT, 6, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//ナスビ
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//	⇒ナスビ用敵撃破回数≧２０
		else if( FLAG[GF_SPEEDRUN_FARM_NASUBI_LV] == 1 )		// やり込み農場：ナスビの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"ナスビを収穫する（×３）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
			Wait(20)
			
			//	⇒ナスビを収穫する（×３）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_EGGPLANT, 3)		//ナスビ
				GetItemMessageExPlus(ICON3D_FD_VG_EGGPLANT, 3, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//ナスビ
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//──────────────────────
		
		//　　収穫すると、ナスビ用敵撃破回数を０にリセットし、
		//　　実のノードを非表示にする。
		if (FLAG[TF_MENU_SELECT] == 1)
		{
//			SetFlag( GF_SPEEDRUN_FARM_NASUBI_KC, 0 )	// やり込み農場：ナスビ用敵撃破回数
			SetFlag( GF_SPEEDRUN_FARM_NASUBI_KC, FLAG[SF_KILLMONSTER_COUNT] )
			CallFunc("mp1201:Speedrun_Reja_Check")
		}
	}
//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	ResetChrInfoFlag( "Reja" , INFOFLAG_FIXED )
	ResetChrInfoFlag( "Kuina" , INFOFLAG_FIXED )

	//イベント後の再配置
//	SetChrPos("LEADER",0.00f,0.00f,0.00f)
//	Turn("LEADER",0.00f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}
//▼農場の処理・パプリカ
function "Speedrun_Reja_Paprika"
{
	//　　畑のパプリカのＬＰを調べると以下の処理。

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	SetChrInfoFlag( "Reja" , INFOFLAG_FIXED )
	SetChrInfoFlag( "Kuina" , INFOFLAG_FIXED )

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	TurnToChr( LEADER , this , 7.5f )
	Wait(10)

	//──────────────────────
	//	⇒パプリカを植えてから、パプリカ用敵撃破回数が一度も25を超えていない（最優先）
	if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_PAPRIKA]) < 25 )
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだパプリカは芽を出していないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	// ⇒初回から撃破数50以内（まだ茎だけ）
	else if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_PAPRIKA]) < 50 )
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだパプリカは実を付けていないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒収穫不可能
	else if( FLAG[GF_SPEEDRUN_FARM_PAPRIKA_LV] == 0 )		// やり込み農場：パプリカの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだパプリカは実を付けていないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒収穫可能
	else
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7C畑にパプリカがなっている。"
			"#7C収穫しますか？"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		//──────────────────────
		//	⇒パプリカ用敵撃破回数≧６０
		if( FLAG[GF_SPEEDRUN_FARM_PAPRIKA_LV] == 3 )		// やり込み農場：パプリカの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"パプリカを収穫する（×９）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
			Wait(20)
			
			//	⇒パプリカを収穫する（×９）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_PAPRIKA, 9)		//パプリカ
				GetItemMessageExPlus(ICON3D_FD_VG_PAPRIKA, 9, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//パプリカ
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//	⇒パプリカ用敵撃破回数≧４０
		else if( FLAG[GF_SPEEDRUN_FARM_PAPRIKA_LV] == 2 )		// やり込み農場：パプリカの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"パプリカを収穫する（×６）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
			Wait(20)
			
			//	⇒パプリカを収穫する（×６）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_PAPRIKA, 6)		//パプリカ
				GetItemMessageExPlus(ICON3D_FD_VG_PAPRIKA, 6, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//パプリカ
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//	⇒パプリカ用敵撃破回数≧２０
		else if( FLAG[GF_SPEEDRUN_FARM_PAPRIKA_LV] == 1 )		// やり込み農場：パプリカの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"パプリカを収穫する（×３）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
			Wait(20)
			
			//	⇒パプリカを収穫する（×３）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_PAPRIKA, 3)		//パプリカ
				GetItemMessageExPlus(ICON3D_FD_VG_PAPRIKA, 3, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//パプリカ
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//──────────────────────
		
		//　　収穫すると、パプリカ用敵撃破回数を０にリセットし、
		//　　実のノードを非表示にする。
		if (FLAG[TF_MENU_SELECT] == 1)
		{
//			SetFlag( GF_SPEEDRUN_FARM_PAPRIKA_KC, 0 )	// やり込み農場：パプリカ用敵撃破回数
			SetFlag( GF_SPEEDRUN_FARM_PAPRIKA_KC, FLAG[SF_KILLMONSTER_COUNT] )
			CallFunc("mp1201:Speedrun_Reja_Check")
		}
	}
//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	ResetChrInfoFlag( "Reja" , INFOFLAG_FIXED )
	ResetChrInfoFlag( "Kuina" , INFOFLAG_FIXED )

	//イベント後の再配置
//	SetChrPos("LEADER",0.00f,0.00f,0.00f)
//	Turn("LEADER",0.00f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}
//▼農場の処理・キャベツ
function "Speedrun_Reja_Cabbage"
{
	//　　畑のキャベツのＬＰを調べると以下の処理。

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	SetChrInfoFlag( "Reja" , INFOFLAG_FIXED )
	SetChrInfoFlag( "Kuina" , INFOFLAG_FIXED )

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	TurnToChr( LEADER , this , 7.5f )
	Wait(10)

	//──────────────────────
	//	⇒キャベツを植えてから、キャベツ用敵撃破回数が一度も30を超えていない（最優先）
	if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_CABBAGE]) < 30 )
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだキャベツは芽を出していないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	// ⇒初回から撃破数60以内（まだ茎だけ）
	else if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_CABBAGE]) < 60 )
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだキャベツは実を付けていないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒収穫不可能
	else if( FLAG[GF_SPEEDRUN_FARM_CABBAGE_LV] == 0 )		// やり込み農場：キャベツの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだキャベツは実を付けていないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒収穫可能
	else
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7C畑にキャベツがなっている。"
			"#7C収穫しますか？"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		//──────────────────────
		//	⇒キャベツ用敵撃破回数≧６０
		if( FLAG[GF_SPEEDRUN_FARM_CABBAGE_LV] == 3 )		// やり込み農場：キャベツの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"キャベツを収穫する（×９）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
			Wait(20)
			
			//	⇒キャベツを収穫する（×９）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_CABBAGE, 9)		//キャベツ
				GetItemMessageExPlus(ICON3D_FD_VG_CABBAGE, 9, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//キャベツ
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//	⇒キャベツ用敵撃破回数≧４０
		else if( FLAG[GF_SPEEDRUN_FARM_CABBAGE_LV] == 2 )		// やり込み農場：キャベツの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"キャベツを収穫する（×６）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
			Wait(20)
			
			//	⇒キャベツを収穫する（×６）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_CABBAGE, 6)		//キャベツ
				GetItemMessageExPlus(ICON3D_FD_VG_CABBAGE, 6, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//キャベツ
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//	⇒キャベツ用敵撃破回数≧２０
		else if( FLAG[GF_SPEEDRUN_FARM_CABBAGE_LV] == 1 )		// やり込み農場：キャベツの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"キャベツを収穫する（×３）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
			Wait(20)
			
			//	⇒キャベツを収穫する（×３）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_CABBAGE, 3)		//キャベツ
				GetItemMessageExPlus(ICON3D_FD_VG_CABBAGE, 3, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//キャベツ
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//──────────────────────
		
		//　　収穫すると、キャベツ用敵撃破回数を０にリセットし、
		//　　実のノードを非表示にする。
		if (FLAG[TF_MENU_SELECT] == 1)
		{
//			SetFlag( GF_SPEEDRUN_FARM_CABBAGE_KC, 0 )	// やり込み農場：キャベツ用敵撃破回数
			SetFlag( GF_SPEEDRUN_FARM_CABBAGE_KC, FLAG[SF_KILLMONSTER_COUNT] )
			CallFunc("mp1201:Speedrun_Reja_Check")
		}
	}
//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	ResetChrInfoFlag( "Reja" , INFOFLAG_FIXED )
	ResetChrInfoFlag( "Kuina" , INFOFLAG_FIXED )

	//イベント後の再配置
//	SetChrPos("LEADER",0.00f,0.00f,0.00f)
//	Turn("LEADER",0.00f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}
//▼農場の処理・コーン
function "Speedrun_Reja_Corn"
{
	//　　畑のコーンのＬＰを調べると以下の処理。

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	SetChrInfoFlag( "Reja" , INFOFLAG_FIXED )
	SetChrInfoFlag( "Kuina" , INFOFLAG_FIXED )

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	TurnToChr( LEADER , this , 7.5f )
	Wait(10)

	//──────────────────────
	//	⇒コーンを植えてから、コーン用敵撃破回数が一度も35を超えていない（最優先）
	if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_CORN]) < 35 )
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだコーンは芽を出していないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	// ⇒初回から撃破数60以内（まだ茎だけ）
	else if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_CORN]) < 70 )
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだコーンは実を付けていないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒収穫不可能
	else if( FLAG[GF_SPEEDRUN_FARM_CORN_LV] == 0 )		// やり込み農場：コーンの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだコーンは実を付けていないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒収穫可能
	else
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7C畑にコーンがなっている。"
			"#7C収穫しますか？"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		//──────────────────────
		//	⇒コーン用敵撃破回数≧６０
		if( FLAG[GF_SPEEDRUN_FARM_CORN_LV] == 3 )		// やり込み農場：コーンの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"コーンを収穫する（×９）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
			Wait(20)
			
			//	⇒コーンを収穫する（×９）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_CORN, 9)		//コーン
				GetItemMessageExPlus(ICON3D_FD_VG_CORN, 9, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//コーン
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//	⇒コーン用敵撃破回数≧４０
		else if( FLAG[GF_SPEEDRUN_FARM_CORN_LV] == 2 )		// やり込み農場：コーンの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"コーンを収穫する（×６）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
			Wait(20)
			
			//	⇒コーンを収穫する（×６）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_CORN, 6)		//コーン
				GetItemMessageExPlus(ICON3D_FD_VG_CORN, 6, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//コーン
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//	⇒コーン用敵撃破回数≧２０
		else if( FLAG[GF_SPEEDRUN_FARM_CORN_LV] == 1 )		// やり込み農場：コーンの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"コーンを収穫する（×３）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
			//Wait(20)
			
			//	⇒コーンを収穫する（×３）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_CORN, 3)		//コーン
				GetItemMessageExPlus(ICON3D_FD_VG_CORN, 3, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//コーン
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//──────────────────────
		
		//　　収穫すると、コーン用敵撃破回数を０にリセットし、
		//　　実のノードを非表示にする。
		if (FLAG[TF_MENU_SELECT] == 1)
		{
//			SetFlag( GF_SPEEDRUN_FARM_CORN_KC, 0 )	// やり込み農場：コーン用敵撃破回数
			SetFlag( GF_SPEEDRUN_FARM_CORN_KC, FLAG[SF_KILLMONSTER_COUNT] )
			CallFunc("mp1201:Speedrun_Reja_Check")
		}
	}
//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	ResetChrInfoFlag( "Reja" , INFOFLAG_FIXED )
	ResetChrInfoFlag( "Kuina" , INFOFLAG_FIXED )

	//イベント後の再配置
//	SetChrPos("LEADER",0.00f,0.00f,0.00f)
//	Turn("LEADER",0.00f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}
//▼農場の処理・トマト
function "Speedrun_Reja_Tomato"
{
	//　　畑のトマトのＬＰを調べると以下の処理。

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	SetChrInfoFlag( "Reja" , INFOFLAG_FIXED )
	SetChrInfoFlag( "Kuina" , INFOFLAG_FIXED )

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	TurnToChr( LEADER , this , 7.5f )
	Wait(10)

	//──────────────────────
	//	⇒トマトを植えてから、トマト用敵撃破回数が一度も40を超えていない（最優先）
	if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_TOMATO]) < 40 )
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだトマトは芽を出していないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	// ⇒初回から撃破数80以内（まだ茎だけ）
	else if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_TOMATO]) < 80 )
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだトマトは実を付けていないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒収穫不可能
	else if( FLAG[GF_SPEEDRUN_FARM_TOMATO_LV] == 0 )		// やり込み農場：トマトの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだトマトは実を付けていないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒収穫可能
	else
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7C畑にトマトがなっている。"
			"#7C収穫しますか？"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		//──────────────────────
		//	⇒トマト用敵撃破回数≧６０
		if( FLAG[GF_SPEEDRUN_FARM_TOMATO_LV] == 3 )		// やり込み農場：トマトの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"トマトを収穫する（×９）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
			//Wait(20)
			
			//	⇒トマトを収穫する（×９）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_TOMATO, 9)		//トマト
				GetItemMessageExPlus(ICON3D_FD_VG_TOMATO, 9, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//トマト
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//	⇒トマト用敵撃破回数≧４０
		else if( FLAG[GF_SPEEDRUN_FARM_TOMATO_LV] == 2 )		// やり込み農場：トマトの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"トマトを収穫する（×６）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
//			Wait(20)
			
			//	⇒トマトを収穫する（×６）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_TOMATO, 6)		//トマト
				GetItemMessageExPlus(ICON3D_FD_VG_TOMATO, 6, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//トマト
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//	⇒トマト用敵撃破回数≧２０
		else if( FLAG[GF_SPEEDRUN_FARM_TOMATO_LV] == 1 )		// やり込み農場：トマトの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"トマトを収穫する（×３）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
//			Wait(20)
			
			//	⇒トマトを収穫する（×３）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_TOMATO, 3)		//トマト
				GetItemMessageExPlus(ICON3D_FD_VG_TOMATO, 3, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//トマト
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//──────────────────────
		
		//　　収穫すると、トマト用敵撃破回数を０にリセットし、
		//　　実のノードを非表示にする。
		if (FLAG[TF_MENU_SELECT] == 1)
		{
//			SetFlag( GF_SPEEDRUN_FARM_TOMATO_KC, 0 )	// やり込み農場：トマト用敵撃破回数
			SetFlag( GF_SPEEDRUN_FARM_TOMATO_KC, FLAG[SF_KILLMONSTER_COUNT] )
			CallFunc("mp1201:Speedrun_Reja_Check")
		}
	}
//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	ResetChrInfoFlag( "Reja" , INFOFLAG_FIXED )
	ResetChrInfoFlag( "Kuina" , INFOFLAG_FIXED )

	//イベント後の再配置
//	SetChrPos("LEADER",0.00f,0.00f,0.00f)
//	Turn("LEADER",0.00f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}
//▼農場の処理・パンプキン
function "Speedrun_Reja_Pumpkin"
{
	//　　畑のパンプキンのＬＰを調べると以下の処理。

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	SetChrInfoFlag( "Reja" , INFOFLAG_FIXED )
	SetChrInfoFlag( "Kuina" , INFOFLAG_FIXED )

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	TurnToChr( LEADER , this , 7.5f )
	Wait(10)

	//──────────────────────
	//	⇒パンプキンを植えてから、パンプキン用敵撃破回数が一度も45を超えていない（最優先）
	if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_PUMPKIN]) < 45 )
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだパンプキンは芽を出していないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	// ⇒初回から撃破数60以内（まだ茎だけ）
	else if ( (FLAG[SF_KILLMONSTER_COUNT] - FLAG[GF_SPEEDRUN_FARM_1ST_PUMPKIN]) < 90 )
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだパンプキンは実を付けていないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒収穫不可能
	else if( FLAG[GF_SPEEDRUN_FARM_PUMPKIN_LV] == 0 )		// やり込み農場：パンプキンの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまだパンプキンは実を付けていないようだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒収穫可能
	else
	{
		//	ナレーション
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7C畑にパンプキンがなっている。"
			"#7C収穫しますか？"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		//──────────────────────
		//	⇒パンプキン用敵撃破回数≧６０
		if( FLAG[GF_SPEEDRUN_FARM_PUMPKIN_LV] == 3 )		// やり込み農場：パンプキンの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"パンプキンを収穫する（×９）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
//			Wait(20)
			
			//	⇒パンプキンを収穫する（×９）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_PUMPKIN, 9)		//パンプキン
				GetItemMessageExPlus(ICON3D_FD_VG_PUMPKIN, 9, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//パンプキン
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//	⇒パンプキン用敵撃破回数≧４０
		else if( FLAG[GF_SPEEDRUN_FARM_PUMPKIN_LV] == 2 )		// やり込み農場：パンプキンの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"パンプキンを収穫する（×６）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
//			Wait(20)
			
			//	⇒パンプキンを収穫する（×６）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_PUMPKIN, 6)		//パンプキン
				GetItemMessageExPlus(ICON3D_FD_VG_PUMPKIN, 6, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//パンプキン
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//	⇒パンプキン用敵撃破回数≧２０
		else if( FLAG[GF_SPEEDRUN_FARM_PUMPKIN_LV] == 1 )		// やり込み農場：パンプキンの収穫可能数（0:収穫不可、1:３個、2:６個、3:９個）
		{
			//選択肢
			SetFlag(TF_MENU_SELECT,0)
			MenuReset()
			MenuType(MENUTYPE_POPUP)
			MenuAdd(1,"パンプキンを収穫する（×３）")
			MenuAdd(2,"やめる")
			MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
			WaitMenu(0)
			MenuClose(10,0)
//			Wait(20)
			
			//	⇒パンプキンを収穫する（×３）
			if (FLAG[TF_MENU_SELECT] == 1)
			{
				//	アイテム入手テキスト
				GetItem(ICON3D_FD_VG_PUMPKIN, 3)		//パンプキン
				GetItemMessageExPlus(ICON3D_FD_VG_PUMPKIN, 3, ITEMMSG_SE_BETTER, "を収穫した。", 0, 0)	//パンプキン
				WaitPrompt()
				WaitCloseWindow()
			}
		}
		//──────────────────────
		
		//　　収穫すると、パンプキン用敵撃破回数を０にリセットし、
		//　　実のノードを非表示にする。
		if (FLAG[TF_MENU_SELECT] == 1)
		{
//			SetFlag( GF_SPEEDRUN_FARM_PUMPKIN_KC, 0 )	// やり込み農場：パンプキン用敵撃破回数
			SetFlag( GF_SPEEDRUN_FARM_PUMPKIN_KC, FLAG[SF_KILLMONSTER_COUNT] )
			CallFunc("mp1201:Speedrun_Reja_Check")
		}
	}
//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	ResetChrInfoFlag( "Reja" , INFOFLAG_FIXED )
	ResetChrInfoFlag( "Kuina" , INFOFLAG_FIXED )

	//イベント後の再配置
//	SetChrPos("LEADER",0.00f,0.00f,0.00f)
//	Turn("LEADER",0.00f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}
//===============================================================

//===============================================================
//
// やり込み農場レーヤ：入口で再配置
//
function "Speedrun_Reja_Relocate"
{
	//　　画面フェードインして、農場の入口付近で操作許可。

	CallFunc("system:event_begin_fast")

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",-28.16f,-1424.08f,28.04f)
	Turn("LEADER",155.22f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt( 0 , -28.156f , -1424.080f , 29.903f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.000f , 0 )	// 基本仰角
	RotateCamera( 0 , 24.782f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//RestoreCamera(0,0)														//※イベント終了時のカメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
}

function "Speedrun_No_Farm"
{
//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	SetChrInfoFlag( "Reja" , INFOFLAG_FIXED )
	SetChrInfoFlag( "Kuina" , INFOFLAG_FIXED )

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	TurnToChr( LEADER , this , 7.5f )
	Wait(10)

	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7C野菜は全て収穫済みだ。"
	}
	WaitPrompt()
	WaitCloseWindow()


//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	ResetChrInfoFlag( "Reja" , INFOFLAG_FIXED )
	ResetChrInfoFlag( "Kuina" , INFOFLAG_FIXED )

	//イベント後の再配置
//	SetChrPos("LEADER",0.00f,0.00f,0.00f)
//	Turn("LEADER",0.00f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}



////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//■親愛イベントセクション

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//===============================================================
// カシュー：▼親愛イベント
function "Sinai_Kashu"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Kashu")
	LoadChr("ev_eq4018")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Kashu" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Kashu" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Kashu" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Kashu", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",-76.19f, -1457.20f, 31.33f)
	Turn("ADOL",43.56f,360.0f)
	LookReset("ADOL")
	SetChrPos("Kashu",-76.30f, -1458.37f, 31.32f)
	Turn("Kashu",46.19f,360.0f)
	LookReset("Kashu")

	SetChrPos("ev_eq4018",-80.99f, -1462.15f, 32.77f)	// バルバロスの帽子
	Turn("ev_eq4018", -95.77f, 360.0f)
	PitchChr("ev_eq4018", -35.0f,0)
	
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Kashu",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kashu",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Kashu",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Kashu" , "ANI_WAIT", -1 , 1 )

	MoveCameraAt( 0 , -76.984f , -1459.994f , 33.272f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.240f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.669f , 0 )	// 基本仰角
	RotateCamera( 0 , 86.251f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Kashu_ED")

//開始処理ここまで-----------------------------------------------


	//　　暗転を挟んで字幕イベント。
	//　　バルバロスの墓の前にカシューとアドルが歩いてくる。

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------

	StopBGM(150)
	LookTo("Kashu", -80.896f , -1461.832f , 31.992f)	// 座標：墓標
	LookTo("ADOL", -80.896f , -1461.832f , 31.992f)	// 座標：墓標

	// 移動
	ExecuteCmd(1, MoveTo, "Kashu", -78.88f, -1460.60f, 31.32f, 0.1f, 0.175f)
	Wait(5)
	ExecuteCmd(2, MoveTo, "ADOL", -79.11f, -1459.53f, 31.33f, 0.1f, 0.175f)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -77.933f , -1460.714f , 32.632f, 105 )

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// 移動待ち
	WaitThread(1)
	WaitThread(2)

	// カメラ待ち
	WaitThread(1000)

	// カット2 ----------------------------------------------------------------------------------------

	PlayBGM(BGM_TOWN_501, 0)
	FadeBGM(70,0)

	//　　墓を眺めている状態でカシューが切り出す。

	// クロスフェード
	CrossFade(FADE_NORMAL)

	// カメラ
	MoveCameraAt( 0 , -79.054f , -1460.515f , 32.852f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.039f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.796f , 0 )	// 基本仰角
	RotateCamera( 0 , 14.632f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 7.4f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 345.985f , 450 )

	// フェード待ち
	Wait(FADE_NORMAL)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	// カシュー
	TalkMes("Kashu","#5024V#000e#000m実は、アドルに折り入って",
		"頼みがあってさ。","")
	WaitPrompt()
	
	// カシュー
	TalkMes("Kashu","#5025V#011e#000mアドルは乗客を脱出させるという",
		"船長の遺志を受け継いだんだろ？","")
	WaitPrompt()
	
	ChangeAnimation( "Kashu", "ANI_EV_HOHOKAKI", -1, 1 )	// 頬かき

	// カシュー
	TalkMes("Kashu","#5026V#012e#000mだったら、その遺志……",
		"オレにも背負わせてもらえないか？","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドルに「！」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	//！
	Wait(20)
	LookChr("ADOL", "Kashu")
	Turn("ADOL",16.08f,8.0f)
	Wait(20)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"急にどうしたんだい？ ")
	MenuAdd(2,"わざわざ僕に聞く必要はないだろう？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0175,"ADOL",100)	//ふむ…（思案）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -79.104f , -1459.957f , 32.812f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.439f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.084f , 0 )	// 基本仰角
	RotateCamera( 0 , 209.624f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	Turn("ADOL",8.76f,360.0f)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -79.104f , -1459.957f , 32.672f , 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.439f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -7.661f , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 248.000f , 900 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 900 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 12.3f , 900 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_CROSS)

	LookChr("Kashu", "ADOL")
	Turn("Kashu", 152.51f, 8.0f)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	//────────────────────
	//	⇒急にどうしたんだい？
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// カシュー
		TalkMes("Kashu","#5027V#000e#000m少し長くなるけど、",
			"聞いてもらえるかい？","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒わざわざ僕に聞く必要はないだろう？
	if (FLAG[TF_MENU_SELECT] == 2) {
		
		Look("Kashu", 0.0f, -10.0f)	// うつむく
		
		// カシュー
		TalkMes("Kashu","#5028V#011e#000mいや……船長はアドルを",
			"見込んで選んだんだ。","")
		WaitPrompt()
		
		Look("Kashu", 0.0f, 0.0f)	// うつむく戻す
		
		// カシュー
		TalkMes("Kashu","#5029V#012e#000mだから、君に話を聞いてほしい。","","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//────────────────────

	Look("Kashu", -30.0f, 0.0f)	// （＾＾）→

	// カシュー
	TalkMes("Kashu","#5030V#011e#080m……オレが生まれ育ったのは",
		"それなりに大きな港町でさ。","")
	WaitPrompt()

	// カシュー
	TalkMes("Kashu","#5031V#010e#000m内気でいじめられっ子だったオレは",
		"よく港で船を眺めて過ごしてたんだ。","")
	WaitPrompt()
	
	LookChr("Kashu", "ADOL")
	ChangeSubAnimation("Kashu", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	ChangeAnimation( "Kashu", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// カシュー
	TalkMes("Kashu","#5032V#000e#000mそんなオレをロンバルディアに",
		"誘ってくれたのがバルバロス船長だった。","")
	WaitPrompt()

	// カシュー
	TalkMes("Kashu","#5033V#011e#080m憧れだった……いつか船長のような",
		"男になるのが夢だったんだ。","")
	WaitPrompt()
	
	Look("Kashu", 0.0f, -10.0f)	// うつむく

	StopBGM(90)

	// カシュー
	TalkMes("Kashu","#5034V#060e#000mそれが、まさか",
		"こんなことになるなんて……","")
	WaitPrompt()
	WaitCloseWindow()


	// カット4 ----------------------------------------------------------------------------------------

	//　　カメラカットを切り替える

	PlayBGM(BGM_EVENT_016, 0)
	FadeBGM(70,10)

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , -78.957f , -1460.607f , 32.312f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.479f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.499f , 0 )	// 基本仰角
	RotateCamera( 0 , 109.626f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -78.957f , -1460.607f , 32.312f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.479f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.932f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 147.151f , 900 )

	// フェード待ち
	Wait(FADE_CROSS)
	
	// カシュー
	TalkMes("Kashu","#5035V#010e#000m古代種や獣たちの襲撃は",
		"日に日に激しさを増している。","")
	WaitPrompt()

	HeadNo("Kashu", 1, 35)	// キャラ, 回数, 速さ

	// カシュー
	TalkMes("Kashu","#5036V#010e#000m正直、この漂流村もいつ",
		"どうなるか分からない状態だ。","")
	WaitPrompt()
	
	LookChr("Kashu", "ADOL")
	ChangeSubAnimation("Kashu", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// カシュー
	TalkMes("Kashu","#5037V#000e#000m──でも。","","")
	WaitPrompt()

	// カシュー
	TalkMes("Kashu","#5038V#000e#000m船長の遺志とともにあれば、",
		"オレは最後まで戦い抜ける気がする。","")
	WaitPrompt()

	LookReset("Kashu")

	// カシュー
	TalkMes("Kashu","#5039V#011e#000m島を脱出できれば、ロンバルディアの",
		"船員として一人前になれる気がするんだ。","")
	WaitPrompt()

	LookChr("Kashu", "ADOL")

	// カシュー
	TalkMes("Kashu","#5040V#012e#000mだからアドル、お願いだよ。",
		"船長の遺志をオレにも背負わせてくれ！","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -78.524f , -1460.349f , 32.872f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.879f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.219f , 0 )	// 基本仰角
	RotateCamera( 0 , 50.306f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.2f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェード待ち
	Wait(FADE_CROSS)

	//　　アドルに「…」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	Wait(52)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"船員の使命、一緒に果たそう")
	MenuAdd(2,"きっと船長も安心しているよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	PlayVoice(Y8V_0164,"ADOL",100)	//ああ…（相槌）

	// うなずきパクパク
	HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Wait(10)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	//────────────────────
	//	⇒船員の使命、一緒に果たそう
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		Look("Kashu", 0.0f, -10.0f)	// うつむく
		
		// カシュー
		TalkMes("Kashu","#5041V#000e#000mアドル……",
			"ありがとう、恩に着るよ。","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒きっと船長も安心しているよ
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// カシュー
		TalkMes("Kashu","#5042V#000e#000mそ、それはオッケーってことかい？",
			"ありがとう、恩に着るよ。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -78.856f , -1459.703f , 32.872f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.879f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.811f , 0 )	// 基本仰角
	RotateCamera( 0 , 144.488f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.2f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookChr("Kashu", "ADOL")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -78.856f , -1459.703f , 32.872f , 600 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.879f , 600 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.210f , 600 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 155.944f , 600 )

	// フェード待ち
	Wait(FADE_CROSS)

	// カシュー
	TalkMes("Kashu","#5043V#000e#000m……島を脱出できたら",
		"オレは故郷に戻ろうと思う。","")
	WaitPrompt()

	ChangeAnimation( "Kashu", "ANI_EV_GUTSPOSE_S", -1, 1 )	// ガッツポーズ

	// カシュー
	TalkMes("Kashu","#5044V#000e#080mそして必ず、自分の船を持つよ。","","")
	WaitPrompt()

	Look("Kashu", 0.0f, -10.0f)	// うつむく

	// カシュー
	TalkMes("Kashu","#5045V#011e#080mオレがなりたかったのはさ、",
		"でっかい船を指揮する頼もしい船長──","")
	WaitPrompt()

	Look("Kashu", 0.0f, 0.0f)	// うつむく
	ChangeAnimation( "Kashu", "ANI_EV_GUTSPOSE_E", -1, 1 )	// ガッツポーズ

	TalkMes("Kashu","#5046V#012e#080mバルバロス船長みたいな人だから。","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"応援しているよ2")
	MenuAdd(2,"その時は船に乗せてよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0163,"ADOL",100)	//フフ…（微笑）

	// うなずきパクパク
	HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(25)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	
	LookChr("Kashu", "ADOL")
	Wait(10)
	
	//────────────────────
	//	⇒応援しているよ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// カシュー
		TalkMes("Kashu","#5047V#021e#080mはは……ありがとよ、アドル。","","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒その時は船に乗せてよ
	if (FLAG[TF_MENU_SELECT] == 2) {
		
		// カシュー
		TalkMes("Kashu","#5048V#021e#080m……はは………",
			"ああ、もちろんさ！","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し


	// カット6 ----------------------------------------------------------------------------------------

	//　　カシュー、墓に向き直るカメラ。

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -80.336f , -1461.756f , 32.232f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.559f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.195f , 0 )	// 基本仰角
	RotateCamera( 0 , 343.396f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -79.41f, -1459.72f, 31.33f)
	Turn("ADOL", -26.77f, 360.0f)
	ChangeSubAnimation("Kashu", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -80.336f , -1461.756f , 32.572f , 120 )

	// フェード待ち
	Wait(FADE_CROSS)

	LookTo("Kashu", -80.896f , -1461.832f , 31.992f)	// 座標：墓標
	Turn("Kashu", 77.89f, 8.0f)
	LookTo("ADOL", -80.896f , -1461.832f , 31.992f)	// 座標：墓標
//	Turn("ADOL", 22.97f, 8.0f)
	Turn("ADOL",3.29f,8.0f)

	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	// カシュー
	TalkMes("Kashu","#5049V#011e#000m#0L（船長、どうか安らかに……）","","")
	WaitPrompt()
	
	// カシュー
	TalkMes("Kashu","#5050V#010e#000m#0L（そしてどうか、オレたちの行く末を",
		"　見守っていてください……！）","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カメラ待ち
	WaitThread(1000)

	PlaySE(SE_SINAI_KASHU_01, 100, 0, 500, 0, 1.0f, 0)
	Wait(15)
	//　　ここで風が強く吹くような演出。
	Blur(BLUR_TYPE_EXPAND, 0.1f, 30)	//ブラー

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_COS , -80.560f , -1461.668f , 32.572f , 45 )

	// 舞い上がるバルバロス帽子
	ExecuteCmd(1, MoveZ , "ev_eq4018" , 34.20f , 0 , INTERPOLATE_SPHERE  , 60 )

	// カメラ待ち
	WaitThread(1000)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_COS , -80.426f , -1461.709f , 32.572f , 50 )

	// カメラ待ち
	WaitThread(1000)
	
	// カット7 ----------------------------------------------------------------------------------------
	
	//　　バルバロスの墓石に置かれていた船長帽が飛び、
	//　　カシューの手の上に落ちる。

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	StopThread(1)
	
	// カメラ
	MoveCameraAt( 0 , -79.550f , -1460.417f , 32.952f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.259f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.196f , 0 )	// 基本仰角
	RotateCamera( 0 , 286.108f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ev_eq4018", -78.82f, -1460.55f, 31.32f)
	PitchChr("ev_eq4018", 0.0f,0)
	SetParent("ev_eq4018", "Kashu", "Null_eq4018")
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("Kashu", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	LookReset("Kashu")
	LookReset("ADOL")

	// 舞い降りるバルバロス帽子
	SetMotSpd("Kashu" ,-1 , 0.6f )	// モーションスピード変更
	ChangeAnimation( "Kashu", "ANI_EV_BOUSI_FALL_S", -1, 1 )

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -79.177f , -1460.270f , 32.632f , 600 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.259f , 600 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -6.112f , 600 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 335.374f , 600 )

	// フェード待ち
	Wait(FADE_CROSS)

	LookChr("ADOL", "ev_eq4018")
	WaitAnimation2("Kashu", -1, 1, "ANI_EV_BOUSI_FALL_S", 0)

	//　　驚いて立ち尽くすアドルとカシュー。

	Wait(20)
	LookChr("ADOL", "Kashu")
	Look("Kashu", 50.0f, 30.0f)	// ←（＾＾）

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SUP_S,1)
	//ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_SUP_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_OPEN_S,1)
	ChangeSubAnimation("Kashu",SUBMOT_EYE,ANI_E_SUP_S,1)
	//ChangeSubAnimation("Kashu",SUBMOT_EXT1,ANI_E_SUP_S,1)
	ChangeSubAnimation("Kashu",SUBMOT_MOUTH,ANI_M_SUP_S,1)
	Wait(45)

	//　　アドルはすぐに意味を悟り、微笑になる。
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)	
	//ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_WAIT,1)	
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(20)
	ChangeSubAnimation("Kashu",SUBMOT_MOUTH,ANI_M_SUP_E,1)
	Wait(10)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"船長の激励みたいだ")
	MenuAdd(2,"船長の贈り物みたいだ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	PlayVoice(Y8V_0162,"ADOL",100)	//フッ（微笑）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	//ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//　　カシュー、一度だけ涙を拭ったあと、
	//　　しっかりと正面を見すえる。
	
	LookReset("Kashu")
	ChangeSubAnimation("Kashu",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	Wait(40)
	ChangeSubAnimation("Kashu",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	// カシュー
	TalkMes("Kashu","#5051V#080mああ……！","","")
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Kashu",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	Wait(30)

	ChangeAnimation( "ADOL", "ANI_EV_WAIT2_S", -1, 1 )	// 待機（腰に手）

	//────────────────────
	//	⇒船長の激励みたいだ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// カシュー
		TalkMes("Kashu","#5052V#000m#0L（ありがとう、船長……！",
			"　……オレ、行ってきます……！）","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒船長の贈り物みたいだ
	if (FLAG[TF_MENU_SELECT] == 2) {
		
		// カシュー
		TalkMes("Kashu","#5053V#000m#0L（ありがとう、船長……！",
			"　皆の事はどうか任せてください……！）","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

//　　暗転してイベント終了。
//　　※アドルを墓場の手前(-62.06f, -1450.48f, 29.35f ,-109.16f)に再配置。

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Kashu_ED")
}
function "Sinai_Kashu_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	SetParent("ev_eq4018", "", "")
	SetChrPos("Kashu" , -100000.00f, 0.0f, 0.0f)
	SetChrPos("ev_eq4018" , -100000.00f, 0.0f, 0.0f)

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_KASHU, 1 )			// 親愛イベントを見た（カシュー）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（カシュー）	名声値+2
		//SetDiaryCharaFlag( DRCHA_KASHU, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（カシュー）

		SetFlag(GF_GALL_EV_LIKE_13,1)			// Sinai_Kashu

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",-62.06f, -1450.48f, 29.35f)
		Turn("LEADER",-109.16f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(30)
		SetEnvSEPlayState(-1, 1)
		FadeBGM(100,30)

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}
function "Sinai_Kashu_Adol_move"
{
	MoveTo("ADOL",-80.02f,-1460.05f,31.33f, 0.1f, 0.25f )
	Turn("ADOL",32.67f,8.0f)
}
function "Sinai_Kashu_Kashu_move"
{
	MoveTo("Kashu",-79.24f,-1460.74f,31.32f, 0.1f, 0.25f )
	Turn("Kashu",50.46f,8.0f)
}


//===============================================================
// サハド：▼親愛イベント（続き）
function "Sinai_SahadB"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Sahad")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Sahad" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Sahad" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Sahad" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Sahad", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",-50.66f, -1436.96f, 29.05f)
	Turn("ADOL",58.00f,360.0f)
	LookReset("ADOL")
	SetChrPos("Sahad",-51.72f, -1436.31f, 29.05f)
	Turn("Sahad",4.71f,360.0f)
	LookReset("Sahad")

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation("ADOL","ANI_EV_SIT_C", -1 , 1 )	
	ChangeSubAnimation("Sahad",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Sahad",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Sahad",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation("Sahad","ANI_EV_SIT_C", -1 , 1 )	

	MoveCameraAt( 0 , -50.105f , -1439.775f , 30.500f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.400f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.096f , 0 )	// 基本仰角
	RotateCamera( 0 , 285.956f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 2.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 100.000 ,1.000 ,0.700 ,0.600)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//ポートレート処理
	Portrait_Load(   0 , "visual/portrait/p_20011.itp" )	//回想ポートレート：海賊船で最後の航海日誌を読んでいるシーン
	Portrait_Load(   1 , "visual/portrait/p_20012.itp" )	//回想ポートレート：海賊リードとの会話シーン

	Portrait_Create(0 , 0 , 0 , 
					0 , 0 , 3840,2160 , 
					0 , 0x00ffffff , 0x00000000 )
	Portrait_Create(1 , 0 , 0 , 
					0 , 0 , 3840,2160 , 
					0 , 0x00ffffff , 0x00000000 )

	Portrait_Anime( 1 , PR_ANIME_SCALE ,0.5 , 0.5 ,-1,-1 ,0 )
	Portrait_Anime( 0 , PR_ANIME_SCALE ,0.5 , 0.5 ,-1,-1 ,0 )
	
	PlayBGM(BGM_TOWN_501, 0)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_SahadB_ED")

//開始処理ここまで-----------------------------------------------

	//　　暗転を挟んで集落丘方面のベンチ。
	//　　アドルとサハドが並んで座っている。

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -50.174f , -1438.474f , 30.500f , 90 )
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.560f , 90 )
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.478f , 90 )
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 295.458f , 90 )

//	MoveCameraAt( 0 , -50.174f , -1438.474f , 30.500f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 6.400f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 5.096f , 0 )	// 基本仰角
//	RotateCamera( 0 , 285.956f , 0 )				// 角度
//	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 2.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , -51.174f , -1436.504f , 30.203f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.680f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -5.852f , 0 )	// 基本仰角
	RotateCamera( 0 , 17.323f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 2.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	ChangeSubAnimation("Sahad", SUBMOT_EYE, ANI_E_LAUGH, 1)	// 目
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE, 1)	// 目
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE, 1)	// 口

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -51.174f , -1436.504f , 30.263f , 1200 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.680f , 1200 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 5.607f , 1200 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 290.528f , 1200 )

	// フェード待ち
	Wait(FADE_NORMAL)

	FadeBGM(70,10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	ChangeAnimation( "Sahad", "ANI_EV_SC_UDEGUMI_S", -1, 1 )	// （椅子座り）腕組
	Wait(10)

	// サハド
	TalkMes("Sahad","#1421V#020e#080mおお、食った食った……！","","")
	WaitPrompt()

	LookChr("Sahad", "ADOL")

	// サハド
	TalkMes("Sahad","#1422V#080e#080mみんなでつついたってのに",
		"ハラ一杯になっちまったなぁ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	LookChr("ADOL", "Sahad")
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"こんなに美味しいのは久しぶりだ")
	MenuAdd(2,"もうこれ以上食べれない")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0156,"ADOL",100)	//ああ（肯定）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_SC_TEBURI", -1, 1 )	// （椅子座り）手振り
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	//────────────────────
	//	⇒こんなに美味しいのは久しぶりだ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// サハド
		TalkMes("Sahad","#1423V#020e#080mガハハ、ワシもだ！","","")
		WaitPrompt()
		
		LookReset("Sahad")
		ChangeAnimation( "Sahad", "ANI_EV_SC_UDEGUMI_E", -1, 1 )	// （椅子座り）腕組

		// サハド
		TalkMes("Sahad","#1424V#022e#080mこの島は恐ろしい所だが、",
			"魚はイキがよくて脂ものっている。","")
		WaitPrompt()

		// サハド
		TalkMes("Sahad","#1425V#011e#080m古代種どもがいなきゃ、",
			"漁をするには絶好の場所だぜ。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒もうこれ以上食べれない
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// サハド
		TalkMes("Sahad","#1426V#020e#080mガハハ、みんなも",
			"精がついたみてーだな。","")
		WaitPrompt()
		
		LookReset("Sahad")
		ChangeAnimation( "Sahad", "ANI_EV_SC_UDEGUMI_E", -1, 1 )	// （椅子座り）腕組

		// サハド
		TalkMes("Sahad","#1427V#011e#080m力になれてなによりだぜ。","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	//　　サハドに「…」エモーション。
	EmotionEx("Sahad", 0.05f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Look("Sahad", 0.0f, -10.0f)	// うつむく
	Wait(52)

	StopBGM(120)

	// サハド
	TalkMes("Sahad","#1428V#000mできれば……船長殿にも",
		"食べてもらいたかったがな。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　少ししんみりする２人。

	LookSpd("ADOL",0.10f,0.10f,0.10f)
	LookReset("ADOL")
	Look("ADOL", 0.0f, -10.0f)	// うつむく
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE_E, 1)	// 口
	Wait(60)

	// カット3 ----------------------------------------------------------------------------------------

	PlayBGM(BGM_EVENT_016, 0)

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -51.714f , -1436.228f , 30.423f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.240f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.993f , 0 )	// 基本仰角
	RotateCamera( 0 , 327.452f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	LookReset("ADOL")
	LookReset("Sahad")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -51.736f , -1436.352f , 30.423f , 450 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.239f , 450)
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.169f , 450 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 277.316f , 450 )

	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	// サハド
	TalkMes("Sahad","#1429V#012e#000mワシはな、島から出られたら",
		"船長殿の家族に会いに行くつもりだ。","")
	WaitPrompt()
	
	Look("Sahad", 0.0f, -10.0f)	// うつむく

	LookChr("ADOL", "Sahad")
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// サハド
	TalkMes("Sahad","#1430V#000e#000m船長殿はワシらのために",
		"本当に力を尽くしてくれた……","")
	WaitPrompt()

	// サハド
	TalkMes("Sahad","#1431V#011e#000m同じ海の男として、最期の姿を",
		"この口で伝えんと気が済まねえんだ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"僕もつきあうよ")
	MenuAdd(2,"そのためにも脱出しよう")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	if (FLAG[TF_MENU_SELECT] == 1) {
		PlayVoice(Y8V_0184,"ADOL",100)	//なら──（提案）
	}else{
		PlayVoice(Y8V_0164,"ADOL",100)	//ああ…（相槌）
	}

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_SC_TEBURI_L", -1, 1 )	// （椅子座り）手振り
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	LookChr("Sahad", "ADOL")	
	//────────────────────
	//	⇒僕もつきあうよ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// サハド
		TalkMes("Sahad","#1432V#021e#080mガハハ、ありがとよ、アドル。","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒そのためにも脱出しよう
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// サハド
		TalkMes("Sahad","#1433V#021e#080mガハハハ、そうだな。",
			"頼りにしてるぞ、アドル。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -50.158f , -1444.512f , 30.243f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.360f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.164f , 0 )	// 基本仰角
	RotateCamera( 0 , 355.429f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -54.314f , -1444.041f , 30.243f , 900 )

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Sahad", "ANI_EV_SC_TEBURI", -1, 1 )	// （椅子座り）手振り

	// サハド
	TalkMes("Sahad","#1434V#000e#000m……海の男といやあ……","","")
	WaitPrompt()

	// サハド
	TalkMes("Sahad","#1435V#000e#000mあのキャプテン・リードの事も",
		"ワシはずっと気になっていてな。","")
	WaitPrompt()

	LookReset("Sahad")
	ChangeAnimation( "Sahad", "ANI_EV_SC_UDEGUMI_S", -1, 1 )	// （椅子座り）腕組

	// サハド
	TalkMes("Sahad","#1436V#011e#000m罪を着せられ、家族や部下に",
		"再会できないまま死んじまって……","")
	WaitPrompt()

	Look("Sahad", 0.0f, -10.0f)	// うつむく

	// サハド
	TalkMes("Sahad","#1437V#012e#000mせめて子孫でもいりゃあ、",
		"真実を伝えてやりたいもんだが……","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット5 ----------------------------------------------------------------------------------------

	//　　ここで回想ポートレートを表示。
	//　　海賊船で最後の航海日誌を読んでいるシーン。

	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	FadeBGM(50,30)
	
	Portrait_Anime(  0 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f,FADE_NORMAL)
	Wait(FADE_NORMAL)

	// カメラ停止
	StopThread(1000)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	//	ナレーション
	TalkMes(UNDEF,"#7C情報では俺の家族は追手から逃れて、",
		"#7Cゲーテ海の小さな島に身を寄せたらしい。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット6 ----------------------------------------------------------------------------------------

	//　　回想ポートレートを切り替え。
	//　　海賊リードとの会話シーン。

	Portrait_Anime(  1 , PR_ANIME_COLOR, 1.0f, 1.0f, 1.0f, 1.0f,FADE_NORMAL)
	Wait(FADE_NORMAL)
	Portrait_Close(  0 )
	Portrait_Unload( 0 )

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	SetName("キャプテン・リード")
	TalkMes("Sahad","#7C#000e#000mもしかするとクレテ島の人間か？","クレテ島2行目","")
	WaitPrompt()
	SetName("")

	TalkMes("Sahad","#7C#000e#000mお？　そ、その通りだが……","","")
	WaitPrompt()

	SetName("キャプテン・リード")
	TalkMes("Sahad","#7C#000e#000mクハハ、なるほどな……","クハハ2行目","")
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット7 ----------------------------------------------------------------------------------------
	
	// カメラ
	MoveCameraAt( 0 , -50.646f , -1437.038f , 30.343f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.240f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.123f , 0 )	// 基本仰角
	RotateCamera( 0 , 251.162f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -2.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	LookChr("Sahad", "ADOL")
	LookReset("ADOL")
	ChangeAnimation( "ADOL", "ANI_EV_SC_SIAN_S", -1, 1 )	// （椅子座り）思案
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE, 1)	// 目
	ChangeAnimation( "Sahad", "ANI_EV_SC_UDEGUMI_E", -1, 1 )	// （椅子座り）腕組
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -50.562f , -1436.792f , 30.343f , 100 )

	SetEnvSEPlayState(-1, 1)	//環境SE
	FadeBGM(70,30)

	//　　回想ポートレートを消去。
	Portrait_Anime(  1 , PR_ANIME_COLOR, 0.0f, 0.0f, 0.0f, 0.0f,FADE_NORMAL)
	Wait(FADE_NORMAL)
	Portrait_Close(  1 )
	Portrait_Unload( 1 )

	//　　アドルに・・・エモーション
	EmotionEx("ADOL", 0.00f, EMO_3DOT, 0, 5, 1, 1, 0.8f)	//…
	Wait(55)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"子孫はもう知っていると思う")
	MenuAdd(2,"真実を知る人がいればそれでいい")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0162,"ADOL",100)	//フッ（微笑）

	ChangeAnimation( "ADOL", "ANI_EV_SC_SIAN_E", -1, 1 )	// （椅子座り）思案
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(40)

	// カット8 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	
	// カメラ
	MoveCameraAt( 0 , -50.512f , -1436.569f , 30.183f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.240f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.449f , 0 )	// 基本仰角
	RotateCamera( 0 , 95.989f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -9.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -50.512f , -1436.569f , 30.363f , 100 )

	// フェード待ち
	Wait(FADE_CROSS)

	LookChr("ADOL", "Sahad")
//	Wait(5)
//
//	// 手振りセット
//	ChangeAnimation( "ADOL", "ANI_EV_SC_TEBURI", -1, 1 )	// （椅子座り）手振り
//	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
//	// 強制クチパク
//	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
//	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
//	Wait(30)
//	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
//	Wait(20)

	Wait(30)

	//────────────────────
	//	⇒子孫はもう知っていると思う
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		//　　サハドにＰＡエモーション
		EmotionEx("Sahad", 0.10f, EMO_PA, 0, 5, 1, 1, 0.8f)	//パッ
		Wait(35)
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)
		
		// サハド
		TalkMes("Sahad","#1438V#070e#000mお？　たしかに",
			"そういう可能性もあるか……","")
		WaitPrompt()

		LookReset("Sahad")
		ChangeAnimation( "Sahad", "ANI_EV_SC_UDEGUMI_S", -1, 1 )	// （椅子座り）腕組

		// サハド
		TalkMes("Sahad","#1439V#011e#080mそうだな、世間の常識だけが",
			"真実じゃあない。","")
		WaitPrompt()

		// サハド
		TalkMes("Sahad","#1440V#012e#080m今もキャプテン・リードのことを",
			"信じてるヤツはいるかもしれねーな。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒真実を知る人がいればそれでいい
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		//　　サハドにＰＡエモーション
		EmotionEx("Sahad", 0.10f, EMO_PA, 0, 5, 1, 1, 0.8f)	//パッ
		Wait(35)
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)
		
		// サハド
		TalkMes("Sahad","#1441V#070e#000mお？　……お前さんが言うと",
			"何だか説得力があるな。","")
		WaitPrompt()

		LookReset("Sahad")
		ChangeAnimation( "Sahad", "ANI_EV_SC_UDEGUMI_S", -1, 1 )	// （椅子座り）腕組

		// サハド
		TalkMes("Sahad","#1442V#011e#000mふむ、だがそうか……","","")
		WaitPrompt()

		// サハド
		TalkMes("Sahad","#1443V#012e#080mワシらが知っていれば、",
			"それでいいのかもしれねーな。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	// カット9 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	
	// カメラ
	MoveCameraAt( 0 , -51.820f , -1436.627f , 30.363f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.480f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.029f , 0 )	// 基本仰角
	RotateCamera( 0 , 289.834f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 2.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Sahad", "ANI_EV_SC_UDEGUMI_E", -1, 1 )	// （椅子座り）腕組

	// サハド
	TalkMes("Sahad","#1444V#080e#080mよし、故郷に帰ったら",
		"せめてワシの家族には話してやろう。","")
	WaitPrompt()
	
	LookChr("Sahad", "ADOL")

	// サハド
	TalkMes("Sahad","#1445V#091e#080mこの島で見たこと、聞いたことを",
		"たくさん、たくさんな。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドルも笑顔になってうなずく。
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(10)
	HeadYes("ADOL" , 1 , 25)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)
	Wait(20)

	// カット10 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , -51.298f , -1437.022f , 29.843f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.160f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.123f , 0 )	// 基本仰角
	RotateCamera( 0 , 22.936f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	LookReset("Sahad")
	Turn("Sahad", -30.82f, 360.0f)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -51.298f , -1437.022f , 30.423f , 100 )

	// フェード待ち
	Wait(FADE_CROSS)

	//　　サハド、立ち上がる。
	ChangeAnimation("Sahad", "ANI_EV_SIT_C_E", -1, 1)	// 椅子座り終了
	Wait(10)
	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	WaitAnimation2( "Sahad" , -1, 1, "ANI_EV_SIT_C_E",  0)
	ChangeAnimation( "Sahad", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// サハド
	TalkMes("Sahad","#1446V#020e#080mおーし、なんだか元気が出てきたな！","おーし2行目","")
	WaitPrompt()
	
	LookChr("Sahad", "ADOL")
	ChangeAnimation( "Sahad", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1 )	// 両手腰手振り

	// サハド
	TalkMes("Sahad","#1447V#022e#080mアドル、張り切って出発するとしようぜ！","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	ChangeAnimation("ADOL", "ANI_EV_SIT_C_E", -1, 1)	// 椅子座り終了
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_SIT_C_E",  0)

	//　　ご機嫌なサハドにアドルは少し苦笑するなどの表現。
	//　　２人が言い合っている無言劇を見せつつ暗転。
	
	// カメラ待ち
	WaitThread(1000)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -50.663f , -1440.012f , 30.515f , 300 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.424f , 300 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -7.910f , 300 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 77.190f , 300 )
	
	ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	WaitAnimation2("ADOL", -1, 1, "ANI_EV_UDEGUMI_S", 0)
	Wait(10)
	ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_TEBURI", -1, 1 )	// 腕組手振り

	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)

	ChangeAnimation( "Sahad", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	WaitAnimation2("Sahad", -1, 1, "ANI_EV_RYOTEKOSI_E", 0)
	
	LookReset("Sahad")
	ChangeAnimation( "Sahad", "ANI_EV_BORI", -1, 1 )	// 頭かき
	ChangeSubAnimation("Sahad", SUBMOT_EYE, ANI_E_LAUGH_S, 1)	// 目

	Wait(30)

//　　イベント終了、操作許可。
//　　※アドルを広場の手前(-35.85f, -1440.52f, 27.89f ,-95.28f)に再配置。

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_SahadB_ED")
}
function "Sinai_SahadB_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	SetChrPos("Sahad", -100000.00f, 0.00f, 0.00f)	// 彼方へ

	//マップパラメーターリセット
	ResetMapParam( -1 )
	
	// ポートレートリリース
	Portrait_Close(-1)
	Portrait_Unload(-1)
	
	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_SAHAD, 1 )			// 親愛イベントを見た（サハド）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（サハド）	名声値+2
		//SetDiaryCharaFlag( DRCHA_SAHAD, DRCHA_FLAG_INFO4, 1 )	//★人物メモ：追加情報の開放４（サハド）

		SetFlag(GF_GALL_EV_LIKE_14,1)			// Sinai_Sahad

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",-35.85f, -1440.52f, 27.89f)
		Turn("LEADER",-95.28f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

		FadeBGM(100, 30)
		SetEnvSEPlayState(-1, 1)	//環境SE

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// シスター・ニア：▼親愛イベント
function "Sinai_Nia"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	if ( FLAG[SF_GALLERY_EVENT] )	//ギャラリーモード専用処理
	{
		//シスター・ニアの衣装制御
		if (FLAG[GF_QS311_LOOK_EVENT]){		// 【QS311】▼衣装を破れたイベント を見た

			SetChrID( "Nia_2", "Nia")		// 破れ衣装
		} else {
			SetChrID( "Nia_1", "Nia")		// 初期衣装
		}
	}
	
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	LoadChr("Nia")
	
	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Nia" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Nia" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Nia" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Nia", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",-78.17f, -1460.41f, 31.32f)
	Turn("ADOL",84.76f,360.0f)
	LookReset("ADOL")
	SetChrPos("Nia",-79.60f,-1460.26f,31.32f)
	Turn("Nia",41.15f,360.0f)
	LookReset("Nia")

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Nia",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Nia",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Nia",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Nia" , "ANI_WAIT", -1 , 1 )

	MoveCameraAt( 0 , -80.208f , -1458.916f , 32.331f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.899f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.404f , 0 )	// 基本仰角
	RotateCamera( 0 , 180.441f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

//	if( FLAG[GF_05MP6330_LOOK_MONOLITH] && !FLAG[GF_05MP1201_GOTO_GHOSTHIP] ){		//幽霊船を目撃
//		StopBGM(120)
//	} else if (FLAG[GF_05MP1201_OCEANUS_STANDBY] && !FLAG[GF_05MP1201_HOLD_PARTY]){		// オケアノス戦前
//		StopBGM(120)
//	} else if (FLAG[GF_TBOX_DUMMY087] && !FLAG[GF_07MP1202_AWAKE_ADOL]){		// ６話以降～ラスボス戦
//		StopBGM(120)
//	} else if(WORK[WK_ISINTERCEPT] == 1){	//迎撃戦中
//		StopBGM(120)
//	}

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 120.000 ,1.000 ,0.700 ,0.600)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Nia_ED")

//開始処理ここまで-----------------------------------------------

	//　　暗転を挟んで字幕イベント。場所は外れにあるバルバロスの墓前。

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ---------------------------------------------------------------------------------------

	// 位置調整・表情・モーション
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE, 1)	// 目
	ChangeSubAnimation("Nia", SUBMOT_EYE, ANI_E_CLOSE, 1)	// 目
	ChangeAnimation( "Nia", "ANI_EV_INORI", -1, 1 )	// 祈り

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -79.500f , -1458.970f , 32.331f , 110 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.600f , 110 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.403f , 110 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 180.440f , 110 )

	//MoveCameraAt( 0 , -79.500f , -1458.970f , 32.331f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.600f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.403f , 0 )	// 基本仰角
	//RotateCamera( 0 , 180.440f , 0 )				// 角度
	//ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	StopBGM(120)

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// カット2 ---------------------------------------------------------------------------------------

	PlayBGM(BGM_EVENT_016, 0)
	FadeBGM(70, 0)

	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , -79.625f , -1460.631f , 32.240f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.477f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.655f , 0 )	// 基本仰角
	RotateCamera( 0 , 277.616f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -78.874f , -1460.302f , 32.787f , 450 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.020f , 450 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.138f , 450 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 297.272f , 450 )

	// フェード待ち
	Wait(FADE_NORMAL)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// シスター・ニア
	TalkMes("Nia","#4695V#010e#000m天にまします大いなる主よ……",
		"どうかこの者に尊き加護があらんことを……","")
	WaitPrompt()

	ChangeAnimation( "Nia", "ANI_EV_INORI_E", -1, 1 )	// 祈り
	ChangeSubAnimation("Nia", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// シスター・ニア
	TalkMes("Nia","#4696V#080m──これでよし、と。","","")
	WaitPrompt()

	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	LookChr("ADOL", "Nia")

	//　　シスター・ニアが漂流村の方を見る。
	Turn("Nia",-116.33f,8.0f)
	Wait(10)
	ChangeAnimation( "Nia", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// シスター・ニア
	TalkMes("Nia","#4697V#000e#000mそれにしても……",
		"この漂流村もとても発展しましたね。","")
	WaitPrompt()

	LookChr("Nia", "ADOL")

	TalkMes("Nia","#4698V#000e#000mついには脱出のための船造りまで……","脱出のため2行目","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"脱出は時間の問題だね")
	MenuAdd(2,"みんなの協力のおかげさ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0156,"ADOL",100)	//ああ（肯定）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)
	
	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	HeadYes("Nia", 1, 25)	// キャラ, うなずき回数, 速さ
	
	//──────────────────────
	//	⇒脱出は時間の問題だね
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// シスター・ニア
		TalkMes("Nia","#4699V#000e#000mそうですね……そしてこれも全ては",
			"みなさんの協力のおかげです。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒みんなの協力のおかげだ
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// シスター・ニア
		TalkMes("Nia","#4700V#000e#000mええ……わたしも丁度",
			"同じことを考えていました。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット3 ---------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -78.874f , -1460.302f , 32.787f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.540f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.858f , 0 )	// 基本仰角
	RotateCamera( 0 , 107.051f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -78.762f , -1460.288f , 32.787f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.540f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.299f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 138.289f , 900 )

	// フェード待ち
	Wait(FADE_CROSS)

	//　　シスター・ニアに「…」エモーション。
	LookReset("Nia")
	EmotionEx("Nia", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	ChangeSubAnimation("Nia", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	Wait(45)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	ChangeAnimation( "Nia", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て
	ChangeSubAnimation("Nia", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	LookChr("Nia", "ADOL")

	// シスター・ニア
	TalkMes("Nia","#4701V#000m以前のわたしなら……",
		"この結果も神の御業によるものだと。","")
	WaitPrompt()

	// シスター・ニア
	TalkMes("Nia","#4702V#011e#000mそう信じて疑わなかったでしょう。","","")
	WaitPrompt()

	LookReset("Nia")
	ChangeSubAnimation("Nia", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// シスター・ニア
	TalkMes("Nia","#4703V#000mですが、みなさんと共に多くの",
		"時間を過ごした今なら分かります。","")
	WaitPrompt()

	ChangeAnimation( "Nia", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	Look("Nia", 0.0f, -10.0f)	// うつむく

	// シスター・ニア
	TalkMes("Nia","#4704V#011e#000m漂流村の今があるのは、",
		"確かに我々の力によるものなのだと……","")
	WaitPrompt()
	WaitCloseWindow()


	// カット4 ----------------------------------------------------------------------------------------
	
	//　　シスター・ニアがアドルの方を見る。

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -78.853f , -1460.400f , 32.727f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.540f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.713f , 0 )	// 基本仰角
	RotateCamera( 0 , 49.198f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -79.221f , -1460.395f , 32.847f , 1200 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.820f , 1200 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -6.595f , 1200 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 60.071f , 1200 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 1200 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -7.4f , 1200 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)
	
	LookChr("Nia", "ADOL")
	ChangeSubAnimation("Nia", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// シスター・ニア
	TalkMes("Nia","#4705V#080mふふ、と言っても決してわたしの中の",
		"信仰心が揺いだわけではありませんよ？","")
	WaitPrompt()

	// シスター・ニア
	TalkMes("Nia","#4706V#011e#000m星刻の神はどんな時でも",
		"我々を見守ってくださっている……","")
	WaitPrompt()

	ChangeAnimation( "Nia", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// シスター・ニア
	TalkMes("Nia","#4707V#012e#000mただ、時には運命に抗う",
		"強い意志も必要だと……","")
	WaitPrompt()
	
	ChangeAnimation( "Nia", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	LookReset("Nia")

	// シスター・ニア
	TalkMes("Nia","#4708V#000e#000m神に身を委ねる前に、まずは自分たちの",
		"力を信じて行動することが重要だと……","")
	WaitPrompt()

	Look("Nia", 0.0f, -10.0f)	// うつむく

	// シスター・ニア
	TalkMes("Nia","#4709V#011e#000mそしてその抗う姿勢こそ、神が我々に",
		"求めておられることではなかろうかと。","")
	WaitPrompt()

	LookChr("Nia", "ADOL")
	ChangeAnimation( "Nia", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	ChangeSubAnimation("Nia", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// シスター・ニア
	TalkMes("Nia","#4710V#000mアドルさんや皆さんを見て、",
		"そんな風に思わされました。","")
	WaitPrompt()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -79.356f , -1459.995f , 32.831f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.916f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.524f , 0 )	// 基本仰角
	RotateCamera( 0 , 221.545f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.4f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 237.294f , 900 )

	// フェード待ち
	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"持ち上げすぎじゃないかな")
	MenuAdd(2,"シスターもその一人さ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0161,"ADOL",100)	//はは（微笑）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	//──────────────────────
	//	⇒持ち上げすぎじゃないかな
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		HeadNo("Nia", 1, 25)	// キャラ, 回数, 速さ
		
		// シスター・ニア
		TalkMes("Nia","#4711V#000e#000mいえ、そんなこと。","","")
		WaitPrompt()

		// シスター・ニア
		TalkMes("Nia","#4712V#000e#000mわたしがそんな風に思えたのは",
			"皆さんだったからこそですし。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒シスターもその一人さ
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// シスター・ニア
		TalkMes("Nia","#4713V#000e#000mふふ、わたしはただ皆さんの",
			"お背中を追っていただけです。","")
		WaitPrompt()

		// シスター・ニア
		TalkMes("Nia","#4714V#000e#000mですが、そう言っていただけて",
			"嬉しいです。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -78.358f , -1460.082f , 32.831f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.916f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.945f , 0 )	// 基本仰角
	RotateCamera( 0 , 99.311f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.4f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -78.358f , -1460.082f , 32.831f, 450 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.916f , 450 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.644f , 450 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 117.934f , 450 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	// シスター・ニア
	TalkMes("Nia","#4715V#000e#000mアドルさん、どうか最後まで",
		"改めてよろしくお願いします。","")
	WaitPrompt()

	ChangeAnimation( "Nia", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// シスター・ニア
	TalkMes("Nia","#4716V#080e#080mそして必ず、このセイレン島からの",
		"脱出を成し遂げましょう。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　イベント終了、操作許可。
	//　　※アドルを墓場の手前(-62.06f, -1450.48f, 29.35f ,-109.16f)に再配置。

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Nia_ED")
}
function "Sinai_Nia_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	SetChrPos("Nia", -100000.00f, 0.00f, 0.00f)	// 彼方へ

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_NIA, 1 )			// 親愛イベントを見た（シスター・ニア）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（シスター・ニア）	名声値+2
		//SetDiaryCharaFlag( DRCHA_NIA, DRCHA_FLAG_INFO3, 1 )		//★人物メモ：追加情報の開放３（シスター・ニア）

		SetFlag(GF_GALL_EV_LIKE_15,1)			// Sinai_Nia

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",-62.06f, -1450.48f, 29.35f)
		Turn("LEADER",-109.16f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

		FadeBGM(100, 30)
		SetEnvSEPlayState(-1, 1)

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// レーヤ：▼親愛イベント
function "Sinai_Reja"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()
	
	LoadChr("Reja")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
//	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )	// 移動の時、マップに埋まってしまうのでマスクしています
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
//	SetChrInfoFlag( "Reja" , INFOFLAG_NOGRAVITY )	// 移動の時、マップに埋まってしまうのでマスクしています
	SetChrInfoFlag( "Reja" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Reja" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Reja", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",-35.90f,-1413.55f,29.75f)
	Turn("ADOL",-35.72f,360.0f)
	LookReset("ADOL")
	SetChrPos("Reja",-31.19f,-1408.98f,29.75f)
	Turn("Reja",145.62f,360.0f)
	LookReset("Reja")

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Reja",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Reja",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Reja",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Reja" , "ANI_WAIT", -1 , 1 )

	MoveCameraAt( 0 , -31.591f , -1413.212f , 31.962f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.320f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 12.569f , 0 )	// 基本仰角
	RotateCamera( 0 , 42.471f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	if( FLAG[GF_05MP6330_LOOK_MONOLITH] && !FLAG[GF_05MP1201_GOTO_GHOSTHIP] ){		//幽霊船を目撃
		StopBGM(120)
	} else if (FLAG[GF_05MP1201_OCEANUS_STANDBY] && !FLAG[GF_05MP1201_HOLD_PARTY]){		// オケアノス戦前
		StopBGM(120)
	} else if (FLAG[GF_TBOX_DUMMY087] && !FLAG[GF_07MP1202_AWAKE_ADOL]){		// ６話以降～ラスボス戦
		StopBGM(120)
	} else if(WORK[WK_ISINTERCEPT] == 1){	//迎撃戦中
		StopBGM(120)
	}

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 100.000 ,1.000 ,0.700 ,0.600)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Reja_ED")

//開始処理ここまで-----------------------------------------------

	//　　暗転を挟んで字幕イベント。農場スペース。
	//　　アドルとレーヤが畑を行ったりきたりしている
	//　　無言劇を映した後、向かい合った構図に移行する。
	
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------

	ExecuteFunc( 100 , "mp1201:Sinai_Reja_Adol_move" )	//アドル無言劇
	ExecuteFunc( 101 , "mp1201:Sinai_Reja_Reja_move" )	//レーヤ無言劇

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -35.954f , -1414.818f , 30.862f , 210 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.320f , 210 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.114f , 210 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 354.054f , 210 )

	SetEnvSEPlayState(1204001, 0)

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Wait(150)

	// フェードアウト
	FadeOut(FADE_BLACK,45)
	WaitFade()
	
	// 無言劇停止
	StopThread( 100 )
	StopThread( 101 )

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	Wait(15)
	
	// カット2 ----------------------------------------------------------------------------------------

	// カメラ
	MoveCameraAt( 0 , -33.847f , -1411.066f , 31.425f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.320f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.298f , 0 )	// 基本仰角
	RotateCamera( 0 , 74.279f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 再配置
	SetChrPos("ADOL",-32.95f, -1411.10f, 29.65f)
	Turn("ADOL",67.76f,360.0f)
	SetChrPos("Reja",-34.43f,-1411.69f,29.66f)
	Turn("Reja",-121.50f,360.0f)
	LookChr("ADOL" , "Reja")
	LookChr("Reja" , "ADOL")
	ChangeAnimation( "Reja", "ANI_EV_RYOTEKOSI", -1, 1 )	// 両手腰

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -33.384f , -1411.589f , 30.905f , 130 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.020f , 130 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.005f , 130 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 62.533f , 130 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 130 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -2.9f , 130 )		// ロール回転

	PlayBGM(BGM_TOWN_501, 0)

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	FadeBGM(70, 10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// レーヤ
	TalkMes("Reja","#4752V#050e#000mふう……大体片付いたかな。","","")
	WaitPrompt()

	ChangeAnimation( "Reja", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// レーヤ
	TalkMes("Reja","#4753V#052e#000mよし、このついでに",
		"草むしりもやっとかねーと。","")
	WaitPrompt()

	ChangeAnimation( "Reja", "ANI_EV_BORI", -1, 1 )	// 頭かき

	// レーヤ
	TalkMes("Reja","#4754V#030e#000mホント、油断するとにょきにょき",
		"生えてくるんだよな、雑草ってのは！","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"レーヤは熱心だな")
	MenuAdd(2,"農作業が上手くなったな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -33.956f , -1411.639f , 30.765f , 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.020f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -5.303f , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 329.142f , 900 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 900 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -6.3f , 900 )		// ロール回転

	PlayVoice(Y8V_0162,"ADOL",100)	//フッ（微笑）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	ChangeAnimation( "Reja", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	//────────────────────
	//	⇒レーヤは熱心だな
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		Look("Reja", 40.0f, 0.0f)	// ←（＾＾）
		
		// レーヤ
		TalkMes("Reja","#4755V#050e#000mう……まあ",
			"フホンイながらってやつ？","")
		WaitPrompt()
	
		// レーヤ
		TalkMes("Reja","#4756V#011e#000m他にも葉っぱを食っちまう虫とか",
			"トマト好きな鳥とか……","")
		WaitPrompt()

		LookChr("Reja", "ADOL")
		ChangeAnimation( "Reja", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

		// レーヤ
		TalkMes("Reja","#4757V#012e#080mま、色々覚えちまったよ。","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒農作業が上手くなったな
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// レーヤ
		TalkMes("Reja","#4758V#050e#080mまー毎日いじってるからなー。","","")
		WaitPrompt()
	
		HeadNo("Reja", 1, 25)	// キャラ, 回数, 速さ
	
		// レーヤ
		TalkMes("Reja","#4759V#052e#000m泥だらけになるから嫌なんだけどさ。",
			"やんないとすぐ荒れちまうし。","")
		WaitPrompt()
		WaitCloseWindow()
		
		ChangeAnimation( "Reja", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
		
	}
	//────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット3 ----------------------------------------------------------------------------------------

	//　　レーヤ、作物の方に移動して少し世話をする等の仕草。

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -35.920f , -1410.424f , 30.479f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.400f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -7.712f , 0 )	// 基本仰角
	RotateCamera( 0 , 256.284f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -2.2f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetChrPos("ADOL",-32.95f,-1411.10f,29.66f)
	Turn("ADOL",76.89f,360.0f)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -35.898f , -1410.666f , 30.459f , 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.399f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -10.864f , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 287.177f , 900 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 900 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -2.2f , 900 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	WaitAnimation2( "Reja" , -1, 1, "ANI_EV_UDEGUMI_E",  0)

	LookReset("Reja")
	TurnTo("Reja",-34.77f, -1410.83f, 29.75f,8.0f)	// パプリカのほうむく

	// 移動
	SetMotSpd("Reja" ,-1 , 0.8f )	// モーションスピード変更
	ExecuteCmd(1, MoveTo, "Reja", -34.77f, -1410.83f, 29.75f, 0.1f, 0.13f)
	
	// 移動待ち
	WaitThread(1)
	SetMotSpd("Reja" ,-1 , 1.0f )	// モーションスピード戻す

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	ChangeAnimation( "Reja", "ANI_EV_SHAGAMI_S", -1, 1 )	// しゃがみ

	// レーヤ
	TalkMes("Reja","#4760V#000e#000mでもさ……変な話だけど、",
		"オレいま結構楽しいんだ。","")
	WaitPrompt()

	// レーヤ
	TalkMes("Reja","#4761V#011e#000mピッカードたちもそうだけどさ。","","")
	WaitPrompt()

	Look("Reja", 0.0f, 25.0f)	// 顔上げる

	// レーヤ
	TalkMes("Reja","#4762V#012e#080mこいつらってオレがいないと",
		"駄目なわけじゃん？","")
	WaitPrompt()

	ChangeAnimation( "ADOL", "ANI_EV_WAIT2_S", -1, 1 )	// 待機（腰に手）

	// レーヤ
	TalkMes("Reja","#4763V#000e#080mじゃあオレが守ってやらなくちゃって",
		"なんかさ、思っちまうんだ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"レーヤは大人っぽくなった")
	MenuAdd(2,"これからも頼りにしてるよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0161,"ADOL",100)	//はは（微笑）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_WAIT2_TEBURI", -1, 1 )	// 片手腰 手振り
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -33.765f , -1410.851f , 30.806f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.879f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 12.262f , 0 )	// 基本仰角
	RotateCamera( 0 , 104.950f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 9.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("Reja", -34.34f, -1410.78f, 29.75f)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -33.765f , -1410.851f , 31.046f , 60 )

	LookReset("Reja")
	ChangeAnimation( "Reja", "ANI_EV_SHAGAMI_E", -1, 1 )	// しゃがみ
	WaitAnimation2("Reja", -1, 1, "ANI_EV_SHAGAMI_E", 0)
	LookChr("Reja", "ADOL")
	TurnToChr("Reja", "ADOL", 5.0f)

	// カメラ待ち
	WaitThread(1000)
	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	//────────────────────
	//	⇒レーヤは大人っぽくなった
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		//　　レーヤ、嬉しそうに笑う。
			
		ChangeAnimation( "Reja", "ANI_EV_HOHOKAKI", -1, 1 )	// 頬かき
		
		// レーヤ
		TalkMes("Reja","#4764V#021e#080mへへっ……そうかな？","","")
		WaitPrompt()

		// レーヤ
		TalkMes("Reja","#4765V#022e#011l#080mま、まあオレにかかれば",
			"このくらいとーぜんっつーか。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒これからも頼りにしてるよ
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		//　　レーヤ、嬉しそうに笑う。
		
		ChangeAnimation( "Reja", "ANI_EV_HOHOKAKI", -1, 1 )	// 頬かき
		
		// レーヤ
		TalkMes("Reja","#4766V#021e#080mへへっ……アドル兄ちゃんに",
			"そう言われちゃ仕方ねえや。","")
		WaitPrompt()

		// レーヤ
		TalkMes("Reja","#4767V#022e#000mま、農場の事は任せといてよ。",
			"オレがバッチリ世話しとくからさ。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -33.675f , -1410.940f , 31.046f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.599f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.813f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 117.850f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 4.1f , 600 )		// ロール回転

	ChangeAnimation( "Reja", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// レーヤ
	TalkMes("Reja","#4768V#021e#000l#080m兄ちゃんたちも、",
		"困った事があれば言ってくれよな。","")
	WaitPrompt()

	// レーヤ
	TalkMes("Reja","#4769V#022e#080mオレ、これでも将来は",
		"でっかい男になる予定なんだからさっ！","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドル、頷いてみせる。
	//　　レーヤにワイワイエモーションを出しつつ暗転
	HeadYes("ADOL" , 1 , 25 )
	Wait(30)
	
	EmotionEx("Reja", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//ワイワイ
	ChangeSubAnimation("Reja", SUBMOT_EYE, ANI_E_LAUGH_S, 1)	// 目
	Wait(30)

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()

	//　　イベント終了、操作許可。
	//　　※アドルを農場入口（-27.50f, -1425.48f, 27.64f ,-20.58f）に再配置。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Reja_ED")
}
function "Sinai_Reja_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	SetChrPos("Reja", -100000.00f, 0.00f, 0.00f)

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_REJA, 1 )			// 親愛イベントを見た（レーヤ）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（レーヤ）	名声値+2
		//SetDiaryCharaFlag( DRCHA_REJA, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（レーヤ）

		SetFlag(GF_GALL_EV_LIKE_16,1)			// Sinai_Reja

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",-27.50f, -1425.48f, 27.64f)
		Turn("LEADER",-20.58f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

		FadeBGM(100, 30)
		SetEnvSEPlayState(-1, 1)

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}
function "Sinai_Reja_Adol_move"
{
	Wait(10)
	MoveTo("ADOL", -34.56f, -1412.88f, 29.75f, 0.1f, 0.25f)
	Turn("ADOL",-29.03f,8.0f)
	Wait(45)

	MoveTo("ADOL", -33.25f, -1412.24f, 29.75f, 0.1f, 0.25f)
	Turn("ADOL",-33.60f,8.0f)
	Wait(50)

	MoveTo("ADOL", -32.20f, -1411.71f, 29.75f, 0.1f, 0.25f)
	Turn("ADOL",-41.09f,8.0f)
	Wait(40)

	MoveTo("ADOL", -30.78f, -1411.00f, 29.75f, 0.1f, 0.25f)
	Turn("ADOL",-30.98f,8.0f)
}
function "Sinai_Reja_Reja_move"
{
	MoveTo("Reja",-33.75f,-1410.32f,29.75f, 0.1f, 0.20f)
	Turn("Reja",147.47f,8.0f)
	Wait(10)

	MoveTo("Reja",-38.11f,-1412.30f,29.75f, 0.1f, 0.30f)
	MoveTo("Reja",-38.86f,-1411.23f,29.75f, 0.1f, 0.20f)
	Turn("Reja",-113.36f,8.0f)
	Wait(10)

	MoveTo("Reja",-39.26f,-1407.60f,29.75f, 0.1f, 0.30f)
	Turn("Reja",171.54f,8.0f)
	Wait(10)

	MoveTo("Reja",-36.67f,-1406.25f,29.75f, 0.1f, 0.20f)
	Turn("Reja",157.80f,8.0f)
	Wait(10)

	MoveTo("Reja",-34.02f,-1404.87f,29.75f, 0.1f, 0.30f)
	Turn("Reja",147.17f,8.0f)
	Wait(10)

	MoveTo("Reja",-33.77f,-1407.18f,29.75f, 0.1f, 0.0f)
	Turn("Reja",-27.22f,8.0f)
}

//---------------------------------------------------------------
// ヒュンメル：▼プレゼントイベント２
function "Present_Hummel2_2"
{

//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,0)
	WaitFade()
	
	LoadChr("Hummel")
	LoadChr("Kuina")
	LoadChr("Ricotta")
	if (FLAG[GF_SUBEV_JOIN_REJA]) { LoadChr("Reja") }
	
	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Hummel" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Hummel" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Hummel" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Hummel", CWK_DEFAULT_SKIPNODE_OFF, 1)

	//キャラ位置
	SetChrPos("ADOL", -53.17f, -1440.56f, 29.05f)
	Turn("ADOL", 23.24f, 360.0f)
	SetChrPos("Hummel", -54.21f, -1442.11f, 29.05f)
	Turn("Hummel", -154.41f, 360.0f)
	LookReset("Hummel")
	LookSpd("Hummel", 1.0f, 1.0f, 1.0f)
	Wait(1)
	LookSpd("Hummel", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)

	//初期モーション
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeSubAnimation("Hummel",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Hummel",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Hummel",SUBMOT_EXT1,ANI_E_LOOKC,1)

	// カメラ
	MoveCameraAt( 0 , -53.501f , -1441.281f , 30.623f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.735f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.065f , 0 )	// 基本仰角
	RotateCamera( 0 , 113.762f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 0.000, 0.100 ,0.000 ,0.000 ,0.000)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.500, 1.300 ,0.500 ,1.000 ,0.600 ,0.000 ,1.000)

	//シャドウ消去
	SetShadowOffset( -10000 )

	//イベントスキップ許可
	SetSkipScript("mp1201:Present_Hummel_ED2_2")

//バストショット処理ここまで-----------------------------------------------

	// モーション
	SetChrInfoFlag("ev_eq4010", INFOFLAG_NOATARI)	// アタリ無視
	SetChrInfoFlag("ev_eq4009a", INFOFLAG_NOATARI)	// アタリ無視
	SetChrInfoFlag("ev_eq4009b", INFOFLAG_NOATARI)	// アタリ無視
	ChangeAnimation( "Hummel", "ANI_EV_JUGGLING", -1, 1 )	// ジャグリング
	SetChrPos("ev_eq4009a", -54.21f, -1442.11f, 29.05f)
	SetChrPos("ev_eq4009b", -54.21f, -1442.11f, 29.05f)
	SetParent("ev_eq4009a", "Hummel", "Null_Rhand2")
	SetParent("ev_eq4009b", "Hummel", "Null_Lhand")
	SetChrPos("ev_eq4010", -54.21f, -1442.11f, 29.05f)
	Turn("ev_eq4010", -154.41f, 360.0f)
	SetParent("ev_eq4009b", "Hummel", "root")

	Wait(30)
	LookChr("ADOL", "Hummel")

	//　　通常のイベント形式に切り替わって
	//　　画面フェードイン。

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　外れの広場でヒュンメルとアドルがおり、
	//　　ヒュンメルはジャグリングモーション。

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"すごい腕前だな")
	MenuAdd(2,"……本当に運び屋なのか？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(30)

	//────────────────────
	//	⇒すごい腕前だな
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		PlayVoice(Y8V_2170,"HUMMEL",100)	//フッ（微笑）
		TalkPopup("Hummel",0,2,0,0,0)
		{
			"#011e#080mフッ、これはまだ序の口だ。\p"
			"序の口2行目"
			"#012e#080m他にも道具があれば、"
			"もっと色々披露できたんだが。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒……本当に運び屋なのか？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		TalkPopup("Hummel",0,2,0,0,0)
		{
			"#000e#000mフフ……今更オレの“運び”に"
			"賭ける情熱を疑うというのか？"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	//　　リコッタの声が聞こえてくる。

	//PlayVoice(Y8V_2562,UNDEF,100)	//んー（平常のテンション。あらゆる場面で使用）
	PlayVoice(Y8V_2565,"RICOTTA",100)	//わわっ（嬉しい）
	SetName("リコッタの声")
	TalkPopup(UNDEF,0,1,90,260,0)
	{
		"やや、そこにいるのは"
		"ヒュンメル兄とアドル兄だな！"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")
	
	PlayVoice(Y8V_4619,UNDEF,100)	//ニシシ（企み笑い）
	Wait(30)
	SetName("クイナの声")
	TalkPopup(UNDEF,0,1,90,230,0)
	{
		"なに勝手に二人で"
		"面白そうなことしてるかな～！"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	//　　画面クロスフェードで
	//　　ヒュンメル、アドルの前に
	//　　リコッタ、クイナ、いればレーヤがいる。
	//　　（ヒュンメルのジャグリングは解除）

	// クロスフェード
	CrossFade(FADE_SLOW)
	
	// カメラ
	MoveCameraAt( 0 , -53.598f , -1440.835f , 30.743f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.856f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.841f , 0 )	// 基本仰角
	RotateCamera( 0 , 214.170f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 再配置
	SetParent("ev_eq4009a", "", "")
	SetParent("ev_eq4009b", "", "")
	SetParent("ev_eq4009b", "", "")
	SetChrPos("ev_eq4009a", -100000.00f,0.00f,0.00f)
	SetChrPos("ev_eq4009b", -100000.00f,0.00f,0.00f)
	SetChrPos("ev_eq4010", -100000.00f,0.00f,0.00f)
	ChangeAnimation( "Hummel", "ANI_EV_UDEGUMI", -1, 1 )	// 腕組
	SetChrPos("ADOL", -52.34f, -1441.71f, 29.05f)
	Turn("ADOL", 116.77f, 360.0f)
	SetChrPos("Hummel", -53.63f, -1442.26f, 29.05f)
	Turn("Hummel", -168.62f, 360.0f)

	SetChrPos("Kuina", -54.07f, -1440.46f, 29.05f)
	Turn("Kuina", -18.25f, 360.0f)
	SetChrPos("Ricotta", -53.32f, -1440.27f, 29.05f)
	Turn("Ricotta", 3.07f, 360.0f)
	LookChr("Ricotta", "Hummel")
	LookChr("Kuina", "Hummel")
	LookChr("ADOL", "Ricotta")

	if (FLAG[GF_SUBEV_JOIN_REJA]) {
		//	⇒レーヤがいる場合
		SetChrPos("Reja", -52.51f, -1440.10f, 29.05f)
		Turn("Reja", 13.73f, 360.0f)
		LookChr("Reja", "Hummel")
	}
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -53.598f , -1440.835f , 30.403f , 90)
	
	// フェード待ち
	Wait(FADE_SLOW)
	
	// カメラ待ち
	WaitThread(1000)
	
	Wait(10)

	//──────────────────────
	//	⇒レーヤがいる場合
	if (FLAG[GF_SUBEV_JOIN_REJA])
	{
	
		TalkPopup("Hummel",0,2,0,0,0)
		{
			"#000e#000mふむ、みんな"
			"ちゃんと手は洗ったのか？"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "Reja", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
		Wait(10)

		PlayVoice(Y8V_4744,"Reja",100)	//へへ（微笑）
		
		//	"Reja"
		TalkPopup("Reja",0,1,0,0,0)
		{
			"#000e#000mへへ、心配しなくても"
			"大丈夫だって。"
		}
		WaitPrompt()
		WaitCloseWindow()
	
	} else {
	//	⇒いない場合
		TalkPopup("Hummel",0,2,0,0,0)
		{
			"#000e#000mふむ、二人とも"
			"ちゃんと手は洗ったのか？"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "Kuina", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
		Wait(10)

		//	"Kuina"
		TalkPopup("Kuina",0,1,0,0,0)
		{
			"#000e#000mにしし、もっちろん！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────
	
	TalkPopup("Ricotta",0,1,0,0,0)
	{
		"#000e#000mしかと見る！　ピッカピカ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルに「パッ」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f )	// 「PA」
	Wait(35)
	
	//　　ヒュンメルの方を見る。
	LookChr("ADOL", "Hummel")
	Wait(20)
	
	LookChr("Hummel", "ADOL")
	ChangeAnimation( "Hummel", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	Wait(5)
	PlayVoice(Y8V_2165,"Hummel",100)	//ああ（平常のテンション。あらゆる場面で使用）
	
	TalkPopup("Hummel",0,2,0,0,0)
	{
		"#000e#000mあ、ああ……察しの通りだ。\p"
		"#011e#000mこの間の石鹸なんだが"
		"子供たちに使わせてもらった。\p"
		"#012e#000m何しろ彼女たちは遊びたい盛り──"
		"この島じゃ手は汚れる一方だ。\p"
		"雑菌をそのままにしておくと、"
		"病気になるかもしれないからな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　クイナに「怒り」エモーション。
	EmotionEx("Kuina", 0.00f, EMO_MUKA, 0, 5, 1, 1, 1.0f )	// 「ムカッ」
	Wait(40)
	
	TalkPopup("Kuina",0,1,0,0,0)
	{
		"#000e#000mもー、また二人だけで話してる！"
	}
	WaitPrompt()
	WaitCloseWindow()


	ChangeAnimation( "Ricotta", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	Wait(10)
	LookChr("Hummel", "Ricotta")

	//	"RICOTTA"
	TalkPopup("Ricotta",0,1,0,0,0)
	{
		"#000e#000mヒュンメル兄、"
		"さっき玉使って何かしてた！\p"
		"リコッタたちにも見せる！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒レーヤがいる場合
	if (FLAG[GF_SUBEV_JOIN_REJA])
	{
		
		TalkPopup("Reja",0,1,0,0,0)
		{
			"#000e#000mそうだそうだ！"
			"アドル兄ちゃんだけずるいぜ！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────
	
	PlayVoice(Y8V_2171,"Hummel",100)	//フフ（微笑）
	TalkPopup("Hummel",0,2,0,0,0)
	{
		"#011e#080mフフ、仕方ない。\p"
		"#012e#080mでは改めて披露しよう──"
		"くれぐれも見逃さないことだ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　画面フェードアウト。

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//	ナレーション
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0)
	{
		"#7Cこうしてヒュンメルが改めて"
		"#7Cジャグリングを披露すると──\p"
		"#7C子供たちは、目をキラキラと輝かせて"
		"#7C大いに喜ぶのだった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//↓他のキャラと合わせてあります。
	//────────────────────
	//	⇒好感度が一段階上がる場合
	if( FLAG[GF_LIKELV_HUMMEL] < 2 )
	{

		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cヒュンメルの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{

		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cヒュンメルの好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	PlaySE( SE_HEAL , 100 , 0,  0, 0, 1.0f, 0)
	Message("#-1W#4CヒュンメルのＤＥＦが５増えた。#10W")
	WaitPrompt()
	Wait(10)

	PlaySE( SE_HEAL , 100 , 0,  0, 0, 1.0f, 0)
	Message("#-1W#4CアドルのＤＥＦが２増えた。#10W")
	WaitPrompt()
	Wait(10)

//　　イベント終了、操作許可。



//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Present_Hummel_ED2_2")
}
function "Present_Hummel_ED2_2"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前の状態を復帰
	RestoreEventState()

	//隠したものを復帰
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	SetParent("ev_eq4009a", "", "")
	SetParent("ev_eq4009b", "", "")
	SetParent("ev_eq4009b", "", "")
	SetChrPos("ev_eq4009a", -100000.00f,0.00f,0.00f)
	SetChrPos("ev_eq4009b", -100000.00f,0.00f,0.00f)
	SetChrPos("ev_eq4010", -100000.00f,0.00f,0.00f)
	SetChrPos("Hummel", -100000.00f,0.00f,0.00f)
	SetChrPos("Ricotta", -100000.00f,0.00f,0.00f)
	SetChrPos("Kuina", -100000.00f,0.00f,0.00f)
	SetChrPos("Reja", -100000.00f,0.00f,0.00f)

	SetShadowOffset(0)

	//一般配置の復帰
	CallFunc("talk:NpcPosition")

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
//	ReleaseEventPartyChr()

	//フラグ立て・アイテム回収
	DeleteItem( ICON3D_PRESENT_HUMMEL2, 1 )	//「ジャグリングボール」
	SetFlag( GF_SUBEV_PRESENT_HUMMEL2, 1 )	// プレゼント2を渡した（ヒュンメル）
	SetFlag( GF_LIKELV_HUMMEL, ( FLAG[GF_LIKELV_HUMMEL] + 1 ) )	// 好感度ＵＰ
	//SetDiaryCharaFlag( DRCHA_HUMMEL, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（ヒュンメル）

	SetChrWork("HUMMEL",CWK_SUP_DEF,(HUMMEL.CHRWORK[CWK_SUP_DEF] + 5))		//好感度と合わせてアップ
	SetChrWork("ADOL",CWK_SUP_DEF,(ADOL.CHRWORK[CWK_SUP_DEF] + 2))			//好感度と合わせてアップ

	CallFunc("system:SetMarkerNPC")		//ＮＰＣマーカーセット

	SetChrPos("LEADER",-42.14f, -1440.66f, 28.51f)
	Turn("LEADER",71.69f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰 or 初期位置設定
	MoveCameraAt( 0 , -42.139f , -1440.663f , 30.375f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 12.557f , 0 )	// 基本仰角
	RotateCamera( 0 , 108.310f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

//	RestoreCamera(0,0)						//※イベント終了時のカメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")
	
	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//■クエストセクション

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//===============================================================
//
// 【QS300】祈願の木（サハド）
// ▼クエスト達成イベント
//
function "QS_300_Complete"
{

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Dogi")
	LoadChr("Alison")
	LoadChr("Dina")
	LoadChr("Kuina")
	LoadChr("Katrin")
	LoadChr("Licht")
	LoadChr("Aaron")

	//LoadChr("SAHAD")
	//LoadChr("LAXIA")
	//LoadChr("HUMMEL")
	//LoadChr("RICOTTA")
	//LoadChr("DANA")
	LoadChr("Thanatos")
	LoadChr("Nia_1")
	LoadChr("Nia_2")

	CallFunc("system:Load_Reja_Event")
	CallFunc("system:Load_Miralda_Event")
	CallFunc("system:Load_Franz_Event")
	CallFunc("system:Load_Ed_Event")
	CallFunc("system:Load_Silvia_Event")
	CallFunc("system:Load_Nia_Event")
	CallFunc("system:Load_Kashu_Event")
	CallFunc("system:Load_Austen_Event")

	if (FLAG[GF_QS311_LOOK_EVENT]){		// 【QS311】▼衣装を破れたイベント を見た

		SetChrID( "Nia_2", "Nia")		// 破れ衣装
	} else {
		SetChrID( "Nia_1", "Nia")		// 初期衣装
	}

	if (FLAG[GF_05MP1213_INTERCEPT_DANA] &&	//「★第五部①迎撃戦⑧が発生」以降
		!FLAG[GF_NPC_5_07_GOTO_VALLAY])		//配置なし「▼第五部⑦王家の谷へ向かう」
	{
		LoadChr("DANA")
	}

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	// 集落を発展させる
	MapAnime( "wishtree" , "Lv1" )	// Lv1			10-11[E]	木が有る状態です
	MapHide( "wishtree_alpha" , 1 )
	MapHide("wishtree", 1)

	//キャラ初期状態の設定
	//↓必ずいる
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -54.92f, -1452.71f, 29.06f)
	Turn("ADOL", -155.55f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", -53.71f, -1453.45f, 29.07f)
	Turn("SAHAD", -171.71f, 360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("SAHAD")
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)

	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Katrin", -53.86f, -1450.37f, 29.05f)
	Turn("Katrin", -12.14f, 360.0f)
	ChangeAnimation( "Katrin" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Katrin")
	SetChrInfoFlag( "Katrin" , INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", -53.90f, -1451.30f, 29.05f)
	Turn("LAXIA", -3.03f, 360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("LAXIA")
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", -51.69f, -1450.41f, 29.05f)
	Turn("Aaron", 32.48f, 360.0f)
	ChangeAnimation( "Aaron" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Aaron")
	SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI)

	if( ( FLAG[GF_QUEST_510] == QUEST_NOTHING && FLAG[GF_QS510_LOOK_SUBEV] )||	//【QS510】▼サブイベント・アリスンが倒れる を見た
		( FLAG[GF_QUEST_510] == QUEST_START ) )									//【QS510】故郷の花　クエスト開始した
	{
		// 出産クエスト中であれば登場させない。
	}
	else
	{
		SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Alison", -55.84f, -1450.95f, 29.05f)
		Turn("Alison", -43.60f, 360.0f)
		ChangeAnimation( "Alison" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Alison")
		SetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI)
	}

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", -52.69f, -1450.28f, 29.05f)
	Turn("Dogi", 8.75f, 360.0f)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dogi")
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI)

	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dina", -52.07f, -1451.70f, 29.05f)
	Turn("Dina", 20.26f, 360.0f)
	ChangeAnimation( "Dina" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dina")
	SetChrInfoFlag( "Dina" , INFOFLAG_NOCHRATARI)

	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Licht", -54.92f, -1450.53f, 29.05f)
	Turn("Licht", -27.48f, 360.0f)
	ChangeAnimation( "Licht" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Licht")
	SetChrInfoFlag( "Licht" , INFOFLAG_NOCHRATARI)

	SetChrWork("Kuina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kuina", -53.15f, -1452.00f, 29.05f)
	Turn("Kuina", 2.07f, 360.0f)
	ChangeAnimation( "Kuina" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Kuina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kuina",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Kuina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Kuina")
	SetChrInfoFlag( "Kuina" , INFOFLAG_NOCHRATARI)

	//条件次第でいる
	if (FLAG[GF_05MP1201_JOIN_DANA])
	{
		if(FLAG[GF_NPC_5_07_GOTO_VALLAY] && !FLAG[GF_NPC_5_08_MEET_DANA])
		{
			//配置なし
		}
		else
		{
			SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
			SetChrPos("DANA",-54.71f,-1451.52f,29.05f)
			Turn("DANA",-25.98f,360.0f)
			ChangeAnimation( "DANA" , "ANI_WAIT", -1 , 1 )
			ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
			ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)
			ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
			LookReset("DANA")
			SetChrInfoFlag( "DANA" , INFOFLAG_NOCHRATARI)
		}
	}

	if( FLAG[GF_SUBEV_JOIN_MIRALDA] )			// ミラルダと合流した
	{
		SetChrWork("Miralda", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Miralda", -53.34f, -1450.89f, 29.05f)
		Turn("Miralda", 3.58f, 360.0f)
		ChangeAnimation( "Miralda" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Miralda",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Miralda",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Miralda",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Miralda")
		SetChrInfoFlag( "Miralda" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_NIA] )				// シスター・ニアと合流した
	{
		SetChrWork("Nia", CWK_DEFAULT_SKIPNODE_OFF, 0)	//遠いところ配置セリフなし、スキップノードをONする
		//SetChrPos("Nia", -100000.0f, 0.00f, 0.00f)		//最初のカットは不登場---------------フレーム下がる対策
		SetChrPos("Nia", -57.01f, -1451.20f, 29.05f)
		Turn("Nia", -33.06f, 360.0f)
		ChangeAnimation( "Nia" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Nia",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Nia",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Nia",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Nia")
		SetChrInfoFlag( "Nia" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_KASHU] )				// カシューと合流した
	{
		SetChrWork("Kashu", CWK_DEFAULT_SKIPNODE_OFF, 0)	//スキップノードをONする----------------フレーム下がる対策
		SetChrPos("Kashu", -50.94f, -1450.60f, 29.05f)
		Turn("Kashu", 37.67f, 360.0f)
		ChangeAnimation( "Kashu" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Kashu",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Kashu",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Kashu",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Kashu")
		SetChrInfoFlag( "Kashu" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_GRISELDA] )			// グリゼルダと合流した
	{
		// グリゼルダ		６部以降に再合流なので、配置なし
	}

	if( FLAG[GF_NPC_3_03_JOIN_RICOTTA] )		//▼第三部③リコッタが仲間になった
	{
		SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 0)	//スキップノードをONする-----------------フレーム下がる対策
		SetChrPos("RICOTTA", -51.54f, -1452.05f, 29.05f)
		Turn("RICOTTA", 30.50f, 360.0f)
		ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("RICOTTA")
		SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI)
	}

	//if( FLAG[GF_TBOX_DUMMY077] )			// 大穴に向けて出発する
	if (FLAG[GF_SUBEV_JOIN_ED])	
	{
		SetChrWork("Ed", CWK_DEFAULT_SKIPNODE_OFF, 0)	//遠いところ配置セリフなし、スキップノードをONする
		//SetChrPos("Ed", -100000.0f, 0.00f, 0.00f)		//最初のカットは不登場--------------------フレーム下がる対策
		SetChrPos("Ed", -56.15f, -1451.44f, 29.05f)
		Turn("Ed", -26.07f, 360.0f)
		ChangeAnimation( "Ed" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Ed",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Ed",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Ed",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Ed")
		SetChrInfoFlag( "Ed" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_FRANZ] )				// フランツと合流した
	{
		SetChrWork("Franz", CWK_DEFAULT_SKIPNODE_OFF, 0)	//スキップノードをONする-----------------フレーム下がる対策
		//SetChrPos("Franz", -100000.0f, 0.00f, 0.00f)		//最初のカットは不登場---------------フレーム下がる対策
		SetChrPos("Franz", -56.49f, -1450.30f, 29.05f)
		Turn("Franz", -17.70f, 360.0f)
		ChangeAnimation( "Franz" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Franz",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Franz",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Franz",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Franz")
		SetChrInfoFlag( "Franz" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_NPC_5_01_BEFORE_INTERCEPT8] )	//「★第五部①迎撃戦⑧が発生」
	{
		SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 0)	//スキップノードをONする------------------フレーム下がる対策
		SetChrPos("Thanatos", -50.78f, -1451.68f, 29.05f)
		Turn("Thanatos", 47.42f, 360.0f)
		ChangeAnimation( "Thanatos" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Thanatos",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Thanatos",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Thanatos",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Thanatos")
		SetChrInfoFlag( "Thanatos" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_AUSTEN] )			// オースティンと合流した
	{
		SetChrWork("Austen", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Austen", -54.73f, -1449.65f, 29.05f)
		Turn("Austen", -29.08f, 360.0f)
		ChangeAnimation( "Austen" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Austen",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Austen",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Austen",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Austen")
		SetChrInfoFlag( "Austen" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_NPC_4_01_GOTO_NORTH] )			//▼第四部①島北部に足を踏み入れた
	{
		SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 0)	//スキップノードをONする-----------------フレーム下がる対策
		SetChrPos("HUMMEL", -56.01f, -1449.84f, 29.05f)
		Turn("HUMMEL", -35.75f, 360.0f)
		ChangeAnimation( "HUMMEL" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("HUMMEL",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("HUMMEL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("HUMMEL",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("HUMMEL")
		SetChrInfoFlag( "HUMMEL" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_REJA] )				// レーヤと合流した
	{
		SetChrWork("Reja", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Reja", -52.72f, -1451.58f, 29.05f)
		Turn("Reja", 23.23f, 360.0f)
		ChangeAnimation( "Reja" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Reja",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Reja",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Reja",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Reja")
		SetChrInfoFlag( "Reja" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_SILVIA] )			// シルヴィアと合流した
	{
		SetChrWork("Silvia", CWK_DEFAULT_SKIPNODE_OFF, 0)
		//SetChrPos("Silvia", -100000.0f, 0.00f, 0.00f)		//最初のカットは不登場-------------------フレーム下がる対策
		SetChrPos("Silvia", -56.84f, -1449.18f, 29.05f)
		Turn("Silvia", -19.33f, 360.0f)
		ChangeAnimation( "Silvia" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Silvia",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Silvia",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Silvia",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Silvia")
		SetChrInfoFlag( "Silvia" , INFOFLAG_NOCHRATARI)
	}

	// カーラン卿		６部以降に再合流なので、配置なし

	//SetChrInfoFlag("ADOL", INFOFLAG_NOREALSHADOW)  //----------------------------------------------フレーム下がる対策
	//SetChrInfoFlag("SAHAD", INFOFLAG_NOREALSHADOW)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

//	if( FLAG[GF_03MP1201_ALARM_INTERCEPT] && !FLAG[GF_TBOX_DUMMY073]){				//
//		StopBGM(90)
//	} else if( FLAG[GF_05MP1201_IN_MEETING] && !FLAG[GF_05MP1201_JOIN_DANA] ){				//ダーナ発見～古代種の襲撃
//		StopBGM(90)
//	} else if( FLAG[GF_05MP6330_LOOK_MONOLITH] && !FLAG[GF_05MP1201_GOTO_GHOSTHIP] ){		//幽霊船を目撃
//		StopBGM(90)
//	} else if (FLAG[GF_05MP0405_READ_REED] && !FLAG[GF_05MP1202_CHECK_MAP]){				// キャプテン・リードと別れる２
//		StopBGM(90)
//	} else if (FLAG[GF_05MP1201_OCEANUS_STANDBY] && !FLAG[GF_05MP1201_HOLD_PARTY]){			// オケアノス戦前
//		StopBGM(90)
//	}

	//　　サハドに注目する一同。
	//登場の可能性があるキャラ全てサハドに振り向かせてます
	LookChr("ADOL", "SAHAD")
	LookChr("Katrin", "SAHAD")
	LookChr("LAXIA", "SAHAD")
//	LookChr("Aaron", "SAHAD")
	LookChr("Alison", "SAHAD")
	LookChr("Dogi", "SAHAD")
	LookChr("Dina", "SAHAD")
	LookChr("Licht", "SAHAD")
	LookChr("Kuina", "SAHAD")
	LookChr("DANA", "SAHAD")
	LookChr("Miralda", "SAHAD")
	LookChr("Nia", "SAHAD")
	LookChr("Kashu", "SAHAD")
	//LookChr("Griselda", "SAHAD")
	LookChr("RICOTTA", "SAHAD")
	LookChr("Ed", "SAHAD")
	LookChr("Franz", "SAHAD")
	LookChr("Thanatos", "SAHAD")
	LookChr("Austen", "SAHAD")
	LookChr("HUMMEL", "SAHAD")
	LookChr("Reja", "SAHAD")
	LookChr("Silvia", "SAHAD")
	//LookChr( "Curran", 		"SAHAD" )
	Wait(10)

	StopBGM(120)

	//カメラ設定
	MoveCameraAt( 0 , -55.559f , -1447.833f , 31.470f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 10.311f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -5.784f , 0 )	// 基本仰角
	RotateCamera( 0 , 113.160f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 120.000 ,0.000 ,0.700 ,0.550)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	SetShadowBound( 16.0f , 16.0f )
	SetShadowSoft( 1.0f )
	
	//スキップ許可
	SetSkipScript("mp1201:QS_300_Complete_ED")

//開始処理ここまで-----------------------------------------------

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cアドルたちは持ち帰った木を"
		"#7C憩いの広場に植えることにした。\p"
		"#7Cそして──"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -54.953f , -1449.821f , 31.470f, 90)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 3.786f, 90)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 151.961f, 90)		// 角度
//	ExecuteCmd(1003, ChangeCameraPers, INTERPOLATE_SPHERE, 60.000f, 90)		// 視野角

//	MoveCameraAt( 0 , -54.953f , -1449.821f , 31.470f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 10.311f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -5.784f , 0 )	// 基本仰角
//	RotateCamera( 0 , 113.160f , 0 )				// 角度
//	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
//	//PlayBGM(BGM_TOWN_501, 0)

	SetEnvSEPlayState(-1, 1)	//環境SE

	//　　フェードインして集落外れ・祈願の木の前。
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	//　　祈願の木が設置された状態でアドル、サハドがおり
	//　　その前に村のＮＰＣたちが集まっている。
	//　　フリーキャラも、回収している分は登場させておく。
	//　　（コスト的に厳しい場合はカットしても良い）
	//　　またアリスンに関しては、出産クエスト中であれば登場させない。
	//　　ヒュンメルは第四部以降なら登場させる。

	CrossFade(FADE_NORMAL)
	MoveCameraAt( 0 , -53.178f , -1451.267f , 30.230f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.801f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.591f , 0 )	// 基本仰角
	RotateCamera( 0 , 25.831f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetShadowBound( 16.0f , 16.0f )
	SetShadowSoft( 1.0f )

	Wait(FADE_NORMAL)
	Wait(5)

	TalkPopup("Aaron",0,0,0,0,0)
	{
		"#000e#000mなんだァ、この騒ぎは。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "Aaron")
	ChangeAnimation("LAXIA", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#000e#000mさあ……皆さんも"
		"急に呼び出されたようですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("SAHAD", "ANI_EV_TEBURI", -1, 1)
	PlayVoice(Y8V_1416, "SAHAD", 100)	//よし！（明るく）
	TalkPopup("SAHAD",0,0,0,0,0)
	{
		"#18S#000e#000mよしよし、みなの衆！"
	}
	WaitPrompt()
	WaitCloseWindow()


	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -53.292f, -1451.339f, 30.230f, 45)		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 4.802f, 45)		// 視野角
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 14.898f, 45)		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 9.465f, 45)		// 角度

	LookChr("Aaron", "SAHAD")
	LookChr("LAXIA", "SAHAD")
	
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	PlayBGM(BGM_EVENT_001, 0)

	//CrossFade(FADE_NORMAL)

	//// 被写界深度の設定
	//SetDoF(0, LERP_LINEAR, 1.000, 20.000, 0.000, 0.700, 0.500)
	////----------------------------------------フレーム下がる対策

	//MoveCameraAt(0, -53.292f, -1451.339f, 30.230f, 0)	// 注視点
	//ChangeCameraDistance(0, 4.802f, 0)		// 基本距離
	//ChangeCameraElevation(0, 14.898f, 0)	// 基本仰角
	//RotateCamera(0, 9.465f, 0)				// 角度
	//ChangeCameraPers(0, 50.000f, 0)			// 視野角
	//SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	//RollCamera(0, 0.0f, 0)				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//Wait(FADE_NORMAL)

	ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("SAHAD",0,1,80,140,0)
	{
		"#000e#000mこれから貝殻を配るから、"
		"それぞれ願い事を書いてくれんか。\p"
		"一人につき１つで頼むぜ、ガハハ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	EmotionEx("Katrin", 0.00f, EMO_Q, 0, 5, 1, 1, 1.1f)	// 「？」
	Wait(40)
	TalkPopup("Katrin",0,0,0,0,0)
	{
		"#000e#000m願い事、ですって？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dina", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("Dina",0,0,0,0,0)
	{
		"#000e#000mそんなの決まってるじゃない。"
		"早く帰りたい……それだけでしょ！？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//────────────────────
	//	⇒レーヤがいる
	if( FLAG[GF_SUBEV_JOIN_REJA] )				// レーヤと合流した
	{
		HeadYes("Reja", 1, 25)
		Wait(25)
		TalkPopup("Reja",0,0,0,0,0)
		{
			"#000e#000mそうだよ、書くまでもないっての！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	LookReset("Kuina")
	ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	ChangeAnimation("Kuina", "ANI_EV_SIAN_S", -1, 1)
	WaitAnimation2("Kuina", -1, 1, "ANI_EV_SIAN_S", 0)

	TalkPopup("Kuina",0,2,0,0,0)
	{
		"#010e#000mんー、ホントにそうかなぁ？"
	}
	WaitPrompt()
	WaitCloseWindow()


	//　　みんなにＰＡエモーション。
	//登場の可能性があるキャラ全てＰＡさせてます
//	EmotionEx( "ADOL",		0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
//	EmotionEx( "SAHAD",		0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx( "Katrin",	0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx( "LAXIA",		0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx( "Aaron",		0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx( "Alison",	0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx( "Dogi",		0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx( "Dina",		0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx( "Licht",		0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
//	EmotionEx( "Kuina",		0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx( "DANA",		0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx( "Miralda",	0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx( "Nia",		0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx( "Kashu",		0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx( "Griselda",	0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx( "RICOTTA",	0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
//	EmotionEx( "Ed",		0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
//	EmotionEx( "Franz",		0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx( "Thanatos",	0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx( "Austen",	0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx( "HUMMEL",	0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	EmotionEx( "Reja",		0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
//	EmotionEx( "Silvia",	0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	//EmotionEx( "Curran",	0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(25)

	//　　クイナに集中する。
	//登場の可能性があるキャラ全てクイナに振り向かせてます
	LookChr( "ADOL", 		"Kuina" )
	LookChr( "SAHAD", 		"Kuina" )
	LookChr( "Katrin", 		"Kuina" )
	LookChr( "LAXIA", 		"Kuina" )
	LookChr( "Aaron", 		"Kuina" )
	LookChr( "Alison", 		"Kuina" )
	LookChr( "Dogi", 		"Kuina" )
	LookChr( "Dina", 		"Kuina" )
	LookChr( "Licht", 		"Kuina" )
	LookChr( "DANA", 		"Kuina" )
	LookChr( "Miralda", 	"Kuina" )
	//LookChr( "Nia",	 		"Kuina" )
	LookChr( "Kashu", 		"Kuina" )
	//LookChr( "Griselda",	"Kuina" )
	LookChr( "RICOTTA", 	"Kuina" )
	//LookChr( "Ed", 			"Kuina" )
	//LookChr( "Franz", 		"Kuina" )
	LookChr( "Thanatos", 	"Kuina" )
	LookChr( "Austen", 		"Kuina" )
	LookChr( "HUMMEL", 		"Kuina" )
	LookChr( "Reja", 		"Kuina" )
	//LookChr( "Silvia", 		"Kuina" )
	//LookChr( "Curran", 		"Kuina" )
	Wait(20)

	CrossFade(FADE_FAST)
	MoveCameraAt( 0 , -53.118f , -1451.328f , 30.326f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.418f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.585f , 0 )	// 基本仰角
	RotateCamera( 0 , 8.983f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.996f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//画面外に出たキャラクターを非表示する				//----------------------------------------フレーム下がる対策
	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Alison", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Dina", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Licht", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Kuina", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Miralda", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Nia", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Kashu", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Griselda", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Ed", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Franz", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Austen", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Reja", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Silvia", INFOFLAG_INVISIBLE)

	ChangeAnimation("Kuina", "ANI_EV_SIAN_E", -1, 1)

	Wait(FADE_FAST)

	LookChr("Kuina", "SAHAD")

	TalkPopup("Kuina",0,2,0,0,0)
	{
		"#000e#000mわたしなら、もっと"
		"スゴイお願いにするけどな～。"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2("Kuina", -1, 1, "ANI_EV_SIAN_E", 0)
	ChangeAnimation("Kuina", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("Kuina", 0, 2, 0, 0, 0)
	{
		"#000e#080mだってこの島から出られたら"
		"やりたい事がいーっぱいあるんだもん。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Kuina", "ANI_EV_RYOTEKOSI_E", -1, 1)
	TalkPopup("Kuina", 0, 2, 0, 0, 0)
	{
		"#020e#080mにしし、島から出るだけの願い事なんて"
		"もったいナイナイってね♪"
	}
	WaitPrompt()
	WaitCloseWindow()

	EmotionEx("Kuina", 0.00f, EMO_ONPU, 0, 5, 1, 1, 1.0f)	// ♪
	Wait(40)

	//ChangeAnimation("Kuina", "ANI_EV_HOHOKAKI", -1, 1)

	TalkPopup("Licht",0,0,0,0,0)
	{
		"#000e#000mそ、そう言われれば……そうですね。"
	}
	WaitPrompt()
	WaitCloseWindow()


	//────────────────────
	//	⇒オースティンがいる
	if( FLAG[GF_SUBEV_JOIN_AUSTEN] )			// オースティンと合流した
	{
		HeadYes("Austen", 1, 25)

		TalkPopup("Austen",0,0,0,0,0)
		{
			"#000e#000mフッ、確かに僕には"
			"高尚な願いがあるな……！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────


	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)

	ChangeAnimation("Dogi", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Dogi", 0, 1, 0, 0, 0)
	{
		"#000e#000mああ、つい忘れちまってたが……"
		"つい2行目"

	}
	WaitPrompt()
	WaitCloseWindow()

	//LookChr("ADOL", "Dogi")
	LookChr("Katrin", "Dogi")
	LookChr("LAXIA", "Dogi")
	LookChr("Aaron", "Dogi")
	LookChr("Alison", "Dogi")
	LookChr("Dina", "Dogi")
	LookChr("Licht", "Dogi")
	LookChr("Kuina", "Dogi")
	LookChr("DANA", "Dogi")
	LookChr("Miralda", "Dogi")
	LookChr("Nia", "Dogi")
	LookChr("Kashu", "Dogi")
	//LookChr("Griselda", "Dogi")
	//LookChr("RICOTTA", "Dogi")
	LookChr("Ed", "Dogi")
	LookChr("Franz", "Dogi")
	//LookChr("Thanatos", "Dogi")
	LookChr("Austen", "Dogi")
	LookChr("HUMMEL", "Dogi")
	LookChr("Reja", "Dogi")
	LookChr("Silvia", "Dogi")
	//LookReset("Dogi")
	ChangeAnimation("Dina", "ANI_EV_UDEGUMI_E", -1, 1)

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -53.096f, -1450.486f, 30.375f, 60)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 18.327f, 60)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 2.677f, 60)		// 角度

	//MoveCameraAt( 0 , -53.096f , -1450.486f , 30.375f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.418f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 18.327f , 0 )	// 基本仰角
	//RotateCamera( 0 , 2.677f , 0 )				// 角度
	//ChangeCameraPers( 0 , 45.996f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_LAUGH_E, 1)
	Wait(30)
	
	
	LookChr("Dogi", "SAHAD")
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//
	//画面外に出たキャラクターを非表示する				//----------------------------------------フレーム下がる対策
	//SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	//非表示中
	//SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	//非表示中
	//SetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Alison", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Dina", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Licht", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Kuina", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Miralda", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Nia", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Kashu", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Griselda", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)	//非表示中
	//SetChrInfoFlag("Ed", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Franz", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)	//非表示中
	//SetChrInfoFlag("Austen", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Reja", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Silvia", INFOFLAG_INVISIBLE)

	TalkPopup("Dogi", 0, 1, 0, 0, 0)
	{
		"#000e#000m俺たちはただ生き延びるために"
		"島を出ようとしてるんじゃねえよな。"

	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("Dogi",0,1,0,0,0)
	{
		"#080e#080m俺たちの本当の願いってのは、"
		"そ#2R・#Rの#2R・#R先#2R・#Rにあるはずだぜ。"		//（その先を・で強調）
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　うなずきあう漂流者たち。
	//登場の可能性があるキャラ全て頷かせています

	//HeadYes("ADOL", 1, 25)
	//HeadYes("SAHAD", 1, 25)
	HeadYes("Katrin", 1, 25)
	HeadYes("LAXIA", 1, 25)
	HeadYes("Aaron", 1, 25)
	//HeadYes("Alison", 1, 25)
	//HeadYes("Dogi", 1, 25)
	HeadYes("Dina", 1, 25)
	HeadYes("Licht", 1, 25)
	//HeadYes("Kuina", 1, 25)
	//HeadYes("DANA", 1, 25)
	HeadYes("Miralda", 1, 25)
	HeadYes("Nia", 1, 25)
	HeadYes("Kashu", 1, 25)
	//HeadYes("Griselda", 1, 25)
	//HeadYes("RICOTTA", 1, 25)
	//HeadYes("Ed", 1, 25)
	//HeadYes("Franz", 1, 25)
	//HeadYes("Thanatos", 1, 25)
	HeadYes("Austen", 1, 25)
	//HeadYes("HUMMEL", 1, 25)
	HeadYes("Reja", 1, 25)
	//HeadYes("Silvia", 1, 25)
	//	HeadYes( "Curran",		1 , 25 )

	Wait(40)

	CrossFade(FADE_CROSS)

	ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Kuina", SUBMOT_MOUTH, ANI_M_WAIT, 1)

	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)

	// 再表示									//----------------------------------------フレーム下がる対策
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Alison", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Dina", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Licht", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Kuina", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Miralda", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Nia", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Kashu", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Griselda", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Ed", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Franz", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Austen", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Reja", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Silvia", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Curran", INFOFLAG_INVISIBLE)	

	LookChr("ADOL", "SAHAD")
	LookChr("Katrin", "SAHAD")
	LookChr("LAXIA", "SAHAD")
	LookChr("Aaron", "SAHAD")
	LookChr("Alison", "SAHAD")
	LookChr("Dogi", "SAHAD")
	LookChr("Dina", "SAHAD")
	LookChr("Licht", "SAHAD")
	LookChr("Kuina", "SAHAD")
	LookChr("DANA", "SAHAD")
	LookChr("Miralda", "SAHAD")
	LookChr("Nia", "SAHAD")
	LookChr("Kashu", "SAHAD")
	LookChr("Griselda", "SAHAD")
	LookChr("RICOTTA", "SAHAD")
	LookChr("Ed", "SAHAD")
	LookChr("Franz", "SAHAD")
	LookChr("Thanatos", "SAHAD")
	LookChr("Austen", "SAHAD")
	LookChr("HUMMEL", "SAHAD")
	LookChr("Reja", "SAHAD")
	LookChr("Silvia", "SAHAD")
	LookReset("SAHAD")
	
	MoveCameraAt( 0 , -54.133f , -1451.890f , 30.291f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.865f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 21.436f , 0 )	// 基本仰角
	RotateCamera( 0 , 161.468f , 0 )				// 角度
	ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetShadowBound( 96.0f , 96.0f )
	SetShadowSoft( 2.0f )

	Wait(FADE_CROSS)

	ChangeAnimation("SAHAD", "ANI_EV_RYOTEBURI", -1, 1)
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#080e#080mガハハ、ちなみに貝殻は"
		"いろんな物を用意したぜ。\p"
		"青いのは仕事運、黄色は商運……"
		"ピンクは恋運に効くなんていわれとるな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dina", "ANI_EV_GUTSPOSE_S", -1, 1)		//さっと挙手するディナ
	TalkPopup("Dina",0,0,0,0,0)
	{
		"#000e#000mハイッ、黄色ください！"
	}
	WaitPrompt()
	WaitCloseWindow()

	EmotionEx("Dina", 0.00f, EMO_KIRA, 0, 5, 1, 1, 1.5f)	// キラキラ
	Wait(30)

	//────────────────────
	//	⇒ミラルダがいる
	if( FLAG[GF_SUBEV_JOIN_MIRALDA] )			// ミラルダと合流した
	{
		TalkPopup("Miralda",0,0,0,0,0)
		{
			"#000e#000m私はやっぱりピンクかしら。"
		}
		WaitPrompt()
		WaitCloseWindow()
		EmotionEx("Miralda", 0.00f, EMO_LOVE, 0, 5, 1, 1, 1.0f)	// ハート
		Wait(30)
	}
	//────────────────────

	if( FLAG[GF_NPC_4_01_GOTO_NORTH] )			//▼第四部①島北部に足を踏み入れた
	{
		TalkPopup("HUMMEL",0,0,0,0,0)
		{
			"#010e#000m──青を頼む。"	//（キラーン）
		}
		WaitPrompt()
		WaitCloseWindow()
		EmotionEx("HUMMEL", 0.03f, EMO_KIRI, 0, 5, 1, 1, 1.7f)	// 「キラーン」	
		Wait(35)
	}

	EmotionEx("Katrin", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//パッ
	EmotionEx("Ed", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//パッ
	Wait(10)
	EmotionEx("LAXIA", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//パッ
	EmotionEx("Alison", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//パッ
	EmotionEx("Dogi", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//パッ
	Wait(10)
	EmotionEx("Licht", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//パッ
	EmotionEx("Kuina", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//パッ
	EmotionEx("DANA", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//パッ
	EmotionEx("Nia", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//パッ
	Wait(10)
	EmotionEx("Kashu", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//パッ
	EmotionEx("RICOTTA", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//パッ	
	EmotionEx("Franz", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//パッ
	EmotionEx("Aaron", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//パッ
	Wait(40)

	ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#080e#080mガハハハ……よーし！"
		"そんじゃあ始めるとしよーぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)
	
	//	みんな
	EarthQuake(0.05,0.05,10)
	SetName("みんな")
	TalkPopup(UNDEF,0,3,240,80,0)
	{
		"#19Sおーっ！"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	Wait(15)

	//　　軽く暗転を挟んで、みんなの様子を映す無言劇。	
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	LookReset("ADOL")
	LookReset("SAHAD")
	LookReset("Katrin")
	LookReset("Dogi")
	LookReset("LAXIA")
	LookReset("Aaron")
	LookReset("Alison")
	LookReset("Dina")
	LookReset("Licht")
	LookReset("Kuina")
	LookReset("DANA")
	LookReset("Miralda")
	LookReset("Nia")
	LookReset("Kashu")
	//LookReset("Griselda")
	LookReset("RICOTTA")
	LookReset("Ed")
	LookReset("Franz")
	LookReset("Thanatos")
	LookReset("Austen")
	LookReset("HUMMEL")
	LookReset("Reja")
	LookReset("Silvia")
	//LookReset("Curran")

	//各キャラの再配置
	//↓必ずいる
	SetChrPos("ADOL", -54.99f, -1451.80f, 29.05f)
	Turn("ADOL", -50.16f, 360.0f)
	LookChr("ADOL", "SAHAD")

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", -53.52f, -1453.13f, 29.07f)
	Turn("SAHAD", 141.15f, 360.0f)
	LookChr("SAHAD", "ADOL")
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI", -1 , 1 )

	SetChrPos("Katrin", -51.36f, -1449.84f, 29.05f)
	Turn("Katrin", -25.70f, 360.0f)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_SMILE,1)
	LookChr("Katrin""Dina")

	SetChrPos("LAXIA", -54.02f, -1450.74f, 29.05f)
	Turn("LAXIA", 16.99f, 360.0f)
	ChangeAnimation( "LAXIA" , "ANI_EV_WAIT2", -1 , 1 )

	SetChrPos("Aaron", -57.48f, -1449.26f, 29.05f)
	Turn("Aaron", -151.33f, 360.0f)
	LookChr("Aaron", "Licht")
	ChangeAnimation( "Aaron" , "ANI_EV_UDEGUMI", -1 , 1 )

	if( ( FLAG[GF_QUEST_510] == QUEST_NOTHING && FLAG[GF_QS510_LOOK_SUBEV] )||	//【QS510】▼サブイベント・アリスンが倒れる を見た
		( FLAG[GF_QUEST_510] == QUEST_START ) )									//【QS510】故郷の花　クエスト開始した
	{
		// 出産クエスト中であれば登場させない。
	}
	else
	{
		SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)

		SetChrPos("Alison", -50.51f, -1449.60f, 29.05f)
		Turn("Alison", 8.02f, 360.0f)
		ChangeAnimation( "Alison" , "ANI_EV_RYOTESIRI", -1 , 1 )
		ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_LAUGH,1)
		ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_SMILE,1)
	}

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", -56.59f, -1449.10f, 29.05f)
	Turn("Dogi", 150.59f, 360.0f)
	LookChr("Dogi", "Licht")
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_SMILE,1)


	SetChrPos("Dina", -51.04f, -1451.30f, 29.05f)
	Turn("Dina", -169.46f, 360.0f)

	SetChrPos("Licht", -57.29f, -1448.12f, 29.05f)
	Turn("Licht", -5.36f, 360.0f)
	LookChr("Licht", "Aaron")

	SetChrPos("Kuina", -58.86f, -1450.41f, 29.05f)
	Turn("Kuina", -40.42f, 360.0f)

	//条件次第でいる
	if (FLAG[GF_05MP1201_JOIN_DANA])
	{
		if(FLAG[GF_NPC_5_07_GOTO_VALLAY] && !FLAG[GF_NPC_5_08_MEET_DANA])
		{
			//配置なし
		}
		else
		{
			SetChrPos("DANA",-55.56f,-1453.01f,29.04f)
			Turn("DANA",-100.78f,360.0f)
			ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_LAUGH,1)
			ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_SMILE,1)
			ChangeAnimation( "DANA" , "ANI_EV_WAIT2", -1 , 1 )
		
		}
	}

	if( FLAG[GF_SUBEV_JOIN_MIRALDA] )			// ミラルダと合流した
	{
		SetChrPos("Miralda", -50.30f, -1451.55f, 29.05f)
		Turn("Miralda", 167.29f, 360.0f)
		ChangeAnimation( "Miralda" , "ANI_EV_SIAN", -1 , 1 )

	}

	if( FLAG[GF_SUBEV_JOIN_NIA] )				// シスター・ニアと合流した
	{
		SetChrPos("Nia", -51.70f, -1450.56f, 29.05f)
		Turn("Nia", -101.60f, 360.0f)

	}

	if( FLAG[GF_SUBEV_JOIN_KASHU] )				// カシューと合流した
	{
		SetChrWork("Kashu", CWK_DEFAULT_SKIPNODE_OFF, 1)

		SetChrPos("Kashu", -56.29f, -1448.58f, 29.05f)
		Turn("Kashu", 70.61f, 360.0f)

		ChangeSubAnimation("Kashu",SUBMOT_EYE,ANI_E_LAUGH,1)
		ChangeSubAnimation("Kashu",SUBMOT_MOUTH,ANI_M_SMILE,1)

	}

	if( FLAG[GF_SUBEV_JOIN_GRISELDA] )			// グリゼルダと合流した
	{
		// グリゼルダ		６部以降に再合流なので、配置なし
	}

	if( FLAG[GF_NPC_3_03_JOIN_RICOTTA] )		//▼第三部③リコッタが仲間になった
	{
		SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)

		SetChrPos("RICOTTA", -59.54f, -1451.29f, 29.04f)
		Turn("RICOTTA", -124.24f, 360.0f)
		ChangeAnimation( "RICOTTA" , "ANI_EV_GUTSPOSE", -1 , 1 )
		ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_LAUGH,1)

	}

	if( FLAG[GF_TBOX_DUMMY077] )			// 大穴に向けて出発する
	{
		SetChrPos("Ed", -49.59f, -1449.83f, 29.05f)
		Turn("Ed", 33.42f, 360.0f)

	}

	if( FLAG[GF_SUBEV_JOIN_FRANZ] )				// フランツと合流した
	{
		SetChrPos("Franz", -55.93f, -1450.40f, 29.05f)
		Turn("Franz", -40.18f, 360.0f)

	}

	if( FLAG[GF_NPC_5_01_BEFORE_INTERCEPT8] )	//「★第五部①迎撃戦⑧が発生」
	{
		SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Thanatos", -58.58f, -1451.20f, 29.04f)
		Turn("Thanatos", 174.69f, 360.0f)
		Look("Thanatos" , 0 , -18)
		ChangeAnimation( "Thanatos" , "ANI_EV_UDEGUMI", -1 , 1 )
		ChangeSubAnimation("Thanatos",SUBMOT_EYE,ANI_E_LAUGH,1)

	}

	if( FLAG[GF_SUBEV_JOIN_AUSTEN] )			// オースティンと合流した
	{
		SetChrPos("Austen", -49.56f, -1451.54f, 29.05f)
		Turn("Austen", 152.18f, 360.0f)
		ChangeAnimation( "Austen" , "ANI_EV_UDEGUMI", -1 , 1 )
	}

	if( FLAG[GF_NPC_4_01_GOTO_NORTH] )			//▼第四部①島北部に足を踏み入れた
	{
		SetChrPos("HUMMEL", -53.46f, -1449.91f, 29.05f)
		Turn("HUMMEL", 22.59f, 360.0f)

	}

	if( FLAG[GF_SUBEV_JOIN_REJA] )				// レーヤと合流した
	{
		SetChrPos("Reja", -58.19f, -1450.30f, 29.05f)
		Turn("Reja", 44.58f, 360.0f)

	}

	if( FLAG[GF_SUBEV_JOIN_SILVIA] )			// シルヴィアと合流した
	{
		SetChrPos("Silvia", -49.34f, -1450.70f, 29.05f)
		Turn("Silvia", 95.28f, 360.0f)

	}

	// カーラン卿		６部以降に再合流なので、配置なし

	Wait(30)
	
	//次のカットに不登場のため外す									-------------------------フレーム下がる対策
	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Alison", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Dina", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Licht", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Kuina", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Miralda", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Nia", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Kashu", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Ed", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Franz", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Austen", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Reja", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Silvia", INFOFLAG_INVISIBLE)

	ChangeAnimation("Dina", "ANI_WAIT", -1, 1)
//	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
//	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
//	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
//	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
//	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)

	MoveCameraAt(0, -57.594f, -1450.451f, 30.508f, 0)	// 注視点
	ChangeCameraDistance(0, 3.999f, 0)		// 基本距離
	ChangeCameraElevation(0, 3.569f, 0)	// 基本仰角
	RotateCamera(0, 165.922f, 0)				// 角度
	ChangeCameraPers(0, 58.001f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -57.581f, -1449.931f, 30.508f, 150)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 183.131f, 150)		// 角度

	FadeIn(FADE_BLACK, FADE_NORMAL)

	ExecuteFunc(100, "mp1201:QS_300_Wish_Movie")	

	Wait(FADE_NORMAL)
	//	ナレーション
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0)
	{
		"#7Cこうして漂流村の面々は"
		"#7Cそれぞれの願い事を記す事にした。"
	}
	Wait(100)
	ClosePrompt()
	WaitCloseWindow()

	WaitThread(1000)
	WaitThread(1001)

	CrossFade(FADE_NORMAL)

	//次のカットに登場するキャラ再表示								-------------------------フレーム下がる対策
	ResetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Alison", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Dina", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Miralda", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Nia", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Ed", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Austen", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Silvia", INFOFLAG_INVISIBLE)

	//次のカットに不登場のため外す									-------------------------フレーム下がる対策
	SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Licht", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Kuina", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Kashu", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Reja", INFOFLAG_INVISIBLE)


	MoveCameraAt(0, -50.770f, -1450.880f, 30.508f, 0)	// 注視点
	ChangeCameraDistance(0, 3.699f, 0)		// 基本距離
	ChangeCameraElevation(0, 5.886f, 0)	// 基本仰角
	RotateCamera(0, 321.647f, 0)				// 角度
	ChangeCameraPers(0, 53.001f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -50.223f, -1450.060f, 30.508f, 150)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 6.905f, 150)		// 角度

	Wait(FADE_NORMAL)
	//	ナレーション
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0)
	{
		"#7C『故郷に帰ったら……』"
		"#7C誰もがそう想いを馳せ──"
	}
	Wait(100)
	ClosePrompt()
	WaitCloseWindow()

	WaitThread(1000)
	WaitThread(1001)

	CrossFade(FADE_NORMAL)

	//次のカットに登場するキャラ再表示								-------------------------フレーム下がる対策
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Franz", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)

	//次のカットに不登場のため外す										-------------------------フレーム下がる対策

	SetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Alison", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Dina", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Miralda", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Nia", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Ed", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Austen", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Silvia", INFOFLAG_INVISIBLE)

	MoveCameraAt(0, -54.643f, -1451.126f, 30.508f, 0)	// 注視点
	ChangeCameraDistance(0, 3.699f, 0)		// 基本距離
	ChangeCameraElevation(0, 3.570f, 0)	// 基本仰角
	RotateCamera(0, 169.868f, 0)				// 角度
	ChangeCameraPers(0, 53.001f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -54.594f, -1453.697f, 30.508f, 150)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 195.926f, 150)		// 角度

	Wait(FADE_NORMAL)
	
	WaitThread(1000)
	WaitThread(1001)


	//　　軽く暗転を挟んで、みんなの様子を映す無言劇。
	FadeOut(FADE_BLACK, FADE_FAST)
	WaitFade()

	StopThread(1000)
	StopThread(1001)

	//各キャラの再配置
	//↓必ずいる
	SetChrPos("ADOL", -54.83f, -1452.51f, 29.06f)
	Turn("ADOL", -16.56f, 360.0f)

	SetChrPos("SAHAD", -54.26f, -1451.82f, 29.05f)
	Turn("SAHAD", 26.45f, 360.0f)

	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)

	SetChrPos("Katrin", -55.23f, -1451.77f, 29.05f)
	Turn("Katrin", -11.74f, 360.0f)

	SetChrPos("LAXIA", -55.73f, -1454.13f, 29.04f)
	Turn("LAXIA", -118.36f, 360.0f)

	SetChrPos("Aaron", -55.88f, -1451.62f, 29.05f)
	Turn("Aaron", -44.26f, 360.0f)


	if ((FLAG[GF_QUEST_510] == QUEST_NOTHING && FLAG[GF_QS510_LOOK_SUBEV]) ||	//【QS510】▼サブイベント・アリスンが倒れる を見た
		(FLAG[GF_QUEST_510] == QUEST_START))									//【QS510】故郷の花　クエスト開始した
	{
		// 出産クエスト中であれば登場させない。
	}
	else
	{
		SetChrPos("Alison", -57.05f, -1453.31f, 29.01f)
		Turn("Alison", -87.63f, 360.0f)

	}
	SetChrPos("Dogi", -53.49f, -1452.71f, 29.06f)
	Turn("Dogi", 61.65f, 360.0f)

	SetChrPos("Dina", -54.21f, -1454.93f, 29.16f)
	Turn("Dina", 130.61f, 360.0f)

	SetChrPos("Licht", -53.69f, -1454.10f, 29.09f)
	Turn("Licht", 124.34f, 360.0f)

	SetChrPos("Kuina", -54.20f, -1453.06f, 29.07f)
	Turn("Kuina", 42.33f, 360.0f)


	//条件次第でいる
	if (FLAG[GF_05MP1201_JOIN_DANA])
	{
		if(FLAG[GF_NPC_5_07_GOTO_VALLAY] && !FLAG[GF_NPC_5_08_MEET_DANA])
		{
			//配置なし
		}
		else
		{
			SetChrPos("DANA",-55.56f,-1453.01f,29.04f)
			Turn("DANA",-43.93f,360.0f)
		}
	}

	if (FLAG[GF_SUBEV_JOIN_MIRALDA])			// ミラルダと合流した
	{
		SetChrPos("Miralda", -54.92f, -1455.15f, 29.15f)
		Turn("Miralda", -175.86f, 360.0f)

	}

	if (FLAG[GF_SUBEV_JOIN_NIA])				// シスター・ニアと合流した
	{
		SetChrPos("Nia", -100000.00f, 0.00f, 0.00f)		//不登場のため外す-------------------------フレーム下がる対策
		SetChrPos("Nia", -55.20f, -1450.83f, 29.05f)
		Turn("Nia", 4.77f, 360.0f)

	}

	if (FLAG[GF_SUBEV_JOIN_KASHU])				// カシューと合流した
	{
		SetChrPos("Kashu", -53.12f, -1451.57f, 29.05f)
		Turn("Kashu", 26.58f, 360.0f)
	
	}

	if (FLAG[GF_SUBEV_JOIN_GRISELDA])			// グリゼルダと合流した
	{
		// グリゼルダ		６部以降に再合流なので、配置なし
	}

	if (FLAG[GF_NPC_3_03_JOIN_RICOTTA])		//▼第三部③リコッタが仲間になった
	{
		SetChrPos("RICOTTA", -56.26f, -1453.81f, 29.01f)
		Turn("RICOTTA", -114.21f, 360.0f)

	}

	if (FLAG[GF_TBOX_DUMMY077])			// 大穴に向けて出発する
	{
		SetChrPos("Ed", -57.16f, -1452.60f, 29.03f)
		Turn("Ed", -60.10f, 360.0f)
	
	}

	if (FLAG[GF_SUBEV_JOIN_FRANZ])				// フランツと合流した
	{
		SetChrPos("Franz", -100000.00f, 0.00f, 0.00f)		//不登場のため外す-------------------------フレーム下がる対策
		//SetChrPos("Franz", -57.60f, -1451.95f, 29.04f)
		Turn("Franz", -25.68f, 360.0f)
	
	}

	if (FLAG[GF_NPC_5_01_BEFORE_INTERCEPT8])	//「★第五部①迎撃戦⑧が発生」
	{
		SetChrPos("Thanatos", -56.18f, -1452.76f, 29.03f)
		Turn("Thanatos", -51.14f, 360.0f)

	}

	if (FLAG[GF_SUBEV_JOIN_AUSTEN])			// オースティンと合流した
	{
		//SetChrPos("Austen", -100000.00f, 0.00f, 0.00f)		//不登場のため外す-------------------------フレーム下がる対策
		SetChrPos("Austen", -56.60f, -1451.25f, 29.05f)
		Turn("Austen", -25.64f, 360.0f)

	}

	if (FLAG[GF_NPC_4_01_GOTO_NORTH])			//▼第四部①島北部に足を踏み入れた
	{
		SetChrPos("HUMMEL", -52.67f, -1453.02f, 29.07f)
		Turn("HUMMEL", 76.84f, 360.0f)

	}

	if (FLAG[GF_SUBEV_JOIN_REJA])				// レーヤと合流した
	{
		SetChrPos("Reja", -53.99f, -1453.75f, 29.07f)
		Turn("Reja", 108.00f, 360.0f)

	}

	if (FLAG[GF_SUBEV_JOIN_SILVIA])			// シルヴィアと合流した
	{
		//SetChrPos("Silvia", -53.06f, -1454.04f, 29.16f)
		SetChrPos("Silvia", -100000.00f, 0.00f, 0.00f)		//不登場のため外す-------------------------フレーム下がる対策
		Turn("Silvia", 107.25f, 360.0f)

	}

	// 全員再表示
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Alison", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Dina", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Licht", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Kuina", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Miralda", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Nia", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Kashu", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Ed", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Franz", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Austen", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Reja", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Silvia", INFOFLAG_INVISIBLE)

	// カーラン卿		６部以降に再合流なので、配置なし

	Wait(30)
	LookReset("ADOL")
	LookReset("SAHAD")
	LookReset("Katrin")
	LookReset("Dogi")
	LookReset("LAXIA")
	LookReset("Aaron")
	LookReset("Alison")
	LookReset("Dina")
	LookReset("Licht")
	LookReset("Kuina")
	LookReset("DANA")
	LookReset("Miralda")
	LookReset("Nia")
	LookReset("Kashu")
	//LookReset("Griselda")
	LookReset("RICOTTA")
	LookReset("Ed")
	LookReset("Franz")
	LookReset("Thanatos")
	LookReset("Austen")
	LookReset("HUMMEL")
	LookReset("Reja")
	LookReset("Silvia")
	//LookReset("Curran")

	MoveCameraAt(0, -54.905f, -1453.913f, 30.260f, 0)	// 注視点
	ChangeCameraDistance(0, 4.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 31.801f, 0)	// 基本仰角
	RotateCamera(0, 181.598f, 0)				// 角度
	ChangeCameraPers(0, 53.001f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -55.245f, -1447.653f, 32.344f, 280)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 6.364f, 280)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 181.598f, 280)		// 角度

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	Wait(25)
	//	ナレーション
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0)
	{
		"#7C真っ白な祈願の木は"
		"#7C賑やかに飾られていくのだった。"
	}
	//Wait(100)
	WaitPrompt()
	WaitCloseWindow()

	Wait(30)

	StopBGM(90)

	//　　ゆっくりフェードアウト。
	FadeOut(FADE_BLACK, FADE_SLOW)
	Wait(30)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	WaitFade()
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)

	//　　暗転を挟み、願いが飾られた木を見ている
	//　　アドルとサハド。

	//アドルとサハド以外の登場の可能性があるキャラ全てを画面外に移動しています。
	SetChrPos( "Katrin",	-100000.00f , 0.00f ,0.00f )
	SetChrPos( "LAXIA",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Aaron",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Alison",	-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Dogi",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Dina",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Licht",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Kuina",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "DANA",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Miralda",	-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Nia",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Kashu",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Griselda",	-100000.00f , 0.00f ,0.00f )
	SetChrPos( "RICOTTA",	-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Ed",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Franz",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Thanatos",	-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Austen",	-100000.00f , 0.00f ,0.00f )
	SetChrPos( "HUMMEL",	-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Reja",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Silvia",	-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Curran",	-100000.00f , 0.00f ,0.00f )

	//アドルとサハドの再配置
	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)		// 非表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)
	SetChrPos("ADOL", -53.90f, -1451.27f, 29.05f)
	Turn("ADOL", 25.07f, 360.0f)
	Look("ADOL", 0.00f, 20.00f)
	SetChrPos("SAHAD", -53.01f, -1451.86f, 29.05f)
	Turn("SAHAD", 49.61f, 360.0f)
	Look("SAHAD", 0.00f, 20.00f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)

	//カメラ：
	MoveCameraAt( 0 , -55.868f , -1451.944f , 32.590f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.146f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.761f , 0 )	// 基本仰角
	RotateCamera( 0 , 226.065f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//　　※祈願の木の貝殻の数は、漂流村の人数によって制御する。
	//　　　人口15人未満	少ない版
	//　　　人口20人未満	並版
	//　　　人口20人以上	多い版
	CallFunc("mp1201:QS_300_Complete_count")	// 人口カウント
	
	// 人口15人未満	少ない版
	if( FLAG[TF_MENU_SELECT] < 15 )
	{
		MapAnime( "wishtree" , "Lv2" )	// Lv2			20-21[E]	木に貝殻が吊るされた状態です
	}
	// 人口20人未満	並版
	else if( FLAG[TF_MENU_SELECT] < 20 )
	{
		MapAnime( "wishtree" , "Lv3" )	// Lv3			30-31[E]	木に貝殻が更に吊るされた状態です
	}
	// 人口20人以上	多い版
	else
	{
		MapAnime( "wishtree" , "Lv4" )	// Lv4			40-41[E]	木に貝殻が最大で吊るされた状態です
	}

	Wait(30)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -55.868f, -1451.944f, 31.077f, 130)		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 3.246f, 130)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, -6.024f, 130)		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 274.070f, 130)		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE, 45.000f, 130)		// 視野角

	//MoveCameraAt( 0 , -55.868f , -1451.944f , 31.077f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.246f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -6.024f , 0 )	// 基本仰角
	//RotateCamera( 0 , 274.070f , 0 )				// 角度
	//ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetEnvSEPlayState(-1, 1)	//環境SE

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	PlayBGM(BGM_TOWN_501, 0)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	Wait(15)

	CrossFade(FADE_CROSS)

	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)		// 再表示
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)


	Look("ADOL", 0.00f, 15.00f)
	Look("SAHAD", 0.00f,1 5.00f)

//	MoveCameraAt(0, -49.922f, -1449.519f, 32.689f, 0)	// 注視点
//	ChangeCameraDistance(0, 2.498f, 0)		// 基本距離
//	ChangeCameraElevation(0, 13.051f, 0)	// 基本仰角
//	RotateCamera(0, 122.386f, 0)				// 角度
//	ChangeCameraPers(0, 32.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
//
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -50.570f, -1450.488f, 31.350f, 100)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 13.051f, 100)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 118.204f, 100)		// 角度

	MoveCameraAt( 0 , -50.570f , -1450.488f , 31.350f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.498f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 13.051f , 0 )	// 基本仰角
	RotateCamera( 0 , 118.204f , 0 )				// 角度
	ChangeCameraPers( 0 , 32.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	 ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//
//	Wait(30)

	ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("SAHAD",0,0,0,0,0)
	{
		"#080e#080mガハハ、立派な"
		"祈願の木になったじゃねーか！"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	LookChr("ADOL", "SAHAD")
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"みんないい顔だった")
	MenuAdd(2,"サハドのお陰だな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	HeadYes("ADOL", 1, 25)
	Wait(20)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1)
	LookChr("SAHAD", "ADOL")

	//────────────────────
	//	⇒みんないい顔だった
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		TalkPopup("SAHAD",0,0,0,0,0)
		{
			"#080e#080mおーよ、やっぱり"
			"やってよかったぜ。\p"
			"アドル、本当にありがとうよ！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒サハドのお陰だな
	else if (FLAG[TF_MENU_SELECT] == 2)
	{

		TalkPopup("SAHAD",0,0,0,0,0)
		{
			"#000e#000mいやいや、お前さんが"
			"手伝ってくれたからだぜ。\p"
			"アドル、本当にありがとうよ！2"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	Turn("SAHAD", 97.01f, 8.0f)
	Wait(10)
	ChangeAnimation( "SAHAD" , "ANI_EV_TEWATASI_S", -1 , 1 )

	TalkPopup("SAHAD",0,0,0,0,0)
	{
		"#000e#000mこいつはワシからの礼だ。"
		"どうか受け取ってくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()
		
	LookReset("ADOL")
	Turn("ADOL", -67.48f, 8.0f)

	//	アイテム入手テキスト
	//「白肉を受け取った。」
	GetItemMessageExPlus(ICON3D_FD_MEAT_02, 10, ITEMMSG_SE_JINGLE, "を受け取った。11" ,0 ,0 )	//白肉×１０
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD" , "ANI_EV_TEWATASI_E", -1 , 1 )
	CrossFade(FADE_CROSS)

	LookReset("ADOL")
	SetChrPos("ADOL", -53.90f, -1451.27f, 29.05f)
	//Turn("ADOL", -67.48f, 360.0f)
	LookSpd("ADOL", 1.0, 1.0, 1.0)
	LookChr("ADOL", "SAHAD")

	MoveCameraAt(0, -53.013f, -1451.485f, 30.655f, 0)	// 注視点
	ChangeCameraDistance(0, 2.497f, 0)		// 基本距離
	ChangeCameraElevation(0, 6.006f, 0)	// 基本仰角
	RotateCamera(0, 283.225f, 0)				// 角度
	ChangeCameraPers(0, 45.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)

	LookReset("SAHAD")
	WaitAnimation2( "SAHAD" , -1, 1, "ANI_EV_TEWATASI_E",  0)
	ChangeAnimation("SAHAD", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000e#000mこの木を見てると、"
		"ワシも故郷を思い出してきたぜ。\p"
		"#011e#080mそうとも、これだけの仲間がいるんだ。"
		"ワシらは帰れる……きっとな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("SAHAD", "ANI_EV_UDEGUMI_E", -1, 1)
	LookChr("SAHAD", "ADOL")

	TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#020e#080mガハハ……アドル！"
		"その日まで、どうかよろしく頼むぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルがうなずいて画面暗転。
	HeadYes("ADOL" , 1 , 25)
	Wait(40)
	
	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	StopBGM(120)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【祈願の木】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	if(rand()%100 < 50) {
		PlayVoice(SVO_SHD_QST_1,"SAHAD",100)		// ガハハ、やったな！
	} else {
		PlayVoice(SVO_SHD_QST_2,"SAHAD",100)	// こんなもんだろいっちょあがりだな！
	}

	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒好感度が一段階上がる場合
	if( FLAG[GF_LIKELV_SAHAD] < 2 )
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cサハドの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cサハドの好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	PlaySE( SE_HEAL , 100 , 0,  0, 0, 1.0f, 0)
	Message("#-1W#4CサハドのＨＰの最大値が１００増えた。#10W")
	WaitPrompt()
	Wait(10)

	PlaySE( SE_HEAL , 100 , 0,  0, 0, 1.0f, 0)
	Message("#-1W#4CアドルのＨＰの最大値が５０増えた。#10W")
	WaitPrompt()
	Wait(10)

	//　　イベント終了、操作許可。

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_300_Complete_ED")
}
function "QS_300_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	// 全員再表示
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Alison", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Dina", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Licht", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Kuina", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Miralda", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Nia", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Kashu", INFOFLAG_INVISIBLE)
	//ResetChrInfoFlag("Griselda", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Ed", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Franz", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Austen", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Reja", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Silvia", INFOFLAG_INVISIBLE)
	//ResetChrInfoFlag("Curran", INFOFLAG_INVISIBLE)

	SetChrPos("Katrin", -100000.00f, 0.00f, 0.00f)
	SetChrPos("LAXIA", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Aaron", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Alison", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Dogi", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Dina", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Licht", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Kuina", -100000.00f, 0.00f, 0.00f)
	SetChrPos("DANA", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Miralda", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Nia", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Kashu", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Griselda", -100000.00f, 0.00f, 0.00f)
	SetChrPos("RICOTTA", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Ed", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Franz", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Thanatos", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Austen", -100000.00f, 0.00f, 0.00f)
	SetChrPos("HUMMEL", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Reja", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Silvia", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Curran", -100000.00f, 0.00f, 0.00f)
	SetChrPos("SAHAD", -100000.00f, 0.00f, 0.00f)

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_NPCALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手
	SetFlag( GF_QUEST_300, QUEST_SUCCESS )		// 【QS300】祈願の木（サハド）　クエストを達成した
	DeleteItem( ICON3D_PRAY_TREE, 1 )			// 「祈願の木」
	GetItem( ICON3D_FD_MEAT_02, 10 )			// 「白肉を受け取った。」
	SetFlag( GF_LIKELV_SAHAD, ( FLAG[GF_LIKELV_SAHAD] + 1 ) )	// 好感度ＵＰ
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS300】祈願の木（サハド）	名声値+1
	SetDiaryFlag( DF_QS300_END, 1 )				// 【QS300】漂流村に祈願の木を設置し、

	SetChrWork("SAHAD",CWK_SUP_MAXHP,(SAHAD.CHRWORK[CWK_SUP_MAXHP] + 100))		//好感度と合わせてアップ
	SetChrWork("ADOL",CWK_SUP_MAXHP,(ADOL.CHRWORK[CWK_SUP_MAXHP] + 50))			//好感度と合わせてアップ

	SetEnvSEPlayState(-1, 1)	//環境SE

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",-51.89f,-1451.78f,29.05f)
	Turn("LEADER",66.86f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, -51.890f, -1451.780f, 30.907f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, 107.051f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

//　無言劇
function "QS_300_Wish_Movie"
{

	Wait(10)
	EmotionEx("Reja", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//パッ メイン

	EmotionEx("Licht", 0.00f, EMO_WAI, 0, 5, 1, 0, 0.9)	//パッ メイン
	Wait(30)
	EmotionEx("Aaron", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//困り メイン
	Wait(10)
	EmotionEx("Dogi", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//パッ メイン

	Wait(60)
	EmotionEx("Thanatos", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//ワイワイ メイン
	EmotionEx("Ricotta", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//ワイワイ メイン

	Wait(60)
	
	EmotionEx("Ed", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//ワイワイ
	Wait(20)
	EmotionEx("Dina", 0.00f, EMO_ONPU, 0, 5, 1, 1, 1.0f)	//パッ メイン
	Wait(20)
	EmotionEx("Austen", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//ワイワイ
	Wait(30)
	EmotionEx("Miralda", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//ワイワイ
	Wait(20)
	EmotionEx("Nia", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//ワイワイ
	Wait(30)
	EmotionEx("Katrin", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//パッ メイン
	EmotionEx("Austen", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//ワイワイ

	Wait(30)
	EmotionEx("HUMMEL", 0.00f, EMO_KIRI, 0, 5, 1, 1, 1.0f)	//パッ メイン
	Wait(30)
	EmotionEx("LAXIA", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//パッ メイン
	Wait(40)
	EmotionEx("ADOL", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//ワイワイ
	Wait(10)
	EmotionEx("SAHAD", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//ワイワイ

}

// 人口のカウント処理（▼第三部②ジャンダルムに向かう～５部最後まで）
function "QS_300_Complete_count"
{
	SetFlag(TF_MENU_SELECT,10)	//必ずいる人数
	// ダーナ
	if (FLAG[GF_05MP1213_INTERCEPT_DANA] &&	//「★第五部①迎撃戦⑧が発生」以降
		!FLAG[GF_NPC_5_07_GOTO_VALLAY] )		//配置なし「▼第五部⑦王家の谷へ向かう」
	{
		SetFlag( TF_MENU_SELECT, (FLAG[TF_MENU_SELECT] + 1) )
	}
	// ミラルダ
	if( FLAG[GF_SUBEV_JOIN_MIRALDA] )			// ミラルダと合流した
	{
		SetFlag( TF_MENU_SELECT, (FLAG[TF_MENU_SELECT] + 1) )
	}
	// シスター・ニア
	if( FLAG[GF_SUBEV_JOIN_NIA] )				// シスター・ニアと合流した
	{
		SetFlag( TF_MENU_SELECT, (FLAG[TF_MENU_SELECT] + 1) )
	}
	// カシュー
	if( FLAG[GF_SUBEV_JOIN_KASHU] )				// カシューと合流した
	{
		SetFlag( TF_MENU_SELECT, (FLAG[TF_MENU_SELECT] + 1) )
	}
	// グリゼルダ
	if( FLAG[GF_SUBEV_JOIN_GRISELDA] )			// グリゼルダと合流した
	{
		// グリゼルダ		６部以降に再合流なので、配置なし
	}
	// リコッタ
	if( FLAG[GF_NPC_3_03_JOIN_RICOTTA] )		//▼第三部③リコッタが仲間になった
	{
		SetFlag( TF_MENU_SELECT, (FLAG[TF_MENU_SELECT] + 1) )
	}
	// エド
	if( FLAG[GF_TBOX_DUMMY077] )			// 大穴に向けて出発する
	{
		SetFlag( TF_MENU_SELECT, (FLAG[TF_MENU_SELECT] + 1) )
	}
	// フランツ
	if( FLAG[GF_SUBEV_JOIN_FRANZ] )				// フランツと合流した
	{
		SetFlag( TF_MENU_SELECT, (FLAG[TF_MENU_SELECT] + 1) )
	}
	// タナトス
	if( FLAG[GF_NPC_5_01_BEFORE_INTERCEPT8] )	//「★第五部①迎撃戦⑧が発生」
	{
		SetFlag( TF_MENU_SELECT, (FLAG[TF_MENU_SELECT] + 1) )
	}
	// オースティン
	if( FLAG[GF_SUBEV_JOIN_AUSTEN] )			// オースティンと合流した
	{
		SetFlag( TF_MENU_SELECT, (FLAG[TF_MENU_SELECT] + 1) )
	}
	// ヒュンメル
	if( FLAG[GF_NPC_4_01_GOTO_NORTH] )			//▼第四部①島北部に足を踏み入れた
	{
		SetFlag( TF_MENU_SELECT, (FLAG[TF_MENU_SELECT] + 1) )
	}
	// レーヤ
	if( FLAG[GF_SUBEV_JOIN_REJA] )				// レーヤと合流した
	{
		SetFlag( TF_MENU_SELECT, (FLAG[TF_MENU_SELECT] + 1) )
	}
	// シルヴィア
	if( FLAG[GF_SUBEV_JOIN_SILVIA] )			// シルヴィアと合流した
	{
		SetFlag( TF_MENU_SELECT, (FLAG[TF_MENU_SELECT] + 1) )
	}
	// カーラン卿		６部以降に再合流なので、配置なし
}
//===============================================================
//
// 【QS300】祈願の木（サハド）
// ▼祈願の木のＬＰメッセージ（ポイントＡ）
//
function "Check_Tree_A"
{
	//　　木の正面にＬＰを設置する

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	SetFlag(TF_MENU_SELECT,0)
	while( FLAG[TF_MENU_SELECT] != -1 )	//ループ選択肢
	{
		//選択肢
		SetFlag(TF_MENU_SELECT,0)
		MenuReset()
		MenuType(MENUTYPE_POPUP)
			MenuAdd( 1,"赤い貝殻を見る（アドル）　　　　")
			MenuAdd( 2,"紺色の貝殻を見る（サハド）　　　")
		if (FLAG[GF_05MP1213_INTERCEPT_DANA] &&	//「★第五部①迎撃戦⑧が発生」以降
			!FLAG[GF_NPC_7_01_GOTO_TEM] )			//▼エピローグ①寺院前へ向かう
		{
			MenuAdd( 3,"白い貝殻を見る（ダーナ）　　　　")
		}
		//	カトリーン		
		if( FLAG[GF_02MP1201_JOIN_KATRIN] )		// カトリーンが合流した（武器の強化が可能になる２）
		{
			MenuAdd( 4,"固い貝殻を見る（カトリーン）　　")
		}
		//	ミラルダ		
		if( FLAG[GF_SUBEV_JOIN_MIRALDA] )		// ミラルダと合流した
		{
			MenuAdd( 5,"ピンクの貝殻を見る（ミラルダ）　")
		}
		//	シスター・ニア	
		if( FLAG[GF_SUBEV_JOIN_NIA] )			// シスター・ニアと合流した
		{
			MenuAdd( 6,"煌く貝殻を見る（シスター・ニア）")
		}
		//	カシュー		
		if( FLAG[GF_SUBEV_JOIN_KASHU] )			// カシューと合流した
		{
			MenuAdd( 7,"楕円の貝殻を見る（カシュー）　　")
		}
		//	グリゼルダ		
		if( FLAG[GF_SUBEV_JOIN_GRISELDA] )		// グリゼルダと合流した
		{
			MenuAdd( 8,"紫紺の貝殻を見る（グリゼルダ）　")
		}

			MenuAdd(-1,"やめる　　　　　　　　　　　　　")
		MenuOpen(TF_MENU_SELECT,-1,-1,-1,-1,10,-1)
		WaitMenu(0)
		MenuClose(10,0)

		//　　※各選択肢を選ぶと、センタリングしたテキストで以下を表示。
		//　　　表示後は上の選択肢に戻るようにする。
		CallFunc("mp1201:Check_Tree_Mess")
	}

//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	//イベント後の再配置
	//SetChrPos("LEADER", -54.19f, -1452.29f, 29.05f)
	//Turn("LEADER", 29.90f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	WaitFade()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}
//===============================================================
//
// 【QS300】祈願の木（サハド）
// ▼祈願の木のＬＰメッセージ（ポイントＢ）
//
function "Check_Tree_B"
{
	//　　木の右側にＬＰを設置する

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	SetFlag(TF_MENU_SELECT,0)
	while( FLAG[TF_MENU_SELECT] != -1 )	//ループ選択肢
	{
		//選択肢
		SetFlag(TF_MENU_SELECT,0)
		MenuReset()
		MenuType(MENUTYPE_POPUP)
			MenuAdd( 9,"紅色の貝殻を見る（ラクシャ）　")
		//	リコッタ		
		if( FLAG[GF_03MP4202_JOIN_RICOTTA] )
		{
			MenuAdd(10,"翠の貝殻を見る（リコッタ）　　")
		}
		//	エアラン		
		if( FLAG[GF_02MP2301_JOIN_AARON] )		// エアランに出会った
		{
			MenuAdd(11,"尖った貝殻を見る（エアラン）　")
		}
		//	アリスン		
		if( FLAG[GF_02MP1201_JOIN_ALISON] )		// アリスンを救出した
		{
			MenuAdd(12,"小さな貝殻を見る（アリスン）　")
		}
		//	エド			
		if( FLAG[GF_SUBEV_JOIN_ED] )			// エドと合流した
		{
			MenuAdd(13,"細長い貝殻を見る（エド）　　　")
		}
		//	フランツ		
		if( FLAG[GF_SUBEV_JOIN_FRANZ])			// フランツと合流した
		{
			MenuAdd(14,"水色の貝殻を見る（フランツ）　")
		}
		//	タナトス		
		if( FLAG[GF_05MP1201_IN_MEETING] )		//ドギたちに北部の状況を伝える
		{
			MenuAdd(15,"黒い貝殻を見る（タナトス）　　")
		}
		//	オースティン	
		if( FLAG[GF_SUBEV_JOIN_AUSTEN] )		// オースティンと合流した
		{
			MenuAdd(16,"輝く貝殻を見る（オースティン）")
		}

			MenuAdd(-1,"やめる　　　　　　　　　　　　")
		MenuOpen(TF_MENU_SELECT,-1,-1,-1,-1,10,-1)
		WaitMenu(0)
		MenuClose(10,0)

		//　　※内容はポイントＡの物を呼び出す
		CallFunc("mp1201:Check_Tree_Mess")
	}

//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	//イベント後の再配置
	//SetChrPos("LEADER", -54.19f, -1452.29f, 29.05f)
	//Turn("LEADER", 29.90f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	WaitFade()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}
//===============================================================
//
// 【QS300】祈願の木（サハド）
// ▼祈願の木のＬＰメッセージ（ポイントＣ）
//
function "Check_Tree_C"
{
	//　　木の左側にＬＰを設置する

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	SetFlag(TF_MENU_SELECT,0)
	while( FLAG[TF_MENU_SELECT] != -1 )	//ループ選択肢
	{
		//選択肢
		SetFlag(TF_MENU_SELECT,0)
		MenuReset()
		MenuType(MENUTYPE_POPUP)
			MenuAdd(17,"大きな貝殻を見る（ドギ）　　　")
		//	ヒュンメル
		if( FLAG[GF_TBOX_DUMMY075] )
		{
			MenuAdd(18,"青い貝殻（ヒュンメル）　　　　")
		}
		//	ディナ			
		if( FLAG[GF_02MP1119_LOOK_DINA] )		//漂流者ディナを発見
		{
			MenuAdd(19,"黄色い貝殻を見る（ディナ）　　")
		}
		//	リヒト			
		if( FLAG[GF_02MP1118_CALL_PARO] )		// パロの呼び出しを受けた
		{
			MenuAdd(20,"丸い貝殻を見る（リヒト）　　　")
		}
		//	クイナ			
		if( FLAG[GF_TBOX_DUMMY072] )	//クイナとぶつかるアドル
		{
			MenuAdd(21,"空色の貝殻を見る（クイナ）　　")
		}
		//	レーヤ			
		if( FLAG[GF_SUBEV_JOIN_REJA] )			// レーヤと合流した
		{
			MenuAdd(22,"縞々の貝殻を見る（レーヤ）　　")
		}
		//	シルヴィア	
		if( FLAG[GF_SUBEV_JOIN_SILVIA] )		// シルヴィアと合流した
		{
			MenuAdd(23,"銀色の貝殻を見る（シルヴィア）")
		}
		//	カーラン
		if( FLAG[GF_SUBEV_JOIN_CURRAN2] )		// カーラン卿が改めて合流した
		{
			MenuAdd(24,"黄色い貝殻を見る（カーラン卿）")
		}
			MenuAdd(-1,"やめる　　　　　　　　　　　　")
		MenuOpen(TF_MENU_SELECT,-1,-1,-1,-1,10,-1)
		WaitMenu(0)
		MenuClose(10,0)

		//　　※内容はポイントＡの物を呼び出す
		CallFunc("mp1201:Check_Tree_Mess")
	}

//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	//イベント後の再配置
	//SetChrPos("LEADER", -54.19f, -1452.29f, 29.05f)
	//Turn("LEADER", 29.90f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	WaitFade()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}
function "Check_Tree_Mess"
{
	//────────────────────
	//	⇒アドル
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7C必ず生きて帰る、そして"
			"#7Cこの冒険を後世に伝えよう"
			"#7C#0O　　　　　　　#1O──アドル"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒サハド
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7C家族がいつまでも笑顔でいますように！"
			"#7C#0O　　　　　　　　　　　　　#1O──サハド"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒ダーナ
	else if (FLAG[TF_MENU_SELECT] == 3)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7Cみんなが無事に"
			"#7Cこの島から出られますように"
			"#7C#0O　　　　　　　　#1O──ダーナ"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒・
	else if (FLAG[TF_MENU_SELECT] == 4)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7Cいつか祖父にも負けない"
			"#7C至高の武器を鍛えてみせる"
			"#7C#0O　　　　　#1O──カトリーン"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒・
	else if (FLAG[TF_MENU_SELECT] == 5)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7C家族と再会、そしてハグ㈱"
			"#7C#0O　　　　　　#1O──ミラルダ"
			"ミラルダ3行目"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒・
	else if (FLAG[TF_MENU_SELECT] == 6)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7C皆さんに光あれ"
			"#7C#0O　　　#1O──ニア"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒カシュー
	else if (FLAG[TF_MENU_SELECT] == 7)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7Cいつか立派な船長になる！"
			"#7C#0O　　　　　　#1O──カシュー"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒・
	else if (FLAG[TF_MENU_SELECT] == 8)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7Cレオの良縁を願う"
			"#7C#0O　#1O──グリゼルダ"
			"良縁3行目"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒ラクシャ
	else if (FLAG[TF_MENU_SELECT] == 9)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7Cロズウェル家の復興を願って"
			"#7C#0O　　　　　　　#1O──ラクシャ"
			"ラクシャ3行目"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒リコッタ
	else if (FLAG[TF_MENU_SELECT] == 10)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7Cボンキュッボン！"
			"#7C#0O　　#1O──リコッタ"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒エアラン
	else if (FLAG[TF_MENU_SELECT] == 11)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7C昇進、栄達、ダチの冥福ってトコか"
			"#7C#0O　　　　　　　　　　#1O──エアラン"
			"エアラン3行目"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒アリスン
	else if (FLAG[TF_MENU_SELECT] == 12)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7C家族の無事を願います"
			"#7C#0O　　　　#1O──アリスン"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒エド
	else if (FLAG[TF_MENU_SELECT] == 13)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7C笑顔の絶えない温かい家庭を！"
			"#7C#0O　　　　　　　　　　#1O──エド"
			"エド3行目"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒フランツ
	else if (FLAG[TF_MENU_SELECT] == 14)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7C皆様の健康、安全を祈願して"
			"#7C#0O　　　　　　　#1O──フランツ"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒・
	else if (FLAG[TF_MENU_SELECT] == 15)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7C生涯現役、一日一笑！"
			"#7C#0O　　　　#1O──タナトス"
			"タナトス3行目"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒・
	else if (FLAG[TF_MENU_SELECT] == 16)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7C後世に名を残す（決定事項）"
			"#7C#0O　　　　　#1O──オースティン"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒ドギ
	else if (FLAG[TF_MENU_SELECT] == 17)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7Cたらふく食って飲めりゃあ"
			"#7Cそれで十分だ！"
			"#7C#0O　　　　　　　　#1O──ドギ"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒・
	else if (FLAG[TF_MENU_SELECT] == 18)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7Cより早く、より確実に！"
			"#7C#0O　　　　#1O──ヒュンメル"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒・
	else if (FLAG[TF_MENU_SELECT] == 19)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7C商売繁盛、これっきゃない！"
			"#7C#0O　　　　　　　　#1O──ディナ"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒リヒト
	else if (FLAG[TF_MENU_SELECT] == 20)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7C先生のような名医になれますように"
			"#7C#0O　　　　　　　　　　　#1O──リヒト"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒クイナ
	else if (FLAG[TF_MENU_SELECT] == 21)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7Cいっぱいあるけど、"
			"#7Cとりあえずせかい平和！"
			"#7C#0O　　　　　　#1O──クイナ"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒レーヤ
	else if (FLAG[TF_MENU_SELECT] == 22)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7C父ちゃんに負けねえ男になって"
			"#7C超有名になってやるぜっ！"
			"#7C#0O　　　　　　　　　#1O──レーヤ"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒・
	else if (FLAG[TF_MENU_SELECT] == 23)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7Cアタシはまだまだ強くなれる！"
			"#7C#0O　　　　　　　#1O──シルヴィア"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒・
	else if (FLAG[TF_MENU_SELECT] == 24)
	{
		//	テキスト
		TalkPopup(UNDEF,0,0,0,0,0)
		{
			"#7C二度と領地を離れることなく"
			"#7C幸せに過ごすのである！"
			"#7C#0O　　　　　　#1O──カーラン卿"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
}


//===============================================================
//
// 【QS401】新入りはいずこ（レーヤ）
// ▼クエスト開始イベント
//
function "QS_401_Start"
{
	//　　画面暗転を挟んで、農場中央辺り。
	//　　アドルとレーヤが向き合っている。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Reja")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",-31.41f,-1418.00f,29.26f)
	Turn("ADOL",150.25f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "Reja" )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("Reja", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Reja",-32.01f,-1416.90f,29.47f)
	Turn("Reja",-29.02f,360.0f)
	ChangeAnimation( "Reja" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Reja",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Reja",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Reja",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "Reja", "ADOL" )
	SetChrInfoFlag( "Reja" , INFOFLAG_NOCHRATARI)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
//	MoveCameraAt( 0 , -31.968f , -1416.944f , 30.639f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.641f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 4.562f , 0 )	// 基本仰角
//	RotateCamera( 0 , 60.266f , 0 )				// 角度
//	ChangeCameraPers( 0 , 41.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	 ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
//
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -32.117f , -1417.203f , 30.639f, 70)		// 注視点
//	//ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 53.624f, 70)		// 角度

	MoveCameraAt( 0 , -32.117f , -1417.203f , 30.639f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.641f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.562f , 0 )	// 基本仰角
	RotateCamera( 0 , 60.266f , 0 )				// 角度
	ChangeCameraPers( 0 , 41.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	//MoveCameraAt( 0 , -31.968f , -1416.944f , 30.639f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.641f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 4.562f , 0 )	// 基本仰角
	//RotateCamera( 0 , 60.266f , 0 )				// 角度
	//ChangeCameraPers( 0 , 41.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 50.000 ,1.000 ,0.700 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_401_Start_ED")

//開始処理ここまで-----------------------------------------------

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	WaitThread(1000)
//	WaitThread(1001)
//
	TalkPopup("Reja",0,0,0,0,0)
	{
		"#000e#000m実はさ、ピッカードが一匹"
		"逃げ出しちゃったんだよな。\p"
		"最近見つけた新入りだから、"
		"まだ村に馴染めてないみたいでさ……\p"
		"村の外に出ちまう前に捕まえたいんだ。"
		"兄ちゃんも手伝ってくんない？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"それは心配だな")
	MenuAdd(2,"手がかりはあるのかい？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//────────────────────
	//	⇒それは心配だな
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadYes("ADOL", 1, 25)
		Wait(35)

		ChangeAnimation("Reja", "ANI_EV_SIAN_S", -1, 1)

		TalkPopup("Reja",0,0,0,0,0)
		{
			"#011e#000mう、うん、外は危ないし……"
			"やっぱり放っておけねーよ……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒手がかりはあるのかい？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		Wait(40)

		ChangeAnimation("Reja", "ANI_EV_SIAN_S", -1, 1)

		TalkPopup("Reja",0,0,0,0,0)
		{
			"#011e#000mそれが……あちこち探してるんだけど、"
			"隠れるのがうまい奴でさぁ……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	ChangeAnimation("Reja", "ANI_EV_SIAN_E", -1, 1)

	TalkPopup("Reja",0,0,0,0,0)
	{
		"#012e#000mただ、目撃情報はあるから"
		"まだ村の中にいるのは確実なんだ。\p"
		"たぶん人目の少ない場所に"
		"隠れてるんだと思うんだけど……"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , -31.807f , -1417.563f , 30.638f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.150f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.666f , 0 )	// 基本仰角
	RotateCamera( 0 , 171.562f , 0 )				// 角度
	ChangeCameraPers( 0 , 39.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"こういうのは得意さ")
	MenuAdd(2,"こういうのは苦手だな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//────────────────────
	//	⇒こういうのは得意さ
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_YARUKI_S", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_S, 1)
		ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		ChangeAnimation("Reja", "ANI_EV_RYOTEKOSI_S", -1, 1)

		TalkPopup("Reja",0,0,0,0,0)
		{
			"#000e#000mホ、ホントか！？\p"
			"へへ、よかった！"
			"兄ちゃんがいれば百人力だぜっ！\p"
			"捕まえたらここへ連れてきてよ。"
			"よろしく頼んだぜ、兄ちゃんっ！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒こういうのは苦手だな
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_BORI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_S, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)
	
		ChangeAnimation("Reja", "ANI_EV_AKIRE", -1, 1)

		TalkPopup("Reja",0,0,0,0,0)
		{
			"#000e#000mそ、そこを何とか……"
			"頼むよ、兄ちゃん～！\p"
			"きっといるはずなんだ！"
			"なんとか捕まえてくれよ！\p"
			"よろしく頼んだぜ、兄ちゃんっ！ "
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	//　　暗転
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//──────────────────────
	//	⇒依頼が冒険日誌に未登録の場合
	if( FLAG[GF_QUEST_401] == QUEST_NOTHING )
	{
		PlaySE(SE_QUEST_ADD, 100, 0, 0, 0, 1.0f, 0)		// クエスト追加
		//	システムメッセージ
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#-1W#4C冒険日誌のクエストページに5"
			"#-1W#4Cクエスト#8C【新入りはいずこ】#4Cが追加された。#10W" 
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()

		//	  　※レーヤにクエストマーカーを付ける。
	}
	//──────────────────────

	//　　操作許可を戻す。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_401_Start_ED")
}
function "QS_401_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手
	SetFlag( GF_QUEST_401, QUEST_START )		// 【QS401】新入りはいずこ（レーヤ）　クエスト開始
	SetDiaryFlag( DF_QS401_START, 1 )			// 【QS401】★レーヤから話を聞いた。
	//マーカー設置
	SetMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP1, 5.39f,-1494.67f,1.75f, 	5.39f,-1494.67f,	MARKER_QS_401_LP1, MN_T_VILLAGE_MP1201,	0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（浜辺）」ポイント用

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",-30.81f,-1419.58f,28.96f)
	Turn("LEADER",-24.29f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}
//===============================================================
//
// 【QS401】新入りはいずこ（レーヤ）
// ▼クエスト達成イベント
//
function "QS_401_Complete"
{
	//　　暗転明けで農場にフェードイン。
	//　　レーヤとアドルが向き合っている。
	//　　レーヤはピッカードを抱いている状態。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Reja")
	LoadChr("ev_QS_401_Picard")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -31.68f, -1418.42f, 29.22f)
	Turn("ADOL", 174.06f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "Reja" )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("Reja", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Reja",-32.01f,-1416.90f,29.47f)
	Turn("Reja",-29.02f,360.0f)
	ChangeAnimation( "Reja" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Reja",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Reja",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Reja",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Reja", "ADOL")
	SetChrInfoFlag( "Reja" , INFOFLAG_NOCHRATARI)

	SetChrWork("ev_QS_401_Picard", CWK_DEFAULT_SKIPNODE_OFF, 1)
	//SetChrPos("ev_QS_401_Picard", -32.16f, -1417.45f, 29.41f)
	//Turn("ev_QS_401_Picard", -84.83f, 360.0f)
	SetChrPos("ev_QS_401_Picard", -32.66f, -1416.82f, 29.47f)
	Turn("ev_QS_401_Picard", -48.52f, 360.0f)
	ChangeAnimation( "ev_QS_401_Picard" , "ANI_WAIT", -1 , 1 )
	//	ChangeSubAnimation("ev_QS_401_Picard",SUBMOT_EYE,ANI_E_WAIT,1)
	//	ChangeSubAnimation("ev_QS_401_Picard",SUBMOT_MOUTH,ANI_M_WAIT,1)
	//	ChangeSubAnimation("ev_QS_401_Picard",SUBMOT_EXT1,ANI_E_LOOKC,1)
	//	LookReset("ev_QS_401_Picard")
	SetChrInfoFlag("ev_QS_401_Picard", INFOFLAG_NOCHRATARI)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , -33.479f , -1415.589f , 29.498f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.800f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.639f , 0 )	// 基本仰角
	RotateCamera( 0 , 44.356f , 0 )				// 角度
	ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_401_Complete_ED")

//開始処理ここまで-----------------------------------------------

	FadeIn(FADE_BLACK,FADE_NORMAL)
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -32.852f, -1416.895f, 30.192f, 78)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 50.984f, 78)		// 角度

	WaitThread(1000)
	WaitThread(1001)

	TalkPopup("Reja",0,2,0,0,0)
	{
		"#080e#080m兄ちゃん、ありがとう！"
		"ホントによかったぁ～！"
		
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Reja", 30.00f, -24.00f)
	Turn("ev_QS_401_Picard", -28.54f, 6.0f)
	Wait(20)
	Turn("ev_QS_401_Picard", -70.62f, 6.0f)
	Wait(20)
	EmotionEx("ev_QS_401_Picard", 0.00f, EMO_ASE, 0, 5, 1, 1, 1.0f)	//汗汗
	Wait(30)

	TalkPopup("Reja", 0, 2, 0, 0, 0)
	{
		"#000e#000mあれ、でもコイツ"
		"ちょっと焦げてる？\p"
		"一体何があったんだろ……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"すごく臆病な奴みたいだ")
	MenuAdd(2,"すごくおっちょこちょいな奴みたいだ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//────────────────────
	//	⇒すごく臆病な奴みたいだ
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		TalkPopup("Reja", 0, 2, 0, 0, 0)
		{
			"#000e#000mああ、それでいつも"
			"隠れてたのか……"
		}
		WaitPrompt()
		WaitCloseWindow()

		ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -33.059f, -1416.004f, 30.093f, 45)		// 注視点
		ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 45.487f, 45)		// 角度

		WaitThread(1000)
		WaitThread(1001)

		LookReset("Reja")
		ChangeAnimation("Reja", "ANI_EV_AKIRE", -1, 1)
		TalkPopup("Reja",0,2,0,0,0)
		{
			"#011e#080mしょーがねーなぁ、これからは"
			"オレがしっかり守ってやるかぁ！"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeSubAnimation("Reja", SUBMOT_EYE, ANI_E_LAUGH, 1)
		EmotionEx("Reja", 0.00f, EMO_KIRA, 0, 5, 1, 1, 1.0f)	// キラキラ
		Wait(55)
	}
	//	⇒すごくおっちょこちょいな奴みたいだ
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		TalkPopup("Reja", 0, 2, 0, 0, 0)
		{
			"#000e#000mへえ、そうなんだ……"
		}
		WaitPrompt()
		WaitCloseWindow()

		ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -33.059f, -1416.004f, 30.093f, 50)		// 注視点
		ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 45.487f, 50)		// 角度

		WaitThread(1000)
		WaitThread(1001)

		LookReset("Reja")
		ChangeAnimation("Reja", "ANI_EV_HOHOKAKI", -1, 1)
		TalkPopup("Reja",0,2,0,0,0)
		{
			"#011e#080mへへっ、ピッカードも１匹ずつ"
			"性格が違って面白いよな♪"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeSubAnimation("Reja", SUBMOT_EYE, ANI_E_LAUGH, 1)
		EmotionEx("Reja", 0.00f, EMO_ONPU, 0, 5, 1, 1, 1.0f)	// ♪
		Wait(55)
	}
	//────────────────────
	ChangeSubAnimation("Reja", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Reja", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	//　　レーヤにＰＡエモーション
	EmotionEx("Reja", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)

	//　　その後少し照れつつそっぽを向いてみせる。

	Look("Reja", -30.0f, -8.0f )
	PlayVoice(Y8V_4747, "Reja", 100)	//ち、ちげーよ！（照れ隠し）

	TalkPopup("Reja", 0, 2, 0, 0, 0)
	{
		"#011e#000m……って、別にオレ、こいつらが"
		"好きってワケでもないんだけどさ。"

	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Reja", "ANI_EV_RYOTEBURI", -1, 1)
	TalkPopup("Reja", 0, 2, 0, 0, 0)
	{
		"#000mまあ、放っておけねーし……\p"
		"#012e#000mそれに、こいつらの世話をしてたら"
		"不思議と気持ちも紛れるんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Reja")
	ChangeSubAnimation("Reja",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	ChangeAnimation("Reja", "ANI_EV_SEKI", -1, 1)
	WaitAnimation2("Reja", -1, 1, "ANI_EV_SEKI", 0)

	LookChr("Reja", "ADOL")
	TalkPopup("Reja",0,2,0,0,0)
	{
		"#012e#080mへへ、そう思うと、オレもこいつらに"
		"助けられてるのかもしれねーな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Jump("ev_QS_401_Picard", 0.2)
	Wait(10)

	//　　ここでピッカードがきゅいきゅい鳴く。
	PlaySE(SE_PIKA_02, 100, 0, 0, 0, 1.0f, 0)
	Wait(20)

	//LookChr("Reja", "ev_QS_401_Picard")
//	ChangeAnimation("Reja", "ANI_EV_BORI", -1, 1)
	Look("Reja", 30.00f, -24.00f)
	TalkPopup("Reja",0,2,0,0,0)
	{
		"#000e#000mこ、こら、暴れんなっての。"
		"すぐにうまいワラを食わせてやっからさ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	ChangeAnimation("ADOL", "ANI_EV_WAIT2", -1, 1)
	SetChrPos("ev_QS_401_Picard", -32.59f, -1417.37f, 29.46f)
	Turn("ev_QS_401_Picard", -15.17f, 360.0f)

	MoveCameraAt(0, -32.285f, -1418.333f, 30.292f, 0)	// 注視点
	ChangeCameraDistance(0, 3.800f, 0)		// 基本距離
	ChangeCameraElevation(0, 6.879f, 0)	// 基本仰角
	RotateCamera(0, 164.281f, 0)				// 角度
	ChangeCameraPers(0, 43.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)

	//　　レーヤ、アドルに向く。
	LookChr(　"Reja", "ADOL" )

	TalkPopup("Reja",0,2,0,0,0)
	{
		"#000e#000mともかく兄ちゃん、"
		"今日はホントありがとな！\p"
		"そうだ、今日はとれたての野菜を"
		"山ほど持っていってくれよ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Reja", "ANI_EV_TEWATASI_S", -1, 1)
	WaitAnimation2("Reja", -1, 1, "ANI_EV_TEWATASI_S", 0)

	GetItemMessageExPlus(ICON3D_FD_VG_EGGPLANT, 10, ITEMMSG_SE_JINGLE, "を受け取った。12" ,0 ,0 )	//タルボナス
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Reja", "ANI_EV_TEWATASI_E", -1, 1)
	TalkPopup("Reja",0,2,0,0,0)
	{
		"#000e#000mじゃ、オレそろそろ仕事に戻るよ。\p"
		"へへっ、また何かあったら"
		"よろしくなっ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	HeadYes("ADOL", 1, 25)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
	Wait(20)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　画面暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【新入りはいずこ】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	CallFunc("system:QuestVoice_Success")
	WaitCloseWindow()

	//──────────────────────
	//	⇒好感度が一段階上がる場合
	if( FLAG[GF_LIKELV_REJA] < 1 )
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cレーヤの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cレーヤの好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル

	//	ナレーション
	TalkPopup(UNDEF, 0, 5, 0, 0, 0)
	{
		"#-1W#4Cピッカードが加わったことで"
		"#-1W#4C農場の生産力が上がった！#10W" 
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_401_Complete_ED")
}
function "QS_401_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	SetChrPos("ev_QS_401_Picard", -100000.00f, 0.00f, 0.00f)	// 彼方へ

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_QUEST_401, QUEST_SUCCESS )		// 【QS401】新入りはいずこ（レーヤ）　クエストを達成した
	GetItem( ICON3D_FD_VG_EGGPLANT, 10 )			// 『タルボナス』
	SetFlag( GF_LIKELV_REJA, ( FLAG[GF_LIKELV_REJA] + 1 ) )	// 好感度ＵＰ
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS401】新入りはいずこ（レーヤ）	名声値+1
	SetFlag( GF_CAMP_FARMFENCE_LV, (FLAG[GF_CAMP_FARMFENCE_LV] + 1) )	// 漂流村の発展設定：農場柵LV+1
	SetDiaryFlag( DF_QS401_END, 1 )				// 【QS401】★休息所の共有スペースでピッカードを発見。
	//SetDiaryCharaFlag( DRCHA_REJA, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（レーヤ）
	//マーカー消去
	DelMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP5, 0, 0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（屋内Ｃ）」ポイント用

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",-30.81f,-1419.58f,28.96f)
	Turn("LEADER",-24.29f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetEnvSEPlayState(-1, 1)	//環境SE

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS501】卵の配達（ヒュンメル）
// ▼クエスト開始イベント
//
function "QS_501_Start"
{
	//　　画面暗転を挟んで、外れの広場・円形花壇の前。
	//　　ヒュンメルの前にアドルが立っている。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Hummel")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",-47.15f,-1444.44f,29.05f)
	Turn("ADOL",74.10f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "HUMMEL" )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL",-48.76f,-1444.85f,29.05f)
	Turn("HUMMEL",-102.26f,360.0f)
	ChangeAnimation( "HUMMEL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("HUMMEL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "HUMMEL", "ADOL" )
	SetChrInfoFlag( "HUMMEL" , INFOFLAG_NOCHRATARI)

	SetChrInfoFlag("ev_eq4011", INFOFLAG_INVISIBLE)
	SetChrPos("ev_eq4011", -48.76f, -1444.85f, 29.05f)
	SetParent("ev_eq4011", "HUMMEL", "Null_Rhand2")
	ChangeAnimation("ev_eq4011", "ANI_WAIT_HUMMEL", -1, 1)

	//カメラ設定
//	MoveCameraAt(0, -47.662f, -1445.278f, 31.081f, 0)	// 注視点
//	ChangeCameraDistance(0, 2.800f, 0)		// 基本距離
//	ChangeCameraElevation(0, 7.895f, 0)	// 基本仰角
//	RotateCamera(0, 89.095f, 0)				// 角度
//	ChangeCameraPers(0, 45.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
//
//
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -47.593f, -1445.108f, 30.411f, 60)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 7.895f, 60)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 73.365f, 60)		// 角度

	MoveCameraAt( 0 , -47.593f , -1445.108f , 30.411f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.800f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.895f , 0 )	// 基本仰角
	RotateCamera( 0 , 73.365f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_501_Start_ED")

//開始処理ここまで-----------------------------------------------

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)

	TalkPopup("HUMMEL",0,0,0,0,0)
	{
		"#000e#000m早速だが、これを見てくれるか。\p"
		"土の中に隠してあるのだが……"
		"土の中3行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ヒュンメルが花壇の方にしゃがみ込んでクロスフェード。
	LookReset( "HUMMEL" )
	Turn("HUMMEL",66.94f,8.0f)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -48.900f, -1444.949f, 30.337f, 90)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 78.036f, 90)		// 角度

	Wait(40)

	//　　ヒュンメルが大きな卵を両手で抱えて立った状態になる。
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	StopThread(1000)
	StopThread(1001)

	PlaySE(SE_QS_501_01, 100, 0, 0, 0, 1.0f, 0)	//掘る
	Wait(30)

	Turn("HUMMEL",-102.26f,360.0f)
	LookChr( "HUMMEL", "ADOL" )
	ResetChrInfoFlag("ev_eq4011", INFOFLAG_INVISIBLE)
	ChangeAnimation( "HUMMEL", "ANI_EV_EGGWAIT", -1, 1 )

	MoveCameraAt(0, -48.313f, -1444.536f, 30.412f, 0)	// 注視点
	ChangeCameraDistance(0, 2.800f, 0)		// 基本距離
	ChangeCameraElevation(0, 7.894f, 0)	// 基本仰角
	RotateCamera(0, 75.181f, 0)				// 角度
	ChangeCameraPers(0, 45.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	//　　アドルが「アセアセ」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_ASE, 0, 5, 1, 1, 1.0f)	//汗汗
	Wait(50)

	TalkPopup("HUMMEL",0,2,0,0,0)
	{
		"#000e#000m見ての通り“卵”だ。\p"
		"集落の浜辺に流れ着いていたのを"
		"偶然見かけて拾ってな。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"それは一体何の……？")
	MenuAdd(2,"まさか古代種の……？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	ChangeAnimation("ADOL", "ANI_EV_SIAN_S", -1, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	Wait(20)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//──────────────────────
	//	⇒それは一体何の……？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		TalkPopup("HUMMEL",0,2,0,0,0)
		{
			"#000e#000mああ、俺にも分からなかったが"
			"ラクシャが教えてくれてな。\p"
			"どうやらこれは古代種……"
			"それも翼竜型のものらしい。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒まさか古代種の……？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		HeadYes("HUMMEL", 1, 25)
		ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		TalkPopup("HUMMEL",0,2,0,0,0)
		{
			"#000mああ、どうやらそのようだ。\p"
			"ラクシャが教えてくれたのだが……"
			"それも翼竜型のものらしい。 "
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	ChangeAnimation("ADOL", "ANI_EV_SIAN_E", -1, 1)

	Look("HUMMEL", 10.00f, -10.00f)
	TalkPopup("HUMMEL",0,2,0,0,0)
	{
		"#000e#000m……何の卵であろうが、"
		"ここでは貴重な食料だ。\p"
		"初めはみんなで"
		"食べてしまえばいいと考えたが……\p"
		"どうやら、そういうわけにも"
		"いかないようでな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("HUMMEL", "ADOL")
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0)
	{
		"#000e#000mこいつの表面を触ってみてくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルが頷く。
	HeadYes("ADOL" , 1 , 25)
	Wait(25)
	ExecuteCmd(1, MoveTo, "ADOL", -47.93f, -1444.69f, 29.05f, 0.1f, 0.1f)
	WaitThread(1)
	ChangeAnimation("ADOL", "ANI_EV_TEWATASI_S", -1, 1)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cアドルは手を伸ばし、"
		"#7Cヒュンメルが抱えている卵に触れた。\p"
		"#7C卵はわずかに脈動しているようだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitThread(1)

	//　　アドルに「！」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	//！
	Wait(50)

	CrossFade(FADE_CROSS)

	SetChrPos("ADOL", -47.92f, -1445.08f, 29.05f)
	Turn("ADOL", 73.65f, 360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)

	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_CLOSE, 1)
	LookChr("HUMMEL","ADOL")

	MoveCameraAt(0, -48.866f, -1445.714f, 30.585f, 0)	// 注視点
	ChangeCameraDistance(0, 2.800f, 0)		// 基本距離
	ChangeCameraElevation(0, 0.127f, 0)	// 基本仰角
	RotateCamera(0, 145.933f, 0)				// 角度
	ChangeCameraPers(0, 41.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -48.993f, -1445.569f, 30.585f, 600)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 131.079f, 600)		// 角度


	TalkPopup("HUMMEL",0,2,0,0,0)
	{
		"#000m分かるか？"
		"すでに命が芽生えているらしい。\p"
		"……だがおそらく、"
		"このままでは息絶えてしまうだろう。\p"
		"#012e#000m本来あるべき場所に返したいのだが……\p"
		"何しろこの大きさだからな。"
		"流石に俺一人では手に余る。\p"
		"ゆえにアドルたちにも"
		"運びを手伝ってもらいたいのだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"いいけど、なぜ助けるんだい？")
	MenuAdd(2,"もちろん協力するよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//──────────────────────
	//	⇒いいけど、なぜ助けるんだい？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		TalkPopup("HUMMEL",0,2,0,0,0)
		{
			"#000e#000m確かに古代種は相容れぬ存在だ。"
			"助けてやる義理もないが……\p"
			"#011e#000mたとえどんな存在だろうと"
			"生まれ来る命に罪はない。\p"
			"口下手だから上手く言えんが……"
			"まあ、そんなところだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒もちろん協力するよ
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		HeadYes("ADOL", 1, 25)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		Wait(20)

		TalkPopup("HUMMEL",0,2,0,0,0)
		{
			"#000e#000m理由を聞かないのだな。\p"
			"#011eフッ、とんだ"
			"お人好しというべきか……\p"
			"#012eだがありがたい、助かるぞ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────
	EmotionEx("HUMMEL", 0.00f, EMO_3DOT, 0, 5, 1, 1, 0.9f)	//…
	Wait(52)

	TalkPopup("HUMMEL",0,2,0,0,0)
	{
		"#000e#000mさて、翼竜種といえば高い場所に"
		"巣を作っている可能性が高いが……\p"
		"少なくともジャンダルムで"
		"巣らしきものを見かけた記憶はない。\p"
		"島の北部には違いないだろうが……"
		"ともかく運びの仕事を始めよう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	StopThread(1000)
	StopThread(1001)

	//	アイテム入手テキスト
	//「『翼竜の卵』を手に入れた！」
	GetItemMessageExPlus(ICON3D_DORAGON_EGG, 1, ITEMMSG_SE_JINGLE, "を手に入れた！8", 0, 0)	//『翼竜の卵』
//	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
//	{
//		"#2C#0I翼竜の卵#0Cを手に入れた！"
//	}
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()


//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_501_Start_ED")
}
function "QS_501_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_HUMMEL")

	// 非表示
	SetChrInfoFlag("ev_eq4011", INFOFLAG_INVISIBLE)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手
	SetFlag( GF_QUEST_501, QUEST_START )		// 【QS501】卵の配達（ヒュンメル）　クエスト開始
	GetItem(ICON3D_DORAGON_EGG, 1)			// 『翼竜の卵』×１
	SetDiaryFlag( DF_QS501_START, 1 )			// 【QS501】★ヒュンメルから話を聞いた。
	//マーカー設置
	SetMapMarker( SMI_QUEST, PAGE_MP749x, MARKER_QS_501_LP, 91.75f,-47.39f,185.14f, 	91.75f,-47.39f,	MARKER_QS_501_LP, MN_D_MP7491,	0)	// 【QS501】卵の配達（ヒュンメル）巣穴の場所用

	//init呼び出し
	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", -46.79f, -1444.25f, 29.05f)
	Turn("LEADER", -117.19f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, -46.788f, -1444.254f, 30.907f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, -62.809f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS502】航海のお守り（クイナ）
// ▼クエスト開始イベント
//
function "QS_502_Start"
{
	//　　画面暗転を挟んで、外れ・ベンチの前辺り。
	//　　アドルとクイナが向き合っている状態。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Kuina")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",-51.40f,-1437.88f,29.05f)
	Turn("ADOL",123.52f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "Kuina" )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("Kuina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kuina",-52.34f,-1437.25f,29.05f)
	Turn("Kuina",-56.45f,360.0f)
	ChangeAnimation( "Kuina" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Kuina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kuina",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Kuina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "Kuina", "ADOL" )
	SetChrInfoFlag( "Kuina" , INFOFLAG_NOCHRATARI)

	SetShadowBound(2.0f,2.0f)

	//カメラ設定
	MoveCameraAt(0, -52.222f, -1437.299f, 30.222f, 0)	// 注視点
	ChangeCameraDistance(0, 1.002f, 0)		// 基本距離
	ChangeCameraElevation(0, 25.204f, 0)	// 基本仰角
	RotateCamera(0, 41.888f, 0)				// 角度
	ChangeCameraPers(0, 45.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 100.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_502_Start_ED")

//開始処理ここまで-----------------------------------------------

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	TalkPopup("Kuina",0,0,0,0,0)
	{
		"#000e#000mアドル、わたしは今"
		"スゴイものを作っている……\p"
		"そこで君にも協力してもらいたい！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	HeadNo("Kuina", 1, 20)
	Wait(20)
	ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(10)
	ChangeAnimation("Kuina", "ANI_EV_TEMUNE_S", -1, 1)
	TalkPopup("Kuina", 0, 0, 0, 0, 0)
	{
		"#000e#000mいな、君は協力すべきだよっ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	ChangeAnimation("Kuina", "ANI_WAIT", -1, 1)
	MoveCameraAt(0, -52.394f, -1437.471f, 30.247f, 0)	// 注視点
	ChangeCameraDistance(0, 1.002f, 0)		// 基本距離
	ChangeCameraElevation(0, -7.202f, 0)	// 基本仰角
	RotateCamera(0, 271.379f, 0)				// 角度
	ChangeCameraPers(0, 45.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"お守りを作るのかい？")
	MenuAdd(2,"まだ航海に出るには早いよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
	ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
	Wait(30)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//────────────────────
	//	⇒お守りを作るのかい？
	if (FLAG[TF_MENU_SELECT] == 1)
	{

		EmotionEx("Kuina", 0.04f, EMO_GIKU, 0, 5, 1, 1, 0.8f)	// アセアセ
		Wait(40)

		TalkPopup("Kuina",0,1,0,0,0)
		{
			"#000e#000mぎく～ん……！"
			"ど、どーしてわかったの！？"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒まだ航海に出るには早いよ
	else if (FLAG[TF_MENU_SELECT] == 2)
	{

		EmotionEx("Kuina", 0.00f, EMO_Q, 0, 5, 1, 1, 0.75f)	// 「？」
		Wait(40)

		TalkPopup("Kuina",0,1,0,0,0)
		{
			"#000e#000m？？　これは人に"
			"あげるものなんだけど……\p"
			"ってアドル、どーして"
			"わたしが作っている物を知ってるの！？"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	MoveCameraAt(0, -52.840f, -1437.333f, 30.594f, 0)	// 注視点
	ChangeCameraDistance(0, 1.002f, 0)		// 基本距離
	ChangeCameraElevation(0, 17.352f, 0)	// 基本仰角
	RotateCamera(0, 3.123f, 0)				// 角度
	ChangeCameraPers(0, 32.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetChrInfoFlag("Kuina", INFOFLAG_NOATARI)
	ChangeAnimation("Kuina", "ANI_EV_SIT_C", -1, 1)
	ChangeAnimation("ADOL", "ANI_EV_SIT_C", -1, 1)

	SetChrPos("ADOL", -52.62f, -1436.15f, 29.05f)
	Turn("ADOL", 22.92f, 360.0f)

	SetChrPos("Kuina",-53.32f,-1435.97f,29.09f)
	Turn("Kuina",-1.13f,360.0f)
	Look("Kuina", -45.0f, 20.0f)
	ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_SAD, 1)

	SetShadowBound(32.0f,32.0f)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7C依頼の題名に書かれていた事を説明した。"
		"依頼2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(15)

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	//　　クイナに冷や汗エモーション
	EmotionEx("Kuina", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	Wait(50)

	TalkPopup("Kuina",0,0,0,0,0)
	{
		"#061e#000mむむむ、これは計算ちがい……"
		"しょーがない、アドルには話してやろう。\p"
		"#010e#080m実はキレイなお守りを作って"
		"ある人にあげよーと思ってるんだよね～。\p"
		"#012e#000mだからピカピカ光る素材を探していて。\p"
		//"『金剛殻』と『月影翼』が３つずつ……"
		//"#2C#203I竜鱗#0Cっていうのを３つ……"
		"『竜鱗』っていうのを３つ……"
		"もし持ってたら譲ってくれないかなぁ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"構わないよ")
	MenuAdd(2,"愛の告白でもするのかい？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	//────────────────────
	//	⇒構わないよ
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
		HeadYes("ADOL", 1, 25)
		Wait(20)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(15)

		EmotionEx("Kuina", 0.00f, EMO_KIRA, 0, 5, 1, 1, 1.0f)	// キラキラ
		ChangeSubAnimation("Kuina",SUBMOT_EYE,ANI_E_LAUGH_S,1)
		ChangeSubAnimation("Kuina",SUBMOT_MOUTH,ANI_M_SMILE_S,1)

		Wait(40)

		TalkPopup("Kuina",0,0,0,0,0)
		{
			"#080mえへへ……"
			"じゃよろしくね、アドル！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒愛の告白でもするのかい？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_SC_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		EmotionEx("Kuina", 0.00f, EMO_ONPU, 0, 5, 1, 1, 1.0f)	// ♪
		ChangeSubAnimation("Kuina",SUBMOT_EYE,ANI_E_LAUGH_S,1)
		ChangeSubAnimation("Kuina",SUBMOT_MOUTH,ANI_M_SMILE_S,1)

		Wait(40)
		TalkPopup("Kuina",0,0,0,0,0)
		{
			"#080mにししっ、まあそんな所かな♪\p"
			"それじゃあよろしくね、アドル！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	//　　暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//──────────────────────
	//	⇒依頼が冒険日誌に未登録の場合
	if( FLAG[GF_QUEST_502] == QUEST_NOTHING )
	{
		PlaySE(SE_QUEST_ADD, 100, 0, 0, 0, 1.0f, 0)		// クエスト追加
		//	システムメッセージ
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#-1W#4C冒険日誌のクエストページに6"
			"#-1W#4Cクエスト#8C【航海のお守り】#4Cが追加された。#10W" 
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()

		//	  　※クイナにクエストマーカーを付ける。
	}
	//──────────────────────

	//　　イベント終了、操作許可。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_502_Start_ED")
}
function "QS_502_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Kuina")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手
	SetFlag( GF_QUEST_502, QUEST_START )		// 【QS502】航海のお守り（クイナ）　クエスト開始
	SetDiaryFlag( DF_QS502_START, 1 )			// 【QS502】★クイナから話を聞いた。以下の素材を集めよう。

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",-51.95f,-1437.55f,29.05f)
	Turn("LEADER",24.30f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}
//===============================================================
//
// 【QS502】航海のお守り（クイナ）
// ▼クエスト達成イベント（続き）
//
function "QS_502_Complete2"
{
	//　　暗転を挟んで、バルバロスの墓前に歩いてくる２人。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Kuina")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -74.79f, -1457.55f, 31.32f)
	Turn("ADOL", 60.37f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookReset("ADOL")

	SetChrWork("Kuina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kuina", -75.57f, -1456.69f, 31.33f)
	Turn("Kuina", 40.00f, 360.0f)
	ChangeAnimation( "Kuina" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Kuina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kuina",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Kuina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Kuina" , INFOFLAG_NOCHRATARI)
	LookReset( "Kuina" )

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )
	PlayBGM(BGM_EVENT_001, 0)

	//カメラ設定
	MoveCameraAt(0, -76.844f, -1457.629f, 31.764f, 0)	// 注視点
	ChangeCameraDistance(0, 1.001f, 0)		// 基本距離
	ChangeCameraElevation(0, 12.456f, 0)	// 基本仰角
	RotateCamera(0, 281.807f, 0)				// 角度
	ChangeCameraPers(0, 32.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 100.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_502_Complete2_ED")

//開始処理ここまで-----------------------------------------------
	ExecuteCmd(1, MoveTo, "Kuina", -80.01f, -1460.57f, 31.33f, 0.1f, 0.18f)
	ExecuteCmd(2, MoveTo, "ADOL", -78.34f, -1460.52f, 31.32f, 0.1f, 0.16f)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -80.766f, -1460.883f, 32.452f, 110)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 2.275f, 110)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 293.081f, 110)		// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Wait(50)

	FadeOut(FADE_BLACK, FADE_NORMAL)
	Wait(FADE_NORMAL)

	StopThread(1)
	StopThread(2)

	SetChrPos("ADOL", -78.27f, -1460.46f, 31.32f)
	Turn("ADOL", 65.8f, 360.0f)
	SetChrPos("Kuina", -79.94f, -1460.51f, 31.33f)
	Turn("Kuina", 48.88f, 360.0f)

	Look("Kuina", 0.0f, -3.0f)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)

	MoveCameraAt(0, -77.989f, -1459.783f, 32.440f, 0)	// 注視点
	ChangeCameraDistance(0, 3.202f, 0)		// 基本距離
	ChangeCameraElevation(0, -12.736f, 0)	// 基本仰角
	RotateCamera(0, 292.514f, 0)				// 角度
	ChangeCameraPers(0, 43.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Look("ADOL", 0.0f, -10.0f)
	Wait(20)

	StopBGM(150)

	FadeIn(FADE_BLACK, FADE_NORMAL)

	//　　クイナがしゃがんで、バルバロスの墓に
	//　　お守りと花束オブジェが供えられる。
	SetMotSpd("Kuina", -1, 0.6f)
	ChangeAnimation( "Kuina", "ANI_EV_SHAGAMI_S", -1, 1 )
	WaitAnimation2( "Kuina" , -1, 1, "ANI_EV_SHAGAMI_S",  0)
	ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	SetMotSpd("Kuina", -1, 1.0f)
	Wait(FADE_NORMAL)

	Wait(20)
	LookReset("Kuina")
	//PlayVoice(Y8V_4621, "Kuina", 100)	//うん…（しんみり）
	TalkPopup("Kuina",0,0,0,0,0)
	{
		"#080e#080m……うん、これでよし♪\p"
		"#000e#000mサハドに聞いたらね、船乗りのお墓には"
		"航海のお守りを供えるんだって。\p"
		"天国への道しるべになるからって。"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayBGM(BGM_EVENT_016, 0)

	CrossFade(FADE_NORMAL)

	//バルバロスの墓のお守り
	MapHide("que02", 1)

	MoveCameraAt(0, -81.220f, -1461.722f, 31.706f, 0)	// 注視点
	ChangeCameraDistance(0, 2.201f, 0)		// 基本距離
	ChangeCameraElevation(0, 12.523f, 0)	// 基本仰角
	RotateCamera(0, 117.237f, 0)				// 角度
	ChangeCameraPers(0, 40.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	Wait(FADE_NORMAL)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -78.170f, -1459.534f, 32.584f, 160)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 6.797f, 160)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 133.953f, 160)		// 角度

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"そういうことだったのか ")
	MenuAdd(2,"船長のことが好きなんだな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)
	
	//────────────────────
	//	⇒そういうことだったのか
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		Look("Kuina", 0.00f, 25.0f)

		TalkPopup("Kuina",0,0,0,0,0)
		{
			"#000e#000mうん……せんちょーさんには"
			"ずっとお返しがしたかったから。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒船長のことが好きなんだな
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		Look("Kuina", 0.00f, 25.0f)

		TalkPopup("Kuina",0,0,0,0,0)
		{
			"#000e#000mにしし……まーね。\p"
			"わたしを助けてくれた人だもん。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	CrossFade(FADE_CROSS)

	MoveCameraAt(0, -84.255f, -1461.540f, 32.856f, 0)	// 注視点
	ChangeCameraDistance(0, 2.202f, 0)		// 基本距離
	ChangeCameraElevation(0, 7.853f, 0)	// 基本仰角
	RotateCamera(0, 275.128f, 0)				// 角度
	ChangeCameraPers(0, 22.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)

	TalkPopup("Kuina",0,0,0,0,0)
	{
		"#000e#000m少しだけど……"
		"かばってくれた、大きな体は覚えてる。\p"
		"ずっと閉じ込められていたわたしを"
		"命をかけて助けてくれたんだよね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Kuina", 0.00f, 10.0f)
	TalkPopup("Kuina", 0, 0, 0, 0, 0)
	{
		"#011e#000mありがとう……"
		"それと、ごめんなさい……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1, MoveTo, "ADOL", -79.14f, -1460.81f, 31.32f,0.1f, 0.12f)

	//ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -79.114f, -1460.454f, 32.018f, 130)		// 注視点
	//ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 2.201f, 100)		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, -6.495f, 100)		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 284.908f, 100)		// 角度
//	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE, 40.000f, 100)		// 視野角
	WaitThread(1)

	ChangeAnimation("ADOL", "ANI_EV_SHAGAMI_S", -1, 1)
	WaitAnimation2("ADOL", -1, 1, "ANI_EV_SHAGAMI_S", 0)

	CrossFade(FADE_NORMAL)

	//StopThread(1000)
	//StopThread(1001)
	//StopThread(1002)
	//StopThread(1003)
	//StopThread(1004)
	Look("ADOL", 10.0f, 8.0f)
	LookRoll("ADOL", -10.0f)

	MoveCameraAt(0, -78.792f, -1460.368f, 32.117f, 0)	// 注視点
	ChangeCameraDistance(0, 2.201f, 0)		// 基本距離
	ChangeCameraElevation(0, -6.495f, 0)	// 基本仰角
	RotateCamera(0, 284.908f, 0)				// 角度
	ChangeCameraPers(0, 45.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	Wait(FADE_NORMAL)
	//選択肢

	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"覚えていたのか……")
	MenuAdd(2,"……クイナは強いんだな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(20)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	
	//────────────────────
	//	⇒覚えていたのか……
	if (FLAG[TF_MENU_SELECT] == 1)
	{

		//	  　クイナ、こくんとうなずく。
		HeadYes("Kuina" , 1 , 30)
		Wait(50)
	}
	//	⇒……クイナは強いんだな
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		TalkPopup("Kuina",0,0,0,0,0)
		{
			"#011e#000mだって……途方に暮れてても"
			"しょーがないもんね。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	Look("Kuina", -30.00f, 30.0f)

	TalkPopup("Kuina",0,0,0,0,0)
	{
		"#000e#000mわたしね、今まで"
		"色んな人に助けられてきた。\p"
		"わたしを産んでくれたおかーさん、"
		"出稼ぎに行ってるおとーさん……\p"
		"ほんとに色んな人が助けてくれたんだ。\p"
		"#011e#080mだから……わたしは笑っていなくちゃね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　クイナ、何らかのモーション。
	LookReset( "Kuina" )
	ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	Look("Kuina",0.00f, 20.0f)
	Wait(10)

	Look("ADOL", 10.0f, 10.0f)

	TalkPopup("Kuina",0,0,0,0,0)
	{
		"#000e#000mせんちょーさん……"
		"わたしは元気だよ。\p"
		"#000e#080mみんなも今は張り切ってるから"
		"#000e#080m心配いらないかなぁ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Kuina")
	ChangeAnimation("Kuina", "ANI_EV_SHAGAMI_E", -1, 1)


	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -79.027f, -1460.686f, 32.390f, 45)		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 2.201f, 45)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, -3.742f, 45)		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 271.837f, 45)		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE, 40.000f, 45)		// 視野角

	ChangeSubAnimation("Kuina", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Kuina", SUBMOT_EXT1, ANI_E_LOOKC, 1)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	LookReset("ADOL")
	ChangeAnimation("ADOL", "ANI_EV_SHAGAMI_E", -1, 1)
	LookRoll("ADOL", 0.0f)


	//　　軽く涙を拭って笑顔を見せるクイナ。
	SetMotSpd("Kuina", -1, 0.7f)
	ChangeSubAnimation("Kuina",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	ChangeAnimation( "Kuina", "ANI_EV_NAMIDA", -1, 1 )
	Look("Kuina", 0.00f, -10.0f)
	WaitAnimation2( "Kuina" , -1, 1, "ANI_EV_NAMIDA",  0)
	ChangeSubAnimation("Kuina",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	SetMotSpd("Kuina", -1, 1.0f)

	Look("ADOL", 0.00f, -10.0f)

	TalkPopup("Kuina",0,0,0,0,0)
	{
		"#020e#080mえへへ……"
		"だからゆっくり休んでね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_NORMAL)
	MoveCameraAt(0, -78.206f, -1459.762f, 32.390f, 0)	// 注視点
	ChangeCameraDistance(0, 2.201f, 0)		// 基本距離
	ChangeCameraElevation(0, -2.315f, 0)	// 基本仰角
	RotateCamera(0, 132.122f, 0)				// 角度
	ChangeCameraPers(0, 40.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, -1.8f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -74.757f, -1458.265f, 32.564f, 200)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 101.172f, 200)		// 角度

	Wait(FADE_NORMAL)

	Wait(65)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	StopThread(1000)
	StopThread(1001)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cその後、アドルはクイナに付き合って"
		"#7C墓地の掃除をすることにした。\p"
		"#7C聞けばクイナは毎朝欠かさず"
		"#7C行っているのだという。\p"
		"#7C一段と綺麗になったバルバロス船長の墓に、"
		"#7C２人は永久の冥福を祈るのだった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	StopBGM(120)
	Wait(60)

	//　　画面暗転。

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【航海のお守り】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//────────────────────
	//	⇒好感度が一段階上がる場合
	if( FLAG[GF_LIKELV_KUINA] < 1 )
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cクイナの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cクイナの好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────


	//	アイテム入手テキスト
	GetItemMessageExPlus(ICON3D_US_MANGO_S, 5, ITEMMSG_SE_JINGLE, "を受け取った。13", 0, 0)		//完熟マンゴー
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_502_Complete2_ED")
}
function "QS_502_Complete2_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Kuina")
	SetChrPos("Kuina", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_QUEST_502, QUEST_SUCCESS )		// 【QS502】航海のお守り（クイナ）　クエストを達成した
	GetItem( ICON3D_US_MANGO_S, 5 )					// 『完熟マンゴー』
	//DeleteItem( ICON3D_MT_R3_PARTS03, 3 )			// 『金剛殻』×３
	//DeleteItem( ICON3D_MT_R4_PARTS02, 3 )			// 『月影翼』×３
	DeleteItem(ICON3D_MT_R3_PARTS07, 3)			// 『竜鱗』×３
	SetFlag( GF_LIKELV_KUINA, ( FLAG[GF_LIKELV_KUINA] + 1 ) )	// 好感度ＵＰ
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS502】航海のお守り（クイナ）	名声値+1
	SetDiaryFlag( DF_QS502_END, 1 )				// 【QS502】★クイナに素材を渡して依頼を達成した！
	//SetDiaryCharaFlag( DRCHA_KUINA, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（クイナ）

	//バルバロスの墓のお守り
	MapHide("que02", 1)

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", -80.53f, -1458.71f, 31.34f)
	Turn("LEADER", -97.44f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, -80.526f, -1458.711f, 33.214f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 14.718f, 0)	// 基本仰角
	RotateCamera(0, -82.545f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)
	CallFunc("system:camera_reset")

	SetEnvSEPlayState(-1, 1)	//環境SE

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS521】巨大な怨敵（タナトス）
// ▼クエスト達成イベント
//
function "QS_521_Complete"
{

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Thanatos")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",-49.74f,-1438.10f,29.12f)
	Turn("ADOL",43.75f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_EV_SIT_C", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	LookChr( "ADOL", "Thanatos" )

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Thanatos",-50.43f,-1437.43f,29.12f)
	Turn("Thanatos",43.75f,360.0f)
	ChangeAnimation( "Thanatos" , "ANI_EV_SIT_C", -1 , 1 )
	ChangeSubAnimation("Thanatos",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Thanatos",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Thanatos",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Thanatos" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Thanatos" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Thanatos" , INFOFLAG_NOMAPATARICHECK )
	LookChr( "Thanatos", "ADOL" )

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , -47.453f , -1440.229f , 30.130f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.770f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.050f , 0 )	// 基本仰角
	RotateCamera( 0 , 94.395f , 0 )				// 角度
	ChangeCameraPers( 0 , 51.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_521_Complete_ED")

//開始処理ここまで-----------------------------------------------

	if (FLAG[GF_05MP1201_OCEANUS_STANDBY] && !FLAG[GF_05MP1201_HOLD_PARTY]){		// オケアノス戦前
		StopBGM(90)
	}

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cこうしてアドルたちが持ち帰った"
		"#7C巨大なピラルーを"
		"#7Cタナトスが様々な方法で調理し──\p"
		"#7C凄まじい量ながらも、みんなで分け、"
		"#7C見事に平らげてしまうのだった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -47.504f , -1439.515f , 30.130f, 90)		// 注視点
//	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 352.723f, 160)		// 角度

	//MoveCameraAt( 0 , -47.504f , -1439.515f , 30.130f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.770f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -4.050f , 0 )	// 基本仰角
	//RotateCamera( 0 , 94.395f , 0 )				// 角度
	//ChangeCameraPers( 0 , 51.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転

	SetEnvSEPlayState(-1, 1)	//環境SE
	PlayBGM(BGM_TOWN_501, 0)

	//　　画面フェードインして、外れの広場。
	//　　タナトスとアドルが座って話をしている。
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	WaitThread(1000)
//	WaitThread(1001)

	TalkPopup("Thanatos",0,2,0,0,0)
	{
		"#000e#000mどうじゃ、料理の方は満足できたか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルが頷く。
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
	HeadYes("ADOL", 1, 25)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
	Wait(25)


	CrossFade(FADE_CROSS)
	MoveCameraAt(0, -50.059f, -1437.688f, 30.237f, 0)	// 注視点
	ChangeCameraDistance(0, 3.300f, 0)		// 基本距離
	ChangeCameraElevation(0, 6.469f, 0)	// 基本仰角
	RotateCamera(0, 327.020f, 0)				// 角度
	ChangeCameraPers(0, 30.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)

	PlayVoice(Y8V_3963, "Thanatos", 100)	//ワハハ（笑い）
	TalkPopup("Thanatos",0,0,0,0,0)
	{
		"#021e#080mワハハ、なら何よりじゃ。\p"
		"#022eフフ、じゃがやはり"
		"大勢で食べる食事はいいのう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("ADOL", 30.0f, -3.0f)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE_E, 1)

	//　　アドルに「…」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(52)

	ChangeAnimation("Thanatos", "ANI_EV_SC_TEBURI", -1, 1)
	TalkPopup("Thanatos",0,0,0,0,0)
	{
		"#000e#000mふむ、何か聞きたそうな顔をしとるな。\p"
		"聞きたそう2行目"
		"わしらはもう同じ釜の飯を食った者同士。"
		"遠慮ならいらんぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"リコッタ以外に家族はいるんですか？")
	MenuAdd(2,"奥さんはいるんですか？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	LookChr("ADOL", "Thanatos")
	//──────────────────────
	//	⇒リコッタ以外に家族はいるんですか？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		TalkPopup("Thanatos",0,0,0,0,0)
		{
			"#011e#000mふむ、そう来たか……\p"
			"それなら答えは否じゃ。"
			"……少なくとも今はの。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒奥さんはいるんですか？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		TalkPopup("Thanatos",0,0,0,0,0)
		{
			"#011e#000mふむ、そうじゃな……\p"
			"#012e#000mおったと言うなら正しいが……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────
	//ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -49.865f, -1436.043f, 30.237f, 480)		// 注視点
	//ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 341.808f, 480)		// 角度
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -49.974f, -1436.711f, 30.237f, 400)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 339.945f, 400)		// 角度

	ChangeAnimation("Thanatos", "ANI_EV_SC_TEBURI", -1, 1)
	TalkPopup("Thanatos", 0, 0, 0, 0, 0)
	{
		"#000e#000mじゃが勘違いせんでくれよ。\p"
		"別に、身内に不幸なことが"
		"起こったわけではないんじゃ。"
			
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Thanatos")
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	ChangeAnimation("Thanatos", "ANI_EV_SC_UDEGUMI_S", -1, 1)
	TalkPopup("Thanatos",0,0,0,0,0)
	{
		"#011e#000mわしは昔から探険にばかり"
		"命を燃やしていての。\p"
		"そのためになかなか"
		"腰を落ち着けられんというか……\p"
		"まあ、じじいになると"
		"色々あるもんじゃ。\p"
		"#000e#000mちなみに、こう見えて"
		"わしは結構もてる方でのう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_FAST)

	StopThread(1000)
	StopThread(1001)

	MoveCameraAt(0, -49.534f, -1436.039f, 30.535f, 0)	// 注視点
	ChangeCameraDistance(0, 3.301f, 0)		// 基本距離
	ChangeCameraElevation(0, -5.650f, 0)	// 基本仰角
	RotateCamera(0, 327.912f, 0)				// 角度
	ChangeCameraPers(0, 30.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_FAST)

	TalkPopup("Thanatos", 0, 0, 0, 0, 0)
	{
		"#021e#080m今でも恋人候補なら何人もおるぞ。"
		"ワハハハハ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	EmotionEx("Thanatos", 0.00f, EMO_KIRI, 0, 5, 1, 1, 1.0f)	//キラーン
	Wait(50)

	CrossFade(FADE_CROSS)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	MoveCameraAt(0, -49.116f, -1437.682f, 30.237f, 0)	// 注視点
	ChangeCameraDistance(0, 3.301f, 0)		// 基本距離
	ChangeCameraElevation(0, 7.014f, 0)	// 基本仰角
	RotateCamera(0, 276.628f, 0)				// 角度
	ChangeCameraPers(0, 30.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)
	LookChr("Thanatos", "ADOL")

	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	ChangeAnimation("Thanatos", "ANI_EV_SC_UDEGUMI_E", -1, 1)
	WaitAnimation2("Thanatos", -1, 1, "ANI_EV_SC_UDEGUMI_E", 0)

	TalkPopup("Thanatos", 0, 0, 0, 0, 0)
	{
		"#000e#000m──して、お前さんの方は"
		"どうなんじゃ？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//　　アドルに「アセアセ」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_ASE, 0, 5, 1, 1, 1.0f)	//汗汗
	Look("ADOL", 25.0f, -3.0f)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)
	//ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKU_S, 1)
	Wait(50)

	TalkPopup("Thanatos",0,0,0,0,0)
	{
		"#021e#080mワハハ、なかなかどうして"
		"お前さんは純情じゃのう！\p"
		"#022eまあいい、その内じっくり"
		"聞かせてもらうぞ！"
	}
	WaitPrompt()
	WaitCloseWindow()


	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -50.227f, -1438.114f, 31.452f, 250)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 269.167f, 250)		// 角度

	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_CLOSE_E, 1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKR_S,1)
	Wait(35)

	if (FLAG[GF_05MP1201_OCEANUS_STANDBY] && !FLAG[GF_05MP1201_HOLD_PARTY]){		// オケアノス戦前
		StopBGM(90)
	}

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　画面暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	StopThread(1000)
	StopThread(1001)

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF, 0, 5, 0, 0, 0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【巨大な怨敵】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()


	//──────────────────────
	//	⇒好感度が一段階上がる場合
	if (FLAG[GF_LIKELV_THANATOS] < 1)
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF, 0, 5, 0, 0, 0)
		{
			"#8S"
			"#-1W#4Cタナトスの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF, 0, 5, 0, 0, 0)
		{
			"#8S"
			"#-1W#4Cタナトスの好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	//	アイテム入手テキスト
	//「報酬として『隠者の妙薬』を受け取った！」
	GetItemMessageExPlus(ICON3D_US_ADD_EXP_03, 1, ITEMMSG_SE_JINGLE, "を受け取った！" ,0 ,0 )	//隠者の妙薬
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。

	//　　※アドルを広場の入口辺りに再配置。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_521_Complete_ED")
}
function "QS_521_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_QUEST_521, QUEST_SUCCESS )		// 【QS521】巨大な怨敵（タナトス）　クエストを達成した
	GetItem( ICON3D_US_ADD_EXP_03, 1 )				// 『隠者の妙薬』
	SetFlag( GF_LIKELV_THANATOS, (FLAG[GF_LIKELV_THANATOS] + 1))	// 好感度ＵＰ

//	GetItem(FISH_BIG_FISH02,1)				
//	DeleteItem(FISH_BIG_FISH02, 1)			// 大きなピラルー×１	クエスト仕様変更のためコメントアウト

	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成 【QS521】巨大な怨敵（タナトス）	名声値+1
	SetDiaryFlag( DF_QS521_END, 1 )				// 【QS521】★タナトスさんに魚を渡し、皆で食べた！
	//SetDiaryCharaFlag( DRCHA_THANATOS, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（タナトス）

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",-39.24f,-1440.57f,28.19f)
	Turn("LEADER",-109.49f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, -39.240f, -1440.570f, 30.052f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, -64.738f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetEnvSEPlayState(-1, 1)	//環境SE

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS522】奮起の演奏会（オースティン）
// ▼クエスト達成イベント（続き）
//
function "QS_522_Complete2"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//キャラのit3を読み込む
	LoadChr("Dogi")
	LoadChr("Alison")
	LoadChr("Curran")
	LoadChr("Kiergaard")
	LoadChr("Dina")
	LoadChr("Kuina")
	LoadChr("Katrin")
	LoadChr("Licht")
	LoadChr("Aaron")
	LoadChr("Thanatos")
	LoadChr("Sahad")
	LoadChr("Laxia")
	LoadChr("Hummel")
	LoadChr("Ricotta")
	LoadChr("Austen")

	CallFunc("system:Load_Reja_Event")
	CallFunc("system:Load_Miralda_Event")
	//CallFunc("system:Load_Franz_Event")
	CallFunc("system:Load_Ed_Event")
	CallFunc("system:Load_Silvia_Event")
	CallFunc("system:Load_Nia_Event")
	//CallFunc("system:Load_Griselda_Event")
	CallFunc("system:Load_Kashu_Event")
	//CallFunc("system:Load_Austen_Event")
	//CallFunc("system:Load_Curran2_Event")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",-59.56f,-1445.21f,29.05f)
	Turn("ADOL",-117.66f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	//オースティン
	SetChrWork("Austen", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Austen", -56.99f, -1443.94f, 29.05f)
	Turn("Austen", 35.27f, 360.0f)
	ChangeAnimation( "Austen" , "ANI_EV_HARP_WAIT", -1 , 1 )
	ChangeSubAnimation("Austen",SUBMOT_EYE,ANI_E_CLOSE,1)
	ChangeSubAnimation("Austen",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Austen",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Austen", "DANA")
	SetChrInfoFlag( "Austen" , INFOFLAG_NOCHRATARI)

	//ダーナ
	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", -56.99f, -1444.88f, 29.05f)
	Turn("DANA", 120.11f, 360.0f)
	//ChangeAnimation( "DANA" , "ANI_EV_HUE", -1 , 1 )	
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	Look("DANA", 50.0f, 0f)
	//LookChr("DANA", "Austen")
	SetChrInfoFlag( "DANA" , INFOFLAG_NOCHRATARI)

	//サハド
	SetChrWork("Sahad", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Sahad",-60.10f,-1447.38f,29.05f)
	Turn("Sahad",-136.50f,360.0f)
	ChangeAnimation( "Sahad" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Sahad",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Sahad",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Sahad",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Sahad")
	SetChrInfoFlag( "Sahad" , INFOFLAG_NOCHRATARI)

	//ラクシャ
	SetChrWork("Laxia", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Laxia",-59.12f,-1446.31f,29.05f)
	Turn("Laxia",-113.91f,360.0f)
	ChangeAnimation( "Laxia" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Laxia",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Laxia",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Laxia",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Laxia")
	SetChrInfoFlag( "Laxia" , INFOFLAG_NOCHRATARI)

	//ヒュンメル
	SetChrWork("Hummel", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Hummel",-58.95f,-1447.96f,29.05f)
	Turn("Hummel",-150.01f,360.0f)
	ChangeAnimation( "Hummel" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Hummel",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Hummel",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Hummel",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Hummel")
	SetChrInfoFlag( "Hummel" , INFOFLAG_NOCHRATARI)

	//リコッタ
	SetChrWork("Ricotta", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Ricotta",-59.60f,-1442.48f,29.05f)
	Turn("Ricotta",-73.29f,360.0f)
	ChangeAnimation( "Ricotta" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Ricotta",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Ricotta",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Ricotta",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Ricotta")
	SetChrInfoFlag( "Ricotta" , INFOFLAG_NOCHRATARI)

	//アリスン
	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison",-60.86f,-1445.60f,29.05f)
	Turn("Alison",-113.18f,360.0f)
	ChangeAnimation( "Alison" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Alison")
	SetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI)

	//エアラン
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron",-59.10f,-1439.64f,29.05f)
	Turn("Aaron",-36.72f,360.0f)
	ChangeAnimation( "Aaron" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Aaron")
	SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI)

	//ドギ
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi",-60.24f,-1439.49f,29.05f)
	Turn("Dogi",-36.72f,360.0f)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dogi")
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI)

	//カトリーン
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Katrin",-61.13f,-1444.79f,29.05f)
	Turn("Katrin",-106.25f,360.0f)
	ChangeAnimation( "Katrin" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Katrin")
	SetChrInfoFlag( "Katrin" , INFOFLAG_NOCHRATARI)

	//タナトス
	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Thanatos",-59.62f,-1441.62f,29.05f)
	Turn("Thanatos",-70.52f,360.0f)
	ChangeAnimation( "Thanatos" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Thanatos",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Thanatos",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Thanatos",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Thanatos")
	SetChrInfoFlag( "Thanatos" , INFOFLAG_NOCHRATARI)

	//ディナ
	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dina",-61.49f,-1442.94f,29.05f)
	Turn("Dina",-76.21f,360.0f)
	ChangeAnimation( "Dina" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dina")
	SetChrInfoFlag( "Dina" , INFOFLAG_NOCHRATARI)

	//クイナ
	SetChrWork("Kuina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kuina",-59.83f,-1444.18f,29.05f)
	Turn("Kuina",-101.17f,360.0f)
	ChangeAnimation( "Kuina" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Kuina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kuina",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Kuina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Kuina")
	SetChrInfoFlag( "Kuina" , INFOFLAG_NOCHRATARI)

	//リヒト
	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Licht",-60.86f,-1440.34f,29.05f)
	Turn("Licht",-75.35f,360.0f)
	ChangeAnimation( "Licht" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Licht")
	SetChrInfoFlag( "Licht" , INFOFLAG_NOCHRATARI)

	//条件次第でいる
	if( FLAG[GF_SUBEV_JOIN_MIRALDA] )			// ミラルダと合流した
	{
		SetChrWork("Miralda", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Miralda",-60.95f,-1440.94f,29.05f)
		Turn("Miralda",-48.35f,360.0f)
		ChangeAnimation( "Miralda" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Miralda",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Miralda",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Miralda",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Miralda")
		SetChrInfoFlag( "Miralda" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_NIA] )				// シスター・ニアと合流した
	{
		SetChrWork("Nia", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Nia",-61.46f,-1443.95f,29.05f)
		Turn("Nia",-111.94f,360.0f)
		ChangeAnimation( "Nia" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Nia",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Nia",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Nia",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Nia")
		SetChrInfoFlag( "Nia" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_KASHU] )				// カシューと合流した
	{
		SetChrWork("Kashu", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Kashu",-59.20f,-1440.63f,29.05f)
		Turn("Kashu",-34.39f,360.0f)
		ChangeAnimation( "Kashu" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Kashu",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Kashu",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Kashu",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Kashu")
		SetChrInfoFlag( "Kashu" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_GRISELDA] )			// グリゼルダと合流した
	{
		// グリゼルダ		６部以降に再合流なので、配置なし
	}

	//if( FLAG[GF_NPC_5_04_GOTO_HOLLOW] ||		//▼第五部④大空洞へ向かう
	//	FLAG[GF_QUEST_510] == QUEST_SUCCESS )	// 【QS510】故郷の花	クエストを達成した
	if (FLAG[GF_SUBEV_JOIN_ED])				//  エドと合流した	
	{
		SetChrWork("Ed", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Ed",-60.51f,-1446.47f,29.05f)
		Turn("Ed",-107.57f,360.0f)
		ChangeAnimation( "Ed" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Ed",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Ed",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Ed",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Ed")
		SetChrInfoFlag( "Ed" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_FRANZ] )				// フランツと合流した
	{
		// フランツ		▼第五部⑦王家の谷へ向かう以降に再合流なので、配置なし
	}

	if( FLAG[GF_SUBEV_JOIN_REJA] )				// レーヤと合流した
	{
		SetChrWork("Reja", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Reja",-59.84f,-1443.34f,29.05f)
		Turn("Reja",-71.14f,360.0f)
		ChangeAnimation( "Reja" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Reja",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Reja",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Reja",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Reja")
		SetChrInfoFlag( "Reja" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_SILVIA] )			// シルヴィアと合流した
	{
		SetChrWork("Silvia", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Silvia",-61.24f,-1442.05f,29.05f)
		Turn("Silvia",-76.93f,360.0f)
		ChangeAnimation( "Silvia" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Silvia",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Silvia",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Silvia",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Silvia")
		SetChrInfoFlag( "Silvia" , INFOFLAG_NOCHRATARI)
	}

	// カーラン卿		６部以降に再合流なので、配置なし

	//楽器
	SetChrPos("eq4020", -56.99f, -1443.94f, 29.05f)	// オースティンの竪琴
	SetParent("eq4020", "Austen", "Null_harp")

	// 映らないキャラを非表示
	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Sahad", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Laxia", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Alison", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Dina", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Licht", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Kuina", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Miralda", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Nia", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Kashu", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Ricotta", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Ed", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Franz", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)
	//SetChrInfoFlag("Austen", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Hummel", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Reja", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("Silvia", INFOFLAG_INVISIBLE)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , -56.914f , -1444.047f , 30.623f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.840f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -12.188f , 0 )	// 基本仰角
	RotateCamera( 0 , 313.631f , 0 )				// 角度
	ChangeCameraPers( 0 , 42.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -5.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 80.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_522_Complete2_ED")

//開始処理ここまで-----------------------------------------------

	StopBGM(150)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cその後、オースティンと"
		"#7Cダーナは軽く音合わせを行い……\p"
		"#7Cみんなを呼んで、漂流村の士気を"
		"#7C鼓舞するための演奏会を開くのだった。"
	}
	WaitPrompt()
	WaitCloseWindow()
	Look("DANA", 35.0f, 0f)
	//　　画面フェードインして外れの広場。

	Wait(15)

	SetEnvSEPlayState(-1, 1)	//環境SE

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	TalkPopup("Austen",0,0,0,0,0)
	{
		"#012e#080mさあ、準備はいいか──"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , -57.003f , -1444.705f , 30.474f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.610f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 16.376f , 0 )	// 基本仰角
	RotateCamera( 0 , 215.171f , 0 )				// 角度
	ChangeCameraPers( 0 , 39.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -5.7f , 0 )				// ロール回転

	Wait(20)

	ChangeAnimation("DANA", "ANI_EV_RYOTEMAE_S", -1, 1)

	//HeadYes("DANA", 1, 25)
	TalkPopup("DANA",0,0,0,0,0)
	{
		"#180e#080mうん、始めよう！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)

	//　　オースティンとダーナが演奏を始める。
	//　　ある程度演奏が進んだところで周囲の反応を写す。	

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
	LookReset("DANA")
	SetChrPos("DANA", -57.32f, -1445.35f, 29.05f)
	Turn("DANA", 122.80f, 360.0f)
	ChangeAnimation("DANA", "ANI_EV_HUE", -1, 1)

	SetChrPos("eq4013", -56.99f, -1444.88f, 29.05ff)	// ダーナのフルート
	SetParent("eq4013", "DANA", "Bone_Rhand")
	ChangeAnimation("eq4013", "ANI_WAIT_DANA", -1, 1)

	LookReset("Austen")
	SetChrPos("Austen", -56.81f, -1444.29f, 29.05f)
	Turn("Austen", 98.94f, 360.0f)
	ChangeAnimation("Austen", "ANI_EV_HARP_ENSO", -1, 1)

	ChangeSubAnimation("Austen", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	ChangeSubAnimation("Austen", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)

	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SMILE_CLOSE,1)

	ChangeSubAnimation("ADOL" 		,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Katrin"		,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Laxia"		,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Aaron"		,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Alison"		,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Dogi" 		,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Dina" 		,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Licht"		,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Kuina"		,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Miralda"	,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Nia"		,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Kashu"		,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Sahad"		,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Ricotta"	,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Ed"			,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Franz"		,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Thanatos"	,SUBMOT_MOUTH,ANI_M_SMILE,1)
//	ChangeSubAnimation("Hummel"		,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Reja"		,SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Silvia"		,SUBMOT_MOUTH,ANI_M_SMILE,1)

	TurnToChr("ADOL" 			,"Austen",360.0f)
	TurnToChr("Katrin"			,"Austen",360.0f)
	TurnToChr("Laxia"			,"Austen",360.0f)
	TurnToChr("Aaron"			,"Austen",360.0f)
	TurnToChr("Alison"			,"Austen",360.0f)
	TurnToChr("Dogi" 			,"Austen",360.0f)
	TurnToChr("Dina" 			,"Austen",360.0f)
	TurnToChr("Licht"			,"Austen",360.0f)
	TurnToChr("Kuina"			,"Austen",360.0f)
	TurnToChr("Miralda"			,"Austen",360.0f)
	TurnToChr("Nia"				,"Austen",360.0f)
	TurnToChr("Kashu"			,"Austen",360.0f)
	TurnToChr("Sahad"			,"Austen",360.0f)
	TurnToChr("Ricotta"			,"Austen",360.0f)
	TurnToChr("Ed"				,"Austen",360.0f)
	TurnToChr("Franz"			,"Austen",360.0f)
	TurnToChr("Thanatos"		,"Austen",360.0f)
	TurnToChr("Hummel"			,"Austen",360.0f)
	TurnToChr("Reja"			,"Austen",360.0f)
	TurnToChr("Silvia"			,"Austen",360.0f)

	LookChr("ADOL", "DANA")
	LookChr("Katrin", "DANA")
	LookChr("Laxia", "Austen")
	LookChr("Aaron", "DANA")
	LookChr("Alison", "Austen")
	LookChr("Dogi", "DANA")
	LookChr("Dina", "Austen")
	LookChr("Licht", "Austen")
	LookChr("Kuina", "Austen")
	LookChr("Miralda", "DANA")
	LookChr("Nia", "DANA")
	LookChr("Kashu", "DANA")
	LookChr("Sahad", "DANA")
	LookChr("Ricotta", "Austen")
	LookChr("Ed", "DANA")
	LookChr("Franz", "DANA")
	LookChr("Thanatos", "DANA")
	LookChr("Hummel", "Austen")
	LookChr("Reja", "Austen")
	LookChr("Silvia", "Austen")

	ChangeAnimation("Dina"		, "ANI_EV_SIAN", -1 , 1 )
	ChangeAnimation("Alison"	, "ANI_EV_RYOTESIRI", -1 , 1 )
	ChangeAnimation("Hummel"	, "ANI_EV_RYOTEKOSI", -1 , 1 )
	ChangeAnimation("Dogi"		, "ANI_EV_UDEGUMI", -1 , 1 )
	ChangeAnimation("Miralda"	, "ANI_EV_UDEGUMI", -1 , 1 )
//	ChangeAnimation("Silvia"	, "ANI_EV_RYOTEKOSI", -1 , 1 )

	Wait(15)

	PlayBGM(BGM_EVENT_019, 0)

	MoveCameraAt(0, -56.624f, -1445.087f, 30.286f, 0)	// 注視点
	ChangeCameraDistance(0, 2.498f, 0)		// 基本距離
	ChangeCameraElevation(0, 8.816f, 0)	// 基本仰角
	RotateCamera(0, 208.672f, 0)				// 角度
	ChangeCameraPers(0, 27.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -57.054f, -1444.850f, 30.410f, 300)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 8.817f, 300)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 276.153f, 300)		// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	//　　この時点で仲間にできるキャラ全員を配置する。
	//　　（任意キャラは適宜分岐）

	CrossFade(FADE_NORMAL)

	// 全員再表示
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Sahad", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Laxia", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Alison", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Dogi", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Dina", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Licht", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Kuina", INFOFLAG_INVISIBLE)
	//ResetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Miralda", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Nia", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Kashu", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Ricotta", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Ed", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Franz", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)
	//ResetChrInfoFlag("Austen", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Hummel", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Reja", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Silvia", INFOFLAG_INVISIBLE)

	MoveCameraAt(0, -57.451f, -1445.884f, 30.757f, 0)	// 注視点
	ChangeCameraDistance(0, 3.096f, 0)		// 基本距離
	ChangeCameraElevation(0, 10.516f, 0)	// 基本仰角
	RotateCamera(0, 65.348f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -56.699f, -1442.863f, 30.757f, 240)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 101.567f, 240)		// 角度

	Wait(FADE_NORMAL)
	WaitThread(1000)
	WaitThread(1001)

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , -60.630f , -1444.376f , 30.137f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.096f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.401f , 0 )	// 基本仰角
	RotateCamera( 0 , 117.908f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	Wait(FADE_CROSS)

	ChangeAnimation("Kuina", "ANI_EV_HOHOKAKI", -1, 1)
	TalkPopup("Kuina",0,0,0,0,0)
	{
		"#080e#080mほおぉ～っ、じょーずだねぇ～！"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , -59.900f , -1441.113f , 30.360f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.126f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.541f , 0 )	// 基本仰角
	RotateCamera( 0 , 78.530f , 0 )				// 角度
	ChangeCameraPers( 0 , 46.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	Wait(FADE_CROSS)

	ChangeAnimation("Thanatos", "ANI_EV_RYOTEBURI", -1, 1)
	TalkPopup("Thanatos", 0, 0, 0, 0, 0)
	{
		"#021e#080mわはは、なにはともあれ"
		"最高の音色じゃ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Ricotta", "ANI_EV_TEMUNE_S", -1, 1)
	TalkPopup("Ricotta", 0, 0, 0, 0, 0)
	{
		"#021e#080m音楽ってすごい──"
		"リコッタ感動！"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , -59.764f , -1447.048f , 30.360f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.466f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.883f , 0 )	// 基本仰角
	RotateCamera( 0 , 156.828f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	ChangeAnimation("Sahad", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("Sahad",0,0,0,0,0)
	{
		"#080e#080mガハハ、確かに見事なもんだ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Laxia", "ANI_EV_RYOTESIRI_S", -1, 1)

	TalkPopup("Laxia",0,0,0,0,0)
	{
		"#080e#080mええ、ダーナさんは伸び伸びと"
		"自由な感じが素敵ですし……\p"
		"オースティンさんは、とにかく"
		"技術が高くて表現力が豊かですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Hummel", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1)
	TalkPopup("Hummel",0,0,0,0,0)
	{
		"#011e#000mふむ、二人とも"
		"意外な才能があったものだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_S, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)
	ChangeAnimation("ADOL", "ANI_EV_WAIT2_S", -1, 1)
	WaitAnimation2("ADOL", -1, 1, "ANI_EV_WAIT2_S", 0)

	Wait(10)

	//　　カメラ切り替えてもうしばらく演奏会の様子を見せる。
	CrossFade(FADE_NORMAL)

	MoveCameraAt(0, -56.622f, -1445.645f, 29.343f, 0)	// 注視点
	ChangeCameraDistance(0, 2.897f, 0)		// 基本距離
	ChangeCameraElevation(0, 2.268f, 0)	// 基本仰角
	RotateCamera(0, 196.718f, 0)				// 角度
	ChangeCameraPers(0, 51.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//アドル・ダーナ・オースティン以外の登場の可能性があるキャラ全てを画面外に移動しています。

	SetChrPos("Katrin", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Laxia", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Aaron", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Alison", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Dogi", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Sahad", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Licht", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Kuina", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Dina", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Miralda", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Nia", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Kashu", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Griselda", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Ricotta", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Ed", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Franz", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Thanatos", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Hummel", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Reja", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Silvia", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Curran", -100000.00f, 0.00f, 0.00f)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -57.426f, -1444.394f, 29.963f, 260)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, -11.743f, 260)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 233.021f, 260)		// 角度
	Wait(FADE_NORMAL)
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	StopBGM(100)

	//　　画面暗転を挟んで、ギャラリーのいなくなった広場。
	FadeOut(FADE_BLACK,45)
	WaitFade()

	//　　オースティンとダーナの前にアドルを配置。
	ChangeAnimation("ADOL", "ANI_EV_SIT_C", -1, 1)
	SetChrPos("ADOL", -61.48f, -1442.56f, 29.05f)
	Turn("ADOL", -86.90f, 360.0f)
	SetChrInfoFlag("ADOL", INFOFLAG_NOATARI)
	LookChr("ADOL", "Austen")

	ChangeAnimation("Austen", "ANI_EV_SIT_C", -1, 1)
	SetChrPos("Austen", -61.11f, -1440.60f, 29.05f)
	Turn("Austen", -72.75f, 360.0f)
	SetChrInfoFlag("Austen", INFOFLAG_NOATARI)
	LookChr("Austen", "DANA")
	ChangeSubAnimation("Austen",SUBMOT_EYE,ANI_E_WAIT,1)

	ChangeAnimation("DANA", "ANI_EV_SIT_C", -1, 1)
	SetChrPos("DANA", -61.30f, -1441.53f, 29.05f)
	Turn("DANA", -80.53f, 360.0f)
	SetChrInfoFlag("DANA", INFOFLAG_NOATARI)
	LookChr("DANA", "Austen")
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)

	// 非表示
	SetChrInfoFlag("eq4020", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("eq4013", INFOFLAG_INVISIBLE)
	MoveCameraAt( 0 , -60.134f , -1439.256f , 30.214f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.202f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -9.409f , 0 )	// 基本仰角
	RotateCamera( 0 , 211.214f , 0 )				// 角度
	ChangeCameraPers( 0 , 42.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(40)
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE,  -60.957f , -1439.804f , 30.214f, 120)		// 注視点
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 50.569f, 120)		// 角度

	//MoveCameraAt( 0 , -60.957f , -1439.804f , 30.214f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 4.202f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -9.409f , 0 )	// 基本仰角
	//RotateCamera( 0 , 211.214f , 0 )				// 角度
	//ChangeCameraPers( 0 , 42.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	PlayBGM(BGM_TOWN_501, 0)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	WaitThread(1000)
	WaitThread(1002)

	TalkPopup("DANA",0,2,0,0,0)
	{
		"#011e#000mふう、無事に終わってよかった。\p"
		"#012e#080mそれにしても、オースティンさんは"
		"すごい腕前だね！\p"
		"私なんか、ついていくだけで"
		"精一杯だったよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Austen",0,0,0,0,0)
	{
		"#000e#000mいや、僕はあくまで"
		"楽譜通りに演奏したまでだ。\p"
		"それ以上でもそれ以下でもないさ。"
		"それ以上4行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , -61.925f , -1441.008f , 30.041f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.981f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.904f , 0 )	// 基本仰角
	RotateCamera( 0 , 30.523f , 0 )				// 角度
	ChangeCameraPers( 0 , 34.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"それでも素晴らしい才能だ")
	MenuAdd(2,"心に響く演奏だった")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
	HeadYes("ADOL", 1, 25)
	Wait(20)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(15)
	
	//──────────────────────
	//	⇒それでも素晴らしい才能だ
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		TalkPopup("Austen",0,2,0,0,0)
		{
			"#011e#000mいや、才能というのは独創性、"
			"真に素晴らしきは作曲者だ。\p"
			"僕はただ彼らの作品を"
			"なぞっただけに過ぎないからな。\p"
			"#012e#000mそういう意味では僕よりもダーナの"
			"演奏の方が奔放で素晴らしい。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒心に響く演奏だった
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		TalkPopup("Austen",0,2,0,0,0)
		{
			"#011e#000mだとしたら、それは作曲者の功績だ。\p"
			"僕はただ既存の作品を"
			"なぞっただけに過ぎないからな。\p"
			"#012e#000mそういう意味では僕よりもダーナの"
			"演奏の方が奔放で素晴らしい。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	LookReset("DANA")
	LookRoll("DANA", 10.0f)	// かしげる

	ChangeAnimation( "DANA" , "ANI_EV_SC_SIAN_S", -1 , 1 )
	TalkPopup("DANA",0,2,0,0,0)
	{
		"#061e#000mう～ん、そういう話なのかな？"
	}
	WaitPrompt()
	WaitCloseWindow()
	LookRoll("DANA", 0.0f)	// かしげる

	TalkPopup("Austen",0,2,0,0,0)
	{
		"#000e#000mまあ、ともかく無事に"
		"終えることができてよかった。\p"
		"とりあえず、早めに創作への"
		"自信を取り戻したいところだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("DANA","Austen")
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_SAD_CLOSE_E,1)
	ChangeAnimation( "DANA" , "ANI_EV_SC_SIAN_E", -1 , 1 )

	TalkPopup("Austen",0,2,0,0,0)
	{

		"まずは一つ、詩歌でも作るとするか。\p"
		"#011e#000mエタニアの　曲は不滅さ"
		"ＥＴＥＲＮ#4Rエテルニテ#RＩＴＥ──"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Austen", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	//　　オースティに「！」エモーション。
	EmotionEx("Austen", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	//！
	Wait(40)

	LookReset("Austen")
	TalkPopup("Austen",0,0,0,0,0)
	{
		"#070e#080mおお！　即興にしては"
		"なかなかいい感じではないか！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　オースティンに「ワイワイ」エモーション。
	ChangeSubAnimation("Austen", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Look("Austen", 0.00f, 15.00f)
	Wait(20)
	PlayVoice(Y8V_4862, "Austen", 100)	//ハハ！（笑い）
	EmotionEx("Austen", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//ワイワイ
	Wait(50)

	//　　アドルとダーナに「冷や汗」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_S, 1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	EmotionEx("DANA", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)
	Wait(50)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	if (FLAG[GF_05MP1201_OCEANUS_STANDBY] && !FLAG[GF_05MP1201_HOLD_PARTY]){		// オケアノス戦前
		StopBGM(90)
	}

	//　　画面暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF, 0, 5, 0, 0, 0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【奮起の演奏会】#4Cを達成した！#10W" 
		"#8S"
		
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//────────────────────
	//	⇒好感度が一段階上がる場合
	if( FLAG[GF_LIKELV_AUSTEN] < 1 )
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cオースティンの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cオースティンの好感度が最大になった！"
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	//	アイテム入手メッセージ
	GetItemMessageExPlus(ICON3D_US_EXTRA_02, 1, ITEMMSG_SE_JINGLE, "を手に入れた！水" ,0 ,0 )		// 覇王水
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_522_Complete2_ED")
}
function "QS_522_Complete2_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_NPCALL")

	// 非表示
	SetChrInfoFlag("eq4020", INFOFLAG_INVISIBLE)
	SetChrInfoFlag("eq4013", INFOFLAG_INVISIBLE)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_QUEST_522, QUEST_SUCCESS )		// 【QS522】奮起の演奏会（オースティン）　クエストを達成した
	DeleteItem( ICON3D_BLUE_SCORE, 1 )			// 『蒼き豊穣の楽譜』×１
	GetItem( ICON3D_US_EXTRA_02, 1 )								// 『覇王水』
	SetFlag( GF_LIKELV_AUSTEN, ( FLAG[GF_LIKELV_AUSTEN] + 1 ) )	// 好感度ＵＰ
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS522】奮起の演奏会（オースティン）	名声値+1
	SetDiaryFlag( DF_QS522_END, 1 )				// 【QS522】★オースティンに『蒼き豊穣の楽譜』を渡し、

	//スキル名称切り替え
	//JoinNPC( NPC_AUSTEN, JOIN_NPC_LEAVE )			// 旧オースティンを外す
	//JoinNPC( NPC_AUSTEN2, JOIN_NPC_JOIN )			// 新オースティンが仲間になった

	// 人物メモを切り替える・オースティン（２）	オースティンクエスト達成後
	//SetDiaryCharaFlag( DRCHA_AUSTEN, DRCHA_FLAG_OPEN, 0 )	//★人物メモ：合流時に登録（オースティン）
	//SetDiaryCharaFlag( DRCHA_AUSTEN2, DRCHA_FLAG_OPEN, 1 )	//★人物メモ：合流時に登録（オースティン）
	//SetDiaryCharaFlag( DRCHA_AUSTEN, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（オースティン）
	//SetDiaryCharaFlag( DRCHA_AUSTEN2, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（オースティン）

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", -44.56f, -1443.98f, 29.02f)
	Turn("LEADER", -109.74f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, -44.560f, -1443.980f, 30.879f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, -60.118f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	SetEnvSEPlayState(-1, 0)	//環境SE

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

//	================================================
//	【ＬＰ：バルバロスの墓】
//	================================================
function "LP_1204_Grave"
{
	//▼GF_03MP6410M_HEAR_TREE,			//ダーナ編①	植樹祭の説明を受ける
	//	～常時

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	TurnToChr( LEADER , this , 7.5f )
	Wait(10)

	//	テキスト
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cバルバロス船長　ここに眠る"
		"#7C永久の安らぎがあらん事を"
	}
	WaitPrompt()
	WaitCloseWindow()

//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	//イベント後の再配置
//	SetChrPos("LEADER",0.00f,0.00f,0.00f)
//	Turn("LEADER",0.00f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}

//	================================================
//	【ストッパー：迎撃戦マップ・丘に入れない】
//	================================================
function "ST_1204_Fence"
{
	//▼～！GF_02MP1305_CALL_PARO		// パロから緊急連絡をうけた

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	//	テキスト
	TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
	{
		"#7C坂道の先には大きな空き地が"
		"#7C広がっているようだ……\p"
		"#7Cこちらに行く必要はなさそうだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	//イベント後の再配置
	SetChrPos("LEADER",-58.18f,	-1436.24f,29.06f)
	Turn("LEADER",-36.44f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//■サブイベントセクション

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//──────────────────────────────
//	ハシビロコウ・初回会話イベント
//──────────────────────────────
function "Speedrun_Rex"
{
	//　　「▼第二部④アリスンを助けた」～「☆第三部Ｆ迎撃戦⑤を済ませた」
	//　　までの間に話しかけると以下のイベント会話が発生。

//開始処理ここから----------------------------------------------------

//	CallFunc("system:solo_event_begin")

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
//	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	if( FLAG[GF_NPC_2_11_OCCUR_INTERCEPT3] &&	//☆第二部Ｆ迎撃戦③が発生
		!FLAG[GF_NPC_2_11_AFTER_INTERCEPT3] )	//☆第二部Ｆ迎撃戦③を済ませた
	{
		//キャラ初期状態の設定
		SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("ADOL",-46.32f,-1440.14f,28.82f)
		Turn("ADOL",175.36f,360.0f)
		ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookChr( "ADOL", "Rex" )
	
		SetChrWork("Rex", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Rex",-46.46f,-1438.02f,28.85f)
		Turn("Rex",-4.17f,360.0f)
		ChangeAnimation( "Rex" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Rex",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Rex",SUBMOT_MOUTH,ANI_M_WAIT,1)
//		ChangeSubAnimation("Rex",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset( "Rex" )
	
		//BGM設定◆
		//PlayBGM( BGM_FIELD_101 , XX )
	
		//カメラ設定
		MoveCameraAt( 0 , -46.747f , -1437.456f , 29.240f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 2.700f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , 3.587f , 0 )	// 基本仰角
		RotateCamera( 0 , 29.519f , 0 )				// 角度
		ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , 0.0f , 0 )				// ロール回転
		// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	}
	else
	{
		//キャラ初期状態の設定
		SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("ADOL",-71.48f,-1447.83f,30.92f)
		Turn("ADOL",148.84f,360.0f)
		ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookChr( "ADOL", "Rex" )
	
		SetChrWork("Rex", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Rex",-72.53f,-1445.99f,31.02f)
		Turn("Rex",-28.05f,360.0f)
		ChangeAnimation( "Rex" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Rex",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Rex",SUBMOT_MOUTH,ANI_M_WAIT,1)
//		ChangeSubAnimation("Rex",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset( "Rex" )
	
		//BGM設定◆
		//PlayBGM( BGM_FIELD_101 , XX )
	
		//カメラ設定
		MoveCameraAt( 0 , -72.972f , -1445.692f , 31.816f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 3.100f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , -4.974f , 0 )	// 基本仰角
		RotateCamera( 0 , 56.484f , 0 )				// 角度
		ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , 0.0f , 0 )				// ロール回転
		// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	}

	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("LAXIA", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("RICOTTA", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 非表示
	SetChrInfoFlag("DANA", INFOFLAG_INVISIBLE)	// 非表示

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Speedrun_Rex_ED")

//開始処理ここまで-----------------------------------------------


	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　ハシビロコウのネーム演出を表示した後、
	if( FLAG[GF_NPC_2_11_OCCUR_INTERCEPT3] &&	//☆第二部Ｆ迎撃戦③が発生
		!FLAG[GF_NPC_2_11_AFTER_INTERCEPT3] )	//☆第二部Ｆ迎撃戦③を済ませた
	{
		ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -45.730f , -1437.659f , 30.777f , 230 )	// 注視点
		ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.700f , 230 )		// 基本距離
		ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -8.387f , 230 )	// 基本仰角
		ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 332.561f , 230 )				// 角度
	}
	else
	{
		ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -72.009f , -1445.028f , 33.056f , 230 )	// 注視点
		ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.100f , 230 )		// 基本距離
		ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.974f , 230 )	// 基本仰角
		ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 349.512f , 230 )				// 角度
	}
	
	Wait(70)
	VisualName("visual/chrname/cn_c203.itp", VN_NAMEVOICE, VN_CHRNAME_RB_X, VN_CHRNAME_RB_Y,VN_NPCNAME_TIME)	//ハシビロコウ
	Wait(90)

//	FadeBGM(70,30)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	Wait(90)

	//　　ハシビロコウの前にアドルを立たせるカメラ。
	CrossFade(FADE_NORMAL)
	if( FLAG[GF_NPC_2_11_OCCUR_INTERCEPT3] &&	//☆第二部Ｆ迎撃戦③が発生
		!FLAG[GF_NPC_2_11_AFTER_INTERCEPT3] )	//☆第二部Ｆ迎撃戦③を済ませた
	{
		MoveCameraAt( 0 , -45.403f , -1438.030f , 30.455f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 3.800f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , -6.457f , 0 )	// 基本仰角
		RotateCamera( 0 , 326.937f , 0 )				// 角度
		ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , 0.0f , 0 )				// ロール回転
	}
	else
	{
		MoveCameraAt( 0 , -71.583f , -1446.034f , 32.734f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 3.100f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , -11.185f , 0 )	// 基本仰角
		RotateCamera( 0 , 351.443f , 0 )				// 角度
		ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , 0.0f , 0 )				// ロール回転
	}
	
	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 表示
	Wait(FADE_NORMAL)

	//	ハシビロコウ
	TalkPopup("Rex",0,2,0,0,0)
	{
		"…………………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	ナレーション
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0)
	{
		"#7C立派なハシビロコウが"
		"#7Cこちらをじっと見つめている。\p"
		"#7Cどうやらいつの間にか"
		"#7Cこの漂流村にやって来たらしい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ハシビロコウが翼をはためかせるモーションを取り、目を閉じる。	◆仮入力：翼をはためかせるは「飛行：離陸　→　飛行：着地」で入力しています
	ChangeAnimation("Rex", "ANI_FLY_S", -1, 1)
		Wait(15)
		PlaySE(SE_SUB_12, 20, 0, 0, 0, 1.0f, 0)
		PlaySE(SE_SUB_13, 20, 0, 0, 0, 1.0f, 0)
	WaitAnimation2( "Rex" , -1, 1, "ANI_FLY_S",  0)
	ChangeAnimation("Rex", "ANI_FLY_E", -1, 1)
		Wait(5)
		PlaySE(SE_SUB_12, 20, 0, 0, 0, 1.0f, 0)
		PlaySE(SE_SUB_13, 20, 0, 0, 0, 1.0f, 0)
		Wait(20)
		PlaySE(SE_SUB_12, 20, 0, 0, 0, 1.0f, 0)
		PlaySE(SE_SUB_13, 20, 0, 0, 0, 1.0f, 0)
	WaitAnimation2( "Rex" , -1, 1, "ANI_FLY_E",  0)
	Wait(20)
	ChangeSubAnimation("Rex", SUBMOT_EYE, ANI_E_CLOSE, 1)	// 目を閉じる
	Wait(20)

	//	ナレーション
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0)
	{
		"#7Cここが気に入ったのか、"
		"#7Cこのまま居着くつもりのようだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	ハシビロコウ
	TalkPopup("Rex",0,2,0,0,0)
	{
		"……グァ………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	ナレーション
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0)
	{
		"#7Cお腹を空かせているのかもしれない。\p"
		"#7C魚でもあげてみようか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Speedrun_Rex_ED")
}
function "Speedrun_Rex_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
//	CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_Rex")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手
	SetFlag( GF_SPEEDRUN_FISH_1STTALK, 1 )		// やり込み魚渡し：ハシビロコウ・初回会話イベント

	CallFunc("mp1201:init")

	if( FLAG[GF_NPC_2_11_OCCUR_INTERCEPT3] &&	//☆第二部Ｆ迎撃戦③が発生
		!FLAG[GF_NPC_2_11_AFTER_INTERCEPT3] )	//☆第二部Ｆ迎撃戦③を済ませた
	{
		//イベント後の再配置
		SetChrPos("LEADER",-46.24f,-1441.01f,28.83f)
		Turn("LEADER",-5.80f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用
	
		//カメラ位置復帰
		//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
		//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
		//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
		//RotateCamera( 0 , 0.0f , 0 )				// 角度
		//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
		//SetCameraZPlane( 0 , 0.0f )					// ZPlane
		//RollCamera( 0 , 0.0f , 0 )					// ロール回転
	}
	else
	{
		//イベント後の再配置
		SetChrPos("LEADER",-70.96f,-1448.52f,30.88f)
		Turn("LEADER",147.7f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用
	
		//カメラ位置復帰
		//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
		//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
		//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
		//RotateCamera( 0 , 0.0f , 0 )				// 角度
		//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
		//SetCameraZPlane( 0 , 0.0f )					// ZPlane
		//RollCamera( 0 , 0.0f , 0 )					// ロール回転
	}

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

	//	================================================
	//	【名無しの聞き込み：ヒュンメル】
	//	================================================
function "SubEV_02_Talk_Hummel"
{
	//　　ヒュンメルは集落外れ・高台にいる。
	//　　ヒュンメルの前に、アドル、ラクシャ、サハドを再配置する。

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
//	LoadChr("HUMMEL")

	//イベント開始前情報の保存											
	SaveEventState()													
	CallFunc("system:event_chrinfoflag_set")							
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL",-82.88f,-1461.39f,31.34f)
	Turn("HUMMEL",-130.55f,360.0f)
	ChangeAnimation( "HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "HUMMEL" , INFOFLAG_NOCHRATARI)
	LookReset("HUMMEL")

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -81.28f, -1460.43f, 31.33f)
	Turn("ADOL", 56.46f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookChr( "ADOL", "HUMMEL" )

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",-80.67f,-1461.11f,31.33f)
	Turn("LAXIA",77.96f,360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)
	LookChr( "LAXIA", "HUMMEL" )

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", -81.41f, -1459.46f, 31.34f)
	Turn("SAHAD", 61.30f, 360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)
	LookChr( "SAHAD", "HUMMEL" )

	//カメラ設定
	//MoveCameraAt( 0 , -82.537f , -1460.935f , 32.561f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.270f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 6.741f , 0 )	// 基本仰角
	//RotateCamera( 0 , 97.392f , 0 )				// 角度
	//ChangeCameraPers( 0 , 49.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , -82.580f , -1460.604f , 32.561f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.900f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.743f , 0 )	// 基本仰角
	RotateCamera( 0 , 97.339f , 0 )				// 角度
	ChangeCameraPers( 0 , 49.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	
	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 140.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:SubEV_02_Talk_Hummel_ED")

//開始処理ここまで-----------------------------------------------

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -82.580f , -1460.604f , 32.561f, 45)		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 3.900f, 45)		// 角度
//	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 97.339f, 45)		// 角度

	//MoveCameraAt( 0 , -82.580f , -1460.604f , 32.561f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.900f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 6.743f , 0 )	// 基本仰角
	//RotateCamera( 0 , 97.339f , 0 )				// 角度
	//ChangeCameraPers( 0 , 49.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転


	FadeIn(FADE_BLACK,FADE_FAST)
	WaitFade()
//	WaitThread(1000)
//	WaitThread(1001)

	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mヒュンメル……"
		"戻っていたのですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"HUMMEL"
	LookChr("HUMMEL", "ADOL")
	TalkPopup("HUMMEL",0,0,0,0,0)
	{
		"#000e#000mどうかしたのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	ChangeAnimation("SAHAD", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("SAHAD", 0, 1, 400, 160, 0)
	{
		"#000e#000mどうかしたのか、じゃねーぜ。\p"
		"お前さんがいない間に"
		"カーラン卿が死んじまったんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"HUMMEL"
	ChangeAnimation("HUMMEL", "ANI_EV_HIDEFACE_S", -1, 1)
	TalkPopup("HUMMEL",0,0,0,0,0)
	{
		"#011e#000m……そうか。\p"
		"それは気の毒だったな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　サハド、腕組をする
	ChangeAnimation( "SAHAD", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	TalkPopup("SAHAD", 0, 1, 400, 160, 0)
	{
		"#000e#000mそういやお前さん、リヒトと村に戻る途中で"
		"いつの間にか姿が無かったよな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("SAHAD", 0, 1, 400, 160, 0)
	{
		"その後、間もなくして"
		"カーラン卿が襲われた……\p"
		"……………………………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2("SAHAD", -1, 1, "ANI_EV_UDEGUMI_S", 0)

	ChangeAnimation("SAHAD", "ANI_EV_UDEGUMI_E", -1, 1)	// 腕組エンド

	//　　サハドに「！」エモーション
	EmotionEx("SAHAD", -0.01f, EMO_EX, 0, 5, 1, 1, 1.0f)	// 「！」
	Wait(40)

	WaitAnimation2("SAHAD", -1, 1, "ANI_EV_UDEGUMI_E", 0)

	ChangeAnimation("SAHAD", "ANI_EV_SUP_S", -1, 1)	// 驚く
	TalkPopup("SAHAD", 0, 1, 400, 160, 0)
	{
		"#050e#000mひっ、ま、まさか、ヒュンメル……\p"
		"お前さん、いなくなった後に"
		"どこで何やってたんだ！？"
	}
	WaitPrompt()
	WaitCloseWindow()
	Wait(10)

	//	"HUMMEL"
	ChangeAnimation("HUMMEL", "ANI_EV_HIDEFACE_E", -1, 1)

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, -81.127f, -1459.675f, 32.635f, 0)	// 注視点
	ChangeCameraDistance(0, 3.901f, 0)		// 基本距離
	ChangeCameraElevation(0, 6.776f, 0)	// 基本仰角
	RotateCamera(0, 325.435f, 0)				// 角度
	ChangeCameraPers(0, 49.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	Wait(FADE_CROSS)

	TalkPopup("HUMMEL",0,1,100,160,0)
	{
		"#000e#000m生憎だが、話す気はない。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#052e#000mなに……？\p"
		"お、お前さん、やっぱり……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	LookChr("LAXIA", "SAHAD")
	TalkPopup("LAXIA", 0, 2, 0, 0, 0)
	{
		"#000e#000m待ってください、サハド。"
		"ヒュンメルは犯人ではありません。\p"
		"漂流村へ戻る途中まで"
		"彼はわたくしたちと一緒でした。\p"
		"どんなに急いで先回りしても"
		"バルバロス船長への犯行は無理です。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　サハドにＰＡエモーション
	EmotionEx("SAHAD", 0.00f, EMO_PA, 0, 5, 1, 1, 1.4f )	// 「PA」
	Wait(35)

	ChangeAnimation("SAHAD", "ANI_EV_SUP_E", -1, 1)	// 驚く
	TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#061e#000mうーむ、そうだったな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"犯人の心当たりは無いのか？")
	MenuAdd(2,"犯人でなくても共犯の可能性はある……")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	//────────────────────
	//	⇒犯人の心当たりは無いのか？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		LookChr("LAXIA", "HUMMEL")

		CrossFade(FADE_FAST)
		MoveCameraAt(0, -82.949f, -1460.098f, 32.711f, 0)	// 注視点
		ChangeCameraDistance(0, 3.901f, 0)		// 基本距離
		ChangeCameraElevation(0, 7.533f, 0)	// 基本仰角
		RotateCamera(0, 66.634f, 0)				// 角度
		ChangeCameraPers(0, 49.000f, 0)			// 視野角
		SetCameraZPlane(0.100f, 300.000f)			// ZPlane
		RollCamera(0, 0.0f, 0)				// ロール回転
		// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

		Wait(FADE_FAST)

		ChangeAnimation("HUMMEL", "ANI_EV_RYOTEBURI", -1, 1)
		TalkPopup("HUMMEL",0,2,0,0,0)
		{
			"#000e#000mさあな……"
			"そもそもオレに聞いてどうする？\p"
			"オレの話を信用できるのか？"
		}
		WaitPrompt()
		WaitCloseWindow()

		//	"SAHAD"
		TalkPopup("SAHAD", 0, 2, 0, 0, 0)
		{
			"#062e#000mやれやれ、犯人じゃないなら"
			"まあいいんだが。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒犯人でなくても共犯の可能性はある……
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		LookChr("LAXIA", "HUMMEL")

		CrossFade(FADE_FAST)
		MoveCameraAt(0, -82.949f, -1460.098f, 32.711f, 0)	// 注視点
		ChangeCameraDistance(0, 3.901f, 0)		// 基本距離
		ChangeCameraElevation(0, 7.533f, 0)	// 基本仰角
		RotateCamera(0, 66.634f, 0)				// 角度
		ChangeCameraPers(0, 49.000f, 0)			// 視野角
		SetCameraZPlane(0.100f, 300.000f)			// ZPlane
		RollCamera(0, 0.0f, 0)				// ロール回転
		// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

		Wait(FADE_FAST)


		//ChangeAnimation("HUMMEL", "ANI_EV_UDEGUMI_S", -1, 1)
		TalkPopup("HUMMEL",0,2,0,0,0)
		{
			"#000e#000mほう……？\p"
			"確かに、依頼されれば"
			"死体だろうが運ぶのがオレの仕事だ。\p"
			"だが根拠が弱いんじゃないか？"
		}
		WaitPrompt()
		WaitCloseWindow()


		//	"LAXIA"
		HeadYes("LAXIA", 1, 25)
		TalkPopup("LAXIA", 0, 2, 0, 0, 0)
		{
			"#000e#000mええ、確かに……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#000e#000mそれにしても何だって"
		"黙って姿を消したんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"HUMMEL"
	ChangeAnimation("HUMMEL", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0)
	{
		"#011e#000mフン、決まっている……\p"
		"#012eお前たちと協力する必要が"
		"今はないからだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	ChangeAnimation("SAHAD", "ANI_EV_BORI", -1, 1)
	TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#000e#000mへ……？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"HUMMEL"
	ChangeAnimation("HUMMEL", "ANI_EV_UDEGUMI_TEBURI", -1, 1)
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0)
	{
		"#000e#000mお前たちの目的は"
		"この事件の解決なのだろう。\p"
		"オレの目的とは別の道を"
		"歩んでいることになる。\p"
		"無理に協力し合う必要はあるまい。"
		"無理に6行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルたちに冷や汗エモーション
	EmotionEx("ADOL", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f )	// 「冷や汗」
	EmotionEx("LAXIA", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f )	// 「冷や汗」
	EmotionEx("SAHAD", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f )	// 「冷や汗」
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SAD_S,1)
	Wait(50)

	ChangeAnimation("SAHAD", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#000mそりゃま、そーかもしれんが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	LookReset("LAXIA")
	ChangeAnimation("LAXIA", "ANI_EV_SIAN_S", -1, 1)
	TalkPopup("LAXIA", 0, 2, 0, 0, 0)
	{
		"#000e#000m#12S（どうやら彼は"
		"#12S　事件とは無関係のようですね……）\p"
		"#12S（しばらく放っておきましょう。）"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　暗転を挟んで操作許可。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_02_Talk_Hummel_ED")
}
function "SubEV_02_Talk_Hummel_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")	
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_HUMMEL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	SetFlag( GF_SUBEV_NEMO_TALK_HUMMEL, 1 )		//名無しについてヒュンメルと話した

	if( FLAG[GF_SUBEV_NEMO_TALK_LICHT] &&		//名無しについてリヒトと話した
		FLAG[GF_SUBEV_NEMO_TALK_BARBAROSS] &&	//名無しについてバルバロス船長と話した
		FLAG[GF_SUBEV_NEMO_TALK_HUMMEL] &&		//名無しについてヒュンメルと話した
		FLAG[GF_SUBEV_NEMO_TALK_KIERGAARD] )	//名無しについてキルゴールと話した
	{
		SetFlag( GF_02MP1201_END_HEARING, 1 )	// 聞き込みで情報を集めた
		
		SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット
		LoadArg("map/mp1201/mp1201.arg")
		EventCue("mp1201:EV_M02S590")

		ResetStopFlag(STOPFLAG_EVENT)
	}
	else {

		CallFunc("mp1201:init")

		//イベント後の再配置
		SetChrPos("LEADER",-80.35f,-1460.09f,31.33f)
		Turn("LEADER",-113.77f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		//カメラ位置復帰
		//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
		//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
		//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
		//RotateCamera( 0 , 0.0f , 0 )				// 角度
		//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
		//SetCameraZPlane( 0 , 0.0f )					// ZPlane
		//RollCamera( 0 , 0.0f , 0 )					// ロール回転

		RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
		CallFunc("system:camera_reset")

		ResetStopFlag(STOPFLAG_EVENT)

		FadeIn(FADE_BLACK, FADE_FAST)
		//WaitFade()
	}
//終了処理ここまで----------------------------------------------------
}


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//★★以下mp1203より移植

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//■サブイベントセクション

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//EV_M02S520発生条件
function "SubEV_Check_Rope"		// 	//★★以下mp1204から移植
{
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)

	//パーティ状態のリセット
	ResetMotion( "PARTYALL" , 1 )
	StopEffect(-1,ALL,1)
	StopEmotion( "ALL" )
	ResetMoveVec("PARTYALL")

	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0)
	{
		"#7Cロープが水面を漂っているようだ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	SetFlag(GF_SUBEV_1203_CHECK_ROPE, 1)// 【拠点、海岸のロープを調べる】

	//initは重いので、LP飛ばす
	//CallFunc("mp1201:init")
	SetChrPos("SubEV_Check_Rope",-100000.0f,0.0f,0.0f)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
}
//---------------------------------------------------------------

// --------------------------------------------------------------
//【無限迎撃戦を全てクリアした】
// --------------------------------------------------------------
function "SubEV_INTERCEPT_ALL_CLEAR"
{

	//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定		
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 12.42f, -1488.39f, 3.27f)
	Turn("ADOL", 77.20f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("ADOL" , "Dogi")

	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 10.70f, -1489.05f, 3.13f)
	Turn("Dogi", -126.47f, 360.0f)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("Dogi" , "ADOL")

	// カメラ
	MoveCameraAt( 0 , 11.773f , -1488.510f , 5.100f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.340f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.055f , 0 )	// 基本仰角
	RotateCamera( 0 , 142.268f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)

	//スキップ許可
	SetSkipScript("mp1201:SubEV_INTERCEPT_ALL_CLEAR_ED")

	//開始処理ここまで-----------------------------------------------

	//	無限迎撃戦06「山からの脅威・急」を達成すると、
	//	以下のイベントが起動する。

	//　　ドギの前にアドルが立っている構図でフェードイン。

	// カット1 ----------------------------------------------------------------------------------------

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 11.773f , -1488.510f , 4.900f , 60 )

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)

	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"アドル、手を借りちまって悪いな。"
		"今回ばかりはさすがに駄目かと思ったぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// ドギ
	TalkPopup("Dogi",0,2,0,0,0) {
		"#011e#000mだが……ようやく一区切りって所か。\p"
		"まだまだ襲撃は止みそうにねえが……"
		"さすがにこれ以上の勢いって事はなさそうだ。\p"
		"#012e#080mみんなも精一杯やってくれてる。"
		"持ちこたえられそうな気がしてきたぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT, 0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "油断はできないな")
	MenuAdd(2, "今のうちに先を急ぐとするよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10, 0)
	
	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)
	
	// うなずきセット
	HeadYes("Dogi" , 1 , 25 )
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(10)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

//	────────────────────
	//	⇒油断はできないな
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// ドギ
		TalkPopup("Dogi",0,2,0,0,0) {
			"ああ、もちろんだ。"
			"気を引き締めておかねえとな。\p"
			"だがアドル、異変の元凶を止めねえ限り"
			"古代種どもも湧き続けるにちがいねえぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	
	} else {
	//	⇒今のうちに先を急ぐとするよ

		// ドギ
		TalkPopup("Dogi",0,2,0,0,0) {
			"ああ、いよいよ時間もねえようだ。\p"
			"この異変が止まらねえ限り"
			"古代種どもも湧き続けるにちがいねえ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	────────────────────

	// ドギ
	TalkPopup("Dogi",0,0,0,0,0) {
		"#011e#000mその先どうなっちまうのかは……"
		"想像もつかねえがな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ドギ、少し改まる。

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	// ドギ
	TalkPopup("Dogi",0,0,0,0,0) {
		"アドル、ここはお前に託すしかねえ。\p"
		"どうかこの異変を止めてくれ。"
		"よろしく頼んだぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル頷く。

	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(25)

	//　　暗転を挟んで操作許可を戻す。
	
	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_INTERCEPT_ALL_CLEAR_ED")
	
}
function "SubEV_INTERCEPT_ALL_CLEAR_ED"
{

	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Dogi")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//自動送り許可
	SetStopFlag(STOPFLAG_AUTOMESSAGE)

	//フラグ処理
	SetFlag(GF_06MP1201_INTERCEPT_ALL_CLEAR, 1)
	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", 18.24f, -1485.21f, 3.99f)
	Turn("LEADER", -119.41f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	MoveCameraAt( 0 , 18.235f , -1485.207f , 5.846f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.776f , 0 )	// 基本仰角
	RotateCamera( 0 , 122.280f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------
}

function "SubEV_LastInt"		//２周目　果てなき脅威・終　開放イベント
{

	//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("Dogi")
	LoadChr("Aaron")
	LoadChr("Thanatos")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",27.08f,-1420.08f,10.83f)
	Turn("ADOL",0.30f,360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("ADOL","Dogi")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA",29.06f,-1421.62f,10.83f)
	Turn("RICOTTA",69.44f,360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("RICOTTA","Dogi")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",25.44f,-1420.99f,10.83f)
	Turn("SAHAD",-51.13f,360.0f)

	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("SAHAD","Dogi")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",28.36f,-1420.79f,10.83f)
	Turn("LAXIA",35.94f,360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("LAXIA","Dogi")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL",28.86f,-1422.73f,10.83f)
	Turn("HUMMEL",100.22f,360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA",25.97f,-1420.38f,10.83f)
	Turn("DANA",-37.27f,360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("DANA","Dogi")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Thanatos",27.59f,-1423.93f,10.83f)
	Turn("Thanatos",169.50f,360.0f)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron",25.30f,-1422.82f,10.83f)
	Turn("Aaron",-122.99f,360.0f)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi",26.52f,-1423.63f,10.83f)
	Turn("Dogi",-158.52f,360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	//カメラ設定
	MoveCameraAt( 0 , 27.057f , -1421.929f , 12.197f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.041f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.522f , 0 )	// 基本仰角
	RotateCamera( 0 , 118.134f , 0 )				// 角度
	ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:SubEV_LastInt_ED")

	//開始処理ここまで-----------------------------------------------

	//	無限迎撃戦06「山からの脅威・急」を達成すると、
	//	以下のイベントが起動する。

	//　　ドギの前にアドルが立っている構図でフェードイン。

	// カット1 ----------------------------------------------------------------------------------------

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	ChangeAnimation( "Dogi" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000m話ってのは他でもねえ"
		"獣どもの襲撃についてだ。\p"
		"#011e先の襲撃で一旦区切りが"
		"ついたかに見えたんだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron" , "ANI_EV_TEBURI", -1 , 1 )
	
	TalkPopup("Aaron",0,2,0,0,0)
	{
		"#000e#000mジャンダルムから見えちまったんだよ。\p"
		"漂流村にまっすぐ行軍してやがる"
		"途轍もない数の古代種の群れをな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルたちに「！」エモーション。
	EmotionEx("ADOL", 0.00f,EMO_EX,0,5,1,1,1.0f )
	EmotionEx("SAHAD", 0.00f,EMO_EX,0,5,1,1,1.0f )
	EmotionEx("LAXIA", 0.00f,EMO_EX,0,5,1,1,1.0f )	
	EmotionEx("RICOTTA", 0.00f,EMO_EX,0,5,1,1,1.0f )	
	EmotionEx("HUMMEL", 0.00f,EMO_EX,0,5,1,1,1.0f )	
	EmotionEx("DANA", 0.00f,EMO_EX,0,5,1,1,1.0f )	
	Wait(40)
	
	LookChr("SAHAD", "Aaron")
	ChangeAnimation( "SAHAD" , "ANI_EV_SUP_S", -1 , 1 )
	
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#000e#000mま、またかよ。\p"
		"そいつはどれくらいの数がいたんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 27.543f , -1422.945f , 12.494f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.081f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 12.895f , 0 )	// 基本仰角
	RotateCamera( 0 , 15.420f , 0 )				// 角度
	ChangeCameraPers( 0 , 42.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	ChangeAnimation( "Thanatos" , "ANI_EV_UDEGUMI_S", -1 , 1 )
	LookChr("SAHAD", "Thanatos")
	LookChr("LAXIA", "Thanatos")
	LookChr("ADOL", "Thanatos")
	LookChr("DANA", "Thanatos")
	
	//	"Thanatos"
	TalkPopup("Thanatos",0,1,0,0,0)
	{
		"#011e#000m分からんというのが正直なところじゃ。\p"
		"なんせ、今も大樹から現れた古代種が"
		"こっちに向かってきておる。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadNo("SAHAD" , 1 , 35)

	//	"SAHAD"
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#061e#200m終わりがねえってことか！？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#061e#000mそんな……どうして漂流村に……"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)

	ChangeAnimation( "SAHAD" , "ANI_EV_SUP_E", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)

	MoveCameraAt( 0 , 27.080f , -1423.665f , 12.444f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.201f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.479f , 0 )	// 基本仰角
	RotateCamera( 0 , 105.484f , 0 )				// 角度
	ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	//	"Thanatos"
	TalkPopup("Thanatos",0,1,0,0,0)
	{
		"#000mどうしてこうなったかは"
		"推測しかできんが……\p"
		"#012eラクリモサの“最初の障害”として"
		"認識されたのかもしれないのう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#012e#000m悔しいが、今度こそ俺たちで"
		"何とかできる数じゃない。\p"
		"今回もアドルたちに参加してもらいてえ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	CrossFade(FADE_CROSS)
	LookReset("SAHAD")
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SAD,1)

	MoveCameraAt( 0 , 26.359f , -1420.415f , 12.370f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.700f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.050f , 0 )	// 基本仰角
	RotateCamera( 0 , 60.153f , 0 )				// 角度
	ChangeCameraPers( 0 , 42.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"みんなで切り抜けよう")
	MenuAdd(2,"ダーナも力を貸してくれ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//──────────────────────────────
	//	⇒みんなで切り抜けよう
	if(FLAG[TF_MENU_SELECT] == 1 )
	{
	
		//うなずきセット
		HeadYes("ADOL" , 1 , 25 )
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		Wait(20)	

		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#011e#000mこうなっちまったら"
			"腹をくくるしかねーな。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#042e#000mよっしゃ、"
			"思いっきりぶつかってこーぜ！"
		}
		WaitPrompt()
		WaitCloseWindow()

		//	"DANA"
		TalkPopup("DANA",0,1,0,0,0)
		{
			"#091e#080mうん、私たちなら"
			"きっとやり通せるはずだよ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
		//	⇒ダーナも力を貸してくれ
	else
	{
		ChangeAnimation( "ADOL" , "ANI_EV_WAIT2_S", -1 , 1 )
		LookChr("ADOL","DANA")
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		LookChr("DANA","ADOL")
	
		ChangeAnimation( "DANA" , "ANI_EV_RYOTESIRI_S", -1 , 1 )
	
		TalkPopup("DANA",0,2,0,0,0)
		{
			"#091e#080mふふ、ひどいなぁアドルさん。"
			"まだ借りているつもりだったの？\p"
			"#181e私の力だってとっくに村のものだよ。"	//（借りている　に傍点）
			"だって私もみんなの仲間、だからね。"	//（首をかしげてウィンク）"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("SAHAD","ADOL")

		//	"SAHAD"
		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#021e#080mガハハ、こいつは一本取られたなアドル。"
		}
		WaitPrompt()
		WaitCloseWindow()

		Look("ADOL" , 0 , -10 )
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
		ChangeAnimation( "ADOL" , "ANI_EV_WAIT2_E", -1 , 1 )
		
		WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_WAIT2_E",  0)
		Wait(15)
	}
	//──────────────────────────────

	CrossFade(FADE_CROSS)
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	LookChr("DANA", "Dogi")
	LookChr("ADOL", "Dogi")

	MoveCameraAt( 0 , 27.421f , -1421.300f , 11.923f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.590f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 16.296f , 0 )	// 基本仰角
	RotateCamera( 0 , 337.188f , 0 )				// 角度
	ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	LookReset("LAXIA")

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#011e#000mみんなで生き残りましょう。"
		"未来を勝ち取るために。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	ChangeAnimation( "HUMMEL" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	//	"HUMMEL"
	TalkPopup("HUMMEL",0,2,0,0,0)
	{
		"#011e#000m無論だ。"
		"始めから答えは出ている。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Thanatos"
	TalkPopup("Thanatos",0,1,0,0,0)
	{
		"#021e#080mワハハ、話は決まったみたいじゃの。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA" , "ANI_EV_GUTSPOSE_S", -1 , 1 )

	//	"RICOTTA"
	TalkPopup("RICOTTA",0,2,0,0,0)
	{
		"#021e#080mおー！　リコッタたちの"
		"一世一代の大勝負だ！"
	}
	WaitPrompt()
	WaitCloseWindow()


	//	"Dogi"
	TalkPopup("Dogi",0,1,0,0,0)
	{
		"#011e#000mいいか、コイツは"
		"本当の総力戦になる。\p"
		"各々、万全に準備を"
		"整えておいてくれ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル
	// システムメッセージ
	TalkPopup(UNDEF,0,5,0,0,0) {
		"#8S"
		"#-1W#4C迎撃戦#8C『果て無き脅威・終』#4Cが追加された！#10W"
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、その場で操作許可。
	//　　暗転を挟んで操作許可を戻す。
	
	
	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_LastInt_ED")
	
}
function "SubEV_LastInt_ED"
{

	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_NPCALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	SetFlag(GF_06MP1201_INTERCEPT_ALL_CLEAR, 1)
	SetFlag(GF_SUBEV_LASTINT_START, 1)

	//Intercept(INTERCEPT_STAGE27, 1)					// 果て無き海からの脅威・終
	//SetFlag(GF_INTERCEPT_NO, INTERCEPT_STAGE27)

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",34.97f,-1416.81f,10.83f)
	Turn("LEADER",-123.88f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	MoveCameraAt( 0 , 34.966f , -1416.807f , 12.691f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.508f , 0 )	// 基本仰角
	RotateCamera( 0 , 123.876f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetEnvSEPlayState(-1, 1)	//環境SE復帰

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------
}
function "SubEV_LastInt_Complete"		//２周目　果てなき脅威・終　達成イベント
{

	//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//キャラのit3を読み込む
	LoadChr("Barbaross"	)
	LoadChr("Kuina"		)
	LoadChr("Katrin"	)
	LoadChr("Licht"		)
	LoadChr("Alison"	)
	LoadChr("Dina"		)
	LoadChr("Ed"		)
	LoadChr("Thanatos"	)
	LoadChr("Dogi"		)

	CallFunc("system:Load_Franz_Event")
	CallFunc("system:Load_Miralda_Event")
	CallFunc("system:Load_Kashu_Event")
	CallFunc("system:Load_Reja_Event")
	CallFunc("system:Load_Curran_Event")
	CallFunc("system:Load_Silvia_Event")
	CallFunc("system:Load_Austen_Event")
	CallFunc("system:Load_Griselda_Event")

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	CallFunc("system:reset_chrmot_NPCALL")

	//キャラ初期状態の設定				
	SetChrPos("ADOL",25.13f,-1421.21f,10.83f)
	Turn("ADOL",-66.14f,360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrPos("RICOTTA",25.74f,-1419.59f,10.83f)
	Turn("RICOTTA",-35.78f,360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrPos("SAHAD",24.32f,-1420.28f,10.83f)
	Turn("SAHAD",-52.75f,360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrPos("LAXIA",24.60f,-1422.15f,10.83f)
	Turn("LAXIA",-70.31f,360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrPos("HUMMEL",23.44f,-1421.35f,10.83f)
	Turn("HUMMEL",-75.02f,360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrPos("DANA",25.97f,-1420.38f,10.83f)
	Turn("DANA",-37.27f,360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	SetChrPos("Thanatos",26.85f,-1423.76f,10.83f)
	Turn("Thanatos",-170.55f,360.0f)
	SetChrPos("Dogi",25.16f,-1423.02f,10.83f)
	Turn("Dogi",-125.51f,360.0f)

	SetChrPos("Aaron",25.77f,-1423.94f,10.83f)
	Turn("Aaron",-153.42f,360.0f)

	SetChrPos("Dina",27.52f,-1424.41f,10.83f)
	Turn("Dina",166.67f,360.0f)

	SetChrPos("Licht",28.13f,-1423.36f,10.83f)
	Turn("Licht",155.37f,360.0f)

	SetChrPos("Reja",28.86f,-1422.21f,10.83f)
	Turn("Reja",91.42f,360.0f)

	SetChrPos("Silvia",29.96f,-1422.85f,10.83f)
	Turn("Silvia",105.63f,360.0f)

	SetChrPos("Kuina",27.37f,-1419.96f,10.83f)
	Turn("Kuina",13.25f,360.0f)

	SetChrPos("Austen",26.93f,-1419.26f,10.83f)
	Turn("Austen",1.08f,360.0f)

	SetChrPos("Kashu",28.41f,-1420.08f,10.83f)
	Turn("Kashu",45.23f,360.0f)

	SetChrPos("Alison",28.62f,-1418.88f,10.83f)
	Turn("Alison",20.36f,360.0f)

	SetChrPos("Ed",29.20f,-1419.49f,10.83f)
	Turn("Ed",49.84f,360.0f)

	SetChrPos("Katrin",28.84f,-1420.90f,10.83f)
	Turn("Katrin",70.10f,360.0f)

	SetChrPos("Franz",29.70f,-1420.81f,10.83f)
	Turn("Franz",75.43f,360.0f)

	SetChrWork("Griselda", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation( "Griselda" , "ANI_EV_UDEGUMI", -1 , 1 )
	ChangeSubAnimation("Griselda",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Griselda",SUBMOT_EYE,ANI_E_CLOSE,1)
	SetChrPos("Griselda",26.33f,-1424.82f,10.83f)
	Turn("Griselda",-177.84f,360.0f)

	SetChrWork("Curran", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation( "Curran" , "ANI_EV_UDEGUMI", -1 , 1 )
	SetChrPos("Curran",27.44f,-1418.22f,10.83f)
	Turn("Curran",0.10f,360.0f)

	SetChrWork("Miralda", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation( "Miralda" , "ANI_EV_RYOTEKOSI", -1 , 1 )
	ChangeSubAnimation("Miralda",SUBMOT_MOUTH,ANI_M_SMILE,1)
	SetChrPos("Miralda",29.25f,-1423.91f,10.83f)
	Turn("Miralda",138.03f,360.0f)

	SetChrPos("Nia",29.87f,-1421.79f,10.83f)
	Turn("Nia",86.09f,360.0f)

	//カメラ設定
	MoveCameraAt( 0 , 26.561f , -1423.093f , 11.924f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.271f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 12.223f , 0 )	// 基本仰角
	RotateCamera( 0 , 175.305f , 0 )				// 角度
	ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:SubEV_LastInt_Complete_ED")

	//開始処理ここまで-----------------------------------------------

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	//　　迎撃戦終了後、漂流村中央に漂流村の面々が集まっている。
	//　　アドル、ラクシャ、サハド、ドギ、タナトス、エアランが
	//　　輪の中心になるような配置。
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000m……見周りに出たエアランによると"
		"古代種の攻勢は止まったみたいだ。\p"
		"ひとまず一区切りと言っていいだろ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Thanatos" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	//	"Thanatos"
	TalkPopup("Thanatos",0,2,0,0,0)
	{
		"#011e#000mいやはや、何とかなるもんじゃのう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadNo("Dina" ,1 , 35 )
	ChangeAnimation( "Dina" , "ANI_EV_RYOTEBURI", -1 , 1 )

	//	"Dina"
	TalkPopup("Dina",0,2,0,0,0)
	{
		"#061e#000mじいさん軽く言ってくれるわねー……\p"
		"じいさん2行目"
		"あたしはホント"
		"生きた心地がしなかったわ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 0)

	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Reja", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Silvia", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	
	MoveCameraAt( 0 , 29.638f , -1423.214f , 12.048f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.102f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.082f , 0 )	// 基本仰角
	RotateCamera( 0 , 216.096f , 0 )				// 角度
	ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	ChangeAnimation( "Licht" , "ANI_EV_GAKKARI_S", -1 , 1 )

	//	"Licht"
	TalkPopup("Licht",0,2,0,0,0)
	{
		"#061e#000mあいたた……気が抜けたら"
		"足の疲れがどっと来ました……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────────────
	//	⇒レーヤがいる
	if(FLAG[GF_SUBEV_JOIN_REJA])
	{
		ChangeAnimation( "Reja" , "ANI_EV_GAKKARI_S", -1 , 1 )

		TalkPopup("Reja",0,1,0,0,0)
		{
			"#061e#000m足が棒になるとはこの事だよ。"
			"ほんと、ドギは人使いが荒すぎるって……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────────────
	//──────────────────────────────
	//	⇒シルヴィアがいる
	if(FLAG[GF_SUBEV_JOIN_SILVIA])
	{
	
		ChangeAnimation( "Silvia" , "ANI_EV_UDEGUMI_S", -1 , 1 )
	
		TalkPopup("Silvia",0,2,0,0,0)
		{
			"#011e#000mあんたたち、だらしないねぇ。\p"
			"#012e#080mでもまぁ、今回ばかりは"
			"よくやったと褒めてあげようかね。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	else
	{
		LookChr("Katrin","Licht")
	
		//	⇒シルヴィアがいない
		TalkPopup("Katrin",0,1,0,0,0)
		{
			"#000e#080mふふ、みんなよく頑張ったわね。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────────────

	CrossFade(FADE_CROSS)
	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrWork("Silvia", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 0)

	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Austen", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Kashu", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Kuina", CWK_DEFAULT_SKIPNODE_OFF, 1)

	ChangeAnimation( "Licht" , "ANI_EV_GAKKARI_E", -1 , 1 )
	ChangeAnimation( "Reja" , "ANI_EV_GAKKARI_E", -1 , 1 )

	LookReset("Katrin")

	MoveCameraAt( 0 , 28.358f , -1418.654f , 12.097f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.440f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.089f , 0 )	// 基本仰角
	RotateCamera( 0 , 327.830f , 0 )				// 角度
	ChangeCameraPers( 0 , 37.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	ChangeAnimation( "Kuina" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

	TalkPopup("Kuina",0,1,0,0,0)
	{
		"#021e#080mまったく、みなの衆"
		"しっかりしたまえ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────────────
	//	⇒オースティンがいる
	if(FLAG[GF_SUBEV_JOIN_AUSTEN])
	{
		LookChr("Austen","Kuina")

		TalkPopup("Austen",0,2,0,0,0)
		{
			"#011e#000m君はあれだけ走り回って"
			"よく平気でいられるな……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	else
	{
		LookChr("Alison","Kuina")
	
		ChangeAnimation( "Alison" , "ANI_EV_RYOTESIRI_S", -1 , 1 )
	
		//	⇒オースティンがいない
		TalkPopup("Alison",0,2,0,0,0)
		{
			"#061e#080mあはは……\p"
			"#062eクイナさんもあれだけ"
			"走り回っていたのに……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────────────
	//──────────────────────────────
	//	⇒カシューがいる
	if(FLAG[GF_SUBEV_JOIN_KASHU])
	{
		LookChr("Kashu",Kuina)
		
		ChangeAnimation( "Kashu" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

		TalkPopup("Kashu",0,1,0,0,0)
		{
			"#000e#080mはは……クイナは普段から"
			"いい逃げ足をしているからね。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	//──────────────────────────────
	//　　クイナに「♪」エモーション。
	EmotionEx("Kuina", 0.00f,EMO_ONPU,0,5,1,1,1.0f )
	Wait(45)
	
	TalkPopup("Kuina",0,1,0,0,0)
	{
		"#080mにしし、いつもドギとの"
		"追いかけっこで鍛えてるからねー♪"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)
	
	
	CrossFade(FADE_CROSS)
	LookReset("Alison")
	LookReset("Austen")
	LookReset("Kashu")
	SetChrWork("Austen", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrWork("Kashu", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrWork("Kuina", CWK_DEFAULT_SKIPNODE_OFF, 0)

	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Ed", CWK_DEFAULT_SKIPNODE_OFF, 1)

	MoveCameraAt( 0 , 28.762f , -1419.065f , 12.395f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.971f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.980f , 0 )	// 基本仰角
	RotateCamera( 0 , 20.035f , 0 )				// 角度
	ChangeCameraPers( 0 , 46.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(10)
	
	//	"Alison"
	TalkPopup("Alison",0,1,0,0,0)
	{
		"#011e#080m……でもやり遂げたんですね、私たち。"
	}
	WaitPrompt()
	WaitCloseWindow()

	if(FLAG[GF_QS520_BABY_NAME_HOPE] == 0)
	{
		//	エド
		TalkPopup("Ed",0,1,0,0,0)
		{
			"#011e#000mああ、僕たちの村と……"
			"ウィルを守り切る事ができた。"	//（名前は名付けによって分岐）"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	else if(FLAG[GF_QS520_BABY_NAME_HOPE] == 1)
	{
		//	エド
		TalkPopup("Ed",0,1,0,0,0)
		{
			"#011e#000mああ、僕たちの村と…… "
			"ホープを守り切る事ができた。"	//（名前は名付けによって分岐）"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	else if(FLAG[GF_QS520_BABY_NAME_HOPE] == 2)
	{
		//	エド
		TalkPopup("Ed",0,1,0,0,0)
		{
			"#011e#000mああ、僕たちの村と……  "
			"ルークを守り切る事ができた。"	//（名前は名付けによって分岐）"
		}
		WaitPrompt()
		WaitCloseWindow()
	}

	CrossFade(FADE_CROSS)
	SetChrWork("Franz", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Nia", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrInfoFlag("Aaron",INFOFLAG_INVISIBLE)

	MoveCameraAt( 0 , 29.083f , -1421.729f , 11.776f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.513f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 14.602f , 0 )	// 基本仰角
	RotateCamera( 0 , 302.403f , 0 )				// 角度
	ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	//──────────────────────────────
	//	⇒フランツがいる
	if(FLAG[GF_SUBEV_JOIN_FRANZ])
	{
		ChangeAnimation( "Franz" , "ANI_EV_MEGANEKUI", -1 , 1 )
	
		TalkPopup("Franz",0,2,0,0,0)
		{
			"#011e#080mこれも我々の団結力の賜物、"
			"といったところでしょうか。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒フランツがおらず、シスター・ニアがいる
	else if (FLAG[GF_SUBEV_JOIN_NIA])
	{
		HeadNo("Nia", 1 , 25)
	
		TalkPopup("Nia",0,2,0,0,0)
		{
			"#011e#080mええ、島の生活の中で培ってきた"
			"信頼と絆……その賜物だと思います。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒フランツもシスター・ニアもいない
	else
	{	
		TalkPopup("Thanatos",0,1,0,0,0)
		{
			"#021e#080mワハハ、これもワシらの"
			"団結力の成せる技じゃて。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────────────

		ChangeAnimation( "Katrin" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	TalkPopup("Katrin",0,2,0,0,0)
	{
		"#011e#080mフフ、私たちは"
		"本当に強くなる事ができた。\p"
		"#012eそれはドギやアドルだけじゃない、"
		"漂流村のひとりひとりのお陰でもあるわ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	SetChrWork("Franz", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrWork("Nia", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 0)
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 0)



	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	
	MoveCameraAt( 0 , 25.056f , -1419.979f , 11.925f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.503f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 13.536f , 0 )	// 基本仰角
	RotateCamera( 0 , 333.490f , 0 )				// 角度
	ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	ChangeAnimation( "HUMMEL" , "ANI_EV_SIAN_S", -1 , 1 )

	//	"HUMMEL"
	TalkPopup("HUMMEL",0,1,0,0,0)
	{
		"#011e#000m仕事の自己評価は"
		"常に客観性を期すべきだが……\p"
		"どんな獣が襲撃してこようと、"
		"オレたちなら負ける気がしない事は確かだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA" , "ANI_EV_GUTSPOSE_S", -1 , 1 )

	//	"RICOTTA"
	TalkPopup("RICOTTA",0,2,0,0,0)
	{
		"#021e#080m然り、リコッタたち最強なり！"
		"ラクリモサ恐るに足らず！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA" , "ANI_EV_WAIT2_S", -1 , 1 )
	LookChr("LAXIA","ADOL")

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#011e#000mフフ、そうですね。\p"
		"#012eさぁアドル、"
		"後顧の憂いは無くなりました。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	CrossFade(FADE_CROSS)
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	SetChrPos("Dogi",25.16f,-1423.02f,10.83f)
	Turn("Dogi",-125.51f,360.0f)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE,1)
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_CLOSE,1)

	ResetChrInfoFlag("Aaron",INFOFLAG_INVISIBLE)
	
	MoveCameraAt( 0 , 25.257f , -1421.492f , 12.148f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.343f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.028f , 0 )	// 基本仰角
	RotateCamera( 0 , 105.920f , 0 )				// 角度
	ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)
	
	LookChr("DANA" , "ADOL")
	ChangeAnimation( "DANA" , "ANI_EV_RYOTESIRI_S", -1 , 1 )

	//	"DANA"
	TalkPopup("DANA",0,2,0,0,0)
	{
		"#000e#000mうん、決着を付けに行こう、アドルさん！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi" , "ADOL")
	ChangeAnimation( "Dogi" , "ANI_EV_YARUKI_S", -1 , 1 )
	
	//	"Dogi"
	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#012e#000mアドル、後はお前たちに任せたぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("ADOL" ,1 , 25 )
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Wait(40)

	//　　アドル、頷く様子を見せてから
	//　　イベント終了、その場で操作許可。

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_LastInt_Complete_ED")
	
}
function "SubEV_LastInt_Complete_ED"
{

	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_NPCALL")

	ResetChrInfoFlag("Aaron",INFOFLAG_INVISIBLE)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	SetFlag(GF_SUBEV_LASTINT_CLEAR, 1)		//果てなき脅威・終　をクリアした

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",34.97f,-1416.81f,10.83f)
	Turn("LEADER",-123.88f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	MoveCameraAt( 0 , 34.966f , -1416.807f , 12.691f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.508f , 0 )	// 基本仰角
	RotateCamera( 0 , 123.876f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------
}

function "SubEV_LastCon"		//制圧戦３　開放イベント
{

	//開始処理ここから----------------------------------------------------

	if(FLAG[SF_LASTENTRY_NO] == 0 || FLAG[SF_LASTENTRY_NO] == 100 )
	{
		SetStopFlag(STOPFLAG_EVENT)
		FadeOut(FADE_BLACK,0)
		WaitFade()
	}
	else
	{
		//CallFunc("system:event_begin")
		CallFunc("system:solo_event_begin")
	}
	
	//キャラのit3を読み込む
	LoadChr("Dogi")
	LoadChr("Aaron")
	LoadChr("Thanatos")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",40.05f,-1417.01f,10.83f)
	Turn("ADOL",58.58f,360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA",28.65f,-1422.63f,10.83f)
	Turn("RICOTTA",88.58f,360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("RICOTTA","Dogi")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",28.90f,-1421.36f,10.83f)
	Turn("SAHAD",65.15f,360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("SAHAD","Dogi")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",27.16f,-1420.00f,10.83f)
	Turn("LAXIA",30.32f,360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("LAXIA","Dogi")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL",28.02f,-1423.54f,10.83f)
	Turn("HUMMEL",154.23f,360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("HUMMEL","Dogi")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA",25.97f,-1420.38f,10.83f)
	Turn("DANA",-37.27f,360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("DANA","Dogi")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Thanatos",26.73f,-1424.10f,10.83f)
	Turn("Thanatos",-170.24f,360.0f)
	ChangeAnimation("Thanatos", "ANI_EV_RYOTEKOSI", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron",24.98f,-1421.69f,10.83f)
	Turn("Aaron",-97.41f,360.0f)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi",25.34f,-1423.13f,10.83f)
	Turn("Dogi",-129.03f,360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	MapHide(smoke,0)

	//カメラ設定
	MoveCameraAt( 0 , 39.281f , -1417.398f , 12.271f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.471f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.994f , 0 )	// 基本仰角
	RotateCamera( 0 , 141.015f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:SubEV_LastCon_ED")

	//開始処理ここまで-----------------------------------------------

	//入り口か水音の洞窟かワープで戻ってきた　＝　先に制圧戦をすべてクリアしていた場合
	if(FLAG[SF_LASTENTRY_NO] == 0 || FLAG[SF_LASTENTRY_NO] == 100 )
	{

		SetChrInfoFlag("SAHAD",INFOFLAG_INVISIBLE)
		SetChrInfoFlag("LAXIA",INFOFLAG_INVISIBLE)
		SetChrInfoFlag("DANA",INFOFLAG_INVISIBLE)
		SetChrInfoFlag("HUMMEL",INFOFLAG_INVISIBLE)
		SetChrInfoFlag("RICOTTA",INFOFLAG_INVISIBLE)
		SetChrInfoFlag("Thanatos",INFOFLAG_INVISIBLE)
		SetChrInfoFlag("Aaron",INFOFLAG_INVISIBLE)

		SetChrPos("Dogi",32.36f,-1418.59f,10.83f)
		Turn("Dogi",-103.35f,360.0f)

		ExecuteCmd( 1, MoveTo, "Dogi" , 38.01f,-1417.25f,10.83f , 0.1f , 0.55f )
		//SetChrPos("Dogi",38.01f,-1417.25f,10.83f)
		//Turn("Dogi",-103.35f,360.0f)

		// フェードイン
		FadeIn(FADE_BLACK, FADE_NORMAL)
		WaitFade()

		//　　条件を満たしている状態で漂流村に入ると
		//　　強制イベントが起動。
		//　　村の水晶石付近に立つアドルたちに
		//　　慌てた様子でドギが近づいてくる。

		WaitThread(1)
		Wait(15)
		TalkPopup("Dogi",0,2,0,0,0)
		{
			"#000mアドル、いいところに戻ってきてくれた。"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookChr("ADOL","Dogi")

		EmotionEx("ADOL", 0.00f,EMO_Q,0,5,1,1,1.0f )
		Wait(40)

		//	"Dogi"
		TalkPopup("Dogi",0,2,0,0,0)
		{
			"#011e#000mちょいと厄介な状況が分かってな。\p"
			"#012eお前さん達も余裕がないだろうが……"
			"すまんが、一度話を聞いてくれ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		Wait(10)

		FadeOut(FADE_BLACK,FADE_NORMAL)
		WaitFade()

		ResetChrInfoFlag("SAHAD",INFOFLAG_INVISIBLE)
		ResetChrInfoFlag("LAXIA",INFOFLAG_INVISIBLE)
		ResetChrInfoFlag("DANA",INFOFLAG_INVISIBLE)
		ResetChrInfoFlag("HUMMEL",INFOFLAG_INVISIBLE)
		ResetChrInfoFlag("RICOTTA",INFOFLAG_INVISIBLE)
		ResetChrInfoFlag("Thanatos",INFOFLAG_INVISIBLE)
		ResetChrInfoFlag("Aaron",INFOFLAG_INVISIBLE)
	}

	SetChrPos("ADOL",28.34f,-1420.17f,10.83f)
	Turn("ADOL",33.71f,360.0f)
	SetChrPos("Dogi",25.34f,-1423.13f,10.83f)
	Turn("Dogi",-129.03f,360.0f)

	LookChr("ADOL","Dogi")
	
	Wait(15)

	ChangeAnimation( "Dogi" , "ANI_EV_UDEGUMI", -1 , 1 )

	MoveCameraAt( 0 , 27.018f , -1421.829f , 12.246f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.211f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 12.865f , 0 )	// 基本仰角
	RotateCamera( 0 , 162.559f , 0 )				// 角度
	ChangeCameraPers( 0 , 41.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , 27.018f , -1421.829f , 12.246f , 75 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE ,5.191f, 75 )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE ,12.865f , 75 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE ,162.558f , 75 )		// 角度

	//MoveCameraAt( 0 , 27.018f , -1421.829f , 12.246f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 5.191f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 12.865f , 0 )	// 基本仰角
	//RotateCamera( 0 , 162.558f , 0 )				// 角度
	//ChangeCameraPers( 0 , 41.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　アドル、頷きを見せながら画面いったん暗転。
	//　　集会所にアドルたちとドギ、
	//　　エアラン、タナトスが集まっている。

	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	if(FLAG[SF_LASTENTRY_NO] == 0 || FLAG[SF_LASTENTRY_NO] == 100 )
	{
		ChangeAnimation( "Dogi" , "ANI_EV_UDEGUMI_TEBURI", -1 , 1 )

		TalkPopup("Dogi",0,0,0,0,0)
		{
			"#000m話ってのは他でもない。\p"
			"#011eこれまで何とか制圧してきた"
			"浸食谷と密林地帯、王家の谷……\p"
			"#012eここが古代種や獣どもに"
			"再び占拠されちまった。"
			"占拠6行目"
		}
		WaitPrompt()
		WaitCloseWindow()

		EmotionEx("ADOL", 0.00f,EMO_EX,0,5,1,1,1.0f )
		EmotionEx("LAXIA", 0.00f,EMO_EX,0,5,1,1,1.0f )
		EmotionEx("SAHAD", 0.00f,EMO_EX,0,5,1,1,1.0f )
		EmotionEx("RICOTTA", 0.00f,EMO_EX,0,5,1,1,1.0f )
		EmotionEx("HUMMEL", 0.00f,EMO_EX,0,5,1,1,1.0f )
		EmotionEx("DANA", 0.00f,EMO_EX,0,5,1,1,1.0f )
		
		Wait(45)

		HeadNo("SAHAD" ,1 ,35 )

		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#061e#000mおいおい、少し前に"
			"制圧してきたばっかりだぜ？"
		}
		WaitPrompt()
		WaitCloseWindow()

		HeadYes("Dogi", 1, 25 )

		//	"Dogi"
		TalkPopup("Dogi",0,2,0,0,0)
		{
			"#011e#000mああ、こいつはラクリモサの"
			"影響だろうと睨んでいる。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	}
	else	//制圧戦戻りでイベントが起動した場合
	{
		ChangeAnimation( "Dogi" , "ANI_EV_UDEGUMI_TEBURI", -1 , 1 )

		TalkPopup("Dogi",0,2,0,0,0)
		{
			"#000mアドル、今回も"
			"お疲れさんだったな。\p"
			"さっそくなんだが……"
			"パロから厄介な報せが届いた。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation( "SAHAD" , "ANI_EV_TEBURI", -1 , 1 )

		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#000e#000mお？　なんだなんだ？"
		}
		WaitPrompt()
		WaitCloseWindow()

		TalkPopup("Dogi",0,2,0,0,0)
		{
			"#011eこれまで何とか制圧してきた"
			"浸食谷と密林地帯、王家の谷……\p"
			"#012eここが古代種や獣どもに"
			"さっそく占拠されちまった。"
			"さっそく5行目"
		}
		WaitPrompt()
		WaitCloseWindow()
	
		EmotionEx("ADOL", 0.00f,EMO_EX,0,5,1,1,1.0f )
		EmotionEx("LAXIA", 0.00f,EMO_EX,0,5,1,1,1.0f )
		EmotionEx("SAHAD", 0.00f,EMO_EX,0,5,1,1,1.0f )
		EmotionEx("RICOTTA", 0.00f,EMO_EX,0,5,1,1,1.0f )
		EmotionEx("HUMMEL", 0.00f,EMO_EX,0,5,1,1,1.0f )
		EmotionEx("DANA", 0.00f,EMO_EX,0,5,1,1,1.0f )
		
		Wait(45)

		HeadNo("SAHAD" ,1 ,35 )

		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#061e#000mおいおい、ついさっき"
			"制圧してきたばっかりだぜ？"
		}
		WaitPrompt()
		WaitCloseWindow()

		HeadYes("Dogi", 1, 25 )

		//	"Dogi"
		TalkPopup("Dogi",0,2,0,0,0)
		{
			"#011e#000mああ、こいつはラクリモサの"
			"影響だろうと睨んでいる。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	}

	
	LookReset("DANA")
	ChangeAnimation( "DANA" , "ANI_EV_SIAN_S", -1 , 1 )
	//	"DANA"
	TalkPopup("DANA",0,1,0,0,0)
	{
		"#000e#000m想念はセレンの園に集まっている……\p"
		"もし壊されちゃったら"
		"ミストルティンも力を失ってしまうはず。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "HUMMEL" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	//	"HUMMEL"
	TalkPopup("HUMMEL",0,2,0,0,0)
	{
		"#000mこのまま浸食谷と密林地帯で"
		"奴らが繁殖し続けたら……\p"
		"#011eフン、首元に牙を"
		"当てられているようなものだな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//ChangeAnimation( "SAHAD" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

	HeadYes("Dogi" ,1 ,25 )
	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#11e#000mああ、俺たちが生きて島を"
		"脱出する為に放っておけない要所だ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("HUMMEL",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	ChangeAnimation( "Aaron" , "ANI_EV_UDEGUMI_S", -1 , 1 )

	//	"Aaron"
	TalkPopup("Aaron",0,2,0,0,0)
	{
		"#011e#000mお前たちにはラクリモサの阻止に"
		"全力を尽くしてもらいたいが……\p"
		"#012e制圧戦となるとお前たちの力が"
		"どうしても必要だ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "LAXIA" , "ANI_EV_TEMUNE_S", -1 , 1 )
	LookChr("Dogi","LAXIA")
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	
	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000m当然、私たちも参加いたします。\p"
		"とにかく、限られた時間と人員で"
		"最善を尽くすしかありません。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	HeadYes("Dogi" , 1 , 25 )

	//	"Dogi"
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#011e#000mそう言ってもらえると助かるぜ。\p"
		"このままじゃジリ貧になるばかりだ。"
		"こいつを早く何とかしねえと……"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_FAST)
	MoveCameraAt( 0 , 27.731f , -1423.715f , 12.097f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.613f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.653f , 0 )	// 基本仰角
	RotateCamera( 0 , 220.950f , 0 )				// 角度
	ChangeCameraPers( 0 , 46.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_FAST)

	//　　タナトスに「…」エモーション。
	ChangeSubAnimation("Thanatos",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	EmotionEx("Thanatos", 0.00f,EMO_3DOT,0,5,1,1,1.0f )
	Wait(55)
	
	HeadYes("Thanatos" , 1 , 25 )
	
	TalkPopup("Thanatos",0,2,0,0,0)
	{
		"#000mフム、間違ってはおらんが――\p"
		"#012e#080mこういう時こそ、慌てずに"
		"入念に準備すべきじゃぞ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

	//	"RICOTTA"
	TalkPopup("RICOTTA",0,2,0,0,0)
	{
		"#021e#080mなはは、急がば回れ、"
		"大事な心得だな！"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 26.805f , -1423.013f , 12.147f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.411f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.099f , 0 )	// 基本仰角
	RotateCamera( 0 , 106.849f , 0 )				// 角度
	ChangeCameraPers( 0 , 49.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookChr("DANA", "Dogi")
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
	ChangeAnimation( "HUMMEL" , "ANI_WAIT", -1 , 1 )
	ChangeAnimation( "DANA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_ANGER,1)	
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_MAJI,1)	
	
	Wait(FADE_CROSS)

	//　　ドギに「ＰＡ」エモーション。
	EmotionEx("Dogi", 0.00f,EMO_PA,0,5,1,1,1.0f )
	ChangeAnimation( "Dogi" , "ANI_EV_UDEGUMI_E", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT_S,1)
	LookChr("Dogi", "RICOTTA")
	Wait(40)
	
	WaitAnimation2( "Dogi" , -1, 1, "ANI_EV_UDEGUMI_E",  0)
	LookReset("Dogi")
	ChangeAnimation( "Dogi" , "ANI_EV_BORI", -1 , 1 )
	
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#061e#080mはは、参ったな。"
		"#062eまったくその通りだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)
	
	
	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 26.848f , -1422.287f , 12.271f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.681f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 14.690f , 0 )	// 基本仰角
	RotateCamera( 0 , 334.596f , 0 )				// 角度
	ChangeCameraPers( 0 , 42.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	LookChr("Dogi","ADOL")

	ChangeAnimation( "Dogi" , "ANI_EV_TEBURI", -1 , 1 )
	TalkPopup("Dogi",0,1,0,0,0)
	{
		"それじゃあ、アドル。\p"
		"お前さんたちの準備が整ったら"
		"改めて俺に声をかけてくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル頷く
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_ANGER_CLOSE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_ANGER_CLOSE_E,1)
	Wait(40)
	
	LookReset("Dogi")
	ChangeAnimation( "Dogi" , "ANI_EV_YARUKI_S", -1 , 1 )
	
	TalkPopup("Dogi",0,1,0,0,0)
	{
		"#000e#080mさあ、後ひと踏ん張りだ。"
		"思いっきり暴れてやろうぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	EarthQuake(0.10, 0.10 , 8)

	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_ANGER_S,1)
	ChangeAnimation( "ADOL" , "ANI_EV_GUTSPOSE_S", -1 , 1 )
	ChangeAnimation( "LAXIA" , "ANI_EV_GUTSPOSE3_S", -1 , 1 )
	ChangeAnimation( "SAHAD" , "ANI_EV_GUTSPOSE_S", -1 , 1 )
	ChangeAnimation( "RICOTTA" , "ANI_EV_KYOSHU_S", -1 , 1 )
	ChangeAnimation( "HUMMEL" , "ANI_EV_HIDEFACE_S", -1 , 1 )
	LookReset("HUMMEL")
	ChangeAnimation( "DANA" , "ANI_EV_RYOTEMAE_S", -1 , 1 )

	//	みんな
	SetName("みんな")
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,60,0)
	{
		"おおっ！！"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()


	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)		//チュートリアル

	//	システムメッセージ
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#-1W#4C制圧戦『絶対防衛戦線シュラム』"
		"#-1W#4C制圧戦『汚濁に沈む浸食谷』"
		"#-1W#4C制圧戦『セレン解放作戦』が追加された！#10W"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　以降「作戦を開始する」する　＞　遠征戦選択メニューに
	//　　上記３ステージが追加される。
	//　　イベント終了、集会所前で操作許可。
	
	
	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_LastCon_ED")
	
}
function "SubEV_LastCon_ED"
{

	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_NPCALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)
	MapHide(smoke,1)

	//フラグ処理
	SetFlag(GF_SUBEV_CONTROL3_START, 1)	//制圧戦３を開放した

	//Intercept(INTERCEPT_STAGE37, -1)					// 制圧戦３
	//Intercept(INTERCEPT_STAGE38, -1)					
	//Intercept(INTERCEPT_STAGE39, -1)					

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",34.97f,-1416.81f,10.83f)
	Turn("LEADER",-123.88f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	MoveCameraAt( 0 , 34.966f , -1416.807f , 12.691f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.508f , 0 )	// 基本仰角
	RotateCamera( 0 , 123.876f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetEnvSEPlayState(-1, 1)	//環境SE復帰

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------
}
function "SubEV_LastCon_Complete"
{
	//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("Dogi")
	LoadChr("Aaron")
	LoadChr("Thanatos")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定				
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",25.99f,-1423.68f,10.83f)
	Turn("ADOL",-122.99f,360.0f)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("ADOL","HUMMEL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA",28.65f,-1422.63f,10.83f)
	Turn("RICOTTA",88.58f,360.0f)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("RICOTTA","HUMMEL")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",28.36f,-1420.79f,10.83f)
	Turn("SAHAD",35.94f,360.0f)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("SAHAD","HUMMEL")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", 25.37f, -1422.01f, 10.83f)
	Turn("LAXIA", -88.08f, 360.0f)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookChr("LAXIA","HUMMEL")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", 27.25f, -1423.67f, 10.83f)
	Turn("HUMMEL", 171.28f, 360.0f)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA",25.97f,-1420.38f,10.83f)
	Turn("DANA",-37.27f,360.0f)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	//カメラ設定
	MoveCameraAt( 0 , 27.267f , -1422.714f , 12.023f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.471f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.352f , 0 )	// 基本仰角
	RotateCamera( 0 , 188.272f , 0 )				// 角度
	ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:SubEV_LastCon_Complete_ED")

	//開始処理ここまで-----------------------------------------------

	// フェードイン
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	//　　３種類の制圧戦３をクリアし、
	//　　漂流村に戻ってきたところでイベント開始。
	//　　集会所前でアドル班とドギ、タナトス、エアランを配置。
	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#000e#000m……ひとまず、３箇所すべてで"
		"古代種どもを追い返せたようだ。\p"
		"本当にお疲れさんだったな、みんな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	TalkPopup("SAHAD",0,0,0,0,0)
	{
		"#000e#000mふいい、何とか収まってくれたか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"DANA"
	TalkPopup("DANA",0,0,0,0,0)
	{
		"#000e#000mひとまずは大丈夫そうだね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Aaron"
	TalkPopup("Aaron",0,0,0,0,0)
	{
		"#000e#000mだが、まだ気を抜ける状況じゃないぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//────────────────────
	//	⇒果て無き脅威を全てクリアしていない
	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#000e#000m村への襲撃だって続いているしな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	⇒果て無き脅威を全てクリアしている
	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#000e#000mいつまた村に襲撃があるかも分からねえしな。"
		"襲撃2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//────────────────────
	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#000e#000m予断を許さない状況ですね。\p"
		"どうにか、村の負担を"
		"軽くできればいいのですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"RICOTTA"
	TalkPopup("RICOTTA",0,0,0,0,0)
	{
		"#000e#000mリコッタたちで"
		"早くラクリモサを止める！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	TalkPopup("SAHAD",0,0,0,0,0)
	{
		"#000e#000mおお、それしかねーな……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Aaron"
	TalkPopup("Aaron",0,0,0,0,0)
	{
		"#000e#000mバーロー、お前たちだけで"
		"気張ってんじゃねえ。\p"
		"戦闘方面はお前たち頼りなのは"
		"間違いねえが……\p"
		"もっと俺たちを信用しやがれ。"
		"信用6行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Thanatos"
	TalkPopup("Thanatos",0,0,0,0,0)
	{
		"#000e#000mその通りじゃ。\p"
		"この危機はワシら全員で"
		"乗り越えるべきものじゃからの。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ありがとう")
	MenuAdd(2,"頼りにしている")
	MenuOpen(TF_MENU_SELECT,-1,-1,-1,-1,10,0)
	WaitMenu(0)
	MenuClose(10,0)

	//────────────────────
	//	⇒ありがとう
	TalkPopup("Aaron",0,0,0,0,0)
	{
		"#000e#000mフン、勘違いするんじゃねェ。\p"
		"お前たちにぶっ倒れられたら"
		"こっちも困るってだけだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	⇒頼りにしている
	TalkPopup("Thanatos",0,0,0,0,0)
	{
		"#000e#000mワハハ、それはお互い様じゃ。\p"
		"ワシらもお前たちには随分と"
		"助けてもらっておるからのう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//────────────────────
	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#000e#000mそうですね……"
		"漂流村の皆で戦っているのでしたね。\p"
		"分かりました、これからも"
		"遠慮なく頼らせてもらいます。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Dogi"
	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#000e#000mへへ、そうしてくれ。\p"
		"まぁ、みんな疲れただろう。"
		"しばらく身体を休めてくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ここで制圧戦コンプリートのトロフィー判定が走る。
	//　　イベント終了、暗転明けて集会所前で操作許可。

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_LastCon_Complete_ED")
	
}
function "SubEV_LastCon_Complete_ED"
{

	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_NPCALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	SetFlag(GF_SUBEV_CONTROL_ALLCLEAR, 1)		//制圧戦３をクリアした

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",34.97f,-1416.81f,10.83f)
	Turn("LEADER",-123.88f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	MoveCameraAt( 0 , 34.966f , -1416.807f , 12.691f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.508f , 0 )	// 基本仰角
	RotateCamera( 0 , 123.876f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

	//終了処理ここまで----------------------------------------------------
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//■親愛イベントセクション

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//===============================================================
// ラクシャ：▼親愛イベント
function "Sinai_Laxia"
{
	//　　暗転して字幕イベントを起動。

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

//	LoadChr("Laxia")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)

//	SetChrPos("ADOL",-60.10f,-1510.09f,0.34f )
//	Turn("ADOL",-75.71f,360.0f)
	LookReset("ADOL")
//	SetChrPos("LAXIA",-59.04f,-1511.69f,0.15f )
//	Turn("LAXIA",-75.72f,360.0f)
	LookReset("LAXIA")

	SetChrPos("ADOL",-54.93f,-1512.39f,0.34f)
	Turn("ADOL",-66.07f,360.0f)
	SetChrPos("LAXIA",-53.50f,-1514.21f,0.15f)
	Turn("LAXIA",-65.60f,360.0f)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )

	MoveCameraAt( 0 , -35.263f , -1501.227f , 7.364f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.600f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.448f , 0 )	// 基本仰角
	RotateCamera( 0 , 99.032f , 0 )				// 角度
	ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 120.000 ,1.000 ,0.700 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_LAXIA_ED")

//開始処理ここまで-----------------------------------------------

	//　　浜辺マップを映す。

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------

	//　　波打ち際をぶらぶらと歩きつつ
	//　　脱出船付近まで来るアドルとラクシャ。
	
	ExecuteCmd( 1, MoveTo, "LAXIA", -44.06f,-1518.49f,0.15f, 0.1f, 0.19f )
	Wait(5)
	ExecuteCmd( 2, MoveTo, "ADOL", -44.25f,-1517.13f,0.34f, 0.1f, 0.19f )
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -36.261f , -1509.278f , 5.144f , 140 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 6.600f , 140 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.006f , 140 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 107.054f , 140 )

	StopBGM(120)

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	Wait(30)
//	Slow(0.000001)

	// カメラ待ち
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	// カット2 ----------------------------------------------------------------------------------------

	PlayBGM(BGM_TOWN_101, 0)
	SetEnvSEPlayState(1203101, 0)
	SetEnvSEPlayState(1203102, 0)

	// クロスフェード
	CrossFade(FADE_NORMAL)

	// カメラ
	MoveCameraAt( 0 , -43.526f , -1517.949f , 1.132f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.080f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.405f , 0 )	// 基本仰角
	RotateCamera( 0 , 82.888f , 0 )				// 角度
	ChangeCameraPers( 0 , 48.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.5f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -43.849f , -1518.496f , 1.592f , 135 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.680f , 135 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.607f , 135 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 107.765f , 135 )		// 角度
//	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 60.000f , 135 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -9.2f , 135 )		// ロール回転

	// 移動待ち
	WaitThread(1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目

	// 移動待ち
	WaitThread(2)
	LookChr("ADOL", "LAXIA")

	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	
	StopThread(1)
	SetChrPos("ADOL",-44.34f,-1517.09f,0.34f)
	Turn("ADOL",-27.88f,360.0f)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -43.849f , -1518.496f , 1.592f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.680f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.185f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 36.701f , 600 )		// 角度
//	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 60.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -9.2f , 600 )		// ロール回転


	FadeBGM(70,10)

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	// ラクシャ
	TalkMes("LAXIA","#0384V#011e#000m不思議なものです。","","")
	WaitPrompt()

	Look("LAXIA", 0.0f, -10.0f)	// うつむく

	// ラクシャ
	TalkMes("LAXIA","#0385V#060e#000mラクリモサを止められたとしても、",
		"この村を去らないといけないのですね。","")
	WaitPrompt()

	Look("LAXIA", 0.0f, 0.0f)	// うつむく戻す
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkMes("LAXIA","#0386V#062e#000mそれはそれで残念に思います……",
		"皆さんと作った村だからでしょうか。","")
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
		
	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	MoveCameraAt( 0 , -43.871f , -1517.935f , 1.618f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.230f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.188f , 0 )	// 基本仰角
	RotateCamera( 0 , 226.330f , 0 )				// 角度
	ChangeCameraPers( 0 , 44.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 2.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)

	Wait(15)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"僕も思い入れはあるよ")
	MenuAdd(2,"ラクシャも変わったね ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0162,"ADOL",100)	//フッ（微笑）


	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	LookChr("LAXIA", "ADOL")
	Turn("LAXIA", -179.25f, 6.0f)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示	
	Wait(10)
	ChangeAnimation( "LAXIA", "ANI_EV_RYOTESIRI_S", -1, 1 )	// 両手 尻組み
	
	//────────────────────
	//	⇒僕も思い入れはあるよ
	if (FLAG[TF_MENU_SELECT] == 1) {
	
		// ラクシャ
		TalkMes("LAXIA","#0387V#011e#080mふふ、アドルも同じですか。","","")
		WaitPrompt()

		LookRoll("LAXIA", 10.0f)	// かしげる

		// ラクシャ
		TalkMes("LAXIA","#0388V#012e#080m思えば、あなたと出会ってから",
			"色々なことがありましたね。","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒ラクシャも変わったね
	if (FLAG[TF_MENU_SELECT] == 2) {
		
		// ラクシャ
		TalkMes("LAXIA","#0389V#011e#080mふふ、そうでしょうか。","","")
		WaitPrompt()
		
		LookRoll("LAXIA", 10.0f)	// かしげる

		// ラクシャ
		TalkMes("LAXIA","#0390V#012e#080mだとすれば、漂流村の皆さんと",
			"アドル……あなたのおかげですね。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	LookRoll("LAXIA", 0.0f)	// かしげる戻す

	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -44.237f , -1518.028f , 1.617f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.069f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 9.431f , 0 )	// 基本仰角
	RotateCamera( 0 , 144.180f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -44.041f , -1518.219f , 1.518f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.160f, 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 9.989f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 229.050f , 900 )

	//MoveCameraAt( 0 , -44.041f , -1518.219f , 1.518f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 1.160f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 9.989f , 0 )	// 基本仰角
	//RotateCamera( 0 , 229.050f , 0 )				// 角度
	//ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetChrInfoFlag("ADOL",INFOFLAG_INVISIBLE)

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "LAXIA", "ANI_EV_RYOTESIRI_E", -1, 1 )	// 両手 尻組み

	// ラクシャ
	TalkMes("LAXIA","#0391V#051e#000mここへ来た時は、父への想いや家のことで",
		"あなたに当たり散らしてしまって……","")
	WaitPrompt()

	WaitAnimation2("LAXIA", -1, 1, "ANI_EV_RYOTESIRI_E", 0)
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	Look("LAXIA", 0.0f, -10.0f)	// うつむく

	// ラクシャ
	TalkMes("LAXIA","#0392V#061e#000mわたくしは貴族でなくなることが──",
		"貴族の誇りを失うのが怖かったのでしょう。","")
	WaitPrompt()

	Look("LAXIA", 0.0f, 0.0f)	// うつむく戻す

	StopBGM(120)

	// ラクシャ
	TalkMes("LAXIA","#0393V#062e#000mそれが、父が最後に",
		"わたくしに残してくれたものだから。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット4 ----------------------------------------------------------------------------------------

	//　　カメラカットを切り替えるなどの動き。

	PlayBGM(BGM_EVENT_016, 0)

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -45.582f , -1517.202f , 1.652f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.719f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -6.221f , 0 )	// 基本仰角
	RotateCamera( 0 , 143.852f , 0 )				// 角度
	ChangeCameraPers( 0 , 55.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	SetChrPos("ADOL", -44.68f, -1517.35f, 0.27f)
	Turn("ADOL", -30.49f, 360.0f)
	SetChrPos("LAXIA", -43.81f, -1518.21f, 0.15f)
	Turn("LAXIA", 152.33f, 360.0f)
	LookChr("LAXIA", "ADOL")

	ResetChrInfoFlag("ADOL",INFOFLAG_INVISIBLE)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -45.582f , -1517.202f , 1.652f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.719f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -7.366f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 175.652f , 900 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	FadeBGM(70,10)

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkMes("LAXIA","#0394V#080e#080mそれなのにこの島で",
		"出会った皆さんときたら……","")
	WaitPrompt()

	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	Look("LAXIA", 40.0f, 0.0f)	// ←（＾＾）

	// ラクシャ
	TalkMes("LAXIA","#0395V#090e#080mこれだけ色々な方が揃っていて、",
		"それぞれが自信を持って立派に生きている。","")
	WaitPrompt()

	Look("LAXIA", 0.0f, 0.0f)	// （＾＾）

	// ラクシャ
	TalkMes("LAXIA","#0396V#080e#000mわたくしはそれに翻弄されながらも",
		"気づかないうちに救われてきました。","")
	WaitPrompt()

	LookChr("LAXIA", "ADOL")
	ChangeAnimation( "LAXIA", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// ラクシャ
	TalkMes("LAXIA","#0397V#000e#000m今のわたくしなら理解できます。","","")
	WaitPrompt()
	
	WaitAnimation2("LAXIA", -1, 1, "ANI_EV_UDEGUMI_E", 0)
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkMes("LAXIA","#0398V#000e#000m人はどんな状況にあっても、",
		"誇り高く生きる事ができるのだと。","")
	WaitPrompt()
	WaitCloseWindow()

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -44.216f , -1517.717f , 1.592f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.598f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.933f , 0 )	// 基本仰角
	RotateCamera( 0 , 182.527f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 6.5f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -44.216f , -1517.717f , 1.672f , 300 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.598f , 300 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.374f , 300 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 192.553f , 300 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 300 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -9.2f , 300 )		// ロール回転

	// フェード待ち
	Wait(FADE_FAST)

	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// ラクシャ
	TalkMes("LAXIA","#0399V#080e#080mだから……あなたには",
		"改めてお礼を言っておきたくて。","")
	WaitPrompt()
	WaitCloseWindow()
	
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"それが話しておきたい事？")
	MenuAdd(2,"もっと色っぽい話かと思った")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0175,"ADOL",100)	//ふむ…（思案）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -43.949f , -1517.941f , 1.612f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.878f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE ,6.379f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 186.242f, 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -1.2f , 600 )		// ロール回転

	//────────────────────
	//	⇒それが話しておきたい事？
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		
		// うなずきセット
		HeadYes("LAXIA" , 1 , 25 )
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		
		// ラクシャ
		TalkMes("LAXIA","#0400V#000mええ──この異変が",
			"どんな結末を迎えるか分かりません。","")
		WaitPrompt()

		// ラクシャ
		TalkMes("LAXIA","#0401V#011e#080m何があっても後悔しないよう、",
			"今のうちにと思いまして……","")
		WaitPrompt()

		LookReset("LAXIA")
		ChangeAnimation( "LAXIA", "ANI_EV_SEKI", -1, 1 )	// 咳払い

		// ラクシャ
		TalkMes("LAXIA","#0402V#062e#011l#000mコホン、その……感謝以上の",
			"気持ちもないわけではないのですが……","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒もっと色っぽい話かと思った
	if (FLAG[TF_MENU_SELECT] == 2) {
		
		//　　ラクシャ、驚いてから照れつつモヤモヤエモーション
		ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_SUP_S,1)	
		ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_SUP_S,1)	
		ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_SUP_S,1)		
		EmotionEx("LAXIA", 0.00f, EMO_GIKU, 0, 5, 1, 0, 1.0f )	// 「ぎくっ」
		
		SetMotSpd("LAXIA" ,-1 , 0.7f )	// モーションスピード変更
		ChangeAnimation( "LAXIA", "ANI_EV_SUP_S", -1, 1 )
		WaitAnimation2( "LAXIA" , -1, 1, "ANI_EV_SUP_S",  0)
		Wait(30)
		
		LookSpd("LAXIA", 0.08f, 0.08f, 0.08f )// ゆっくりめに首向き
		Look("LAXIA", 30.0f, 0.0f)	// ←（＾＾）
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_FUMAN_S, 1)	// 目
		ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKR_S,1)
		ChangeSubAnimation("LAXIA",SUBMOT_EXT2,ANI_C_RED_S,1)
		ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_SUP_E,1)
		Wait(30)
		
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_FUMAN_CLOSE_S, 1)	// 目
		EmotionEx("LAXIA", 0.00f, EMO_MOYA, 0, 5, 1, 1, 1.0f)	//モヤモヤ
		Wait(60)
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		LookChr("LAXIA", "ADOL")
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_FUMAN_CLOSE_E, 1)	// 目
		ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKR_E,1)
		
		// ラクシャ
		TalkMes("LAXIA","#0403V#000mアドル……あなたは時々、",
			"顔に似合わない冗談を言いますよね？","")
		WaitPrompt()

		Look("LAXIA", 0.0f, -10.0f)	// うつむく

		// ラクシャ
		TalkMes("LAXIA","#0404V#141e#032l#000mどうしてそんなところまであの人に……",
			"まったくもうっ……！","")
		WaitPrompt()

		ChangeAnimation( "LAXIA", "ANI_EV_SUP_E", -1, 1 )
		LookChr("LAXIA", "ADOL")

		// ラクシャ
		TalkMes("LAXIA","#0405V#030e#000mこの先何があっても後悔がないよう、",
			"伝えておこうと思っただけです！","")
		WaitPrompt()

		LookReset("LAXIA")
		SetMotSpd("LAXIA" ,-1 , 1.0f )	// モーションスピード変更
		ChangeAnimation( "LAXIA", "ANI_EV_HOHOKAKI", -1, 1 )	// 頬かき

		// ラクシャ
		TalkMes("LAXIA","#0406V#110e#011l#000mそ、その……確かに感謝以上の",
			"気持ちもないわけではありませんが……","")
		WaitPrompt()
		WaitCloseWindow()
		
		ChangeSubAnimation("LAXIA",SUBMOT_EXT2,ANI_C_RED_E,1)
		
	}
	//────────────────────


	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , -44.627f , -1517.706f , 1.972f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.598f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.952f , 0 )	// 基本仰角
	RotateCamera( 0 , 254.969f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)	// 口
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("LAXIA", "ADOL")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -44.627f , -1517.706f , 1.732f , 250 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.118f , 250 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.239f , 250 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 258.978f , 250 )

	// フェード待ち
	Wait(FADE_CROSS)

	//　　アドルに？エモーション
	EmotionEx("ADOL", 0.00f, EMO_Q, 0, 5, 1, 1, 0.8f)	//？
	LookRoll("ADOL", 10.0f)	// かしげる
	ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	Wait(40)
	LookRoll("ADOL", 0.0f)	// かしげる戻す

	LookReset("LAXIA")
	ChangeAnimation( "LAXIA", "ANI_EV_SEKI", -1, 1 )	// 咳払い

	// ラクシャ
	TalkMes("LAXIA","#0407V#011e#080mふふ……なんでもありません。","","")
	WaitPrompt()

	LookChr("LAXIA", "ADOL")
	ChangeAnimation( "ADOL", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// ラクシャ
	TalkMes("LAXIA","#0408V#012e#080mさあ、ドギたちが村を守っている間に",
		"わたくしたちも役目を果たさなくては。","")
	WaitPrompt()

	ChangeAnimation( "LAXIA", "ANI_EV_GUTSPOSE3_S", -1, 1 )	// 専用ガッツポーズ

	// ラクシャ
	TalkMes("LAXIA","#0409V#180e#080mアドル、最後まで共に",
		"全力で戦い抜きましょう！","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドル頷く。
	HeadYes("ADOL" , 1 , 25 )
	Wait(50)

	//　　イベント終了、操作許可。
	//　　※アドルを浜辺入口（33.09f, -1462.22f, 9.01f ,175.00f）に再配置。

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_LAXIA_ED")
}
function "Sinai_LAXIA_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")

	SetChrPos("LAXIA", -100000.00f, 0.00f, 0.00f)	// 彼方へ

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_LAXIA, 1 )			// 親愛イベントを見た（ラクシャ）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（ラクシャ）	名声値+2
		//SetDiaryCharaFlag( DRCHA_LAXIA, DRCHA_FLAG_INFO4, 1 )	//★人物メモ：追加情報の開放４（ラクシャ）

		SetFlag(GF_GALL_EV_LIKE_10,1)			// Sinai_Laxia

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",33.09f, -1462.22f, 9.01f)
		Turn("LEADER",175.00f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

		FadeBGM(100, 30)
		SetEnvSEPlayState(-1, 1)	//環境SE

		ResetStopFlag(STOPFLAG_EVENT)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// シルヴィア：▼親愛イベント
function "Sinai_Silvia"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))
	
	// 老婆verのときに話しかけたらイベント中だけ戦士verにしたい
	if (FLAG[GF_SUBEV_SILVIA_MODE] == 0) {	// シルヴィアの状態 0=老婆 1=戦士
		SetChrID( "Silvia", "Silvia_1")
		SetChrID( "Silvia_2", "Silvia")		// 戦士
	}
//	CallFunc("system:Load_Silvia")
	LoadChr("Silvia")

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Silvia" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Silvia" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Silvia" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Silvia", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",-75.30f,-1500.24f,0.49f)
	Turn("ADOL",-62.26f,360.0f)
	LookReset("ADOL")
	SetChrPos("Silvia",-73.15f, -1501.33f, 0.57f)
	Turn("Silvia",116.43f,360.0f)
	LookReset("Silvia")

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_EV_TAORESIT", -1 , 1 )
	ChangeSubAnimation("Silvia",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Silvia",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Silvia",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Silvia" , "ANI_WAIT", -1 , 1 )

	MoveCameraAt( 0 , -74.310f , -1500.667f , 2.369f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.480f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -4.400f , 0 )	// 基本仰角
	RotateCamera( 0 , 187.009f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.4f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 90.000 ,1.000 ,0.700 ,0.600)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Silvia_ED")

//開始処理ここまで-----------------------------------------------

	//　　暗転を挟んで字幕イベント。
	//　　砂浜でアドルとシルヴィアが疲弊モーションで向かい合う。

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------

	// 位置調整・表情・モーション
	ChangeAnimation( "Silvia", "ANI_EV_RYOTEKOSI", -1, 1 )	// 両手腰
	ChangeSubAnimation("Silvia", SUBMOT_EYE, ANI_E_SAD_CLOSE, 1)	// 目
	LookChr("Silvia", "ADOL")

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -74.488f , -1500.852f , 1.349f, 115 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.520f , 115 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -13.566f , 115 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 210.211f , 115 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 45.000f , 115 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 18.6f , 115 )		// ロール回転

	StopBGM(150)
	SetEnvSEPlayState(1203101, 0)
	SetEnvSEPlayState(1203102, 0)

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	PlayBGM(BGM_TOWN_501, 0)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -74.488f , -1500.852f , 1.349f, 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.520f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -15.857f , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 268.075f , 900 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 45.000f , 900 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -6.9f , 900 )		// ロール回転

	FadeBGM(70,10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示	
	Wait(10)

	// シルヴィア
	TalkMes("Silvia","#4959V#050e#080mはあ、はあ……",
		"こいつぁなかなかのもんだねぇ。","")
	WaitPrompt()

	ChangeAnimation( "Silvia", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// シルヴィア
	TalkMes("Silvia","#4960V#052e#080mだがこのアタシに最後まで",
		"付いてくるとは、流石はアドルだ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"もう限界です……")
	MenuAdd(2,"まだまだ……！")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	PlayVoice(Y8V_0006,"ADOL" ,100 )	//くっ

	// 首振りパクパク
	HeadNo("ADOL", 2, 25)	// キャラ, 回数, 速さ
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	
	//──────────────────────
	//	⇒もう限界です……
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// シルヴィア
		TalkMes("Silvia","#4961V#000e#080mハハ、若いのがカッコ悪いことを",
			"言うもんじゃないよ。","")
		WaitPrompt()

		ChangeAnimation( "Silvia", "ANI_EV_YARUKI_S", -1, 1 )	// こぶしたたきつける

		// シルヴィア
		TalkMes("Silvia","#4962V#080mたとえ限界でも、弱音は黙って",
			"飲み込むのが戦士ってもんさ。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒まだまだ……！
	if (FLAG[TF_MENU_SELECT] == 2) {
		
		// シルヴィア
		TalkMes("Silvia","#4963V#080mハハ、いいねえ……！","","")
		WaitPrompt()

		ChangeAnimation( "Silvia", "ANI_EV_YARUKI_S", -1, 1 )	// こぶしたたきつける

		// シルヴィア
		TalkMes("Silvia","#4964V#080mそうさ、その意気さね、アドル！","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット2 ----------------------------------------------------------------------------------------

	//　　カメラ切り替えて、アドルとシルヴィアが
	//　　通常の待機モーションに。

	FadeOut(FADE_BLACK,FADE_FAST)
	WaitFade()

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , -73.638f , -1500.915f , 1.547f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.769f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.856f , 0 )	// 基本仰角
	RotateCamera( 0 , 280.832f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -74.36f, -1500.61f, 0.49f)
	Turn("ADOL", -69.37f, 360.0f)
	SetChrPos("Silvia", -73.37f, -1501.24f, 0.57f)
	Turn("Silvia", 130.64f, 360.0f)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("Silvia", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "Silvia", "ANI_WAIT", -1, 1 )	// 待機
	LookChr("ADOL", "Silvia")
	LookChr("Silvia", "ADOL")

	Wait(15)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -73.726f , -1500.853f , 2.033f , 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.581f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.190f , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 282.398f , 900 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 900 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 6.0f , 900 )		// ロール回転

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	ChangeAnimation( "Silvia", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	Wait(10)

	// シルヴィア
	TalkMes("Silvia","#4965V#000e#080mフフ、しかしアタシもまだまだ",
		"捨てたモンじゃないねぇ。","")
	WaitPrompt()

	// シルヴィア
	TalkMes("Silvia","#4966V#011e#000m１０年前に決定的な老いを感じて",
		"一度は身を退いたが……","")
	WaitPrompt()

	Look("Silvia", 45.0f, 0.0f)	// （＾＾）→
	ChangeSubAnimation("Silvia", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// シルヴィア
	TalkMes("Silvia","#4967V#000e#080mこの島へ来てからは、",
		"何だか若返った感覚があってね。","")
	WaitPrompt()

	// シルヴィア
	TalkMes("Silvia","#4968V#011e#080m確かに筋力は昔より衰えちまってるが……",
		"むしろ動きの無駄は減ったみたいなんだ。","")
	WaitPrompt()

	LookChr("Silvia", "ADOL")
	ChangeAnimation( "Silvia", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	ChangeSubAnimation("Silvia", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// シルヴィア
	TalkMes("Silvia","#4969V#080e#080mハハッ、古代種相手の戦闘が",
		"どうにも効果的だったみたいだね。","")
	WaitPrompt()
	WaitCloseWindow()

	// カット3 ----------------------------------------------------------------------------------------

	//　　シルヴィアが何かしらモーション。
	
	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , -73.766f , -1500.678f , 2.033f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.621f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.535f , 0 )	// 基本仰角
	RotateCamera( 0 , 211.059f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -73.879f , -1500.720f , 1.973f , 450 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.342f , 450 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -10.071f , 450 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 202.471f , 450 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 450 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -4.3f , 450 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Silvia", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	
	// シルヴィア
	TalkMes("Silvia","#4970V#000e#000mで、ここからが本題なんだが……","","")
	WaitPrompt()

	// シルヴィア
	TalkMes("Silvia","#4971V#011e#000m実はついさっき、",
		"心に決めたことがあってね。","")
	WaitPrompt()
	
	ChangeAnimation( "Silvia", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	WaitAnimation2("Silvia", -1, 1, "ANI_EV_RYOTEKOSI_E", 0)

	ChangeAnimation( "Silvia", "ANI_EV_YARUKI_S", -1, 1 )	// こぶしたたきつける
	Wait(15)
	EarthQuake( 0.02f , 0.02f , 10 )	// 縦揺れ幅, 横揺れ幅, 時間

	// シルヴィア
	TalkMes("Silvia","#4972V#031e#080mアドル──",
		"アタシはコロセウムに復帰するよ！","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ほ、本当ですか？")
	MenuAdd(2,"確かに十分やれそうです")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	if (FLAG[TF_MENU_SELECT] == 1) {
		PlayVoice(Y8V_0181,"ADOL",100)	//え…？（疑問）
	}else{
		PlayVoice(Y8V_0170,"ADOL",100)	//おお…（感嘆）
	}

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	ChangeAnimation( "Silvia", "ANI_EV_YARUKI_E", -1, 1 )	// こぶしたたきつける
	Wait(10)
	
	//──────────────────────
	//	⇒ほ、本当ですか？
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// シルヴィア
		TalkMes("Silvia","#4973V#021e#080m本当も本当──大真面目さ！","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒確かに十分やれそうです
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// シルヴィア
		TalkMes("Silvia","#4974V#021e#080mハハ、お前さんにそう言って",
			"もらえると自信になるねぇ！","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	// カット4 ----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , -75.101f , -1499.883f , 3.572f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.742f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -19.656f , 0 )	// 基本仰角
	RotateCamera( 0 , 189.927f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.2f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -75.101f , -1499.883f , 2.173f , 600 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.742f , 600 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -11.791f , 600 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 190.181f , 600 )

	// フェード待ち
	Wait(FADE_CROSS)

	// シルヴィア
	TalkMes("Silvia","#4975V#011e#000m──実はこの１０年、ずっとどこかで",
		"引退したことを後悔していてねぇ。","")
	WaitPrompt()

	ChangeAnimation( "Silvia", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// シルヴィア
	TalkMes("Silvia","#4976V#012e#000mだがこの島の環境とアドルたちのおかげで",
		"やっとこさ自分を取り戻せたんだ。","")
	WaitPrompt()

	ChangeAnimation( "Silvia", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// シルヴィア
	TalkMes("Silvia","#4977V#000e#000mそんなワケで、",
		"島から出たら早々に復帰戦だ！","")
	WaitPrompt()
	WaitCloseWindow()

	// カット5 ----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -73.684f , -1500.871f , 2.013f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.342f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.099f , 0 )	// 基本仰角
	RotateCamera( 0 , 104.053f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.2f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -73.674f , -1500.910f , 2.013f , 450 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.342f , 450 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.526f , 450 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 89.427f , 450 )

	// フェード待ち
	Wait(FADE_CROSS)

	// シルヴィア
	TalkMes("Silvia","#4978V#011e#000mま、もう一度やると決めたからにゃあ",
		"次は死ぬまで現役を通す覚悟だ。","")
	WaitPrompt()

	// シルヴィア
	TalkMes("Silvia","#4979V#012e#080mいつかロムンに立ち寄る機会があれば",
		"アタシの勇姿を見においで。","")
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルが頷く。
	
	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
	Wait(25)
	
	// カット6 ----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -73.734f , -1500.911f , 2.013f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.582f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 5.398f , 0 )	// 基本仰角
	RotateCamera( 0 , 258.385f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -2.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -73.942f , -1500.986f , 2.013f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.341f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.624f , 900)
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 29.318f , 900 )
	
	// フェード待ち
	Wait(FADE_CROSS)
	
	// シルヴィア
	TalkMes("Silvia","#4980V#061e#000m……しかし、お前さんほどの剣士を",
		"埋もれさせておくのは正直勿体無いねえ。","")
	WaitPrompt()

	ChangeAnimation( "Silvia", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// シルヴィア
	TalkMes("Silvia","#4981V#062e#080mどうだい、アタシの口利きで",
		"コロセウムに出てみる気はないかい？","")
	WaitPrompt()

	ChangeAnimation( "Silvia", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// シルヴィア
	TalkMes("Silvia","#4982V#080e#080mお前さんの実力なら、",
		"最強の剣闘士だって夢じゃないはずだよ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"あくまでも冒険家です")
	MenuAdd(2,"まあ一度くらいなら")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	//──────────────────────
	//	⇒あくまでも冒険家です
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		PlayVoice(Y8V_0167,"ADOL",100)	//いえ…（目上に対する否定）

		// 首振りパクパク
		HeadNo("ADOL", 1, 30)	// キャラ, 回数, 速さ

		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	
		ChangeAnimation( "Silvia", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
		Wait(10)
		
		// シルヴィア
		TalkMes("Silvia","#4983V#080e#080mなるほど──",
			"お前さんらしいねぇ。","")	//（ニヤリ）
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒まあ一度くらいなら
	else if (FLAG[TF_MENU_SELECT] == 2) {

		PlayVoice(Y8V_0162,"ADOL",100)	//フッ（微笑）
		
		// 首振りパクパク
		HeadYes("ADOL", 1, 25)	// キャラ, 回数, 速さ

		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
		Wait(25)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		
		ChangeAnimation( "Silvia", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
		Wait(10)
		
		// シルヴィア
		TalkMes("Silvia","#4984V#021e#080mハハ、あくまで",
			"剣闘士になる気はないようだね。","")	//（笑い）
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	// カット7 ----------------------------------------------------------------------------------------
	
	//　　カメラ切り替えて、シルヴィアがアドルの背中を叩く。
	
	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -73.826f , -1500.893f , 1.973f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.581f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -12.365f , 0 )	// 基本仰角
	RotateCamera( 0 , 193.086f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 5.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -73.558f , -1501.102f , 1.973f , 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.101f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 10.268f , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 181.345f , 900 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 900 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -0.9f , 900 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Silvia", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// シルヴィア
	TalkMes("Silvia","#4985V#020e#080mワッハッハ──",
		"最高だよ、アドル！","")
	WaitPrompt()

	// シルヴィア
	TalkMes("Silvia","#4986V#022e#080m流石はアタシの見込んだ男だ、",
		"ますます惚れ直したよ！","")
	WaitPrompt()

	ChangeAnimation( "Silvia", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// シルヴィア
	TalkMes("Silvia","#4987V#000mま、とにかく島を出るまで",
		"よろしく頼むよ。","")
	WaitPrompt()

	ChangeAnimation( "Silvia", "ANI_EV_GUTSPOSE_S", -1, 1 )	// ガッツポーズ

	// シルヴィア
	TalkMes("Silvia","#4988V#031e#080mアタシも骨身を惜しまず",
		"力を貸すからね！","")
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

	//　　イベント終了、操作許可。
	//　　※アドルを浜辺入口（33.09f, -1462.22f, 9.01f ,175.00f）に再配置。

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Silvia_ED")
}
function "Sinai_Silvia_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	SetChrPos("Silvia", -100000.00f, 0.00f, 0.00f)	// 彼方へ
	
	if (FLAG[GF_SUBEV_SILVIA_MODE] == 0) {	// シルヴィアの状態 0=老婆 1=戦士
		SetChrID( "Silvia", "Silvia_2")
		SetChrID( "Silvia_1", "Silvia")		// 老婆
	}

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{

		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_SILVIA, 1 )			// 親愛イベントを見た（シルヴィア）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（シルヴィア）	名声値+2
		//SetDiaryCharaFlag( DRCHA_SILVIA, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（シルヴィア）

		SetFlag(GF_GALL_EV_LIKE_11,1)			// Sinai_Silvia

		//一般配置の復帰
	//	CallFunc("talk:NpcPosition")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",33.09f, -1462.22f, 9.01f)
		Turn("LEADER",175.00f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

		SetEnvSEPlayState(-1, 1)	//環境SE
		FadeBGM(100,30)

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// フランツ：▼親愛イベント
function "Sinai_Franz"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Franz")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Franz" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Franz" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Franz" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Franz", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",40.54f, -1469.73f, 7.38f)
	Turn("ADOL",7.41f,360.0f)
	LookReset("ADOL")
	SetChrPos("Franz",41.30f, -1470.51f, 7.28f)
	Turn("Franz",86.38f,360.0f)
	LookReset("Franz")

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Franz",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Franz",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Franz",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Franz" , "ANI_WAIT", -1 , 1 )

	MoveCameraAt( 0 , 39.127f , -1471.039f , 10.155f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.460f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -5.683f , 0 )	// 基本仰角
	RotateCamera( 0 , 153.227f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 100.000 ,1.000 ,0.700 ,0.620)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Franz_ED")

//開始処理ここまで-----------------------------------------------

	//　　暗転を挟んで字幕イベントに以降。
	//　　フランツとアドルが浜辺で
	//　　脱出船を遠目に見ている構図。

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------

	// 位置調整・表情・モーション
	LookTo("ADOL", 36.657f , -1475.955f , 8.415f)	// 座標：脱出船のほう
	LookTo("Franz", 36.657f , -1475.955f , 8.415f)	// 座標：脱出船のほう

	//StopBGM(150)
	SetEnvSEPlayState(1203101, 0)
	SetEnvSEPlayState(1203102, 0)

	PlayBGM(BGM_TOWN_501, 0)
	FadeBGM(70, 0)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 39.127f , -1471.039f , 8.915f , 90 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 5.460f , 90 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.537f , 90 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 154.948f , 90 )

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , 41.032f , -1470.510f , 8.875f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.861f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.959f , 0 )	// 基本仰角
	RotateCamera( 0 , 305.048f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 40.915f , -1470.249f , 8.875f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.861f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.046f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 262.363f , 900 )

	// フェード待ち
	Wait(FADE_NORMAL)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// フランツ
	TalkMes("Franz","#5101V#000e#000m一見穏やかな光景ですが、",
		"いつ古代種が襲来するとも限りません。","")
	WaitPrompt()

	LookChr("Franz", "ADOL")
	ChangeAnimation( "Franz", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	// フランツ
	TalkMes("Franz","#5102V#000e#000mアドルさん、我々に",
		"果たして勝算はあるのでしょうか。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	LookChr("ADOL", "Franz")
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"自信はないな")
	MenuAdd(2,"何とかなるさ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	if (FLAG[TF_MENU_SELECT] == 1) {
		PlayVoice(Y8V_0176,"ADOL",100)	//そうだな…（思案／真剣）

	}else{
		PlayVoice(Y8V_0162,"ADOL",100)	//フッ（微笑）
	}

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	
	ChangeAnimation( "Franz", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	Wait(10)
	
	//────────────────────
	//	⇒自信はないな
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// フランツ
		TalkMes("Franz","#5103V#011e#080mフフ、そう仰りつつも",
			"強い意志を宿したその瞳……","")
		WaitPrompt()

		// フランツ
		TalkMes("Franz","#5104V#012e#080mやはり、あなたはロズウェル卿に",
			"よく似ていらっしゃる。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒何とかなるさ
	if (FLAG[TF_MENU_SELECT] == 2) {
		
		// フランツ
		TalkMes("Franz","#5105V#000e#080mハハハ、貴方がそう仰るならば、",
			"私も安心でございます。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	// カット3 ----------------------------------------------------------------------------------------

	//　　不意にアドルの元に跪いて、
	//　　強い意思を秘めた目を向けてくるフランツ。

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 40.907f , -1469.458f , 8.515f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.857f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.272f , 0 )	// 基本仰角
	RotateCamera( 0 , 186.272f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
//	SetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 非表示

	// 位置調整・表情・モーション
	SetChrPos("ADOL",40.37f, -1469.62f, 7.38f)
	Turn("ADOL",-45.89f,360.0f)
	SetChrPos("Franz",41.30f, -1470.51f, 7.28f)
	Turn("Franz",121.91f,360.0f)
	LookReset("Franz")

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 41.290f , -1470.130f , 8.295f , 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.377f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -7.717f , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 90.308f , 900 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 45.000f , 900 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -19.3f , 900 )		// ロール回転

	ChangeAnimation( "Franz", "ANI_EV_HIZAMAZUKU_S", -1, 1 )

	// フェード待ち
	Wait(FADE_CROSS)

	// フランツ
	TalkMes("Franz","#5106V#000e#000mアドルさん──いえ、ア#2R・#Rド#2R・#Rル#2R・#R様#2R・#R。","アドルさん2行目","")	//（アドル様を「・」で強調）
	WaitPrompt()

	// フランツ
	TalkMes("Franz","#5107V#011e#000m誠に勝手ながら、私からあなたに",
		"一つだけお願いがございます。","")
	WaitPrompt()

	// フランツ
	TalkMes("Franz","#5108V#010e#000m未曾有の事態となりつつある今、",
		"私も命を賭して行動するつもりですが──","")
	WaitPrompt()

	ChangeSubAnimation("Franz", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// フランツ
	TalkMes("Franz","#5109V#010e#000m私に万が一の場合があった時、",
		"お嬢様の事をお願いしたいのです。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , 41.087f , -1470.249f , 8.658f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.891f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.045f , 0 )	// 基本仰角
	RotateCamera( 0 , 162.616f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
//	ResetChrInfoFlag("ADOL", INFOFLAG_INVISIBLE)	// 再表示

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 39.542f , -1469.658f , 8.658f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.891f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.326f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 148.578f , 900 )

	// フェード待ち
	Wait(FADE_CROSS)

	//　　アドルに「！」エモーション表示。
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	//！
	Wait(45)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"どうしてそこまで？")
	MenuAdd(2,"ラクシャが大切なんだね")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	if (FLAG[TF_MENU_SELECT] == 1) {
		PlayVoice(Y8V_0175,"ADOL",100)	//ふむ…（思案）
	}else{
		PlayVoice(Y8V_0163,"ADOL",100)	//フフ…（微笑）
	}

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI_L", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	ChangeAnimation( "Franz", "ANI_EV_HIZAMAZUKU_E", -1, 1 )
	ChangeSubAnimation("Franz", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	WaitAnimation2("Franz", -1, 1, "ANI_EV_HIZAMAZUKU_E", 0)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	
	//────────────────────
	//	⇒どうしてそこまで？
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		Look("Franz", 0.0f, -10.0f)	// うつむく
		Wait(10)
		
		// フランツ
		TalkMes("Franz","#5110V#011e#080mフフ、私がロズウェル家に仕える",
			"執事であるから──では不足ですか？","")
		WaitPrompt()

		LookReset("Franz")
	
		// フランツ
		TalkMes("Franz","#5111V#012e#000m１８年前、ロズウェル夫妻は旅先で",
			"とある戦災孤児の少年を救いました。","")
		WaitPrompt()

		Look("Franz", -40.0f, 0.0f)	// （＾＾）→

		// フランツ
		TalkMes("Franz","#5112V#000e#000mそのみすぼらしい少年は夫妻に",
			"家族のように迎え入れられただけでなく──","")
		WaitPrompt()

		// フランツ
		TalkMes("Franz","#5113V#000e#000mやがてロズウェル家の執事という",
			"大役まで仰せつかったのです。","")
		WaitPrompt()
		
		LookChr("Franz", "ADOL")

		// フランツ
		TalkMes("Franz","#5114V#000e#080m私にとってロズウェル家の人々を",
			"案じることは、生きる事と同義なのですよ。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒ラクシャが大切なんだね
	else if (FLAG[TF_MENU_SELECT] == 2) {

		Look("Franz", 0.0f, -10.0f)	// うつむく
		Wait(10)

		// フランツ
		TalkMes("Franz","#5115V#011e#080mフフ、それはもう。","","")
		WaitPrompt()

		LookReset("Franz")

		// フランツ
		TalkMes("Franz","#5116V#012e#000mお嬢様は幼い頃から貴族らしい気高さと",
			"人を想いやる優しい気持ちをお持ちでした。","想いやる3行目")
		WaitPrompt()

		Look("Franz", -40.0f, 0.0f)	// （＾＾）→

		// フランツ
		TalkMes("Franz","#5117V#011e#000mただその誇り高さゆえに",
			"未熟な自分を受け入れることができない……","")
		WaitPrompt()

		LookChr("Franz", "ADOL")

		// フランツ
		TalkMes("Franz","#5118V#012e#080m身の回りを預かる私にとって",
			"大変もどかしく心配なお方なのです。","")
		WaitPrompt()
		WaitCloseWindow()
		
		//　　フランツはそういいつつ穏やかに微笑む
		
	}
	//────────────────────


	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , 40.824f , -1469.978f , 8.938f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.531f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.061f , 0 )	// 基本仰角
	RotateCamera( 0 , 197.210f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.2f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 40.785f , -1469.990f , 8.918f , 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.770f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -7.101f , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 271.127f , 900 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 45.000f , 900 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 1.0f , 900 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_CROSS)

	// フランツ
	TalkMes("Franz","#5119V#000e#000mですが……そろそろお嬢様の",
		"手助けは不要かもしれませんね。","")
	WaitPrompt()

	ChangeAnimation( "Franz", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// フランツ
	TalkMes("Franz","#5120V#000e#080mアドル様のおかげでお嬢様は",
		"ご自分の器を随分と広げられた様子──","")
	WaitPrompt()

	// フランツ
	TalkMes("Franz","#5121V#011e#080m今は彼女の気高さと意思の強さが",
		"しっかり噛み合っているように思えます。","")
	WaitPrompt()

	ChangeAnimation( "Franz", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// フランツ
	TalkMes("Franz","#5122V#012e#080mロズウェル家の苦難も今のお嬢様なら",
		"乗り越えていけるのではないでしょうか。","")
	WaitPrompt()

	Look("Franz", 0.0f, -10.0f)	// うつむく
	ChangeSubAnimation("Franz", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目

	// フランツ
	TalkMes("Franz","#5123V#010e#080m──フフ、今後が実に楽しみです。","","")
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Franz", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	LookChr("Franz", "ADOL")

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , 40.894f , -1470.063f , 8.878f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.770f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.226f , 0 )	// 基本仰角
	RotateCamera( 0 , 102.497f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 3.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 40.894f , -1470.063f , 8.878f , 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.770f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.639f , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 79.584f , 900 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 45.000f , 900 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 6.7f , 900 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)
	
	ChangeAnimation( "ADOL", "ANI_EV_WAIT2_S", -1, 1 )	// 待機（腰に手）
	Wait(10)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"執事なら見届けなくてはね")
	MenuAdd(2,"彼女にはまだ助けが必要だ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0162,"ADOL",100)	//フッ（微笑）
	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_WAIT2_TEBURI", -1, 1 )	// （片手腰）手振り
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	//────────────────────
	//	⇒執事なら見届けなくてはね
	if (FLAG[TF_MENU_SELECT] == 1) {
		

		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)

		ChangeAnimation( "Franz", "ANI_EV_AKIRE", -1, 1 )	// やれやれ

		// フランツ
		TalkMes("Franz","#5124V#000e#000m……これは一本取られました。","","")
		WaitPrompt()

		HeadYes("Franz", 1, 25)	// キャラ, うなずき回数, 速さ

		// フランツ
		TalkMes("Franz","#5125V#000e#000mそうですね、私もここで",
			"力尽きるわけには参りませんね。","")
		WaitPrompt()
		WaitCloseWindow()
				
		//　　フランツに「…」エモーション。
		EmotionEx("Franz", 0.00f, EMO_3DOT, 0, 5, 1, 1, 0.8f)	//…
		Wait(52)
		
		ChangeAnimation( "Franz", "ANI_EV_SIAN_S", -1, 1 )	// 思案
		
		StopBGM(90)

		// フランツ
		TalkMes("Franz","#5126V#000e#000mしかし、そうなるとアドル様には",
			"ますます期待したいことがございます。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒彼女にはまだ助けが必要だ
	else if (FLAG[TF_MENU_SELECT] == 2) {
		

		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)

		// フランツ
		TalkMes("Franz","#5127V#000e#000mそれはそうかもしれませんが……","","")
		WaitPrompt()

		HeadYes("Franz", 1, 25)	// キャラ, うなずき回数, 速さ

		// フランツ
		TalkMes("Franz","#5128V#000e#000mわかりました、私もここで",
			"力尽きぬよう奮戦することを誓います。","")
		WaitPrompt()
		WaitCloseWindow()
		
		//　　フランツに「…」エモーション。
		EmotionEx("Franz", 0.00f, EMO_3DOT, 0, 5, 1, 1, 0.8f)	//…
		Wait(52)
				
		ChangeAnimation( "Franz", "ANI_EV_SIAN_S", -1, 1 )	// 思案
		
		StopBGM(90)

		// フランツ
		TalkMes("Franz","#5129V#000e#000mですが、そうだとしてもアドル様には",
			"今後期待したいことがございます。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	// カット7 ----------------------------------------------------------------------------------------

	PlayBGM(BGM_EVENT_001, 0)

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
//	MoveCameraAt( 0 , 40.878f , -1470.124f , 8.978f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 1.531f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -1.945f , 0 )	// 基本仰角
//	RotateCamera( 0 , 209.250f , 0 )				// 角度
//	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 1.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , 40.878f , -1470.124f , 8.904f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.811f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.094f , 0 )	// 基本仰角
	RotateCamera( 0 , 203.554f , 0 )				// 角度
	ChangeCameraPers( 0 , 48.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 40.784f , -1470.147f , 8.978f , 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.051f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -6.554f  , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 185.079f , 900 )		// 角度
//	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 45.000f , 900 )		// 視野角
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -0.1f , 900 )		// ロール回転

	//MoveCameraAt( 0 , 40.784f , -1470.147f , 8.978f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.051f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -6.554f , 0 )	// 基本仰角
	//RotateCamera( 0 , 185.079f , 0 )				// 角度
	//ChangeCameraPers( 0 , 48.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 1.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェード待ち
	Wait(FADE_CROSS)

	// フランツ
	TalkMes("Franz","#5130V#011e#080mいえ──責任を取って頂きたいことと",
		"申し上げたほうがよろしいでしょうか。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"何のことだい？")
	MenuAdd(2,"僕もここで力尽きたりしない")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	ChangeAnimation( "ADOL", "ANI_EV_WAIT2_E", -1, 1 )	// 待機（腰に手）

	//────────────────────
	//	⇒何のことだい？
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		PlayVoice(Y8V_0181,"ADOL",100)	//え…？（疑問）

		LookRoll("ADOL", 10.0f)	// かしげる
		//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク

		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)
		LookRoll("ADOL", 0.0f)	// かしげる戻す
		
		//　　フランツにＰＡエモーション表示。
		EmotionEx("Franz", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
		ChangeSubAnimation("Franz", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
		ChangeAnimation( "Franz", "ANI_EV_SIAN_E", -1, 1 )	// 思案
		Wait(35)
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		
		ChangeAnimation( "Franz", "ANI_EV_SEKI", -1, 1 )	// 咳払い
		Wait(10)
		
		// フランツ
		TalkMes("Franz","#5131V#021e#080mフフ……ハハハッ……！","","")
		WaitPrompt()

		// フランツ
		TalkMes("Franz","#5132V#020e#080mそのようにとぼけられても……",
			"まさか、そんなところまで旦那様に……","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒僕もここで力尽きたりしない
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		PlayVoice(Y8V_0164,"ADOL",100)	//ああ…（相槌）

		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)
		
		//　　フランツにＰＡエモーション表示。
		EmotionEx("Franz", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
		ChangeSubAnimation("Franz", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
		ChangeAnimation( "Franz", "ANI_EV_SIAN_E", -1, 1 )	// 思案
		Wait(35)
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		
		ChangeAnimation( "Franz", "ANI_EV_SEKI", -1, 1 )	// 咳払い
		Wait(10)
		
		// フランツ
		TalkMes("Franz","#5133V#021e#080mフフ……ハハハッ……！","","")
		WaitPrompt()

		HeadNo("Franz", 1, 25)	// キャラ, 回数, 速さ

		// フランツ
		TalkMes("Franz","#5134V#020e#080mいえ、失礼いたしました。",
			"まさか、ここまで旦那様に……","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドルに？エモーション
	EmotionEx("ADOL", 0.00f, EMO_Q, 0, 5, 1, 1, 0.7f)	//？
	Wait(50)

	// カット8 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , 40.909f , -1470.351f , 8.878f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.810f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -10.255f , 0 )	// 基本仰角
	RotateCamera( 0 , 275.977f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -8.4f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , 41.077f , -1470.350f , 9.018f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.810f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.804f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 197.490f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 45.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 1.0f , 600 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// フランツ
	TalkMes("Franz","#5135V#010e#080mなるほど、これはまだしばらく",
		"お嬢様にお仕えする甲斐がありそうです。","")
	WaitPrompt()

	// フランツ
	TalkMes("Franz","#5136V#012e#080mアドル様、今後とも",
		"よろしくお願い申し上げます。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

//　　イベント終了、操作許可。
//　　※アドルを浜辺入口（33.09f, -1462.22f, 9.01f ,175.00f）に再配置。

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Franz_ED")
}
function "Sinai_Franz_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	SetChrPos("Franz", -100000.00f, 0.00f, 0.00f)	// 彼方へ

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_FRANZ, 1 )			// 親愛イベントを見た（フランツ）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（フランツ）	名声値+2
		//SetDiaryCharaFlag( DRCHA_FRANZ, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（フランツ）

		SetFlag(GF_GALL_EV_LIKE_12,1)			// Sinai_Franz

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",33.09f, -1462.22f, 9.01f)
		Turn("LEADER",175.00f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

		FadeBGM(100, 30)
		SetEnvSEPlayState(-1, 1)	//環境SE

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}



////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//■クエストセクション

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//===============================================================
//
// 【QS221】小舟の作成（ドギ）
// ▼クエスト達成イベント
//
function "QS_221_Complete"
{
	//　　暗転明けて、浜辺の小舟作成場所前。
	//　　ドギとアドルが予定地点に向いている。

//開始処理ここから----------------------------------------------------

	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//キャラのit3を読み込む
	LoadChr("Dogi")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	SetFlag( TF_MENU_SELECT2, 0 )	// 質問の正解数

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	//ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 7.72f, -1498.62f, 1.99f)
	Turn("ADOL", 42.06f, 360.0f)
	ChangeAnimation("ADOL", "ANI_EV_SHAGAMI", -1, 1)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 5.41f, -1502.02f, 0.62f)
	Turn("Dogi", 167.29f, 360.0f)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dogi")
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	MapHide("boat_sizai1", 0)			//クエスト(QS_221)加工済み資材
	MapHide("boat_sizai2", 1)			//クエスト(QS_221)加工前木材

	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	SetChrPos("ADOL", 6.36f, -1498.57f, 1.99f)
	Turn("ADOL", 116.19f, 360.0f)

	SetChrPos("Dogi", 7.09f, -1497.92f, 1.99f)
	Turn("Dogi", 108.03f, 360.0f)

//	//カメラ設定
//	MoveCameraAt(0, 20.769f, -1501.759f, 15.159f, 0)	// 注視点
//	ChangeCameraDistance(0, 2.621f, 0)		// 基本距離
//	ChangeCameraElevation(0, 16.680f, 0)	// 基本仰角
//	RotateCamera(0, 116.251f, 0)				// 角度
//	ChangeCameraPers(0, 47.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転

	MoveCameraAt( 0 , 10.764f , -1499.627f , 3.575f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 7.523f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.844f , 0 )	// 基本仰角
	RotateCamera( 0 , 126.334f , 0 )				// 角度
	ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 100.000, 1.000, 0.700, 0.650)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_221_Complete_ED")

//開始処理ここまで-----------------------------------------------

	//カメラ：資材置き場
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 15.569f, -1502.250f, 7.196f, 150)	// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 2.621f, 150)		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 19.516f, 150)	// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 73.605f, 150)				// 角度
//
//	FadeIn(FADE_BLACK,FADE_NORMAL)
//	WaitFade()
//
//	//カメラ待ち：資材置き場
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//
//
//	MoveCameraAt(0, 6.120f, -1499.867f, 6.998f, 0)	// 注視点
//	ChangeCameraDistance(0, 3.223f, 0)		// 基本距離
//	ChangeCameraElevation(0, 19.010f, 0)	// 基本仰角
//	RotateCamera(0, 33.793f, 0)				// 角度
//	ChangeCameraPers(0, 35.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE,  9.671f , -1497.892f , 3.575f, 90)	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 5.523f , 90)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, -3.484f, 90)	// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 108.470f, 90)				// 角度

	//MoveCameraAt( 0 , 9.671f , -1497.892f , 3.575f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 5.523f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -3.484f , 0 )	// 基本仰角
	//RotateCamera( 0 , 108.470f , 0 )				// 角度
	//ChangeCameraPers( 0 , 45.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	LookChr(　"Dogi",　"ADOL"　)
	ChangeAnimation("Dogi", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#000e#000mよし、そんじゃ始めるとするか！\p"
		"まずは木の加工からだな。\p"
		"アドル、舟によさそうな木を"
		"選んでくれよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	////　　アドル頷く。
	//LookChr(　"ADOL",　"Dogi"　)
	//Wait(30)
	//HeadYes("ADOL" , 1 , 25)
	//Wait(20)

	CrossFade(FADE_CROSS)
	SetChrPos("ADOL", 6.36f, -1498.57f, 1.99f)
	Turn("ADOL", 141.62f, 360.0f)
	LookReset("ADOL")
	MoveCameraAt( 0 , 5.451f , -1497.980f , 3.475f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.741f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 11.820f , 0 )	// 基本仰角
	RotateCamera( 0 , 31.957f , 0 )				// 角度
	ChangeCameraPers( 0 , 48.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	ChangeAnimation("ADOL", "ANI_EV_SIAN_S", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)

	//	選択テキスト
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cどんな木を選びますか？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"節が多い木")
	MenuAdd(2,"節が少ない木")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//────────────────────
	//	⇒節が多い木
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		ChangeAnimation("ADOL", "ANI_EV_SIAN_E", -1, 1)
		LookChr("ADOL", "Dogi")

		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		ChangeAnimation("Dogi", "ANI_EV_AKIRE", -1, 1)
		TalkPopup("Dogi",0,0,0,0,0)
		{
			"#050e#000mおいおい……"
			"そいつはマズイだろ。\p"
			"節が抜けちまって"
			"沈没なんてのはゴメンだぜ？"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		//	  　アドルに冷や汗エモーション
		EmotionEx("ADOL", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_S, 1)
		Wait(50)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_E, 1)
	}
	//	⇒節が少ない木（正解）
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		SetFlag( TF_MENU_SELECT2, (FLAG[TF_MENU_SELECT2] + 1) )	// 質問の正解数
		
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		ChangeAnimation("ADOL", "ANI_EV_SIAN_E", -1, 1)

		LookChr("ADOL", "Dogi")

		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		ChangeAnimation("Dogi", "ANI_EV_TEBURI", -1, 1)
		TalkPopup("Dogi",0,0,0,0,0)
		{
			"#000e#000mだな、節が抜けちまって"
			"沈没なんてのはゴメンだぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#000e#000mようし、早速板にしちまおう。"
		"手始めに１２、３枚は必要なはずだ。\p"
		"ちょいと手間だが、"
		"手分けして取り掛かろうぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　少し間をおいてフェードイン。
	Wait(35)

	//　　作業場には加工された板が積まれている状態。
	MapHide("boat_sizai1", 1)			//クエスト(QS_221)加工済み資材
	MapHide("boat_sizai2", 0)			//クエスト(QS_221)加工前木材

	SetChrPos("ADOL", 7.96f, -1496.70f, 1.99f)
	Turn("ADOL", 118.15f, 360.0f)

	SetChrPos("Dogi", 6.97f, -1497.55f, 1.99f)
	Turn("Dogi", 146.36f, 360.0f)

	LookReset("Dogi")
	LookReset("ADOL")

MoveCameraAt( 0 , 6.790f , -1495.298f , 2.589f , 0 )	// 注視点
ChangeCameraDistance( 0 , 3.193f , 0 )		// 基本距離
ChangeCameraElevation( 0 , 18.377f , 0 )	// 基本仰角
RotateCamera( 0 , 176.600f , 0 )				// 角度
ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
RollCamera( 0 , 0.0f , 0 )				// ロール回転
// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 6.647f, -1495.286f, 3.780f, 90 )		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 184.871f, 90)		// 角度
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 18.063f, 90)		// 基本仰角

	//MoveCameraAt( 0 , 6.647f , -1495.286f , 3.780f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.612f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 18.047f , 0 )	// 基本仰角
	//RotateCamera( 0 , 184.866f , 0 )				// 角度
	//ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(30)

	LookSpd("Dogi", 0.08f, 0.08f, 0.08f)// ゆっくりめに首向き
	Look("Dogi", -50.0f, -15.0f)
	Wait(30)
	Look("Dogi", 30.0f, -15.0f)
	Wait(30)
	Look("Dogi", 0.0f, -15.0f)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	ChangeAnimation("Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#080e#080mへへっ、準備は上々だな。\p"
		"アドル、そろそろ"
		"#000e#000m船体の組み立てに入るとするか！"
	}
	WaitPrompt()
	WaitCloseWindow()
	LookSpd("Dogi", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)

	
	Wait(10)

	CrossFade(FADE_CROSS)

	SetChrPos("ADOL", 7.84f, -1496.84f, 1.99f)
	Turn("ADOL", 118.15f, 360.0f)
	LookReset("ADOL")
	LookChr("Dogi", "ADOL")

	MoveCameraAt(0, 5.289f, -1494.532f, 3.649f, 0)	// 注視点
	ChangeCameraDistance(0, 2.921f, 0)		// 基本距離
	ChangeCameraElevation(0, 6.406f, 0)	// 基本仰角
	RotateCamera(0, 217.038f, 0)				// 角度
	ChangeCameraPers(0, 24.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)

	ChangeAnimation("ADOL", "ANI_EV_SIAN_S", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)

	//	選択テキスト
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cどこから組み立てますか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"外枠")
	MenuAdd(2,"底面")
	MenuAdd(3,"上面")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	LookChr("Dogi", "ADOL")
	//────────────────────
	//	⇒底面（正解）
	if (FLAG[TF_MENU_SELECT] == 2)
	{
		SetFlag( TF_MENU_SELECT2, (FLAG[TF_MENU_SELECT2] + 1) )	// 質問の正解数

		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		ChangeAnimation("ADOL", "ANI_EV_SIAN_E", -1, 1)

		LookChr("ADOL", "Dogi")
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		ChangeAnimation("Dogi", "ANI_EV_RYOTEKOSI_E", -1, 1)

		TalkPopup("Dogi",0,0,0,0,0)
		{
			"#080e#080mおう、やっぱ下から"
			"確実に組んでいかねえとな。"
		}
		WaitPrompt()
		WaitCloseWindow()

		WaitAnimation2("Dogi", -1, 1, "ANI_EV_RYOTEKOSI_E", 0)
		ChangeAnimation("Dogi", "ANI_EV_GUTSPOSE_S", -1, 1)
		TalkPopup("Dogi", 0, 0, 0, 0, 0)
		{
			"#080e#080mここが船造りの正念場だ。"
			"へへ……腕が鳴るぜ！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒それ以外
	else
	{
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		ChangeAnimation("ADOL", "ANI_EV_SIAN_E", -1, 1)

		LookChr("ADOL", "Dogi")
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		ChangeAnimation("Dogi", "ANI_EV_RYOTEKOSI_E", -1, 1)

		TalkPopup("Dogi",0,0,0,0,0)
		{
			"#050e#000mいや……そいつは"
			"組み立てづらくねえか？\p"
			"下から確実に組まねえと"
			"浸水の元だぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		//	  　アドルに冷や汗エモーション
		EmotionEx("ADOL", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_S, 1)
		Wait(50)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_E, 1)
		
		WaitAnimation2("Dogi", -1, 1, "ANI_EV_RYOTEKOSI_E", 0)

		ChangeAnimation("Dogi", "ANI_EV_TEBURI", -1, 1)
		TalkPopup("Dogi",0,0,0,0,0)
		{
			"#000e#000mここが船造りの正念場だ。"
			"アドル、慎重に行こうぜ！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	//　　暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//小船建造完了状態
	MapAnime( "Shipyard" , "Lv2" )		// Lv2			20-21[E]	小船建造完了状態です。

	//　　作業場には加工された板が積まれている状態。
	MapHide("boat_sizai1", 0)			//クエスト(QS_221)加工済み資材
	MapHide("boat_sizai2", 0)			//クエスト(QS_221)加工前木材

//	MoveCameraAt(0, 10.070f, -1501.539f, 3.773f, 0)	// 注視点
//	ChangeCameraDistance(0, 5.399f, 0)		// 基本距離
//	ChangeCameraElevation(0, 13.846f, 0)	// 基本仰角
//	RotateCamera(0, 186.020f, 0)				// 角度
//	ChangeCameraPers(0, 41.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
	MoveCameraAt( 0 , 9.473f , -1496.647f , 3.773f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.399f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 13.846f , 0 )	// 基本仰角
	RotateCamera( 0 , 197.390f , 0 )				// 角度
	ChangeCameraPers( 0 , 41.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetChrPos("ADOL", 8.52f, -1495.74f, 1.99f)
	Turn("ADOL", -44.86f, 360.0f)

	SetChrPos("Dogi", 7.77f, -1496.31f, 1.99f)
	Turn("Dogi", -63.80f, 360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)

	LookReset("ADOL")
	LookReset("Dogi")

	//　　少し間をおいてフェードイン。
	Wait(35)
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 9.473f, -1496.647f, 3.773f, 100)		// 注視点
//	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 197.390f, 100)		// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
//	WaitThread(1000)
//	WaitThread(1001)
	//　　作業場には船体が完成した状態になっている。

	ChangeAnimation("Dogi", "ANI_EV_YARUKI_S", -1, 1)
	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#000e#000mよしと……\p"
		"骨は折れたが、"
		"中々いい出来じゃねーか。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	WaitAnimation2("Dogi", -1, 1, "ANI_EV_YARUKI_S", 0)
	ChangeAnimation("Dogi", "ANI_EV_YARUKI_E", -1, 1)

	//　　ドギにＰＡエモーション
	EmotionEx("Dogi", 0.015f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)

	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#000e#000m……いやまてよ。"
		"まだ何かが足りねえ気がするが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)

	SetChrPos("ADOL", 9.28f, -1496.66f, 1.72f)
	Turn("ADOL", -44.86f, 360.0f)

	SetChrPos("Dogi", 8.87f, -1497.56f, 1.57f)
	Turn("Dogi", -63.80f, 360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)

	LookReset("ADOL")
	LookChr("Dogi", "ADOL")

	MoveCameraAt(0, 11.385f, -1498.647f, 3.301f, 0)	// 注視点
	ChangeCameraDistance(0, 2.921f, 0)		// 基本距離
	ChangeCameraElevation(0, 6.406f, 0)	// 基本仰角
	RotateCamera(0, 54.904f, 0)				// 角度
	ChangeCameraPers(0, 24.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)

	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	ChangeAnimation("ADOL", "ANI_EV_SIAN_S", -1, 1)

	//	選択テキスト
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7C足りない物とは？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"　舵　")
	MenuAdd(2,"オール")
	MenuAdd(3,"船首像")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//────────────────────
	//	⇒舵
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		ChangeAnimation("ADOL", "ANI_EV_SIAN_E", -1, 1)

		LookChr("ADOL", "Dogi")
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		ChangeAnimation("Dogi", "ANI_EV_RYOTEBURI", -1, 1)
		TalkPopup("Dogi",0,0,0,0,0)
		{
			"#050e#080mはは、何言ってんだ。"
			"こんな小舟に舵なんてつけねえよ。\p"
			"#000e#000m……ってそうか、"
			"オールを忘れてるじゃねえか。\p"
			"小舟を操るにはオールがねえとな。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒オール（正解）
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		SetFlag( TF_MENU_SELECT2, (FLAG[TF_MENU_SELECT2] + 1) )	// 質問の正解数
		
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		ChangeAnimation("ADOL", "ANI_EV_SIAN_E", -1, 1)

		LookChr("ADOL", "Dogi")
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		ChangeAnimation("Dogi", "ANI_EV_UDEGUMI_S", -1, 1)
		TalkPopup("Dogi",0,0,0,0,0)
		{
			"#000e#080mおっとそうか。"
			"小舟を操るにはオールがねえとな。2"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒船首像
	else if (FLAG[TF_MENU_SELECT] == 3)
	{
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		ChangeAnimation("ADOL", "ANI_EV_SIAN_E", -1, 1)

		LookChr("ADOL", "Dogi")
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		ChangeAnimation("Dogi", "ANI_EV_RYOTEBURI", -1, 1)
		TalkPopup("Dogi",0,0,0,0,0)
		{
			"#080e#080mはは、適当な漂着物でも"
			"くっつけてみるかよ？\p"
			"#000e#000m……つーか真面目な話、"
			"オールを忘れてるじゃねえか。\p "
			"小舟を操るにはオールがねえとな。3"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#000e#000mよし、木を削って作るとしようぜ！"
		"削る2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルがうなずいてゆっくり暗転。
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	HeadYes("ADOL", 1, 25)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cこうして──ついに"
		"#7C漂流村の小舟が完成したのだった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　少し間を空けてフェードイン。

	//　　完成した舟の前に立っているアドルとドギ。

	//小船建造完了状態（完成した舟）
	MapAnime( "Shipyard" , "Lv2" )		// Lv2			20-21[E]	小船建造完了状態です

	//アドルとドギ配置
	//SetChrPos("ADOL",10.67f,-1505.99f,0.48f)
	//Turn("ADOL",143.44f,360.0f)
	LookReset( "ADOL" )
	SetChrPos("ADOL",10.67f,-1505.99f,0.48f)
	Turn("ADOL",129.25f,360.0f)

	SetChrPos("Dogi",9.43f,-1506.03f,0.44f)
	Turn("Dogi",-178.25f,360.0f)
	LookReset( "Dogi" )
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)

	Wait(35)

	//カメラ：小船中心
	MoveCameraAt(0, 9.352f, -1502.161f, 2.923f, 0)	// 注視点
	ChangeCameraDistance(0, 4.500f, 0)		// 基本距離
	ChangeCameraElevation(0, 2.853f, 0)	// 基本仰角
	RotateCamera(0, 16.217f, 0)				// 角度
	ChangeCameraPers(0, 58.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//カメラ：小船前方～小船全体
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 14.061f, -1497.038f, 4.064f, 150)	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 4.500f, 150)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 23.481f, 150)	// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 122.367f, 150)				// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//カメラ待ち：小船前方～小船全体
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	Wait(20)

	//カメラ：アドル達と舟が映るように
	CrossFade(FADE_NORMAL)

	MoveCameraAt(0, 9.790f, -1505.572f, 2.006f, 0)	// 注視点
	ChangeCameraDistance(0, 2.900f, 0)		// 基本距離
	ChangeCameraElevation(0, 4.047f, 0)	// 基本仰角
	RotateCamera(0, 220.367f, 0)				// 角度
	ChangeCameraPers(0, 36.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	LookChr( "Dogi", "ADOL" )
	Wait(FADE_NORMAL)

	//────────────────────
	//	⇒３問正解
	if( FLAG[TF_MENU_SELECT2] == 3 )	// 質問の正解数
	{
		ChangeAnimation("Dogi", "ANI_EV_GUTSPOSE_S", -1, 1)
		PlayVoice(Y8V_3566, "Dogi", 100)	//おうよ！

		TalkPopup("Dogi",0,0,0,0,0)
		{
			"#080e#080mへへ、お前のお陰で"
			"さくさく組み立てられたぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		ChangeAnimation("Dogi", "ANI_EV_GUTSPOSE_E", -1, 1)
	}
	//	⇒１～２問正解
	else if( FLAG[TF_MENU_SELECT2] > 0 )	// 質問の正解数
	{
		ChangeAnimation("Dogi", "ANI_EV_TEBURI", -1, 1)
		PlayVoice(Y8V_3562, "Dogi", 100)	//ああ（平常のテンション。あらゆる場面で使用）

		TalkPopup("Dogi",0,0,0,0,0)
		{
			"#000e#000m手際はイマイチだったが"
			"何とかできたな。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒０問正解
	else
	{
		ChangeAnimation("Dogi", "ANI_EV_BORI", -1, 1)
		PlayVoice(Y8V_3570, "Dogi", 100)	//ふぅ…（溜息）

		TalkPopup("Dogi",0,0,0,0,0)
		{
			"#000e#000mてこずっちまったが、"
			"どうにか完成したか。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	LookChr("ADOL", "Dogi")
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"小さいけど頼もしい舟だな")
	MenuAdd(2,"これで村の資材集めもはかどるな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//────────────────────
	//	⇒小さいけど頼もしい舟だな
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		HeadYes("ADOL", 1, 25)
		Wait(15)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(25)

		TalkPopup("Dogi",0,0,0,0,0)
		{
			"#011e#080mああ、やっぱ舟があると"
			"俄然希望が湧いてくるよなぁ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒これで村の資材集めもはかどるな
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		HeadYes("Dogi", 1, 25)
		ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		TalkPopup("Dogi",0,0,0,0,0)
		{
			"#080mおうよ、重たい資材も"
			"多いから大助かりだぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#012e#000mだがそれだけじゃねえ。\p"
		"バルバロスの旦那はこいつで"
		"潮の流れを調べるつもりらしくてな。\p"
		"きっとこの島から脱出する"
		"手がかりになるはずだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ドギ、アドルに向き直る。
	LookChr( "Dogi" , "ADOL" )
	TurnToChr("Dogi",  "ADOL", 5.0f)
	
	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#000e#000mアドル、今日は助かったぜ。"
		"こいつを持っていってくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dogi", "ANI_EV_TEWATASI_S", -1, 1)
	WaitAnimation2("Dogi", -1, 1, "ANI_EV_TEWATASI_S", 0)

	//Turn("ADOL", 104.78f, 8.0f)
	Wait(10)

	GetItemMessageExPlus(ICON3D_AR_000, 1, ITEMMSG_SE_JINGLE, "を受け取った。14", 0, 0)		//皮の手袋
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dogi", "ANI_EV_TEWATASI_E", -1, 1)

	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#000e#000mまだまだ先は長そうだが、"
		"お互い頑張るとしようぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルうなずきつつ暗転。
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	HeadYes("ADOL", 1, 25)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(25)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【小舟の作成】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。

	//　　※アドルを集会所中央付近に再配置。
	//　　※クエスト達成後、浜には小舟が置かれた状態になる。
	//　　（▼第二部⑭カーラン卿を探しに行く　以降は消える）
	if (FLAG[TF_MENU_SELECT2] == 3)	// 質問の正解数
	{
		GetItemMessageExPlus(ICON3D_US_COCONUT_S, 5, ITEMMSG_SE_JINGLE, "を受け取った。15", 0, 0)		//完熟ココヤシ5個
		WaitPrompt()
		WaitCloseWindow()
	}
	else if (FLAG[TF_MENU_SELECT2] > 0)	// 質問の正解数
	{
		GetItemMessageExPlus(ICON3D_US_COCONUT_S, 2, ITEMMSG_SE_JINGLE, "を受け取った。16", 0, 0)		//完熟ココヤシ2個
		WaitPrompt()
		WaitCloseWindow()
	}


//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_221_Complete_ED")
}
function "QS_221_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	//ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_Dogi")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_QUEST_221, QUEST_SUCCESS )		// 【QS221】小舟の作成（ドギ）　クエストを達成した
	SetFlag( GF_CAMP_SHIPYARD_LV, 3 )			// 漂流村の発展設定：造船所LV3
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS221】小舟の作成（ドギ）	名声値+1
	if (FLAG[TF_MENU_SELECT2] == 3)	// 質問の正解数
	{
		GetItem(ICON3D_US_COCONUT_S, 5)				// 完熟ココヤシ×５
		SetDiaryFlag( DF_QS221_END_1ST, 1 )		// 【QS221】★ドギに素材を渡し、小船作りを手伝った。
	}
	else if (FLAG[TF_MENU_SELECT2] > 0)	// 質問の正解数
	{
		GetItem(ICON3D_US_COCONUT_S, 2)				// 完熟ココヤシ×２
		SetDiaryFlag( DF_QS221_END_2ND, 1 )		// 【QS221】★ドギに素材を渡し、小船作りを手伝った。
	}
	else
	{
		SetDiaryFlag( DF_QS221_END_2ND, 1 )		// 【QS221】★ドギに素材を渡し、小船作りを手伝った。
	}
	GetItem(ICON3D_AR_000, 1)				// 皮の手袋
	DeleteItem(ICON3D_MT_R2_WOOD, 3)	// ラテカ樹脂

	SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット

	LoadArg("map/mp1201/mp1201.arg")
	EventCue("mp1201:QS_221_Complete_Relocate")		// 再配置

//終了処理ここまで----------------------------------------------------
}
function "QS_221_Complete_Adol_move"
{
	//アドルを配置
	ResetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )	//◆歩かせるために解除しています
	LookReset("ADOL")
	SetChrPos("ADOL",12.30f,-1495.21f,1.81f)
	Turn("ADOL",15.88f,360.0f)

	//右に移動～しゃがみ
	MoveToEx( "ADOL", 10.76f,-1494.87f,1.80f, 0.1f, 0.20f, 1, 1 )
	Turn("ADOL",-1.96f,8.0f)
	ChangeAnimation( "ADOL", "ANI_EV_SHAGAMI_S", -1, 1 )
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_SHAGAMI_S",  0)
	Wait(60)
	ChangeAnimation( "ADOL", "ANI_EV_SHAGAMI_E", -1, 1 )
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_SHAGAMI_E",  0)

	//左に移動～しゃがみ
	MoveToEx( "ADOL", 12.30f,-1495.21f,1.81f, 0.1f, 0.20f, 1, 1 )
	ChangeAnimation( "ADOL", "ANI_EV_SHAGAMI_S", -1, 1 )
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_SHAGAMI_S",  0)
	Wait(40)
	ChangeAnimation( "ADOL", "ANI_EV_SHAGAMI_E", -1, 1 )
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_SHAGAMI_E",  0)

	//右に移動～しゃがみ
	MoveToEx( "ADOL", 10.76f,-1494.87f,1.80f, 0.1f, 0.20f, 1, 1 )
	ChangeAnimation( "ADOL", "ANI_EV_SHAGAMI_S", -1, 1 )
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_SHAGAMI_S",  0)
	Wait(60)
	ChangeAnimation( "ADOL", "ANI_EV_SHAGAMI_E", -1, 1 )
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_SHAGAMI_E",  0)

	//左に移動～しゃがみ
	MoveToEx( "ADOL", 12.30f,-1495.21f,1.81f, 0.1f, 0.20f, 1, 1 )
	Turn("ADOL",-1.96f,8.0f)
	ChangeAnimation( "ADOL", "ANI_EV_SHAGAMI_S", -1, 1 )
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_SHAGAMI_S",  0)
	Wait(60)
	ChangeAnimation( "ADOL", "ANI_EV_SHAGAMI_E", -1, 1 )
	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_SHAGAMI_E",  0)
}
function "QS_221_Complete_Dogi_move"
{
	//アドルを配置
	ResetChrInfoFlag( "Dogi" , INFOFLAG_NOGRAVITY )	//◆歩かせるために解除しています
	LookReset("Dogi")
	SetChrPos("Dogi",12.10f,-1503.02f,0.77f)
	Turn("Dogi",124.53f,360.0f)

	//しゃがみ
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )
	WaitAnimation2( "Dogi" , -1, 1, "ANI_EV_UDEGUMI_S",  0)
	Wait(60)
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )
	WaitAnimation2( "Dogi" , -1, 1, "ANI_EV_UDEGUMI_E",  0)
	Wait(30)

	//後方に移動してしゃがみ	
	MoveTo("Dogi",13.09f,-1501.06f,0.97f, 0.1f, 0.20f)
	Turn("Dogi",112.68f,8.0f)
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )
	WaitAnimation2( "Dogi" , -1, 1, "ANI_EV_UDEGUMI_S",  0)
	Wait(30)
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )
	WaitAnimation2( "Dogi" , -1, 1, "ANI_EV_UDEGUMI_E",  0)
	Wait(30)

	//後方に移動してしゃがみ	
	MoveTo("Dogi",14.59f,-1496.91f,1.58f, 0.1f, 0.20f)
	Turn("Dogi",87.12f,8.0f)
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )
	WaitAnimation2( "Dogi" , -1, 1, "ANI_EV_UDEGUMI_S",  0)
	Wait(90)
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )
	WaitAnimation2( "Dogi" , -1, 1, "ANI_EV_UDEGUMI_E",  0)
}

//===============================================================
//
//【QS400】ししょーへの献上（リコッタ）
// ▼クエスト開始イベント
//
function "QS_400_Start"
{
	//　　画面暗転を挟んで、浜辺の高台。
	//　　リコッタの前にアドルが立っている。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	////キャラのit3を読み込む
	//LoadChr("RICOTTA")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -13.53f, -1511.95f, 7.86f)
	Turn("ADOL", 0.00f, 360.0f)
	PitchChr("ADOL", 0.00f, 0)
	RollChr("ADOL", 0.00f, 0)

	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookChr( "ADOL", "RICOTTA" )

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", -13.98f, -1513.54f, 7.86f)
	Turn("RICOTTA", -169.68f, 360.0f)
	ChangeAnimation( "RICOTTA" , "ANI_EV_RYOTEKOSI", -1 , 1 )
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI)
	LookChr( "RICOTTA", "ADOL" )

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , -14.298f , -1512.037f , 9.370f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.713f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 12.104f , 0 )	// 基本仰角
	RotateCamera( 0 , 185.667f , 0 )				// 角度
	ChangeCameraPers( 0 , 33.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 120.000 ,1.000 ,0.700 ,0.600)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_400_Start_ED")

//開始処理ここまで-----------------------------------------------

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -13.925f, -1511.913f, 9.370f, 65)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 12.104f, 65)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 185.667f, 65)		// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	TalkPopup("RICOTTA",0,2,0,0,0)
	{
		"#000mまだ言ってなかったが……\p"
		"まだ言って2行目"
		"実はリコッタには、"
		"父上とセンパイの他にも大切な存在、いる。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	ChangeAnimation("RICOTTA", "ANI_EV_RYOTEKOSI_E", -1, 1)

	TalkPopup("RICOTTA", 0, 2, 0, 0, 0)
	{
		"#012e#080mそれが“ししょー”。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("RICOTTA", "ANI_EV_YARUKI_S", -1, 1)
	TalkPopup("RICOTTA", 0, 2, 0, 0, 0)
	{
		"#020e#080mししょーは強い、ししょーは大きい、"
		"ししょーは偉い。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"それはぜひ会ってみたいな")
	MenuAdd(2,"何の師匠なんだい？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//──────────────────────
	//	⇒それはぜひ会ってみたいな
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		Wait(30)

		ChangeAnimation("RICOTTA", "ANI_EV_YARUKI_E", -1, 1)

		//　　リコッタに「ワイワイ」エモーション。

		EmotionEx("RICOTTA", 0.00f, EMO_WAI, 0, 5, 1, 0, 0.6f)	//ワイワイ
		Wait(50)
		ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_LAUGH_E, 1)

		TalkPopup("RICOTTA",0,0,0,0,0)
		{
			"#080mリコッタも、みんなを紹介したい。\p"
			"ししょーも、きっと喜ぶ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒何の師匠なんだい？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		Wait(30)

		ChangeAnimation("RICOTTA", "ANI_EV_YARUKI_E", -1, 1)

		//　　リコッタに「？」エモーション。
		ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_LAUGH_E, 1)
		EmotionEx("RICOTTA", 0.00f, EMO_Q, 0, 5, 1, 1, 0.7f)	//？
		LookRoll("RICOTTA", 10.0f)	// かしげる

		Wait(50)
	
		TalkPopup("RICOTTA",0,2,0,0,0)
		{
			"#000e#000m何の……？"
			"ししょーはししょー。"
		}
		WaitPrompt()
		WaitCloseWindow()

		LookRoll("RICOTTA", 0.0f)
		TalkPopup("RICOTTA", 0, 2, 0, 0, 0)
		{
			"#011e#000m木の登り方に狩りの仕方、"
			"それからそれから……"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation("RICOTTA", "ANI_EV_HOHOKAKI", -1, 1)
		TalkPopup("RICOTTA", 0, 2, 0, 0, 0)
		{
			"#012e#080m生きるために必要なこと、"
			"たくさん教えてもらった。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	//　　リコッタに「…」エモーション。
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	EmotionEx("RICOTTA", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(52)

	ChangeAnimation("RICOTTA", "ANI_EV_TEMUNE_S", -1, 1)
	TalkPopup("RICOTTA",0,2,0,0,0)
	{
		"#000m最近、よく思う。"
		"リコッタ、まだまだ弱い。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	TalkPopup("RICOTTA", 0, 2, 0, 0, 0)
	{
		"#000mだからししょーに稽古付けてもらう！\p"
		"そのためにししょーに好物、献上する！"
	}
	WaitPrompt()
	WaitCloseWindow()
	ChangeAnimation("RICOTTA", "ANI_EV_TEMUNE_E", -1, 1)

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"何が好物なんだい？")
	MenuAdd(2,"タダでは稽古してもらえないの？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//──────────────────────
	//	⇒何が好物なんだい？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		TalkPopup("RICOTTA",0,0,0,0,0)
		{
			"#080e#080mししょーの好物、『完熟マンゴー』！\p"
			"食べ物の中で一番好き！\p"
			"#020e#080mししょーは喋れないけど、"
			"リコッタには分かる！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒タダでは稽古してもらえないの？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		HeadYes("RICOTTA", 1, 25)

		TalkPopup("RICOTTA",0,0,0,0,0)
		{
			"#011e#000m然り、それが人に物を教わる礼儀。\p"
			"#012eししょーは喋れないけど"
			"そう思ってる、リコッタには分かる！\p"
			"#020e#080mだから『完熟マンゴー』持ってく！"
			"マンゴー5行目"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	TalkPopup("RICOTTA",0,0,0,0,0)
	{
		"#000e#000mちなみにししょーは高い所、好き！\p"
		"ちょっと地図、いいか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("ADOL", 1, 25)
	Wait(25)

	ChangeAnimation("ADOL", "ANI_EV_TEWATASI_S", -1, 1)

	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_TEWATASI_S",  0)

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, -13.894f, -1513.452f, 9.221f, 0)	// 注視点
	ChangeCameraDistance(0, 1.712f, 0)		// 基本距離
	ChangeCameraElevation(0, 7.254f, 0)	// 基本仰角
	RotateCamera(0, 358.871f, 0)				// 角度
	ChangeCameraPers(0, 33.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	Wait(FADE_CROSS)

	LookReset("RICOTTA")
	ChangeAnimation("RICOTTA", "ANI_EV_SIAN_S", -1, 1)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cリコッタはアドルの地図を覗き込んだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	EmotionEx("RICOTTA", 0.00f, EMO_3DOT, 0, 5, 1, 1, 0.7f)	//…
	Wait(52)
	TalkPopup("RICOTTA",0,1,0,0,0)
	{
		"#000e#000mししょーはいまこのヘン、"
		"“遠鳴り浜”なる場所にいるはず。\p"
		"センパイが言ってた、間違いない。"
		"センパイ4行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("ADOL", "ANI_EV_TEWATASI_E", -1, 1)
	ChangeAnimation("RICOTTA", "ANI_EV_SIAN_E", -1, 1)

	TalkPopup("RICOTTA", 0, 1, 0, 0, 0)
	{
		"#000e#000m余裕があったら一緒に行く──"
		"『完熟マンゴー』も忘れずに！"
	}
	WaitPrompt()
	WaitCloseWindow()

//	//　　アドルが頷く。
//	HeadYes("ADOL" , 1 , 25)
//	Wait(35)

	//──────────────────────
	//	⇒依頼が冒険日誌に未登録の場合
	if( FLAG[GF_QUEST_400] == QUEST_NOTHING )
	{
		PlaySE(SE_QUEST_ADD, 100, 0, 0, 0, 1.0f, 0)		// クエスト追加
		//	システムメッセージ
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#-1W#4C冒険日誌のクエストページに7"
			"#-1W#4Cクエスト#8C【ししょーへの献上】#4Cが追加された。#10W" 
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	
		//　　※アリスンにクエストマーカーを付ける。
	}
	//──────────────────────
	//　　イベント終了、操作許可。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_400_Start_ED")
}
function "QS_400_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_RICOTTA")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	SetFlag( GF_QUEST_400, QUEST_START )		// 【QS400】ししょーへの献上（リコッタ）　クエスト開始
	SetDiaryFlag( DF_QS400_START, 1 )			// 【QS610】★リコッタから話を聞いた。
	//マーカー設置
	SetMapMarker(SMI_QUEST, PAGE_F008, MARKER_QS_400_LP, -745.62f, -831.41f, 148.57f, -745.62f, -831.41f, MARKER_QS_400_LP, MN_F_MP1135, 0)	// 【QS400】ししょーへの献上（リコッタ）スキル猿が居る場所用

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",-12.94f,-1511.22f,7.86f)
	Turn("LEADER",-180.00f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS401】新入りはいずこ（レーヤ）
// ▼ピッカード捕獲イベント（浜辺）
//
function "QS_401_Picard_1"
{
	//　　浜辺、資材置き場の物陰にピッカードがいる。
	//　　調べるとイベント起動。

//開始処理ここから----------------------------------------------------

//	CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("ev_QS_401_Picard")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",7.48f,-1493.02f,2.19f)
	Turn("ADOL",48.97f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "ev_QS_401_Picard" )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("ev_QS_401_Picard", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ev_QS_401_Picard", 5.20f, -1495.15f, 1.62f)
	Turn("ev_QS_401_Picard", -136.47f, 360.0f)
	ChangeAnimation( "ev_QS_401_Picard" , "ANI_WAIT", -1 , 1 )
//	ChangeSubAnimation("ev_QS_401_Picard",SUBMOT_EYE,ANI_E_WAIT,1)
//	ChangeSubAnimation("ev_QS_401_Picard",SUBMOT_MOUTH,ANI_M_WAIT,1)
//	ChangeSubAnimation("ev_QS_401_Picard",SUBMOT_EXT1,ANI_E_LOOKC,1)
//	LookReset("ev_QS_401_Picard")
	SetChrInfoFlag( "ev_QS_401_Picard" , INFOFLAG_NOCHRATARI)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt(0, 6.617f, -1493.598f, 3.083f, 0)	// 注視点
	ChangeCameraDistance(0, 3.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 24.784f, 0)	// 基本仰角
	RotateCamera(0, 129.170f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 100.000 ,1.000 ,0.700 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_401_Picard_1_ED")

//開始処理ここまで-----------------------------------------------

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 5.723f, -1495.185f, 2.810f, 80)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 24.780f, 80)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 129.166f, 80)		// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	Wait(20)

	//　　飛び上がってビックリするピッカード。
	EmotionEx("ev_QS_401_Picard", 0.00f, EMO_EX2, 0, 5, 1, 1, 1.0f)	// 「！」
	Jump("ev_QS_401_Picard", 0.3)
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	//　　飛び上がってビックリするピッカード。
	Turn("ev_QS_401_Picard", 35.70f,50.0f)

	ExecuteCmd(1, MoveTo, "ev_QS_401_Picard", 1.60f, -1499.88f, 0.81f, 0.1f, 0.50f)
	Wait(10)
	SetChrInfoFlag("ev_QS_401_Picard", INFOFLAG_NOATARI)
	StopThread(1)
	//WaitThread(1)
	//Wait(10)
	//Turn("ev_QS_401_Picard", -16.72f, 200.0f)
	ExecuteCmd(1, MoveTo, "ev_QS_401_Picard", 1.85f, -1501.93f, 0.81f, 0.1f, 0.60f)
	Wait(20)
	SetChrPos("ev_QS_401_Picard", -100000.00f, 0.00f, 0.00f)
	StopThread(1)
	//　　アドルが近づこうと少し歩く間に
	//　　全速力で回り込み、集会所のほうへ逃げてしまう。
	//SetChrPos("ev_QS_401_Picard" , -100000.00f , 0.00f ,0.00f )		// イベント用ピッカードを画面外に移動
	CrossFade(FADE_NORMAL)
	
	ResetChrInfoFlag("ev_QS_401_Picard", INFOFLAG_NOATARI)
	SetChrPos("ev_QS_401_Picard", 19.65f, -1493.30f, 2.77f)
	Turn("ev_QS_401_Picard", -127.27f, 360.0f)

	MoveCameraAt(0, 18.750f, -1486.179f, 5.365f, 0)	// 注視点
	ChangeCameraDistance(0, 3.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 13.408f, 0)	// 基本仰角
	RotateCamera(0, 209.763f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 21.667f, -1486.868f, 6.134f, 150)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, -14.681f, 150)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 323.604f, 150)		// 角度

	ExecuteCmd(1, MoveTo, "ev_QS_401_Picard", 40.24f, -1448.59f, 10.64f,0.1f, 0.60f)
	Wait(FADE_NORMAL)

	Wait(55)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cピッカードは逃げてしまった……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(20)

	//　　暗転を挟んで操作許可。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	StopThread(1)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)

	SetChrPos("ev_QS_401_Picard", -100000.00f, 0.00f, 0.00f)

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_401_Picard_1_ED")
}
function "QS_401_Picard_1_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手
	SetFlag( GF_QS401_LOOK_PICARD_1, 1 )		//【QS401】▼ピッカード捕獲イベント（浜辺） を見た
	//マーカー消去と設置
	DelMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP1, 0, 0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（浜辺）」ポイント用
	SetMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP2, 21.48f,-1428.50f,17.89f, 	21.48f,-1428.50f,	MARKER_QS_401_LP2, MN_T_VILLAGE_MP1201,	0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（集会所）」ポイント用

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", 19.51f, -1486.98f, 3.67f)
	Turn("LEADER", -140.99f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()

	SetChrPos("ev_QS_401_Picard_1" , -100000.00f , 0.00f ,0.00f )		// イベント用ピッカードを画面外に移動

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS602】白酒の調達（カシュー）
// ▼クエスト開始イベント
//
function "QS_602_Start"
{
	//　　画面暗転を挟んで、脱出船の脇。
	//　　アドルとカシューが向き合っている状態。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Kashu")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 18.55f, -1488.21f, 3.42f)
	Turn("ADOL", 61.61f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")

	SetChrWork("Kashu", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kashu", 17.52f, -1488.37f, 3.36f)
	Turn("Kashu", 26.19f, 360.0f)
	ChangeAnimation( "Kashu" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Kashu",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kashu",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Kashu",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Kashu")

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , 20.805f , -1487.706f , 4.852f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.299f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -7.133f , 0 )	// 基本仰角
	RotateCamera( 0 , 145.578f , 0 )				// 角度
	ChangeCameraPers( 0 , 42.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 120.000 ,1.000 ,0.700 ,0.600)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_602_Start_ED")

//開始処理ここまで-----------------------------------------------

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , 19.841f , -1486.672f , 4.852f  , 90 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.380f, 90 )		// 基本距離
//	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE ,-7.133f, 90 )		// 基本仰角
//	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 145.578f ,  90 )		// 角度
//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,0.0f, 90 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 90 )		// 視野角

	//MoveCameraAt( 0 , 19.841f , -1486.672f , 4.852f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.380f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -7.132f , 0 )	// 基本仰角
	//RotateCamera( 0 , 145.585f , 0 )				// 角度
	//ChangeCameraPers( 0 , 42.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転

	FadeIn(FADE_BLACK,FADE_NORMAL)

	Look("ADOL", -12.00f, 20.00f)
	Look("Kashu", 4.00f, 15.00f)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	ChangeAnimation("Kashu", "ANI_EV_RYOTEBURI", -1, 1)
	TalkPopup("Kashu",0,0,0,0,0)
	{
		"#000e#000m知っての通り、もうすぐ船が完成する。\p"
		"こんな時だけど……"
		"こんな時3行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2( "Kashu" , -1, 1, "ANI_EV_RYOTEBURI",  0)
	LookReset("Kashu")
	Turn("Kashu", -107.30f, 8.0f)
	LookChr("ADOL", "Kashu")

	Wait(20)

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 17.553f , -1488.849f , 4.852f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.980f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.968f , 0 )	// 基本仰角
	RotateCamera( 0 , 140.204f , 0 )				// 角度
	ChangeCameraPers( 0 , 42.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)
	
	TalkPopup("Kashu", 0, 0, 0, 0, 0)
	{
		"#000mいや、こんな時だからこそ、"
		"ちゃんとした進水式をやりたいんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"いよいよだな")
	MenuAdd(2,"みんなも喜ぶはずだ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	//────────────────────
	//	⇒いよいよだな
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadYes("ADOL", 1, 25)
		Wait(35)

		TalkPopup("Kashu",0,0,0,0,0)
		{
			"#011e#080mああ、あとは異変さえ収まれば"
			"島から出る事ができるんだ……！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒みんなも喜ぶはずだ
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		Wait(40)

		TalkPopup("Kashu",0,0,0,0,0)
		{
			"#011e#080mああ、きっとみんなを"
			"勇気付けられるはずさ！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	ChangeAnimation("Kashu", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Kashu",0,0,0,0,0)
	{
		"#012e#000mただ……進水式には"
		"白ワインを掛ける決まりがあるんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2( "Kashu" , -1, 1, "ANI_EV_TEBURI",  0)

	//　　カシュー、会話モーション	
	ChangeAnimation( "Kashu", "ANI_EV_UDEGUMI_S", -1, 1 )
	TalkPopup("Kashu",0,0,0,0,0)
	{
		"#000mそう、この島で白ワインなんて"
		"難しいと思うんだが……\p"
		"#000mタナトスさんに相談してみたら"
		"似たものに心当たりがあるそうなんだ。\p"
		"#011eなんでも、甘い樹液が溜まって"
		"自然に発酵することがあるとか。\p"
		"#012e『発酵樹液』っていうらしいんだが……"
		//"#2C#329I発酵樹液#0Cっていうらしいんだが……"
		"それを３つほど調達できないかな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Kashu", "ANI_EV_UDEGUMI_E", -1, 1)
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"探してみるしかないな……")
	MenuAdd(2,"必ず見つけてみせるさ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	//────────────────────
	//	⇒探してみるしかないな……
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		Wait(40)

		ChangeAnimation("Kashu", "ANI_EV_BORI", -1, 1)
		TalkPopup("Kashu",0,0,0,0,0)
		{
			"#050e#000mすまない、無理を言って。\p"
			"#000eそうだ、一度タナトスさんに"
			"相談してみるといいかもしれないな。\p"
			"もう少し詳しい話をしてくれるはずだ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒必ず見つけてみせるさ
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		HeadYes("ADOL", 1, 25)
		Wait(35)

		ChangeAnimation("Kashu", "ANI_EV_GUTSPOSE_S", -1, 1)
		TalkPopup("Kashu",0,0,0,0,0)
		{
			"#021e#080mありがとう、アドル！"
			
		}
		WaitPrompt()
		WaitCloseWindow()
		ChangeAnimation("Kashu", "ANI_EV_GUTSPOSE_E", -1, 1)

		TalkPopup("Kashu", 0, 0, 0, 0, 0)
		{
			"#022e#000mもし困ったら、タナトスさんに"
			"話を聞いてみるといいかもしれない。\p"
			"もう少し詳しい話をしてくれるはずだ。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//────────────────────

	//　　アドル、うなずく。
	HeadYes("ADOL" , 1 , 25)
	Wait(35)

	TalkPopup("Kashu",0,0,0,0,0)
	{
		"#000e#000mそれじゃあ、"
		"すまないがよろしく頼む。\p"
		"こんな状況だ、探索に出るときは"
		"どうか十分に気をつけてくれよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　暗転する。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//──────────────────────
	//	⇒依頼が冒険日誌に未登録の場合
	if( FLAG[GF_QUEST_602] == QUEST_NOTHING )
	{
		PlaySE(SE_QUEST_ADD, 100, 0, 0, 0, 1.0f, 0)		// クエスト追加
		//	システムメッセージ
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#-1W#4C冒険日誌のクエストページに8"
			"#-1W#4Cクエスト#8C【白酒の調達】#4Cが追加された。#10W" 
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()

		//	  　※カシューにクエストマーカーを付ける。
	}
	//──────────────────────

	//　　イベント終了、操作許可。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_602_Start_ED")
}
function "QS_602_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Kashu")
	SetChrPos("Kashu", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手
	SetFlag( GF_QUEST_602, QUEST_START )		// 【QS602】白酒の調達（カシュー）　クエスト開始
	SetDiaryFlag( DF_QS602_START, 1 )			// 【QS602】★カシューと話した。以下の物を探そう。

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",20.77f,-1488.99f,3.31f)
	Turn("LEADER",49.21f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, 20.770f, -1488.990f, 5.174f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, 127.325f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}
//===============================================================
//
// 【QS602】白酒の調達（カシュー）
// ▼クエスト達成イベント
//
function "QS_602_Complete"
{
	//　　暗転をはさんで脱出船前。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Kashu")
	LoadChr("Dogi")
	LoadChr("Alison")
	LoadChr("Dina")
	LoadChr("Kuina")
	LoadChr("Katrin")
	LoadChr("Licht")
	LoadChr("Aaron")

	LoadChr("Sahad")
	LoadChr("Laxia")
	LoadChr("Hummel")
	LoadChr("Ricotta")
	LoadChr("Dana")
	LoadChr("Thanatos")

	CallFunc("system:Load_Reja_Event")
	CallFunc("system:Load_Miralda_Event")
	CallFunc("system:Load_Franz_Event")
	CallFunc("system:Load_Ed_Event")
	CallFunc("system:Load_Silvia_Event")
	CallFunc("system:Load_Nia_Event")
	CallFunc("system:Load_Griselda_Event")
	CallFunc("system:Load_Austen_Event")
	CallFunc("system:Load_Curran2_Event")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",17.10f,-1488.26f,3.37f)
	Turn("ADOL",-135.71f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	SetChrInfoFlag( "Sahad" , INFOFLAG_NOCHRATARI)

	//カシュー
	SetChrWork("Kashu", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kashu",17.86f,-1488.84f,3.27f)
	Turn("Kashu",-144.16f,360.0f)
	ChangeAnimation( "Kashu" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Kashu",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kashu",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Kashu",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Kashu")
	SetChrInfoFlag( "Sahad" , INFOFLAG_NOCHRATARI)

	//ダーナ
	SetChrWork("Dana", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dana", 20.58f, -1484.72f, 4.13f)
	Turn("Dana", 37.24f, 360.0f)
	ChangeAnimation( "Dana" , "ANI_EV_WAIT2", -1 , 1 )
	ChangeSubAnimation("Dana",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("Dana",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Dana",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dana")
	SetChrInfoFlag( "Dana" , INFOFLAG_NOCHRATARI)

	//サハド
	SetChrWork("Sahad", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Sahad", 20.58f, -1488.22f, 3.46f)
	Turn("Sahad", 70.36f, 360.0f)
	ChangeAnimation( "Sahad" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Sahad",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("Sahad",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Sahad",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Sahad")
	SetChrInfoFlag( "Sahad" , INFOFLAG_NOCHRATARI)

	//ラクシャ
	SetChrWork("Laxia", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Laxia", 19.64f, -1487.34f, 3.61f)
	Turn("Laxia", 42.56f, 360.0f)
	ChangeAnimation( "Laxia" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Laxia",SUBMOT_EYE,ANI_E_SMILE,1)
	ChangeSubAnimation("Laxia",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Laxia",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Laxia")
	SetChrInfoFlag( "Laxia" , INFOFLAG_NOCHRATARI)

	//ヒュンメル
	SetChrWork("Hummel", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Hummel", 21.17f, -1487.25f, 3.66f)
	Turn("Hummel", 53.99f, 360.0f)
	ChangeAnimation( "Hummel" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Hummel",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Hummel",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Hummel",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Hummel")
	SetChrInfoFlag( "Hummel" , INFOFLAG_NOCHRATARI)

	//リコッタ
	SetChrWork("Ricotta", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Ricotta", 17.33f, -1486.33f, 3.75f)
	Turn("Ricotta", 7.76f, 360.0f)
	ChangeAnimation( "Ricotta" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Ricotta",SUBMOT_EYE,ANI_E_LAUGH,1)
	ChangeSubAnimation("Ricotta",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Ricotta",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Ricotta")
	SetChrInfoFlag( "Ricotta" , INFOFLAG_NOCHRATARI)

	//アリスン
	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison",19.45f,-1484.79f,4.10f)
	Turn("Alison",25.00f,360.0f)
	ChangeAnimation( "Alison" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Alison")
	SetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI)

	//エアラン
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 20.98f, -1485.60f, 3.97f)
	Turn("Aaron", 35.89f, 360.0f)
	ChangeAnimation( "Aaron" , "ANI_EV_UDEGUMI", -1 , 1 )
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Aaron")
	SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI)

	//ドギ
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 16.44f, -1486.12f, 3.77f)
	Turn("Dogi", -21.33f, 360.0f)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dogi")
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI)

	//カトリーン
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Katrin", 18.36f, -1485.18f, 4.00f)
	Turn("Katrin", 26.71f, 360.0f)
	ChangeAnimation( "Katrin" , "ANI_EV_UDEGUMI", -1 , 1 )
	ChangeSubAnimation("Katrin",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Katrin",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Katrin",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Katrin")
	SetChrInfoFlag( "Katrin" , INFOFLAG_NOCHRATARI)

	//タナトス
	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Thanatos", 17.46f, -1485.46f, 3.92f)
	Turn("Thanatos", 7.11f, 360.0f)
	ChangeAnimation( "Thanatos" , "ANI_EV_RYOTEKOSI", -1 , 1 )
	ChangeSubAnimation("Thanatos",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Thanatos",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Thanatos",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Thanatos")
	SetChrInfoFlag( "Thanatos" , INFOFLAG_NOCHRATARI)

	//ディナ
	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dina", 19.83f, -1486.29f, 3.81f)
	Turn("Dina", 31.43f, 360.0f)
	ChangeAnimation( "Dina" , "ANI_EV_MUNEGASSHOU", -1 , 1 )
	ChangeSubAnimation("Dina",SUBMOT_EYE,ANI_E_LAUGH,1)
	ChangeSubAnimation("Dina",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Dina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dina")
	SetChrInfoFlag( "Dina" , INFOFLAG_NOCHRATARI)

	//クイナ
	SetChrWork("Kuina", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Kuina",18.60f,-1487.25f,3.61f)
	Turn("Kuina",30.53f,360.0f)
	ChangeAnimation( "Kuina" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Kuina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Kuina",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Kuina",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Kuina")
	SetChrInfoFlag( "Kuina" , INFOFLAG_NOCHRATARI)

	//リヒト
	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Licht", 17.88f, -1484.45f, 4.13f)
	Turn("Licht", 9.44f, 360.0f)
	ChangeAnimation( "Licht" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Licht",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Licht")
	SetChrInfoFlag( "Licht" , INFOFLAG_NOCHRATARI)


	//条件次第でいる
	if (FLAG[GF_SUBEV_JOIN_CURRAN2])		// カーラン卿が改めて合流した
	{
		SetChrWork("Curran", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Curran", 19.06f, -1485.81f, 3.90f)
		Turn("Curran", 27.44f, 360.0f)
		ChangeAnimation("Curran", "ANI_EV_RYOTEKOSI", -1, 1)
		ChangeSubAnimation("Curran", SUBMOT_EYE, ANI_E_WAIT, 1)
		ChangeSubAnimation("Curran", SUBMOT_MOUTH, ANI_M_SMILE, 1)
		ChangeSubAnimation("Curran", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		LookReset("Curran")
		SetChrInfoFlag("Curran", INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_AUSTEN] )	// オースティンと合流した
	{
		SetChrWork("Austen", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Austen", 20.04f, -1484.29f, 4.20f)
		Turn("Austen", 31.24f, 360.0f)
		ChangeAnimation( "Austen" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Austen",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Austen",SUBMOT_MOUTH,ANI_M_SMILE,1)
		ChangeSubAnimation("Austen",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Austen")
		SetChrInfoFlag( "Austen" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_MIRALDA] )			// ミラルダと合流した
	{
		SetChrWork("Miralda", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Miralda", 19.84f, -1485.35f, 4.00f)
		Turn("Miralda", 39.11f, 360.0f)
		ChangeAnimation( "Miralda" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Miralda",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Miralda",SUBMOT_MOUTH,ANI_M_SMILE,1)
		ChangeSubAnimation("Miralda",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Miralda")
		SetChrInfoFlag( "Miralda" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_NIA] )				// シスター・ニアと合流した
	{
		SetChrWork("Nia", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Nia", 21.56f, -1486.56f, 3.80f)
		Turn("Nia", 42.55f, 360.0f)
		ChangeAnimation( "Nia" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Nia",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Nia",SUBMOT_MOUTH,ANI_M_SMILE,1)
		ChangeSubAnimation("Nia",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Nia")
		SetChrInfoFlag( "Nia" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_GRISELDA] )			// グリゼルダと合流した
	{
		SetChrWork("Griselda", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Griselda",18.37f,-1483.41f,4.35f)
		Turn("Griselda",10.21f,360.0f)
		ChangeAnimation( "Griselda" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Griselda",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Griselda",SUBMOT_MOUTH,ANI_M_SMILE,1)
		ChangeSubAnimation("Griselda",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Griselda")
		SetChrInfoFlag( "Griselda" , INFOFLAG_NOCHRATARI)
	}

	//if( FLAG[GF_NPC_5_04_GOTO_HOLLOW] ||		//▼第五部④大空洞へ向かう
	//	FLAG[GF_QUEST_510] == QUEST_SUCCESS )	// 【QS510】故郷の花	クエストを達成した
	if (FLAG[GF_SUBEV_JOIN_ED])			// エドと合流した	
	{
		SetChrWork("Ed", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Ed",18.88f,-1484.35f,4.18f)
		Turn("Ed",25.00f,360.0f)
		ChangeAnimation( "Ed" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Ed",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Ed",SUBMOT_MOUTH,ANI_M_SMILE,1)
		ChangeSubAnimation("Ed",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Ed")
		SetChrInfoFlag( "Ed" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_FRANZ] )				// フランツと合流した
	{
		SetChrWork("Franz", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Franz", 20.25f, -1487.04f, 3.68f)
		Turn("Franz", 46.97f, 360.0f)
		ChangeAnimation( "Franz" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Franz",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Franz",SUBMOT_MOUTH,ANI_M_SMILE,1)
		ChangeSubAnimation("Franz",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Franz")
		SetChrInfoFlag( "Franz" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_REJA] )				// レーヤと合流した
	{
		SetChrWork("Reja", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Reja",18.10f,-1486.67f,3.71f)
		Turn("Reja",28.94f,360.0f)
		ChangeAnimation( "Reja" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Reja",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Reja",SUBMOT_MOUTH,ANI_M_SMILE,1)
		ChangeSubAnimation("Reja",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Reja")
		SetChrInfoFlag( "Reja" , INFOFLAG_NOCHRATARI)
	}

	if( FLAG[GF_SUBEV_JOIN_SILVIA] )			// シルヴィアと合流した
	{
		SetChrWork("Silvia_2", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Silvia_2", 17.00f, -1484.82f, 4.05f)
		Turn("Silvia_2", -8.45f, 360.0f)
		ChangeAnimation( "Silvia_2" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Silvia_2",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Silvia_2",SUBMOT_MOUTH,ANI_M_SMILE,1)
		ChangeSubAnimation("Silvia_2",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Silvia_2")
		SetChrInfoFlag( "Silvia_2" , INFOFLAG_NOCHRATARI)
	}

//	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrWork("Laxia", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrWork("Ed", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrWork("Kuina", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrWork("Dana", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrWork("Ricotta", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrWork("Hummel", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrWork("Reja", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrWork("Silvia", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrWork("Franz", CWK_DEFAULT_SKIPNODE_OFF, 1)
//	SetChrWork("Curran", CWK_DEFAULT_SKIPNODE_OFF, 1)

	MapAnime("Shipyard", "Lv8")	// Lv8			260-261[E]	脱出船が完成し桟橋がかかった状態です。

	// Redmine #28060 対応
	if (FLAG[GF_QS602_PRESENT_KASHU]) {		// カシュー：▼プレゼントイベント を見た
		MapHide("plate_lombar", 1)
	}

	//カメラ設定
	MoveCameraAt( 0 , 15.128f , -1502.318f , 5.175f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 7.503f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.302f , 0 )	// 基本仰角
	RotateCamera( 0 , 20.148f , 0 )				// 角度
	ChangeCameraPers( 0 , 51.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 4.000, 120.000 ,1.000 ,0.700 ,0.600)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_602_Complete_ED")

//開始処理ここまで-----------------------------------------------

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE,  19.131f , -1495.607f , 5.175f, 140)		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 7.503f, 140)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE,  -9.042f , 140)		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE,  33.493f, 140)		// 角度
//	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE, 39.000f, 140)		// 視野角

//	MoveCameraAt( 0 , 19.131f , -1495.607f , 5.175f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 7.503f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , -9.042f , 0 )	// 基本仰角
//	RotateCamera( 0 , 33.493f , 0 )				// 角度
//	ChangeCameraPers( 0 , 51.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	StopBGM(150)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	PlayBGM(BGM_EVENT_003, 0)

	//　　ＮＰＣたちが集まってきて

	ExecuteFunc(100, "mp1201:QS_602_Ship_Movie")


	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cこうして漂流村をあげての進水式が始まった。\p"
		"進水式2行目"
		"#7Cまるでお祭りのような騒ぎの中──"
		"#7C伝統にのっとった式が進められていく。"
	}
	WaitPrompt()
	WaitCloseWindow()


	//	みんなの前で船を紹介するようなアドル、
	//	書類をもち、読み上げるようなカシュー。
	CrossFade(FADE_FAST)
	StopThread(100)

	MoveCameraAt( 0 , 17.176f , -1488.774f , 4.679f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.501f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 17.189f , 0 )	// 基本仰角
	RotateCamera( 0 , 107.606f , 0 )				// 角度
	ChangeCameraPers( 0 , 49.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(FADE_FAST)


	Turn("ADOL", -76.93f, 8.0f)
	Look("ADOL", 30.00f, 20.00f)
	Wait(20)

	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_S, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)

	ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	Wait(50)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)


	//────────────────────
	//	⇒カシューのプレゼントイベントをやっている場合
	if (FLAG[GF_QS602_PRESENT_KASHU])	//カシュー：▼プレゼントイベント を見た
	{

		//　　カシューが読み上げているカメラカットを１つ入れる。

		ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE , 16.870f , -1488.712f , 5.473f , 160 )		// 注視点
		ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.391f , 160 )		// 基本距離
		ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.387f , 160 )		// 基本仰角
		ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 148.576f ,  160 )		// 角度
	//	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE ,0.0f, 130 )		// ロール回転
	//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,39.000f, 130 )		// 視野角

		//MoveCameraAt( 0 , 16.870f , -1488.712f , 5.473f , 0 )	// 注視点
		//ChangeCameraDistance( 0 , 3.391f , 0 )		// 基本距離
		//ChangeCameraElevation( 0 , 7.387f , 0 )	// 基本仰角
		//RotateCamera( 0 , 148.576f , 0 )				// 角度
		//ChangeCameraPers( 0 , 49.000f , 0 )			// 視野角
		//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		//RollCamera( 0 , 0.0f , 0 )				// ロール回転
		// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

		Wait(60)

		//	ナレーション
		TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0)
		{
			"#7Cカシューは合わせて命名式を行った。"
			"#7C船名は『ロンバルディアⅡ世号』。"
		}
		WaitPrompt()
		WaitCloseWindow()

		Wait(20)

		WaitThread(1000)
		WaitThread(1001)

		CrossFade(FADE_CROSS)
		MoveCameraAt(0, 16.180f, -1489.274f, 4.431f, 0)	// 注視点
		ChangeCameraDistance(0, 4.101f, 0)		// 基本距離
		ChangeCameraElevation(0, 6.326f, 0)	// 基本仰角
		RotateCamera(0, 110.846f, 0)				// 角度
		ChangeCameraPers(0, 49.000f, 0)			// 視野角
		SetCameraZPlane(0.100f, 300.000f)			// ZPlane
		RollCamera(0, 0.0f, 0)				// ロール回転
		Wait(FADE_CROSS)
	}
	//────────────────────

	LookReset("ADOL")
	Turn("ADOL", -135.71f, 8.0f)

	HeadYes("Kashu", 1, 25)
	ChangeSubAnimation("Kashu", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Kashu", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(15)
	ChangeAnimation("Kashu", "ANI_EV_TEBURI", -1, 1)
	ChangeSubAnimation("Kashu", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	SetChrWork("Kashu", CWK_FORCELIPSYNC, 1)
	Wait(30)
	SetChrWork("Kashu", CWK_FORCELIPSYNC, 0)
	Wait(30)

	//　　進水式を見守る無言劇。	
//	CrossFade(FADE_NORMAL)
//	SetChrWork("Kashu", CWK_FORCELIPSYNC, 0)
//	MoveCameraAt(0, 18.382f, -1485.824f, 5.820f, 0)	// 注視点
//	ChangeCameraDistance(0, 4.101f, 0)		// 基本距離
//	ChangeCameraElevation(0, 18.130f, 0)	// 基本仰角
//	RotateCamera(0, 9.509f, 0)				// 角度
//	ChangeCameraPers(0, 49.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
//
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 18.359f, -1487.350f, 4.530f, 135)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 13.415f, 135)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 328.186f, 135)		// 角度
//
//	Wait(100)
//	EmotionEx("Kashu", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	// ワイワイ
//	Wait(50)
//
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//
//	ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_LAUGH_S, 1)
//	ChangeSubAnimation("Kuina", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)
//	EmotionEx("Kuina", 0.00f, EMO_ONPU, 0, 5, 1, 1, 1.0f)	//EMO_PIKA
//	Wait(55)

	CrossFade(FADE_CROSS)
	
	//スキップノードをONにした状態にする
//	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 0)
//	SetChrWork("Laxia", CWK_DEFAULT_SKIPNODE_OFF, 0)
//	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 0)
//	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 0)
//	SetChrWork("Ed", CWK_DEFAULT_SKIPNODE_OFF, 0)
//	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 0)
//	SetChrWork("Kuina", CWK_DEFAULT_SKIPNODE_OFF, 0)
//	SetChrWork("Dana", CWK_DEFAULT_SKIPNODE_OFF, 0)
//	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 0)
//	SetChrWork("Ricotta", CWK_DEFAULT_SKIPNODE_OFF, 0)
//	SetChrWork("Hummel", CWK_DEFAULT_SKIPNODE_OFF, 0)
//	SetChrWork("Reja", CWK_DEFAULT_SKIPNODE_OFF, 0)
//	SetChrWork("Silvia", CWK_DEFAULT_SKIPNODE_OFF, 0)

	MoveCameraAt(0, 19.396f, -1488.259f, 4.629f, 0)	// 注視点
	ChangeCameraDistance(0, 3.701f, 0)		// 基本距離
	ChangeCameraElevation(0, 6.756f, 0)	// 基本仰角
	RotateCamera(0, 37.452f, 0)				// 角度
	ChangeCameraPers(0, 43.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	Wait(FADE_CROSS)

	Wait(5)

	ChangeSubAnimation("Kashu", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	LookChr("Kashu", "Laxia")
	ChangeAnimation("Kashu", "ANI_EV_TEBURI", -1, 1)
	WaitAnimation2( "Kashu" , -1, 1, "ANI_EV_TEBURI",  0)
	
	// （ラクシャ）うなずき
	HeadYes("Laxia", 1, 25)
	ChangeSubAnimation("Laxia", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Laxia", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(15)
	TurnTo("Laxia",18.75f, -1490.36f, 2.98f,8.0f)
	ExecuteCmd(1, MoveTo, "Laxia", 18.75f, -1490.36f, 2.98f, 0.1f, 0.16f)
	Turn("Kashu", -86.70f, 8.0f)
	Wait(10)
	Turn("ADOL", -112.70f, 8.0f)
	LookChr("ADOL", "Laxia")
	Wait(20)

//	//　　船首に立って、入れ物に入れた発酵樹液を撒くラクシャ。
//	CrossFade(FADE_NORMAL)
//	MoveCameraAt( 0 , 12.134f , -1513.167f , 7.825f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.100f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 16.061f , 0 )	// 基本仰角
//	RotateCamera( 0 , 6.491f , 0 )				// 角度
//	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//
//	SetChrPos("Laxia",11.30f,-1509.67f,5.64f)
//	Turn("Laxia",-26.97f,360.0f)
//	WaitFade()
////	ChangeAnimation( "Laxia", "発酵樹液を撒く", -1, 1 )
////	WaitAnimation2( "Laxia" , -1, 1, "発酵樹液を撒く",  0)

	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	StopThread(1000)
	StopThread(1001)
	StopThread(1)
	ChangeAnimation("Laxia", "ANI_WAIT", -1, 1)	//ラクシャの足音を止めるための処置

	Wait(20)

//	暗転中に、ばしゃっと発酵樹液がまかれるＳＥがする。"

	PlaySE(SE_QS_602_01, 100, 0, 0, 0, 1.0f, 0)
	Wait(30)

	//非表示
//	SetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)
//	SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)
//	SetChrInfoFlag("Alison", INFOFLAG_INVISIBLE)
//	SetChrInfoFlag("Dina", INFOFLAG_INVISIBLE)
//	SetChrInfoFlag("Licht", INFOFLAG_INVISIBLE)
//	SetChrInfoFlag("Kuina", INFOFLAG_INVISIBLE)
//	SetChrInfoFlag("Dana", INFOFLAG_INVISIBLE)
//	SetChrInfoFlag("Griselda", INFOFLAG_INVISIBLE)
//	SetChrInfoFlag("Ricotta", INFOFLAG_INVISIBLE)
//	SetChrInfoFlag("Ed", INFOFLAG_INVISIBLE)
//	SetChrInfoFlag("Franz", INFOFLAG_INVISIBLE)
//	SetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)
//	SetChrInfoFlag("Hummel", INFOFLAG_INVISIBLE)
//	SetChrInfoFlag("Reja", INFOFLAG_INVISIBLE)


	//　　ドギとサハドが両側でしゃがんで、船体のストッパーを外すような無言劇。
	MoveCameraAt(0, 6.402f, -1505.688f, 4.142f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 13.580f, 0)	// 基本仰角
	RotateCamera(0, 304.894f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetChrPos("Sahad", 13.69f, -1509.99f, 3.92f)
	Turn("Sahad", 140.65f, 360.0f)

	SetChrPos("Dogi",6.82f,-1510.07f,3.97f)
	Turn("Dogi",-116.95f,360.0f)
//	ChangeAnimation( "Dogi" , "ANI_EV_SHAGAMI", -1 , 1 )

	SetChrPos("Laxia", 19.64f, -1487.34f, 3.61f)
	Turn("Laxia", 42.56f, 360.0f)

	SetChrPos("Kuina",17.05f,-1503.03f,4.00f)
	Turn("Kuina",55.51f,360.0f)
	ChangeAnimation( "Kuina" , "ANI_EV_RYOTEKOSI", -1 , 1 )

	SetChrPos("Alison",7.16f,-1498.91f,4.03f)
	Turn("Alison",-51.98f,360.0f)
	ChangeAnimation( "Alison" , "ANI_EV_RYOTESIRI", -1 , 1 )


	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 6.888f, -1509.763f, 4.861f, 150)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 332.088f, 150)		// 角度

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	ChangeAnimation( "Dogi" , "ANI_EV_HOHOKAKI", -1 , 1 )
	Wait(40)
	Look("Dogi", 0.00f, 20.00f)
	ChangeAnimation("Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1)

	WaitThread(1000)
	WaitThread(1001)

	Wait(10)

	CrossFade(FADE_NORMAL)

	//再表示
	ResetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Alison", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Dina", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Licht", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Kuina", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Dana", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Griselda", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Ricotta", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Ed", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Franz", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Hummel", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Reja", INFOFLAG_INVISIBLE)

	MoveCameraAt( 0 , 12.456f , -1510.711f , 5.779f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 13.138f , 0 )	// 基本仰角
	RotateCamera( 0 , 13.524f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 12.731f, -1508.902f, 5.283f, 150)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 62.181f, 150)		// 角度
	Wait(30)
	ChangeAnimation("Sahad", "ANI_EV_TEWATASI_S", -1, 1)
	Wait(30)
	ChangeAnimation("Sahad", "ANI_EV_TEWATASI_E", -1, 1)
	Wait(30)
	HeadYes("Sahad", 1, 25)
	ChangeAnimation("Dogi", "ANI_EV_UDEGUMI_S", -1, 1)
	WaitThread(1000)
	WaitThread(1001)

	//　　暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	ResetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Alison", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Dina", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Licht", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Kuina", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Dana", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Griselda", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Ricotta", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Ed", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Franz", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Thanatos", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Hummel", INFOFLAG_INVISIBLE)
	ResetChrInfoFlag("Reja", INFOFLAG_INVISIBLE)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7C船体には発酵樹液が景気よく掛けられ、"
		"#7Cそして──2"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ばしゃ……と船が進水するＳＥがする。
	PlaySE(SE_QS_602_02, 80, 0, 500, 0, 1.0f, 0)
	PlaySE(SE_QS_602_03, 50, 0, 500, 0, 1.0f, 0)
	Wait(80)

	//　　フェードインして、水上に浮いている脱出船。
	MapAnime( "Shipyard" , "Lv9" )	// Lv9			270-271[E]	脱出船が桟橋停泊の状態です。

	MoveCameraAt(0, 3.006f, -1509.551f, 11.302f, 0)	// 注視点
	ChangeCameraDistance(0, 3.080f, 0)		// 基本距離
	ChangeCameraElevation(0, 30.813f, 0)	// 基本仰角
	RotateCamera(0, 291.776f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	SetChrPos("Sahad",20.26f,-1488.48f,3.40f)
	Turn("Sahad",46.64f,360.0f)
	ChangeAnimation( "Sahad" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Sahad", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("Sahad", SUBMOT_MOUTH, ANI_M_SMILE, 1)

	ChangeSubAnimation("Laxia", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("Laxia", SUBMOT_MOUTH, ANI_M_SMILE, 1)

	LookReset("Dogi")
	SetChrPos("Dogi", 16.72f, -1486.60f, 3.69f)
	Turn("Dogi", -7.96f, 360.0f)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	//ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_LAUGH, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_SMILE, 1)

	SetChrPos("ADOL", 8.45f, -1536.65f, 2.50f)
	Turn("ADOL", 51.69f, 360.0f)
	ChangeAnimation("ADOL", "ANI_EV_SHAGAMI", -1, 1)
	LookReset("ADOL")

	SetChrPos("Kashu", 8.05f, -1538.30f, 2.50f)
	Turn("Kashu", 74.61f, 360.0f)
	ChangeAnimation("Kashu", "ANI_EV_SIAN", -1, 1)

	SetChrPos("Alison",19.45f,-1484.79f,4.10f)
	Turn("Alison",25.00f,360.0f)
	ChangeAnimation( "Alison" , "ANI_WAIT", -1 , 1 )

	SetChrPos("Kuina",18.60f,-1487.25f,3.61f)
	Turn("Kuina",30.53f,360.0f)
	ChangeAnimation( "Kuina" , "ANI_WAIT", -1 , 1 )

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 0.833f, -1546.568f, 8.450f, 180)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 18.333f, 180)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 332.363f, 180)		// 角度

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	
	Wait(20)

	//　　アドルとカシューが船上に乗っており、帆の調整をするような無言劇。
	CrossFade(FADE_FAST)
	MoveCameraAt( 0 , 9.005f , -1535.215f , 4.034f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.080f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 15.545f , 0 )	// 基本仰角
	RotateCamera( 0 , 112.272f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 9.263f , -1535.844f , 4.034f, 80)		// 注視点
//	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 112.273f, 130)		// 角度

//	MoveCameraAt( 0 , 9.263f , -1535.844f , 4.034f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 3.080f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 15.545f , 0 )	// 基本仰角
//	RotateCamera( 0 , 112.273f , 0 )				// 角度
//	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(30)

	ChangeAnimation("Kashu", "ANI_EV_SIAN_E", -1, 1)
	WaitAnimation2("Kashu", -1, 1, "ANI_EV_SIAN_E", 0)
	LookReset("Kashu")
	Turn("Kashu", -161.49f, 10.0f)

	LookReset("ADOL")
	ChangeAnimation("ADOL", "ANI_EV_SHAGAMI_E", -1, 1)
	WaitAnimation2("ADOL", -1, 1, "ANI_EV_SHAGAMI_E", 0)
	Turn("ADOL", -163.19f, 10.0f)
	Wait(20)

	
	ChangeAnimation( "ADOL" , "ANI_EV_GUTSPOSE_S", -1 , 1 )
	ChangeAnimation( "Kashu" , "ANI_EV_RYOTEKOSI_S", -1 , 1 )

	WaitAnimation2( "ADOL" , -1, 1, "ANI_EV_GUTSPOSE_S",  0)
	WaitAnimation2( "Kashu" , -1, 1, "ANI_EV_RYOTEKOSI_S",  0)
	Wait(15)

	//　　その後人々に向いて、恭しく礼をする。	
	CrossFade(FADE_NORMAL)
	StopThread(1000)
	StopThread(1001)

	MoveCameraAt(0, 8.613f, -1537.473f, 4.357f, 0)	// 注視点
	ChangeCameraDistance(0, 3.079f, 0)		// 基本距離
	ChangeCameraElevation(0, 6.058f, 0)	// 基本仰角
	RotateCamera(0, 17.492f, 0)				// 角度
	ChangeCameraPers(0, 50.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 9.599f, -1534.555f, 4.357f, 80)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 348.045f, 80)		// 角度

	WaitThread(1000)
	WaitThread(1001)

	//　　それを見て、大歓喜する漂流者たち。
	ChangeSubAnimation("Curran", SUBMOT_EYE, ANI_E_LAUGH, 1)
	ChangeSubAnimation("Curran", SUBMOT_MOUTH, ANI_M_SMILE, 1)
	ChangeAnimation("Curran", "ANI_EV_UDEGUMI", -1, 1)

	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_LAUGH, 1)
	ChangeSubAnimation("Licht", SUBMOT_MOUTH, ANI_M_SMILE, 1)


	//────────────────────
	//	⇒レーヤがいる
	if( FLAG[GF_SUBEV_JOIN_REJA] )				// レーヤと合流した
	{
		CrossFade(FADE_CROSS)

		MoveCameraAt( 0 , 18.805f , -1486.336f , 4.927f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 3.379f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , -7.153f , 0 )	// 基本仰角
		RotateCamera( 0 , 301.760f , 0 )				// 角度
		ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , 0.0f , 0 )				// ロール回転
		// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

		Wait(FADE_CROSS)

		ChangeAnimation("Reja", "ANI_EV_RYOTEKOSI_S", -1, 1)

		TalkPopup("Reja",0,0,0,0,0)
		{
			"#080e#080mす、すげー……っ！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	CrossFade(FADE_CROSS)

	MoveCameraAt(0, 19.908f, -1486.351f, 5.349f, 0)	// 注視点
	ChangeCameraDistance(0, 3.079f, 0)		// 基本距離
	ChangeCameraElevation(0, 0.761f, 0)	// 基本仰角
	RotateCamera(0, 335.933f, 0)				// 角度
	ChangeCameraPers(0, 35.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	Wait(FADE_CROSS)
	ChangeAnimation("Aaron", "ANI_EV_UDEGUMI_TEBURI", -1, 1)
	TalkPopup("Aaron",0,0,0,0,0)
	{
		"#080e#080m見ろ……　船だぜ……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Dina",0,0,0,0,0)
	{
		"#060e#080mぐすっ……夢じゃないわよね……"
		"あたしたち、本当に……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , 18.493f , -1485.522f , 5.523f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.059f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.200f , 0 )	// 基本仰角
	RotateCamera( 0 , 0.599f , 0 )				// 角度
	ChangeCameraPers( 0 , 41.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	Wait(FADE_CROSS)

	TalkPopup("Katrin",0,0,0,0,0)
	{
		"#080e#080mええ……あとは"
		"この事態を乗り切るだけよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Alison" , "ANI_EV_TEMUNE_S", -1 , 1 )
//	LookChr("Alison", "Ed")
	TalkPopup("Alison", 0, 0, 0, 0, 0)
	{
		"#011e#080m私、まだまだ"
		"頑張れる気がします……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Thanatos",0,2,0,0,0)
	{
		"#011e#080mうむ、わしも"
		"沸々と力が湧いて来たわい！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Alison")
	LookReset("Ed")

	CrossFade(FADE_CROSS)
	ChangeAnimation("Sahad", "ANI_WAIT", -1, 1)
	ChangeAnimation("Laxia", "ANI_WAIT", -1, 1)
	ChangeAnimation("Ricotta", "ANI_WAIT", -1, 1)
	ChangeAnimation("Franz", "ANI_WAIT", -1, 1)
	ChangeAnimation("Licht", "ANI_WAIT", -1, 1)
	ChangeAnimation("Kuina", "ANI_WAIT", -1, 1)
	ChangeAnimation("Ed", "ANI_WAIT", -1, 1)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)

	ChangeAnimation("Alison", "ANI_WAIT", -1, 1)
	ChangeAnimation("Miralda", "ANI_WAIT", -1, 1)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)

	ChangeAnimation("Kashu", "ANI_WAIT", -1, 1)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	LookReset("Kashu")
	LookReset("ADOL")
	
	ChangeSubAnimation("Dina",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
	
	MoveCameraAt( 0 , 17.733f , -1488.025f , 5.002f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.069f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -8.944f , 0 )	// 基本仰角
	RotateCamera( 0 , 316.568f , 0 )				// 角度
	ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeAnimation("Dogi", "ANI_EV_GUTSPOSE_S", -1, 1)
	Wait(FADE_CROSS)

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#080e#080mうっしゃあ、みんな！"
		"絶対にもちこたえてやろうぜッ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Sahad", "ANI_EV_GUTSPOSE_S", -1, 1)
	ChangeAnimation("Laxia", "ANI_EV_GUTSPOSE_S", -1, 1)
	ChangeAnimation("Ricotta", "ANI_EV_GUTSPOSE_S", -1, 1)
	ChangeAnimation("Franz", "ANI_EV_GUTSPOSE_S", -1, 1)
	ChangeAnimation("Licht", "ANI_EV_GUTSPOSE_S", -1, 1)
	ChangeAnimation("Kuina", "ANI_EV_GUTSPOSE_S", -1, 1)
	ChangeAnimation("Ed", "ANI_EV_GUTSPOSE_S", -1, 1)
	ChangeAnimation("Thanatos", "ANI_EV_GUTSPOSE_S", -1, 1)

	ChangeAnimation("Alison", "ANI_EV_GUTSPOSE_S", -1, 1)
	ChangeAnimation("Miralda", "ANI_EV_GUTSPOSE_S", -1, 1)
	ChangeAnimation("Aaron", "ANI_EV_GUTSPOSE_S", -1, 1)
	Wait(8)
	EarthQuake(0.05,0.05,7)
	SetName("みんな")
	TalkPopup(UNDEF,0,3,240,60,0)
	{
		"#18Sおおーっ！！"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")
	
	Wait(15)

	//　　カメラを切り替えてアドルとカシュー。	
	CrossFade(FADE_CROSS)

	SetChrPos("Katrin", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Laxia", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Aaron", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Alison", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Dogi", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Sahad", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Licht", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Kuina", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Dina", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Miralda", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Nia", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Griselda", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Ricotta", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Ed", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Franz", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Thanatos", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Hummel", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Reja", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Silvia", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Curran", -100000.00f, 0.00f, 0.00f)

	MoveCameraAt( 0 , 8.615f , -1537.112f , 3.935f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.888f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -5.299f , 0 )	// 基本仰角
	RotateCamera( 0 , 140.533f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(10)

	Look("Kashu", -20.00f, 20.00f)

	//　　カシューは涙を拭っている。
//	ChangeAnimation( "Kashu", "涙を拭っている", -1, 1 )
//	WaitAnimation2( "Kashu" , -1, 1, "涙を拭っている",  0)

	TalkPopup("Kashu",0,0,0,0,0)
	{
		"#061e#000mううっ……本当に良かった……"
	}
	WaitPrompt()
	WaitCloseWindow()

	TurnToChr("ADOL", "Kashu", 8.0f)
	LookChr( "ADOL", "Kashu" )

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"やっとここまで来たな")
	MenuAdd(2,"これからが正念場さ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	ChangeAnimation("ADOL", "ANI_EV_TEBURI_L", -1, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	//────────────────────
	//	⇒やっとここまで来たな
	if (FLAG[TF_MENU_SELECT] == 1)
	{

		HeadYes("Kashu", 1, 25)

		TalkPopup("Kashu",0,0,0,0,0)
		{
			"#010e#000mああ、そうだな……"
			"ここでくじけるわけにはいかない。\p"
			"#012e船長の遺志に報いるためにも。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒これからが正念場さ
	else if (FLAG[TF_MENU_SELECT] == 2)
	{

		HeadYes("Kashu", 1, 25)
		TalkPopup("Kashu",0,0,0,0,0)
		{
			"#010e#000mああ、そうだな…… "
			"ここで踏ん張らなくちゃ、全部水の泡だ。\p"
			"#012e必ず……必ず乗り越えてみせる……！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	//　　カシュー、改めてアドルに向く。
	ChangeAnimation("Kashu", "ANI_EV_RYOTEBURI", -1, 1)
	LookChr("Kashu", "ADOL")

	TalkPopup("Kashu",0,0,0,0,0)
	{
		"#080e#080mアドル、今まで本当にありがとう。\p"
		"やっとロンバルディアの船員として"
		"１つ勤めを果たせたよ。\p"
		"#011e……きっとあと少しだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitAnimation2( "Kashu" , -1, 1, "ANI_EV_RYOTEBURI",  0)

	ChangeAnimation("Kashu", "ANI_EV_GUTSPOSE_S", -1, 1)
	PlayVoice(Y8V_5016, "Kashu", 100)	//よーし！（前向き）
	TalkPopup("Kashu", 0, 0, 0, 0, 0)
	{
		"#012e#000m改めて、最後までよろしく頼む……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　しっかりとうなずくアドル。
	HeadYes("ADOL" , 1 , 25)
	Wait(40)

	StopBGM(120)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	//　　フェードアウトする。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【白酒の調達】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒好感度が一段階上がる場合
	if( FLAG[GF_LIKELV_KASHU] < 1 )
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cカシューの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cカシューの好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	//	アイテム入手テキスト
	GetItemMessageExPlus(ICON3D_US_DRAGONFRUIT_S, 5, ITEMMSG_SE_JINGLE, "を受け取った。17", 0, 0)		// 竜樹の宝果×５
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_602_Complete_ED")
}
function "QS_602_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//アドル以外のキャラ全てを画面外に移動
	SetChrPos( "Dana",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Sahad",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Laxia",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Hummel",	-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Ricotta",	-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Alison",	-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Aaron",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Dogi",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Katrin",	-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Austen",	-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Thanatos",	-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Dina",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Kuina",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Licht",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Curran",	-100000.00f , 0.00f ,0.00f )
	
	SetChrPos( "Miralda",	-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Nia",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Kashu",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Griselda",	-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Ed",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Franz",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Reja",		-100000.00f , 0.00f ,0.00f )
	SetChrPos( "Silvia_2",	-100000.00f , 0.00f ,0.00f )

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_NPCALL")
	SetChrWork("Kashu", CWK_FORCELIPSYNC, 0)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_QUEST_602, QUEST_SUCCESS )		// 【QS602】白酒の調達（カシュー）　クエストを達成した
	GetItem( ICON3D_US_DRAGONFRUIT_S, 5 )		// 『竜樹の宝果×５』
	DeleteItem( ICON3D_FERMENTATION_SAP, 3 )	// 発酵樹液×３
	SetFlag( GF_LIKELV_KASHU, ( FLAG[GF_LIKELV_KASHU] + 1 ) )	// 好感度ＵＰ
	SetFlag( TF_KASHU_QS_TALK2, 1 )				//クエスト達成直後の会話用
	//SetFlag( GF_SHIPYARD_LV , 8 )					// 漂流村の発展設定：造船所LV8
	SetFlag(GF_CAMP_SHIPYARD_LV, 9)					// 漂流村の発展設定：造船所LV9
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS602】白酒の調達（カシュー）	名声値+1
	SetDiaryFlag( DF_QS602_END, 1 )				// 【QS602】★カシューに醗酵樹液を渡し、
//	if( FLAG[GF_QS602_PRESENT_KASHU] )	//カシュー：▼プレゼントイベント を見た
//	{
//		//SetDiaryCharaFlag( DRCHA_KASHU, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（カシュー）	◆メモの内容からプレゼントを渡してある時のみ開封するように処理してあります
//	}

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",20.77f,-1488.99f,3.31f)
	Turn("LEADER",49.21f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetEnvSEPlayState(-1, 1)	//環境SE

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

//　無言劇
function "QS_602_Ship_Movie"
{
	while(1)
	{
		Wait(10)
		EmotionEx("Reja", 0.00f, EMO_WAI, 0, 5, 1, 0, 2.3f)	//パッ メイン

		EmotionEx("Licht", 0.00f, EMO_WAI, 0, 5, 1, 0, 2.3f)	//パッ メイン
		Wait(30)
		EmotionEx("Dogi", 0.00f, EMO_WAI, 0, 5, 1, 0, 2.3f)	//パッ メイン

		EmotionEx("Thanatos", 0.00f, EMO_WAI, 0, 5, 1, 0, 2.3f)	//ワイワイ メイン
		Wait(20)
		EmotionEx("Ricotta", 0.00f, EMO_WAI, 0, 5, 1, 0, 2.3f)	//ワイワイ メイン

		Wait(20)

		EmotionEx("Ed", 0.00f, EMO_WAI, 0, 5, 1, 0, 2.3f)	//ワイワイ
		Wait(20)
		EmotionEx("Dina", 0.00f, EMO_ONPU, 0, 5, 1, 0, 2.3f)	//パッ メイン
		Wait(20)
		EmotionEx("Austen", 0.00f, EMO_WAI, 0, 5, 1, 0, 2.3f)	//ワイワイ
		Wait(30)
		EmotionEx("Miralda", 0.00f, EMO_WAI, 0, 5, 1, 0, 2.3f)	//ワイワイ
		Wait(20)
		EmotionEx("Nia", 0.00f, EMO_WAI, 0, 5, 1, 0, 2.3f)	//ワイワイ

		EmotionEx("Sahad", 0.00f, EMO_WAI, 0, 5, 1, 0, 2.3f)	//ワイワイ
	}
}
//===============================================================
//
// 【QS611】老いらくの剣（シルヴィア）
// ▼クエスト開始イベント
//
function "QS_611_Start"
{
	//　　画面暗転を挟んで、浜辺の高台。
	//　　シルヴィアの前にアドルが立っている。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む			老婆だったら戦士に差し替え
	if (FLAG[GF_SUBEV_SILVIA_MODE] == 0) {	// シルヴィアの状態 0=老婆 1=戦士
		SetChrID( "Silvia", "Silvia_1")
		SetChrID( "Silvia_2", "Silvia") // 戦士
		LoadChr("Silvia")
	}

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -13.25f, -1514.25f, 7.88f)
	Turn("ADOL", 17.56f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr( "ADOL", "Silvia" )

	SetChrWork("Silvia", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Silvia",-13.71f, -1515.46f, 7.89f)
	Turn("Silvia", -7.53f, 360.0f)
	ChangeAnimation( "Silvia" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Silvia",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Silvia",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Silvia",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Silvia")

	Turn("Silvia", -160.81f, 360.0f)
	LookChr("Silvia", "ADOL")

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
//	MoveCameraAt(0, -14.258f, -1512.459f, 9.392f, 0)	// 注視点
//	ChangeCameraDistance(0, 2.069f, 0)		// 基本距離
//	ChangeCameraElevation(0, -0.235f, 0)	// 基本仰角
//	RotateCamera(0, 198.792f, 0)				// 角度
//	ChangeCameraPers(0, 30.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , -13.387f , -1515.074f , 9.392f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.184f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.614f , 0 )	// 基本仰角
	RotateCamera( 0 , 194.135f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_611_Start_ED")

//開始処理ここまで-----------------------------------------------

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -13.666f, -1514.068f, 9.342f, 100)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, -0.235f, 100)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 190.810f, 100)		// 角度
	Wait(10)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	Wait(FADE_NORMAL)

//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)

//	Turn("Silvia", -160.81f, 8.0f)
//	LookChr("Silvia", "ADOL")
//	Wait(15)

	ChangeAnimation("Silvia", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("Silvia",0,2,0,0,0)
	{
		"#080e#080mふむ、ここへ来てまた随分と"
		"いい顔をするようになったもんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()


	//　　シルヴィアに「…」エモーション。
	ChangeSubAnimation("Silvia", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	EmotionEx("Silvia", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(52)


	TalkPopup("Silvia",0,2,0,0,0)
	{
		"#012e#000mお前さんたちを見ていると……\p"
		"その力を直接試してみたいって気持ちが"
		"どんどん膨らんできちまってね。\p"
		"#011e#000m獣の脅威は相変わらずだが……"
		"手空きの時間がないわけじゃあない。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Silvia", "ANI_EV_UDEGUMI_E", -1, 1)
	TalkPopup("Silvia", 0,2, 0, 0, 0)
	{

		"#012eどうか稽古だと思って、"
		"アタシと手合わせしてくれないかい。\p"
		"#000e#000mアドル、お前さんを含めた"
		"３人といっぺんに。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルに「！」エモーション。
	EmotionEx("ADOL", 0.015f, EMO_EX, 0, 5, 1, 1, 0.75f)	//！
	Wait(40)

	ChangeAnimation("Silvia", "ANI_EV_RYOTEBURI", -1, 1)

	TalkPopup("Silvia", 0, 2, 0, 0, 0)
	{
		"#080e#080mおっと、勘違いしないでおくれ。\p"
		"別にお前さんたちの力を、"
		"侮ってるってわけじゃあないんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()


	ChangeAnimation("Silvia", "ANI_EV_UDEGUMI_S", -1, 1)

	TalkPopup("Silvia", 0, 2, 0, 0, 0)
	{
		"#011eただアタシはコロセウムで、"
		"一対複数との戦闘に慣れていてねぇ。\p"
		"#000m昔のカンを取り戻す意味でも、"
		"まとめて相手させてもらいたいんだ。\p"
		"#012e#000mま、ともかく考えておいてくれるかい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルが頷く。
	HeadYes("ADOL" , 1 , 25)
	Wait(35)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cクエストを開始すると、その時の"
		"#7C行動メンバー３人で戦闘を行います。\p"
		"#7Cアドルは必須となりますが、"
		"#7C他の２人の組み合わせは自由です。\p"
		"#7C準備を整えたらシルヴィアに"
		"#7C話しかけてください。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒依頼が冒険日誌に未登録の場合
	if( FLAG[GF_QUEST_611] == QUEST_NOTHING )
	{
		PlaySE(SE_QUEST_ADD, 100, 0, 0, 0, 1.0f, 0)		// クエスト追加
		//	システムメッセージ
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#-1W#4C冒険日誌のクエストページに9"
			"#-1W#4Cクエスト#8C【老いらくの剣】#4Cが追加された。#10W" 
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
		
		//	  　※シルヴィアにクエストマーカーを付ける。
	}
	//──────────────────────

	//　　イベント終了、操作許可。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_611_Start_ED")
}
function "QS_611_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	//CallFunc("system:reset_chrmot_Silvia")
	//SetChrPos("Silvia", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Silvia", -100000.00f, 0.00f, 0.00f)

	ChangeSubAnimation("Silvia", SUBMOT_EYE, ANI_E_WAIT, 1)		//c115
	ChangeSubAnimation("Silvia", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Silvia", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	ChangeAnimation("Silvia", "ANI_WAIT", -1, 1)

	//老婆ならIDを戻す
	if (FLAG[GF_SUBEV_SILVIA_MODE] == 0) {	// シルヴィアの状態 0=老婆 1=戦士
		SetChrID( "Silvia", "Silvia_2")
	}

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手
	SetFlag( GF_QUEST_611, QUEST_START )		// 【QS611】老いらくの剣（シルヴィア）　クエスト開始
	SetDiaryFlag( DF_QS611_START, 1 )			// 【QS611】★シルヴィアさんと話した。

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",-12.83f,-1512.65f,7.87f)
	Turn("LEADER",-163.05f,360.0f)
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

//===============================================================
//
// 【QS611】老いらくの剣
// ▼クエスト達成イベント　後の再配置
//
function "QS_611_Complete_Relocate"
{
	
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,FADE_FAST)
	WaitFade()
	//　　※アドルを集会所中央付近に再配置。
	CallFunc("system:event_begin")

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", -12.94f, -1502.73f, 7.83f)
	Turn("LEADER", 105.18f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
}
//===============================================================
//
// 【QS500】脱出船の資材集め（ドギ）
// ▼クエスト達成イベント
//
function "QS_500_Complete"
{
	//　　フェードインして浜辺マップ。
	//　　脱出船の少し手前にアドル、ドギ、タナトス、エアランが居て話し合っている。
	//　　背景ではサハド、カシューが組立作業をやっていてもよさそう。
	//　　奥の方にはこっそりダーナがいてもいい。
	//　　なお脱出船の状態はフラグタイミングによって異なる

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Dogi")
	LoadChr("Aaron")
	//LoadChr("Dana")
	LoadChr("Thanatos")
	CallFunc("system:Load_Kashu_Event")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", 18.94f, -1483.67f, 4.31f)
	Turn("ADOL", 37.91f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("ADOL")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	////ダーナ
	//SetChrWork("Dana", CWK_DEFAULT_SKIPNODE_OFF, 1)
	//SetChrPos("Dana", -3.39f, -1478.67f, 24.63f)
	//Turn("Dana", -24.86f, 360.0f)
	//ChangeAnimation( "Dana" , "ANI_EV_TEMUNE", -1 , 1 )
	//ChangeSubAnimation("Dana",SUBMOT_EYE,ANI_E_WAIT,1)
	//ChangeSubAnimation("Dana",SUBMOT_MOUTH,ANI_M_WAIT,1)
	//ChangeSubAnimation("Dana",SUBMOT_EXT1,ANI_E_LOOKC,1)
	//LookReset("Dana")
	//SetChrInfoFlag( "Dana" , INFOFLAG_NOCHRATARI)
	//SetChrInfoFlag("Dana", INFOFLAG_FLING)	// 高さ無視

	//サハド
	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", 11.44f, -1489.80f, 2.98f)
	Turn("SAHAD", -14.72f, 360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("SAHAD")
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)

	//エアラン
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Aaron", 19.33f, -1485.00f, 4.05f)
	Turn("Aaron", 102.56f, 360.0f)
	ChangeAnimation( "Aaron" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Aaron")
	SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI)

	//ドギ
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", 17.54f, -1485.47f, 3.92f)
	Turn("Dogi", -133.80f, 360.0f)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Dogi")
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI)

	//タナトス
	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Thanatos", 17.94f, -1483.44f, 4.34f)
	Turn("Thanatos", -14.23f, 360.0f)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Thanatos",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Thanatos",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Thanatos",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Thanatos")
	SetChrInfoFlag( "Thanatos" , INFOFLAG_NOCHRATARI)

	if( FLAG[GF_SUBEV_JOIN_KASHU] )				// カシューと合流した
	{
		SetChrWork("Kashu", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Kashu", 18.22f, -1491.70f, 2.72f)
		Turn("Kashu", 44.36f, 360.0f)
		ChangeAnimation( "Kashu" , "ANI_EV_SIAN", -1 , 1 )
		ChangeSubAnimation("Kashu",SUBMOT_EYE,ANI_EV_SIAN,1)
		ChangeSubAnimation("Kashu",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Kashu",SUBMOT_EXT1,ANI_E_LOOKC,1)
		LookReset("Kashu")
		SetChrInfoFlag( "Kashu" , INFOFLAG_NOCHRATARI)
	}

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt(0, 23.522f, -1494.469f, 6.940f, 0)	// 注視点
	ChangeCameraDistance(0, 2.900f, 0)		// 基本距離
	ChangeCameraElevation(0, 7.171f, 0)	// 基本仰角
	RotateCamera(0, 125.438f, 0)				// 角度
	ChangeCameraPers(0, 51.002f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 100.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_500_Complete_ED")

//開始処理ここまで-----------------------------------------------

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 25.654f, -1482.876f, 9.140f, 120)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 16.308f, 120)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 127.347f, 120)		// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	ExecuteFunc(100, "mp1201:QS_500_Complete_Sahad_move")

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	CrossFade(FADE_NORMAL)
	MoveCameraAt(0, 19.360f, -1483.745f, 5.873f, 0)	// 注視点
	ChangeCameraDistance(0, 2.900f, 0)		// 基本距離
	ChangeCameraElevation(0, 12.470f, 0)	// 基本仰角
	RotateCamera(0, 123.657f, 0)				// 角度
	ChangeCameraPers(0, 35.002f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_NORMAL)

	//PlayVoice(Y8V_3568, "Dogi", 100)	//ワッハッハ！

	LookChr("Dogi", "ADOL")
	ChangeAnimation("Dogi", "ANI_EV_TEBURI", -1, 1)

	TalkPopup("Dogi",0,0,0,0,0)
	{
		"#000e#000mつーわけで、目標の量は"
		"一旦集まったことになるぜ。\p"
		"#080mみんな、本当にご苦労だったな。"
		"感謝してるぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//────────────────────
	//	⇒▽第五部見張り台に向かう　になっていない
	if( !FLAG[GF_NPC_5_02_GOTO_LOOKOUT] )		//▽第五部見張り台に向かう
	{
		LookChr("Dogi", "Thanatos")
		ChangeAnimation("Thanatos", "ANI_EV_RYOTEKOSI_S", -1, 1)
		TalkPopup("Thanatos",0,0,0,0,0)
		{
			"#080e#080mわはは、ではいよいよ"
			"組み立て開始じゃのう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒▽第五部見張り台に向かう～
	else
	{
		LookChr("Dogi", "Thanatos")
		ChangeAnimation("Thanatos", "ANI_EV_RYOTEKOSI_S", -1, 1)
		TalkPopup("Thanatos",0,0,0,0,0)
		{
			"#080e#080mわはは、では本格的に"
			"組み立てを進めるとするかのう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	TalkPopup("Thanatos",0,0,0,0,0)
	{
		"#000e#000m……まさか本当に、この日を"
		"迎えることができるとはな。\p"
		"なんだか不思議な感覚じゃよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("Aaron", 1, 25)
	LookChr("Dogi", "Aaron")
	TalkPopup("Aaron",0,1,0,0,0)
	{
		"#000e#000mハン、大仕事はこれからだぜ。"
		"ハン2行目"
		
	}
	WaitPrompt()
	WaitCloseWindow()

	Turn("Aaron", 7.78f, 8.0f)
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 19.360f, -1483.745f, 5.873f, 55)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 5.443f, 55)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 145.472f, 55)		// 角度

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	ChangeAnimation("Aaron", "ANI_EV_TEBURI", -1, 1)

	TalkPopup("Aaron", 0, 1, 0, 0, 0)
	{
		"#080e#080mここは気合を入れる所じゃ"
		"ねえのかァ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Dogi")
	Turn("Dogi", -20.33f, 8.0f)

	Turn("ADOL", 6.63f, 8.0f)

	ChangeAnimation("Thanatos", "ANI_EV_RYOTEKOSI_E", -1, 1)

	Wait(30)


	CrossFade(FADE_CROSS)
	MoveCameraAt(0, 18.131f, -1486.339f, 5.650f, 0)	// 注視点
	ChangeCameraDistance(0, 2.901f, 0)		// 基本距離
	ChangeCameraElevation(0, 2.702f, 0)	// 基本仰角
	RotateCamera(0, 348.718f, 0)				// 角度
	ChangeCameraPers(0, 30.002f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(15)


	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"まだまだ問題は多いからな")
	MenuAdd(2,"それでも嬉しいものさ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//────────────────────
	//	⇒まだまだ問題は多いからな
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_SIAN_S", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		ExecuteCmd(1, TurnToChr, "Dogi", "ADOL", 8.0f)
		WaitThread(1)
		Wait(15)

		ChangeAnimation("Dogi", "ANI_EV_TEBURI", -1, 1)
		TalkPopup("Dogi",0,1,0,0,0)
		{
			"#000e#000mへへ、だがここまで来たら"
			"障害なんざブチ破るだけだぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation("ADOL", "ANI_EV_SIAN_E", -1, 1)
		WaitAnimation2("ADOL", -1, 1, "ANI_EV_SIAN_E", 0)
	}
	//	⇒それでも嬉しいものさ
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
		HeadYes("ADOL", 1, 25)
		Wait(20)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(15)

		ExecuteCmd(1, TurnToChr, "Dogi", "ADOL", 8.0f)
		WaitThread(1)
		Wait(10)

		TalkPopup("Dogi",0,1,0,0,0)
		{
			"#000e#000mああ……ここまで来たら"
			"やり遂げるしかねえよな。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	Turn("Aaron", 93.41f, 8.0f)
	Turn("ADOL", 45.57f, 8.0f)

	LookChr("Thanatos", "Dogi")

	TalkPopup("Dogi",0,1,0,0,0)
	{
		"#000e#000m探索や迎撃戦だって"
		"手は抜けねえし、忙しくなるが。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dogi", "ANI_EV_GUTSPOSE_S", -1, 1)
	PlayVoice(Y8V_3566, "Dogi", 100)	//おうよ！
	TalkPopup("Dogi", 0, 1, 0, 0, 0)
	{
		"#000e#000mみんな、張り切って行くとしようぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	ChangeAnimation("ADOL", "ANI_EV_YARUKI_S", -1, 1)
	ChangeAnimation("Thanatos", "ANI_EV_GUTSPOSE_S", -1, 1)
	ChangeAnimation("Aaron", "ANI_EV_GUTSPOSE_S", -1, 1)

	//	みんな
	SetName("みんな")
	EarthQuake(0.05f,0.05f,10)

	TalkPopup(UNDEF,0,2,240,40,0)
	{
		"#18Sおう！！"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 18.131f, -1486.339f, 7.337f, 180)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 348.718f, 180)		// 角度

	Wait(30)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	StopThread(1000)
	StopThread(1001)

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【脱出船の資材集め】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//	アイテム入手テキスト
	GetItemMessageExPlus(ICON3D_AR_028, 1, ITEMMSG_SE_JINGLE, "を受け取った。18" ,0 ,0 )		// 盗賊の腕輪
	WaitPrompt()
	WaitCloseWindow()

	//　　暗転明けで操作許可を戻す。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_500_Complete_ED")
}
function "QS_500_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//アドル以外のキャラ全てを画面外に移動
	SetChrPos("Aaron",		-100000.0f, 0.0f, 0.0f)
	SetChrPos("Dogi",		-100000.0f, 0.0f, 0.0f)
	SetChrPos("Thanatos",	-100000.0f, 0.0f, 0.0f)	
	SetChrPos( "Kashu",		-100000.0f, 0.0f ,0.0f )

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")

	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Kashu")
	CallFunc("system:reset_chrmot_Thanatos")
	CallFunc("system:reset_chrmot_Dogi")
	CallFunc("system:reset_chrmot_Aaron")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手
	SetFlag( GF_QUEST_500, QUEST_SUCCESS )		// 【QS500】脱出船の資材集め（ドギ）　クエストを達成した
	GetItem( ICON3D_AR_028, 1 )								// 『盗賊の腕輪』
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS500】脱出船の資材集め（ドギ）	名声値+1
	SetDiaryFlag( DF_QS500_END, 1 )				// 【QS500】★ドギに素材を渡し、依頼を達成した！

	DeleteItem(ICON3D_MT_N2_WOOD, 20)			// 『艶やかな木』×２０
	DeleteItem(ICON3D_MT_N2_LEATHER, 20)			// 『分厚い皮』×２０
	DeleteItem(ICON3D_MT_N2_STONE, 10)			// 「『鉄鉱石』×１０

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", 27.67f, -1478.92f, 5.20f)
	Turn("LEADER", 39.44f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, 27.673f, -1478.924f, 7.059f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, 140.557f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	SetEnvSEPlayState(-1, 1)	//環境SE

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

function "QS_500_Complete_Sahad_move"
{
	//Sahadを配置
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ResetChrInfoFlag("SAHAD", INFOFLAG_NOGRAVITY)	//◆歩かせるために解除しています
	LookReset("SAHAD")
	SetChrPos("SAHAD", 12.58f, -1488.21f, 3.32f)
	Turn("SAHAD", -65.50f, 360.0f)

	//右に移動
	Turn("SAHAD", -42.50f, 8.0f)
	MoveToEx("SAHAD", 17.47f, -1489.74f, 3.08f, 0.1f, 0.20f, 1, 1)
	ChangeAnimation("SAHAD", "ANI_EV_TEBURI", -1, 1)
	Wait(60)

	//左に移動
	Turn("SAHAD", 93.99f, 8.0f)
	MoveToEx("SAHAD", 12.57f, -1489.11f, 3.11f, 0.1f, 0.20f, 1, 1)
	Turn("SAHAD", 9.56f, 8.0f)
	ChangeAnimation("SAHAD", "ANI_EV_SIAN_S", -1, 1)
	WaitAnimation2("SAHAD", -1, 1, "ANI_EV_SIAN_S", 0)
	Wait(60)
	ChangeAnimation("SAHAD", "ANI_EV_SIAN_E", -1, 1)
	WaitAnimation2("SAHAD", -1, 1, "ANI_EV_SIAN_E", 0)

	//右に移動
	Turn("SAHAD", -56.50f, 8.0f)
	MoveToEx("SAHAD", 17.47f, -1489.74f, 3.08f, 0.1f, 0.20f, 1, 1)
	ChangeAnimation("SAHAD", "ANI_EV_TEBURI", -1, 1)
	Wait(60)

	//左に移動
	Turn("SAHAD", 93.99f, 8.0f)
	MoveToEx("SAHAD", 12.57f, -1489.11f, 3.11f, 0.1f, 0.20f, 1, 1)
	Turn("SAHAD", 9.56f, 8.0f)
	ChangeAnimation("SAHAD", "ANI_EV_SIAN_S", -1, 1)
	WaitAnimation2("SAHAD", -1, 1, "ANI_EV_SIAN_S", 0)
	Wait(60)
	ChangeAnimation("SAHAD", "ANI_EV_SIAN_E", -1, 1)
	WaitAnimation2("SAHAD", -1, 1, "ANI_EV_SIAN_E", 0)
}

////////////////////////////////////////////////////////////////////////////////
//■ストッパー・ＬＰセクション
////////////////////////////////////////////////////////////////////////////////

//	================================================
//	【ストッパー：釣りチュートリアル中】
//	================================================
function "ST_1203_Fishing"
{
	//▼GF_02MP1203_START_FISHING,		// 朝食用の魚を釣りに行く
	//	～！GF_02MP1203_GET_FISH,			// 朝食用の魚を釣った
	//　　浜辺から離れようとするとストッパー処理

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	//	テキスト
	TalkPopup(UNDEF,0,3,STOPPER_PPOSX,STOPPER_PPOSY,0)
	{
		"#7C朝食の魚を釣らなくては……\p"
		"#7Cサハドの助言にならって"
		"#7C魚を釣り上げてみよう。"
	}
	WaitPrompt()
	WaitCloseWindow()

//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	//イベント後の再配置
	SetChrPos("LEADER",16.54f,-1491.31f,2.74f)
	Turn("LEADER",43.73f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//■以下mp1202から移植

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
function "EV_camera_move"		//以下mp1202から移植
{
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK,0)
	WaitFade()
	SaveCamera()
	ClearDebris()

	SetChrInfoFlag( "PLAYER2",INFOFLAG_INVISIBLE)//プレイヤー２を消す

	MoveCameraAt( 0 , 2.038f , -1389.722f , 13.101f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.401f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.515f , 0 )	// 基本仰角
	RotateCamera( 0 , 44.975f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 100.000 ,0.000 ,0.250 ,0.500)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Wait(10)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -1.174f , -1386.862f , 13.101f , 80 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.301f  , 80 )
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 131.072f , 80 )


	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	Wait(40)

	FadeOut(FADE_BLACK,FADE_FAST)
	WaitFade()

	ResetChrInfoFlag( "PLAYER2",INFOFLAG_INVISIBLE)//プレイヤー２を消す

	//マップパラメーターリセット
	ResetMapParam( -1 )

	SetFlag(GF_01MP1202_IN_MP1202,		1)		//

	// 非クリップ位置へ移動
	SetChrPos("LEADER",-0.82f,-1387.16f,11.57f)
	Turn("LEADER",145.89f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	
//	RestoreCamera(0,0)
	MoveCameraAt( 0 , -0.818f , -1387.157f , 13.427f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.501f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.155f , 0 )	// 基本仰角
	RotateCamera( 0 , 97.456f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	CallFunc("system:camera_reset")


	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()
}

function "LP_bed_2"	//ベッドで休む
{

	SetStopFlag(STOPFLAG_SIMPLEEVENT2)

//	//モーションが終了するまで待機
//	WaitAnimation2( "PLAYER1" ,-1 ,-1 ,ANI_WAIT ,1 )

	ResetMotion( "PARTYALL" , 0 )
//	StopEffect(-1,PARTYALL,1)
//	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")

	YesNoMenu(TF_MENU_SELECT, "ここで休みますか？", 0)
	WaitMenu(0)
	
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		//SetWork(WK_BGMLIMIT, 1)
		FadeBGM(0,90)
		FadeOut(FADE_BLACK,FADE_NORMAL)
		WaitFade()

		SaveCamera()

		//SetEnvSEPlayState(1105001, 0)
		PlaySE(SE_ENV_FOREST_4, 20, 1, 1000, 0, 1.0f, 0)	//夜の虫
	
		//寝言
		CallFunc("system:TentVoice_Sleep")
	
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		PlaySE( SE_HOTEL_JINGLE , 100 , 0,  0, 0, 1.0f, 0)	//ジングル
		StopSE(SE_ENV_FOREST_4, 2000)	//虫の音止める
		Wait(120)

		//テント回復処理・リトライセーブ
		CallFunc("system:camp_rest")
	
		PlaySE(SE_HEAL, 100, 0, 0, 0, 1.0f, 0)

		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4C全員のＨＰ、ＳＰとＥＸＴＲＡゲージが全快した！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	
		Wait(15)

		SetChrPos("LEADER",-13.82f,-1361.89f,11.57f)
		Turn("LEADER",-7.90f,360.0f)

		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		MoveCameraAt( 0 , -13.821f , -1361.891f , 12.902f , 0 )	// 注視点
		ChangeCameraDistance( 0 , 5.000f , 0 )		// 基本距離
		ChangeCameraElevation( 0 , 2.458f , 0 )	// 基本仰角
		RotateCamera( 0 , -20.081f , 0 )				// 角度
		ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
		SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
		RollCamera( 0 , 0.0f , 0 )				// ロール回転

		//RestoreCamera(0,0)
		CallFunc("system:camera_reset")
	
		ResetStopFlag(STOPFLAG_SIMPLEEVENT2)

		SetEnvSEPlayState(-1, 1)	//環境SE復帰

		FadeBGM(100,30)
		//SetWork(WK_BGMLIMIT, 0) 	
		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()

	} else {
		ResetStopFlag(STOPFLAG_SIMPLEEVENT2)

	}

}

//	================================================
//	【ＬＰ：水音の洞窟に入る】
//	================================================
function "LP_fence"
{
	//▼GF_02MP1202_GET_CLOTHES～		// ラクシャから探索服をもらう
	//　　洞窟方面には小さな柵が置かれている状態になる。

	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")

	// 洞窟に入れないタイミングをチェック	（if文が長すぎるとエラーが出てしまうので、分割してあります）
	SetFlag(TF_MENU_SELECT,0)
	if( ( FLAG[GF_02MP1202_GET_CLOTHES] && !FLAG[GF_02MP1201_TAKE_BREAKFAST] )||	// ラクシャから探索服をもらう～！ドギが料理を説明する
		( FLAG[GF_02MP1202_HEAR_SHOUT] && !FLAG[GF_02MP1201_BEFORE_INTERCEPT2] )||	// 叫び声を聞いた～！迎撃戦の準備をはじめた
		( FLAG[GF_02MP1201_LOST_CURRAN] && !FLAG[GF_02MP1201_LOOK_CURRAN] )||		// カーラン卿が行方不明になった～！カーラン卿を発見した
		( FLAG[GF_02MP1201_START_HEARING] && !FLAG[GF_02MP1201_LOOK_MAN] ) )		// 聞き込みを開始した～！人影を見つけた
	{
		//	★以下のタイミングは入れない
		//	GF_02MP1202_GET_CLOTHES,			// ラクシャから探索服をもらう
		//	～！GF_02MP1201_TAKE_BREAKFAST,		// ドギが料理を説明する
		//	GF_02MP1202_HEAR_SHOUT,				// 叫び声を聞いた
		//	～！GF_02MP1201_BEFORE_INTERCEPT2,	// 迎撃戦の準備をはじめた
		//	GF_02MP1201_LOST_CURRAN,			// カーラン卿が行方不明になった
		//	～！GF_02MP1201_LOOK_CURRAN,		// カーラン卿を発見した
		//	GF_02MP1201_START_HEARING,			// 聞き込みを開始した
		//	～！GF_02MP1201_LOOK_MAN,			// 人影を見つけた
		SetFlag(TF_MENU_SELECT,1)	//洞窟に入れない
	}
	else if(( FLAG[GF_02MP1201_UNMASK_NEMO] && !FLAG[GF_02MP1201_CHASE_KIERGAARD] )||	// 名無しの正体が判明した～！キルゴールが逃げた
			( FLAG[GF_03MP1202_AWAKE_ADOL] && !FLAG[GF_03MP1201_GOTO_GENSD] )||			// 夢に驚くアドル～！ジャンダルムへ向かうことになる
			( FLAG[GF_05MP1201_HOLD_PARTY] && !FLAG[GF_05MP6231M_GOTO_SKYWAY] )||		// 漂流村で決起会が催される～！過去Ⅳ－２　王都に星が落下する
			( FLAG[GF_07MP1201_TALK_ALL] && !FLAG[GF_07MP1201_CHECK_VILLAGE] ) )		// 漂流村を回ってみる後（全員と話して北部に向かうことにした）～！ＥＤⅢ セイレン島を脱出する
	{
		//	★以下のタイミングは入れない
		//	GF_02MP1201_UNMASK_NEMO,			// 名無しの正体が判明した
		//	～！GF_02MP1201_CHASE_KIERGAARD,	// キルゴールが逃げた
		//	GF_03MP1202_AWAKE_ADOL,				//夢に驚くアドル
		//	～！GF_03MP1201_GOTO_GENSD,			//ジャンダルムへ向かうことになる
		//	GF_05MP1201_HOLD_PARTY,				//漂流村で決起会が催される
		//	～！GF_05MP6231M_GOTO_SKYWAY,		//過去Ⅳ－２　王都に星が落下する
		//	GF_07MP1201_TALK_ALL,				// 漂流村を回ってみる後（全員と話して北部に向かうことにした）
		//	～！GF_07MP1201_CHECK_VILLAGE		//ＥＤⅢ セイレン島を脱出する
		SetFlag(TF_MENU_SELECT,1)	//洞窟に入れない
	}

	//	★以下のタイミングは入れない（※0509追加）
	//	▼GF_07MP1201_CHECK_VILLAGE～		//ＥＤⅢ セイレン島を脱出する
	if( FLAG[GF_07MP1201_CHECK_VILLAGE] )	//ＥＤⅢ セイレン島を脱出する
	{
		//	テキスト
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cまもなく出航の時間だ。"
			"#7Cこの洞窟に入る必要はない。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	★以下のタイミングは入れない（※0519追加）
	//▼GF_07MP1202_AWAKE_ADOL				//漂流村でアドルが目を覚ます
	//	～！GF_07MP1201_TALK_ALL,			// 漂流村を回ってみる後（全員と話して北部に向かうことにした）
	else if( FLAG[GF_07MP1202_AWAKE_ADOL] && !FLAG[GF_07MP1201_TALK_ALL] )	//漂流村でアドルが目を覚ます～！漂流村を回ってみる後（全員と話して北部に向かうことにした）
	{
		//	テキスト
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cこの先は住居跡があった洞窟だ。\p"
			"#7C今はひとまず村の中を回ってみよう……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	★以下のタイミングは入れない
	else if( FLAG[TF_MENU_SELECT] == 1 )
	{
		//	テキスト
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7Cこの先は住居跡があった洞窟だ。"
			"#7C奥からわずかに獣の気配を感じる……\p"
			"#7C今入るのはやめておこう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	★それ以外
	else
	{
		//────────────────────
		//	⇒ＧＦで１回だけ
		if( !FLAG[GF_SUBEV_LP_1202_IN_CAVE] )
		{
			//PlaySE( SE_TUTORIAL , 100 , 0,  0, 0, 1.0f, 0)		//◆仮
			//	テキスト
			TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
			{
				"#7Cこの先は住居跡があった洞窟だ。 "
				"#7C奥からわずかに獣の気配を感じる……\p"
				"#7C洞窟に入ってみようか？"
			}
			WaitPrompt()
			WaitCloseWindow()
			SetFlag(GF_SUBEV_LP_1202_IN_CAVE, 1)	//【ＬＰ：水音の洞窟に入る】ＧＦ初回
		}
		//────────────────────

		//	選択テキスト
		TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
		{
			"#7C水音の洞窟に入りますか？"
		}
		WaitPrompt()
		WaitCloseWindow()

		//選択肢　
		SetFlag(TF_MENU_SELECT,0)
		MenuReset()
		MenuType(MENUTYPE_POPUP)
		MenuAdd(0,"はい")
		MenuAdd(1,"いいえ")
		MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 1)
		WaitMenu(0)
		MenuClose(10,0)

		//─────────────────────────
		//	⇒はい
		if (FLAG[TF_MENU_SELECT] == 0){
		//　　水音の洞窟に入ったところから操作許可

			FadeOut(FADE_BLACK,FADE_NORMAL)
			WaitFade()

	//		Entry( 01 )
			LoadArg("map/mp7301/mp7301.arg")
			EventCue("mp7301:LP_fence_ARRIVE_7301")		// 続き
		}
		//	⇒いいえ
		else
		{
		//　　そのまま操作許可
		}
		//─────────────────────────

	}
//	if (FLAG[TF_MENU_SELECT] <= 0){
//		CrossFade(FADE_CROSS)
//		SetChrPos("LEADER",-4.62f,-1387.02f,11.57f)
//		Turn("LEADER",-168.05f,360.0f)
//		ResetPartyPos()
//		ResetFollowPoint()
//		Wait(1)
//	
//		RestoreCamera(0,0)
//		ResetCameraObserver(0)
//		ResetCameraZPlane()
//		Wait(FADE_CROSS)
//	}
	//─────────────────────────

	SetStopFlag(STOPFLAG_NOCHARACLIP)
	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
}

//	================================================
//	【名無しの聞き込み：リヒト】
//	================================================
function "SubEV_02_Talk_Licht"
{
	//　　リヒトは作戦所のベンチに座っている。
	//　　話しかけるとアドル、ラクシャ、サハドを再配置する。

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("Licht")

	//イベント開始前情報の保存	
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",-3.75f,-1383.62f,11.57f)
	Turn("ADOL",135.33f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookChr( "ADOL", "Licht" )

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA",-4.47f,-1384.07f,11.57f)
	Turn("LAXIA",171.80f,360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)
	LookChr( "LAXIA", "Licht" )

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",-3.32f,-1382.90f,11.57f)
	Turn("SAHAD",101.55f,360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)
	LookChr( "SAHAD", "Licht" )

	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Licht", -4.77f, -1382.77f, 11.57f)
	Turn("Licht", 47.86f, 360.0f)
	ChangeAnimation("Licht","ANI_EV_SIT_C", -1 , 1 )	
	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Licht" , INFOFLAG_NOCHRATARI)
	LookReset("Licht")

	//カメラ設定
//	MoveCameraAt(0, -2.338f, -1382.447f, 12.806f, 0)	// 注視点
//	ChangeCameraDistance(0, 4.100f, 0)		// 基本距離
//	ChangeCameraElevation(0, 3.950f, 0)	// 基本仰角
//	RotateCamera(0, 281.698f, 0)				// 角度
//	ChangeCameraPers(0, 47.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転

	MoveCameraAt( 0 , -2.674f , -1382.996f , 12.806f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.100f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.950f , 0 )	// 基本仰角
	RotateCamera( 0 , 274.375f , 0 )				// 角度
	ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 60.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:SubEV_02_Talk_Licht_ED")

//開始処理ここまで-----------------------------------------------
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -2.674f, -1382.996f, 12.806f, 45)		// 注視点
//	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 274.375f, 45)		// 角度

	FadeIn(FADE_BLACK,FADE_FAST)
	LookChr("Licht", "ADOL")

//	WaitThread(1000)
//	WaitThread(1001)

	WaitFade()

	TalkPopup("Licht",0,1,0,0,0)
	{
		"#000e#000m皆さん……どうしたんですか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#000e#000mええ、事件について"
		"調べているのです。"

	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("LAXIA", "ANI_EV_WAIT2_S", -1, 0)
	TalkPopup("LAXIA", 0, 0, 0, 0, 0)
	{
		"#000e#000mリヒトさん、あなたも"
		"協力していただけませんか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	Wait(20)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cリヒトに何か心当たりはないか尋ねた。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Licht"
	Look("Licht", -15.00f, -10.00f)
	TalkPopup("Licht",0,1,0,0,0)
	{
		"#010e#000mそ、そう言われましても……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　リヒト、自信なさそうなモーション	◆未入力：座った状態でのモーションがみつかりませんでした
//	ChangeAnimation( "Licht", "自信なさそうなモーション", -1, 1 )
//	WaitAnimation2( "Licht" , -1, 1, "自信なさそうなモーション",  0)


	TalkPopup("Licht",0,1,0,0,0)
	{
		"#000e#000mただ、そうですね……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Licht", "ADOL")
	TalkPopup("Licht", 0,1, 0, 0, 0)
	{
		"#000e#000m最初の犠牲者がカーラン卿だったのは"
		"どうしてだろうって……\p"
		"少し引っかかってはいますが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルたちに？エモーション
	EmotionEx("ADOL", 0.00f, EMO_Q, 0, 5, 1, 1, 1.0f)	//？
	EmotionEx("LAXIA", 0.00f, EMO_Q, 0, 5, 1, 1, 1.0f)	//？
	EmotionEx("SAHAD", 0.00f, EMO_Q, 0, 5, 1, 1, 1.0f)	//？
	Wait(40)

	ChangeAnimation("SAHAD", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#060e#000mそりゃあ、狙いやすかった"
		"ってことじゃあねーのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, -3.990f, -1382.278f, 12.806f, 0)	// 注視点
	ChangeCameraDistance(0, 3.301f, 0)		// 基本距離
	ChangeCameraElevation(0, 6.177f, 0)	// 基本仰角
	RotateCamera(0, 338.073f, 0)				// 角度
	ChangeCameraPers(0, 37.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)

	//	"Licht"
	TalkPopup("Licht",0,2,0,0,0)
	{
		"#011e#000mそ、それだけでしょうか……\p"
		"名無しのメッセージはどれも"
		"効果的なタイミングで置かれていました。\p"
		"#012e僕らはそれに不安をかきたてられて"
		"今も振り回されています……\p"
		"きっと人の恐怖──心の隙を付くことに"
		"長けているのだと思います。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	ChangeAnimation("LAXIA", "ANI_EV_WAIT2_E", -1, 1)
	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#000e#000m確かに……カーラン卿も心理的に"
		"追い詰められたのでしたね……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Licht"
	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	HeadYes("Licht", 1, 25)
	Wait(15)
	TalkPopup("Licht",0,2,0,0,0)
	{
		"#012e#000mはい、そう考えると"
		"何か意味があるような気がして……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　リヒトに・・・エモーション
	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	EmotionEx("Licht", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(52)
	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE_E, 1)


	ChangeAnimation("Licht", "ANI_EV_SC_TEBURI", -1, 1)
	TalkPopup("Licht",0,2,0,0,0)
	{
		"#000mカーラン卿は問題を"
		"起こしやすい人のようでした。\p"
		"あの方を追い詰めれば"
		"村の雰囲気は悪くなります。\p"
		"その上で命を落とせば"
		"村全体に陰鬱な状況が生まれる……\p"
		"もしかすると、そこまで"
		"考え抜かれた犯行なのかも……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)
	CrossFade(FADE_CROSS)
	MoveCameraAt(0, -3.211f, -1383.512f, 12.955f, 0)	// 注視点
	ChangeCameraDistance(0, 3.301f, 0)		// 基本距離
	ChangeCameraElevation(0, 2.774f, 0)	// 基本仰角
	RotateCamera(0, 254.043f, 0)				// 角度
	ChangeCameraPers(0, 47.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)

	//　　アドルに・・・エモーション
	ChangeAnimation("ADOL", "ANI_EV_SIAN_S", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	EmotionEx("ADOL", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(52)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)


	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"正気の沙汰じゃないな")
	MenuAdd(2,"犯人は頭脳派かもしれない")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//────────────────────
	//	⇒正気の沙汰じゃないな
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_SIAN_E", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		//HeadYes("LAXIA", 1, 25)
		LookChr("LAXIA", "ADOL")
		TalkPopup("LAXIA",0,0,0,0,0)
		{
			"#000e#000mええ……ですが同時に"
			"頭も切れる人物なのかもしれません……"
		}
		WaitPrompt()
		WaitCloseWindow()
	
		//	"SAHAD"
		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#000e#000mおお、話を聞いてると"
			"そんな気がしてきたぜ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒犯人は頭脳派かもしれない
	else
	{
		ChangeAnimation("ADOL", "ANI_EV_SIAN_E", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		TalkPopup("SAHAD",0,2,0,0,0)
		{
			"#011e#000mうーむ、言われてみれば……"
		}
		WaitPrompt()
		WaitCloseWindow()
	
		//	"LAXIA"
		ChangeAnimation("LAXIA", "ANI_EV_TEBURI", -1, 1)
		LookChr("LAXIA", "ADOL")
		TalkPopup("LAXIA",0,0,0,0,0)
		{
			"#000e#000mその可能性は高そうですね。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	LookChr("LAXIA", "Licht")
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#080e#080mそれにしても、リヒトさんは"
		"見事な分析力をお持ちなのですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "Licht")
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	//	"Licht"
	HeadNo("Licht", 1, 35)
	TalkPopup("Licht",0,1,0,0,0)
	{
		"#050e#000mと、とんでもありません……\p"
		"その、村に来たばかりなので"
		"客観的に考えられるだけですよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	ChangeAnimation("SAHAD", "ANI_EV_UDEGUMI_E", -1, 1)

	TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#000e#000mお？　そんなものか？\p"
		"#011eふむ、ワシには十分"
		"学もありそうに見えるがなぁ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	TalkPopup("LAXIA", 0, 2, 0, 0, 0)
	{
		"#000e#000mそうですね、失礼ですが"
			"リヒトさんのご職業は？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,-3.192f , -1383.247f , 12.856f , 45 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.441f , 45 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.774f , 45 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 274.302f , 45 )

	//MoveCameraAt( 0 , -3.192f , -1383.247f , 12.856f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.441f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 2.774f , 0 )	// 基本仰角
	//RotateCamera( 0 , 274.302f , 0 )				// 角度
	//ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	LookChr("Licht", "LAXIA")

	//	"Licht"
	TalkPopup("Licht", 0, 1, 0, 0, 0)
	{
		"#011e#080mははは……\p"
		"#012eじ、実は僕、医学生でして……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルたちにＰＡエモーション

	EmotionEx("ADOL", 0.015f, EMO_PA, 0, 5, 1, 1, 1.0f)	//ＰＡ
	EmotionEx("LAXIA", 0.015f, EMO_PA, 0, 5, 1, 1, 1.0f)	//ＰＡ
	EmotionEx("SAHAD", 0.015f, EMO_PA, 0, 5, 1, 1, 1.0f)	//ＰＡ
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	Wait(35)

	ChangeAnimation("SAHAD", "ANI_EV_BORI", -1, 1)
	TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#050e#000m医学生……？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	TalkPopup("LAXIA", 0, 2, 0, 0, 0)
	{
		"#011e#000m医師を目指す学生の事です。"
		"医師2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Licht"
	HeadYes("Licht", 1, 25)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	Wait(15)
	TalkPopup("Licht", 0, 1, 0, 0, 0)
	{
		"#012e#000mええ、ロンバルディア号の船医が急病にかかり"
		"急遽代わりを務めることになったんです。\p"
		"#011e#000mまさかこんな事に巻き込まれるとは"
		"思いませんでしたが……"
	}
	WaitPrompt()
	WaitCloseWindow()

		//	"SAHAD"
	ChangeAnimation( "SAHAD" , "ANI_EV_UDEGUMI_S", -1 , 1 )
	TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#020e#080mガハハ、災難だったなぁ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	//	"LAXIA"
	TalkPopup("LAXIA", 0, 2, 0, 0, 0)
	{
		"#011e#000mふう、それはここにいる"
		"全員に言えることですが。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャ、会話モーションなど。
	ChangeAnimation("LAXIA", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("LAXIA", 0, 2, 0, 0, 0)
	{
		"#012e#000mともかく、リヒトさんの意見は"
		"参考になりそうです。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("LAXIA", "ADOL")
	TalkPopup("LAXIA", 0, 2, 0, 0, 0)
	{
		"#000e#000mアドル、後で検討してみると"
		"いたしましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルが頷く。

	HeadYes("ADOL", 1, 25)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Wait(20)

	//　　暗転を挟んで操作許可。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_02_Talk_Licht_ED")
}
function "SubEV_02_Talk_Licht_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")	
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Licht")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	SetFlag( GF_SUBEV_NEMO_TALK_LICHT, 1 )			//名無しについてリヒトと話した
	//SetDiaryCharaFlag( DRCHA_LICHT, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（リヒト）

	if( FLAG[GF_SUBEV_NEMO_TALK_LICHT] &&		//名無しについてリヒトと話した
		FLAG[GF_SUBEV_NEMO_TALK_BARBAROSS] &&	//名無しについてバルバロス船長と話した
		FLAG[GF_SUBEV_NEMO_TALK_HUMMEL] &&		//名無しについてヒュンメルと話した
		FLAG[GF_SUBEV_NEMO_TALK_KIERGAARD] )	//名無しについてキルゴールと話した
	{
		SetFlag( GF_02MP1201_END_HEARING, 1 )		// 聞き込みで情報を集めた
		
		SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット
		LoadArg("map/mp1201/mp1201.arg")
		EventCue("mp1201:EV_M02S590")

		ResetStopFlag(STOPFLAG_EVENT)
	}
	else {
		CallFunc("mp1201:init")

		//イベント後の再配置
		SetChrPos("LEADER",-3.19f,-1385.01f,11.57f)
		Turn("LEADER",-32.84f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		//カメラ位置復帰
		//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
		//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
		//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
		//RotateCamera( 0 , 0.0f , 0 )				// 角度
		//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
		//SetCameraZPlane( 0 , 0.0f )					// ZPlane
		//RollCamera( 0 , 0.0f , 0 )					// ロール回転

		RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
		CallFunc("system:camera_reset")

		ResetStopFlag(STOPFLAG_EVENT)

		FadeIn(FADE_BLACK, FADE_FAST)
		//WaitFade()
	}

//終了処理ここまで----------------------------------------------------
}

//	================================================
//	【名無しの聞き込み：バルバロス】
//	================================================
function "SubEV_02_Talk_Barbaross"
{
	//　　バルバロスはベッドで身を起こしている
	//　　バルバロスの前に、アドル、ラクシャ、サハドを再配置する。

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("Barbaross")

	//イベント開始前情報の保存
	SaveEventState()
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -8.56f, -1356.53f, 11.82f)
	Turn("ADOL", -74.57f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookChr( "ADOL", "Barbaross" )

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", -7.53f, -1355.91f, 11.57f)
	Turn("LAXIA", -3.00f, 360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)
	LookChr( "LAXIA", "Barbaross" )

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", -8.50f, -1357.76f, 11.57f)
	Turn("SAHAD", -101.08f, 360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)
	LookChr( "SAHAD", "Barbaross" )

	//SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	//SetChrPos("Barbaross", -6.08f, -1357.94f, 12.28f)
	//Turn("Barbaross", 59.80f, 360.0f)
	//ChangeAnimation("Barbaross", "ANI_EV_TAORESIT_B_L", -1, 1)
	//ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	//ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	//ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	//SetChrInfoFlag("Barbaross", INFOFLAG_FLING)
	//SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI)
	//LookChr( "Barbaross", "ADOL" )

	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Barbaross", "ADOL")
	SetChrInfoFlag("Barbaross", INFOFLAG_NOMAPATARICHECK)	//椅子にはじかれないように入れています
	SetChrInfoFlag("Barbaross", INFOFLAG_NOGRAVITY)
	SetChrPos("Barbaross", -6.95f, -1357.29f, 11.66f)
	Turn("Barbaross", 146.19f, 360.0f)
	ChangeAnimation("Barbaross", "ANI_EV_SIT_C", -1, 1)

	//ベッドのブランケット消す
	MapHide("bed1_blanket", 0)


	//カメラ設定
	//MoveCameraAt( 0 , -6.283f , -1357.595f , 12.670f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 4.500f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 12.584f , 0 )	// 基本仰角
	//RotateCamera( 0 , 227.286f , 0 )				// 角度
	//ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , -6.637f , -1357.978f , 12.670f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.500f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 12.584f , 0 )	// 基本仰角
	RotateCamera( 0 , 227.286f , 0 )				// 角度
	ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 90.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:SubEV_02_Talk_Barbaross_ED")

//開始処理ここまで-----------------------------------------------
	//ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -6.637f, -1357.978f, 12.670f, 55)		// 注視点
	//ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 227.286f, 55)		// 角度

	//MoveCameraAt( 0 , -6.637f , -1357.978f , 12.670f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 4.500f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 12.584f , 0 )	// 基本仰角
	//RotateCamera( 0 , 227.286f , 0 )				// 角度
	//ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	WaitThread(1000)
//	WaitThread(1001)

	TalkPopup("Barbaross",0,0,0,0,0)
	{
		"#000e#000m皆さん、さっそく調査を"
		"始めているようですな。\p"
		"申し訳ない、何から何まで"
		"任せきりになってしまいまして。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("SAHAD",0,1,400,150,0)
	{
		"#020e#080mガハハ、気にしないでくれよな。\p"
		"船長殿のせいじゃねえ。"
		"こいつはワシら全員の問題なんだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル頷く。
	HeadYes("ADOL" , 1 , 25)
	Wait(30)

	ChangeAnimation("ADOL", "ANI_EV_TEBURI_L", -1, 0)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	Wait(20)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	
	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cバルバロス船長に、何か"
		"#7C思い出したことがないか尋ねてみた。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Barbaross"
	LookReset("Barbaross")
	TalkPopup("Barbaross",0,0,0,0,0)
	{
		"#011e#000mふむ、思い出した事……"
		"そういえば……\p"
		"ちょっとした違和感なのだが。"
		"違和感4行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_SMILE_E,1)

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000m違和感ですか……？"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_FAST)
	MoveCameraAt(0, -8.885f, -1357.216f, 12.794f, 0)	// 注視点
	ChangeCameraDistance(0, 4.499f, 0)		// 基本距離
	ChangeCameraElevation(0, 7.635f, 0)	// 基本仰角
	RotateCamera(0, 102.007f, 0)				// 角度
	ChangeCameraPers(0, 41.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_FAST)

	//	"Barbaross"
	LookChr("Barbaross", "ADOL")
	TalkPopup("Barbaross",0,1,0,0,0)
	{
		"#012e#000mええ、私が切りつけられた"
		"直後のことです。\p"
		"犯人の姿がよく見えなかったと"
		"言いましたが……\p"
		"実は犯人は、既に数メライは"
		"離れた位置に立っていたのです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1)
	TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#000e#000mお？　数メライってーと"
		"刃物で切りつけられる距離じゃねーが。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"Barbaross"
	HeadYes("Barbaross", 1, 25)
	TalkPopup("Barbaross",0,1,0,0,0)
	{
		"#000e#000mええ、確かに。\p"
		"とっさの事で、記憶違いかと"
		"思っていたのですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルも思案モーションを取る
	ChangeAnimation("ADOL", "ANI_EV_SIAN_S", -1, 1)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)

	//EmotionEx("ADOL", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	//Wait(52)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"常識を疑った方がいい")
	MenuAdd(2,"記憶を疑った方がいい")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	//────────────────────
	//	⇒常識を疑った方がいい
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_SIAN_E", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		HeadYes("Barbaross", 1, 25)
		TalkPopup("Barbaross",0,1,0,0,0)
		{
			"#000e#000mうむ……あの殺人予告を見て"
			"凶器はナイフだと思い込んでいたが……\p"
			"もしかすると違うのかもしれんな……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒記憶を疑った方がいい
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_SIAN_E", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		HeadNo("Barbaross", 1, 35)
		TalkPopup("Barbaross",0,1,0,0,0)
		{
			"#000e#000mいや、一晩考えたのだが"
			"やはり記憶違いではなさそうだ。\p"
			"あの殺人予告を見て"
			"凶器はナイフだと思い込んでいたが……\p "
			"もしかすると違うのかもしれん……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1)
		TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#011e#000mうーむ、かえって謎が"
		"深まっちまった感じだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"LAXIA"
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000e#000mですが一つの"
		"手がかりかもしれませんね。\p"
		"この件に関しては、わたくしたちから"
		"エアランさんに伝えておきます。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("LAXIA", "ANI_EV_TEMUNE_S", -1, 1)
	TalkPopup("LAXIA", 0, 2, 0, 0, 0)
	{
		"#011e#000m船長はどうか体を休めてください。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	ChangeAnimation("SAHAD", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#080e#080mおお、そうだぜ。\p"
		"なんたって可愛い娘さんが"
		"帰りを待ってるんだ。\p"
		"無理して倒れでもしたら"
		"ワシらが娘さんに怒られちまう。"
	}
	WaitPrompt()
	WaitCloseWindow()
	Wait(10)

	CrossFade(FADE_CROSS)
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)

	MoveCameraAt(0, -6.503f, -1357.436f, 12.943f, 0)	// 注視点
	ChangeCameraDistance(0, 4.499f, 0)		// 基本距離
	ChangeCameraElevation(0, 8.548f, 0)	// 基本仰角
	RotateCamera(0, 257.099f, 0)				// 角度
	ChangeCameraPers(0, 41.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	//	"Barbaross"
	LookChr("Barbaross", "SAHAD")
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#080e#080mハハハ、そうかもしれませんな。\p"
		"確かに、まだ二才だというのに"
		"達者な子ですから……\p"
		"#011e#000mですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	ChangeAnimation("SAHAD", "ANI_EV_UDEGUMI_E", -1, 1)
	TalkPopup("SAHAD", 0, 1, 0, 0, 0)
	{
		"#000e#000m船長殿……？"
	}
	WaitPrompt()
	WaitCloseWindow()
	ChangeAnimation("LAXIA", "ANI_EV_TEMUNE_E", -1, 1)

	CrossFade(FADE_CROSS)

	MoveCameraAt(0, -4.887f, -1359.100f, 12.596f, 0)	// 注視点
	ChangeCameraDistance(0, 4.389f, 0)		// 基本距離
	ChangeCameraElevation(0, 9.367f, 0)	// 基本仰角
	RotateCamera(0, 231.673f, 0)				// 角度
	ChangeCameraPers(0, 44.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	Wait(FADE_CROSS)

	LookReset("Barbaross")

	//	"Barbaross"

	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#060e#000mいえ、ついに乗客の中から"
		"犠牲者を出してしまいました……\p"
		"せめて事件に片がつくまで、"
		"職務に専念するのが私の責任でしょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookSpd("Barbaross",0.08f,0.08f,0.08f)
	LookChr("Barbaross","ADOL")

	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#000e#000mアドル、それに皆さん。"
		"どうか力添えをお願いしたい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　頭を下げるバルバロス。
//	ChangeSubAnimation("Barbaross", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)
//	Look("Barbaross" , 0 , -15)
	Wait(10)

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, -7.636f, -1357.491f, 13.117f, 0)	// 注視点
	ChangeCameraDistance(0, 3.430f, 0)		// 基本距離
	ChangeCameraElevation(0, 5.580f, 0)	// 基本仰角
	RotateCamera(0, 24.448f, 0)				// 角度
	ChangeCameraPers(0, 29.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, -0.0f, 0)				// ロール回転


	Wait(FADE_CROSS)

	//　　アドル頷く。
	HeadYes("ADOL" , 1 , 25)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Wait(15)

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#011e#000mええ、もちろんです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	ChangeAnimation("SAHAD", "ANI_EV_YARUKI_S", -1, 1)
	TalkPopup("SAHAD", 0, 1, 0, 0, 0)
	{
		"#041e#000m必ず犯人をとっ捕まえてやろーぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　暗転を挟んで操作許可。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:SubEV_02_Talk_Barbaross_ED")
}
function "SubEV_02_Talk_Barbaross_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")	
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Barbaross")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	SetFlag( GF_SUBEV_NEMO_TALK_BARBAROSS, 1 )	//名無しについてバルバロス船長と話した

	if( FLAG[GF_SUBEV_NEMO_TALK_LICHT] &&		//名無しについてリヒトと話した
		FLAG[GF_SUBEV_NEMO_TALK_BARBAROSS] &&	//名無しについてバルバロス船長と話した
		FLAG[GF_SUBEV_NEMO_TALK_HUMMEL] &&		//名無しについてヒュンメルと話した
		FLAG[GF_SUBEV_NEMO_TALK_KIERGAARD] )	//名無しについてキルゴールと話した
	{
		SetFlag( GF_02MP1201_END_HEARING, 1 )	// 聞き込みで情報を集めた
		
		SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット
		LoadArg("map/mp1201/mp1201.arg")
		EventCue("mp1201:EV_M02S590")

		ResetStopFlag(STOPFLAG_EVENT)
	}
	else {
		CallFunc("mp1201:init")

		//イベント後の再配置
		SetChrPos("LEADER",-9.12f,-1359.73f,11.57f)
		Turn("LEADER",58.12f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		//カメラ位置復帰
		//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
		//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
		//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
		//RotateCamera( 0 , 0.0f , 0 )				// 角度
		//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
		//SetCameraZPlane( 0 , 0.0f )					// ZPlane
		//RollCamera( 0 , 0.0f , 0 )					// ロール回転

		RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
		CallFunc("system:camera_reset")

		ResetStopFlag(STOPFLAG_EVENT)

		FadeIn(FADE_BLACK, FADE_FAST)
		//WaitFade()
	}

//終了処理ここまで----------------------------------------------------
}



////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//■親愛イベントセクション

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//===============================================================
// アリスン：▼親愛イベント
function "Sinai_Alison"
{
	//　　暗転を挟んで字幕イベント。
	//　　洞窟内の共有テーブルで３人で座ってお茶を飲んでいる。

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Alison")
	LoadChr("Ed")
	LoadChr("Baby")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Alison" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Alison" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Ed" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Ed" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Ed" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Baby" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Baby" , INFOFLAG_NOATARI)
	SetChrInfoFlag( "Baby" , INFOFLAG_NOSHADOW)
	SetChrInfoFlag( "Baby" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Ed", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Baby", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetParent("Baby", "", "")

	SetChrPos("ADOL",-7.75f,-1382.39f,11.57f)
	Turn("ADOL",-124.35f,360.0f)
	LookReset("ADOL")
	SetChrPos("Alison",-4.76f, -1382.48f, 11.57f)
	Turn("Alison",90.19f,360.0f)
	LookReset("Alison")
	SetChrPos("Ed",-5.50f, -1381.19f, 11.57f)
	Turn("Ed",45.04f,360.0f)
	LookReset("Ed")
	SetChrPos("Baby",-4.6064f, -1382.2995f, 12.466f)
	SetParent("Baby" , "Alison" , "Null_dakko")
	Turn("Baby",0.20f,360.0f)

	SetChrPos("ev_eq4006a",-6.11f, -1381.39f, 12.51f)	// （カップ）エド
	Turn("ev_eq4006a", -21.32f, 360.0f)
	
	SetChrPos("ev_eq4006b",-5.39f, -1382.66f, 12.51f)	// （カップ）アリスン
	Turn("ev_eq4006b", -21.32f, 360.0f)

	SetChrPos("ev_eq4006c",-7.01f, -1382.36f, 12.51f)	// （カップ）アドル
	Turn("ev_eq4006c", 153.93f, 360.0f)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation("ADOL","ANI_EV_SIT_C", -1 , 1 )	
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
//	ChangeAnimation("Alison","ANI_EV_SIT_C", -1 , 1 )	
	ChangeAnimation("Alison","ANI_EV_SC_DAKKO", -1 , 1 )	
	ChangeSubAnimation("Ed",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Ed",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Ed",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation("Ed","ANI_EV_SIT_C", -1 , 1 )	
	ChangeSubAnimation("Baby",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Baby",SUBMOT_EYE,ANI_E_NIKO,1)

	ChangeSubAnimation("Baby",SUBMOT_MOUTH,ANI_M_WAIT,1)
//	ChangeSubAnimation("Baby",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Baby" , "ANI_WAIT", -1 , 1 )
//	ChangeAnimation( "Baby" , "ANI_WAIT_YOKO", -1 , 1 )

	MoveCameraAt( 0 , -7.264f , -1381.966f , 12.811f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.580f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.508f , 0 )	// 基本仰角
	RotateCamera( 0 , 262.594f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//	MapHide("obj_que06", 1)			//親愛：アリスン・エド

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Alison_ED")

//開始処理ここまで-----------------------------------------------

//	SetEnvSEPlayState(-1, 1)	//環境SE
	SetEnvSEPlayState(1202001, 1)	//環境SEスタート
	SetEnvSEPlayState(1202201, 1)	//環境SEスタート
	SetEnvSEPlayState(1202202, 1)	//環境SEスタート
	SetEnvSEPlayState(1202203, 1)	//環境SEスタート

	// カット1 ----------------------------------------------------------------------------------------

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	LookChr("Ed", "ADOL")
	LookChr("Alison", "ADOL")
	LookChr("ADOL", "Ed")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -7.264f , -1381.966f , 12.811f , 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.230f , 100 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.508f , 100 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 262.532f , 100 )

	//MoveCameraAt( 0 , -7.264f , -1381.966f , 12.811f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 3.230f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.508f , 0 )	// 基本仰角
	//RotateCamera( 0 , 262.532f , 0 )				// 角度
	//ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	PlayBGM(BGM_TOWN_501, 0)
	FadeBGM(70, 0)

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Wait(30)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	ChangeAnimation( "Ed", "ANI_EV_SC_TEBURI", -1, 1 )	// （椅子）手振り

	TalkMes("Ed",
		"#4479V#081e#080m味の方はどうだい？","","")
	WaitPrompt()

	TalkMes("Ed",
		"#4480V#000e#000mリコッタちゃんに教わって"
		"僕が淹れてみたんだけど……","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"大丈夫、美味しいよ")
	MenuAdd(2,"いいパパだ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0156,"ADOL",100)	//ああ（肯定）

	// うなずきパクパク
	HeadYes("ADOL" , 1 , 30 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	// カメラ待ち
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -5.659f , -1381.351f , 12.875f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.120f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.930f , 0 )	// 基本仰角
	RotateCamera( 0 , 257.674f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 3.2f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -5.659f , -1381.351f , 12.835f , 450 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.120f , 450 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.794f , 450 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 237.344f , 450 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 30.000f , 450 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -8.0f , 450 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	//──────────────────────
	//	⇒大丈夫、美味しいよ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// エド
		TalkMes("Ed",
			"#4481V#071e#000mほ、本当かい？","","")
		WaitPrompt()
		
		Look("Ed", 0.0f, -10.0f)	// うつむく
		
		// エド
		TalkMes("Ed",
			"#4482V#011e#080mはは、ほっとしたよ。","","")
		WaitPrompt()
		
		LookChr("Alison", "Ed")
		
		// アリスン
		TalkMes("Alison",
			"#4426V#021e#080mよかったわね、あなた。","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒いいパパだ
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		LookChr("Alison", "Ed")
		Wait(10)
		
		// うなずきセット
		HeadYes("Alison" , 1 , 25 )
		ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		
		// アリスン
		TalkMes("Alison",
			"#4427V#080mええ、私も同感よ。","","")
		WaitPrompt()
		WaitCloseWindow()
		
		LookChr("Ed", "Alison")
		EmotionEx("Ed", 0.00f, EMO_ASE, 0, 5, 1, 1, 1.0f )	// 「あせあせ」
		Wait(20)
		
		// エド
		TalkMes("Ed",
			"#4483V#000e#000mそんな、お茶を淹れた"
			"程度で大げさな。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_CLOSE_E,1)

	// カメラ
	MoveCameraAt( 0 , -4.894f , -1382.065f , 12.796f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.219f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.320f , 0 )	// 基本仰角
	RotateCamera( 0 , 0.137f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.5f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	Turn("Ed", 23.72f, 360.0f)
	LookChr("Ed", "Alison")
	LookChr("ADOL", "Aliso")

	// カメラ移動（角度）
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 14.175f , 450 )

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Ed", "ANI_EV_SC_TEBURI", -1, 1 )	// （椅子）手振り

	// エド
	TalkMes("Ed",
		"#4484V#000e#000m無事に出産が済んだといっても"
		"当分の間はゆっくりしてもらわないと。","")
	WaitPrompt()

	// エド
	TalkMes("Ed",
		"#4485V#011e#000mただでさえ、赤ちゃんのことは"
		"君に任せっきりだしね。","")
	WaitPrompt()

	ChangeSubAnimation("Ed", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	HeadYes("Alison", 1, 25)	// キャラ, うなずき回数, 速さ

	// アリスン
	TalkMes("Alison",
		"#4428V#011e#080mふふ、もう大丈夫なのに。"
		"でもありがとう。","")
	WaitPrompt()
	WaitCloseWindow()

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（角度）
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -6.116f , -1382.245f , 12.816f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.659f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.175f , 0 )	// 基本仰角
	RotateCamera( 0 , 94.378f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.5f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -6.124f , -1382.056f , 12.816f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.859f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 4.123f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 109.846f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 30.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -5.3f , 600 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	LookChr("ADOL", "Alison")

	//　　アドルに「パッ」エモーション。
	EmotionEx("ADOL", 0.05f, EMO_PA, 0, 5, 1, 1, 1.2f)	//パッ
	Wait(35)

	//　　アリスンの薬指の指輪に注目する。

	LookChr("Alison", "ADOL")

	// アリスン
	TalkMes("Alison",
		"#4429V#000e#000mあ、これですか？","","")
	WaitPrompt()

	Look("Alison", 0.0f, -10.0f)	// うつむく

	// アリスン
	TalkMes("Alison",
		"#4430V#000e#000m実はこの間……双子の月が",
		"綺麗な夜にエドからもらったんです。","")
	WaitPrompt()

	LookChr("Ed", "ADOL")

	// エド
	TalkMes("Ed",
		"#4486V#000e#000mはは、実は僕たちが出会ったのも"
		"同じような夜でさ。","")
	WaitPrompt()

	LookChr("ADOL", "Ed")

	HeadYes("Ed", 1, 25)	// キャラ, うなずき回数, 速さ

	// エド
	TalkMes("Ed",
		"#4487V#000e#000mその時に渡そうって決めてたんだ。","決めてた2行目","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"憎い演出だね")
	MenuAdd(2,"仲がよくて羨ましいよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	PlayVoice(Y8V_0161,"ADOL",100)	//はは（微笑）

	// 手振りセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeAnimation( "ADOL", "ANI_EV_SC_TEBURI", -1, 1 )	// （椅子）手振り
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)
	Wait(30)
	Wait(20)

	// うなずきセット
	HeadYes("Alison" , 1 , 25 )
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(5)
	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)

	//──────────────────────
	//	⇒憎い演出だね
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// アリスン
		TalkMes("Alison",
			"#4431V#080mええ、おかげ様で素敵な時間でした。","","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒仲がよくて羨ましいよ
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// アリスン
		TalkMes("Alison",
			"#4432V#090mはい、私は本当に幸せ者だと思います。","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────



	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -4.751f , -1382.546f , 12.716f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.259f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.679f , 0 )	// 基本仰角
	RotateCamera( 0 , 317.428f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	LookChr("Ed", "ADOL")
	LookChr("Alison", "ADOL")
	LookRoll("Alison", 10.0f)	// かしげる
	
	// フェード待ち
	Wait(FADE_CROSS)

	// アリスン
	TalkMes("Alison",
		"#4433V#000e#080mちなみに、アドルさんが"
		"この指輪のルビーをくれたとか。","")
	WaitPrompt()

	LookRoll("Alison", 0.0f)	// かしげる
	Look("Alison", 0.0f, -12.0f)	// うつむく

	// アリスン
	TalkMes("Alison",
		"#4434V#011e#080m本当にどうもありがとうございます。","","")
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒子供の名前がホープ
	if( FLAG[GF_QS520_BABY_NAME_HOPE] == 1 )	//【QS520】赤ちゃんの名前に『ホープ』を選んだ（0もしくはイベントスキップなら『ウィル』,1『ホープ』,2『ルーク』）
	{
		SetName("ホープ")
		PlayVoice(Y8V_5307,"Baby",100)	//きゃっきゃっ（笑い声）
		TalkMes("Baby",
			"#020e#000mきゃっきゃっ♪","","")
		WaitPrompt()
		WaitCloseWindow()
		SetName("")
		
		LookChr("Ed", "Baby")
		
		// エド
		TalkMes("Ed",
			"#4488V#021e#080mはは、ホープも喜んでる。","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒子供の名前がルーク
	else if( FLAG[GF_QS520_BABY_NAME_HOPE] == 2 )	//【QS520】赤ちゃんの名前に『ホープ』を選んだ（0もしくはイベントスキップなら『ウィル』,1『ホープ』,2『ルーク』）
	{
		SetName("ルーク")
		PlayVoice(Y8V_5307,"Baby",100)	//きゃっきゃっ（笑い声）
		TalkMes("Baby",
			"#020e#000mきゃっきゃっ♪","","")
		WaitPrompt()
		WaitCloseWindow()
		SetName("")

		LookChr("Ed", "Baby")
		
		// エド
		TalkMes("Ed",
			"#4489V#021e#080mはは、ルークも喜んでる。","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -5.516f , -1382.004f , 12.756f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.019f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.549f , 0 )	// 基本仰角
	RotateCamera( 0 , 237.788f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.4f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	LookChr("Ed", "ADOL")
	LookChr("Alison", "ADOL")

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -5.681f , -1381.403f , 12.876f, 450 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.219f , 450 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.606f , 450 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 250.114f , 450 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 30.000f , 450 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -5.3f , 450 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	// アリスン
	TalkMes("Alison",
		"#4435V#000e#000mそれにしても、アドルさんには"
		"どれだけお世話になったことか……","")
	WaitPrompt()

	Look("Alison", 0.0f, -10.0f)	// うつむく

	// アリスン
	TalkMes("Alison",
		"#4436V#011e#000mというよりアドルさんがいなければ、"
		"こうして３人でいることもなかったでしょう。","")
	WaitPrompt()

	Look("Alison", 0.0f, 0.0f)	// うつむく戻す

	// アリスン
	TalkMes("Alison",
		"#4437V#012e#080m本当に感謝してもしきれません。","","")
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	HeadYes("Ed" , 1 , 25 )
	ChangeSubAnimation("Ed", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Ed", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	// エド
	TalkMes("Ed",
		"#4490V#000mああ、君は僕たちにとってまさに英雄だ。","","")
	WaitPrompt()
	WaitCloseWindow()

	// カット7 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , -6.560f , -1381.418f , 12.876f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.939f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.751f , 0 )	// 基本仰角
	RotateCamera( 0 , 97.994f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.5f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	LookChr("ADOL", "Ed")
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE, 1)	// 目
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE, 1)	// 口

	// フェード待ち
	Wait(FADE_CROSS)

	// エド
	TalkMes("Ed",
		"#4491V#000e#000mアドル、この島を出ていつか君が"
		"グリークに立ち寄ることがあったら……","")
	WaitPrompt()

	// エド
	TalkMes("Ed",
		"#4492V#000e#000mその時はできればでいい、"
		"僕たちの家に遊びに来て欲しい。","")
	WaitPrompt()

	ChangeAnimation( "Ed", "ANI_EV_SC_TEBURI", -1, 1 )	// （椅子）手振り

	// エド
	TalkMes("Ed",
		"#4493V#000e#000mそしたら、君に相応しい最高の"
		"冒険着を仕立てさせてもらうからさ。","")
	WaitPrompt()
	WaitCloseWindow()


	//　　アドルが頷く。
	
	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
	Wait(25)

	// カット8 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , -4.772f , -1382.429f , 12.896f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.258f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.175f , 0 )	// 基本仰角
	RotateCamera( 0 , 291.488f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -4.761f , -1382.511f , 12.736f , 300 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.258f , 300 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.747f , 300 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 300.375f , 300 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 30.000f , 300 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -1.0f , 300 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	TalkMes("Alison","#4438V#021e#080mふふ、その頃にはこの子も"
		"どれだけ大きくなっていることか……","")
	WaitPrompt()

	TalkMes("Alison","#4439V#081e#080mいつの日か、叶うことを願ってますね。","","")
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)

//　　イベント終了、操作許可。
//　　※アドルを屋内のエントランススペースに再配置。

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()
	
	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Alison_ED")
}
function "Sinai_Alison_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	SetChrPos("Alison", -100000.00f, 0.00f, 0.00f)		// 彼方へ
	SetChrPos("Ed", -100000.00f, 0.00f, 0.00f)		// 彼方へ
	SetChrPos("Baby", -100000.00f, 0.00f, 0.00f)		// 彼方へ

	SetChrPos("ev_eq4006a", -100000.00f, 0.00f, 0.00f)		// 彼方へ
	SetChrPos("ev_eq4006b", -100000.00f, 0.00f, 0.00f)		// 彼方へ
	SetChrPos("ev_eq4006c", -100000.00f, 0.00f, 0.00f)		// 彼方へ

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{

		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_ALISON, 1 )			// 親愛イベントを見た（アリスン）
		SetFlag( GF_SUBEV_SINAI_ED, 1 )				// 親愛イベントを見た（エド）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（アリスン＆エド）	名声値+2
		//SetDiaryCharaFlag( DRCHA_ED, DRCHA_FLAG_INFO3, 1 )		//★人物メモ：追加情報の開放３（エド）

		SetFlag(GF_GALL_EV_LIKE_06,1)			// Sinai_Alison

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",-1.02f, -1386.52f, 11.57f)
		Turn("LEADER",137.38f,360.0f)

		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

	//	SetEnvSEPlayState(-1, 1)	//環境SE
		SetEnvSEPlayState(1202001, 1)	//環境SEスタート
		SetEnvSEPlayState(1202201, 1)	//環境SEスタート
		SetEnvSEPlayState(1202202, 1)	//環境SEスタート
		SetEnvSEPlayState(1202203, 1)	//環境SEスタート
		FadeBGM(100, 30)

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// カーラン卿：▼親愛イベント
function "Sinai_Curran"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Curran")
	LoadChr("Dogi")
	LoadChr("Aaron")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Curran" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Curran" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Curran" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Aaron" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Aaron" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Aaron" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Curran", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",-13.64f, -1363.48f, 11.57f)
	Turn("ADOL",-162.48f,360.0f)
	LookReset("ADOL")
	SetChrPos("Curran",-13.12f,-1362.31f,11.57f)
	Turn("Curran",28.18f,360.0f)
	LookReset("Curran")

	SetChrPos("Dogi",-10.74f, -1366.58f, 11.57f)
	Turn("Dogi",141.66f,360.0f)
	LookReset("Dogi")
	SetChrPos("Aaron",-9.54f, -1367.30f, 11.57f)
	Turn("Aaron",140.10f,360.0f)
	LookReset("Aaron")

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Curran",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Curran" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Aaron",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Aaron",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "Aaron" , "ANI_WAIT", -1 , 1 )

	MoveCameraAt( 0 , -13.593f , -1362.731f , 12.925f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.020f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.749f , 0 )	// 基本仰角
	RotateCamera( 0 , 287.886f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 50.000 ,1.000 ,0.700 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Curran_ED")

//開始処理ここまで-----------------------------------------------

	//　　好感度ＭＡＸの状態で話しかけると字幕イベントを起動。
	//　　フェードインして集落屋内、男子部屋に
	//　　カーラン卿とアドルを再配置する。
	//　　（１タイミングのみなので繋ぎメッセージなしでイベント起動）

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	
	// カット1 ----------------------------------------------------------------------------------------

	// 位置調整・表情・モーション
	LookChr("ADOL", "Curran")
	ChangeSubAnimation("Curran", SUBMOT_MOUTH, ANI_M_SMILE, 1)	// 口

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -13.878f , -1363.047f , 12.905f , 450 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.500f , 450 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -7.418f , 450 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 290.468f , 450 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 450 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -7.4f , 450 )		// ロール回転

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	PlayBGM(BGM_EVENT_007, 0)

	//　　カーラン卿に♪エモーション。
	EmotionEx("Curran", 0.00f, EMO_ONPU, 0, 5, 1, 1, 1.0f)	//♪
	Wait(50)

	FadeBGM(70,0)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	ChangeAnimation( "Curran", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// カーラン
	TalkMes("Curran","#4527V#011e#080mフフン、我が一族の栄光を",
		"語るのは実に久々であったな。","")
	WaitPrompt()
	
	LookChr("Curran", "ADOL")
	
	TalkMes("Curran","#4528V#012e#080mそう、私は誉れ高き",
		"ロムン帝国貴族なのである。","")
	WaitPrompt()
	
	TalkMes("Curran","#4529V#011e#000mその歴史と栄光は",
		"未来永劫、不変の……","")
	WaitPrompt()
	
	StopBGM(120)

	ChangeAnimation( "Curran", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	LookReset("Curran")
	Look("Curran", 0.0f, -10.0f)	// うつむく
	
	TalkMes("Curran","#4530V#060e#000m……不変だというのに……ぐすっ。","","")
	WaitPrompt()
	WaitCloseWindow()

	// カット2 ----------------------------------------------------------------------------------------

	//　　カーラン、悲しみ始める。

	PlayBGM(BGM_EVENT_005, 0)

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -13.224f , -1362.555f , 13.005f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.020f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.689f , 0 )	// 基本仰角
	RotateCamera( 0 , 348.912f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -13.224f , -1362.555f , 12.985f , 450 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.020f , 450 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -6.844f , 450 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 21.851f , 450 )

	// フェード待ち
	Wait(FADE_CROSS)

	TalkMes("Curran","#4531V#062e#000m今やどうだ、このような島で……！","このような2行目","")
	WaitPrompt()
	
	ChangeAnimation( "Curran", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	
	TalkMes("Curran","#4532V#030e#000m得体の知れぬ獣の襲撃に",
		"怯えて過ごさねばならん！！","")
	WaitPrompt()
	
	Look("Curran", -30.0f, 0.0f)	// （＾＾）→
	ChangeSubAnimation("Curran", SUBMOT_EYE, ANI_E_ANGER_E, 1)	// 目
	
	TalkMes("Curran","#4533V#041e#000mせめて家臣たる貴様に報いようとも",
		"褒美を受け取ろうともせん……","")
	WaitPrompt()
	
	ChangeAnimation( "Curran", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	Look("Curran", 0.0f, -10.0f)	// うつむく
	
	TalkMes("Curran","#4534V#060e#000mおお、このままでは一族の歴史が……！","歴史2行目","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -13.317f , -1362.916f , 12.925f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.980f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.404f , 0 )	// 基本仰角
	RotateCamera( 0 , 114.387f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 8.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// フェード待ち
	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"では力を貸してください")
	MenuAdd(2,"どうか落ち着いてください")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0185,"ADOL",100)	//あの──（相手に声をかける）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	
	LookChr("Curran", "ADOL")
	ChangeAnimation( "Curran", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	Wait(10)
	
	//────────────────────
	//	⇒では力を貸してください
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		TalkMes("Curran","#4535V#000e#000m何だと私の力とな？",
			"それならば受け取ると申すか？","")
		WaitPrompt()

		TalkMes("Curran","#4536V#000e#000mしかし、私の力といえば",
			"我が領地にいてこそ振るえる──","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒どうか落ち着いてください
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		TalkMes("Curran","#4537V#000e#000mほう？　落ち着けば",
			"褒美を受け取ると申すのだな？","")
		WaitPrompt()
		
		TalkMes("Curran","#4538V#000e#000m我が一族の栄光を示すため、",
			"是が非でも受け取ってもらうぞ──","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//────────────────────

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット4 ----------------------------------------------------------------------------------------

	//　　そこへドギとエアランが歩いて登場。

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -12.968f , -1363.411f , 12.286f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.371f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.479f , 0 )	// 基本仰角
	RotateCamera( 0 , 237.536f , 0 )				// 角度
	ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -14.10f, -1362.97f, 11.57f)
	Turn("ADOL", -112.74f, 360.0f)
	SetChrPos("Curran", -13.01f, -1362.22f, 11.57f)
	Turn("Curran", 42.39f, 360.0f)
	ChangeAnimation( "ADOL", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "Curran", "ANI_WAIT", -1, 1 )	// 待機
	LookChr("Dogi", "ADOL")
	LookChr("Aaron", "ADOL")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -12.968f , -1363.411f , 13.026f, 120 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.601f  , 120 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.615f , 120 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 216.343f , 120 )

	//MoveCameraAt( 0 , -12.968f , -1363.411f , 13.026f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.601f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.615f , 0 )	// 基本仰角
	//RotateCamera( 0 , 216.343f , 0 )				// 角度
	//ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 移動
	ExecuteCmd(1, MoveTo, "Dogi", -12.95f, -1364.32f, 11.57f, 0.1f, 0.185f)
	ExecuteCmd(2, MoveTo, "Aaron", -11.83f, -1363.95f, 11.57f, 0.1f, 0.172f)

	// フェード待ち
	Wait(FADE_CROSS)


	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// ドギ
	TalkMes("Dogi","#3600V#000e#000mおお、アドルとカーラン卿とは",
		"珍しい組み合わせだな。","")

	LookChr("ADOL", "Dogi")
	Turn("ADOL", -66.55f, 8.0f)
	LookChr("Curran", "Dogi")
	TurnTo("Curran", -13.08f, -1363.20f, 11.57f, 8.0f)

	WaitPrompt()

	ChangeAnimation( "Curran", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	// カーラン
	TalkMes("Curran","#4539V#000e#000m大男に憲兵か、何をしに参った？","","")
	WaitPrompt()
	WaitCloseWindow()

//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//	
	LookChr("Aaron", "Curran")
	WaitThread(2)
	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	TalkMes("Aaron","#3902V#000e#000mフン、籠城が続いているせいで",
		"必要な物資が不足してきちまってな。","")
	WaitPrompt()
	WaitCloseWindow()

	WaitThread(1)
	ChangeAnimation( "Dogi", "ANI_EV_BORI", -1, 1 )	// 頭かき

	TalkMes("Dogi","#3601V#051e#000m計画を色々と見直そうと思ったが、",
		"どうもこういうのは苦手でよ……","")
	WaitPrompt()
	WaitCloseWindow()

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -13.185f , -1363.292f , 13.026f , 120 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.130f , 120 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.645f , 120 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 212.571f , 120 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 60.000f , 120 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -10.0f , 120 )		// ロール回転

	Wait(20)

	// 移動
	ExecuteCmd(1, MoveTo, "Curran", -13.08f, -1363.20f, 11.57f, 0.1f, 0.16f)
	LookChr("Aaron", "Curran")

	TalkMes("Curran","#4540V#000e#000m……見せてみるのである。","","")
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Dogi", "Curran")
	Turn("Dogi", 167.60f, 5.0f)

	TalkMes("Dogi","#3602V#000e#000mへ？　ああ、ちょっと待ってくれ。","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)

	ChangeAnimation( "Dogi", "ANI_EV_TEWATASI_S", -1, 1 )	// 手渡し
	Wait(15)

	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cドギとエアランは各種物資の"
		"#7C運用計画書をカーラン卿に見せた。"
	}
	WaitPrompt()
	WaitCloseWindow()

	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -13.034f , -1363.257f , 12.866f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.650f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.088f , 0 )	// 基本仰角
	RotateCamera( 0 , 319.493f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	ChangeSubAnimation("Curran", SUBMOT_EYE, ANI_E_ANGER_CLOSE, 1)	// 目
	LookReset("Curran")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -13.034f , -1363.257f , 13.006f , 90 )

	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)
	
	TalkMes("Curran","#4541V#040e#000mうぬ……むむむ……？","","")
	WaitPrompt()

	StopBGM(90)

	EarthQuake( 0.05f , 0.05f , 10 )	// 縦揺れ幅, 横揺れ幅, 時間

	TalkMes("Curran","#4542V#18S#030e#000mなっとら───ん！","","")	//（大フォント）
	WaitPrompt()
	WaitCloseWindow()

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)

	// カメラ
	MoveCameraAt( 0 , -12.497f , -1363.055f , 12.936f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.315f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -8.106f , 0 )	// 基本仰角
	RotateCamera( 0 , 169.069f , 0 )				// 角度
	ChangeCameraPers( 0 , 48.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	ChangeAnimation( "Dogi", "ANI_WAIT", -1, 1 )	// 待機

	// フェード待ち
	Wait(FADE_CROSS)
	
	ChangeAnimation( "Dogi", "ANI_EV_HOHOKAKI", -1, 1 )	// 頬かき

	TalkMes("Dogi","#3603V#071e#000mへっ？","","")
	WaitPrompt()
	WaitCloseWindow()

	PlayBGM(BGM_TOWN_501, 0)

	ChangeAnimation( "Curran", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	TalkMes("Curran","#4543V#000e#000mここはもっと切り詰められるはずである。","切り詰める2行目","")
	WaitPrompt()
	
	TalkMes("Curran","#4544V#000e#000mそれから漂流者の人数を考慮すれば、",
		"これくらいの量は──","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)
	
//	//	テキスト
//	TalkMes(UNDEF,"#7Cカーラン卿は手馴れた手つきで",
//		"計画書に修正を入れていく……","")
//	WaitPrompt()
//	WaitCloseWindow()

	Wait(10)

	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cカーラン卿は手馴れた手つきで"
		"#7C計画書に修正を入れていく……"
	}
	WaitPrompt()
	WaitCloseWindow()


	
	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -13.027f , -1363.017f , 13.106f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.550f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.556f , 0 )	// 基本仰角
	RotateCamera( 0 , 227.357f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ADOL", -13.91f, -1363.55f, 11.57f)
	Turn("ADOL", -141.16f, 360.0f)
	SetChrPos("Dogi", -12.90f, -1364.37f, 11.57f)
	Turn("Dogi", 178.26f, 360.0f)
	SetChrPos("Aaron", -11.90f, -1363.69f, 11.57f)
	Turn("Aaron", 113.62f, 360.0f)
	SetChrPos("Curran", -12.93f, -1362.52f, 11.57f)
	Turn("Curran", -6.56f, 360.0f)
	LookChr("ADOL", "Curran")
	LookChr("Dogi", "Curran")
	LookChr("Aaron", "Curran")
	ChangeAnimation( "Curran", "ANI_WAIT", -1, 1 )	// 待機

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -13.109f , -1363.215f , 12.966f , 450 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.791f , 450 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 5.713f , 450 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 213.319f , 450 )

	// フェード待ち
	Wait(FADE_CROSS)
	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	TalkMes("Dogi","#3604V#000e#000mおお、な、なるほどな……","","")
	WaitPrompt()
	
	LookChr("Aaron", "Dogi")

	TalkMes("Aaron","#3903V#000e#000mこれしかねぇと言うくらい",
		"見事な計画書じゃねえか……","")
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Aaron", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	TalkMes("Aaron","#3904V#000e#000mこれに沿って進めてれば、",
		"もうしばらくは何とかなりそうだな。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"さすがです")
	MenuAdd(2,"驚きました……")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0170,"ADOL",100)	//おお…（感嘆）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	// カット7 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -12.689f , -1363.226f , 12.786f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.270f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.303f , 0 )	// 基本仰角
	RotateCamera( 0 , 111.045f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookChr("Aaron", "Curran")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -12.689f , -1363.226f , 13.026f , 300 )

	// フェード待ち
	Wait(FADE_CROSS)
	
	LookChr("Curran", "ADOL")
	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	//────────────────────
	//	⇒さすがです
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		ChangeAnimation( "Curran", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
		
		TalkMes("Curran","#4545V#000e#000m当たり前だ、この程度は",
			"我が父君に散々仕込まれたのである。","")
		WaitPrompt()

		LookChr("Curran", "Aaron")
		
		TalkMes("Curran","#4546V#000e#000mお前たち、こんなものが必要なのか？","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒驚きました……
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		TalkMes("Curran","#4547V#000e#000m何をハトが豆鉄砲を",
			"食らったような顔をしておる？","")
		WaitPrompt()
		
		ChangeAnimation( "Curran", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
		
		TalkMes("Curran","#4548V#000e#000mこの程度であれば、さんざん",
			"我が父君から仕込まれたものである。","")
		WaitPrompt()
		
		LookChr("Curran", "Aaron")
		
		TalkMes("Curran","#4549V#000e#000mもしかしてお前たち、",
			"こんなものが必要なのか？","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	ChangeAnimation( "Aaron", "ANI_EV_BORI", -1, 1 )	// 頭かき

	TalkMes("Aaron","#3905V#011e#000m認めたくはねえが、",
		"あれば非常に助かるのは確かだ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット8 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	
	// カメラ
	MoveCameraAt( 0 , -13.311f , -1363.361f , 12.966f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.550f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.556f , 0 )	// 基本仰角
	RotateCamera( 0 , 343.842f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -8.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	LookReset("Curran")
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -13.211f , -1363.448f , 13.106f , 450 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.270f , 450 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 10.582f , 450 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 331.236f , 450 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 450 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -2.3f , 450 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	//　　カーラン卿に閃きエモーション表示。
	EmotionEx("Curran", 0.00f, EMO_PIKA, 0, 5, 1, 1, 1.0f)	//閃く
	Wait(40)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	ChangeAnimation( "Curran", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	TalkMes("Curran","#4550V#070e#000m──閃いたのである！","","")
	WaitPrompt()
	
	LookChr("Curran", "ADOL")
	Turn("Curran", 22.26f, 6.0f)

	TalkMes("Curran","#4551V#000e#080mアドル、この計画書を",
		"褒美として遣わすのである。","")
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	TalkMes("Dogi","#3605V#000e#000mな、何のことか分からんが",
		"とにかく有難いぜ。","")
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Curran")
	Wait(10)
	HeadYes("Curran" , 2 , 30 )

	TalkMes("Curran","#4552V#021e#080mうむ、そうであろうそうであろう。","","")
	WaitPrompt()

	LookReset("Curran")
	ChangeAnimation( "Curran", "ANI_EV_SEKI", -1, 1 )	// 咳払い

	TalkMes("Curran","#4553V#022e#080mやはり、お前たち民衆には",
		"このカーラン様の力が必要なのだ。","")
	WaitPrompt()

	TalkMes("Curran","#4554V#011e#080m我が一族の栄光は",
		"地に堕ちてはいなかったようであるな。","")
	WaitPrompt()
	
	LookChr("Curran", "ADOL")
	ChangeAnimation( "Curran", "ANI_EV_TEBURI", -1, 1 )	// 手振り

	TalkMes("Curran","#4555V#012e#080mさあアドルよ、お前も早く行って",
		"なすべき事をなしてくるがいい。","")
	WaitPrompt()

	TalkMes("Curran","#4556V#000e#000mまた功を上げれば、",
		"褒美を取らせんこともないぞ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット9 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , -13.242f , -1363.283f , 13.006f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.270f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -6.033f , 0 )	// 基本仰角
	RotateCamera( 0 , 222.094f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// フェード待ち
	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"いえ、もう大丈夫です")
	MenuAdd(2,"またよろしくお願いします")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0188,"ADOL",100)	//ええと…（相手に声をかける）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_TEBURI", -1, 1 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	//────────────────────
	//	⇒いえ、もう大丈夫です
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		LookChr("Aaron", "ADOL")
		ChangeAnimation( "Aaron", "ANI_EV_TEBURI", -1, 1 )	// 手振り
		
		TalkMes("Aaron","#3906V#000e#080mいや、頼めるモンなら",
			"またお願いしたいもんだぜ。","")
		WaitPrompt()
		WaitCloseWindow()
		
		// うなずきセット		
		TalkMes("Dogi","#3606V#011e#080mああ、こっち方面はカーラン卿が",
			"いてくれりゃあ百人力だ。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒またよろしくお願いします
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// うなずきセット		
		TalkMes("Curran","#4557V#021e#000m分かっておる、信賞必罰を",
			"徹底してこそ主君の鑑と言えよう。","")
		WaitPrompt()
		WaitCloseWindow()
		
		ChangeAnimation( "Curran", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

		TalkMes("Curran","#4558V#000e#000mありがたく思うがよい！","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

//　　イベント終了、操作許可。
//　　※アドルを屋内のエントランススペースに再配置。

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し


//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Curran_ED")
}
function "Sinai_Curran_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_CURRAN, 1 )			// 親愛イベントを見た（カーラン）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（カーラン）	名声値+2

		SetFlag(GF_GALL_EV_LIKE_07,1)			// Sinai_Curran

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",1.69f,-1389.41f,11.57f)
		Turn("LEADER",135.00f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)
	//	SetEnvSEPlayState(-1, 1)
		SetEnvSEPlayState(1202001, 1)	//環境SEスタート
		SetEnvSEPlayState(1202201, 1)	//環境SEスタート
		SetEnvSEPlayState(1202202, 1)	//環境SEスタート
		SetEnvSEPlayState(1202203, 1)	//環境SEスタート
		FadeBGM(100, 30)

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}
function "Sinai_Curran_Dogi_move"
{
	SetChrPos("Dogi",-10.03f,-1366.93f,11.57f)
	Turn("Dogi",132.86f,360.0f)

	MoveTo( "Dogi", -12.31f,-1364.79f,11.57f, 0.1f, 0.25f )
	Turn("Dogi",141.66f,8.0f)
}
function "Sinai_Curran_Aaron_move"
{
	SetChrPos("Aaron",-9.55f,-1367.60f,11.57f)
	Turn("Aaron",143.01f,360.0f)

	MoveTo( "Aaron",-11.43f,-1364.32f,11.57f, 0.1f, 0.25f )
	Turn("Aaron",125.89f,8.0f)
}

//===============================================================
// タナトス：▼親愛イベント
function "Sinai_Thanatos"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("Thanatos")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "Thanatos" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "Thanatos" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "Thanatos" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",-10.36f, -1363.72f, 11.57f)
	Turn("ADOL",-115.43f,360.0f)
	LookReset("ADOL")
	SetChrPos("Thanatos",-8.31f, -1363.04f, 11.57f)
	Turn("Thanatos",72.32f,360.0f)
	LookReset("Thanatos")

	SetChrPos("ev_eq4006a",-10.00f, -1363.46f, 12.50f)	// （カップ）アドル
	Turn("ev_eq4006a", -21.32f, 360.0f)

//	SetChrPos("ev_eq4016", -100000.00f, 0.00f, 0.00f)	// （マグ）
//	ChangeAnimation( "ev_eq4016", "ANI_WAIT_ADOL", -1, 1 )

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation("ADOL","ANI_EV_SIT_C", -1 , 1 )	
	ChangeSubAnimation("Thanatos",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Thanatos",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Thanatos",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation("Thanatos","ANI_EV_SIT_C", -1 , 1 )	

	MapHide("obj_que05", 1)			//親愛：タナトス
	MapAnime("fire", "on")
	
	MoveCameraAt( 0 , -10.925f , -1363.329f , 13.214f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.880f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.038f , 0 )	// 基本仰角
	RotateCamera( 0 , 241.263f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 50.000 ,2.000 ,0.400 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Thanatos_ED")

//開始処理ここまで-----------------------------------------------

	//　　暗転を挟んで字幕イベント。
	//　　男子部屋のテーブルでアドルとタナトスが
	//　　一緒にコーヒーを飲んでいる。

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------

	// 位置調整・表情・モーション
	LookChr("ADOL", "Thanatos")
	LookChr("Thanatos", "ADOL")

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -9.135f , -1363.654f , 12.934f , 125 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.880f , 125 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.622f , 125 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 260.738f , 125 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 125 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -1.7f , 125 )		// ロール回転

	PlayBGM(BGM_TOWN_501, 0)

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	// カメラ待ち（Aイベント用）
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//	WaitThread(1004)
//	WaitThread(1005)

	Wait(30)

	FadeBGM(70,10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	ChangeAnimation( "Thanatos", "ANI_EV_SC_UDEGUMI_S", -1, 1 )	// （椅子座り）腕組み

	// タナトス
	TalkMes("Thanatos","#3970V#000e#000mそういえばアドルは、そもそも",
		"『コーヒー』を知っておったかの？","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"聞くのも飲むのも初めてです")
	MenuAdd(2,"噂に聞いたことくらいは")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//────────────────────
	//	⇒聞くのも飲むのも初めてです
	if (FLAG[TF_MENU_SELECT] == 1) {

		PlayVoice(Y8V_0167,"ADOL",100)	//いえ…（目上に対する否定）
		
		// 首振りパクパク
		HeadNo("ADOL", 1, 30)	// キャラ, 回数, 速さ
		//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(30)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)

		// タナトス
		TalkMes("Thanatos","#3971V#011e#000mそうか、じゃがまあ無理もない。","","")
		WaitPrompt()

		ChangeAnimation( "Thanatos", "ANI_EV_SC_UDEGUMI_E", -1, 1 )	// （椅子座り）腕組み

		// タナトス
		TalkMes("Thanatos","#3972V#012e#000m今はまだ、ごくごく一部の間でしか",
		"知られておらんからのう。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒噂に聞いたことくらいは
	else if (FLAG[TF_MENU_SELECT] == 2) {

		PlayVoice(Y8V_0159,"ADOL",100)	//ええ（目上に対する肯定）
		
		// 首振りパクパク
		HeadYes("ADOL", 1, 25)	// キャラ, 回数, 速さ
		//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		Wait(25)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)

		// タナトス
		TalkMes("Thanatos","#3973V#011e#000mほう、そうじゃったか。","","")
		WaitPrompt()

		ChangeAnimation( "Thanatos", "ANI_EV_SC_UDEGUMI_E", -1, 1 )	// （椅子座り）腕組み

		// タナトス
		TalkMes("Thanatos","#3974V#012e#080mでは飲むのは初めてということか。",
			"フフ、反応が楽しみじゃ。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	// うなずきセット
	HeadYes("Thanatos" , 1 , 25 )
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	TalkMes("Thanatos","#3975V#080mさあ、ともかくまずは試してみるといい。","","")
	WaitPrompt()
	WaitCloseWindow()

	FadeOut(FADE_BLACK,FADE_FAST)
	WaitFade()
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット2 ----------------------------------------------------------------------------------------

	//　　アドルがコーヒーを一口飲み、
	//　　苦い顔をして「モヤモヤ」エモーションを表示。

	Wait(20)
	PlaySE(SE_SINAI_THANATOS_01, 100, 0, 0, 0, 1.0f, 0)
	Wait(30)

	// クロスフェード
	//CrossFade(FADE_NORMAL)

	// カメラ
	MoveCameraAt( 0 , -9.912f , -1363.771f , 12.774f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.960f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.324f , 0 )	// 基本仰角
	RotateCamera( 0 , 84.014f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

//	ChangeAnimation( "ADOL", "ANI_SC_MUGWAIT", -1, 1 )	// カップ持ち
//	SetParent("ev_eq4016", "ADOL", "Bone_Rhand")

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -9.984f , -1363.892f , 12.774f , 105 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.960f , 105 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -10.352f , 105 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 69.118f , 105 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 105 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -1.7f , 105 )		// ロール回転

	// フェード待ち
//	Wait(FADE_NORMAL)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_FUMAN_S, 1)	// 目
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_TAME_S, 1)	// 口

	EmotionEx("ADOL", 0.00f, EMO_MOYA, 0, 5, 1, 1, 1.0f)	//モヤモヤ
	Wait(50)
	
	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	
	Wait(10)
	
	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -8.334f , -1362.875f , 12.854f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.440f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.190f , 0 )	// 基本仰角
	RotateCamera( 0 , 240.044f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 17.2f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)	// 口

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -8.338f , -1362.951f , 12.854f , 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.440f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -6.054f , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 328.564f , 900 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 900 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -2.3f , 900 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	// タナトス
	TalkMes("Thanatos","#3976V#021e#080mワハハ、どうやらお前さんの口には",
		"合わなかったようじゃのう！","")
	WaitPrompt()

	ChangeAnimation( "Thanatos", "ANI_EV_SC_TEBURI", -1, 1 )	// （椅子座り）手振り

	// タナトス
	TalkMes("Thanatos","#3977V#022e#000m念のため断っておくが、",
		"コーヒーはこの苦味こそが醍醐味での。","")
	WaitPrompt()

	// タナトス
	TalkMes("Thanatos","#3978V#11e#080mリコッタのお茶も絶品じゃが、",
		"たまに無性に飲みたくなるんじゃよ。","")
	WaitPrompt()

	// タナトス
	TalkMes("Thanatos","#3979V#020e#080mまあ、お前さんももう少し人生経験を積めば",
		"旨く感じられるようになるはずじゃ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット4 ----------------------------------------------------------------------------------------

	//　　タナトスが何かしらモーション。

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , -10.246f , -1364.123f , 12.554f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.440f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.612f , 0 )	// 基本仰角
	RotateCamera( 0 , 320.260f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.5f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -10.246f , -1364.123f , 12.874f , 600 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	ChangeAnimation( "Thanatos", "ANI_EV_SC_UDEGUMI_S", -1, 1 )	// （椅子座り）腕組み

	// タナトス
	TalkMes("Thanatos","#3980V#022e#000mところでコーヒーは、",
		"とある木の実から作るんじゃが……","")
	WaitPrompt()

	Look("Thanatos", 0.0f, -10.0f)	// うつむく

	// タナトス
	TalkMes("Thanatos","#3981V#011e#000mその樹はアフロカ大陸に",
		"生息しておっての。","")
	WaitPrompt()

	Look("Thanatos", 0.0f, 0.0f)	// うつむく戻す

	// タナトス
	TalkMes("Thanatos","#3982V#012e#080m今回は、わしが以前",
		"持ち帰ったもので淹れたんじゃ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドルに「！」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 0.8f)	//！
	Wait(45)

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	
	// カメラ
	MoveCameraAt( 0 , -8.724f , -1363.209f , 12.814f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.919f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.395f , 0 )	// 基本仰角
	RotateCamera( 0 , 87.447f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -4.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -8.724f , -1363.209f , 12.814f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.919f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.682f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 141.875f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 8.9f , 600 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	ChangeAnimation( "Thanatos", "ANI_EV_SC_UDEGUMI_E", -1, 1 )	// （椅子座り）腕組み

	// タナトス
	TalkMes("Thanatos","#3983V#000e#000mワハハ、どうやらお前さんは",
		"アフロカに興味津々のようじゃな。","")
	WaitPrompt()

	// タナトス
	TalkMes("Thanatos","#3984V#000e#000m何を隠そう、わしは",
		"長年アフロカを調査しておっての。","")
	WaitPrompt()

	ChangeAnimation( "Thanatos", "ANI_EV_SC_TEBURI", -1, 1 )	// （椅子座り）手振り

	// タナトス
	TalkMes("Thanatos","#3985V#000e#000mかつてはスハラ砂漠の南側に",
		"足を踏み入れたこともあるんじゃ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドルに「！！」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_EX2, 0, 5, 1, 1, 1.0f)	//!!
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SUP_S, 1)	// 目
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_OPEN_S, 1)	// 口
	Wait(40)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SUP_E, 1)	// 目
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_OPEN_E, 1)	// 口

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// タナトス
	TalkMes("Thanatos","#3986V#000e#000mワハハ、驚いたかの。","","")
	WaitPrompt()
	WaitCloseWindow()

	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -10.778f , -1369.962f , 13.234f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.600f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.037f , 0 )	// 基本仰角
	RotateCamera( 0 , 322.648f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 50.000 ,2.000 ,0.150 ,0.500)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -8.284f , -1370.363f , 13.807f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.305f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 5.663f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 7.570f , 900 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Thanatos", "ANI_EV_SC_UDEGUMI_S", -1, 1 )	// （椅子座り）腕組み
	Wait(10)

	// タナトス
	TalkMes("Thanatos","#3987V#000e#000mちなみにこれは変な話じゃが……","変な話2行目","")
	WaitPrompt()

	// タナトス
	TalkMes("Thanatos","#3988V#000e#000m未踏の地への挑戦には、人脈はもちろん、",
		"時として莫大な資金が必要になる。","")
	WaitPrompt()

//	HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ

	ChangeAnimation( "Thanatos", "ANI_EV_SC_UDEGUMI_E", -1, 1 )	// （椅子座り）腕組み

	// タナトス
	TalkMes("Thanatos","#3989V#000e#000mその中でわしは、とある侯爵閣下の",
		"支援を受けておっての。","")
	WaitPrompt()

	ChangeAnimation( "Thanatos", "ANI_EV_SC_SIAN_S", -1, 1 )	// （椅子座り）思案

	// タナトス
	TalkMes("Thanatos","#3990V#000e#000m２年前に大規模なアフロカ探索計画を",
		"立てたのじゃが……","")
	WaitPrompt()

	// タナトス
	TalkMes("Thanatos","#3991V#000e#000mその前段階の航海で、このセイレン島に",
		"流れ着いてしまったのじゃ。","")
	WaitPrompt()
	WaitCloseWindow()


	// カット7 ----------------------------------------------------------------------------------------

	//　　ここでカメラを切り替える。

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -11.411f , -1363.180f , 12.774f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.200f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.189f , 0 )	// 基本仰角
	RotateCamera( 0 , 248.156f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 50.000 ,2.000 ,0.450 ,0.500)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -8.861f , -1362.803f , 12.874f , 900 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.200f , 900 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.897f , 900 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 238.708f , 900 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 900 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -5.7f , 900 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_CROSS)

	// タナトス
	TalkMes("Thanatos","#3992V#000e#000m当初はどうしたものかと思ったが……","","")
	WaitPrompt()

	ChangeAnimation( "Thanatos", "ANI_EV_SC_SIAN_E", -1, 1 )	// （椅子座り）思案

	// タナトス
	TalkMes("Thanatos","#3993V#011e#080m島の探険は、想像以上に",
		"刺激的で楽しいものじゃった。","")
	WaitPrompt()

	// タナトス
	TalkMes("Thanatos","#3994V#012e#080mそれに何より、リコッタと",
		"出会えたことが大収穫でのう。","")
	WaitPrompt()

	ChangeAnimation( "Thanatos", "ANI_EV_SC_UDEGUMI_S", -1, 1 )	// （椅子座り）腕組み
	Look("Thanatos", 0.0f, -5.0f)	// うつむく

	// タナトス
	TalkMes("Thanatos","#3995V#021e#080mこの歳になってこれほど",
		"大事に思える存在に出会えるとは……","")
	WaitPrompt()

	Look("Thanatos", 0.0f, 0.0f)	// うつむく戻す

	// タナトス
	TalkMes("Thanatos","#3996V#022e#080m今まで自分一人で突っ走ってきたが",
		"本当に不思議な感覚じゃよ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット8 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -8.543f , -1363.203f , 12.876f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.200f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.734f , 0 )	// 基本仰角
	RotateCamera( 0 , 307.406f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -1.2f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -8.602f , -1363.003f , 12.876f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.200f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.166f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 260.134f , 900 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	//　　タナトスに「…」エモーション。
	EmotionEx("Thanatos", 0.035f, EMO_3DOT, 0, 5, 1, 1, 0.8f)	//…
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	Wait(45)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	ChangeAnimation( "Thanatos", "ANI_EV_SC_UDEGUMI_E", -1, 1 )	// （椅子座り）腕組み
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// タナトス
	TalkMes("Thanatos","#3997V#000e#000mふむ、前にも話したが",
		"わしはこの島を出たら……","")
	WaitPrompt()

	// タナトス
	TalkMes("Thanatos","#3998V#000e#000mリコッタに、あの子に",
		"色々な世界を見せてやるつもりじゃ。","")
	WaitPrompt()

	Look("Thanatos", 0.0f, -10.0f)	// うつむく

	// タナトス
	TalkMes("Thanatos","#3999V#011e#000mその上で何を選択するかは",
		"もちろん本人次第じゃが……","")
	WaitPrompt()
	
	Look("Thanatos", 0.0f, 0.0f)	// うつむく戻す

	// タナトス
	TalkMes("Thanatos","#4000V#012e#000mいずれリコッタと共にアフロカに",
		"渡るという可能性も十分にあるじゃろう。","")
	WaitPrompt()
	WaitCloseWindow()


	// カット9 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -8.215f , -1362.641f , 13.096f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.200f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.148f , 0 )	// 基本仰角
	RotateCamera( 0 , 126.636f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 1.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -8.215f , -1362.641f , 12.916f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.200f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.132f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 139.816f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 22.6f , 600 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Thanatos", "ANI_EV_SC_UDEGUMI_S", -1, 1 )	// （椅子座り）腕組み

	// タナトス
	TalkMes("Thanatos","#4001V#000e#000mそうなるとアドル、お前さんとは",
		"どこかで鉢合わせするやもしれんのう。","")
	WaitPrompt()

	// タナトス
	TalkMes("Thanatos","#4002V#000e#000mその時はまた改めて、",
		"わしが淹れたコーヒーでも飲むとしよう。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"今度はリコッタも一緒に")
	MenuAdd(2,"今度はドギも一緒に")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	PlayVoice(Y8V_0161,"ADOL",100)	//はは（微笑）


	// うなずきパクパク
	HeadYes("ADOL" , 1 , 25 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	// カット10 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , -9.739f , -1363.426f , 12.796f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.159f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.874f , 0 )	// 基本仰角
	RotateCamera( 0 , 240.374f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 258.130f , 600 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)
	Wait(10)
	//────────────────────
	//	⇒今度はリコッタも一緒に
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// タナトス
		TalkMes("Thanatos","#4003V#020e#080mああ、きっとその頃にはとんでもない",
			"べっぴんになっておるじゃろう。","")
		WaitPrompt()
	
		ChangeAnimation( "Thanatos", "ANI_EV_SC_UDEGUMI_E", -1, 1 )	// （椅子座り）腕組み
	
		// タナトス
		TalkMes("Thanatos","#4004V#022e#080mじゃが、わしの目の黒い内は",
			"間違っても惚れるんじゃないぞ。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒今度はドギも一緒に
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// タナトス
		TalkMes("Thanatos","#4005V#000e#080mああ、それまで",
			"二人とも死ぬんじゃないぞ。","")
		WaitPrompt()

		ChangeAnimation( "Thanatos", "ANI_EV_SC_UDEGUMI_E", -1, 1 )	// （椅子座り）腕組み

		// タナトス
		TalkMes("Thanatos","#4006V#050e#000mって年齢的には、",
			"わしが一番やばいんじゃがな。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	// タナトス
	TalkMes("Thanatos","#4007V#020e#080mワハハハハッ──！","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し


	// カット11 ----------------------------------------------------------------------------------------

	//　　タナトスとアドルが「ワイワイ」エモーションで
	//　　まだまだ語らっている所を写しつつ、
	//　　カメラを上にスクロールして画面フェードアウト。

	// クロスフェード
	CrossFade(60)

	// カメラ停止
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -9.228f , -1365.500f , 12.996f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.879f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -5.599f , 0 )	// 基本仰角
	RotateCamera( 0 , 346.661f , 0 )				// 角度
	ChangeCameraPers( 0 , 50.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -9.228f , -1365.500f , 14.836f , 240 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.879f , 240 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -7.031f , 240 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 335.202f , 240 )
	ChangeSubAnimation("Thanatos",SUBMOT_EYE,ANI_E_LAUGH,1)
	
	// フェード待ち
	Wait(FADE_NORMAL)

	EmotionEx("Thanatos", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//ワイワイ
	SetChrWork("Thanatos", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("Thanatos",SUBMOT_MOUTH,ANI_M_SMILE,1)
	Wait(30)
	ChangeSubAnimation("Thanatos",SUBMOT_MOUTH,ANI_M_SMILE,1)
	SetChrWork("Thanatos", CWK_FORCELIPSYNC, 0)
	Wait(30)

	HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
	EmotionEx("ADOL", 0.00f, EMO_WAI, 0, 5, 1, 0, 1.0f)	//ワイワイ
	Wait(20)

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()

	//　　イベント終了、操作許可。
	//　　※アドルを屋内のエントランススペースに再配置。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Thanatos_ED")
}
function "Sinai_Thanatos_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_NPCALL")

	SetChrPos("Thanatos", -100000.00f, 0.00f, 0.00f)		// 彼方へ

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム回収
		SetFlag( GF_SUBEV_SINAI_THANATOS, 1 )		// 親愛イベントを見た（タナトス）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（タナトス）	名声値+2
		//SetDiaryCharaFlag( DRCHA_THANATOS, DRCHA_FLAG_INFO3, 1 )	//★人物メモ：追加情報の開放３（タナトス）

		SetFlag(GF_GALL_EV_LIKE_08,1)			// Sinai_Thanatos

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",1.69f,-1389.41f,11.57f)
		Turn("LEADER",135.00f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

	//	SetEnvSEPlayState(-1, 1)	//環境SE
		SetEnvSEPlayState(1202001, 1)	//環境SEスタート
		SetEnvSEPlayState(1202201, 1)	//環境SEスタート
		SetEnvSEPlayState(1202202, 1)	//環境SEスタート
		SetEnvSEPlayState(1202203, 1)	//環境SEスタート
		FadeBGM(100,30)

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}

//===============================================================
// リコッタ：▼親愛イベント
function "Sinai_Ricotta"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	FadeOut(FADE_BLACK,0)
	WaitFade()

	LoadChr("RICOTTA")

	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	CallFunc("system:party_reset")
	CallFunc("system:party_remove")
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//インフォフラグ、キャラワーク
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOMAPATARICHECK )
	SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOGRAVITY )
	SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOMAPATARICHECK )
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)

	SetChrPos("ADOL",-25.29f, -1375.78f, 12.39f)
	Turn("ADOL",-163.20f,360.0f)
	LookReset("ADOL")
	SetChrPos("RICOTTA",-24.49f, -1373.83f, 12.39f)
	Turn("RICOTTA",24.04f,360.0f)
	LookReset("RICOTTA")

	SetChrPos("ev_eq4006a",-24.84f, -1375.42f, 13.30f)	// （カップ）アドル
	Turn("ev_eq4006a", 136.16f, 360.0f)
	SetChrPos("ev_eq4006b",-24.65f, -1374.05f, 13.30f)	// （カップ）リコッタ
	Turn("ev_eq4006a", -63.95f, 360.0f)

	SetChrPos("ev_eq4008", -100000.00f, 0.00f, 0.00f)	// リコッタの首飾り
	ChangeAnimation( "ev_eq4008", "ANI_WAIT", -1, 1)

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "ADOL", "ANI_EV_SIT_C", -1, 1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	ChangeAnimation( "RICOTTA", "ANI_EV_SIT_C", -1, 1)

	MoveCameraAt( 0 , -23.780f , -1374.209f , 14.087f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.040f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.040f , 0 )	// 基本仰角
	RotateCamera( 0 , 347.004f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:Sinai_Ricotta_ED")

//開始処理ここまで-----------------------------------------------

	//　　暗転を挟んで字幕イベント。
	//　　女子部屋のテーブルでアドルとリコッタが
	//　　一緒に紅茶を飲んでいる。

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット1 ----------------------------------------------------------------------------------------

	LookChr("ADOL", "RICOTTA")
	LookChr("RICOTTA", "ADOL")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -24.881f , -1375.066f , 13.567f , 110 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.360f , 110 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.251f , 110 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 357.031f , 110 )

	PlayBGM(BGM_TOWN_501, 0)
//	SetEnvSEPlayState(-1, 1)	//環境SE
	SetEnvSEPlayState(1202001, 1)	//環境SEスタート
	SetEnvSEPlayState(1202201, 1)	//環境SEスタート
	SetEnvSEPlayState(1202202, 1)	//環境SEスタート
	SetEnvSEPlayState(1202203, 1)	//環境SEスタート

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	// カメラ待ち
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)

	Wait(30)

	FadeBGM(70, 10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	// リコッタ
	TalkMes("RICOTTA","#2572V#011e#080m今日のお茶はラクシャ姉から",
		"習った方法で淹れてみた。","")
	WaitPrompt()

	ChangeAnimation( "RICOTTA", "ANI_EV_SC_UDEGUMI_S", -1, 1 )	// （椅子座り）腕組

	// リコッタ
	TalkMes("RICOTTA","#2573V#012e#080m香りが違うはず……どうだ！","香り2行目","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"うん、おいしいよ")
	MenuAdd(2,"確かにいい香りがするね")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0158,"ADOL",100)	//うん（納得）

	// うなずきパクパク
	HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(25)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)

	ChangeAnimation( "RICOTTA", "ANI_EV_SC_UDEGUMI_E", -1, 1 )	// （椅子座り）腕組
	
	//──────────────────────
	//	⇒うん、おいしいよ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// リコッタ
		TalkMes("RICOTTA","#2574V#021e#080mなはは、よかった。","","")
		WaitPrompt()

		// うなずきセット
		HeadYes("RICOTTA" , 1 , 25 )
		Wait(15)
		ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_LAUGH_E, 1)

		// リコッタ
		TalkMes("RICOTTA","#2575V#080mその言葉がイチバン嬉しい。","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒確かにいい香りがするね
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// リコッタ
		TalkMes("RICOTTA","#2576V#021e#080m分かってくれるか！","","")
		WaitPrompt()

		// うなずきセット
		HeadYes("RICOTTA" , 1 , 25 )
		Wait(15)
		ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_LAUGH_E, 1)

		// リコッタ
		TalkMes("RICOTTA","#2577V#080m淹れ方一つでこんなに",
			"変わるとは何とも不思議。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -24.481f , -1374.168f , 13.327f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.360f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.040f , 0 )	// 基本仰角
	RotateCamera( 0 , 135.112f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -24.481f , -1374.168f , 13.567f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.360f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 0.533f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 182.094f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 35.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -6.9f , 600 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_CROSS)
	
	// リコッタ
	TalkMes("RICOTTA","#2578V#000e#000mあとコレ、前にもらった石で",
		"作ったアクセサリー。","")
	WaitPrompt()

	// リコッタ
	TalkMes("RICOTTA","#2579V#000e#000mリコッタとお揃いの首飾りにしてみた。","お揃い2行目","")
	WaitPrompt()

	ChangeAnimation( "RICOTTA", "ANI_EV_SC_UDEGUMI_S", -1, 1 )	// （椅子座り）腕組

	// リコッタ
	TalkMes("RICOTTA","#2580V#000e#000mエアランとアリスンにも教わって作った",
		"リコッタの最高傑作──","")
	WaitPrompt()

	// リコッタ
	TalkMes("RICOTTA","#2581V#000e#000m今から着けるから、じっとしてる！",
		"リコッタ2行目","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(10)
	// カット3 ----------------------------------------------------------------------------------------

	//　　リコッタが「♪」エモーションを出しながら
	//　　アドルに首飾りを着ける。

	FadeOut(FADE_BLACK,FADE_FAST)
	WaitFade()

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)


	// 位置調整・表情・モーション
	SetChrPos("ADOL",-25.03f, -1376.31f, 12.39f)
	Turn("ADOL",-56.61f,360.0f)
	SetChrPos("RICOTTA",-24.43f, -1376.65f, 12.39f)
	Turn("RICOTTA",110.85f,360.0f)
	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
	SetChrPos("ev_eq4008",-25.03f, -1376.31f, 12.39f)
	SetParent("ev_eq4008", "ADOL", "Bone_upper02")	// 首飾り装着

	// カメラ
	MoveCameraAt( 0 , -24.959f , -1376.203f , 13.488f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.746f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 14.247f , 0 )	// 基本仰角
	RotateCamera( 0 , 94.561f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -0.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(15)

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	Wait(15)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -24.869f , -1376.418f , 13.633f , 85 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.866f , 85 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.424f , 85 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 99.487f , 85 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 35.000f , 85 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -7.6f , 85 )		// ロール回転

	Wait(60)

	EmotionEx("RICOTTA", 0.00f, EMO_ONPU, 0, 5, 1, 0, 0.8f)	//♪
	Wait(30)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示

	ChangeAnimation( "RICOTTA", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// リコッタ
	TalkMes("RICOTTA","#2582V#000e#000mじゃじゃ～んっ！","","")
	WaitPrompt()

	HeadYes("RICOTTA", 1, 25)	// キャラ, うなずき回数, 速さ

	// リコッタ
	TalkMes("RICOTTA","#2583V#000e#000mおおっ、思った通りスッゴク似合う！","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ありがとう")
	MenuAdd(2,"すごく嬉しいよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0161,"ADOL",100)	//はは（微笑）

	// 手振りセット
	HeadYes("ADOL", 1 , 25 )
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	
	//──────────────────────
	//	⇒ありがとう
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		StopBGM(90)
		
		HeadNo("RICOTTA", 1, 25)	// キャラ, 回数, 速さ
		ChangeAnimation( "RICOTTA", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
		
		// リコッタ
		TalkMes("RICOTTA","#2584V#000e#000m否──それはリコッタのセリフ。","","")
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒すごく嬉しいよ
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		HeadYes("RICOTTA", 2, 25)	// キャラ, 回数, 速さ
		
		// リコッタ
		TalkMes("RICOTTA","#2585V#000e#000mそうかそうか！","","")
		WaitPrompt()

		ChangeAnimation( "RICOTTA", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

		StopBGM(90)

		// リコッタ
		TalkMes("RICOTTA","#2586V#000e#000mなはは、頑張って作った甲斐あった。","","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	// カット4 ----------------------------------------------------------------------------------------

	PlayBGM(BGM_EVENT_016, 0)

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -24.767f , -1376.517f , 13.553f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.586f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.457f , 0 )	// 基本仰角
	RotateCamera( 0 , 275.856f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.4f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -26.050f , -1375.690f , 13.793f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.026f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.317f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 296.777f , 900 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	FadeBGM(70,10)

	ChangeAnimation( "RICOTTA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// リコッタ
	TalkMes("RICOTTA","#2587V#080e#080mリコッタ、みんなに会えて",
		"ホントによかった。","")
	WaitPrompt()

	Look("RICOTTA", 40.0f, 0.0f)	// ←（＾＾）

	// リコッタ
	TalkMes("RICOTTA","#2588V#082e#080mお茶に裁縫、",
		"色んな料理に色んな道具……","")
	WaitPrompt()
	
	LookChr("RICOTTA", "ADOL")

	// リコッタ
	TalkMes("RICOTTA","#2589V#011e#080mみんな、本や父上も知らないこと",
		"たくさんたくさん、知ってる。","")
	WaitPrompt()

	ChangeAnimation( "RICOTTA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// リコッタ
	TalkMes("RICOTTA","#2590V#080e#080m島の外はきっと、",
		"もっともっと知らないことだらけ。","")
	WaitPrompt()

	WaitAnimation2("RICOTTA", -1, 1, "ANI_EV_TEMUNE_E", 0)
	ChangeAnimation( "RICOTTA", "ANI_EV_GUTSPOSE_S", -1, 1 )	// ガッツポーズ

	// リコッタ
	TalkMes("RICOTTA","#2591V#020e#080mそう思うと、ワクワク止まらない！","ワクワク2行目","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
//	MoveCameraAt( 0 , -24.469f , -1376.361f , 13.653f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.106f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 0.262f , 0 )	// 基本仰角
//	RotateCamera( 0 , 19.008f , 0 )				// 角度
//	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 5.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	MoveCameraAt( 0 , -24.633f , -1376.405f , 13.653f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.106f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.262f , 0 )	// 基本仰角
	RotateCamera( 0 , 19.008f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 5.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -24.759f , -1376.439f , 13.653f , 350 )

	// フェード待ち
	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"僕も同じ気持ちさ")
	MenuAdd(2,"島を出たらお別れだな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0162,"ADOL",100)	//フッ（微笑）

	// 手振りセット
	ChangeAnimation( "ADOL", "ANI_EV_SC_TEBURI", -1, 1 )	// 椅子座り手振り
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	//──────────────────────
	//	⇒僕も同じ気持ちさ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)
		
		ChangeAnimation( "RICOTTA", "ANI_EV_GUTSPOSE_E", -1, 1 )	// ガッツポーズ
		
		LookRoll("RICOTTA", 10.0f)	// かしげる
		
		// リコッタ
		TalkMes("RICOTTA","#2592V#000e#000mアドル兄も知らないことだらけ？","","")
		WaitPrompt()

		LookRoll("RICOTTA", 0.0f)	// かしげる戻す
		Wait(10)
		HeadYes("RICOTTA", 1, 25)	// キャラ, うなずき回数, 速さ

		// リコッタ
		TalkMes("RICOTTA","#2593V#000e#000m島の外、ますます興味出た！","興味2行目","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒島を出たらお別れだな
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		ChangeAnimation( "RICOTTA", "ANI_EV_GUTSPOSE_E", -1, 1 )	// ガッツポーズ
		
		//　　リコッタに「…」エモーション。
		EmotionEx("RICOTTA", 0.00f, EMO_3DOT, 0, 5, 1, 1, 0.8f)	//…
		Wait(45)
		
		SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
		Wait(10)
		
		HeadYes("RICOTTA" , 1 , 25 )
		
		// リコッタ
		TalkMes("RICOTTA","#2594V#000e#000mそうかもしれない……",
			"でもリコッタ寂しくない。","")
		WaitPrompt()

		// リコッタ
		TalkMes("RICOTTA","#2595V#000e#000m別々の場所でも、",
			"会おうと思えばいつでも会える。","")
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)

	// カメラ
	MoveCameraAt( 0 , -24.759f , -1376.439f , 13.593f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.625f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -6.900f , 0 )	// 基本仰角
	RotateCamera( 0 , 293.913f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -10.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -24.705f , -1376.454f , 13.653f , 1200 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.386f , 1200 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.024f , 1200 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 93.202f , 1200 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 35.000f , 1200 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -1.9f , 1200 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "RICOTTA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	Look("RICOTTA", 0.0f, -10.0f)	// うつむく
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目

	// リコッタ
	TalkMes("RICOTTA","#2596V#080mみんなに教えてもらったこと、",
		"ぜんぶリコッタの宝物。","")
	WaitPrompt()
	WaitCloseWindow()

	LookChr("RICOTTA", "ADOL")
	
	// リコッタ
	TalkMes("RICOTTA","#2597V#012e#080m家族がいっぱい、とても温かい。",
		"リコッタ2行目2","")
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "RICOTTA", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// リコッタ
	TalkMes("RICOTTA","#2598V#020e#080mこれからも、家族の誰かが",
		"困ったら一目散に飛んでく！","")
	WaitPrompt()
	WaitCloseWindow()

//	//　　アドルが「…」を出しつつ、リコッタのことを見守る。
//	EmotionEx("ADOL", 0.05f, EMO_3DOT, 0, 5, 1, 1, 0.7f)	//…
//	Wait(45)
	// うなずきセット
	HeadYes("ADOL" , 1 , 30 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
	Wait(20)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
	Wait(25)

	// リコッタ
	TalkMes("RICOTTA","#2599V#011e#000mちなみにアドル兄は冒険家──",
		"父上言ってた、同じ穴のムジナ。","")
	WaitPrompt()

	ChangeAnimation( "RICOTTA", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	// リコッタ
	TalkMes("RICOTTA","#2600V#020e#080m島を出たら、リコッタとどっちが",
		"多くのモノ見られるか競争する！","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し
	Wait(5)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"望むところだ")
	MenuAdd(2,"負けないよ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0156,"ADOL",100)	//ああ（肯定）

	// うなずきパクパク
	HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
	//SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)	// 強制クチパク
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SMILE_CLOSE_E,1)

	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(15)
	
	// カット7 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -24.813f , -1375.943f , 13.613f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.666f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.462f , 0 )	// 基本仰角
	RotateCamera( 0 , 203.496f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , -11.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -24.942f , -1375.999f , 13.593f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.386f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -3.175f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 201.491f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 35.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -1.6f , 600 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	SetStopFlag(STOPFLAG_CINEMA)	//字幕背景表示
	Wait(10)
	//──────────────────────
	//	⇒望むところだ
	if (FLAG[TF_MENU_SELECT] == 1) {
		
		// リコッタ
		TalkMes("RICOTTA","#2601V#021e#080mなはは、じゃあ約束！","","")
		WaitPrompt()
	}
	//	⇒負けないよ
	else if (FLAG[TF_MENU_SELECT] == 2) {
		
		// リコッタ
		TalkMes("RICOTTA","#2602V#030e#080mむむ、それはリコッタの台詞。","","")
		WaitPrompt()
	}
	//──────────────────────

	ChangeAnimation( "RICOTTA", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// リコッタ
	TalkMes("RICOTTA","#2603V#000e#080mとりあえず島を出たら",
		"リコッタ、すぐに大きくなる。","")
	WaitPrompt()

	EmotionEx("RICOTTA", 0.00f, EMO_ONPU, 0, 5, 2, 0, 1.0f )	// 「♪」

	// リコッタ
	TalkMes("RICOTTA","#2604V#011e#080mボンキュッボン！","","")
	WaitPrompt()

	SetMotSpd("RICOTTA" ,-1 , 0.7f )	// モーションスピード変更
	ChangeAnimation( "RICOTTA", "ANI_EV_NOME_S", -1 1 )	// 顔覗き込む
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目

	// リコッタ
	TalkMes("RICOTTA","#2605V#021e#080mアドル兄、ツバを付けるなら今の内！","ツバ2行目","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	//字幕背景消し

	//　　アドルに「冷や汗」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_TARA, 0, 5, 1, 1, 0.8f)	//冷や汗
	Wait(60)

	//　　イベント終了、操作許可。
	//　　※アドルを屋内のエントランススペースに再配置。

	StopBGM(90)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,45)
	WaitFade()
	
	Wait(10)
	
	//	ナレーション
	//「リコッタの首飾りを手に入れた。」
	GetItemMessageExPlus(ICON3D_ATT_NECKLACE, 1, ITEMMSG_SE_JINGLE, "を手に入れた。", 0, 0)		//リコッタの首飾り
	WaitPrompt()
	WaitCloseWindow()


//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:Sinai_Ricotta_ED")
}
function "Sinai_Ricotta_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前の状態を復帰
	RestoreEventState()

	//キャラクター初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_RICOTTA")
	CallFunc("system:reset_chrmot_NPCALL")

	//SetChrPos("RICOTTA", -100000.00f, 0.00f, 0.00f)		// 彼方へ
	SetMotSpd("RICOTTA" ,-1 , 1.0f )	// モーションスピード戻す
	SetChrPos("ev_eq4008", -100000.00f, 0.00f, 0.00f)	// 彼方へ
	SetParent("ev_eq4008", "", "")	// 首飾り

	//マップパラメーターリセット
	ResetMapParam( -1 )

	//パーティキャラを解放
	ReleaseEventPartyChr()

	// 通常
	if ( !FLAG[SF_GALLERY_EVENT] )
	{
		//フラグ立て・アイテム入手
		SetFlag( GF_SUBEV_SINAI_RICOTTA, 1 )		// 親愛イベントを見た（リコッタ）
		SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//親愛イベント（リコッタ）	名声値+2
		//SetDiaryCharaFlag( DRCHA_RICOTTA, DRCHA_FLAG_INFO4, 1 )	//★人物メモ：追加情報の開放４（リコッタ）
		GetItem(ICON3D_ATT_NECKLACE, 1)	//リコッタの首飾り

		SetFlag(GF_GALL_EV_LIKE_09,1)			// Sinai_Ricotta

		//一般配置の復帰
		//CallFunc("talk: ")
		CallFunc("mp1201:init")

		SetChrPos("LEADER",1.69f,-1389.41f,11.57f)
		Turn("LEADER",135.00f,360.0f)
		ResetPartyPos()
		ResetFollowPoint()
		//Wait(1) //処理待ち用

		RestoreCamera(0,0)
		CallFunc("system:camera_reset")

		Wait(15)

		FadeBGM(100, 30)
	//	SetEnvSEPlayState(-1, 1)
		SetEnvSEPlayState(1202001, 1)	//環境SEスタート
		SetEnvSEPlayState(1202201, 1)	//環境SEスタート
		SetEnvSEPlayState(1202202, 1)	//環境SEスタート
		SetEnvSEPlayState(1202203, 1)	//環境SEスタート

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)

		FadeIn(FADE_BLACK,FADE_FAST)
		//WaitFade()
	}
	// イベントギャラリー中
	else
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}

//終了処理ここまで----------------------------------------------------
}



////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//■クエストセクション

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//===============================================================
//
// 【QS200】ベッドの作成（バルバロス）
// ▼クエスト達成イベント
//
function "QS_200_Complete"
{

//開始処理ここから----------------------------------------------------

	//CallFunc("system:event_begin")
	SetStopFlag(STOPFLAG_EVENT)
	FadeOut(FADE_BLACK, 0)
	WaitFade()

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//キャラのit3を読み込む
	LoadChr("Barbaross")
	LoadChr("Dogi")
	LoadChr("Sahad")
	LoadChr("Laxia")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))
	
	//ノード制御
	MapAnime( "bed" , "Lv2" )	// Lv2			20-29[E]	LvMAX状態です。ベッドが追加されます。
	MapHide( "bed", 1 )

	MapHide("bed2_blanketB", 0)			//クエスト：人の膨らみあり
	//MapHide("bed2_blanketA", 0)			//クエスト：膨らみ無し	

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -30.47f, -1378.62f, 12.39f)
	Turn("ADOL", 111.93f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	Look("ADOL", 0.0f, -10.0f)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", -30.64f, -1377.80f, 12.39f)
	Turn("LAXIA", 90.61f, 360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	Look("LAXIA", 0.0f, -10.0f)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", -29.67f, -1375.83f, 12.39f)
	Turn("SAHAD", 41.89f, 360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	Look("SAHAD", 0.0f, -10.0f)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", -28.28f, -1378.04f, 12.39f)
	Turn("Dogi", 95.36f, 360.0f)
	ChangeAnimation( "Dogi" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Dogi",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKC,1)
	Look("Dogi", 0.0f, -15.0f)
	SetChrInfoFlag( "Dogi" , INFOFLAG_NOCHRATARI)

	SetChrWork("Barbaross", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Barbaross", -28.52f, -1376.68f, 12.39f)
	Turn("Barbaross", 65.52f, 360.0f)
	ChangeAnimation( "Barbaross" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Barbaross",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Barbaross",SUBMOT_EXT1,ANI_E_LOOKC,1)
	Look("Barbaross", 0.0f, -10.0f)
	SetChrInfoFlag( "Barbaross" , INFOFLAG_NOCHRATARI)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt(0, -17.030f, -1363.102f, 14.171f, 0)	// 注視点
	ChangeCameraDistance(0, 1.859f, 0)		// 基本距離
	ChangeCameraElevation(0, 13.110f, 0)	// 基本仰角
	RotateCamera(0, 319.462f, 0)				// 角度
	ChangeCameraPers(0, 29.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_200_Complete_ED")

//開始処理ここまで-----------------------------------------------

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cこうしてアドルたちは、"
		"#7Cバルバロス船長を手伝う形で"
		"#7C休息所にベッドを作るのだった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　暗転状態で工作のＳＥを再生。
	PlaySE(SE_QS_200_01, 90, 0, 0, 0, 1.0f, 0)		//
	Wait(70)

	//　　漂流村屋内の男性部屋のベッドを写した後に、
	//　　女性部屋のベッドを写す。
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -10.976f, -1359.808f, 14.171f, 125)	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 1.859f, 125)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 21.745f, 125)	// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 277.657f, 125)				// 角度

	SetEnvSEPlayState(1202001, 1)	//環境SEスタート
	SetEnvSEPlayState(1202201, 1)	//環境SEスタート
	SetEnvSEPlayState(1202202, 1)	//環境SEスタート
	SetEnvSEPlayState(1202203, 1)	//環境SEスタート

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	CrossFade(FADE_NORMAL)

	MoveCameraAt(0, -20.461f, -1376.070f, 14.414f, 0)	// 注視点
	ChangeCameraDistance(0, 1.959f, 0)		// 基本距離
	ChangeCameraElevation(0, 1.918f, 0)	// 基本仰角
	RotateCamera(0, 50.427f, 0)				// 角度
	ChangeCameraPers(0, 39.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -27.455f, -1373.565f, 14.268f, 135)	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 1.959f, 135)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 4.995f, 135)	// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 141.221f, 135)				// 角度


	//　　ベッドの前にラクシャとアドル、
	//　　その後ろにバルバロス・サハド・ドギを立たせる。
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	Wait(15)

	CrossFade(FADE_CROSS)
//	MoveCameraAt(0, -33.885f, -1378.294f, 13.526f, 0)	// 注視点
//	ChangeCameraDistance(0, 1.960f, 0)		// 基本距離
//	ChangeCameraElevation(0, -0.476f, 0)	// 基本仰角
//	RotateCamera(0, 292.539f, 0)				// 角度
//	ChangeCameraPers(0, 39.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転

	MoveCameraAt( 0 , -32.024f , -1378.146f , 13.650f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.960f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.752f , 0 )	// 基本仰角
	RotateCamera( 0 , 290.393f , 0 )				// 角度
	ChangeCameraPers( 0 , 39.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -32.024f, -1378.146f, 13.650f, 120)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, -1.752f, 120)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 290.393f, 120)		// 角度
//
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)

	Wait(FADE_CROSS)

	ChangeAnimation("LAXIA", "ANI_EV_UDEGUMI_S", -1, 1)

	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#080e#080mようやく休息所にベッドが──\p"
		"流石に寝具は"
		"#080e#080m上等とはいえませんが……\p"
		"これで何とか疲れも取れそうです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "LAXIA")
	ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1)

	TalkPopup("SAHAD",0,0,0,0,0)
	{
		"#080e#080mガハハ。よかったな、嬢ちゃん。\p"
		"しかし床で寝るのも"
		"そう悪くないと思うんだが。\p"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "ADOL")

	TalkPopup("SAHAD",0,0,0,0,0)
	{

		"なあ、アドル？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("ADOL", 35.0f, 0.0f)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKR_S, 1)
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ああ、確かにね")
	MenuAdd(2,"一番はハンモックかな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//──────────────────────
	//	⇒ああ、確かにね
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
		ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
		HeadYes("ADOL", 1, 25)
		Wait(20)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		LookChr("LAXIA", "ADOL")

		TalkPopup("LAXIA",0,0,0,0,0)
		{
			"#130e#000mす、少なくともハンモックを使っている"
			"あなたに言われたくありません。"
		}
		WaitPrompt()
		WaitCloseWindow()

		Look("LAXIA", 0.0f, -10.0f)

		TalkPopup("LAXIA",0,0,0,0,0)
		{
			"#141eふぅ、これだからあなたたちは……"
		}
		WaitPrompt()
		WaitCloseWindow()

//		Look("LAXIA", 0.0f, -10.0f)
//		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
//		Wait(35)
	}
	//	⇒一番はハンモックかな
	else if (FLAG[TF_MENU_SELECT] == 2)
	{		
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		TalkPopup("SAHAD",0,0,0,0,0)
		{
			"#080e#080mガハハ、確かにありゃあ"
			"気持ちがいいからなぁ。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookChr("LAXIA", "ADOL")

		TalkPopup("LAXIA",0,0,0,0,0)
		{
			"#070e#000mそ、そうなのですか……？\p"
			"──で、ですが、"
			"#130e#000mベッドが一番いいに決まっています。"
		}
		WaitPrompt()
		WaitCloseWindow()

		Look("LAXIA", 0.0f, -10.0f)

		TalkPopup("LAXIA", 0, 0, 0, 0, 0)
		{
			"#141eこれだからあなたたちは……"
		}
		WaitPrompt()
		WaitCloseWindow()

		//Look("LAXIA", 0.0f, -10.0f)
		//ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		//Wait(35)
	}
	//──────────────────────
	//　　ラクシャがバルバロスの方を向き、
	//　　アドルも追従する。
	Wait(5)

	ChangeAnimation("LAXIA", "ANI_EV_UDEGUMI_E", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	WaitAnimation2("LAXIA", -1, 1, "ANI_EV_UDEGUMI_E", 0)

	LookReset("LAXIA")
	ExecuteCmd(1, TurnToChr, "LAXIA", "Barbaross", 8.0f)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -31.486f, -1377.965f, 13.848f, 50)		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 1.660f, 50)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 1.874f, 50)		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 285.237f, 50)		// 角度
	Wait(20)

	LookChr("Dogi", "LAXIA")

	LookReset("ADOL")
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	TurnToChr("ADOL", "Barbaross", 8.0f)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	WaitThread(1)

	ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)

	LookChr("LAXIA", "Barbaross")

	LookChr("Barbaross", "LAXIA")
	
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	ChangeAnimation("LAXIA", "ANI_EV_TEMUNE_S", -1, 1)
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mそれに比べて流石は船長です。"
		"細やかなお心遣いに感謝します。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL", "Barbaross")

	HeadNo("Barbaross", 1, 35)

	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#011e#000mいえ、それはこちらの台詞です。\p"
		"#012e材料の調達に留まらず、"
		"作業まで手伝わせてしまって……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("LAXIA", "ANI_EV_TEMUNE_E", -1, 1)

	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mふふ、いえ。"
		"何だか新鮮で楽しかったですし。\p"
		"それにしても、船長は"
		"本当に博識でいらっしゃいますね。\p"
		"単純に見えて、ベッドにもそれなりに"
		"きちんとした構造があるだなんて……"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)

	SetChrPos("SAHAD", -29.44f, -1375.67f, 12.39f)
	Turn("SAHAD", 18.25f, 360.0f)

	MoveCameraAt(0, -29.060f, -1377.376f, 13.997f, 0)	// 注視点
	ChangeCameraDistance(0, 1.560f, 0)		// 基本距離
	ChangeCameraElevation(0, 2.067f, 0)	// 基本仰角
	RotateCamera(0, 288.252f, 0)				// 角度
	ChangeCameraPers(0, 50.400f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)

	LookChr("Dogi", "Barbaross")

	ChangeAnimation("Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1)

	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#000mああ、俺なら見た目をそれっぽく"
		"組み上げるのが関の山だったぜ。\p"
		"一体どこで学んだんですかい？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "Dogi")

	PlayVoice(Y8V_3736, "Barbaross", 100)	//ふふ（微笑）
	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#080e#080mフフ、荷物運びに船大工の仕事……"
		"若い頃はそれこそ何でもやったからな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Barbaross")
	ChangeAnimation("Barbaross", "ANI_EV_UDEGUMI_S", -1, 1)

	TalkPopup("Barbaross", 0, 2, 0, 0, 0)
	{
		"#010e#080m今でもたまの休日に、娘にねだられて"
		"家具を手作りすることもあるのだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Dogi", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1)
	TalkPopup("Dogi",0,2,0,0,0)
	{
		"#000e#080mへえ、そうだったんですかい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "Barbaross")

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -29.453f, -1376.619f, 13.997f, 45)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 313.285f, 45)		// 角度

	WaitThread(1000)
	WaitThread(1001)

	ChangeAnimation("SAHAD", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#080e#080mガハハ、娘さんとも"
		"仲が良さそうで何よりだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "SAHAD")
	ChangeAnimation("Barbaross", "ANI_EV_UDEGUMI_E", -1, 1)

	//PlayVoice(Y8V_3736, "Barbaross", 100)	//ふふ（微笑）

	TalkPopup("Barbaross",0,2,0,0,0)
	{
		"#012e#080mフフ、ありがとうございます。\p"
		"#000mともあれ、今回は私の依頼を"
		"聞いて下さってありがとうございます。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Barbaross", "ADOL")
	Wait(30)


	//　　ラクシャとアドルの方を向き直す。
	CrossFade(FADE_CROSS)

	SetChrPos("ADOL", -30.52f, -1378.58f, 12.39f)
	Turn("ADOL", -123.30f, 360.0f)
	SetChrPos("LAXIA", -30.83f, -1377.66f, 12.39f)
	Turn("LAXIA", -91.02f, 360.0f)

	MoveCameraAt(0, -29.070f, -1376.798f, 14.095f, 0)	// 注視点
	ChangeCameraDistance(0, 2.130f, 0)		// 基本距離
	ChangeCameraElevation(0, 6.482f, 0)	// 基本仰角
	RotateCamera(0, 142.905f, 0)				// 角度
	ChangeCameraPers(0, 36.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)
	

	TalkPopup("Barbaross",0,1,80,150,0)
	{
		"#000e#000mアドル、そしてラクシャさんも。\p"
		"脱出までの間、皆さんが少しでも"
		"快適に過ごせるよう努力します。\p"
		"探索に疲れた時は、"
		"どうかいつでも戻って来てください。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルが頷く。
	HeadYes("ADOL", 1, 25)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Wait(20)

	ChangeAnimation("LAXIA", "ANI_EV_TEMUNE_S", -1, 1)
	HeadYes("LAXIA", 1, 25)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)

	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#000mええ、ありがとうございます。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　画面暗転。

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	Wait(10)

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【ベッドの作成】#4Cを達成した！#10W"
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────

	PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
	//	ナレーション
	TalkPopup(UNDEF, 0, 5, 0, 0, 0)
	{
		"#8S"
		"#-1W#4Cバルバロス船長の好感度が上がった！#10W"
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()
	//──────────────────────

	//	アイテム入手テキスト
	//「報酬として『ウッドシールド』を受け取った！」
	GetItemMessageExPlus(ICON3D_AR_010, 1, ITEMMSG_SE_JINGLE, "を受け取った！" ,0 ,0 )
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。
	//　　※アドルを屋内のエントランススペースに再配置。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_200_Complete_ED")
}
function "QS_200_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_SAHAD")
	CallFunc("system:reset_chrmot_Dogi")
	CallFunc("system:reset_chrmot_Barbaross")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_QUEST_200, QUEST_SUCCESS )		// 【QS200】ベッドの作成（バルバロス）　クエストを達成した
	DeleteItem( ICON3D_MT_N2_WOOD, 3 )			// 「艶やかな木」×３
	GetItem( ICON3D_AR_010, 1 )					// 『ウッドシールド』
	SetFlag( GF_CAMP_BED_LV, 2 )				// 漂流村の発展設定：寝床LV2
	SetFlag( GF_LIKELV_BARBAROSS, ( FLAG[GF_LIKELV_BARBAROSS] + 1 ) )	// 好感度ＵＰ
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS200】ベッドの作成（バルバロス）	名声値+1
	SetDiaryFlag( DF_QS200_START, 1 )			// 【QS200】★バルバロス船長に素材を渡し、依頼を達成した！
	//SetDiaryCharaFlag( DRCHA_BARBAROSS, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（バルバロス船長）
	//SetDiaryCharaFlag( DRCHA_BARBAROSS2, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（バルバロス船長）

	//init呼び出し
	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", -1.97f, -1384.07f, 11.57f)
	Turn("LEADER", -46.05f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, -1.970f, -1384.070f, 12.924f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 7.227f, 0)	// 基本仰角
	RotateCamera(0, -136.106f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

//	SetEnvSEPlayState(-1, 1)
	SetEnvSEPlayState(1202001, 1)	//環境SEスタート
	SetEnvSEPlayState(1202201, 1)	//環境SEスタート
	SetEnvSEPlayState(1202202, 1)	//環境SEスタート
	SetEnvSEPlayState(1202203, 1)	//環境SEスタート

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

//===============================================================
//
// 【QS210】カーテンの作成（ラクシャ）
// ▼クエスト開始イベント
//
function "QS_210_Start"
{
	//　　画面暗転を挟んでイベント形式に移行。
	//　　屋内・女性部屋にフェードインする。
	//　　アドルとラクシャが向かい合っている。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Laxia")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -12.13f, -1386.83f, 11.80f)
	Turn("ADOL", 93.01f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("ADOL", "Laxia")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("Laxia", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Laxia", -13.44f, -1386.67f, 11.99f)
	Turn("Laxia", 140.19f, 360.0f)
	ChangeAnimation( "Laxia" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Laxia",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Laxia",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Laxia",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Laxia")
	SetChrInfoFlag( "Laxia" , INFOFLAG_NOCHRATARI)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定：女性部屋全景
	MoveCameraAt(0, -21.123f, -1377.735f, 14.618f, 0)	// 注視点
	ChangeCameraDistance(0, 0.994f, 0)		// 基本距離
	ChangeCameraElevation(0, 4.450f, 0)	// 基本仰角
	RotateCamera(0, 45.673f, 0)				// 角度
	ChangeCameraPers(0, 43.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 60.000 ,1.000 ,0.550 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_210_Start_ED")

//開始処理ここまで-----------------------------------------------

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -17.647f, -1387.932f, 14.618f, 110)	// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 25.685f, 110)				// 角度

	//カメラ：女性部屋の入口側へ
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()


	//カメラ待ち：女性部屋の入口側へ
	WaitThread(1000)
	WaitThread(1001)

	//カメラ：アドルとラクシャと入口
	CrossFade(FADE_NORMAL)

	MoveCameraAt( 0 , -13.616f , -1386.773f , 13.449f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.504f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.429f , 0 )	// 基本仰角
	RotateCamera( 0 , 51.532f , 0 )				// 角度
	ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -13.322f , -1386.374f , 13.449f, 75)		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE,  2.344f, 75)		// 角度

	//MoveCameraAt( 0 , -13.322f , -1386.374f , 13.449f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 2.344f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , -0.430f , 0 )	// 基本仰角
	//RotateCamera( 0 , 51.523f , 0 )				// 角度
	//ChangeCameraPers( 0 , 47.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(20)

	Turn("Laxia", -74.41f, 8.0f)
	LookChr("Laxia","ADOL")

	ChangeAnimation("Laxia", "ANI_EV_SEKI", -1, 1)
	ChangeSubAnimation("Laxia", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	WaitAnimation2("Laxia", -1, 1, "ANI_EV_SEKI", 0)

	WaitThread(1000)
	WaitThread(1001)

	TalkPopup("Laxia",0,0,0,0,0)
	{
		"#010e#000mコホン、この村には人目を"
		"気にしなくてもいい場所がありません。\p"
		"女性が安心して過ごせるよう、入り口に"
		"きちんとした仕切りを用意すべきです。"	
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Laxia", "ADOL")
	ChangeAnimation("Laxia", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Laxia", 0, 0, 0, 0, 0)
	{
		"#000e#000mあなたも同意していただけますね？"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"もちろんそうだ")
	MenuAdd(2,"ありものじゃ駄目なのかい？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	
	//────────────────────
	//	⇒もちろんそうだ
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadYes("ADOL" , 1, 25 )
		//ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		//	  　ラクシャ、うなずく
		HeadYes("Laxia", 1, 25)
		ChangeSubAnimation("Laxia", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("Laxia", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		TalkPopup("Laxia",0,0,0,0,0)
		{
			"#000mでは、あなたも協力してください。"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//	⇒ありものじゃ駄目なのかい？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_BORI", -1, 1)
		WaitAnimation2("ADOL", -1, 1, "ANI_EV_BORI", 0)

		ChangeAnimation("Laxia", "ANI_EV_UDEGUMI_S", -1, 1)
		TalkPopup("Laxia",0,0,0,0,0)
		{
			"#030e#000mだ、駄目に決まっています。\p"
			"#140e#000mわたくしたちはここで"
			"着替えもするのですよ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		Look("Laxia", -30.0f, -5.0f)
		ChangeAnimation("Laxia", "ANI_EV_UDEGUMI_E", -1, 1)

		TalkPopup("Laxia", 0, 0, 0, 0, 0)
		{
			"#130e#000mありものの板は、どれも"
			"スキマだらけではありませんか！"
		}
		WaitPrompt()
		WaitCloseWindow()

		WaitAnimation2("Laxia", -1, 1, "ANI_EV_UDEGUMI_E", 0)

	}
	//────────────────────

	//　　ラクシャ、思案モーション
	ChangeSubAnimation("Laxia", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	LookReset("Laxia")

	EmotionEx("Laxia", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	ChangeAnimation("Laxia", "ANI_EV_SIAN_S", -1, 1)
	Wait(52)

	TalkPopup("Laxia",0,0,0,0,0)
	{
		"#010e#000mアリスンさんとも相談したのですが……\p"
		"柔らかい繊維質の素材があれば"
		"カーテンが仕立てられそうなのです。\p"
		"『柔質繊維』が２つほどあれば"
		"作れそうだという事になりました。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャ、会話モーション
	ChangeAnimation("Laxia", "ANI_EV_SIAN_E", -1, 1)
	LookChr("Laxia", "ADOL")

	TalkPopup("Laxia",0,0,0,0,0)
	{
		"#012e#000m手に入ったらぜひ融通してください。"
		"頼みましたよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("ADOL", 1, 25)
	Wait(35)

	//	暗転を挟んで操作許可を戻す

	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	//──────────────────────
	//	⇒依頼が冒険日誌に未登録の場合
	if( FLAG[GF_QUEST_210] == QUEST_NOTHING )
	{
		PlaySE(SE_QUEST_ADD, 100, 0, 0, 0, 1.0f, 0)		// クエスト追加
		//	システムメッセージ
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#-1W#4C冒険日誌のクエストページに10"
			"#-1W#4Cクエスト#8C【カーテンの作成】#4Cが追加された。#10W" 
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()

	//	  　※ラクシャにクエストマーカーを付ける。
	}
	//──────────────────────

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_210_Start_ED")
}
function "QS_210_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Laxia")
	SetChrPos("Laxia", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ処理
	SetFlag( GF_QUEST_210, QUEST_START )		// 【QS210】カーテンの作成（ラクシャ）　クエスト開始
	SetDiaryFlag( DF_QS210_START, 1 )			// 【QS210】★ラクシャから話を聞いた。以下の素材を集めよう。

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", -5.08f, -1386.65f, 11.57f)
	Turn("LEADER", -67.39f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用
	
	//カメラ位置復帰
	MoveCameraAt(0, -5.082f, -1386.655f, 12.935f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, -112.607f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}

//===============================================================
//
// 【QS210】カーテンの作成（ラクシャ）
// ▼クエスト達成イベント
//
function "QS_210_Complete"
{

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	//LoadChr("Laxia")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))
	
	MapAnime( "curtain" , "on" )	//女部屋のカーテン
	MapHide( "curtain", 1 )

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",-12.11f,-1385.33f,11.67f)
	Turn("ADOL",33.81f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	//LookReset("ADOL")
	Look("ADOL", 0.00f, 10.0f)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", -12.07f, -1386.23f, 11.73f)
	Turn("LAXIA", 111.95f, 360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	//LookReset("LAXIA")
	Look("LAXIA", 0.00f, 15.0f)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)


	//カメラ設定
	MoveCameraAt( 0 , -12.773f , -1385.729f , 14.143f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.300f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 13.154f , 0 )	// 基本仰角
	RotateCamera( 0 , 111.457f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_210_Complete_ED")

//開始処理ここまで-----------------------------------------------

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7C一からのカーテン作りは難航したが、"
		"#7Cアドルも手伝う事にし……\p"
		"#7Cアリスンに相談しつつ進めた結果、"
		"#7C何とか完成を見たのだった。"
	}
	WaitPrompt()
	WaitCloseWindow()
	Wait(10)

	//　　フェードインして、カーテンが設置されている状態になる。
	//　　その前にアドルとラクシャが立っている。

//	SetEnvSEPlayState(-1, 1)
	SetEnvSEPlayState(1202001, 1)	//環境SEスタート
	SetEnvSEPlayState(1202201, 1)	//環境SEスタート
	SetEnvSEPlayState(1202202, 1)	//環境SEスタート
	SetEnvSEPlayState(1202203, 1)	//環境SEスタート

	//カメラ待ち：カーテン
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -13.198f, -1386.310f, 13.597f, 100)	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 3.400f, 100)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, -7.997f, 100)	// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 72.976f, 100)				// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//カメラ待ち：カーテン
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	////────────────────────
	////	⇒「▼ラクシャと二人きりで話す」以前
	//if( !FLAG[GF_02MP1201_LOST_CURRAN] )			// カーラン卿が姿を消す
	//{
	//	TalkPopup("LAXIA",0,0,0,0,0)
	//	{
	//		"#000e#000mついにカーテンが……！"
	//	}
	//	WaitPrompt()
	//	WaitCloseWindow()

	//	LookChr("LAXIA", "ADOL")
	//	TalkPopup("LAXIA", 0, 0, 0, 0, 0)
	//	{
	//		"#000e#000mアドル・クリスティン！"
	//	}
	//	WaitPrompt()
	//		WaitCloseWindow()
	//}

	////	⇒「▼ラクシャと二人きりで話す」後
	//else
	//{
	//	TalkPopup("LAXIA", 0, 0, 0, 0, 0)
	//	{
	//		"#000e#000mついにカーテンが……！"
	//	}
	//	WaitPrompt()
	//	WaitCloseWindow()

	//	LookChr("LAXIA", "ADOL")

	//	TalkPopup("LAXIA",0,0,0,0,0)
	//	{
	//		"#000e#000mやりましたね、アドル！"
	//	}
	//	WaitPrompt()
	//	WaitCloseWindow()
	//}
	////────────────────────


	//カメラ：アドルとラクシャ
	CrossFade(FADE_NORMAL)

	MoveCameraAt(0, -14.970f, -1386.504f, 13.694f, 0)	// 注視点
	ChangeCameraDistance(0, 2.541f, 0)		// 基本距離
	ChangeCameraElevation(0, 7.461f, 0)	// 基本仰角
	RotateCamera(0, 286.239f, 0)				// 角度
	ChangeCameraPers(0, 30.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_NORMAL)

	PlayVoice(Y8V_0374, "LAXIA", 100)	//ふふ（微笑）
	TalkPopup("LAXIA", 0, 0, 0, 0, 0)
	{
		"#080e#080mついにカーテンが……！"
	}
	WaitPrompt()
		WaitCloseWindow()

	LookChr("LAXIA", "ADOL")
	TalkPopup("LAXIA", 0, 0, 0, 0, 0)
	{
		"#080e#080mやりましたね、"
		"アドル・クリスティン！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("ADOL", "LAXIA")

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"これで安心だな")
	MenuAdd(2,"やればできるな")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//────────────────────
	//	⇒これで安心だな
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		//ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_S, 1)
		//ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		HeadYes("LAXIA", 1, 25)
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#000mええ、ようやく"
			"心の平安を取り戻せた気がします。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒やればできるな
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		//ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_S, 1)
		//ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		HeadYes("LAXIA", 1, 25)
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#000mその通りです、無人島でも"
			"こういった配慮はできるものなのです。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────
	CrossFade(FADE_CROSS)
	MoveCameraAt(0, -12.059f, -1385.776f, 13.124f, 0)	// 注視点
	ChangeCameraDistance(0, 2.541f, 0)		// 基本距離
	ChangeCameraElevation(0, 6.000f, 0)	// 基本仰角
	RotateCamera(0, 299.177f, 0)				// 角度
	ChangeCameraPers(0, 32.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	Wait(FADE_CROSS)

	ChangeAnimation("LAXIA", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("LAXIA", 0, 2, 0, 0, 0)
	{
		"#000e#000mそう、こういった物があれば"
		"二度とあんな事には……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_E, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE_E, 1)
	//　　アドルに？エモーション
	EmotionEx("ADOL", 0.00f, EMO_Q, 0, 5, 1, 1, 0.8f)	//？
	Wait(50)

	LookSpd("LAXIA", 0.07f, 0.07f, 0.07f)									// ゆっくりめに首向き
	Look("LAXIA", -40.0f, -10.0f)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT2, ANI_C_RED_S, 1)				//頬を赤くなる
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	LookSpd("LAXIA", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)

	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 309.083f, 30)		// 角度
	WaitThread(1002)

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000mなな、なんでもありません。"
		"思い出さなくて結構です！"
	}
	WaitPrompt()
	WaitCloseWindow()

//	Turn("ADOL", 17.86f, 8.0f)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"何のことだい？ ")
	MenuAdd(2,"あの時はすまなかった")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//────────────────────
	//	⇒何のことだい？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		ChangeAnimation("LAXIA", "ANI_EV_UDEGUMI_E", -1, 1)
		ChangeSubAnimation("LAXIA", SUBMOT_EXT2, ANI_C_RED_E, 1)
		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#010l#030e#000mお……覚えていないのなら"
			"それでいいのです。\p"
			"#041e#000m……あの時の事を"
			"許すつもりはありませんが。\p"
			"今回の件で、誠意は"
			"見せていただきましたし。\p"
			"#042eわたくしも忘れる事にいたします。"
			"ありがたく思ってください。"
		}
		WaitPrompt()
		WaitCloseWindow()

		//ドル、よく分かっていないようなモーション
		ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)

		ChangeAnimation("ADOL", "ANI_EV_HOHOKAKI", -1, 1)	// 頬かき
		WaitAnimation2("ADOL", -1, 1, "ANI_EV_HOHOKAKI", 0)

		ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		EmotionEx("LAXIA", 0.00f, EMO_3DOT, 0, 5, 1, 1, 0.9f)	//…
		Wait(52)
		TalkPopup("LAXIA", 0, 2, 0, 0, 0)
		{
			"#000mふう……そう決めてしまうと"
			"なんだか気が楽になった気がします。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒あの時はすまなかった
	else if (FLAG[TF_MENU_SELECT] == 2)
	{

		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_S, 1)
		Wait(20)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_E, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)
	
		ChangeAnimation("LAXIA", "ANI_EV_UDEGUMI_E", -1, 1)
	
		//PlayVoice(Y8V_0381, "LAXIA", 100)	//まったく…！（照れつつアドルを非難）
		TalkPopup("LAXIA",0,0,0,0,0)
		{
			"#0L…………………………"	//（上気する）
		}
		WaitPrompt()
		WaitCloseWindow()	

		TalkPopup("LAXIA", 0, 2, 0, 0, 0)
		{
			"#010l#042e#000m……あの時の事を"
			"許すつもりはありませんが。\p"
			"今回の件で、誠意は"
			"見せていただきましたし。\p"
			"#041e#000lわたくしも忘れる事にいたします。"
			"ありがたく思ってください。"
		}
		WaitPrompt()
		WaitCloseWindow()

		//アドル、頷いてみせる
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		HeadYes("ADOL", 1, 25)
		Wait(15)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		Wait(20)

		ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		EmotionEx("LAXIA", 0.00f, EMO_3DOT, 0, 5, 1, 1, 0.9f)	//…
		Wait(52)
		TalkPopup("LAXIA", 0, 2, 0, 0, 0)
		{
			"#010e#000mふう……そう決めてしまうと"
			"なんだか気が楽になった気がします。"
		}
		WaitPrompt()
		WaitCloseWindow()
		ChangeSubAnimation("LAXIA", SUBMOT_EXT2, ANI_C_RED_E, 1)

	}
	//────────────────────

	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)

	//　　ラクシャ、咳払いをして改まる。
	LookReset("LAXIA")
	ChangeAnimation("LAXIA", "ANI_EV_SEKI", -1, 1)
	WaitAnimation2( "LAXIA" , -1, 1, "ANI_EV_SEKI",  0)

	LookSpd("LAXIA",0.08f,0.08f,0.08f)
	LookChr("LAXIA","ADOL")

	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000m漂流者が増えれば、こういった"
		"気を遣うべきことも増えるでしょう。\p"
		"その時はまた手を貸してください。"
		"よろしくお願いします。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルうなずく。
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
	HeadYes("ADOL", 1, 25)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
	Wait(20)

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -13.215f, -1387.734f, 13.124f, 180)		// 注視点
//	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 331.370f, 180)		// 角度
//	Wait(45)

	//　　暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
//	StopThread(1000)
//	StopThread(1001)

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【カーテンの作成】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	if(rand()%100 < 50) {
		PlayVoice(SVO_LXA_QST_1,"LAXIA",100)		// ふふ、やりましたね
	} else {
		PlayVoice(SVO_LXA_QST_2,"LAXIA",100)		// ふふ、お疲れ様でした
	}

	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒好感度が一段階上がる場合
	if( FLAG[GF_LIKELV_LAXIA] < 2 )
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cラクシャの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度最大
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cラクシャの好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	//	アイテム入手テキスト
	//「報酬として『クルの豊実×５』を受け取った！」
	GetItemMessageExPlus(ICON3D_US_BERRY_S, 5, ITEMMSG_SE_JINGLE, "を受け取った！" ,0 ,0 )
	WaitPrompt()
	WaitCloseWindow()

	PlaySE( SE_HEAL , 100 , 0,  0, 0, 1.0f, 0)
	Message("#-1W#4CラクシャのＨＰの最大値が１００増えた。#10W")
	WaitPrompt()
	Wait(10)

	PlaySE( SE_HEAL , 100 , 0,  0, 0, 1.0f, 0)
	Message("#-1W#4CアドルのＨＰの最大値が５０増えた。#10W")
	WaitPrompt()
	Wait(10)

	//　　イベント終了、操作許可。
	//　　※アドルを屋内のエントランススペースに再配置。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_210_Complete_ED")
}
function "QS_210_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_LAXIA")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム回収
	SetFlag( GF_QUEST_210, QUEST_SUCCESS )		// 【QS210】カーテンの作成（ラクシャ）	クエストを達成した
	DeleteItem( ICON3D_MT_R1_PARTS04, 2 )		// 「柔質繊維」×２
	GetItem(ICON3D_US_BERRY_S, 5)				// クルの豊実×５
	SetFlag( GF_CAMP_CURTAIN_LV, 1 )			// 漂流村の発展設定：女部屋のカーテンon
	SetFlag( TF_LAXIA_TALK, 0 )					// 達成後会話用にTFをリセット
	SetFlag( GF_LIKELV_LAXIA, ( FLAG[GF_LIKELV_LAXIA] + 1 ) )	// 好感度ＵＰ
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS210】カーテンの作成（ラクシャ）	名声値+1
	SetDiaryFlag( DF_QS210_END, 1 )				// 【QS210】★ラクシャに素材を渡して作業を手伝った！

	SetChrWork("LAXIA",CWK_SUP_MAXHP,(LAXIA.CHRWORK[CWK_SUP_MAXHP] + 100))		//好感度と合わせてアップ
	SetChrWork("ADOL",CWK_SUP_MAXHP,(ADOL.CHRWORK[CWK_SUP_MAXHP] + 50))			//好感度と合わせてアップ

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", -7.46f, -1386.83f, 11.57f)
	Turn("LEADER", -73.59f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, -7.460f, -1386.830f, 12.935f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, -120.992f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS222】仕立ての練習（アリスン）
// ▼クエスト達成イベント
//
function "QS_222_Complete"
{
	//　　暗転を挟んで、仕立て屋前。
	//　　アドルとアリスンが向かい合っている。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Alison")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",-0.50f,-1382.11f,11.57f)
	Turn("ADOL",-131.50f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("ADOL","Alison")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison",0.47f,-1381.28f,11.57f)
	Turn("Alison",50.87f,360.0f)
	ChangeAnimation( "Alison" , "ANI_EV_SIT_C", -1 , 1 )
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookReset("Alison")
	SetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt(0, -0.334f, -1380.493f, 13.389f, 0)	// 注視点
	ChangeCameraDistance(0, 1.502f, 0)		// 基本距離
	ChangeCameraElevation(0, 10.481f, 0)	// 基本仰角
	RotateCamera(0, 24.557f, 0)				// 角度
	ChangeCameraPers(0, 43.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_222_Complete_ED")

//開始処理ここまで-----------------------------------------------

	//カメラ：アドルとアリスンを中心に映す

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -0.222f, -1382.211f, 13.067f, 110)	// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 10.494f, 110)	// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 339.867f, 110)				// 角度
	ExecuteCmd(1003, ChangeCameraPers, INTERPOLATE_SPHERE, 40.000f, 110)		// 視野角

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//カメラ待ち：少し上からのカメラ～アドルとアリスンを中心に映す
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	//　　※汎用ボイス「ふぅ…（溜息）」を再生	
	PlayVoice(Y8V_4416, "Alison", 100)	//ふぅ…（溜息）
	Wait(20)

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#000m……少し手こずりましたが"
		"何とかうまくできました。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	LookChr("Alison", "ADOL")
	TalkPopup("Alison", 0, 0, 0, 0, 0)
	{

		"#080mどうかこちらをお持ちください。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	アイテム入手テキスト
	GetItemMessageExPlus(ICON3D_AC_033, 1, ITEMMSG_SE_JINGLE, "を手に入れた！9" ,0 ,0 )		// ゴールドケープ
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"見事な仕上がりだね")
	MenuAdd(2,"よく完成させたね")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//──────────────────────
	//	⇒見事な仕上がりだね
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadYes("ADOL", 1, 25)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		//	  　※汎用ボイス「え？（疑問）」を再生
		PlayVoice(Y8V_4418, "Alison", 100)	//え？（疑問）

		TalkPopup("Alison",0,0,0,0,0)
		{
			"#070e#000mそ、そうですか？"
		}
		WaitPrompt()
		WaitCloseWindow()

//		ChangeSubAnimation("Alison", SUBMOT_EXT1, ANI_E_LOOKU_S, 1)
		Look("Alison", 0.0f, -3.0f)
		TalkPopup("Alison", 0, 0, 0, 0, 0)
		{
			"#061e#080m何だか照れてしまいますね。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE, 1)

	}
	//	⇒よく完成させたね
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(10)

		//	  　※汎用ボイス「いえ（平常のテンション。あらゆる場面で使用）」を再生
		PlayVoice(Y8V_4412, "Alison", 100)	//いえ（平常のテンション。あらゆる場面で使用）

		ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		HeadNo("Alison", 1, 35)
		Wait(27)
		ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		TalkPopup("Alison",0,0,0,0,0)
		{
			"#080mいえ、これもアドルさんのおかげです。"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	}
	//──────────────────────
	LookReset("Alison")

	//　　アリスンに「…」エモーション。
	EmotionEx("Alison", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(52)

	//　　※汎用ボイス「ふむ…（平常のテンション。あらゆる場面で使用）」を再生。
	PlayVoice(Y8V_4410, "Alison", 100)	//ふむ…（平常のテンション。あらゆる場面で使用）

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#000m夫ならこんな仕事、"
		"簡単にこなしてしまうのですが……\p"
		"それでも何とか、"
		"一人で完成させられてよかったです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Alison", "ADOL")
	TalkPopup("Alison",0,0,0,0,0)
	{
		"#000e#000m私にはアドルさんたちのように"
		"武器を持って戦う力はありませんが……"
		
	}
	WaitPrompt()
	WaitCloseWindow()

	//ChangeAnimation("Alison", "ANI_EV_SC_TEMUNE_S", -1, 1)
	TalkPopup("Alison", 0, 0, 0, 0, 0)
	{
		"#000e#000mこの漂流村の一員として、もっともっと"
		"皆さんのお役に立ちたいと思っています。\p"
		"#011e仕立ての技術にしても、"
		"夫に比べればまだまだですが……\p"
		"#012eそれでも努力だけは欠かさず、"
		"何とか精一杯、頑張りますので。\p"
		"#020e#080mともかく仕立てに関することであれば"
		"何でも私にお任せくださいね。"
	}
	WaitPrompt()
	WaitCloseWindow()


	//　　アドルが頷く。
	HeadYes("ADOL" , 1 , 25)
	Wait(40)

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -1.133f, -1384.367f, 13.067f, 180)		// 注視点
//	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 327.086f, 180)		// 角度
//
//	Wait(45)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　画面暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//	StopThread(1000)
//	StopThread(1001)

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【仕立ての練習】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒好感度が一段階上がる場合
	if( FLAG[GF_LIKELV_ALISON] < 1 )
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cアリスンの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cアリスンの好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4C仕立て屋で作成できる装飾品が増えた！#10W" 
		"装飾品2行目2"
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。
	//　　※アドルを屋内のエントランススペースに再配置。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_222_Complete_ED")
}
function "QS_222_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Alison")
	SetChrPos("Alison", -100000.00f, 0.00f, 0.00f)
	//ChangeAnimation("Alison", "ANI_EV_SIT_C", -1, 1)　仮再配置モーション

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_QUEST_222, QUEST_SUCCESS )		// 【QS222】仕立ての練習（アリスン）	クエストを達成した
	//SetFlag( GF_QS222_SHOP_ADD, 1 )		// 【QS222】「仕立ての練習」クリア後ショップに追加
	DeleteItem( ICON3D_MT_N2_LEATHER, 3 )		// 「分厚い皮」×３
	GetItem( ICON3D_AC_033, 1)					// ゴールドケープ
	SetFlag( GF_LIKELV_ALISON, ( FLAG[GF_LIKELV_ALISON] + 1 ) )	// 好感度ＵＰ
	//SetFlag( TF_LAXIA_TALK, 0 )					// 達成後会話用にTFをリセット
	SetFlag(TF_ALISON_TALK, 0)					// 達成後会話用にTFをリセット
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS222】仕立ての練習（アリスン）	名声値+1
	SetDiaryFlag( DF_QS222_END, 1 )				// 【QS222】★アリスンに素材を渡し、依頼を達成。
	//SetDiaryCharaFlag( DRCHA_ALISON, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（アリスン）

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", -2.42f, -1383.10f, 11.57f)
	Turn("LEADER", -44.49f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, -2.415f, -1383.098f, 12.935f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, -135.512f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

//	SetEnvSEPlayState(-1, 1)
	SetEnvSEPlayState(1202001, 1)	//環境SEスタート
	SetEnvSEPlayState(1202201, 1)	//環境SEスタート
	SetEnvSEPlayState(1202202, 1)	//環境SEスタート
	SetEnvSEPlayState(1202203, 1)	//環境SEスタート

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS231】美味なる食事（カーラン卿）
// ▼クエスト達成イベント
//
function "QS_231_Complete"
{
	//　　暗転を挟んで、男性部屋・テーブル席。
	//　　カーラン卿が食事をしている。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Curran")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",-8.84f,-1366.52f,11.57f)
	Turn("ADOL",155.09f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookChr( "ADOL", "Curran" )

	SetChrWork("Curran", CWK_DEFAULT_SKIPNODE_OFF, 1)
	//SetChrPos("Curran", -9.54f, -1365.54f, 11.57f)
	//Turn("Curran", -112.75f, 360.0f)
	SetChrPos("Curran", -9.73f, -1365.55f, 11.57f)
	Turn("Curran", -112.75f, 360.0f)
	ChangeAnimation( "Curran","ANI_EV_SIT_C", -1 , 1 )	//カーラン卿が食事をしている
	ChangeSubAnimation("Curran",SUBMOT_EYE,ANI_E_CLOSE,1)
	ChangeSubAnimation("Curran",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Curran",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Curran" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag("Curran", INFOFLAG_NOATARI)
	Look( "Curran", -8.0f, -16.0f )

	//彩りムニエル
	MapHide("que03_food3", 1)			//クエスト：ムニエル(豪華)です。皿込みです。

	//カメラ設定
	MoveCameraAt( 0 , -9.368f , -1365.685f , 12.572f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.631f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.504f , 0 )	// 基本仰角
	RotateCamera( 0 , 141.002f , 0 )				// 角度
	ChangeCameraPers( 0 , 46.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_231_Complete_ED")

//開始処理ここまで-----------------------------------------------

	PlayBGM(BGM_EVENT_004, 0)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -9.154f , -1365.834f , 12.820f, 75)	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE,  2.110f, 75)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 7.507f, 75)	// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 140.988f, 75)				// 角度

//	MoveCameraAt( 0 , -9.154f , -1365.834f , 12.820f , 0 )	// 注視点
//	ChangeCameraDistance( 0 , 2.110f , 0 )		// 基本距離
//	ChangeCameraElevation( 0 , 7.507f , 0 )	// 基本仰角
//	RotateCamera( 0 , 140.988f , 0 )				// 角度
//	ChangeCameraPers( 0 , 46.000f , 0 )			// 視野角
//	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
//	RollCamera( 0 , 0.0f , 0 )				// ロール回転
//	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	PlayVoice(Y8V_4520, "Curran", 100)	//フン（平常のテンション。あらゆる場面で使用）

	TalkPopup("Curran", 0, 0, 0, 0, 0)
	{
		"#012e#080mなかなかに美味！\p"
		"#041e#000mフン、なぜ今まで"
		"この品を出さなかったのだ……"

	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(10)

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -9.154f, -1365.834f, 12.894f, 55)	// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 1.800f, 55)		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 3.742f, 55)	// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 136.250f, 55)				// 角度
//
//	//カメラ待ち：料理中心～アドルたちを映すカメラ
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1003)
//
	LookChr("Curran", "ADOL")

	//PlayVoice(Y8V_4516, "Curran", 100)	//おい、剣士（平常のテンション）

	TalkPopup("Curran",0,0,0,0,0)
	{
		"#000e#000mまあよい、そなたには"
		"褒美を取らせるとしよう！"
	}
	WaitPrompt()
	WaitCloseWindow()

	GetItemMessageExPlus(ICON3D_US_ADD_DEF, 1, ITEMMSG_SE_JINGLE, "を手に入れた！10" ,0 ,0 )	//守の霊薬
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ありがとうございます")
	MenuAdd(2,"気に入っていただけて何よりです")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	HeadYes("ADOL", 1, 25)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(10)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(10)

	//────────────────────
	//	⇒ありがとうございます
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadYes("Curran", 1, 25)
		ChangeSubAnimation("Curran", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("Curran", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		TalkPopup("Curran",0,0,0,0,0)
		{
			"#080mうむうむ！　これからも"
			"私に尽くすがいいぞ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒気に入っていただけて何よりです
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		TalkPopup("Curran",0,0,0,0,0)
		{
			"#080e#080mふはは、久々のまともな食事に"
			"ついよい気分になってしまったぞ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//────────────────────

	//ChangeAnimation("Curran", "ANI_EV_SC_TEBURI", -1, 1)
	TalkPopup("Curran",0,0,0,0,0)
	{
		"#000e#000mしかしこうなると、付け合わせが物足りぬ。"
		"あと酒も必要だな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("Curran", 20.00f, 0.00f)

	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	LookReset("C urran")

	//　　カーラン、外に向いてパンパン手を叩く。
	//⇒モーションはないためナレーションで行う

	PlaySE(SE_QS_231_01, 100, 0, 0, 0, 1.0f, 0)	//パン
	Wait(15)
	PlaySE(SE_QS_231_01, 100, 0, 0, 0, 1.0f, 0)	//パン

	//	ナレーション
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0)
	{
		"#7Cカーラン卿は手を打って人を呼んだ。"
		"カーラン卿2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Curran",0,3,240,100,0)
	{
		"#011e#000mものども！　なんぞ果物でももて！"
		"あと酒もな！"
	}
	WaitPrompt()
	WaitCloseWindow()

	MoveCameraAt(0, -8.530f, -1365.174f, 12.819f, 0)	// 注視点
	ChangeCameraDistance(0, 2.201f, 0)		// 基本距離
	ChangeCameraElevation(0, 5.273f, 0)	// 基本仰角
	RotateCamera(0, 63.521f, 0)				// 角度
	ChangeCameraPers(0, 46.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(10)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -7.096f, -1364.888f, 13.092f, 100)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 70.437f, 100)		// 角度

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	//　　しかし返事はない。

	WaitThread(1000)
	WaitThread(1001)

	Wait(10)

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, -10.176f, -1365.263f, 12.893f, 0)	// 注視点
	ChangeCameraDistance(0, 2.201f, 0)		// 基本距離
	ChangeCameraElevation(0, -7.080f, 0)	// 基本仰角
	RotateCamera(0, 74.944f, 0)				// 角度
	ChangeCameraPers(0, 46.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	ChangeSubAnimation("Curran", SUBMOT_EYE, ANI_E_ANGER_S, 1)
	EmotionEx("Curran", 0.05f, EMO_MUKA, 0, 5, 1, 1, 0.7f)	//ムカ
	Wait(40)

	PlayVoice(Y8V_4517, "Curran", 100)	//ふむ…（平常のテンション。あらゆる場面で使用）

	TalkPopup("Curran", 0, 0, 0, 0, 0)
	{
		"#030e#000mむ……気の利かぬ連中だな。\p"
		"#041e#000m仕方がない……"
		"私がじかに行ってやるのである！"
	}
	WaitPrompt()
		WaitCloseWindow()

	//　　カーランが立ち上がって出口の方に向かいつつ暗転。
	CrossFade(FADE_NORMAL)

	LookReset("Curran")
	SetChrPos("Curran",-9.92f,-1366.06f,11.57f)	//座り→立ち　モーションに都合の良い位置に座標を変更
	Turn("Curran",5.82f,360.0f)

	SetChrPos("ADOL", -8.72f, -1366.55f, 11.57f)
	Turn("ADOL", 131.87f, 360.0f)

	MoveCameraAt(0, -9.534f, -1365.190f, 12.819f, 0)	// 注視点
	ChangeCameraDistance(0, 2.201f, 0)		// 基本距離
	ChangeCameraElevation(0, 4.901f, 0)	// 基本仰角
	RotateCamera(0, 161.366f, 0)				// 角度
	ChangeCameraPers(0, 42.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//立ち上がって、出口のほうに移動
	ChangeAnimation( "Curran", "ANI_EV_SIT_C_E", -1, 1 )
	WaitAnimation2( "Curran" , -1, 1, "ANI_EV_SIT_C_E",  0)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -9.632f, -1366.813f, 12.819f, 120)	// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 2.200f, 120)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 4.900f, 120)	// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 209.923f, 120)				// 角度

	ExecuteCmd(1, MoveTo, "Curran", -6.70f, -1374.19f, 11.57f, 0.1f, 0.20f)

	Wait(40)
	LookReset("ADOL")
	Turn("ADOL", -0.74f, 8.0f)

	Wait(40)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//カメラとカーラン卿の動きを止める
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1)

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_231_Complete_ED")
}
function "QS_231_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	ResetChrInfoFlag("Curran", INFOFLAG_NOATARI)
	CallFunc("system:reset_chrmot_Curran")

	SetChrPos("Curran", -100000.00f, 0.00f, 0.00f)

	MapHide("que03_food3", 0)			//クエスト：ムニエル(豪華)です。皿込みです。

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	PlayBGM(BGM_EVENT_004, 0)
	SetFlag(SF_NOCHANGEBGM, 1)

	SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット
	LoadArg("map/mp1201/mp1201.arg")
	EventCue("mp1201:QS_231_Complete2")		// 続き

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS401】新入りはいずこ（レーヤ）
// ▼ピッカード捕獲イベント（屋内Ａ）
//
function "QS_401_Picard_A"
{
	//　　※女子部屋-22.10f	-1385.00f	12.42f	-138.23fの机の上には
	//　　　元々ピッカードのぬいぐるみを用意しておく。
	//　　調べるとイベントを起動。

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	TurnToChr( LEADER , this , 7.5f )
	Wait(10)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7C……これはピッカードのぬいぐるみだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	//フラグ立て
	SetFlag( GF_QS401_LOOK_PICARD_A, 1 )		//【QS401】▼ピッカード捕獲イベント（屋内Ａ） を見た
	SetDiaryFlag( DF_QS401_003, 1 )				//【QS401】★女性用の休息所でピッカードを発見……
	//マーカー消去
	DelMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP3, 0, 0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（屋内Ａ）」ポイント用

	//イベント後の再配置
//	SetChrPos("LEADER",-54.21f,-1453.26f,29.07f)
//	Turn("LEADER",84.64f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()

	SetChrPos("LP_QS_401_PICARD_A" , -100000.00f , 0.00f ,0.00f )		// ＬＰを消去
	//ＡとＢを見ているとピッカードが出現する。
	if( FLAG[GF_QS401_LOOK_PICARD_B] )
	{
		//LoadChr("ev_QS_401_Picard_C")
		SetChrPos("ev_QS_401_Picard_C",-10.46f,-1382.01f,13.62f)
		Turn("ev_QS_401_Picard_C",-96.52f,360.0f)
		
		//マーカー設置
		DelMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP5, 0, 0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（屋内Ｃ）」ポイント用
		SetMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP5, -10.46f,-1382.01f,13.62f,	-10.46f,-1382.01f,	MARKER_QS_401_LP5, MN_T_VILLAGE_MP1201,	0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（屋内Ｃ）」ポイント用
	}
	Wait(1)

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	WaitFade()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}
//===============================================================
//
// 【QS401】新入りはいずこ（レーヤ）
// ▼ピッカード捕獲イベント（屋内Ｂ）
//
function "QS_401_Picard_B"
{
	//　　※男子部屋-5.69f	-1362.58f	11.64f	159.20fの机の上には
	//　　　元々小さいピッカードのぬいぐるみを用意しておく。
	//　　調べるとイベントを起動。

//開始処理ここから----------------------------------------------------
	SetStopFlag(STOPFLAG_SIMPLEEVENT2)
	ResetStopFlag(STOPFLAG_NOCHARACLIP)
	SaveCamera()

	ResetMotion( "PARTYALL" , 0 )
	StopEffect(-1,PARTYALL,1)
	StopEmotion( "PARTYALL" )
	ResetMoveVec("PARTYALL")
//開始処理ここまで-----------------------------------------------

	TurnToChr( LEADER , this , 7.5f )
	Wait(10)

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7C……これはピッカードのぬいぐるみだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

//終了処理ここから----------------------------------------------------
	CrossFade(FADE_CROSS)
	SetStopFlag(STOPFLAG_NOCHARACLIP)

	//フラグ立て
	SetFlag( GF_QS401_LOOK_PICARD_B, 1 )		//【QS401】▼ピッカード捕獲イベント（屋内Ａ） を見た
	SetDiaryFlag( DF_QS401_002, 1 )				//【QS401】★男性用の休息所でピッカードを発見……
	//マーカー消去
	DelMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP4, 0, 0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（屋内Ｂ）」ポイント用

	//イベント後の再配置
//	SetChrPos("LEADER",-54.21f,-1453.26f,29.07f)
//	Turn("LEADER",84.64f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()

	SetChrPos("LP_QS_401_PICARD_B" , -100000.00f , 0.00f ,0.00f )		// ＬＰを消去
	//ＡとＢを見ているとピッカードが出現する。
	if( FLAG[GF_QS401_LOOK_PICARD_A] )
	{
		//LoadChr("ev_QS_401_Picard_C")
		SetChrPos("ev_QS_401_Picard_C",-10.46f,-1382.01f,13.62f)
		Turn("ev_QS_401_Picard_C",-96.52f,360.0f)
		
		//マーカー設置
		DelMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP5, 0, 0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（屋内Ｃ）」ポイント用
		SetMapMarker( SMI_QUEST, PAGE_MP120x, MARKER_QS_401_LP5, -10.46f,-1382.01f,13.62f,	-10.46f,-1382.01f,	MARKER_QS_401_LP5, MN_T_VILLAGE_MP1201,	0)	// 【QS401】新入りはいずこ（レーヤ）「▼ピッカード捕獲イベント（屋内Ｃ）」ポイント用
	}
	Wait(1)

	RestoreCamera(0,0)
	ResetCameraObserver(0)
	ResetCameraZPlane()
	WaitFade()
	Wait(FADE_CROSS)

	ResetStopFlag(STOPFLAG_SIMPLEEVENT2)
//終了処理ここまで----------------------------------------------------
}
//===============================================================
//
// 【QS401】新入りはいずこ（レーヤ）
// ▼ピッカード捕獲イベント（屋内Ｃ）
//
function "QS_401_Picard_C"
{
	//　　上記２箇所を調べていると
	//　　-11.08f	-1380.88f	11.63f	-80.63f付近の棚の上に
	//　　ピッカードが出現する。（置物のように動かない）
	//　　調べるとイベントを起動。

//開始処理ここから----------------------------------------------------

//	CallFunc("system:event_begin")
	CallFunc("system:solo_event_begin")

	//キャラのit3を読み込む
	LoadChr("ev_QS_401_Picard_C")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -9.16f, -1382.11f, 11.57f)
	Turn("ADOL", 89.62f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("ADOL","ev_QS_401_Picard_C")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("ev_QS_401_Picard_C", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ev_QS_401_Picard_C",-10.46f,-1382.01f,13.62f)
	Turn("ev_QS_401_Picard_C",-96.52f,360.0f)
	ChangeAnimation( "ev_QS_401_Picard_C" , "ANI_WAIT", -1 , 1 )
//	ChangeSubAnimation("ev_QS_401_Picard_C",SUBMOT_EYE,ANI_E_WAIT,1)
//	ChangeSubAnimation("ev_QS_401_Picard_C",SUBMOT_MOUTH,ANI_M_WAIT,1)
//	ChangeSubAnimation("ev_QS_401_Picard_C",SUBMOT_EXT1,ANI_E_LOOKC,1)
//	LookReset("ev_QS_401_Picard_C")
	SetChrInfoFlag( "ev_QS_401_Picard_C" , INFOFLAG_NOCHRATARI)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , -9.391f , -1382.424f , 13.356f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.700f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -15.355f , 0 )	// 基本仰角
	RotateCamera( 0 , 57.154f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_401_Picard_C_ED")

//開始処理ここまで-----------------------------------------------

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cこれはピッカードのぬいぐるみ……？\p"
		"#7Cいや、香ばしい匂いがする。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ピッカードに冷や汗エモーション
	EmotionEx("ev_QS_401_Picard_C", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	Wait(50)

	Turn("ev_QS_401_Picard_C", 155.02f, 8.0f)
	Wait(10)

	PlaySE(SE_QS_401_03, 100, 0, 0, 0, 1.0f, 0)

	//SetChrInfoFlag("ev_QS_401_Picard_C", INFOFLAG_NOATARI)
	//ChangeAnimation("ev_QS_401_Picard_C", "ANI_EV_JUMP_S", -1, 1)
	//Jump("ev_QS_401_Picard_C", 0.1)

	//　　鳴き声をだして慌てるが、
	//　　アドルが一歩近寄った所で暗転する。
	
	//Turn("ev_QS_401_Picard_C", -39.64f, 8.0f)
	Wait(10)
	EmotionEx("ev_QS_401_Picard_C", 0.15f, EMO_ASE, 0, 5, 1, 1, 2.0f)	//アセアセ
	Wait(40)

	ExecuteCmd(1, MoveTo, "ADOL", -9.63f, -1382.16f, 11.57f, 0.1f, 0.12f)
	WaitThread(1)

	ChangeAnimation("ADOL", "ANI_EV_KAZASU_S", -1, 1)
	Wait(20)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	PlaySE(SE_TUTORIAL, 100, 0, 0, 0, 1.0f, 0)	//チュートリアル

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cピッカードを捕まえた！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　「▼クエスト達成イベント」に接続する。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_401_Picard_C_ED")
}
function "QS_401_Picard_C_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	SetChrPos("ev_QS_401_Picard_C", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	SetFlag( TF_LOADING_TIPS_OFF, 1 )	//NowLoading 時の Tips 表示をカット
	LoadArg("map/mp1201/mp1201.arg")
	EventCue("mp1201:QS_401_Complete")		//（続き）

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS510】故郷の花
// ▼サブイベント・アリスンが倒れる
//
function "QS_510_Subev"
{
	//　　「▼第五部②バハの塔に向かう」時に
	//　　アリスンに話しかけるとイベント開始。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Alison")
	LoadChr("Licht")
	CallFunc("system:Load_Miralda_Event")
	CallFunc("system:Load_Nia_Event")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",-0.50f,-1382.11f,11.57f)
	Turn("ADOL",-131.50f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("ADOL","Alison")
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)

	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison",0.47f,-1381.28f,11.57f)
	Turn("Alison",50.87f,360.0f)
	ChangeAnimation( "Alison" , "ANI_EV_SIT_C", -1 , 1 )
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookChr("Alison","ADOL")
	SetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI)

	//ノードHide
	MapHide("bed2_blanketA", 0)	//アリスン用ベッドの布団の形状・人の膨らみあり
	MapHide("bed2_blanketB", 1)

	MapAnime("obj_que01", "on")	//クエスト：アリスン椅子
	MapHide("obj_que01", 1)

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
//	MoveCameraAt(0, -0.404f, -1382.611f, 13.117f, 0)	// 注視点
//	ChangeCameraDistance(0, 1.903f, 0)		// 基本距離
//	ChangeCameraElevation(0, 10.695f, 0)	// 基本仰角
//	RotateCamera(0, 334.572f, 0)				// 角度
//	ChangeCameraPers(0, 36.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転

	MoveCameraAt( 0 , -0.174f , -1382.354f , 13.117f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.903f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.695f , 0 )	// 基本仰角
	RotateCamera( 0 , 336.039f , 0 )				// 角度
	ChangeCameraPers( 0 , 36.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_510_Subev_ED")

//開始処理ここまで-----------------------------------------------
//
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -0.174f, -1382.354f, 13.117f, 50)		// 注視点
//	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 336.039f, 50)		// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
//
//	WaitThread(1000)
//	WaitThread(1001)

	PlayVoice(Y8V_4407,"Alison",100)	//アドルさん（平常のテンション）
	TalkPopup("Alison",0,0,0,0,0)
	{
		"#000e#080mあ、アドルさん。"
		"とうとう船造りが始まりますね。\p"

	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#000e#080mどうか帆の仕立ては"
		"私にお任せ……うぅ……"
	}
	Wait(15)
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
	WaitPrompt()
	WaitCloseWindow()

	Look("Alison", 0.00f, -5.00f)

	//　　アドルに「パッ」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(40)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"大丈夫かい？")
	MenuAdd(2,"どこか痛むのかい？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(10)

	ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)
	
	//──────────────────────
	//	⇒大丈夫かい？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		LookReset("Alison")
		ChangeAnimation("Alison", "ANI_EV_SC_TEMUNE_S", -1, 1)
		TalkPopup("Alison",0,0,0,0,0)
		{
			"#062e#000mえ、ええ、少し体調が"
			"優れないだけで……\p"
			"アドルさんのご心配には……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒どこか痛むのかい？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		LookReset("Alison")
		ChangeAnimation("Alison", "ANI_EV_SC_TEMUNE_S", -1, 1)
		TalkPopup("Alison",0,0,0,0,0)
		{
			"#062e#000mその、少しお腹の調子が"
			"悪いだけで……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	//　　アドルに「！！」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 0.85f)	//！！

	Wait(40)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 0.556f, -1381.266f, 12.795f, 60)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 330.284f, 60)		// 角度

	Wait(20)
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)
	ChangeSubAnimation("Alison", SUBMOT_MOUTH, ANI_M_SUP_S, 1)
	Wait(10)

	StopBGM(120)
	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　画面フェードアウト。
	FadeOut(FADE_BLACK, FADE_FAST)
	WaitFade()

	//EarthQuake(0.12f, 0.12f, 8)
	TalkPopup("Alison", 0, 0, 0, 0, 0)
	{
		"#060e#070m#16Sうぁあっ……！"
	}
	WaitPrompt()
	WaitCloseWindow()


	//　　画面フェードインして休息所の女性部屋。
	//　　ベッドにアリスンが寝込んでおり、その前にリヒトが座っている。
	//　　さらにその前にラクシャ・ダーナ・リコッタ、アドルがいる。
	//　　（合流していればシスター・ニアとミラルダも配置）
	SetChrPos("ADOL", -30.71f, -1377.37f, 12.39f)
	Turn("ADOL", 70.48f, 360.0f)

	LookChr( "ADOL", "Alison" )

	SetChrPos("Alison", -33.75f, -1377.84f, 13.05f)
	Turn("Alison", -70.46f, 360.0f)
	PitchChr("Alison", -0.13f, 0)
	RollChr("Alison", 0.00f, 0)

	SetChrInfoFlag("Alison", INFOFLAG_FLING)
	ChangeAnimation( "Alison" , "ANI_EV_TAORE_BED", -1 , 1 )	//ベッドで寝込んでいる
	LookReset( "Alison" )
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("Alison", SUBMOT_MOUTH, ANI_M_WAIT, 1)

	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	//SetChrPos("Licht",-34.12f,-1379.38f,12.40f)
	//Turn("Licht",15.90f,360.0f)

	SetChrPos("Licht", -32.73f, -1376.46f, 12.39f)
	Turn("Licht", 23.31f, 360.0f)
	ChangeAnimation( "Licht" , "ANI_EV_SIT_C", -1 , 1 )
	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Licht" , INFOFLAG_NOCHRATARI)
	LookChr( "Licht", "Alison" )

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", -32.02f, -1376.80f, 12.39f)
	Turn("LAXIA",38.86f,360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)
	LookChr( "LAXIA", "Alison" )

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", -31.32f, -1377.14f, 12.39f)
	Turn("DANA", 48.01f, 360.0f)
	ChangeAnimation( "DANA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "DANA" , INFOFLAG_NOCHRATARI)
	LookChr( "DANA", "Alison" )

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", -31.18f, -1377.95f, 12.39f)
	Turn("RICOTTA",78.78f,360.0f)
	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI)
	LookChr( "RICOTTA", "Alison" )

	if( FLAG[GF_SUBEV_JOIN_NIA] )				// シスター・ニアと合流した
	{
		SetChrWork("Nia", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Nia", -30.72f, -1376.42f, 12.39f)
		Turn("Nia",54.63f,360.0f)
		ChangeAnimation( "Nia" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Nia",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Nia",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Nia",SUBMOT_EXT1,ANI_E_LOOKC,1)
		SetChrInfoFlag( "Nia" , INFOFLAG_NOCHRATARI)
		LookChr( "Nia", "Alison" )
	}

	if( FLAG[GF_SUBEV_JOIN_MIRALDA] )			// ミラルダと合流した
	{
		SetChrWork("Miralda", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Miralda", -30.22f, -1378.09f, 12.39f)
		Turn("Miralda", 87.31f, 360.0f)
		ChangeAnimation( "Miralda" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Miralda",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Miralda",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Miralda",SUBMOT_EXT1,ANI_E_LOOKC,1)
		SetChrInfoFlag( "Miralda" , INFOFLAG_NOCHRATARI)
		LookChr( "Miralda", "Alison" )
	}
	
	Wait(30)

	//	ナレーション
	TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0)
	{
		"#7Cアドルはそのままアリスンの"
		"#7C身体を支えるとベッドへ運び込み──\p"
		"#7Cすぐさまリヒトを呼び、"
		"#7C容態を診てもらうのだった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	////アリスンクエスト_紫鈴草の花瓶と椅子

	//MapAnime("obj_que01", "on")	//クエスト：アリスン椅子
	//MapHide("obj_que01", 1)

	MoveCameraAt(0, -33.796f, -1378.103f, 13.55f, 0)	// 注視点
	ChangeCameraDistance(0, 1.700f, 0)		// 基本距離
	ChangeCameraElevation(0, 24.695f, 0)	// 基本仰角
	RotateCamera(0, 22.416f, 0)				// 角度
	ChangeCameraPers(0, 40.001f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(10)

	PlayBGM(BGM_EVENT_008, 0)
	SetEnvSEPlayState(1202001, 1)	//環境SEスタート
	SetEnvSEPlayState(1202201, 1)	//環境SEスタート
	SetEnvSEPlayState(1202202, 1)	//環境SEスタート
	SetEnvSEPlayState(1202203, 1)	//環境SEスタート

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//ベッドにアリスンが寝込んでおり、
	//その前にリヒトが座っている

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -30.567f, -1379.458f, 14.145f, 130)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 21.469f, 130)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 33.065f, 130)		// 角度

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	TalkPopup("Licht",0,0,0,0,0)
	{
		"#000e#000mふむ……"
		"何とか落ち着いたようですね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "Licht")
	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#000e#000mリヒトさん、"
		"アリスンさんは一体……"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Licht",0,0,0,0,0)
	{
		"#000e#000mそれなんですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	StopBGM(120)

	//　　リヒトに「…」エモーション。
	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	EmotionEx("Licht", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(52)
	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	LookSpd("Licht", 0.12f, 0.12f, 0.12f)// ゆっくりめに首向き
	LookChr("Licht", "LAXIA")

	TalkPopup("Licht",0,0,0,0,0)
	{
		"#000e#000m……彼女のお腹には"
		"新しい命が宿っているようです。"
	}
	WaitPrompt()
	WaitCloseWindow()
	LookSpd("Licht", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)

	//　　ラクシャ・ダーナ・リコッタ、アドルに「！！」エモーション。
	EmotionEx("LAXIA", 0.00f, EMO_EX2, 0, 5, 1, 1, 1.0f)	//！！
	EmotionEx("DANA" 0.00f, EMO_EX2, 0, 5, 1, 1, 1.0f)		//！！
	EmotionEx("RICOTTA", 0.00f, EMO_EX2, 0, 5, 1, 1, 1.0f)	//！！
	EmotionEx("ADOL", 0.00f, EMO_EX2, 0, 5, 1, 1, 1.0f)		//！！
	EmotionEx("Nia", 0.00f, EMO_EX2, 0, 5, 1, 1, 1.0f)	//！！
	EmotionEx("Miralda", 0.00f, EMO_EX2, 0, 5, 1, 1, 1.0f)		//！！
	Wait(40)

	PlayBGM(BGM_TOWN_501, 0)

	LookChr("LAXIA", "Alison")

	TalkPopup("LAXIA",0,1,275,80,0)
	{
		"#070e#000mえ……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("DANA", "ANI_EV_TEMUNE_S", -1, 1)
	TalkPopup("DANA",0,1,280,100,0)
	{
		"#000e#000mそ、そうだったんだ……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("RICOTTA", "Licht")
	TalkPopup("RICOTTA",0,1,250,160,0)
	{
		"#000e#000m命、新しい……\p"
		"赤ちゃんってやつか！？"
		"赤ちゃん3行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, -32.213f, -1378.172f, 13.897f, 0)	// 注視点
	ChangeCameraDistance(0, 1.703f, 0)		// 基本距離
	ChangeCameraElevation(0, 14.580f, 0)	// 基本仰角
	RotateCamera(0, 16.704f, 0)				// 角度
	ChangeCameraPers(0, 28.001f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

//	HeadYes("Licht", 1, 25)
	TalkPopup("Licht",0,0,0,0,0)
	{
		"#050e#000mうん、それも臨月といって"
		"いつ生まれてもおかしくない状態でね。"
	}
	WaitPrompt()
	WaitCloseWindow()

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -33.064f, -1378.797f, 13.897f, 60)		// 注視点
//	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 11.732f, 60)		// 角度
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -33.031f, -1379.448f, 13.996f, 60)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 3.018f, 60)		// 角度


	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)
	Look("Licht", 1.00f, -10.00f)

	WaitThread(1000)
	WaitThread(1001)

	TalkPopup("Licht", 0, 0, 0, 0, 0)
	{
		"#000m目立たなかったとはいえ、"
		"なぜ僕は気付けなかったんだ……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	LookRoll("Alison", -20.0f)
	ChangeSubAnimation("Alison", SUBMOT_EXT1, ANI_E_LOOKL_S, 1)

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#000e#000mせ、先生が気に病むことでは……\p"
		"隠していたのは私ですし……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	LookChr("Licht", "Alison")

	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#070e#000mアリスンさん、どうして……"
	}
	WaitPrompt()
	WaitCloseWindow()


	CrossFade(FADE_CROSS)

	MoveCameraAt(0, -34.328f, -1378.025f, 13.551f, 0)	// 注視点
	ChangeCameraDistance(0, 1.698f, 0)		// 基本距離
	ChangeCameraElevation(0, 1.236f, 0)	// 基本仰角
	RotateCamera(0, 293.549f, 0)				// 角度
	ChangeCameraPers(0, 36.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ChangeAnimation("DANA", "ANI_EV_TEMUNE_E", -1, 1)
	LookChr("RICOTTA", "Alison")

	Wait(FADE_CROSS)

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#000e#000m夫の……エドの子を宿していたのは"
		"ここへ来る前から分かっていましたが……\p"
		"#050e#000mその、皆さんにご迷惑を"
		"おかけしたくなかったもので……\p"
		"#061e#000m結局、このようなことに"
		"なってしまいましたが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"気に病む必要はないさ")
	MenuAdd(2,"迷惑なわけがない")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//──────────────────────
	//	⇒気に病む必要はないさ
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI_L", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(30)

		HeadYes("LAXIA", 1, 25)
		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#011e#000mええ、この漂流村では"
			"助け合うのが当然です。\p"
			"#012e水臭いことは言わないでください。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒迷惑なわけがない
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI_L", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		HeadYes("LAXIA", 1, 25)

		TalkPopup("LAXIA",0,2,0,0,0)
		{
			"#011e#000mアドルの言う通りです。\p"
			"#012eわたくしたちが"
			"そのように思うはずがありません。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	ChangeAnimation("RICOTTA", "ANI_EV_GUTSPOSE_S", -1, 1)
	TalkPopup("RICOTTA",0,2,0,0,0)
	{
		"#080e#080m漂流村のみんな、仲間で家族。\p"
		"仲間で家族2行目"
		"苦しい時は頼る。"
		"苦しい時2行目"
	}
	WaitPrompt()
	WaitCloseWindow()
	ChangeAnimation("RICOTTA", "ANI_EV_GUTSPOSE_E", -1, 1)

	TalkPopup("Licht",0,2,0,0,0)
	{
		"#000e#000mそれに、一番気を遣うべきは"
		"お腹の子供であるはずです。\p"
		"母体であるアリスンさんが"
		"休まないでどうするんですか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#000e#000mみ、皆さん……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("DANA", "ANI_EV_RYOTESIRI_S", -1, 1)
	TalkPopup("DANA",0,2,0,0,0)
	{
		"#080e#080mふふ、みんな本当に優しいんだね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//PlayVoice(Y8V_4266, "Licht", 100)	//ええ（平常のテンション。あらゆる場面で使用）

	TalkPopup("Licht",0,2,0,0,0)
	{
		"#000e#000mとにかくアリスンさんは"
		"心労を相当重ねられているようです。\p"
		"なので出産の日まで、"
		"絶対安静にしてもらいます。\p"
		"僕も全力を尽くすので、赤ちゃんが"
		"無事に生まれるよう頑張りましょう。\p"
		"#061eその、頼りなくて申し訳ないですが……"
		"頼りなくて8行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	//PlayVoice(Y8V_4412, "Alison", 100)	//いえ（平常のテンション。あらゆる場面で使用）

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#000e#000mいえ、そんなこと……\p"
		"リヒト先生……"
		"どうかよろしくお願いします。\p"
		"それから皆さん、仕立物はある程度"
		"前もって用意してありますので……\p"
		"私がお店を外していても……"
		"必要に応じて持ち出してくださいね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT_S,1)

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#011e#000mアリスンさん……助かります。\p"
		"#012eですが今はとにかく"
		"ゆっくりなさってくださいね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　※アリスンが倒れている間、
	//　　　仕立て屋のＬＰはアリスンの会話だけのないメニューとなる。

	//　　画面暗転を挟んで、女性部屋から出た辺り。
	//　　アドルとラクシャ、ダーナ、リコッタで向き合う。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	SetChrPos("ADOL", -8.60f, -1385.08f, 11.57f)
	Turn("ADOL", 47.53f, 360.0f)

	LookChr("ADOL", "LAXIA")

	SetChrPos("LAXIA", -10.21f, -1385.61f, 11.54f)
	Turn("LAXIA", -93.14f, 360.0f)
	LookChr("LAXIA", "ADOL")

	SetChrPos("DANA", -9.90f, -1384.69f, 11.57f)
	Turn("DANA", -40.77f, 360.0f)
	//ChangeAnimation("DANA", "ANI_EV_WAIT2", -1, 1)
	LookChr("DANA", "LAXIA")
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)

	SetChrPos("RICOTTA", -8.84f, -1385.80f, 11.57f)
	Turn("RICOTTA", 126.41f, 360.0f)
	LookChr("RICOTTA", "LAXIA")

	Wait(20)

	MoveCameraAt(0, -12.688f, -1386.412f, 13.879f, 0)	// 注視点
	ChangeCameraDistance(0, 2.688f, 0)		// 基本距離
	ChangeCameraElevation(0, 9.625f, 0)	// 基本仰角
	RotateCamera(0, 76.046f, 0)				// 角度
	ChangeCameraPers(0, 44.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -9.318f, -1385.387f, 12.887f, 100)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 10.751f, 100)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 31.318f, 100)		// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	ChangeAnimation("LAXIA", "ANI_EV_TEMUNE_S", -1, 1)
	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#000e#000mアリスンさん……"
		"ずっと無理されていたんですね。\p"
		"こんな時、旦那さんが"
		"傍にいれば一番いいのですが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("DANA", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("DANA",0,0,0,0,0)
	{
		"#000e#000mエドさん、だっけ。\p"
		"何とか見つかるといいんだけど……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("RICOTTA", "ANI_EV_SIAN_S", -1, 1)
	TalkPopup("RICOTTA",0,1,0,0,0)
	{
		"#000e#000mリコッタたち、"
		"もう結構いろいろ回ったはず。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("LAXIA", "ANI_EV_TEMUNE_E", -1, 1)
	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#011e#000mええ……そもそもこの島に"
		"漂着している確証もありませんが……\p"
		"#012eですが焦っても仕方ありません。\p"
		"わたくしたちはわたくしたちで"
		"今出来る最善を尽くしましょう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -9.332f, -1385.677f, 14.350f, 220)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 61.777f, 220)		// 角度
	Wait(40)

	//　　画面暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	StopThread(1000)
	StopThread(1001)

	//　　イベント終了、操作許可。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_510_Subev_ED")
}
function "QS_510_Subev_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_RICOTTA")
	CallFunc("system:reset_chrmot_DANA")
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_Licht")
	CallFunc("system:reset_chrmot_Alison")

	if (FLAG[GF_SUBEV_JOIN_NIA])				// シスター・ニアと合流した
	{
		CallFunc("system:reset_chrmot_Nia")
	}

	if (FLAG[GF_SUBEV_JOIN_MIRALDA])			// ミラルダと合流した
	{
		CallFunc("system:reset_chrmot_Miralda")
	}

	LookSpd("Licht", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)
	LookSpd("Alison", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)

	SetChrPos("Miralda", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Nia", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Licht", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Alison", -100000.00f, 0.00f, 0.00f)

	MapAnime("obj_que01", "off")	//クエスト：アリスン椅子
	MapHide("obj_que01", 0)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て
	SetFlag( GF_QS510_LOOK_SUBEV, 1 )			// 【QS510】▼サブイベント・アリスンが倒れる を見た
	//SetDiaryCharaFlag( DRCHA_ALISON, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（アリスン）
	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	
	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",-8.56f,-1385.69f,11.57f)
	Turn("LEADER",-93.65f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}
//===============================================================
//
// 【QS510】故郷の花
// ▼クエスト開始イベント
//
function "QS_510_Start"
{
	//　　「▼第五部③幽霊船を調べに向かう」に向かうタイミングで
	//　　休息所の男子部屋を出るとイベント開始。
	//　　地図ジャンプを使った場合も必ずイベントが起こるようにする。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	////キャラのit3を読み込む
	//LoadChr("LAXIA")
	//LoadChr("RICOTTA")
	//LoadChr("DANA")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",-8.58f,-1371.89f,11.57f)
	Turn("ADOL",-27.72f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookReset( "ADOL" )

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", -8.28f, -1377.00f, 11.57f)
	Turn("DANA", -175.51f, 360.0f)
	ChangeAnimation( "DANA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "DANA" , INFOFLAG_NOCHRATARI)
	LookChr("DANA", "ADOL")

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", -7.28f, -1377.07f, 11.57f)
	Turn("LAXIA", 161.43f, 360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)
	LookChr("LAXIA", "ADOL")

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", -6.28f, -1377.00f, 11.57f)
	Turn("RICOTTA", 149.67f, 360.0f)
	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI)
	LookChr("RICOTTA", "ADOL")

	//カメラ設定

	MoveCameraAt(0, -8.947f, -1371.509f, 13.025f, 0)	// 注視点
	ChangeCameraDistance(0, 2.301f, 0)		// 基本距離
	ChangeCameraElevation(0, 7.882f, 0)	// 基本仰角
	RotateCamera(0, 178.059f, 0)				// 角度
	ChangeCameraPers(0, 41.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 60.000 ,1.000 ,0.700 ,0.500)

	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_510_Start_ED")

//開始処理ここまで-----------------------------------------------

	SetMotSpd("DANA", -1 , 0.85f)
	SetMotSpd("RICOTTA", -1 , 1.12f)	
	
	ExecuteCmd(1, MoveTo, "RICOTTA", -7.08f, -1373.26f, 11.57f, 0.1f, 0.22f)
	Wait(3)
	ExecuteCmd(2, MoveTo, "DANA", -8.58f, -1373.93f, 11.57f, 0.1f, 0.20f)
	ExecuteCmd(3, MoveTo, "LAXIA", -7.78f, -1373.60f, 11.57f, 0.1f, 0.22f)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -8.205f, -1372.156f, 13.025f, 90)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 175.883f, 90)		// 角度

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	WaitThread(1)
	Turn("RICOTTA", 136.88f, 8.0f)
	WaitThread(2)

	WaitThread(1000)
	WaitThread(1001)

	//　　アドルの前にダーナとラクシャとリコッタが来る。

	TalkPopup("DANA",0,0,0,0,0)
	{
		"#000e#000mあ、アドルさん……"
	}
	WaitPrompt()
	WaitCloseWindow()

	WaitThread(3)
	WaitThread(1000)

	SetMotSpd("DANA", -1 , 1.0f)
	SetMotSpd("RICOTTA", -1 , 1.0f)
	
	//──────────────────────
	//	⇒アリスンが倒れるイベントを見ている場合
	if( FLAG[GF_QS510_LOOK_SUBEV] )		//【QS510】▼サブイベント・アリスンが倒れる を見た
	{
		ChangeAnimation("DANA", "ANI_EV_WAIT2_S", -1, 1)

		TalkPopup("DANA",0,0,0,0,0)
		{
			"#000e#000mアリスンさんのことだけど、"
			"容態はそこまでよくないみたいだね。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒見ていない場合
	else
	{
		ChangeAnimation("LAXIA", "ANI_EV_TEBURI", -1, 1)

		TalkPopup("LAXIA",0,0,0,0,0)
		{
			"#000e#000mあなたはまだ、アリスンさんの状態を"
			"知りませんでしたね。"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		ChangeAnimation("DANA", "ANI_EV_WAIT2_S", -1, 1)

		TalkPopup("DANA",0,0,0,0,0)
		{
			"#000e#000m実はアリスンさん、妊娠していたことを"
			"ずっと隠していたらしいんだけど……\p"
			"無理がたたって倒れちゃって……"
			"絶対安静状態なんだ。"
		}
		WaitPrompt()
		WaitCloseWindow()

		//──────────────────────
		EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 0.95f)	// 「！」
		Wait(35)

		TalkPopup("DANA", 0, 0, 0, 0, 0)
		{
			"#061e#000mそれに、今も容態は"
			"あまりよくないみたいで……"

		}
		WaitPrompt()
		WaitCloseWindow()
	}

	ChangeAnimation("LAXIA", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#000e#000mリヒトさんの見立てによれば、"
		"おそらく早産になりそうだと。\p"
		"……アリスンさんの不安は、"
		"相当なものだと思います。"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("RICOTTA",0,0,0,0,0)
	{
		"#061e#000m然り、とても心配……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("DANA", "ANI_EV_WAIT2_E", -1, 1)
	TalkPopup("DANA",0,0,0,0,0)
	{
		"#000e#000m少しでも気持ちを"
		"楽にしてあげられるといいんだけど……\p"
		"何かいい方法はないかな？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT_S,1)
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"早く旦那さんを見つけよう")
	MenuAdd(2,"好きな食べ物を用意するとか？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//──────────────────────
	//	⇒早く旦那さんを見つけよう
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		ChangeAnimation("LAXIA", "ANI_EV_UDEGUMI_E", -1, 1)

		TalkPopup("LAXIA",0,0,0,0,0)
		{
			"#000e#000mそれが叶うなら、"
			"この上ないでしょうが……\p"
			"今はもっと確実な方法を"
			"考えるべきでしょう。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好きな食べ物を用意するとか？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_BORI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(20)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		ChangeAnimation("LAXIA", "ANI_EV_UDEGUMI_E", -1, 1)

		TalkPopup("LAXIA",0,0,0,0,0)
		{
			"#000e#000mもちろん喜んではくれるでしょうが……\p"
			"いつも通り食事を採れる"
			"状況ではない気がします。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────
	LookChr("RICOTTA", "LAXIA")
	TalkPopup("RICOTTA",0,0,0,0,0)
	{
		"#000e#000mそれなら花はどうだ。\p"
		"好きな花、見たり"
		"嗅いだりするときっと元気出る。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　ラクシャに「パッ」エモーション。
	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)

	LookChr("DANA", "LAXIA")
	LookChr("ADOL", "LAXIA")

	ChangeAnimation("LAXIA", "ANI_EV_SIAN_S", -1, 1)
	TalkPopup("LAXIA", 0, 0, 0, 0, 0)
	{
		"#011e#000mそういえば……"
		"以前、聞いたことがあります。\p"
		"アリスンさんたちの故郷の村には"
		"立派な花畑があって……\p"
		"#012eそこには一面に、紫鈴草という花が"
		"咲き広がっていたとか。\p"
		"どうやら旦那さんとの"
		"思い出の場所でもあるみたいです。\p"
		"#011eただグリーク特有の"
		"珍しい花とのことでしたが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("DANA", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("DANA",0,0,0,0,0)
	{
		"#000e#000m紫鈴草……文字通り"
		"紫色の鈴型の花弁を持つ花だね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドル、ラクシャ、リコッタに「パッ」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)		//パッ
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)		//パッ
	EmotionEx("RICOTTA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	ChangeAnimation("LAXIA", "ANI_EV_SIAN_E", -1, 1)
	Wait(35)

	LookChr("LAXIA", "DANA")

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -8.037f, -1372.392f, 13.025f, 30)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 165.428f, 30)		// 角度


	LookChr("ADOL", "DANA")

	//Turn("LAXIA",130.0f, 8.0f)

	WaitThread(1000)
	WaitThread(1001)

	TalkPopup("RICOTTA",0,0,0,0,0)
	{
		"#000e#000mダーナ姉、その花知ってる？"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("DANA", 1, 25)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	TalkPopup("DANA",0,0,0,0,0)
	{
		"#000mうん、エタニア時代に"
		"見かけたことがあったから。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("DANA")
	ChangeAnimation("DANA", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("DANA", 0, 0, 0, 0, 0)
	{
		"#000m当時も希少だったし、"
		"この時代ではどうか分からないけど……\p"
		"#011e#000mどこかに残っている可能性は"
		"十分あるんじゃないかな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"いい贈り物になりそうだね")
	MenuAdd(2,"何とか探し出そう")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//──────────────────────
	//	⇒いい贈り物になりそうだね
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadYes("ADOL", 1, 25)
		Wait(30)
		ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		LookChr("LAXIA", "ADOL")
		Wait(15)
		HeadYes("LAXIA", 1, 25)
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		TalkPopup("LAXIA",0,0,0,0,0)
		{
			"#000mええ、少なくとも今考えられる"
			"中では一番だと思います。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒何とか探し出そう
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI_L", -1, 1)
		Wait(30)
		ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

		LookChr("LAXIA", "ADOL")
		LookChr("LAXIA", "ADOL")
		Wait(10)
		HeadYes("LAXIA", 1, 25)
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		Wait(15)
		ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		TalkPopup("LAXIA",0,0,0,0,0)
		{
			"#000mええ、差し上げれば"
			"きっと喜んでもらえると思います。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────


	LookChr("DANA", "ADOL")
	TalkPopup("DANA",0,0,0,0,0)
	{
		"#080e#080mそれじゃあ決まりだね。\p"
		"なるべく急ぎで探さないと。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("RICOTTA", "ADOL")

	//　　アドル頷いて画面フェードアウト。
	HeadYes("ADOL" , 1 , 25)
	Wait(35)
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　画面暗転のまま下記のメッセージ表示。

	PlaySE(SE_QUEST_ADD, 100, 0, 0, 0, 1.0f, 0)		// クエスト追加
	//	システムメッセージ
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#-1W#4C冒険日誌のクエストページに11"
		"#-1W#4Cクエスト#8C【故郷の花】#4Cが追加された。#10W" 
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　フェードインして操作許可。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_510_Start_ED")
}
function "QS_510_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")	
	CallFunc("system:reset_chrmot_LAXIA")
	CallFunc("system:reset_chrmot_RICOTTA")
	CallFunc("system:reset_chrmot_DANA")

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て
	SetFlag( GF_05MP1202_QUEST_QS510, 1 )		// 【QS510】故郷の花	クエスト開始イベントを見た
	SetFlag( GF_QUEST_510, QUEST_START )		// 【QS510】故郷の花	クエスト開始
	//SetDiaryCharaFlag( DRCHA_ALISON, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（アリスン）
	//マーカー設置
	SetMapMarker( SMI_QUEST, PAGE_F004, MARKER_QS_510_LP, 1062.07f,-988.47f,60.90f, 	1062.07f,-988.47f,	MARKER_QS_510_LP, MN_F_MP1116,	0)	// 【QS510】故郷の花　紫鈴草の場所用

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",-8.58f,-1371.89f,11.57f)
	Turn("LEADER",-27.72f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, -8.580f, -1371.890f, 12.935f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, -152.361f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK, FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}
//===============================================================
//
// 【QS510】故郷の花
// ▼クエスト達成イベント
//
function "QS_510_Complete"
{
	//　　アリスンの前にエドが座っており、その脇にリヒト、
	//　　その後ろにラクシャ・ダーナ・リコッタ、アドル、
	//　　サハド、ヒュンメルがいる。
	//　　（合流していれば、シスター・ニアとミラルダも配置）

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Alison")
	LoadChr("Licht")
	LoadChr("Dogi")
	LoadChr("Ed")
	LoadChr("Baby")
	
	CallFunc("system:Load_Miralda_Event")
	CallFunc("system:Load_Nia_Event")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -30.45f, -1377.95f, 12.39f)
	Turn("ADOL",83.43f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookChr("ADOL", "Alison")

	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison", -33.75f, -1377.84f, 13.05f)
	Turn("Alison", -70.46f, 360.0f)
	PitchChr("Alison", -0.13f, 0)
	SetChrInfoFlag("Alison", INFOFLAG_FLING)
	ChangeAnimation("Alison", "ANI_EV_TAORE_BED", -1, 1)	//ベッドで寝込んでいる
	LookReset("Alison")
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI)

	SetChrWork("Ed", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Ed", -32.67f, -1376.41f, 12.39f)
	Turn("Ed", 15.90f, 360.0f)
	ChangeAnimation( "Ed" , "ANI_EV_SIT_C", -1 , 1 )
	ChangeSubAnimation("Ed",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Ed",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Ed",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Ed" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag("Ed", INFOFLAG_NOATARI)
	LookSpd("Ed", 1.0f, 1.0f, 1.0f)
	LookChr("Ed", "Alison")

	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Licht", -31.77f, -1376.54f, 12.39f)
	Turn("Licht", 38.83f, 360.0f)
	ChangeAnimation( "Licht" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Licht",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Licht" , INFOFLAG_NOCHRATARI)
	LookChr("Licht", "Alison")

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	//SetChrPos("LAXIA",-31.92f,-1380.18f,12.39f)
	//Turn("LAXIA",68.75f,360.0f)

	SetChrPos("LAXIA", -31.15f, -1377.40f, 12.39f)
	Turn("LAXIA", 68.75f, 360.0f)

	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)
	LookChr("LAXIA", "Alison")

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", -30.24f, -1378.75f, 12.39f)
	Turn("DANA",99.01f,360.0f)
	ChangeAnimation( "DANA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "DANA" , INFOFLAG_NOCHRATARI)
	LookChr("DANA", "Alison")

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", -30.85f, -1376.84f, 12.39f)
	Turn("RICOTTA", 49.65f, 360.0f)
	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI)
	LookChr("RICOTTA", "Alison")

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", -30.45f, -1376.2f, 12.39f)
	Turn("SAHAD",45.20f,360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)
	LookChr("SAHAD", "Alison")

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL", -30.01f, -1376.81f, 12.39f)
	Turn("HUMMEL",60.24f,360.0f)
	ChangeAnimation( "HUMMEL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("HUMMEL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "HUMMEL" , INFOFLAG_NOCHRATARI)
	LookChr("HUMMEL", "Alison")

	if( FLAG[GF_SUBEV_JOIN_NIA] )				// シスター・ニアと合流した
	{
		SetChrWork("Nia", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Nia", -30.28f, -1375.52f, 12.39f)
		Turn("Nia",51.10f,360.0f)
		ChangeAnimation( "Nia" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Nia",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Nia",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Nia",SUBMOT_EXT1,ANI_E_LOOKC,1)
		SetChrInfoFlag( "Nia" , INFOFLAG_NOCHRATARI)
		LookChr("Nia", "Alison")
	}

	if( FLAG[GF_SUBEV_JOIN_MIRALDA] )			// ミラルダと合流した
	{
		SetChrWork("Miralda", CWK_DEFAULT_SKIPNODE_OFF, 1)
		SetChrPos("Miralda", -29.42f, -1378.33f, 12.39f)
		Turn("Miralda",88.68f,360.0f)
		ChangeAnimation( "Miralda" , "ANI_WAIT", -1 , 1 )
		ChangeSubAnimation("Miralda",SUBMOT_EYE,ANI_E_WAIT,1)
		ChangeSubAnimation("Miralda",SUBMOT_MOUTH,ANI_M_WAIT,1)
		ChangeSubAnimation("Miralda",SUBMOT_EXT1,ANI_E_LOOKC,1)
		SetChrInfoFlag( "Miralda" , INFOFLAG_NOCHRATARI)
		LookChr("Miralda", "Alison")

	}

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Dogi", -19.34f, -1381.60f, 12.39f)
	Turn("Dogi", 142.30f, 360.0f)
	ChangeAnimation("Dogi", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)
	LookReset("Dogi")

	//ノードHide
	MapHide("bed2_blanketA", 0)	//アリスン用ベッドの布団の形状・人の膨らみあり
	MapHide("bed2_blanketB", 1)

	MapAnime("obj_que01", "on")	//クエスト：アリスン椅子
	MapHide("obj_que01", 1)
	MapHide("obj_que01_flower", 1)		//クエスト：アリスン紫鈴草の花瓶


	//カメラ設定
	MoveCameraAt(0, -32.572f, -1375.627f, 13.551f, 0)	// 注視点
	ChangeCameraDistance(0, 3.001f, 0)		// 基本距離
	ChangeCameraElevation(0, 6.216f, 0)	// 基本仰角
	RotateCamera(0, 337.719f, 0)				// 角度
	ChangeCameraPers(0, 24.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,0.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_510_Complete_ED")

//開始処理ここまで-----------------------------------------------
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -33.624f, -1377.697f, 13.526f, 85)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 337.719f, 85)		// 角度
	Wait(10)
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	WaitThread(1000)
	WaitThread(1001)

	LookSpd("Ed", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)
	TalkPopup("Ed",0,0,0,0,0)
	{
		"#000e#000mアリスン……"
		"心配をかけて本当にすまなかった。\p"
		"君のことをどうにか見つけようと、"
		"僕なりに足掻いてはいたんだけど……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(30)

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, -29.273f, -1377.583f, 13.651f, 0)	// 注視点
	ChangeCameraDistance(0, 3.900f, 0)		// 基本距離
	ChangeCameraElevation(0, 1.024f, 0)	// 基本仰角
	RotateCamera(0, 284.978f, 0)				// 角度
	ChangeCameraPers(0, 42.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -31.370f, -1376.029f, 13.651f, 115)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 308.072f, 115)		// 角度

	WaitThread(1000)
	WaitThread(1001)

	ChangeAnimation("LAXIA", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#000e#000mエドさんが流れ着いたのは島の東側……\p"
		"凶暴な獣も多いので、"
		"さぞ身動きが取りづらかったでしょうね。"
		"身動き4行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
//	MoveCameraAt(0, -33.577f, -1378.457f, 13.676f, 0)	// 注視点
//	ChangeCameraDistance(0, 2.699f, 0)		// 基本距離
//	ChangeCameraElevation(0, 17.413f, 0)	// 基本仰角
//	RotateCamera(0, 29.550f, 0)				// 角度
//	ChangeCameraPers(0, 20.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転

	MoveCameraAt( 0 , -33.553f , -1379.070f , 13.825f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.147f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 10.105f , 0 )	// 基本仰角
	RotateCamera( 0 , 357.555f , 0 )				// 角度
	ChangeCameraPers( 0 , 20.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -33.546f, -1379.073f, 13.825f, 70)		// 注視点
//	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 10.719f, 70)		// 基本仰角
//	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 359.637f, 70)		// 角度

	LookSpd("Alison", 0.06f, 0.06f, 0.06f)// ゆっくりめに首向き

//	LookTo("Alison", -33.42f, -1377.57f, 13.09f)
	Look(Alison ,-20, 5 )
	LookRoll(Alison , -20)
	ChangeSubAnimation("Alison", SUBMOT_EXT1, ANI_E_LOOKL, 1)
	Wait(10)
	LookSpd("Alison", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)

//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#080e#080mとにかくあなたが無事でよかった……\p"
		"本当に……本当によかった……"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Ed", 0, 0, 0, 0, 0)
	{
		"#061e#000mアリスン……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　エドに「パッ」エモーション。
	EmotionEx("Ed", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	ChangeSubAnimation("Ed",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Wait(35)

	TalkPopup("Ed",0,0,0,0,0)
	{
		"#000mそうだ、アリスン。"
		"実はこの島で紫鈴草を見つけてね。\p"
		"何とか君にも見せたいと思って、"
		"そこを拠点にしていたんだけど……\p"
		"おかげで、アドル君たちに"
		"見つけてもらうことができたんだ。\p"
		"テーブルに飾ってあるから後で持って……"
		"テーブル8行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#080e#080mふふ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Ed", 0, 0, 0, 0, 0)
	{
		"#070e#000mア、アリスン……？"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#011e#000mううん、本当に"
		"エドがいるんだなって思って……\p"
		"いつも私のために一生懸命で……"
		"ありがたいなって……"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadNo("Ed", 1, 35)
	ChangeSubAnimation("Ed",SUBMOT_EYE,ANI_E_SAD_CLOSE_S,1)
	TalkPopup("Ed", 0, 0, 0, 0, 0)
	{
		"#000mそんな、僕は何も……"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("Alison")
	LookRoll(Alison , 0)

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#061e#000mううぅ……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	PitchChr("Ed", -0.78f, 8)

	TalkPopup("Ed", 0, 0, 0, 0, 0)
	{
		"#070e#070mア、アリスン！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -33.476f, -1379.166f, 14.023f, 60)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 23.642f, 60)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 19.720f, 60)		// 角度

	Wait(45)
//	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)

	StopBGM(120)

	FadeOut(FADE_BLACK, FADE_FAST)
	WaitFade()
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)

	TalkPopup("Alison", 0, 0, 0, 0, 0)
	{
		"#18Sうあああああっ……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	MoveCameraAt(0, -31.891f, -1377.124f, 13.825f, 0)	// 注視点
	ChangeCameraDistance(0, 3.900f, 0)		// 基本距離
	ChangeCameraElevation(0, -3.530f, 0)	// 基本仰角
	RotateCamera(0, 281.477f, 0)				// 角度
	ChangeCameraPers(0, 27.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_ANGER_S, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_SUP_S, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_SUP_S, 1)
	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_SUP_S, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SUP_S, 1)
	ChangeSubAnimation("Nia", SUBMOT_EYE, ANI_E_SUP_S, 1)
	ChangeSubAnimation("Nia",SUBMOT_MOUTH,ANI_M_WAIT,1)

	FadeIn(FADE_BLACK, FADE_FAST)
	WaitFade()

	//　　アリスン以外に「！」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)		//！
	EmotionEx("Ed", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)		//！
	EmotionEx("Licht", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)		//！
	EmotionEx("LAXIA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)		//！
	EmotionEx("DANA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)		//！
	EmotionEx("RICOTTA", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	//！
	EmotionEx("SAHAD", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)		//！
	EmotionEx("HUMMEL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	//！
	if (FLAG[GF_SUBEV_JOIN_NIA])				// シスター・ニアと合流した
	{
		EmotionEx("Nia", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)		//！
	}
	if (FLAG[GF_SUBEV_JOIN_MIRALDA])			// ミラルダと合流した
	{
		EmotionEx("Miralda", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	//！
	}
	Wait(40)

	Turn("Licht", 70.31f, 8.0f)
	Wait(10)

	TalkPopup("Licht",0,0,0,0,0)
	{
		"#16S#000e#000mいけない──すぐに準備を──！"
	}
	WaitPrompt()
	WaitCloseWindow()

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　画面フェードアウト。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7C夫の顔を見た安堵からか、"
		"#7Cアリスンの容態は一気に急変──\p"
		"#7C予定より少し早いものの、"
		"#7Cそのまま出産することになるのだった。\p"
		"#7Cそして数時間後──"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(100)	//敢えて焦らす

	//　　汎用ボイス「おぎゃあおぎゃあ」を再生。
	PlayVoice(Y8V_5311, "Baby", 100)	//おぎゃあっおぎゃあっ（生まれた時の声）


	SetChrPos("Ed", -31.97f, -1375.78f, 12.39f)
	Turn("Ed", 41.47f, 360.0f)
	ChangeAnimation("Ed", "ANI_WAIT", -1, 1)

	PitchChr("Ed", 0.00f, 0)
	LookChr("Ed", "Alison")

	SetChrPos("HUMMEL", -22.05f, -1379.10f, 12.39f)
	Turn("HUMMEL", -94.75f, 360.0f)
	LookReset("HUMMEL")

	SetChrPos("SAHAD", -21.31f, -1380.25f, 12.39f)
	Turn("SAHAD", -127.90f, 360.0f)
	LookReset("SAHAD")

	SetChrPos("ADOL", -19.19f, -1378.42f, 12.39f)
	Turn("ADOL", 94.42f, 360.0f)
	LookReset("ADOL")

	SetChrPos("DANA", -31.11f, -1378.17f, 12.39f)
	Turn("DANA", 112.16f, 360.0f)
	ChangeAnimation("DANA", "ANI_EV_WAIT2", -1, 1)

	SetChrPos("Licht", -31.67f, -1376.34f, 12.39f)
	Turn("Licht", 60.69f, 360.0f)

	SetChrPos("RICOTTA", -31.03f, -1376.69f, 12.39f)
	Turn("RICOTTA", 49.65f, 360.0f)

	if (FLAG[GF_SUBEV_JOIN_NIA])
	{
		SetChrPos("Nia", -30.56f, -1375.91f, 12.39f)
		Turn("Nia", 51.52f, 360.0f)
	}
	if (FLAG[GF_SUBEV_JOIN_MIRALDA])
	{
		SetChrPos("Miralda", -29.99f, -1377.52f, 12.39f)
		Turn("Miralda", 88.68f, 360.0f)
	}

	// 赤ちゃん			//	場所
	SetChrPos("cage", -34.01f, -1379.43f, 12.89f)
	Turn("cage", -82.03f, 360.0f)

	SetChrPos("Baby", -33.96f, -1379.43f, 12.91f)
	Turn("Baby", -80.46f, 360.0f)
	ChangeAnimation("Baby", "ANI_WAIT_YOKO", -1, 1)
	SetChrInfoFlag("Baby", INFOFLAG_FLING)

	LookReset("Alison")
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)

	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Ed", SUBMOT_MOUTH, ANI_M_WAIT, 1)

	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_SMILE, 1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_SMILE,1)

	ChangeSubAnimation("Nia", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Miralda", SUBMOT_EYE, ANI_E_LAUGH, 1)
	ChangeSubAnimation("Nia",SUBMOT_MOUTH,ANI_M_SMILE,1)
	ChangeSubAnimation("Miralda",SUBMOT_MOUTH,ANI_M_SMILE,1)


	MoveCameraAt(0, -34.696f, -1379.449f, 12.485f, 0)	// 注視点
	ChangeCameraDistance(0, 1.900f, 0)		// 基本距離
	ChangeCameraElevation(0, 45.535f, 0)	// 基本仰角
	RotateCamera(0, 91.456f, 0)				// 角度
	ChangeCameraPers(0, 14.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(150)
	//　　画面フェードイン。
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -34.334f, -1379.629f, 12.659f, 140)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 43.205f, 140)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 118.028f, 140)		// 角度
	ExecuteCmd(1003 ChangeCameraPers, INTERPOLATE_SPHERE, 24.000f, 140)		// 視野角

	PlayBGM(BGM_EVENT_016, 0)
	SetEnvSEPlayState(1202001, 1)	//環境SE
	SetEnvSEPlayState(1202201, 1)	//環境SE
	SetEnvSEPlayState(1202202, 1)	//環境SE
	SetEnvSEPlayState(1202203, 1)	//環境SE

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, -32.033f, -1376.001f, 13.577f, 0)	// 注視点
	ChangeCameraDistance(0, 3.901f, 0)		// 基本距離
	ChangeCameraElevation(0, 8.537f, 0)	// 基本仰角
	RotateCamera(0, 338.963f, 0)				// 角度
	ChangeCameraPers(0, 31.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetChrPos("cage", -32.58f, -1376.05f, 12.89f)
	Turn("cage", -60.74f, 360.0f)

	SetChrPos("Baby", -32.53f, -1376.04f, 12.92f)
	Turn("Baby", -78.11f, 360.0f)

	Wait(FADE_NORMAL)

	HeadYes("Licht", 1, 25)
	TalkPopup("Licht",0,0,0,0,0)
	{
		"#011e#080mおめでとうございます──"
		"元気な男の赤ちゃんです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookSpd("Ed", 0.10f, 0.10f, 0.10f)// ゆっくりめに首向き

	LookChr("Ed", "Alison")
	TalkPopup("Ed",0,0,0,0,0)
	{
		"#080e#080mこの子が僕たちの……\p"
		"なんて……なんて愛おしいんだ……\p"
		"#061eうう、アリスン……"
		"がんばったなぁ、がんばったなぁ……"
	}
	WaitPrompt()
	WaitCloseWindow()
	LookSpd("Ed", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, -33.013f, -1377.115f, 13.478f, 0)	// 注視点
	ChangeCameraDistance(0, 3.900f, 0)		// 基本距離
	ChangeCameraElevation(0, 4.298f, 0)	// 基本仰角
	RotateCamera(0, 321.244f, 0)				// 角度
	ChangeCameraPers(0, 27.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)

	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	PlayVoice(Y8V_4415, "Alison", 100)	//ふふ（微笑）
	TalkPopup("Alison",0,0,0,0,0)
	{
		"#080e#080mふふ、あなたったら……"
		"赤ちゃんより泣いちゃって。\p"
		"それで先生、この子の状態は……"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Licht",0,0,0,0,0)
	{
		"#012e#080mええ、早産のため"
		"体重はやや少なめですが……\p"
		"健康状態については"
		"まったく問題ありません。\p"
		"僕も驚きましたが……"
		"これは奇跡的なことです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -33.103f, -1377.708f, 13.651f, 60)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 0.846f, 60)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 298.416f, 60)		// 角度

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#000e#000mありがとうございます……\p"
		"これも全て皆さんのおかげです。"
	}
	WaitPrompt()
	WaitCloseWindow()


	TalkPopup("DANA",0,0,0,0,0)
	{
		"#091e#080mいえ、そんなこと。"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("RICOTTA",0,0,0,0,0)
	{
		"#080e#080mなはは、とにかく一件落着だな。\p"
		"ところで、この子は"
		"リコッタの弟ってことでいいか！"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#080e#080mふふ、もちろんよ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("RICOTTA", "ANI_EV_GUTSPOSE_S", -1, 1)
	TalkPopup("RICOTTA",0,0,0,0,0)
	{
		"#020e#080mやった！"
		"これでリコッタもお姉さんだ！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(15)

	//　　ここでドギの声が聞こえてくる。
	EarthQuake(0.05f, 0.05f, 8)
	SetName("ドギの声")
	TalkPopup("Dogi",0,3,360,50,0)
	{
		"#000e#000m悪ぃ──緊急事態だ！\p"
		"──獣が攻めてきやがった！"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")
	ChangeAnimation("RICOTTA", "ANI_EV_GUTSPOSE_E", -1, 1)

	StopBGM(90)

	CrossFade(FADE_CROSS)
	SetChrPos("LAXIA",-31.15f,-1377.40f,12.39f)
	Turn("LAXIA",156.65f,360.0f)

	SetChrPos("RICOTTA",-31.03f,-1376.69f,12.39f)
	Turn("RICOTTA",-87.71f,360.0f)

	if (FLAG[GF_SUBEV_JOIN_NIA])
	{
		SetChrPos("Miralda",-29.87f,-1377.95f,12.39f)
		Turn("Miralda",-106.46f,360.0f)
	}
	
	SetChrPos("Licht",-31.67f,-1376.34f,12.39f)
	Turn("Licht",-35.85f,360.0f)

	SetChrPos("Ed",-32.02f,-1375.45f,12.39f)
	Turn("Ed",-15.02f,360.0f)

	if (FLAG[GF_SUBEV_JOIN_NIA])
	{
		SetChrPos("Nia",-29.34f,-1374.96f,12.39f)
		Turn("Nia",22.66f,360.0f)
		LookChr("Nia","Dogi")
	}
	
	LookReset("Miralda")
	LookReset("RICOTTA")

	MoveCameraAt( 0 , -19.794f , -1378.715f , 14.098f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.689f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.268f , 0 )	// 基本仰角
	RotateCamera( 0 , 113.188f , 0 )				// 角度
	ChangeCameraPers( 0 , 33.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	LookChr("Dogi","ADOL")
	ExecuteCmd(1, MoveTo, "Dogi", -20.09f, -1380.15f, 12.39f, 0.1f, 0.22f)

	Wait(FADE_CROSS)
	WaitThread(1)

	LookChr("ADOL", "Dogi")
	LookChr("SAHAD", "Dogi")
	ChangeAnimation("SAHAD", "ANI_EV_RYOTEBURI", -1, 1)
	TalkPopup("SAHAD",0,0,0,0,0)
	{
		"#061e#000mやれやれ、相変わらず"
		"空気を読まねえ奴らだぜ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("HUMMEL", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("HUMMEL",0,0,0,0,0)
	{
		"#000e#000mフム、いつも以上に"
		"きつい仕置きが必要そうだな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayBGM(BGM_EVENT_012, 0)

	CrossFade(FADE_CROSS)

	MoveCameraAt(0, -32.415f, -1376.517f, 13.824f, 0)	// 注視点
	ChangeCameraDistance(0, 2.799f, 0)		// 基本距離
	ChangeCameraElevation(0, 5.646f, 0)	// 基本仰角
	RotateCamera(0, 276.233f, 0)				// 角度
	ChangeCameraPers(0, 38.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Ed", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Ed", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Licht", SUBMOT_MOUTH, ANI_M_WAIT, 1)

	Wait(FADE_CROSS)

	LookChr("LAXIA", "Licht")
	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#030e#000mリヒト先生とエドさんは"
		"アリスンさんのお傍に……！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Licht", "LAXIA")
	TalkPopup("Licht",0,0,0,0,0)
	{
		"#000e#000mええ、そうします！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Ed", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	EmotionEx("Ed", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(50)
	ChangeSubAnimation("Ed", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	CrossFade(FADE_NORMAL)
	ChangeAnimation("Ed", "ANI_WAIT", -1, 1)

	SetChrPos("Ed", -25.41f, -1377.18f, 12.39f)
	Turn("Ed", -82.83f, 360.0f)
	LookChr("Ed", "ADOL")
	PitchChr("Ed", 0.00f, 0)
	RollChr("Ed", 0.00f, 0)

	SetChrInfoFlag("Ed",INFOFLAG_NOATARI)
	ResetChrInfoFlag("Ed",INFOFLAG_FIXED)

	LookChr("HUMMEL", "Ed")
	LookChr("Dogi", "Ed")
	LookChr("ADOL", "Ed")

	SetChrPos("SAHAD", -20.65f, -1380.02f, 12.39f)
	Turn("SAHAD", 176.04f, 360.0f)
	LookChr("SAHAD", "Ed")

	SetChrPos("ADOL", -19.19f, -1378.42f, 12.39f)
	Turn("ADOL", 88.49f, 360.0f)

	SetChrPos("Dogi", -19.48f, -1379.74f, 12.39f)
	Turn("Dogi", 136.71f, 360.0f)

	MoveCameraAt(0, -20.765f, -1378.623f, 14.073f, 0)	// 注視点
	ChangeCameraDistance(0, 2.799f, 0)		// 基本距離
	ChangeCameraElevation(0, 6.126f, 0)	// 基本仰角
	RotateCamera(0, 73.202f, 0)				// 角度
	ChangeCameraPers(0, 33.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd(2, MoveTo, "Ed", -21.61f, -1378.06f, 12.39f,  0.1f, 0.20f)
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -19.281f, -1379.248f, 14.073f, 80)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 73.202f, 80)		// 角度

	Wait(FADE_NORMAL)

	WaitThread(1000)
	WaitThread(1001)

	WaitThread(2)
	TalkPopup("Ed",0,0,0,0,0)
	{
		"#000e#000mこれが迎撃戦ってやつなのか──\p"
		"いや、僕もぜひ参加させてくれ！\p"
		"妻と子供のことを"
		"直接この手で守りたいんだ！"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ああ、よろしく頼む！")
	MenuAdd(2,"絶対に勝つぞ！")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//─────────────────────────
	//	⇒ああ、よろしく頼む！
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		HeadYes("ADOL", 1, 25)
		Wait(35)

		TalkPopup("Ed",0,0,0,0,0)
		{
			"#000e#000mありがとう！"
		}
		WaitPrompt()
		WaitCloseWindow()

		ChangeAnimation("Ed", "ANI_EV_YARUKI_S", -1, 1)

		TalkPopup("Ed", 0, 0, 0, 0, 0)
		{
			"#000e#000mみんなの足を引っ張らないよう"
			"全力で戦うよ！"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//	⇒絶対に勝つぞ！
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_GUTSPOSE_S", -1, 1)
		Wait(35)

		ChangeAnimation("Ed", "ANI_EV_YARUKI_S", -1, 1)
		TalkPopup("Ed",0,0,0,0,0)
		{
			"#011e#000mああ、もちろん！\p"
			"#012eどうかよろしくお願いするよ！"
		}
		WaitPrompt()
		WaitCloseWindow()

	}
	//─────────────────────────
	Wait(10)

	CrossFade(FADE_NORMAL)
	StopThread(1000)
	MoveCameraAt(0, -31.331f, -1374.742f, 14.279f, 0)	// 注視点
	ChangeCameraDistance(0, 2.500f, 0)		// 基本距離
	ChangeCameraElevation(0, 9.737f, 0)	// 基本仰角
	RotateCamera(0, 14.310f, 0)				// 角度
	ChangeCameraPers(0, 34.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE, -31.546f, -1373.894f, 14.279f, 200)		// 注視点
	Wait(90)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　画面フェードアウト。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	StopThread(1001)

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【故郷の花】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	PlaySE(SE_PARTYIN, 100, 0, 0, 0, 1.0f, 0)	//仲間に加わる

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cエドが漂流村に参加することになった！#10W" 
		"#8S"
	}
	Wait(10)
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_510_Complete_ED")
}
function "QS_510_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_NPCALL")
	PitchChr("Ed", 0.00f, 0)
	LookSpd("Ed", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)
	LookSpd("Alison", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)
	SetChrPos("Dogi", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Ed", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Alison", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Miralda", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Nia", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Licht", -100000.00f, 0.00f, 0.00f)
	SetChrPos("cage", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Baby", -100000.00f, 0.00f, 0.00f)
	ResetChrInfoFlag("Alison", INFOFLAG_FLING)
	ResetChrInfoFlag("Ed", INFOFLAG_NOATARI)
	LookSpd("Ed", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)

	MapAnime("obj_que01", "off")	//クエスト：アリスン椅子
	MapHide("obj_que01", 0)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て
	//SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 2) )			//エド合流	名声値+2
   // SetFlag( GF_QUEST_510, QUEST_SUCCESS ) // [QS510] Hometown flower quest completed
    //SetFlag( GF_QS510_FIND_ED, 1 ) //Found Ed on your own (achieved hometown flower)
    //SetFlag( GF_SUBEV_JOIN_ED, 1 ) //Rescued Ed	
    //SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) ) //Quest accomplished [QS510] Hometown Flower Fame Value +1
	CallFunc("rng:0424")		
    //SetDiaryFlag( DF_QS510_END, 1 ) // [QS510]At the same time as finding purple bellweed at Cape Bokkyo
	SetFlag(GF_TBOX_DUMMY077, 1)
	SetFlag(GF_TBOX_DUMMY069,1)

    DelMapMarker( SMI_QUEST, PAGE_F004, MARKER_QS_510_LP, 0, 0) // [QS510] For the location of hometown flower purple bell grass	
	//迎撃戦処理
	//Intercept(INTERCEPT_STAGE09, 1)	// 時間切れ間近(赤)
	//SetFlag(GF_INTERCEPT_NO, INTERCEPT_STAGE09)
	//SetFlag(GF_05MP1201_OCCUR_INTERCEPT9, 1)	// ☆第五部Ｆ迎撃戦⑨が発生（アリスン出産後）

	CallFunc( "talk:TalkFlag_Clear" )	// TFフラグを全て初期化する（漂流村で一般フラグが更新される場所全てで行っています）
	CallFunc("mp1201:init")

	DelMapMarker( SMI_SUBEVENT ,PAGE_F004, MARKER_PERSON_ED, 0,0)		//漂流者：エド

	//イベント後の再配置
	SetChrPos("LEADER",-28.89f,-1377.75f,12.39f)
	Turn("LEADER",-103.17f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	PlayBGM(BGM_EVENT_012, 0)
	SetEnvSEPlayState(1202001, 1)
	SetEnvSEPlayState(1202201, 1)
	SetEnvSEPlayState(1202202, 1)
	SetEnvSEPlayState(1202203, 1)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS520】真紅の産衣（エド）
// ▼クエスト達成イベント
//
function "QS_520_Complete"
{

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Alison")
	LoadChr("Ed")
	LoadChr("Baby_2")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")
	CallFunc("system:party_remove")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",0.50f,-1383.28f,11.57f)
	Turn("ADOL",-150.42f,360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookChr( "ADOL", "Baby_2" )

	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Alison", 0.63f, -1381.28f, 11.57f)
	Turn("Alison", 19.65f, 360.0f)
	ChangeAnimation( "Alison" , "ANI_EV_SIT_C", -1 , 1 )
	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Alison",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Alison" , INFOFLAG_NOCHRATARI)
	LookChr( "Alison", "Baby_2" )

	SetChrWork("Ed", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Ed",-0.22f,-1382.43f,11.57f)
	Turn("Ed",-122.34f,360.0f)
	ChangeAnimation( "Ed" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Ed",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Ed",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Ed",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Ed" , INFOFLAG_NOCHRATARI)
	LookChr( "Ed", "Baby_2" )

	SetChrWork("Baby_2", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Baby_2", 1.56f, -1381.82f, 12.09f)
	Turn("Baby_2", 90.62f, 360.0f)
	ChangeAnimation("Baby_2", "ANI_WAIT_YOKO", -1, 1)
	SetChrInfoFlag("Baby_2", INFOFLAG_FLING)

	SetChrPos("cage", 1.6f, -1381.82f, 12.09f)
	Turn("cage", -82.03f, 360.0f)

	//カメラ設定
	MoveCameraAt( 0 , 1.651f , -1381.821f , 12.212f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.181f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 30.093f , 0 )	// 基本仰角
	RotateCamera( 0 , 234.488f , 0 )				// 角度
	ChangeCameraPers( 0 , 20.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_520_Complete_ED")

//開始処理ここまで-----------------------------------------------

	if (FLAG[GF_05MP1201_OCEANUS_STANDBY] && !FLAG[GF_05MP1201_HOLD_PARTY]){		// オケアノス戦前
		StopBGM(90)
	}

	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cこうしてエドは途中まで進めていた"
		"#7C産衣の仕立てを再開すると……\p"
		"#7C見るも鮮やかな手つきで、"
		"#7Cあっという間に完成させるのだった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	SetEnvSEPlayState(1202001, 1)	//環境SE
	SetEnvSEPlayState(1202201, 1)	//環境SE
	SetEnvSEPlayState(1202202, 1)	//環境SE
	SetEnvSEPlayState(1202203, 1)	//環境SE

	//　　画面フェードインして、仕立て屋前。
	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	//	  赤ちゃんをある程度大きく写してからカメラを引く"
	//　　アリスンは受付、紅い産衣を着た
	//　　赤ちゃん（篭入り）は正面のテーブル上におり、

	Wait(15)

	ExecuteCmd(1001, MoveCameraAt, INTERPOLATE_SPHERE ,  1.692f , -1381.827f , 12.286f , 145 )		// 注視点
	ExecuteCmd(1002, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.522f , 145 )		// 基本距離
	ExecuteCmd(1003, ChangeCameraElevation, INTERPOLATE_SPHERE , 65.714f, 145 )		// 基本仰角
	ExecuteCmd(1004, RotateCamera, INTERPOLATE_SPHERE , 320.715f ,  145 )		// 角度
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -13.5f, 145 )		// ロール回転
//	ExecuteCmd(1006, ChangeCameraPers, INTERPOLATE_SPHERE ,20.000f, 145 )		// 視野角

	//MoveCameraAt( 0 , 1.692f , -1381.827f , 12.286f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 1.522f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 65.714f , 0 )	// 基本仰角
	//RotateCamera( 0 , 320.715f , 0 )				// 角度
	//ChangeCameraPers( 0 , 20.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , -13.5f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	PlayBGM(BGM_TOWN_501, 0)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	Wait(20)

	//　　その前にアドルとエドを配置。
	CrossFade(FADE_FAST)
//	MoveCameraAt(0, 0.390f, -1382.748f, 13.476f, 0)	// 注視点
//	ChangeCameraDistance(0, 2.302f, 0)		// 基本距離
//	ChangeCameraElevation(0, 14.332f, 0)	// 基本仰角
//	RotateCamera(0, 356.220f, 0)				// 角度
//	ChangeCameraPers(0, 36.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転

	MoveCameraAt( 0 , 0.642f , -1382.727f , 13.030f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.302f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 18.124f , 0 )	// 基本仰角
	RotateCamera( 0 , 2.009f , 0 )				// 角度
	ChangeCameraPers( 0 , 36.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_FAST)

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#080e#080mふふ、立派なおべべだこと。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"素晴らしい仕上がりだね")
	MenuAdd(2,"とても似合ってるね")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)

	HeadYes("ADOL", 1, 25)
	Wait(35)
		
	//──────────────────────
	//	⇒素晴らしい仕上がりだね
	if (FLAG[TF_MENU_SELECT] == 1)
	{

		LookChr("Ed", "ADOL")
		PlayVoice(Y8V_4469, "Ed", 100)	//はは（微笑）
		TalkPopup("Ed",0,0,0,0,0)
		{
			"#080e#080mふふ、だろう？\p"
			"何たってこの子が生まれて初めて"
			"袖を通す服だったからね。\p"
			"僕もいつも以上に張り切ったよ！"
			"いつも以上に5行目"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒とても似合ってるね
	else if (FLAG[TF_MENU_SELECT] == 2)
	{

		LookChr("Ed", "ADOL")

		PlayVoice(Y8V_4469, "Ed", 100)	//はは（微笑）
		TalkPopup("Ed",0,0,0,0,0)
		{
			"#020e#080mうんうん！"
			"それに可愛らしすぎる！"
		}
		WaitPrompt()
		WaitCloseWindow()
		
		LookSpd("Alison", 0.08f, 0.08f, 0.08f)// ゆっくりめに首向き

		LookChr("Alison", "Ed")
		TalkPopup("Alison",0,0,0,0,0)
		{
			"#080e#080mふふ、あなたったら。"
		}
		WaitPrompt()
		WaitCloseWindow()	

	ChangeSubAnimation("Ed",SUBMOT_EYE,ANI_E_LAUGH_E,1)

	}
	//──────────────────────


	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 0.642f, -1382.727f, 13.030f, 600)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 16.508f, 600)		// 角度

	LookChr("Alison", "ADOL")
	TalkPopup("Alison", 0, 2, 0, 0, 0)
	{
		"#000e#000mちなみに、赤には"
		"魔除けの意味もあるのですが……"

	}
	WaitPrompt()
	WaitCloseWindow()
	LookSpd("Alison", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)

	ChangeAnimation("Alison", "ANI_EV_SC_TEMUNE_S", -1, 1)
	TalkPopup("Alison",0,2,0,0,0)
	{
		"#011e#000mそれよりも、アドルさんを想起させる"
		"色ということで決めさせてもらいました。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルに「パッ」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	LookChr("ADOL", "Alison")

	Wait(35)

	HeadYes("Ed", 1, 25)
	TalkPopup("Ed",0,0,0,0,0)
	{
		"#011e#000mああ、この子にはぜひ君のように"
		"勇敢に育ってもらいたいたくてね。\p"
		"#012eあとこれはアリスンとも"
		"相談して決めたことなんだけど……"
	}
	WaitPrompt()
	WaitCloseWindow()


	LookChr("Ed", "Alison")
	ChangeAnimation("Ed", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Ed", 0, 0, 0, 0, 0)
	{
		"#000e#000mいいかい、アリスン？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	LookChr("Alison", "Ed")
	ChangeAnimation("Alison", "ANI_EV_SC_TEMUNE_E", -1, 1)

	Wait(15)
	HeadYes("Alison", 1, 25)
	TalkPopup("Alison",0,0,0,0,0)
	{
		"#011e#000mええ、もちろん。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Alison",SUBMOT_EYE,ANI_E_CLOSE_E,1)


	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)

	MoveCameraAt( 0 , 0.345f , -1382.248f , 13.155f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.001f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.385f , 0 )	// 基本仰角
	RotateCamera( 0 , 164.766f , 0 )				// 角度
	ChangeCameraPers( 0 , 29.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//MoveCameraAt(0, 0.285f, -1381.888f, 13.155f, 0)	// 注視点
	//ChangeCameraDistance(0, 2.001f, 0)		// 基本距離
	//ChangeCameraElevation(0, 3.385f, 0)	// 基本仰角
	//RotateCamera(0, 169.765f, 0)				// 角度
	//ChangeCameraPers(0, 29.000f, 0)			// 視野角
	//SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	//RollCamera(0, 0.0f, 0)				// ロール回転

	//ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 0.345f, -1382.248f, 13.155f, 70)		// 注視点
	//ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 164.766f, 70)		// 角度

	Wait(FADE_CROSS)

	LookChr( "Ed", "ADOL" )
	//WaitThread(1000)
	//WaitThread(1001)

	TalkPopup("Ed",0,2,0,0,0)
	{
		"#011e#000mよし、じゃあ……"
	}
	WaitPrompt()
	WaitCloseWindow()

	PlayVoice(Y8V_4463, "Ed", 100)	//アドル…！（真剣）
	TalkPopup("Ed", 0, 2, 0, 0, 0)
	{
		"#012e#000mどうかアドル──この子の"
		"名付け親になってもらえないだろうか。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　アドルに「…」⇒「！」⇒「アセアセ」エモーション。
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	EmotionEx("ADOL", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(52)
	LookChr("ADOL", "Ed")
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SUP_S, 1)
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	//！
	Wait(40)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_CLOSE_S, 1)
	EmotionEx("ADOL", 0.00f, EMO_ASE, 0, 5, 2, 1, 1.0f)	//汗汗
	Wait(70)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SAD_CLOSE_E, 1)

	ChangeAnimation("Ed", "ANI_EV_BORI", -1, 1)
	TalkPopup("Ed",0,0,0,0,0)
	{
		"#000e#000m大役と感じさせてしまうのは"
		"重々承知なんだが……\p"
		"アドル、君は紛れもなく"
		"僕たち家族の恩人なんだ。\p"
		"だから──どうしても"
		"君にお願いしたいんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Alison", "ADOL")

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 0.608f, -1381.767f, 12.857f, 68)		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 2.302f, 68)		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 1.401f, 68)		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 140.127f, 68)		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE, 37.000f, 68)		// 視野角

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)

	LookChr("ADOL", "Alison")
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#000e#000mどうか私からもお願いします。"
	}
	WaitPrompt()
	WaitCloseWindow()

	
	//　　アドルに「…」後、頷く。
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	EmotionEx("ADOL", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(42)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(18)
	HeadYes("ADOL" , 1 , 25)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(15)

	ChangeAnimation("Ed", "ANI_EV_GUTSPOSE_S", -1, 1)
	TalkPopup("Ed",0,0,0,0,0)
	{
		"#000e#080mやった、ありがとう！"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Alison",0,0,0,0,0)
	{
		"#000e#000mアドルさん、"
		"ありがとうございます。"
	}
	WaitPrompt()
	WaitCloseWindow()
	ChangeAnimation("Ed", "ANI_EV_GUTSPOSE_E", -1, 1)

	LookReset("ADOL")
	ChangeAnimation("ADOL", "ANI_EV_SIAN_S", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)

	//　　アドルに「…」後、「閃き」エモーション。

	EmotionEx("ADOL", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(60)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	EmotionEx("ADOL", 0.00f, EMO_PIKA, 0, 5, 1, 1, 1.0f)	//閃く
	Wait(50)
	ChangeAnimation("ADOL", "ANI_EV_SIAN_E", -1, 1)


	ChangeAnimation("Ed", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Ed",0,0,0,0,0)
	{
		"#000e#000mお、さっそく思いついたのかい？"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, 1.447f, -1382.580f, 12.410f, 0)	// 注視点
	ChangeCameraDistance(0, 3.100f, 0)		// 基本距離
	ChangeCameraElevation(0, 36.394f, 0)	// 基本仰角
	RotateCamera(0, 293.831f, 0)				// 角度
	ChangeCameraPers(0, 28.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	LookChr("ADOL", "Baby_2")
	LookChr("Ed", "Baby_2")
	LookChr("Alison", "Baby_2")
	Wait(15)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"漂流村の希望──『ホープ』はどうかな？")
	MenuAdd(2,"漂流村の光──『ルーク』はどうかな？")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	//──────────────────────
	//	⇒漂流村の希望──『ホープ』はどうかな？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		SetFlag( GF_QS520_BABY_NAME_HOPE, 1 )	//【QS520】赤ちゃんの名前に『ホープ』を選んだ（0もしくはイベントスキップなら『ウィル』,1『ホープ』,2『ルーク』）
		SetDiaryFlag( DF_QS520_END_A, 1 )		//【QS520】★エドに素材を渡して依頼を達成。
		//SetDiaryCharaFlag( DRCHA_BABY, DRCHA_FLAG_OPEN, 1 )		//★人物メモ：合流時に登録（アリスンの子供）
		//SetDiaryCharaFlag( DRCHA_BABY, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（アリスンの子供）
	}
	//	⇒漂流村の光──『ルーク』はどうかな？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		SetFlag( GF_QS520_BABY_NAME_HOPE, 2 )	//【QS520】赤ちゃんの名前に『ホープ』を選んだ（0もしくはイベントスキップなら『ウィル』,1『ホープ』,2『ルーク』）
		SetDiaryFlag( DF_QS520_END_B, 1 )		//【QS520】★エドに素材を渡して依頼を達成。
		//SetDiaryCharaFlag( DRCHA_BABY2, DRCHA_FLAG_OPEN, 1 )	//★人物メモ：合流時に登録（アリスンの子供）
		//SetDiaryCharaFlag( DRCHA_BABY2, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（アリスンの子供）
	}
	//──────────────────────
	
	ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	Wait(30)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(20)

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, 0.585f, -1382.076f, 12.559f, 0)	// 注視点
	ChangeCameraDistance(0, 3.100f, 0)		// 基本距離
	ChangeCameraElevation(0, 0.709f, 0)	// 基本仰角
	RotateCamera(0, 96.878f, 0)				// 角度
	ChangeCameraPers(0, 44.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_CROSS)


	//──────────────────────
	//	⇒漂流村の希望──『ホープ』はどうかな？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		
		//PlayVoice(Y8V_4475, "Ed", 100)	//ホープ（優しく赤ちゃんの名前を呼ぶ）
		ChangeAnimation("Ed", "ANI_EV_SIAN_S", -1, 1)
		TalkPopup("Ed",0,0,0,0,0)
		{
			"#011e#000mホープ、ホープか……"
		}
		WaitPrompt()
		WaitCloseWindow()
		ChangeAnimation("Ed", "ANI_EV_SIAN_E", -1, 1)
	}
	//	⇒漂流村の光──『ルーク』はどうかな？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{

		//PlayVoice(Y8V_4476, "Ed", 100)	//ルーク（優しく赤ちゃんの名前を呼ぶ）
		ChangeAnimation("Ed", "ANI_EV_SIAN_S", -1, 1)
		TalkPopup("Ed",0,0,0,0,0)
		{
			"#011e#000mルーク、ルークか……"
		}
		WaitPrompt()
		WaitCloseWindow()
		ChangeAnimation("Ed", "ANI_EV_SIAN_E", -1, 1)
	}
	//──────────────────────

	EmotionEx("Ed", 0.00f, EMO_KIRA, 0, 5, 1, 1, 1.0f)	//キラキラ
	ChangeSubAnimation("Ed",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Wait(40)
	PlayVoice(Y8V_4469, "Ed", 100)	//はは（微笑）
	TalkPopup("Ed", 0, 0, 0, 0, 0)
	{
		"#080mうん、素晴らしい名前だ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, 0.216f, -1382.134f, 12.559f, 600)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 84.812f, 600)		// 角度

	HeadYes("Alison", 1, 25)
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	TalkPopup("Alison",0,0,0,0,0)
	{
		"#080mええ、本当に。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_CLOSE_E, 1)


	//──────────────────────
	//	⇒漂流村の希望──『ホープ』はどうかな？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		SetName("ホープ")
	}
	//	⇒漂流村の光──『ルーク』はどうかな？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		SetName("ルーク")
	}
	//──────────────────────
	
	PlayVoice(Y8V_5307, "Baby", 100)	//きゃっきゃっ（笑い声）
	TalkPopup("Baby_2",0,0,0,0,0)
	{
		"#000e#000mきゃっきゃっ♪"
	}
	WaitPrompt()
	WaitCloseWindow()
	SetName("")
	
	EmotionEx("Baby_2", 0.00f, EMO_ONPU, 0, 5, 1, 1, 0.7f)	// ♪
	Wait(40)

	PlayVoice(Y8V_4415, "Alison", 100)	//ふふ（微笑）
	//ChangeAnimation("Alison", "ANI_EV_SC_TEBURI", -1, 1)
	TalkPopup("Alison",0,0,0,0,0)
	{
		"#020e#080mふふ、この子も気に入ったみたい。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒漂流村の希望──『ホープ』はどうかな？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("Ed", "ANI_EV_RYOTEKOSI_S", -1, 1)
		TalkPopup("Ed",0,0,0,0,0)
		{
			"#000e#080mああ──よかったな、ホープ！\p"
			"#011eそれにしても漂流村の希望か……\p"
			"#012e僕らだけじゃなく、アドルたちにも"
			"そんな風に感じてもらえるなんて……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒漂流村の光──『ルーク』はどうかな？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("Ed", "ANI_EV_RYOTEKOSI_S", -1, 1)
		TalkPopup("Ed",0,0,0,0,0)
		{
			"#000e#080mああ──よかったな、ルーク！\p"
			"#011eそれにしても漂流村の光か……\p"
			"#012e僕らだけじゃなく、アドルたちにも "
			"そんな風に感じてもらえるなんて……"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	TalkPopup("Alison", 0, 0, 0, 0, 0)
	{
		"#010e#080mええ、こんなに幸せなことはないわ。"
			
	}
	WaitPrompt()
	WaitCloseWindow()

	StopThread(1000)
	StopThread(1001)

	ChangeAnimation("Ed", "ANI_EV_RYOTEKOSI_E", -1, 1)

	LookChr("Alison", "ADOL")
	TalkPopup("Alison",0,0,0,0,0)
	{
		"#012e#080mアドルさん、"
		"改めて本当にありがとうございます。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	WaitAnimation2("Ed", -1, 1, "ANI_EV_RYOTEKOSI_E", 0)
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -0.350f, -1382.777f, 12.832f, 60)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 0.709f, 60)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 102.989f, 60)		// 角度

	LookReset("Ed")
	Turn("Ed", -86.58f, 8.0f)
	LookChr("Ed", "ADOL")
	Wait(20)
	LookChr("ADOL", "Ed")

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	//──────────────────────
	//	⇒漂流村の希望──『ホープ』はどうかな？
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		TalkPopup("Ed",0,0,0,0,0)
		{
			"#000e#080m僕からももう一度礼を言わせてくれ。"
			"本当にありがとう！\p"
			"これからも、ホープを含めて"
			"僕らのことをよろしく頼むよ！"
		}
		WaitPrompt()
		WaitCloseWindow()
		
	}
	//	⇒漂流村の光──『ルーク』はどうかな？
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		TalkPopup("Ed",0,0,0,0,0)
		{
			"#000e#080m僕からももう一度礼を言わせてくれ。 "
			"本当にありがとう！\p "
			"これからも、ルークを含めて"
			"僕らのことをよろしく頼むよ！ "
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────
	//　　アドルが頷く。
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_S,1)
	Wait(15)
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	Wait(20)

	//　　イベント終了、操作許可。
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【真紅の産衣】#4Cを達成した！#10W"
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒好感度が一段階上がる場合
	if( FLAG[GF_LIKELV_ED] < 1 )
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cエドの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cエドの好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	//	アイテム入手テキスト
	GetItemMessageExPlus(ICON3D_AC_051, 1, ITEMMSG_SE_JINGLE, "を手に入れた！11" ,0 ,0 )		// フェザーソックス
	WaitPrompt()
	WaitCloseWindow()

	if (FLAG[GF_05MP1201_OCEANUS_STANDBY] && !FLAG[GF_05MP1201_HOLD_PARTY])		// オケアノス戦前
	{
		StopBGM(60)
	}

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_520_Complete_ED")
}
function "QS_520_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	if (FLAG[GF_QS520_BABY_NAME_HOPE] != 1 && FLAG[GF_QS520_BABY_NAME_HOPE] != 2)
	{

		//	確認テキスト
		TalkPopup(UNDEF, 0, 3, SYSTEM_PPOSX, SYSTEM_PPOSY, 0)
		{

			"#7C赤ちゃんに何と命名しますか？"
		}
		WaitPrompt()
		WaitCloseWindow()

		//選択肢
		SetFlag(TF_MENU_SELECT, 0)
		MenuReset()
		MenuType(MENUTYPE_POPUP)
		MenuAdd(1, "ホープ")
		MenuAdd(2, "ルーク")
		MenuOpen(TF_MENU_SELECT, -1, ADOLMENU_PPOSY, -2, -2, 10, 0)
		WaitMenu(0)
		MenuClose(10, 0)

		//──────────────────────
		//	⇒ホープ
		if (FLAG[TF_MENU_SELECT] == 1)
		{
			SetFlag(GF_QS520_BABY_NAME_HOPE, 1)
			SetDiaryFlag( DF_QS520_END_A, 1 )		//【QS520】★エドに素材を渡して依頼を達成。
			//SetDiaryCharaFlag( DRCHA_BABY, DRCHA_FLAG_OPEN, 1 )		//★人物メモ：合流時に登録（アリスンの子供）
			//SetDiaryCharaFlag( DRCHA_BABY, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（アリスンの子供）
		}
	//	⇒ルーク
		else if (FLAG[TF_MENU_SELECT] == 2)
		{
			SetFlag(GF_QS520_BABY_NAME_HOPE, 2)
			SetDiaryFlag( DF_QS520_END_B, 1 )		//【QS520】★エドに素材を渡して依頼を達成。
			//SetDiaryCharaFlag( DRCHA_BABY2, DRCHA_FLAG_OPEN, 1 )	//★人物メモ：合流時に登録（アリスンの子供）
			//SetDiaryCharaFlag( DRCHA_BABY2, DRCHA_FLAG_INFO1, 1 )	//★人物メモ：追加情報の開放１（アリスンの子供）
		}
	}
	
	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	LookSpd("Alison", LOOKSPD_DEFAULT, LOOKSPD_DEFAULT, LOOKSPD_DEFAULT)
	CallFunc("system:reset_chrmot_ADOL")
	//CallFunc("system:reset_chrmot_Baby")
	CallFunc("system:reset_chrmot_Alison")
	CallFunc("system:reset_chrmot_Ed")

	SetChrID("Baby", "Baby_1")

	SetChrPos("Alison", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Ed", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Baby_2", -100000.00f, 0.00f, 0.00f)
	SetChrPos("cage", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_QUEST_520, QUEST_SUCCESS )		// 【QS520】真紅の産衣（エド）	クエストを達成した
	GetItem( ICON3D_AC_051, 1 )					// 『フェザーソックス』
	DeleteItem( ICON3D_MT_R3_PARTS04, 2 )		// 『剛質繊維』×２
	DeleteItem( ICON3D_MT_R4_PARTS01, 1 )		// 『陽光牙』×１
	SetFlag( GF_LIKELV_ED, ( FLAG[GF_LIKELV_ED] + 1 ) )	// 好感度ＵＰ
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成 【QS520】真紅の産衣（エド）	名声値+1
	//SetDiaryCharaFlag( DRCHA_ED, DRCHA_FLAG_INFO2, 1 )		//★人物メモ：追加情報の開放２（エド）

//	↓スキップ可能なイベント中にセットしています
//	SetFlag( GF_QS520_BABY_NAME_HOPE, 1 )	//【QS520】赤ちゃんの名前に『ホープ』を選んだ（0もしくはイベントスキップなら『ウィル』,1『ホープ』,2『ルーク』）
//	SetFlag( GF_QS520_BABY_NAME_HOPE, 2 )	//【QS520】赤ちゃんの名前に『ホープ』を選んだ（0もしくはイベントスキップなら『ウィル』,1『ホープ』,2『ルーク』）
//	SetDiaryFlag( DF_QS520_END_A, 1 )		//【QS520】★エドに素材を渡して依頼を達成。
//	SetDiaryFlag( DF_QS520_END_B, 1 )		//【QS520】★エドに素材を渡して依頼を達成。

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",-0.54f,-1384.05f,11.57f)
	Turn("LEADER",53.00f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS521】巨大な怨敵（タナトス）
// ▼クエスト開始イベント
//
function "QS_521_Start"
{
	//　　画面暗転を挟んで、漂流村屋内の作戦台。
	//　　タナトスとアドル、そしてサハドが座っている。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Thanatos")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL",-6.91f,-1383.59f,11.57f)
	Turn("ADOL",-119.80f,360.0f)
	ChangeAnimation("ADOL","ANI_EV_SIT_C", -1 , 1 )	
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag("ADOL", INFOFLAG_NOATARI)
	LookChr("ADOL", "Thanatos")

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD",-7.67f,-1382.45f,11.57f)
	Turn("SAHAD",-108.35f,360.0f)
	ChangeAnimation("SAHAD","ANI_EV_SIT_C", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag("SAHAD", INFOFLAG_NOATARI)
	LookChr( "SAHAD", "Thanatos" )

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Thanatos",-4.90f,-1382.63f,11.57f)
	Turn("Thanatos",65.61f,360.0f)
	ChangeAnimation("Thanatos","ANI_EV_SIT_C", -1 , 1 )	
	ChangeSubAnimation("Thanatos",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Thanatos",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Thanatos",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Thanatos" , INFOFLAG_NOCHRATARI)
	SetChrInfoFlag("Thanatos", INFOFLAG_NOATARI)
	LookReset( "Thanatos" )

	//仮設定◆
	//MapAnime("chair", "on")

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
//	MoveCameraAt(0, -8.710f, -1382.031f, 14.324f, 0)	// 注視点
//	ChangeCameraDistance(0, 2.245f, 0)		// 基本距離
//	ChangeCameraElevation(0, 7.035f, 0)	// 基本仰角
//	RotateCamera(0, 268.660f, 0)				// 角度
//	ChangeCameraPers(0, 37.000f, 0)			// 視野角
//	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
//	RollCamera(0, 0.0f, 0)				// ロール回転
//
//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -8.554f, -1383.142f, 13.084f, 100)		// 注視点
//	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE, 2.245f, 100)		// 基本距離
//	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE, 5.804f, 100)		// 基本仰角
//	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE, 284.691f, 100)		// 角度
//	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE, 37.000f, 100)		// 視野角

	MoveCameraAt( 0 , -5.757f , -1382.582f , 12.662f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.495f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 7.684f , 0 )	// 基本仰角
	RotateCamera( 0 , 281.191f , 0 )				// 角度
	ChangeCameraPers( 0 , 37.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_521_Start_ED")

//開始処理ここまで-----------------------------------------------

	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()
//	WaitThread(1000)
//	WaitThread(1001)
//	WaitThread(1002)
//	WaitThread(1004)

	ChangeAnimation("SAHAD", "ANI_EV_SC_TEBURI", -1, 1)
	TalkPopup("SAHAD",0,1,180,180,0)
	{
		"#000e#000mで、アドルは分かるが"
		"なんでワシが呼ばれたんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Thanatos", "SAHAD")
	ChangeAnimation("Thanatos", "ANI_EV_SC_TEBURI", -1, 1)
	TalkPopup("Thanatos",0,2,0,0,0)
	{
		"#000e#000mああ、わしにはオケアノスの他にも"
		"怨敵と呼べる存在がおると書いたが……\p"
		"何を隠そう、そやつは“魚”での。"
	}
	WaitPrompt()
	WaitCloseWindow()

	EmotionEx("SAHAD", 0.00f, EMO_PA, 0, 5, 1, 1, 1.1f)	//パッ
	Wait(35)

	TalkPopup("SAHAD", 0, 1, 180, 180, 0)
	{
		"#000e#000m魚……つうと"
		"釣りでしてやられたってことか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("Thanatos", 1, 25)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	TalkPopup("Thanatos",0,2,0,0,0)
	{
		"#080mワハハ、そうじゃ。"
		"これが実に厄介な相手でのう。\p"
		"#012eぜひお前さんたちに、"
		"敵討ちを頼みたいんじゃよ。"
	}
	WaitPrompt()
	WaitCloseWindow()


	//　　アドルに「冷や汗」エモーション。
	EmotionEx("ADOL", 0.00f, EMO_TARA, 0, 5, 1, 1, 1.0f)	//冷や汗
	Wait(50)

	LookChr("Thanatos", "ADOL")
	TalkPopup("Thanatos",0,2,0,0,0)
	{
		"#021e#080mいやはや、改まったわりに"
		"のんびりとした話ですまんかった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("SAHAD", 0, 1, 180, 180, 0)
	{
		"#020e#080mガハハ、別にいいんじゃねーか。"
		"根ばかり詰めてもしょうがねえしな。\p"
		"相手は一体、どんな大物なんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	LookReset("Thanatos")

	MoveCameraAt( 0 , -6.120f , -1382.749f , 12.786f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.185f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.049f , 0 )	// 基本仰角
	RotateCamera( 0 , 80.768f , 0 )				// 角度
	ChangeCameraPers( 0 , 41.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	ChangeAnimation("Thanatos", "ANI_EV_SC_SIAN_S", -1, 1)
	TalkPopup("Thanatos",0,0,0,0,0)
	{
		"#010e#000mああ、奴は分類上は"
		"ピラルーと思われるが……\p"
		"#012e実に５メライもの巨躯を誇る大物じゃ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	//ChangeAnimation("SAHAD", "ANI_EV_SG_SUP_S", -1, 1)
	EmotionEx("SAHAD", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	// 「！」
	EmotionEx("ADOL", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	// 「！」
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_SUP_S,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_OPEN_S,1)

	Wait(40)
	TalkPopup("SAHAD",0,0,0,0,0)
	{
		"#070e#000mおおっ、そりゃあまた"
		"とんでもねえ怪物だな！"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("Thanatos", "ANI_EV_SC_SIAN_E", -1, 1)
	TalkPopup("Thanatos",0,0,0,0,0)
	{
		"#000e#000mうむ、そして"
		"奴は神出鬼没なんじゃが……\p"
		"どうやらパロが"
		"見かけたらしくての。\p"
		"今この時を逃せば、"
		"もう二度と姿を現さぬやもしれん。\p"
		"とはいえ、わしも外に出て"
		"釣りをしている時間はなくてのう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Thanatos", "SAHAD")
	ChangeAnimation("SAHAD", "ANI_EV_SC_UDEGUMI_S", -1, 1)
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#011e#000mだからワシらに頼んだってか。\p"
		"#012eで、釣って来たら、"
		"みんなで喰うってことでいいのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("Thanatos", 1, 25)
	TalkPopup("Thanatos",0,0,0,0,0)
	{
		"#000e#000mああ、もちろんじゃ。"
		"獲物は喰ってこその釣りじゃからな！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Thanatos", "ADOL")

	TalkPopup("Thanatos", 0, 0, 0, 0, 0)
	{
		"#000e#000mしてアドル、どうにか頼めるかの？"
		"どうにか2行目"
	}
	WaitPrompt()
	WaitCloseWindow()

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -5.961f, -1383.335f, 12.935f, 70)		// 注視点
//	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 91.418f, 70)		// 角度

	LookChr("SAHAD", "ADOL")
//	WaitThread(1000)
//	WaitThread(1001)

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ぜひ実物を見てみたいです")
	MenuAdd(2,"余裕があれば挑んでみます")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_S, 1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_SMILE_S,1)
	HeadYes("ADOL", 1, 25)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SMILE_CLOSE_E, 1)
	SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
	Wait(30)

	CrossFade(FADE_CROSS)

	MoveCameraAt(0, -6.977f, -1383.885f, 12.836f, 0)	// 注視点
	ChangeCameraDistance(0, 2.332f, 0)		// 基本距離
	ChangeCameraElevation(0, 2.312f, 0)	// 基本仰角
	RotateCamera(0, 308.992f, 0)				// 角度
	ChangeCameraPers(0, 30.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)

	//──────────────────────
	//	⇒ぜひ実物を見てみたいです
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		ChangeAnimation("Thanatos", "ANI_EV_SC_UDEGUMI_S", -1, 1)
		TalkPopup("Thanatos",0,0,0,0,0)
		{
			"#080e#080mワハハ、やはりお前さんの"
			"好奇心は底なしじゃな。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒余裕があれば挑んでみます
	else if (FLAG[TF_MENU_SELECT] == 2)
	{

		HeadYes("Thanatos", 1, 25)
		TalkPopup("Thanatos",0,0,0,0,0)
		{
			"#011e#000mああ、それでいい。\p"
			"#012eあくまでも今は、オケアノスの"
			"討伐こそが最優先じゃからな。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	TalkPopup("Thanatos",0,0,0,0,0)
	{
		"#011e#000mちなみに奴は今、"
		"水と森の丘にある池にいるようじゃ。\p"
		"あそこには常に"
		"大型の古代種もいるからの。\p"
		"#012e向かう場合はくれぐれも気をつけてな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	//　　※アドルを屋内のエントランススペースに再配置。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_521_Start_ED")
}
function "QS_521_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Thanatos")
	CallFunc("system:reset_chrmot_SAHAD")

	ResetChrInfoFlag("ADOL", INFOFLAG_NOATARI)
	ResetChrInfoFlag("SAHAD", INFOFLAG_NOATARI)
	ResetChrInfoFlag("Thanatos", INFOFLAG_NOATARI)

	SetChrPos("Sahad", -100000.00f, 0.00f, 0.00f)
	SetChrPos("Thanatos", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て
	SetFlag( GF_QUEST_521, QUEST_START )		// 【QS521】巨大な怨敵（タナトス）	クエスト開始
	SetDiaryFlag( DF_QS521_START, 1 )			// 【QS521】★タナトスさんから話を聞いた。
	//マーカー設置
	SetMapMarker(SMI_QUEST, PAGE_F011, MARKER_QS_521_LP, 862.12f, -636.01f, 27.60f, 862.12f, -636.01f, MARKER_QS_521_LP, MN_F_MP2105, 0)	// 【QS521】巨大な怨敵（タナトス）　巨大ピラルクの釣り場用

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", -4.14f, -1380.45f, 11.57f)
	Turn("LEADER", -30.50f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, -4.138f, -1380.445f, 12.935f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, -149.500f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	//RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}


//===============================================================
//
// 【QS612】欠けたモノリス（グリゼルダ）
// ▼クエスト開始イベント
//
function "QS_612_Start"
{
	//　　画面暗転を挟んで、屋内・休息所の女性部屋。
	//　　グリゼルダとアドルが座って向き合う。
	//　　テーブルの上に小ぶりなモノリスの欠片（片割れ）が置かれている。

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Griselda")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	//SetChrPos("ADOL", -26.66f, -1375.22f, 12.39f)
	//Turn("ADOL", -160.96f, 360.0f)
	SetChrPos("ADOL", -27.35f, -1375.71f, 12.39f)
	Turn("ADOL", -163.28f, 360.0f)
	ChangeAnimation("ADOL","ANI_WAIT", -1 , 1 )	
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "ADOL" , INFOFLAG_NOCHRATARI)
	LookChr("ADOL", "Griselda")

	SetChrInfoFlag("Griselda", INFOFLAG_NOATARI)	// アタリ無視
	SetChrWork("Griselda", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Griselda", -25.89f, -1373.22f, 12.39f)
	Turn("Griselda", 14.53f, 360.0f)
	ChangeAnimation( "Griselda" , "ANI_EV_SIT_C", -1 , 1 )
	ChangeSubAnimation("Griselda",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Griselda",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Griselda",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Griselda" , INFOFLAG_NOCHRATARI)
	LookChr("Griselda", "ADOL")

	//ノード制御
	MapHide("object_Lv31", 0)		//ティーセット　非表示
	MapHide("object_Lv30", 0)		//ティーセット　非表示
	MapHide("que04_monoris_L", 1)	//モノリス片_左

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , -26.838f , -1374.626f , 13.575f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.689f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.655f , 0 )	// 基本仰角
	RotateCamera( 0 , 359.699f , 0 )				// 角度
	ChangeCameraPers( 0 , 30.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_612_Start_ED")

//開始処理ここまで-----------------------------------------------

//	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -27.080f, -1376.671f, 13.997f, 120)		// 注視点
//	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 343.154f, 120)		// 角度

	FadeIn(FADE_BLACK, FADE_NORMAL)
	WaitFade()

//	WaitThread(1000)
//	WaitThread(1001)

	TalkPopup("Griselda",0,2,0,0,0)
	{
		"#000e#000mさっそくだが、この石版──"
		"“モノリス”を見てくれ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("ADOL", 5.00f, -15.00f)
	Wait(10)
	Wait(20)

	CrossFade(FADE_FAST)
	MoveCameraAt(0, -25.854f, -1373.488f, 13.228f, 0)	// 注視点
	ChangeCameraDistance(0, 1.999f, 0)		// 基本距離
	ChangeCameraElevation(0, 25.448f, 0)	// 基本仰角
	RotateCamera(0, 293.920f, 0)				// 角度
	ChangeCameraPers(0, 25.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	Look("Griselda", 3.00f, -12.00f)

	Wait(FADE_NORMAL)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -26.007f, -1373.316f, 13.525f, 80)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 14.597f, 80)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 321.059f, 80)		// 角度

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	TalkPopup("Griselda", 0, 1, 0, 0, 0)
	{
		"#000e#000mこれは、島の北部を一人で"
		"探索している時に見つけたのだが……\p"
		"見ての通り、半分ほど欠けているのだ。"

	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Griselda", "ADOL")

	//ChangeAnimation("Griselda", "ANI_EV_SC_TEBURI", -1, 1)
	TalkPopup("Griselda", 0, 1, 0, 0, 0)
	{
		"#000e#000mだが、ダーナ殿の話では"
		"幸い重要な機構は無事とのことでな。\p"
		"残りの欠片さえ見つかれば、"
		"閲覧できるらしいのだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , -26.398f , -1373.574f , 13.599f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.998f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.812f , 0 )	// 基本仰角
	RotateCamera( 0 , 175.231f , 0 )				// 角度
	ChangeCameraPers( 0 , 28.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	//　　アドルに「パッ」エモーション。
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SUP_S, 1)
	EmotionEx("ADOL", 0.01f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)

	LookChr("ADOL", "Griselda")
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_SUP_E, 1)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -26.036f, -1373.127f, 13.673f, 50)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 169.118f, 50)		// 角度

	WaitThread(1000)
	WaitThread(1001)

	TalkPopup("Griselda",0,2,0,0,0)
	{
		"#080e#080mフッ、貴殿も興味を惹かれたか。\p"
		"#000e#000mモノリスの解析については"
		"ダーナ殿も協力的でな。\p"
		"できればぜひ、中身を"
		"見てみたいと言ってくれている。"
	}
	WaitPrompt()
	WaitCloseWindow()

	TalkPopup("Griselda", 0, 2, 0, 0, 0)
	{
		"#080e#000mこんな状況でも……エタニアの"
		"文化を知るいい機会になると思ってな。\p"
		"#000e#000mどうかアドル、貴殿にこのモノリスの"
		"欠片を探して来て欲しいのだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(5)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"分かりました、探してみます")
	MenuAdd(2,"約束はできないかもしれません")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	//──────────────────────
	//	⇒分かりました、探してみます
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		HeadYes("ADOL", 1, 25)
		Wait(20)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(15)

		TalkPopup("Griselda", 0, 2, 0, 0, 0)
		{
			"#000e#000mありがとう。"
			"貴殿ならそう言ってくれると思ったぞ。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒約束はできないかもしれません
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		ChangeAnimation("ADOL", "ANI_EV_TEBURI", -1, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		Wait(30)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(20)

		HeadYes("Griselda", 1, 25)
		TalkPopup("Griselda", 0, 2, 0, 0, 0)
		{
			"#000e#000mああ、もちろんできればで構わない。"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	TalkPopup("Griselda", 0, 2, 0, 0, 0)
	{
		"#011e#000m本来なら私も探すべきなのだが……"
		"#012e流石に今は漂流村を放っておけんのでな。\p"
		"どうかよろしく頼んだぞ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	
	//　　イベント終了、操作許可。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_612_Start_ED")
}
function "QS_612_Start_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	MapHide("object_Lv31", 1)		//ティーセット　復元
	MapHide("object_Lv30", 1)		//ティーセット　復元
	MapHide("que04_monoris_L", 0)		//モノリス片_左

	//キャラモーション初期化
	//CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_ADOL")
	CallFunc("system:reset_chrmot_Griselda")

	SetChrPos("Griselda", -100000.00f, 0.00f, 0.00f)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て
	SetFlag( GF_QUEST_612, QUEST_START )		// 【QS612】欠けたモノリス（グリゼルダ）	クエスト開始
	SetDiaryFlag( DF_QS612_START, 1 )			// 【QS612】★グリゼルダさんと話した。

	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER", -24.29f, -1376.56f, 12.39f)
	Turn("LEADER", -78.06f, 360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	MoveCameraAt(0, -24.290f, -1376.560f, 13.749f, 0)	// 注視点
	ChangeCameraDistance(0, 5.000f, 0)		// 基本距離
	ChangeCameraElevation(0, 11.000f, 0)	// 基本仰角
	RotateCamera(0, -98.813f, 0)				// 角度
	ChangeCameraPers(0, 60.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

//	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}
//===============================================================
//
// 【QS612】欠けたモノリス（グリゼルダ）
// ▼クエスト達成イベント
//
function "QS_612_Complete"
{
	//　　画面暗転を挟んで休息所の作戦台付近。
	//　　作戦台の上に一つになったモノリスが置かれている。
	//　　（ただしヒビ割れあり）

//開始処理ここから----------------------------------------------------

	CallFunc("system:event_begin")

	//キャラのit3を読み込む
	LoadChr("Griselda")

	//イベント開始前情報の保存
	SaveEventState()
	CallFunc("system:event_chrinfoflag_set")
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_remove")
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
//	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_NPC | REMOVE_POS))

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("ADOL", -8.33f, -1381.80f, 11.57f)
	Turn("ADOL", -118.54f, 360.0f)
	ChangeAnimation( "ADOL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("ADOL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	LookTo("ADOL", -6.637f, -1381.78f, 12.60f)
	SetChrInfoFlag( "ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("Griselda", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("Griselda", -5.87f, -1380.28f, 11.57f)
	Turn("Griselda", 53.88f, 360.0f)
	ChangeAnimation( "Griselda" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("Griselda",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("Griselda",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("Griselda",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "Griselda" , INFOFLAG_NOCHRATARI)
	LookTo("Griselda", -6.637f, -1381.78f, 12.60f)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("SAHAD", -4.87f, -1381.98f, 11.57f)
	Turn("SAHAD", 71.76f, 360.0f)
	ChangeAnimation( "SAHAD" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("SAHAD",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("SAHAD",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "SAHAD" , INFOFLAG_NOCHRATARI)
	LookTo("SAHAD", -6.637f, -1381.78f, 12.60f)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("DANA", -7.74f, -1380.36f, 11.57f)
	Turn("DANA", -35.48f, 360.0f)
	ChangeAnimation( "DANA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("DANA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "DANA" , INFOFLAG_NOCHRATARI)
	LookTo("DANA", -6.637f, -1381.78f, 12.60f)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("LAXIA", -7.82f, -1382.55f, 11.57f)
	Turn("LAXIA", -125.43f, 360.0f)
	ChangeAnimation( "LAXIA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("LAXIA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("LAXIA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "LAXIA" , INFOFLAG_NOCHRATARI)
	LookTo("LAXIA", -6.637f, -1381.78f, 12.60f)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("HUMMEL",-7.44f,-1383.56f,11.57f)
	Turn("HUMMEL",-145.41f,360.0f)
	ChangeAnimation( "HUMMEL" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("HUMMEL",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("HUMMEL",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "HUMMEL" , INFOFLAG_NOCHRATARI)
	LookTo("HUMMEL", -6.637f, -1381.78f, 12.60f)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	SetChrPos("RICOTTA", -5.42f, -1381.05f, 11.57f)
	Turn("RICOTTA", 60.41f, 360.0f)
	ChangeAnimation( "RICOTTA" , "ANI_WAIT", -1 , 1 )
	ChangeSubAnimation("RICOTTA",SUBMOT_EYE,ANI_E_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_MOUTH,ANI_M_WAIT,1)
	ChangeSubAnimation("RICOTTA",SUBMOT_EXT1,ANI_E_LOOKC,1)
	SetChrInfoFlag( "RICOTTA" , INFOFLAG_NOCHRATARI)
	LookTo("RICOTTA", -6.637f, -1381.78f, 12.60f)

	MapHide("que04_monoris_full", 1)		//モノリス片_左右(作戦テーブル)です
	MapHide("locator_mono", 1)				//モノリス情報表示

	MapAnime("chair", "off")
	MapHide("chair", 0)

//	LoadEffect("efx_ev09.ite")

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )

	//カメラ設定
	MoveCameraAt( 0 , -6.948f , -1381.300f , 12.461f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.320f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 22.285f , 0 )	// 基本仰角
	RotateCamera( 0 , 200.558f , 0 )				// 角度
	ChangeCameraPers( 0 , 34.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 3.000, 70.000 ,1.000 ,0.700 ,0.500)
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300 ,1.000 ,1.000 ,0.600 ,0.000 ,1.000)

	//スキップ許可
	SetSkipScript("mp1201:QS_612_Complete_ED")

//開始処理ここまで-----------------------------------------------
	Wait(10)
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	TalkPopup("DANA",0,1,310,160,0)
	{
		"#000e#000mそれじゃあ、理力を注入するね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	StopBGM(120)

	//　　手をかざして理力を送り込むダーナ。	
	ChangeAnimation("DANA", "ANI_EV_KAZASU_S", -1, 1)
	//WaitAnimation2("DANA", -1, 1, "ANI_EV_KAZASU_S", 0)
	ChrEffect2("DANA", 3900600, "Bone_root", "", 0, IMPACT_NONE, KNOCK_EFXPOS, 0.0f, 0.0f, 0, 1.0f, 1.0f)	//ダーナのオーラ
	Wait(30)
	Effect2(3900530, -6.637f, -1381.78f, 12.85f, 0.0f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 1.2f, 1.0f)	// ◆仮水晶石と交信エフェクト
	PlaySE(SE_QS_611_01, 60, 0, 0, 0, 1.0f, 0)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -6.015f, -1382.957f, 12.188f, 120)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 19.696f, 120)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 207.913f, 120)		// 角度

	Wait(90)
	StopEffect(3900530, ALL, 1)	// 理力エフェクト停止

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	StopEffect(3900600, ALL, 1)

	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)

	CrossFade(FADE_NORMAL)
	MoveCameraAt(0, -5.790f, -1382.554f, 12.313f, 0)	// 注視点
	ChangeCameraDistance(0, 3.320f, 0)		// 基本距離
	ChangeCameraElevation(0, 28.238f, 0)	// 基本仰角
	RotateCamera(0, 229.863f, 0)				// 角度
	ChangeCameraPers(0, 52.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -7.067f, -1381.689f, 12.833f, 105)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 28.239f, 105)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 271.964f, 105)		// 角度
	Wait(40)
	//　　モノリス上にエタニア文字が浮かび上がる。
	MapAnime("locator_mono", "open1")
	PlaySE(SE_QS_611_02, 80, 0, 0, 0, 1.0f, 0)
	PlayBGM(BGM_EVENT_013, 0)
	//ループ
	MapAnimeLast("locator_mono", "open1_wait")
	Wait(30)

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	Wait(10)

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , -5.990f , -1381.071f , 12.882f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.930f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.768f , 0 )	// 基本仰角
	RotateCamera( 0 , 268.311f , 0 )				// 角度
	ChangeCameraPers( 0 , 42.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転

	Wait(FADE_CROSS)

	//　　グリゼルダに「！」エモーション。
	EmotionEx("Griselda", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	//！
	Wait(40)

	ChangeAnimation("Griselda", "ANI_EV_SIAN_S", -1, 1)
	TalkPopup("Griselda",0,0,0,0,0)
	{
		"#000e#000mなるほど……これは見事だな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//LookChr("SAHAD", "DANA")
	ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1)
	TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#080e#080mガハハ、割れているのに"
		"動くってのも不思議なもんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("RICOTTA", "ANI_EV_BORI", -1, 1)
	TalkPopup("RICOTTA",0,0,0,0,0)
	{
		"#070e#000mで、何が書いてある！？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("DANA", "RICOTTA")
	TalkPopup("DANA",0,1,0,0,0)
	{
		"#000e#000mえっと、これはエタニアの"
		"真理とされている……\p"
		"はじまりの大樹と《三原理》についての"
		"情報が刻まれたモノリスだね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, -5.631f, -1379.085f, 13.305f, 0)	// 注視点
	ChangeCameraDistance(0, 2.920f, 0)		// 基本距離
	ChangeCameraElevation(0, 7.565f, 0)	// 基本仰角
	RotateCamera(0, 145.738f, 0)				// 角度
	ChangeCameraPers(0, 23.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)

	LookChr("LAXIA", "DANA")
	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#000e#000m《三原理》……？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("DANA", "LAXIA")
	TalkPopup("DANA",0,1,0,0,0)
	{
		"#000e#000mうん、万物の元を辿っていくと"
		"三つの原理に行き着くという考え方でね。\p"
		"それはつまり──"
		"《空》と《海》と《大地》のことなの。"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("HUMMEL", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("HUMMEL",0,2,0,0,0)
	{
		"#000e#000mフム……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	グリゼルダ
	TalkPopup("Griselda",0,1,0,0,0)
	{
		"どこかで聞いたような気もするが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	MoveCameraAt( 0 , -5.638f , -1381.941f , 13.107f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.150f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.995f , 0 )	// 基本仰角
	RotateCamera( 0 , 26.431f , 0 )				// 角度
	ChangeCameraPers( 0 , 46.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.4f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	Wait(FADE_CROSS)

	TalkPopup("SAHAD", 0, 1, 0, 0, 0)
	{
		"#000e#000mで、具体的には何て書いてるんだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookReset("DANA")
	TalkPopup("DANA", 0, 2, 0, 0, 0)
	{
		"#000e#000mうん、それじゃあ読むね。"
	}
	WaitPrompt()
	WaitCloseWindow()

	Look("DANA", 0.00f, -10.00f)

	TalkPopup("DANA", 0, 2,0,0, 0)
	{
		"#000e#000m『はじまりは深淵──"
		"　それは無限に広がる底のない空。』\p"
		"#011e『ある時、空から雨が降り──"
		"　それはやがて海とならん。』"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_NORMAL)
	LookReset("LAXIA")
	MoveCameraAt( 0 , -6.623f , -1382.075f , 12.585f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.619f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 38.133f , 0 )	// 基本仰角
	RotateCamera( 0 , 254.003f , 0 )				// 角度
	ChangeCameraPers( 0 , 46.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd( 1001,MoveCameraAt, INTERPOLATE_SPHERE , -6.623f , -1382.075f , 12.585f , 900 )	// 注視点
	ExecuteCmd( 1002,ChangeCameraDistance, INTERPOLATE_SPHERE , 5.620f, 900 )				// 基本距離
	ExecuteCmd( 1003,ChangeCameraElevation, INTERPOLATE_SPHERE , 11.050f  , 900 )				// 基本仰角
	ExecuteCmd( 1004,RotateCamera, INTERPOLATE_SPHERE, 160.255f  , 900 )				// 角度
//	ExecuteCmd( 1005,ChangeCameraPers, INTERPOLATE_SPHERE , 26.400f , 320)				// 視野角
//	ExecuteCmd( 1005,RollCamera, INTERPOLATE_SPHERE , -5.7f   , 260)				// ロール回転

	//MoveCameraAt( 0 , -6.623f , -1382.075f , 12.585f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 5.620f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 11.050f , 0 )	// 基本仰角
	//RotateCamera( 0 , 160.255f , 0 )				// 角度
	//ChangeCameraPers( 0 , 46.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	//RollCamera( 0 , 0.0f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(FADE_NORMAL)

	TalkPopup("DANA",0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"『ある時、海の底より火が起こり──"
		"　大地と大樹、そして命が誕生す。』\p"
		"『命は大樹の力により進化を遂げ──"
		"　やがて大地へと踏み出さん。』\p"
		"『そして命は大地によって育まれ──』\p"
		"『やがて生き絶えるも、"
		"　大樹を通して空へと還らん。』\p"
		"『こうして命は進化と循環を繰り返す。』"
		"進化と循環9行目"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(20)


	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	MoveCameraAt( 0 , -6.624f , -1381.537f , 12.635f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 5.029f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 19.809f , 0 )	// 基本仰角
	RotateCamera( 0 , 97.366f , 0 )				// 角度
	ChangeCameraPers( 0 , 43.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd( 1000, RotateCamera, INTERPOLATE_SPHERE , 161.727f , 1200 )				// 角度

	Wait(FADE_CROSS)


	ChangeSubAnimation("DANA",SUBMOT_EYE,ANI_E_CLOSE_E,1)
	LookReset("DANA")
	Wait(10)

	TalkPopup("DANA", 0, 2, 0, 0, 0)
	{
		"#000mとまあ、こんな感じだね。"
	}
	WaitPrompt()
	WaitCloseWindow()


	TalkPopup("Griselda", 0, 1, 0, 0, 0)
	{
		"#000e#000mなるほど、それがエタニアで"
		"語られていた理#2Rことわり#Rというわけか……"
	}
	WaitPrompt()
	WaitCloseWindow()

	HeadYes("Griselda" , 1 , 25)

	TalkPopup("Griselda", 0, 1, 0, 0, 0)
	{
		"そうか、どことなく"
		"《三神教》に通じる所があるな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//ラクシャに「パッ」エモーション。
	EmotionEx("LAXIA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)

	TalkPopup("LAXIA",0,2,0,0,0)
	{
		"#000e#000m三神教……名前くらいは"
		"聞いたことがありますが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"SAHAD"
	TalkPopup("SAHAD",0,1,0,0,0)
	{
		"#000e#000mふむ……一体何のことだ？"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"HUMMEL"
	TalkPopup("HUMMEL", 0, 2, 0, 0, 0)
	{
		"#011e#000m《星刻教会》が普及する前に"
		"特定の地域で信仰された宗教だったか──\p"
		"#012e三柱の神を奉ずる"
		"教えだったと思うんだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"DANA"
	LookChr("DANA","HUMMEL")
	TalkPopup("DANA", 0, 2, 0, 0, 0)
	{
		"#070e#000mへえ……"
		"そういうのがあるんだ。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	"RICOTTA"
	ChangeAnimation("RICOTTA", "ANI_EV_GAKKARI_S", -1, 1)
	TalkPopup("RICOTTA", 0, 1, 0, 0, 0)
	{
		"#000e#000mリコッタ……"
		"ちんぷんかんぷん。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	WaitAnimation2( "RICOTTA" , -1, 1, "ANI_EV_GAKKARI_S",  0)

	CrossFade(FADE_CROSS)
	
	StopThread(1000)
	
	LookReset("Griselda")
	LookChr("DANA", "Griselda")
	LookChr("LAXIA", "Griselda")
	LookChr("ADOL", "Griselda")
	LookChr("SAHAD", "Griselda")
	ChangeAnimation( "RICOTTA" , "ANI_EV_GAKKARI_E", -1 , 1 )
	
	MoveCameraAt( 0 , -6.991f , -1381.890f , 12.883f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.318f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.525f , 0 )	// 基本仰角
	RotateCamera( 0 , 326.961f , 0 )				// 角度
	ChangeCameraPers( 0 , 46.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 300.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	ExecuteCmd( 1001, RotateCamera, INTERPOLATE_SPHERE , 319.574f , 1200 )				// 角度

	Wait(FADE_CROSS)

	LookChr("RICOTTA", "Griselda")

	//	グリゼルダ
	TalkPopup("Griselda",0,2,0,0,0)
	{
		"三原理の根底にあるのは、"
		"《空》と《海》と《大地》……\p"
		"一方、三神教が奉じる三柱の神とは"
		"《天空神》と《海神》と《大地神》……\p"
		"つまり三原理の《空》を"
		"《天空神ホル》……\p"
		"《海》を《海神グラッテオス》……\p"
		"グラッテオス2行目"
		"《大地》を《大地神マイア》に"
		"置き換えると、違和感がないな。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	  　ダーナに「パッ」エモーション。
	EmotionEx("DANA", 0.00f, EMO_PA, 0, 5, 1, 1, 1.0f)	//パッ
	Wait(35)
	
	ChangeAnimation("DANA", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("DANA",0,0,0,0,0)
	{
		"#000e#000m大地神マイア……まさか……"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookChr("Griselda","DANA")
	ChangeAnimation("Griselda", "ANI_EV_SIAN_E", -1, 1)
	TalkPopup("Griselda",0,0,0,0,0)
	{
		"#000e#000mほう、その名を知っているのか？"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	HeadYes("LAXIA", 1, 25)
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000mええ、護り人の一人……"
		"ヒドゥラさんの話に出てきました。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	LookReset("Griselda")
	//	ナレーション
	TalkPopup(UNDEF,0,3,SYSTEM_PPOSX,SYSTEM_PPOSY,0)
	{
		"#7Cアドルたちはヒドゥラから"
		"#7C聞かされた話をグリゼルダに伝えた。"
	}
	WaitPrompt()
	WaitCloseWindow()
	
	//	  　グリゼルダに「！」エモーション。
	EmotionEx("Griselda", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f)	//！
	Wait(35)
	
	TalkPopup("Griselda",0,0,0,0,0)
	{
		"なんと……\p"
		"その話が本当ならば過去に"
		"大地神が実在したというのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("LAXIA","ANI_EV_UDEGUMI_S", -1 , 1 )
	HeadNo("LAXIA" , 1 , 35)

	//	"LAXIA"
	TalkPopup("LAXIA",0,1,0,0,0)
	{
		"#000e#000m事実かどうか、わたくしたちには"
		"調べようがありませんが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("DANA", "ANI_EV_UDEGUMI_E", -1, 1)

	//	"DANA"
	TalkPopup("DANA",0,0,0,0,0)
	{
		"#011e#000m#0L……………………………………"
	}
	WaitPrompt()
	WaitCloseWindow()

	CrossFade(FADE_CROSS)
	StopThread(1001)

	LookReset("DANA")
	LookReset("ADOL")

	MoveCameraAt(0, -6.983f, -1381.247f, 13.130f, 0)	// 注視点
	ChangeCameraDistance(0, 2.618f, 0)		// 基本距離
	ChangeCameraElevation(0, 5.593f, 0)	// 基本仰角
	RotateCamera(0, 273.844f, 0)				// 角度
	ChangeCameraPers(0, 33.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	Wait(FADE_CROSS)
	TalkPopup("SAHAD",0,2,0,0,0)
	{
		"#050e#000mう～む、いまいち勉強不足で"
		"よく分からねえんだが……"
	}
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI_TEBURI", -1, 1)
	TalkPopup("SAHAD", 0, 2, 0, 0, 0)
	{
		"#000mすると《三神教》の源流は、"
		"エタニアにあったってことなのか？"
	}
	WaitPrompt()
	WaitCloseWindow()

	StopBGM(180)

	//	グリゼルダ
	ChangeAnimation("Griselda", "ANI_EV_SIAN_S", -1, 1)
	TalkPopup("Griselda", 0, 0, 0, 0, 0)
	{
		"#011e#000mフム、確証はないが……"
		"決してあり得ぬ話ではないな。\p"
		"#012eこの考えを前提にして各地の歴史を"
		"紐解いていくのも面白いかも知れぬ。\p"
		"──いずれにせよ、現時点で"
		"分かるのはここまでだろう。"
	}
	WaitPrompt()
	WaitCloseWindow()
	ChangeAnimation("Griselda", "ANI_EV_SIAN_E", -1, 1)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -7.101f, -1380.622f, 13.031f, 50)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 5.593f, 50)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 287.687f, 50)		// 角度

	LookChr("Griselda", "DANA")
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitAnimation2( "Griselda" , -1, 1, "ANI_EV_SIAN_E",  0)

	PlayBGM(BGM_EVENT_017, 0)

	ChangeAnimation("Griselda", "ANI_EV_TEBURI", -1, 1)
	TalkPopup("Griselda", 0, 2, 0, 0, 0)
	{
		"#000e#000mダーナ殿、今回は貴重な資料の"
		"解析に付き合って頂いて感謝する。"
	}
	WaitPrompt()
	WaitCloseWindow()

		//	"DANA"
	LookChr("DANA", "Griselda")
	Wait(15)
	HeadNo("DANA", 1, 35)
	TalkPopup("DANA", 0, 1, 0, 0, 0)
	{
		"#000e#000mううん、私も皆さんの時代のことが"
		"少しでも知られてよかったです。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//	グリゼルダ
	ChangeAnimation("Griselda", "ANI_EV_UDEGUMI_S", -1, 1)
	TalkPopup("Griselda", 0, 2, 0, 0, 0)
	{
		"#021e#080mフフ、それならば良かった。"
	}
	WaitPrompt()
	WaitCloseWindow()

	//　　グリゼルダに「…」エモーション。
	ChangeSubAnimation("Griselda", SUBMOT_EYE, ANI_E_CLOSE, 1)
	EmotionEx("Griselda", 0.00f, EMO_3DOT, 0, 5, 1, 1, 1.0f)	//…
	Wait(52)

	//	グリゼルダ
	TalkPopup("Griselda", 0, 2, 0, 0, 0)
	{
		"#000mだが……護り人とやらが"
		"語ったという事実は残酷すぎるな。\p"
		"#012e大樹の原理が“進化と循環”ではなく"
		"“選択と淘汰”にあったとは……\p"
		"それにより世界を保っているとはいえ、"
		"人間としては受け入れがたいな。"
		"受け入れがたい7行目"
	}
	WaitPrompt()
	WaitCloseWindow()
	StopThread(1001)

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -8.661f, -1381.387f, 13.007f, 70)		// 注視点
	ExecuteCmd(1001, ChangeCameraElevation, INTERPOLATE_SPHERE, 5.957f, 70)		// 基本仰角
	ExecuteCmd(1002, RotateCamera, INTERPOLATE_SPHERE, 277.792f, 70)		// 角度
	ExecuteCmd(1003 ChangeCameraPers, INTERPOLATE_SPHERE, 31.000f, 70)		// 視野角

	LookChr("ADOL", "Griseldax")

	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1, "絶対に食い止めてみせます")
	MenuAdd(2, "複雑な気分です")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)
	//Wait(20)
	
	//──────────────────────
	//	⇒涙の日は絶対に食い止めてみせます
	if (FLAG[TF_MENU_SELECT] == 1)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		HeadYes("ADOL", 1, 25)
		Wait(20)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(15)

		LookChr("DANA", "ADOL")
		TalkPopup("DANA", 0, 0, 0, 0, 0)
		{
			"#000e#000mアドルさん…… "
		}
		WaitPrompt()
		WaitCloseWindow()

		HeadYes("DANA", 1, 25)
		TalkPopup("DANA",0,0,0,0,0)
		{
			"#011e#000mうん、絶対に阻止しよう！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒複雑な気分です
	else if (FLAG[TF_MENU_SELECT] == 2)
	{
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 1)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
		HeadYes("ADOL", 1, 25)
		Wait(20)
		ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
		SetChrWork("ADOL", CWK_FORCELIPSYNC, 0)
		Wait(15)

		LookChr("DANA", "ADOL")
		ChangeAnimation("DANA", "ANI_EV_TEMUNE_S", -1, 1)
		TalkPopup("DANA", 0, 0, 0, 0, 0)
		{
			"#000e#000mうん……でも、みんなには"
			"同じ道を歩んでほしくないかな。\p"
			"アドルさん、絶対に何とかしよう！"
		}
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	LookReset("DANA")
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)

	LookChr("Griselda", "ADOL")

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, -6.460f, -1383.644f, 13.180f, 0)	// 注視点
	ChangeCameraDistance(0, 2.618f, 0)		// 基本距離
	ChangeCameraElevation(0, 13.829f, 0)	// 基本仰角
	RotateCamera(0, 0.945f, 0)				// 角度
	ChangeCameraPers(0, 46.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転

	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE, -5.442f, -1383.274f, 13.180f, 620)		// 注視点
	ExecuteCmd(1001, RotateCamera, INTERPOLATE_SPHERE, 41.967f, 620)		// 角度


	Wait(FADE_CROSS)

	LookChr("RICOTTA", "DANA")
	ChangeAnimation("RICOTTA", "ANI_EV_GUTSPOSE_S", -1, 1)
	TalkPopup("RICOTTA",0,0,0,0,0)
	{
		"#000e#000mリコッタもがんばる！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("LAXIA", "DANA")
	TalkPopup("LAXIA",0,0,0,0,0)
	{
		"#000e#000mええ、わたくしたちの力を合わせれば"
		"やってやれないことなどありません！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("SAHAD", "DANA")
	ChangeAnimation("SAHAD", "ANI_EV_RYOTEKOSI_E", -1, 1)
	TalkPopup("SAHAD",0,0,0,0,0)
	{
		"#000e#000mおうよ！　嬢ちゃんの言う通りだぜ！"
	}
	WaitPrompt()
	WaitCloseWindow()

	LookChr("HUMMEL", "DANA")
	TalkPopup("HUMMEL",0,1,0,0,0)
	{
		"#000e#000m……オレも同意しておこう。"
	}
	WaitPrompt()
	WaitCloseWindow()

	StopThread(1000)
	StopThread(1001)

	CrossFade(FADE_CROSS)
	MoveCameraAt(0, -5.224f, -1379.785f, 13.006f, 0)	// 注視点
	ChangeCameraDistance(0, 2.618f, 0)		// 基本距離
	ChangeCameraElevation(0, 2.981f, 0)	// 基本仰角
	RotateCamera(0, 305.636f, 0)				// 角度
	ChangeCameraPers(0, 30.000f, 0)			// 視野角
	SetCameraZPlane(0.100f, 300.000f)			// ZPlane
	RollCamera(0, 0.0f, 0)				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	Wait(FADE_CROSS)

	PlayVoice(Y8V_5163, "Griselda", 100)	//フフ（笑い）
	TalkPopup("Griselda",0,0,0,0,0)
	{
		"#011e#080mフフ、頼もしいな。\p"
		"#012e私も貴殿たちなら必ず、"
		"成し遂げてくれると信じているぞ。\p"
		"どうか我々の未来をよろしく頼む！"
	}
	WaitPrompt()
	WaitCloseWindow()

	Wait(15)

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	//　　画面暗転。
	FadeOut(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	PlaySE(SE_QUEST_END, 100, 0, 0, 0, 1.0f, 0)		// クエスト達成	

	//	ナレーション
	TalkPopup(UNDEF,0,5,0,0,0)
	{
		"#8S"
		"#-1W#4Cクエスト#8C【欠けたモノリス】#4Cを達成した！#10W" 
		"#8S"
	}
	Wait(10)
	CallFunc("system:QuestVoice_Success")
	WaitPrompt()
	WaitCloseWindow()

	//──────────────────────
	//	⇒好感度が一段階上がる場合
	if( FLAG[GF_LIKELV_GRISELDA] < 1 )
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cグリゼルダの好感度が上がった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒好感度が最大になる場合
	else
	{
		PlaySE(SE_BONDS_UP, 100, 0, 0, 0, 1.0f, 0)	//好感度アップ
		//	ナレーション
		TalkPopup(UNDEF,0,5,0,0,0)
		{
			"#8S"
			"#-1W#4Cグリゼルダの好感度が最大になった！#10W" 
			"#8S"
		}
		Wait(10)
		WaitPrompt()
		WaitCloseWindow()
	}
	//──────────────────────

	//	アイテム入手メッセージ
	GetItemMessageExPlus(ICON3D_DRUG_RECIPE11, 1, ITEMMSG_SE_JINGLE, "を手に入れた！12" ,0 ,0 )	// 『蒼き調合書《覇》』	覇王水のレシピ
	WaitPrompt()
	WaitCloseWindow()

	//　　イベント終了、操作許可。

//終了処理ここから----------------------------------------------------
	CallFunc("mp1201:QS_612_Complete_ED")
}
function "QS_612_Complete_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//隠したものを復帰。
//	ResetChrPos((CHRTYPE_MONS | RESET_POS | RESET_AISTATE))

	//キャラモーション初期化
	CallFunc("system:reset_chrmot_ALL")
	CallFunc("system:reset_chrmot_Griselda")
	SetChrPos("Griselda", -100000.00f, 0.00f, 0.00f)

	MapAnime("chair", "on")
	MapHide("chair", 1)

	//パーティキャラを解放
	ReleaseEventPartyChr()

	//マップパラメーターリセット
	ResetMapParam(-1)

	//フラグ立て・アイテム入手・アイテム回収
	SetFlag( GF_QUEST_612, QUEST_SUCCESS )		// 【QS612】欠けたモノリス（グリゼルダ）	クエストを達成した
	GetItem( ICON3D_DRUG_RECIPE11, 1 )			// 『蒼き調合書《覇》』	覇王水のレシピ
	DeleteItem( ICON3D_PIECE_MONOLITH, 1 )		// 『モノリスの欠片』
	SetFlag( GF_LIKELV_GRISELDA, ( FLAG[GF_LIKELV_GRISELDA] + 1 ) )	// 好感度ＵＰ
	SetFlag( GF_FAME_POINT, (FLAG[GF_FAME_POINT] + 1) )			//クエスト達成【QS612】欠けたモノリス（グリゼルダ）	名声値+1
	SetDiaryFlag( DF_QS612_END,	1 )				// 【QS612】★モノリスの欠片を渡し、依頼を達成。
	//SetDiaryCharaFlag( DRCHA_GRISELDA, DRCHA_FLAG_INFO2, 1 )	//★人物メモ：追加情報の開放２（グリゼルダ）

	SetFlag( TF_GRISELDA_TALK, 0 )		//一般会話リセット

	SetChrPos("Griselda",-100000.00f , 0.00f ,0.00f )		// 画面外に移動
	
	CallFunc("mp1201:init")

	//イベント後の再配置
	SetChrPos("LEADER",-0.54f,-1384.05f,11.57f)
	Turn("LEADER",53.00f,360.0f)
	ResetPartyPos()
	ResetFollowPoint()
	//Wait(1) //処理待ち用

	//カメラ位置復帰
	//MoveCameraAt( 0 , 0.0f , 0.0f , 0.0f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 0.0f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 0.0f , 0 )		// 基本仰角
	//RotateCamera( 0 , 0.0f , 0 )				// 角度
	//ChangeCameraPers( 0 , 0.0f , 0 )			// 視野角
	//SetCameraZPlane( 0 , 0.0f )					// ZPlane
	//RollCamera( 0 , 0.0f , 0 )					// ロール回転

	RestoreCamera(0, 0)		//※上記カメラ位置を指定する場合は不要
	CallFunc("system:camera_reset")

	SetEnvSEPlayState(-1, 1)	//環境SE

	ResetStopFlag(STOPFLAG_EVENT)

	FadeIn(FADE_BLACK,FADE_FAST)
	//WaitFade()

//終了処理ここまで----------------------------------------------------
}
