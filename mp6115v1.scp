#include "inc/mons.h"
#include "inc/def.h"
#include "inc/flag.h"
#include "inc/se.h"
#include "inc/scr_inc.h"
#include "inc/3dicon.h"
#include "inc/skilldef.h"
#include "inc/vo.h"
#include "inc/music.h"
#include "inc/efx.h"

//----------------------------------------------------------------------------//
//                                                                            //
// 大穴の崖・イベントマップ		    			                                      //
//                                                                            //
//----------------------------------------------------------------------------//
///////////////////////////////////////////////////////////////////////////////
// 初期化スクリプト
///////////////////////////////////////////////////////////////////////////////
//-------------------------------------------

function "init"
{
	CallFunc("rng:expMult")
}

////////////////////////////////////////////////////////////////////////////////

//■メインイベントセクション

////////////////////////////////////////////////////////////////////////////////

function "EV_M05S280"			//オケアノス討伐戦を開始する
{
	//開始処理ここから-----------------------------------------------

	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	ResetStopFlag(STOPFLAG_CINEMA)

	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//シスター・ニアの衣装制御
	if (FLAG[GF_QS311_LOOK_EVENT]){		// 【QS311】▼衣装を破れたイベント を見た
		SetChrID( "Nia_2", "Nia")		// 破れ衣装
	} else {
		SetChrID( "Nia_1", "Nia")		// 初期衣装
	}

	// 任意合流NPC読み込み
	if (FLAG[GF_SUBEV_JOIN_FRANZ])	{ LoadChr("Franz") }
	if (FLAG[GF_SUBEV_JOIN_NIA])	{ LoadChr("Nia") }
	if (FLAG[GF_SUBEV_JOIN_AUSTEN])	{ LoadChr("Austen") }
	if (FLAG[GF_SUBEV_JOIN_REJA])	{ LoadChr("Reja") }
	if (FLAG[GF_SUBEV_JOIN_KASHU])	{ LoadChr("Kashu") }
	if (FLAG[GF_SUBEV_JOIN_MIRALDA]){ LoadChr("Miralda") }
	if (FLAG[GF_SUBEV_JOIN_SILVIA])	{ LoadChr("Silvia") }

	//イベント開始前情報の保存
	SaveEventState()
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_PLAYER | REMOVE_POS))

	// 配置
	SetChrPos("ADOL", -392.38f, 1748.67f, 35.19f)
	Turn("ADOL", -153.44f, 360.0f)
	SetChrPos("LAXIA",-393.15f, 1749.39f, 35.18f)
	Turn("LAXIA",-107.25f,360.0f)
	SetChrPos("SAHAD",-390.45f, 1748.48f, 35.21f)
	Turn("SAHAD",153.26f,360.0f)
	SetChrPos("HUMMEL",-389.44f, 1749.32f, 35.21f)
	Turn("HUMMEL",121.29f,360.0f)
	SetChrPos("RICOTTA",-393.24f, 1750.40f, 35.18f)
	Turn("RICOTTA",-71.72f,360.0f)
	SetChrPos("DANA",-391.48f, 1748.30f, 35.20f)
	Turn("DANA",178.13f,360.0f)
	
	SetChrPos("Dogi",-391.81f, 1751.84f, 35.19f)
	Turn("Dogi",-7.34f,360.0f)
	SetChrPos("Thanatos",-392.81f, 1751.42f, 35.18f)
	Turn("Thanatos",-35.77f,360.0f)
	SetChrPos("Aaron",-390.70f, 1752.08f, 35.20f)
	Turn("Aaron",-0.24f,360.0f)
	SetChrPos("Licht",-389.68f, 1751.18f, 35.21f)
	Turn("Licht",53.06f,360.0f)
	SetChrPos("Katrin",-389.28f, 1750.30f, 35.21f)
	Turn("Katrin",85.03f,360.0f)
	SetChrPos("Paro",-394.04f, 1756.61f, 36.87f)
	Turn("Paro",-14.45f,360.0f)
	
	// A班
	SetChrPos("TOUSEKIKI_1", -405.21f, 1744.41f, 35.21f)	// 投石器A
	Turn("TOUSEKIKI_1", 138.33f, 360.0f)
	SetChrPos("Alison",-403.83f, 1741.85f, 35.12f)
	Turn("Alison",-154.16f,360.0f)
	SetChrPos("Ed",-405.72f, 1740.81f, 35.11f)
	Turn("Ed",-154.16f,360.0f)
	if (FLAG[GF_SUBEV_JOIN_FRANZ]) {
		SetChrPos("Franz",-404.64f, 1748.40f, 35.11f)
		Turn("Franz",5.72f,360.0f)
	}
	if (FLAG[GF_SUBEV_JOIN_NIA]) {
		SetChrPos("Nia",-402.36f, 1742.14f, 35.13f)
		Turn("Nia",102.80f,360.0f)
	}

	// B班
	SetChrPos("TOUSEKIKI_2", -398.75f, 1749.54f, 35.21f)	// 投石器B
	Turn("TOUSEKIKI_2", 156.10f, 360.0f)
	SetChrPos("Dina",-400.20f, 1745.98f, 35.14f)
	Turn("Dina",-157.72f,360.0f)
	if (FLAG[GF_SUBEV_JOIN_AUSTEN]) {
		SetChrPos("Austen",-397.74f, 1745.42f, 35.16f)
		Turn("Austen",159.65f,360.0f)
	}
	if (FLAG[GF_SUBEV_JOIN_REJA]) {
		SetChrPos("Reja",-403.61f, 1751.61f, 35.11f)
		Turn("Reja",131.22f,360.0f)
	}
	// C班
	SetChrPos("TOUSEKIKI_3", -382.86f, 1754.72f, 35.21f)	// 投石器C
	Turn("TOUSEKIKI_3", 145.43f, 360.0f)
	if (FLAG[GF_SUBEV_JOIN_KASHU]) {
		SetChrPos("Kashu",-380.27f, 1752.64f, 35.21f)
		Turn("Kashu",106.35f,360.0f)
	}
	SetChrPos("Kuina",-384.23f, 1752.35f, 35.20f)
	Turn("Kuina",-78.40f,360.0f)
	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		SetChrPos("Miralda",-383.06f, 1750.89f, 35.22f)
		Turn("Miralda",-179.03f,360.0f)
	}
	if (FLAG[GF_SUBEV_JOIN_SILVIA]) {
		SetChrPos("Silvia",-379.73f, 1757.19f, 35.18f)
		Turn("Silvia",124.12f,360.0f)
	}

	//キャラ初期状態の設定
	SetChrWork("ADOL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("ADOL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("ADOL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("ADOL")
	SetChrInfoFlag("ADOL", INFOFLAG_NOCHRATARI)

	SetChrWork("RICOTTA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("RICOTTA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("RICOTTA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("RICOTTA")
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOCHRATARI)

	SetChrWork("SAHAD", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("SAHAD", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("SAHAD", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("SAHAD")
	SetChrInfoFlag("SAHAD", INFOFLAG_NOCHRATARI)

	SetChrWork("LAXIA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("LAXIA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("LAXIA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("LAXIA")
	SetChrInfoFlag("LAXIA", INFOFLAG_NOCHRATARI)

	SetChrWork("HUMMEL", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("HUMMEL", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("HUMMEL", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("HUMMEL")
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOCHRATARI)

	SetChrWork("DANA", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("DANA", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_SUP, 1)
	ChangeSubAnimation("DANA", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("DANA", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("DANA")
	SetChrInfoFlag("DANA", INFOFLAG_NOCHRATARI)

	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Dogi", "ANI_EV_UDEGUMI", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)
	
	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Licht", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Licht", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Licht", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Licht")
	SetChrInfoFlag("Licht", INFOFLAG_NOCHRATARI)
	
	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
	ChangeAnimation("Katrin", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Katrin", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Katrin", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Katrin")
	SetChrInfoFlag("Katrin", INFOFLAG_NOCHRATARI)
	
	ChangeAnimation("Dina", "ANI_EV_SIAN", -1, 1)
	ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dina", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dina", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dina")
	SetChrInfoFlag("Dina", INFOFLAG_NOCHRATARI)
	
	ChangeAnimation("Ed", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Ed", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Ed", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Ed", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Ed")
	SetChrInfoFlag("Ed", INFOFLAG_NOCHRATARI)
	
	if (FLAG[GF_SUBEV_JOIN_KASHU]) {
		ChangeAnimation("Kashu", "ANI_WAIT", -1, 1)
		ChangeSubAnimation("Kashu", SUBMOT_EYE, ANI_E_WAIT, 1)
		ChangeSubAnimation("Kashu", SUBMOT_MOUTH, ANI_M_WAIT, 1)
		ChangeSubAnimation("Kashu", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		LookReset("Kashu")
		SetChrInfoFlag("Kashu", INFOFLAG_NOCHRATARI)
	}
	
	ChangeAnimation("Alison", "ANI_EV_TOUSEKI", -1, 1)
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Alison", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Alison", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Alison")
	SetChrInfoFlag("Alison", INFOFLAG_NOCHRATARI)

	ChangeAnimation("Kuina", "ANI_EV_TOUSEKI", -1, 1)
	ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Kuina", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Kuina", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Kuina")
	SetChrInfoFlag("Kuina", INFOFLAG_NOCHRATARI)
	
	if (FLAG[GF_SUBEV_JOIN_FRANZ]) {
		ChangeAnimation("Franz", "ANI_EV_SIAN", -1, 1)
		ChangeSubAnimation("Franz", SUBMOT_EYE, ANI_E_WAIT, 1)
		ChangeSubAnimation("Franz", SUBMOT_MOUTH, ANI_M_WAIT, 1)
		ChangeSubAnimation("Franz", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		LookReset("Franz")
		SetChrInfoFlag("Franz", INFOFLAG_NOCHRATARI)
	}
	
	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		ChangeAnimation("Miralda", "ANI_WAIT", -1, 1)
		ChangeSubAnimation("Miralda", SUBMOT_EYE, ANI_E_WAIT, 1)
		ChangeSubAnimation("Miralda", SUBMOT_MOUTH, ANI_M_WAIT, 1)
		ChangeSubAnimation("Miralda", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		LookReset("Miralda")
		SetChrInfoFlag("Miralda", INFOFLAG_NOCHRATARI)
	}
	
	if (FLAG[GF_SUBEV_JOIN_REJA]) {
		ChangeAnimation("Reja", "ANI_WAIT", -1, 1)
		ChangeSubAnimation("Reja", SUBMOT_EYE, ANI_E_WAIT, 1)
		ChangeSubAnimation("Reja", SUBMOT_MOUTH, ANI_M_WAIT, 1)
		ChangeSubAnimation("Reja", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		LookReset("Reja")
		SetChrInfoFlag("Reja", INFOFLAG_NOCHRATARI)
	}
	
	if (FLAG[GF_SUBEV_JOIN_AUSTEN]) {
		ChangeAnimation("Austen", "ANI_WAIT", -1, 1)
		ChangeSubAnimation("Austen", SUBMOT_EYE, ANI_E_WAIT, 1)
		ChangeSubAnimation("Austen", SUBMOT_MOUTH, ANI_M_WAIT, 1)
		ChangeSubAnimation("Austen", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		LookReset("Austen")
		SetChrInfoFlag("Austen", INFOFLAG_NOCHRATARI)
	}
	
	if (FLAG[GF_SUBEV_JOIN_NIA]) {
		ChangeAnimation("Nia", "ANI_WAIT", -1, 1)
		ChangeSubAnimation("Nia", SUBMOT_EYE, ANI_E_WAIT, 1)
		ChangeSubAnimation("Nia", SUBMOT_MOUTH, ANI_M_WAIT, 1)
		ChangeSubAnimation("Nia", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		LookReset("Nia")
		SetChrInfoFlag("Nia", INFOFLAG_NOCHRATARI)
	}
	
	if (FLAG[GF_SUBEV_JOIN_SILVIA]) {
		ChangeAnimation("Silvia", "ANI_EV_RYOTEKOSI", -1, 1)
		ChangeSubAnimation("Silvia", SUBMOT_EYE, ANI_E_WAIT, 1)
		ChangeSubAnimation("Silvia", SUBMOT_MOUTH, ANI_M_WAIT, 1)
		ChangeSubAnimation("Silvia", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		LookReset("Silvia")
		SetChrInfoFlag("Silvia", INFOFLAG_NOCHRATARI)
	}
	
	ChangeAnimation("Paro", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Paro", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Paro", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	LookReset("Paro")
	SetChrInfoFlag("Paro", INFOFLAG_NOCHRATARI)
	SetChrInfoFlag("Paro", INFOFLAG_NOSHADOW)

	//負荷対策
	SetChrInfoFlag("ADOL", INFOFLAG_NOREALSHADOW)
	SetChrInfoFlag("SAHAD", INFOFLAG_NOREALSHADOW)
	SetChrInfoFlag("LAXIA", INFOFLAG_NOREALSHADOW)
	SetChrInfoFlag("RICOTTA", INFOFLAG_NOREALSHADOW)
	SetChrInfoFlag("HUMMEL", INFOFLAG_NOREALSHADOW)
	SetChrInfoFlag("DANA", INFOFLAG_NOREALSHADOW)

	SetShadowBound(96.0f , 96.0f )

	//BGM設定◆
	//PlayBGM( BGM_FIELD_101 , XX )
	PlayBGM(BGM_EVENT_012, 0)

	//カメラ設定
	MoveCameraAt( 0 , -355.794f , 1783.841f , 46.578f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 13.240f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -10.338f , 0 )	// 基本仰角
	RotateCamera( 0 , 84.818f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 250.000, 2.000, 0.450, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp6115v1:EV_M05S280_ED")

	//開始処理ここまで-----------------------------------------------

	//　　画面スクロールさせながら、岬に設置された投石器や
	//　　その周りに陣取っている漂流者たちを見せていく。
	//　　再度にドギ、タナトスと
	//　　アドルたちが打ち合わせをしている光景を見せる。

	// カット1 ----------------------------------------------------------------------------------------
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -368.918f , 1764.559f , 40.129f , 125 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 13.240f , 125 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.137f , 125 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 86.253f , 125 )

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , -404.737f , 1741.998f , 36.989f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.281f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 13.439f , 0 )	// 基本仰角
	RotateCamera( 0 , 356.015f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 160.000 ,1.000 ,0.500 ,0.500)

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -381.696f , 1752.126f , 36.493f , 240 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.121f , 240 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 6.563f , 240 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 56.753f , 240 )

	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	Wait(20)

	// カット3 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_NORMAL)

	// カメラ
	MoveCameraAt( 0 , -391.751f , 1751.203f , 37.113f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.481f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.747f , 0 )	// 基本仰角
	RotateCamera( 0 , 51.580f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。



	// 位置調整・表情・モーション
	LookChr("ADOL", "Dogi")
	LookChr("DANA", "Dogi")
	LookChr("LAXIA", "Dogi")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -391.751f , 1751.203f , 36.953f , 45 )
	
	// フェード待ち
	Wait(FADE_NORMAL)
	
	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち

	FadeBGM(70,10)
	
	// ドギ
	TalkMes("Dogi","#3684V#012e#000m──よし、準備万端だ。","","")
	WaitPrompt()

	LookChr("Dogi", "ADOL")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// ドギ
	TalkMes("Dogi","#3685V#080mアドル、それじゃあ、","おっ始めるとしようぜ。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了
	
	// カット4 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止
	StopThread(1000)
	
	// カメラ
	MoveCameraAt( 0 , -391.978f , 1750.764f , 36.573f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.681f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.034f , 0 )	// 基本仰角
	RotateCamera( 0 , 148.125f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 0.0f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 非表示・再表示
	SetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 非表示
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -391.951f , 1750.790f , 36.753f , 900 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.681f , 900 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.134f , 900 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 130.360f , 900 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	Wait(10)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"いよいよだな")
	MenuAdd(2,"慎重に行こう")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	// うなずきセット
	PlayVoice(Y8V_0164,"ADOL",100)	//ああ…（相槌）

	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(25)

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始

	//─────────────────────────
	//	⇒いよいよだな
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		Look("Dogi", 0.0f, -10.0f)	// うつむく

		// ドギ
		TalkMes("Dogi","#3686V#011e#000mああ、ロンバルディア号が沈んでから","ここまで長いようで短かったな……","")
		WaitPrompt()
		WaitCloseWindow()

		Look("Dogi", 0.0f, 0.0f)	// うつむく

		// ドギ
		TalkMes("Dogi","#3687V#012e#000mようやく決着を","つけることができそうだぜ。","")
		WaitPrompt()
		WaitCloseWindow()

		LookReset("LAXIA")

		// ラクシャ
		TalkMes("LAXIA","#1077V#011e#000mアドル、ドギ……","","")
		WaitPrompt()

		LookChr("LAXIA", "Dogi")
		ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

		// ラクシャ
		TalkMes("LAXIA","#1078V#012e#000mはやる気持ちは分かりますが","最後に作戦を確認しましょう。","")
		WaitPrompt()
		WaitCloseWindow()

		LookChr("Dogi", "LAXIA")
		ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

		// ドギ
		TalkMes("Dogi","#3688V#000e#000mそうだな、念のために","段取りをおさらいしておくぜ。","")
		WaitPrompt()
		WaitCloseWindow()

	}
	//	⇒慎重に行こう
	else if (FLAG[TF_MENU_SELECT] == 2 ) {

		ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
		Wait(10)

		// ドギ
		TalkMes("Dogi","#3690V#000e#000mいつになく慎重じゃねえか。","そいつはラクシャ嬢の影響かい？","")
		WaitPrompt()
		WaitCloseWindow()

		LookReset("LAXIA")
		ChangeAnimation( "LAXIA", "ANI_EV_SEKI", -1, 1 )	// 咳払い

		// ラクシャ
		TalkMes("LAXIA","#1079V#011e#000mコホン……間違いは許されません。","その程度は当然のことです。","")
		WaitPrompt()

		LookChr("LAXIA", "Dogi")

		// ラクシャ
		TalkMes("LAXIA","#1080V#012e#000mドギ、ちょうどいいから","作戦をおさらいしておきましょう。","")
		WaitPrompt()
		WaitCloseWindow()

		LookChr("Dogi", "LAXIA")
		Wait(5)
		HeadYes("Dogi", 1, 25)	// キャラ, うなずき回数, 速さ

		// ドギ
		TalkMes("Dogi","#3691V#000e#000mよし来た、もう一度だけ","作戦を確認させてもらうぜ。","")
		WaitPrompt()
		WaitCloseWindow()
	
	}
	//─────────────────────────
	
	// カット5 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -392.076f , 1751.541f , 36.850f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.480f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.590f , 0 )	// 基本仰角
	RotateCamera( 0 , 335.909f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , -7.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	LookChr("Dogi", "ADOL")
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	LookReset("LAXIA")
	LookReset("ADOL")
	
	// 非表示・再表示
	ResetChrInfoFlag("Aaron", INFOFLAG_INVISIBLE)	// 再表示

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -392.450f , 1751.266f , 36.850f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.960f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.449f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 349.373f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -4.3f , 600 )		// ロール回転

	// フェード待ち
	Wait(FADE_FAST)

	//─────────────────────────
	//	⇒いよいよだな
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// ドギ
		TalkMes("Dogi","#3689V#000e#000mアドル、お前さんたちは作戦開始後、","オケアノスの住処へ移動して待機。","")
		WaitPrompt()
		WaitCloseWindow()

	}
	//	⇒慎重に行こう
	else if (FLAG[TF_MENU_SELECT] == 2 ) {
		
		// ドギ
		TalkMes("Dogi","#3692V#000e#000mアドル、お前さんたちは作戦開始後、","オケアノスの住処へ移動して待機。","")
		WaitPrompt()
		WaitCloseWindow()
	
	}
	//─────────────────────────
	
	ChangeAnimation( "Thanatos", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	// タナトス
	TalkMes("Thanatos","#4024V#011e#000m文献によると海中にいるオケアノスは","一定間隔で海上に姿を現すようじゃ。","")
	WaitPrompt()
	
	LookChr("Thanatos", "ADOL")
	
	// タナトス
	TalkMes("Thanatos","#4025V#012e#000mわしらは頃合いを見て、","海上に現れたヤツに総攻撃を始める。","")
	WaitPrompt()
	
	// うなずきセット
	HeadYes("Thanatos" , 1 , 25 )
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	
	// タナトス
	TalkMes("Thanatos","#4026V#000mある程度、傷を負ったらヤツは","住処へ退散して行くはずじゃ。","")
	WaitPrompt()
	WaitCloseWindow()
	
	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -389.621f , 1749.486f , 36.850f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.000f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -2.275f , 0 )	// 基本仰角
	RotateCamera( 0 , 189.963f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 2.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -389.837f , 1749.636f , 36.790f , 360 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.241f , 360 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -6.285f , 360 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 179.078f , 360 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 360 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -1.7f , 360 )		// ロール回転
	
	// 非表示・再表示
	SetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)	// 非表示
	
	// フェード待ち
	Wait(FADE_CROSS)
	
	ChangeAnimation( "HUMMEL", "ANI_EV_SIAN_S", -1, 1 )	// 思案
	
	// ヒュンメル
	TalkMes("HUMMEL","#2327V#000e#000mそして住処に戻ってきたヤツを","オレたちで仕留めるというわけか。","")
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "SAHAD", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	// サハド
	TalkMes("SAHAD","#1887V#021e#080mガハハ、作戦といっても","確かに単純なモンだな。","")
	WaitPrompt()
	WaitCloseWindow()
	
	// カット7 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , -392.881f , 1750.394f , 36.370f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.241f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.137f , 0 )	// 基本仰角
	RotateCamera( 0 , 100.571f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , -0.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 非表示・再表示
	ResetChrInfoFlag("Katrin", INFOFLAG_INVISIBLE)	// 再表示
	
	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "RICOTTA", "ANI_EV_GUTSPOSE_S", -1, 1 )	// ガッツポーズ

	// リコッタ
	TalkMes("RICOTTA","#2757V#021e#080mリコッタも頑張る！","","")
	WaitPrompt()
	WaitCloseWindow()

	// カット8 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -391.501f , 1748.710f , 36.730f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.241f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.306f , 0 )	// 基本仰角
	RotateCamera( 0 , 142.965f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , -6.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE, 1)	// 目
	Look("DANA", 0.0f, -10.0f)	// うつむく
	LookChr("Aaron", "ADOL")
	LookChr("Licht", "ADOL")
	
	// 非表示・再表示
	SetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 非表示

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -391.355f , 1748.879f , 36.650f , 390 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.241f , 390 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.739f , 390 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 102.574f , 390 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 390 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -6.3f , 390 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	//　　ダーナに「…」エモーション表示。
	EmotionEx("DANA", 0.0f, "EMO_3DOT", 27, 5, 1, 1, 0.8f)	// 「…」
	Wait(52)
	
	Look("DANA", 0.0f, 0.0f)	// うつむく
	ChangeSubAnimation("DANA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)	// 目
	
	// ダーナ
	TalkMes("DANA","#3246V#000e#000mオケアノスは陸に上がれないとはいえ、","何が起こるか分かりません……","")
	WaitPrompt()
	
	// ダーナ
	TalkMes("DANA","#3247V決して油断をしないでください。","","")
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	HeadYes("LAXIA" , 1 , 25 )
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(10)
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(5)
	
	ChangeAnimation( "LAXIA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
	
	// ラクシャ
	TalkMes("LAXIA","#1081V#051e#000mそうですね、皆さんに危険が","及ばなければいいのですが……","")
	WaitPrompt()
	WaitCloseWindow()

	// カット9 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -390.597f , 1751.661f , 36.770f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.721f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.160f , 0 )	// 基本仰角
	RotateCamera( 0 , 304.521f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	ChangeAnimation( "HUMMEL", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "SAHAD", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "RICOTTA", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "Thanatos", "ANI_WAIT", -1, 1 )	// 待機

	// 非表示・再表示
	SetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 非表示

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -390.070f , 1750.002f , 36.630f , 600 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.481f , 600 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.131f , 600 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 346.050f , 600 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 600 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 0.3f , 600 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)
	
	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	LookReset("Aaron")

	// エアラン
	TalkMes("Aaron","#3935V#011e#080mフン、多少の危険は覚悟の上だ。","","")
	WaitPrompt()

	LookChr("Aaron", "ADOL")
	
	// エアラン
	TalkMes("Aaron","#3936V#012e#000mこれまでしんどい役目は","お前たちに任せきりだったからなァ。","")
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Licht", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て

	// リヒト
	TalkMes("Licht","#4315V#000e#000mせ、せめてこれくらいのことは","務めさせてください。","")
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Aaron", "Licht")
	Wait(5)
	ChangeAnimation( "Aaron", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	// エアラン
	TalkMes("Aaron","#3937V#000e#080mおいおい、リヒト先生。","足が仔羊のように震えてるぜ？","")
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Licht", "Aaron")
	ChangeAnimation( "Licht", "ANI_EV_TEMUNE_E", -1, 1 )	// 手胸当て

	// リヒト
	TalkMes("Licht","#4316V#061e#000mこ、これは武者震いです！","","")
	WaitPrompt()
	WaitCloseWindow()

	LookChr("Katrin", "ADOL")

	// カトリーン
	TalkMes("Katrin","#4122V#000e#080mフフ……アドル、取りは頼んだわよ。",
	"取り2行目","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	// カット10 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , -392.453f , 1749.012f , 36.730f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.239f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.178f , 0 )	// 基本仰角
	RotateCamera( 0 , 282.910f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	LookChr("ADOL", "Katrin")
	LookChr("Aaron", "ADOL")
	LookChr("Licht", "ADOL")

	ChangeSubAnimation("Licht",SUBMOT_EYE,ANI_E_WAIT,1)

	// 非表示・再表示
	ResetChrInfoFlag("HUMMEL", INFOFLAG_INVISIBLE)	// 再表示
	ResetChrInfoFlag("SAHAD", INFOFLAG_INVISIBLE)	// 再表示

	// フェード待ち
	Wait(FADE_CROSS)
	Wait(10)

	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"ああ、精一杯やってみる")
	MenuAdd(2,"大船に乗った気持ちでいてくれ")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	PlayVoice(Y8V_0156,"ADOL",100)	//ああ（肯定）
	HeadYes("ADOL", 1, 25)	// キャラ, うなずき回数, 速さ
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_WAIT_S,1)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(30)
	ChangeSubAnimation("ADOL",SUBMOT_MOUTH,ANI_M_WAIT,1)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始

	Wait(10)
	ChangeAnimation( "Katrin", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組

	//─────────────────────────
	//	⇒ああ、精一杯やってみる
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		// カトリーン
		TalkMes("Katrin","#4123V#081e#080mあなたなら大丈夫だと思うけど、","無事に帰ってくるのよ。","")
		WaitPrompt()
		WaitCloseWindow()

	}
	//	⇒大船に乗った気持ちでいてくれ
	else if (FLAG[TF_MENU_SELECT] == 2 ) {

		// カトリーン
		TalkMes("Katrin","#4124V#081e#080mあはは、気負う必要はないよ。","応援しているからね。","")
		WaitPrompt()
		WaitCloseWindow()

	}
	//─────────────────────────
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -392.538f , 1749.035f , 36.790f , 70 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.239f , 70 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 1.173f , 70 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 320.719f , 70 )
	
	Wait(35)
	
	LookChr("ADOL", "Dogi")
	
	// ドギ
	TalkMes("Dogi","#3693V#000e#000mよし、それじゃあ、","そろそろ始めるとしようぜ。","")
	WaitPrompt()
	WaitCloseWindow()

	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰

	// ドギ
	TalkMes("Dogi","#3694Vアドル、ここはやっぱり","お前さんが号令をかけてくれや。","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	//　　アドル、頷いてから腕を掲げる
	
	// うなずきセット
	HeadYes("ADOL" , 1 , 25 )
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("ADOL", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(20)
	
	// カット11 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -393.426f , 1747.901f , 36.110f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.759f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.896f , 0 )	// 基本仰角
	RotateCamera( 0 , 314.758f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , -2.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	SetChrPos("ADOL", -392.84f, 1748.39f, 35.18f)
	Turn("ADOL", -142.78f, 360.0f)
	SetChrPos("DANA", -391.45f, 1748.14f, 35.20f)
	Turn("DANA", 146.16f, 360.0f)
	SetChrPos("LAXIA", -393.24f, 1749.56f, 35.18f)
	Turn("LAXIA", -50.40f, 360.0f)
	SetChrPos("Aaron", -390.64f, 1751.85f, 35.20f)
	Turn("Aaron", 24.63f, 360.0f)
	Turn("SAHAD", 121.28f, 360.0f)
	Turn("HUMMEL", 99.97f, 360.0f)
	LookReset("ADOL")
	LookChr("DANA", "ADOL")
	LookChr("LAXIA", "ADOL")
	LookChr("RICOTTA", "ADOL")
	LookChr("SAHAD", "ADOL")
	LookChr("HUMMEL", "ADOL")
	ChangeSubAnimation("SAHAD", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("RICOTTA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("LAXIA", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeAnimation( "LAXIA", "ANI_WAIT", -1, 1 )	// 待機
	ChangeAnimation( "Katrin", "ANI_WAIT", -1, 1 )	// 待機
	ChangeSubAnimation("ADOL",SUBMOT_EYE,ANI_E_MAJI,1)
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -393.266f , 1748.168f , 36.950f , 120 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.439f , 120 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.761f , 120 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 315.327f , 120 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 120 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -0.3f , 120 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_NORMAL)
	
	Wait(15)
	
	ChangeAnimation( "ADOL", "ANI_EV_KAKAGE_S", -1, 1 )	// 剣をかかげる
	WaitAnimation2("ADOL", -1, 1, "ANI_EV_KAKAGE_S", 0)

	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	
	//選択肢
	SetFlag(TF_MENU_SELECT,0)
	MenuReset()
	MenuType(MENUTYPE_POPUP)
	MenuAdd(1,"閉ざされたこの海を解放するぞ！")
	MenuAdd(2,"船長の弔い合戦だ、力を貸してくれ！")
	MenuOpen( TF_MENU_SELECT , -1 , ADOLMENU_PPOSY , -2 , -2 , 10 , 0)
	WaitMenu(0)
	MenuClose(10,0)

	Wait(10)
	
	CrossFade(FADE_NORMAL)

	MoveCameraAt( 0 , -392.549f , 1748.592f , 36.677f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.498f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 15.065f , 0 )	// 基本仰角
	RotateCamera( 0 , 157.015f , 0 )				// 角度
	ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , -6.3f , 0 )				// ロール回転

	Wait(FADE_NORMAL)

	//─────────────────────────
	//	⇒閉ざされたこの海を解放するぞ！
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		PlayVoice(SVO_ADL_UNI_3 ,"ADOL" , 100)	 //閉ざされたこの海を解放するぞ！
		Wait(90)

	}
	//	⇒船長の弔い合戦だ、力を貸してくれ！
	else if (FLAG[TF_MENU_SELECT] == 2 ) {

		PlayVoice(SVO_ADL_UNI_4 ,"ADOL" , 100)	 //船長の弔い合戦だ、力を貸してくれ！
		Wait(120)
		
	}
	//─────────────────────────

	Blur(BLUR_TYPE_AFTERIMAGE,0.45f , 25)
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -392.887f , 1749.051f , 35.363f , 25 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 8.797f  , 25 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 22.681f , 25 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 121.473f , 25 )
	ExecuteCmd(1004, RollCamera, INTERPOLATE_SPHERE , 4.0f , 25 )

	//MoveCameraAt( 0 , -392.887f , 1749.051f , 35.363f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 8.797f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 22.681f , 0 )	// 基本仰角
	//RotateCamera( 0 , 121.473f , 0 )				// 角度
	//ChangeCameraPers( 0 , 35.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	//RollCamera( 0 , 4.0f , 0 )				// ロール回転

	//─────────────────────────
	//	⇒閉ざされたこの海を解放するぞ！
	if (FLAG[TF_MENU_SELECT] == 1 ) {

		SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
		Wait(10)	// 字幕待ち
		EarthQuake( 0.05f , 0.05f , 10 )	// 縦揺れ幅, 横揺れ幅, 時間
		
		ChangeAnimation( "Dogi", "ANI_EV_YARUKI_S", -1, 1 )	// こぶしたたきつける
		ChangeAnimation( "RICOTTA", "ANI_EV_GUTSPOSE_S", -1, 1 )	// ガッツポーズ
		ChangeAnimation( "Aaron", "ANI_EV_GUTSPOSE_S", -1, 1 )	// ガッツポーズ
		HeadYes("HUMMEL", 1, 25)	// キャラ, うなずき回数, 速さ
		HeadYes("Thanatos", 1, 25)	// キャラ, うなずき回数, 速さ
		HeadYes("LAXIA", 1, 25)	// キャラ, うなずき回数, 速さ
		HeadYes("Licht", 1, 25)	// キャラ, うなずき回数, 速さ
		ChangeAnimation( "DANA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
		ChangeAnimation( "SAHAD", "ANI_EV_MUNEDON_S", -1, 1 )	// 胸たたき
		ChangeAnimation( "HUMMEL", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
		ChangeAnimation( "Katrin", "ANI_EV_GUTSPOSE_S", -1, 1 )	// ガッツポーズ
		
		PlayVoice(Y8V_5889 ,"SAHAD" , 100)
		PlayVoice(Y8V_5890 ,"Dogi" , 100)

		// 漂流者たち
		TalkMes(UNDEF,"#18Sおおっ！！","","")	//（フォント大＋クエイク）
		WaitPrompt()
		WaitCloseWindow()
	}
	//	⇒船長の弔い合戦だ、力を貸してくれ！
	else if (FLAG[TF_MENU_SELECT] == 2 ) {

		SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
		Wait(10)	// 字幕待ち
		EarthQuake( 0.05f , 0.05f , 10 )	// 縦揺れ幅, 横揺れ幅, 時間
		
		ChangeAnimation( "Dogi", "ANI_EV_YARUKI_S", -1, 1 )	// こぶしたたきつける
		ChangeAnimation( "RICOTTA", "ANI_EV_GUTSPOSE_S", -1, 1 )	// ガッツポーズ
		ChangeAnimation( "Aaron", "ANI_EV_GUTSPOSE_S", -1, 1 )	// ガッツポーズ
		HeadYes("HUMMEL", 1, 25)	// キャラ, うなずき回数, 速さ
		HeadYes("Thanatos", 1, 25)	// キャラ, うなずき回数, 速さ
		HeadYes("LAXIA", 1, 25)	// キャラ, うなずき回数, 速さ
		HeadYes("Licht", 1, 25)	// キャラ, うなずき回数, 速さ
		ChangeAnimation( "DANA", "ANI_EV_TEMUNE_S", -1, 1 )	// 手胸当て
		ChangeAnimation( "SAHAD", "ANI_EV_MUNEDON_S", -1, 1 )	// 胸たたき
		ChangeAnimation( "HUMMEL", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
		ChangeAnimation( "Katrin", "ANI_EV_GUTSPOSE_S", -1, 1 )	// ガッツポーズ

		PlayVoice(Y8V_5891 ,"SAHAD" , 100)
		PlayVoice(Y8V_5892 ,"Dogi" , 100)

		// 漂流者たち
		TalkMes(UNDEF,"#18Sおおおっ！！！","","")	//（フォント大＋クエイク）
		WaitPrompt()
		WaitCloseWindow()

	}
	//─────────────────────────

	Wait(10)

	// カット12 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , -392.771f , 1751.324f , 36.756f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.479f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.862f , 0 )	// 基本仰角
	RotateCamera( 0 , 24.225f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , -0.3f , 0 )				// ロール回転

	LookReset("Thanatos")

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -392.854f , 1751.268f , 36.756f , 100 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.479f , 100 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.862f , 100 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 17.061f , 100 )
	
	// フェード待ち
	Wait(FADE_CROSS)

	ChangeAnimation( "Thanatos" , "ANI_EV_UDEGUMI_S", -1 , 1 )
	// タナトス
	TalkMes("Thanatos","#4027V#000e#000mよし、作戦開始じゃ。","","")
	WaitPrompt()
	
	LookChr("Thanatos", "ADOL")
	
	// タナトス
	TalkMes("Thanatos","#4028Vアドル、お前さんたちは","すぐにヤツの住処へ向かってくれ！","")
	WaitPrompt()
	WaitCloseWindow()
	ResetStopFlag(STOPFLAG_CINEMA)

	Wait(20)

	//　　ここで操作許可。

	SetEnvSEPlayState(-1, 0)	//環境SE全停止
	StopBGM(120)

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了
	
	//終了処理ここから----------------------------------------------------
	CallFunc("mp6115v1:EV_M05S280_ED")
}

function "EV_M05S280_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//NowLoading 時の Tips 表示をカット
	SetFlag(TF_LOADING_TIPS_OFF, 1)

	StopBGM(60)
	//イベント・ギャラリー中
	if(FLAG[TF_EVSKIP] && FLAG[SF_GALLERY_EVENT])
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}
	// 通常時
	else
	{
		LoadArg("map/mp6370/mp6370.arg")
		EventCue("mp6370:EV_M05S290")

		ResetStopFlag(STOPFLAG_EVENT)
	}
	//終了処理ここまで----------------------------------------------------
}


function "EV_M05S291"			//オケアノスに攻撃を開始する
{
	//開始処理ここから-----------------------------------------------

	SetStopFlag(STOPFLAG_EVENTIMPOSE)
	ResetStopFlag(STOPFLAG_CINEMA)

	FadeOut(FADE_BLACK, 0)
	WaitFade()

	//シスター・ニアの衣装制御
	if (FLAG[GF_QS311_LOOK_EVENT]){		// 【QS311】▼衣装を破れたイベント を見た
		SetChrID( "Nia_2", "Nia")		// 破れ衣装
	} else {
		SetChrID( "Nia_1", "Nia")		// 初期衣装
	}

	// 任意合流NPC読み込み
	if (FLAG[GF_SUBEV_JOIN_FRANZ])	{ LoadChr("Franz") }
	if (FLAG[GF_SUBEV_JOIN_NIA])	{ LoadChr("Nia") }
	if (FLAG[GF_SUBEV_JOIN_AUSTEN])	{ LoadChr("Austen") }
	if (FLAG[GF_SUBEV_JOIN_REJA])	{ LoadChr("Reja") }
	if (FLAG[GF_SUBEV_JOIN_KASHU])	{ LoadChr("Kashu") }
	if (FLAG[GF_SUBEV_JOIN_MIRALDA]){ LoadChr("Miralda") }
	if (FLAG[GF_SUBEV_JOIN_SILVIA])	{ LoadChr("Silvia") }

	//イベント開始前情報の保存
	SaveEventState()
	SaveCamera()

	//パーティ状態のリセット
	CallFunc("system:party_reset")

	//環境の初期化・不要なものを隠す
	ClearDebris()
	ResetChrPos((CHRTYPE_MONS | REMOVE_POS))
	ResetChrPos((CHRTYPE_PLAYER | REMOVE_POS))

	SetChrPos("ADOL",-100000.0f, 0.0f, 0.0f)
	SetChrPos("DANA",-100000.0f, 0.0f, 0.0f)
	SetChrPos("LAXIA",-100000.0f, 0.0f, 0.0f)
	SetChrPos("SAHAD",-100000.0f, 0.0f, 0.0f)
	SetChrPos("RICOTTA",-100000.0f, 0.0f, 0.0f)
	SetChrPos("HUMMEL",-100000.0f, 0.0f, 0.0f)

	// 配置
	SetChrPos("Dogi",-401.14f, 1755.94f, 35.12f)
	Turn("Dogi",152.55f,360.0f)
	SetChrPos("Thanatos",-402.24f, 1755.33f, 35.11f)
	Turn("Thanatos",173.86f,360.0f)
	SetChrPos("Aaron",-396.41f, 1752.80f, 35.15f)
	Turn("Aaron",124.11f,360.0f)
	
	SetChrPos("Licht",-383.22f, 1749.67f, 35.23f)
	Turn("Licht",113.46f,360.0f)
	SetChrPos("Katrin",-402.57f, 1751.23f, 35.12f)
	Turn("Katrin",152.54f,360.0f)
	SetChrPos("Paro",-394.52f, 1757.18f, 36.89f)
	Turn("Paro",145.44f,360.0f)

	SetChrPos("Alison",-403.83f, 1741.85f, 35.12f)
	Turn("Alison",-154.16f,360.0f)
	SetChrPos("Ed",-405.72f, 1740.81f, 35.11f)
	Turn("Ed",-154.16f,360.0f)
	if (FLAG[GF_SUBEV_JOIN_FRANZ]) {
		SetChrPos("Franz",-404.66f, 1748.38f, 35.11f)
		Turn("Franz",-173.08f,360.0f)
	}
	if (FLAG[GF_SUBEV_JOIN_NIA]) {
		SetChrPos("Nia",-408.24f, 1748.10f, 35.08f)
		Turn("Nia",159.65f,360.0f)
	}
	
	SetChrPos("Dina",-402.56f, 1747.63f, 35.13f)
	Turn("Dina",152.54f,360.0f)
	if (FLAG[GF_SUBEV_JOIN_AUSTEN]) {
		SetChrPos("Austen",-392.86f, 1749.66f, 35.18f)
		Turn("Austen",131.22f,360.0f)
	}
	if (FLAG[GF_SUBEV_JOIN_REJA]) {
		SetChrPos("Reja",-399.80f, 1746.37f, 35.15f)
		Turn("Reja",-132.85f,360.0f)
	}
	
	if (FLAG[GF_SUBEV_JOIN_KASHU]) {
		SetChrPos("Kashu",-395.41f, 1749.62f, 35.16f)
		Turn("Kashu",134.77f,360.0f)
	}
	SetChrPos("Kuina",-385.47f, 1752.83f, 35.19f)
	Turn("Kuina",102.80f,360.0f)
	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		SetChrPos("Miralda",-393.22f, 1754.16f, 35.17f)
		Turn("Miralda",117.02f,360.0f)
	}
	if (FLAG[GF_SUBEV_JOIN_SILVIA]) {
		SetChrPos("Silvia",-392.40f, 1752.04f, 35.18f)
		Turn("Silvia",117.02f,360.0f)
	}

	SetChrPos("TOUSEKIKI_1", -405.21f, 1744.41f, 35.21f)	// 投石器A
	Turn("TOUSEKIKI_1", 138.33f, 360.0f)
	SetChrPos("TOUSEKIKI_2", -398.75f, 1749.54f, 35.21f)	// 投石器B
	Turn("TOUSEKIKI_2", 156.10f, 360.0f)
	SetChrPos("TOUSEKIKI_3", -382.86f, 1754.72f, 35.21f)	// 投石器C
	Turn("TOUSEKIKI_3", 145.43f, 360.0f)
	
	//キャラ初期状態の設定
	ChangeAnimation("Dogi", "ANI_EV_UDEGUMI", -1, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE, 1)
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dogi", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dogi")
	SetChrInfoFlag("Dogi", INFOFLAG_NOCHRATARI)

	ChangeAnimation("Thanatos", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Thanatos", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Thanatos")
	SetChrInfoFlag("Thanatos", INFOFLAG_NOCHRATARI)

	ChangeAnimation("Aaron", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Aaron", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Aaron")
	SetChrInfoFlag("Aaron", INFOFLAG_NOCHRATARI)
	
	ChangeAnimation("Licht", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Licht", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Licht", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Licht", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Licht")
	SetChrInfoFlag("Licht", INFOFLAG_NOCHRATARI)
	
	ChangeAnimation("Katrin", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Katrin", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Katrin", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Katrin", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Katrin")
	SetChrInfoFlag("Katrin", INFOFLAG_NOCHRATARI)
	
	ChangeAnimation("Dina", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Dina", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Dina", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Dina", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Dina")
	SetChrInfoFlag("Dina", INFOFLAG_NOCHRATARI)
	
	ChangeAnimation("Ed", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Ed", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Ed", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Ed", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Ed")
	SetChrInfoFlag("Ed", INFOFLAG_NOCHRATARI)
	
	if (FLAG[GF_SUBEV_JOIN_KASHU]) {
		ChangeAnimation("Kashu", "ANI_WAIT", -1, 1)
		ChangeSubAnimation("Kashu", SUBMOT_EYE, ANI_E_WAIT, 1)
		ChangeSubAnimation("Kashu", SUBMOT_MOUTH, ANI_M_WAIT, 1)
		ChangeSubAnimation("Kashu", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		LookReset("Kashu")
		SetChrInfoFlag("Kashu", INFOFLAG_NOCHRATARI)
	}
	
	ChangeAnimation("Alison", "ANI_EV_TOUSEKI", -1, 1)
	ChangeSubAnimation("Alison", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Alison", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Alison", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Alison")
	SetChrInfoFlag("Alison", INFOFLAG_NOCHRATARI)

	ChangeAnimation("Kuina", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Kuina", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	ChangeSubAnimation("Kuina", SUBMOT_EXT1, ANI_E_LOOKC, 1)
	LookReset("Kuina")
	SetChrInfoFlag("Kuina", INFOFLAG_NOCHRATARI)
	
	if (FLAG[GF_SUBEV_JOIN_FRANZ]) {
		ChangeAnimation("Franz", "ANI_WAIT", -1, 1)
		ChangeSubAnimation("Franz", SUBMOT_EYE, ANI_E_WAIT, 1)
		ChangeSubAnimation("Franz", SUBMOT_MOUTH, ANI_M_WAIT, 1)
		ChangeSubAnimation("Franz", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		LookReset("Franz")
		SetChrInfoFlag("Franz", INFOFLAG_NOCHRATARI)
	}
	
	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		ChangeAnimation("Miralda", "ANI_WAIT", -1, 1)
		ChangeSubAnimation("Miralda", SUBMOT_EYE, ANI_E_WAIT, 1)
		ChangeSubAnimation("Miralda", SUBMOT_MOUTH, ANI_M_WAIT, 1)
		ChangeSubAnimation("Miralda", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		LookReset("Miralda")
		SetChrInfoFlag("Miralda", INFOFLAG_NOCHRATARI)
	}
	
	if (FLAG[GF_SUBEV_JOIN_REJA]) {
		ChangeAnimation("Reja", "ANI_WAIT", -1, 1)
		ChangeSubAnimation("Reja", SUBMOT_EYE, ANI_E_WAIT, 1)
		ChangeSubAnimation("Reja", SUBMOT_MOUTH, ANI_M_WAIT, 1)
		ChangeSubAnimation("Reja", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		LookReset("Reja")
		SetChrInfoFlag("Reja", INFOFLAG_NOCHRATARI)
	}

	if (FLAG[GF_SUBEV_JOIN_AUSTEN]) {
		ChangeAnimation("Austen", "ANI_WAIT", -1, 1)
		ChangeSubAnimation("Austen", SUBMOT_EYE, ANI_E_WAIT, 1)
		ChangeSubAnimation("Austen", SUBMOT_MOUTH, ANI_M_WAIT, 1)
		ChangeSubAnimation("Austen", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		LookReset("Austen")
		SetChrInfoFlag("Austen", INFOFLAG_NOCHRATARI)
	}
	
	if (FLAG[GF_SUBEV_JOIN_NIA]) {
		ChangeAnimation("Nia", "ANI_WAIT", -1, 1)
		ChangeSubAnimation("Nia", SUBMOT_EYE, ANI_E_WAIT, 1)
		ChangeSubAnimation("Nia", SUBMOT_MOUTH, ANI_M_WAIT, 1)
		ChangeSubAnimation("Nia", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		LookReset("Nia")
		SetChrInfoFlag("Nia", INFOFLAG_NOCHRATARI)
	}
	
	if (FLAG[GF_SUBEV_JOIN_SILVIA]) {
		ChangeAnimation("Silvia", "ANI_WAIT", -1, 1)
		ChangeSubAnimation("Silvia", SUBMOT_EYE, ANI_E_WAIT, 1)
		ChangeSubAnimation("Silvia", SUBMOT_MOUTH, ANI_M_WAIT, 1)
		ChangeSubAnimation("Silvia", SUBMOT_EXT1, ANI_E_LOOKC, 1)
		LookReset("Silvia")
		SetChrInfoFlag("Silvia", INFOFLAG_NOCHRATARI)
	}
	
	ChangeAnimation("Paro", "ANI_WAIT", -1, 1)
	ChangeSubAnimation("Paro", SUBMOT_EYE, ANI_E_WAIT, 1)
	ChangeSubAnimation("Paro", SUBMOT_MOUTH, ANI_M_WAIT, 1)
	LookReset("Paro")
	SetChrInfoFlag("Paro", INFOFLAG_NOCHRATARI)

	//負荷対策	
	SetChrInfoFlag("Dogi", 		INFOFLAG_NOREALSHADOW)
	SetChrInfoFlag("Thanatos",	INFOFLAG_NOREALSHADOW)
	SetChrInfoFlag("Aaron",		INFOFLAG_NOREALSHADOW)
	SetChrInfoFlag("Licht",		INFOFLAG_NOREALSHADOW)
	SetChrInfoFlag("Katrin",	INFOFLAG_NOREALSHADOW)
	SetChrInfoFlag("Dina",		INFOFLAG_NOREALSHADOW)
	SetChrInfoFlag("Ed",		INFOFLAG_NOREALSHADOW)
	SetChrInfoFlag("Alison",	INFOFLAG_NOREALSHADOW)
	SetChrInfoFlag("Kuina",		INFOFLAG_NOREALSHADOW)
	if (FLAG[GF_SUBEV_JOIN_KASHU]) {
		SetChrInfoFlag("Kashu",		INFOFLAG_NOREALSHADOW)
	}
	if (FLAG[GF_SUBEV_JOIN_FRANZ]) {
		SetChrInfoFlag("Franz",		INFOFLAG_NOREALSHADOW)
	}
	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		SetChrInfoFlag("Miralda",	INFOFLAG_NOREALSHADOW)
	}
	if (FLAG[GF_SUBEV_JOIN_REJA]) {
		SetChrInfoFlag("Reja",		INFOFLAG_NOREALSHADOW)
	}
	if (FLAG[GF_SUBEV_JOIN_AUSTEN]) {
		SetChrInfoFlag("Austen",	INFOFLAG_NOREALSHADOW)
	}
	if (FLAG[GF_SUBEV_JOIN_NIA]) {
		SetChrInfoFlag("Nia",		INFOFLAG_NOREALSHADOW)
	}
	if (FLAG[GF_SUBEV_JOIN_SILVIA]) {
		SetChrInfoFlag("Silvia",	INFOFLAG_NOREALSHADOW)
	}
	SetChrInfoFlag("Paro",		INFOFLAG_NOREALSHADOW)
	SetChrInfoFlag("TOUSEKIKI_1",		INFOFLAG_NOREALSHADOW)
	SetChrInfoFlag("TOUSEKIKI_2",		INFOFLAG_NOREALSHADOW)
	SetChrInfoFlag("TOUSEKIKI_3",		INFOFLAG_NOREALSHADOW)

//	SetShadowBound(192,192)

	PlayBGM(BGM_DUNGEON_801, 0)

	//マップアニメ
	MapHide("boss",0)	//オケアノス仮を削除
	MapAnime(EVENT_oke,end)

	// エフェクトロード
//	LoadEffect("efx_ev02.ite")	
	LoadEffect("efx_ev05.ite")
	LoadEffect("b007.ite")
	LoadEffect("m1005.ite")

	//カメラ設定
	MoveCameraAt( 0 , -397.619f , 1757.829f , 38.629f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 9.743f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 17.529f , 0 )	// 基本仰角
	RotateCamera( 0 , 152.063f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1000.000f )			// ZPlane
	RollCamera( 0 , -1.4f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 被写界深度の設定
	SetDoF(0, LERP_LINEAR, 5.000, 170.000, 0.000, 0.700, 0.500)					//イベント毎に調整
	// グレアの設定
	SetGlare(0, LERP_LINEAR, 0.700, 1.300, 1.000, 1.000, 0.600, 0.000, 1.000)	//イベント毎に調整

	//スキップ許可
	SetSkipScript("mp6115v1:EV_M05S291_ED")

	//開始処理ここまで-----------------------------------------------

	//　　画面フェードインして、地上にいるドギとタナトスたち。
	//　　全員配置についていて大穴周辺を見つめているのを見せる。

	// カット1 ----------------------------------------------------------------------------------------
	
	// 投石器に岩をセット
	ChrEffect("TOUSEKIKI_1",3529114,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.0f, 1.0f)	// 投石器A
	ChrEffect("TOUSEKIKI_2",3529114,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.0f, 1.0f)	// 投石器B
	ChrEffect("TOUSEKIKI_3",3529114,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.0f, 1.0f)	// 投石器C
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -409.194f , 1747.632f , 36.525f , 145 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 8.063f , 145 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.346f , 145 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 262.646f , 145 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 60.000f , 145 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -7.2f , 145 )		// ロール回転

	// フェードイン
	FadeIn(FADE_BLACK,FADE_NORMAL)
	WaitFade()

	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	
	Wait(10)
	
	// カット2 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
 	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
 	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)



	// カメラ
	MoveCameraAt( 0 , -402.575f , 1756.529f , 36.665f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.583f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.665f , 0 )	// 基本仰角
	RotateCamera( 0 , 248.049f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 0.3f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -402.628f , 1756.052f , 36.725f , 55 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.583f , 55 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -7.108f , 55 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 258.347f , 55 )

	// フェード待ち
	Wait(FADE_CROSS)

	Wait(15)
	FadeBGM(70,10)

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)

	// タナトス
	TalkMes("Thanatos","#4029V#011e#000mフム…………","","")
	WaitPrompt()
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -401.647f , 1756.467f , 36.885f , 240 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.583f , 240 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.918f , 240 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 185.574f , 240 )
	
	LookChr("Thanatos", "Dogi")
	
	// タナトス
	TalkMes("Thanatos","#4030V#012e#000mドギよ、そろそろアドルたちが",
		"住処に到着している頃じゃな。","")
	WaitPrompt()
	WaitCloseWindow()

	// うなずきセット
	HeadYes("Dogi" , 1 , 25 )
	Wait(15)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	// ドギ
	TalkMes("Dogi","#3695V#000mええ、そのはずですぜ。","","")
	WaitPrompt()
	WaitCloseWindow()

	//　　後ろを振り向き、漂流者たちに声をかけるドギ
	
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組

	LookChr("Thanatos","Dogi")
	LookChr("Aaron","Dogi")
	LookChr("Licht","Dogi")
	LookChr("Katrin","Dogi")
	LookChr("Alison","Dogi")
	LookChr("Ed","Dogi")
	if (FLAG[GF_SUBEV_JOIN_FRANZ]) {
		LookChr("Franz","Dogi")
	}
	if (FLAG[GF_SUBEV_JOIN_NIA]) {
		LookChr("Nia","Dogi")
	}
	LookChr("Dina","Dogi")
	if (FLAG[GF_SUBEV_JOIN_AUSTEN]) {
		LookChr("Austen","Dogi")
	}
	if (FLAG[GF_SUBEV_JOIN_REJA]) {
		LookChr("Reja","Dogi")
	}
	if (FLAG[GF_SUBEV_JOIN_KASHU]) {
		LookChr("Kashu","Dogi")
	}
	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		LookChr("Miralda","Dogi")
	}
	if (FLAG[GF_SUBEV_JOIN_SILVIA]) {
		LookChr("Silvia","Dogi")
	}
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -401.168f , 1755.975f , 37.165f , 80 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.263f , 80 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.787f , 80 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 162.937f , 80 )
	
	WaitAnimation2("Dogi", -1, 1, "ANI_EV_UDEGUMI_E", 0)
	Turn("Dogi", -29.80f, 10.0f)
	
	LookReset("Thanatos")
	Turn("Thanatos", -47.57f, 8.0f)
	
	Wait(10)
	LookSpd("Dogi", 0.2f, 0.2f, 0.2f )// ゆっくりめに首向き
	Look("Dogi", 40.0f, 0.0f)	// ←（＾＾）
	Wait(20)
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	
	Wait(10)
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -401.168f , 1755.975f , 37.165f , 300 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.264f , 300 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.787f , 300 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 244.292f , 300 )
	
	// ドギ
	TalkMes("Dogi","#3696V#000e#000m次にヤツが浮上した時が",
		"決戦開始の合図ってコトだ。","")
	WaitPrompt()
	
	Look("Dogi", -40.0f, 0.0f)	// ←（＾＾）
	
	ChangeAnimation( "Dogi", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	
	// ドギ
	TalkMes("Dogi","#3697V#000e#000mみんな、準備はいいか？","","")
	WaitPrompt()
	WaitCloseWindow()

 	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
	if (FLAG[GF_SUBEV_JOIN_KASHU]) {
	 	SetChrWork("Kashu", CWK_DEFAULT_SKIPNODE_OFF, 1)
	}
 	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		SetChrWork("Miralda", CWK_DEFAULT_SKIPNODE_OFF, 1)
	}
 	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)


	EarthQuake( 0.05f , 0.05f , 10 )	// 縦揺れ幅, 横揺れ幅, 時間
	ChangeAnimation( "Aaron", "ANI_EV_YARUKI_S", -1, 1 )	// こぶしたたきつける
	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		ChangeAnimation( "Miralda", "ANI_EV_GUTSPOSE_S", -1, 1 )	// ガッツポーズ
	}
	if (FLAG[GF_SUBEV_JOIN_KASHU]) {
		ChangeAnimation( "Kashu", "ANI_EV_GUTSPOSE_S", -1, 1 )	// ガッツポーズ
	}
	ChangeAnimation( "Licht", "ANI_EV_GUTSPOSE_S", -1, 1 )	// ガッツポーズ
	if (FLAG[GF_SUBEV_JOIN_SILVIA]) {
		ChangeAnimation( "Silvia", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	}
	if (FLAG[GF_SUBEV_JOIN_AUSTEN]) {
		ChangeAnimation( "Austen", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰
	}

	PlayVoice(Y8V_5890 ,"Dogi" , 90)
	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		PlayVoice(Y8V_5893 ,"Miralda" , 70)
	}
	Wait(5)
	if (FLAG[GF_SUBEV_JOIN_SILVIA]) {
		PlayVoice(Y8V_5894 ,"Silvia" , 60)
	}

	//	漂流者たち
	TalkMes(UNDEF,"#18Sおお！！","","")	//（大フォント＋クエイク）
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	// カット3 ----------------------------------------------------------------------------------------

	//　　カメラ切り替わって、大穴付近の海面を映す。
	//　　海の色が徐々に濃くなり海面が盛り上がっていく。
	//　　海上に姿を現すオケアノス。

	// クロスフェード
	CrossFade(45)
 	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Ed", CWK_DEFAULT_SKIPNODE_OFF, 0)
	if (FLAG[GF_SUBEV_JOIN_KASHU]) {
	 	SetChrWork("Kashu", CWK_DEFAULT_SKIPNODE_OFF, 0)
	}
 	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Kuina", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	if (FLAG[GF_SUBEV_JOIN_FRANZ]) {
		SetChrWork("Franz", CWK_DEFAULT_SKIPNODE_OFF, 0)
	}
 	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		SetChrWork("Miralda", CWK_DEFAULT_SKIPNODE_OFF, 0)
	}
 	if (FLAG[GF_SUBEV_JOIN_REJA]) {
		SetChrWork("Reja", CWK_DEFAULT_SKIPNODE_OFF, 0)
	}
 	if (FLAG[GF_SUBEV_JOIN_AUSTEN]) {
		SetChrWork("Austen", CWK_DEFAULT_SKIPNODE_OFF, 0)
	}
 	if (FLAG[GF_SUBEV_JOIN_NIA]) {
		SetChrWork("Nia", CWK_DEFAULT_SKIPNODE_OFF, 0)
	}
 	if (FLAG[GF_SUBEV_JOIN_SILVIA]) {
		SetChrWork("Silvia", CWK_DEFAULT_SKIPNODE_OFF, 0)
	}
 	SetChrWork("Paro", CWK_DEFAULT_SKIPNODE_OFF, 0)

	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -384.431f , 1770.212f , 25.507f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 36.360f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 30.387f , 0 )	// 基本仰角
	RotateCamera( 0 , 326.410f , 0 )				// 角度
	ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , -12.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// オケアノス
	SetChrPos("ev_b007",-381.41f,1863.55f,-25.17f)
	Turn("ev_b007",58.14f,360.0f)
	PitchChr("ev_b007", -93.25f, 0)
	RollChr("ev_b007", 0.00f, 0)

//	ChangeAnimation( "ev_b007", "ANI_EV_APPEAR", -1, 1 )	// 浮上
	SetChrInfoFlag("ev_b007",	INFOFLAG_INVISIBLE)

	// 次カット用 攻撃準備 ------------------------------------ ▼

	// 配置
	SetChrPos("Dogi",-401.00f, 1756.69f, 35.06f)
	Turn("Dogi",144.30f,360.0f)
	LookReset("Dogi")
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI", -1, 1 )

	SetChrPos("Thanatos",-403.86f, 1755.37f, 35.08f)
	Turn("Thanatos",171.54f,360.0f)
	LookReset("Thanatos")
	Look("Thanatos", 0.0f, -5.0f)	// うつむく
	ChangeAnimation( "Thanatos", "ANI_WAIT", -1, 1 )

	SetChrPos("Aaron",-400.37f, 1753.43f, 35.13f)
	Turn("Aaron",127.66f,360.0f)
	LookReset("Aaron")
	ChangeAnimation( "Aaron", "ANI_WAIT", -1, 1 )

	SetChrPos("Licht",-383.10f, 1750.17f, 35.23f)
	Turn("Licht",-168.37f,360.0f)
	LookReset("Licht")
	ChangeAnimation( "Licht", "ANI_WAIT", -1, 1 )

	SetChrPos("Katrin",-403.75f, 1751.38f, 35.11f)
	Turn("Katrin",148.99f,360.0f)
	LookReset("Katrin")
	ChangeAnimation( "Katrin", "ANI_EV_YUMI_HIKU", -1, 1 )	// 弓を引く
	SetChrPos("ev_yumi_4",-394.845f , 1756.574f , 37.165f)
	SetChrPos("ev_ya_4",-394.845f , 1756.574f , 37.165f)
	SetParent("ev_yumi_4", "Katrin", "Null_yumi")
	SetParent("ev_ya_4", "Katrin", "Null_ya")
	ChangeAnimation( "ev_yumi_4", "ANI_YUMI_HIKU", -1, 1 )	// 弓を引く
	
	SetChrPos("Paro",-394.52f, 1757.18f, 36.89f)
	Turn("Paro",145.44f,360.0f)

	SetChrPos("Alison",-403.83f, 1741.85f, 35.12f)
	Turn("Alison",-154.16f,360.0f)
	LookReset("Alison")
	ChangeAnimation( "Alison", "ANI_WAIT", -1, 1 )

	SetChrPos("Ed",-401.39f, 1743.15f, 35.14f)
	Turn("Ed",98.10f,360.0f)
	LookReset("Ed")
	ChangeAnimation( "Ed", "ANI_WAIT", -1, 1 )

	if (FLAG[GF_SUBEV_JOIN_FRANZ]) {
		SetChrPos("Franz",-406.96f, 1748.41f, 35.09f)
		Turn("Franz",158.50f,360.0f)
		LookReset("Franz")
		ChangeAnimation( "Franz", "ANI_EV_YUMI_HIKU", -1, 1 )	// 弓を引く
		SetChrPos("ev_ya_2",-394.845f , 1756.574f , 37.165f)
		SetChrPos("ev_yumi_2",-394.845f , 1756.574f , 37.165f)
		SetParent("ev_yumi_2", "Franz", "Null_yumi")
		SetParent("ev_ya_2", "Franz", "Null_ya")
		ChangeAnimation( "ev_yumi_2", "ANI_YUMI_HIKU", -1, 1 )	// 弓を引く
	}
	
	if (FLAG[GF_SUBEV_JOIN_NIA]) {
		SetChrPos("Nia",-410.37f, 1747.69f, 35.07f)
		Turn("Nia",159.65f,360.0f)
		LookReset("Nia")
		ChangeAnimation( "Nia", "ANI_EV_YUMI_HIKU", -1, 1 )	// 弓を引く
		SetChrPos("ev_ya_7",-394.845f , 1756.574f , 37.165f)
		SetChrPos("ev_yumi_7",-394.845f , 1756.574f , 37.165f)
		SetParent("ev_yumi_7", "Nia", "Null_yumi")
		SetParent("ev_ya_7", "Nia", "Null_ya")
		ChangeAnimation( "ev_yumi_7", "ANI_YUMI_HIKU", -1, 1 )	// 弓を引く
	}
	
	SetChrPos("Dina",-404.05f, 1748.25f, 35.11f)
	Turn("Dina",156.09f,360.0f)
	LookReset("Dina")
	ChangeAnimation( "Dina", "ANI_EV_YUMI_HIKU", -1, 1 )	// 弓を引く
	SetChrPos("ev_ya_6",-394.845f , 1756.574f , 37.165f)
	SetChrPos("ev_yumi_6",-394.845f , 1756.574f , 37.165f)
	SetParent("ev_yumi_6", "Dina", "Null_yumi")
	SetParent("ev_ya_6", "Dina", "Null_ya")
	ChangeAnimation( "ev_yumi_6", "ANI_YUMI_HIKU", -1, 1 )	// 弓を引く
	
	if (FLAG[GF_SUBEV_JOIN_AUSTEN]) {
		SetChrPos("Austen",-392.86f, 1749.66f, 35.18f)
		Turn("Austen",131.22f,360.0f)
		LookReset("Austen")
		ChangeAnimation( "Austen", "ANI_EV_HARP_WAIT", -1, 1 )	// 琴持ち待機
		SetChrPos("ev_harp",-394.845f , 1756.574f , 37.165f)
		SetParent("ev_harp", "Austen", "Null_harp")
	}
	
	if (FLAG[GF_SUBEV_JOIN_REJA]) {
		SetChrPos("Reja",-399.80f, 1746.37f, 35.15f)
		Turn("Reja",-132.85f,360.0f)
		LookReset("Reja")
		ChangeAnimation( "Reja", "ANI_EV_TOUSEKI", -1, 1 )	// 投石器操作
	}

	if (FLAG[GF_SUBEV_JOIN_KASHU]) {
		SetChrPos("Kashu",-397.40f, 1753.47f, 35.14f)
		Turn("Kashu",134.77f,360.0f)
		LookReset("Kashu")
		ChangeAnimation( "Kashu", "ANI_EV_YUMI_HIKU", -1, 1 )	// 弓を引く
		SetChrPos("ev_yumi_5",-394.845f , 1756.574f , 37.165f)
		SetChrPos("ev_ya_5",-394.845f , 1756.574f , 37.165f)
		SetParent("ev_yumi_5", "Kashu", "Null_yumi")
		SetParent("ev_ya_5", "Kashu", "Null_ya")
		ChangeAnimation( "ev_yumi_5", "ANI_YUMI_HIKU", -1, 1 )	// 弓を引く
	}
	
	SetChrPos("Kuina",-382.29f, 1752.27f, 35.21f)
	Turn("Kuina",170.31f,360.0f)
	LookReset("Kuina")
	ChangeAnimation( "Kuina", "ANI_EV_TOUSEKI", -1, 1 )	// 投石器操作

	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		SetChrPos("Miralda",-389.94f, 1756.15f, 35.16f)
		Turn("Miralda",149.00f,360.0f)
		LookReset("Miralda")
		ChangeAnimation( "Miralda", "ANI_EV_YUMI_HIKU", -1, 1 )	// 弓を引く
		SetChrPos("ev_ya_3",-394.845f , 1756.574f , 37.165f)
		SetChrPos("ev_yumi_3",-394.845f , 1756.574f , 37.165f)
		SetParent("ev_yumi_3", "Miralda", "Null_yumi")
		SetParent("ev_ya_3", "Miralda", "Null_ya")
		ChangeAnimation( "ev_yumi_3", "ANI_YUMI_HIKU", -1, 1 )	// 弓を引く
	}
	
	if (FLAG[GF_SUBEV_JOIN_SILVIA]) {
		SetChrPos("Silvia",-395.84f, 1746.92f, 35.17f)
		Turn("Silvia",120.57f,360.0f)
		LookReset("Silvia")
		ChangeAnimation( "Silvia", "ANI_WAIT", -1, 1 )
	}
	
	// -----------------------------------------------------------▲


	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,  -386.793f , 1776.817f , 25.507f , 120 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 36.360f , 120 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 30.387f , 120 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 289.671f , 120 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 50.000f , 120 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -18.2f , 120 )		// ロール回転

	//MoveCameraAt( 0 , -386.793f , 1776.817f , 25.507f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 36.360f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 30.387f , 0 )	// 基本仰角
	//RotateCamera( 0 , 289.671f , 0 )				// 角度
	//ChangeCameraPers( 0 , 60.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	//RollCamera( 0 , -18.2f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	Wait(60)

	MapAnime(EVENT_oke,start)	//★オケアノス泳ぐアニメスタート
	PlaySE(SE_M05S291_01, 70, 0, 2000, 0, 1.0f, 0)
	PlaySE(SE_M05S291_02, 100, 1, 4000, 0, 1.0f, 0)

	// 浮上
	//ResetChrInfoFlag("ev_b007",	INFOFLAG_INVISIBLE)
	//ExecuteCmd(10, MoveTo, "ev_b007", -403.62f,1853.96f,-16.17f, 1.0f, 3.0f )
	//ExecuteCmd(1, MoveZ , "ev_b007" ,-16.17f , 0 , INTERPOLATE_SPHERE  , 180 )
	//SetChrPos("ev_b007",-403.62f,1853.96f,-16.17f)
	//Turn("ev_b007",58.14f,360.0f)


	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	Wait(15)

	PlaySE(SE_M05S291_01, 50, 0, 0, 0, 1.0f, 0)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE ,-353.756f , 1824.923f , 1.167f , 390 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 27.459f, 390 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 28.152f  , 390 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 92.820f , 390 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 390 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 1.4f , 390 )		// ロール回転

	//MoveCameraAt( 0 , -353.756f , 1824.923f , 1.167f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 27.459f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 25.152f , 0 )	// 基本仰角
	//RotateCamera( 0 , 92.820f , 0 )				// 角度
	//ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	//RollCamera( 0 , 1.4f , 0 )				// ロール回転
	//// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。


//	Blur( BLUR_TYPE_AFTERIMAGE ,0.3f , 150 )	// 残像

	Wait(40)

	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
//	Slow(0.00001)
	
	StopSE(SE_M05S291_02, 4000)

	// 浮上待ち
	WaitThread(1)
	Wait(30)
	
	// カット4 ----------------------------------------------------------------------------------------

	//　　カメラを漂流者たちに戻す。
	//　　タナトスが後ろを振り返って漂流者たちに号令をかける。

	StopBGM(240)

	// クロスフェード
	CrossFade(FADE_NORMAL)
	StopThread(10)
	
 	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Ed", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Kashu", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Kuina", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Franz", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Miralda", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Reja", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Austen", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Nia", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Silvia", CWK_DEFAULT_SKIPNODE_OFF, 0)
 	SetChrWork("Paro", CWK_DEFAULT_SKIPNODE_OFF, 0)

	// カメラ
	MoveCameraAt( 0 , -404.004f , 1755.973f , 36.285f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.480f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 2.312f , 0 )	// 基本仰角
	RotateCamera( 0 , 160.977f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , -3.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -403.843f , 1755.706f , 36.725f, 55 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.480f , 55 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.553f , 55)
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 160.117f , 55 )

	// フェード待ち
	Wait(FADE_NORMAL)

	// うなずきセット
	HeadYes("Thanatos" , 1 , 25 )
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_E, 1)
	Wait(20)	
	LookReset("Thanatos")
	
	// カメラ待ち
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -403.221f , 1754.559f , 36.425f , 110 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.480f , 110 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -12.303f , 110 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 0.860f , 110 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 110 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -7.7f , 150 )		// ロール回転

	Turn("Thanatos", -38.06f, 8.0f)
	Wait(20)

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち

	ChangeAnimation( "Thanatos", "ANI_EV_RAISEHAND_S", -1, 1 )	// 号令（手を挙げる）

	// タナトス
	TalkMes("Thanatos","#4031V#16S#030e#000mよし、攻撃開始じゃ！！","","")	//（大フォント）
		WaitAnimation2("Thanatos", -1, 1, "ANI_EV_RAISEHAND_S", 0)
		Wait(30)
		ChangeAnimation( "Thanatos", "ANI_EV_GOUREI_S", -1, 1 )	// 号令（手を伸ばす）
		Wait(10)
		Blur(BLUR_TYPE_EXPAND, 0.2f, 20)	//ブラー
		PlayBGM(BGM_BOSS_005, 0)
		FadeBGM(100,0)
		Wait(40)
	ClosePrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	// カット5 ----------------------------------------------------------------------------------------

	//　　漂流者たちが一斉に矢を射かけ、投石器で攻撃を開始する。
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -405.975f , 1750.633f , 36.905f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 3.640f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.030f , 0 )	// 基本仰角
	RotateCamera( 0 , 139.804f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 6.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	SetChrPos("ev_yumi_1",-394.845f , 1756.574f , 37.165f)
	SetChrPos("ev_ya_1",-394.845f , 1756.574f , 37.165f)
	SetParent("ev_yumi_1", "Aaron", "Null_yumi")
	SetParent("ev_ya_1", "Aaron", "Null_ya")

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -400.143f , 1755.157f , 35.985f , 120 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.720f , 120 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -8.581f , 120 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 146.686f , 120 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 120 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -11.1f , 120 )		// ロール回転

	ChangeAnimation( "Katrin", "ANI_EV_YUMI_HIKU_S", -1, 1 )	// 弓を引く
	ChangeAnimation( "ev_yumi_4", "ANI_YUMI_HIKU_S", -1, 1 )	// 弓を引く
	Wait(10)
	PlaySE(SE_M05S291_07, 100, 0, 0, 0, 1.0f, 0)
	Wait(70)

	PlaySE(SE_M05S291_07, 100, 0, 0, 0, 1.0f, 0)
	ChangeAnimation( "Aaron", "ANI_EV_YUMI_HIKU_S", -1, 1 )	// 弓を引く
	ChangeSubAnimation("Aaron", SUBMOT_EYE, ANI_E_ANGER_S, 1)	// 目
	ChangeAnimation( "ev_yumi_1", "ANI_YUMI_HIKU_S", -1, 1 )	// 弓を引く

	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	
	ChangeAnimation( "Aaron", "ANI_EV_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	ChangeAnimation( "ev_yumi_1", "ANI_YUMI_UTU_S", -1, 1 )	// 弓を引く
	Wait(5)
	if (FLAG[GF_SUBEV_JOIN_FRANZ]) {
		ChangeAnimation( "Franz", "ANI_EV_YUMI_UTU_S", -1, 1 )	// 弓を放つ
		ChangeAnimation( "ev_yumi_2", "ANI_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	}
	Wait(5)
	EarthQuake( 0.01f , 0.01f , 30 )	// 縦揺れ幅, 横揺れ幅, 時間
	Blur(BLUR_TYPE_EXPAND, 0.3f, 10)	//ブラー
	if (FLAG[GF_SUBEV_JOIN_NIA]) {
		ChangeAnimation( "Nia", "ANI_EV_YUMI_UTU_S", -1, 1 )	// 弓を放つ
		ChangeAnimation( "ev_yumi_7", "ANI_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	}
	Wait(3)
	ChangeAnimation( "Katrin", "ANI_EV_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	ChangeAnimation( "ev_yumi_4", "ANI_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	Blur(BLUR_TYPE_EXPAND, 0.3f, 5)	//ブラー
	Wait(2)
	ChangeAnimation( "Dina", "ANI_EV_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	ChangeAnimation( "ev_yumi_6", "ANI_YUMI_UTU_S", -1, 1 )	// 弓を放つ

	Wait(30)
	
	// カット6 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , -399.890f , 1754.069f , 39.310f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 9.079f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 6.834f , 0 )	// 基本仰角
	RotateCamera( 0 , 258.917f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 9.2f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	ChangeAnimation( "Aaron", "ANI_EV_YUMI_HIKU", -1, 1 )	// 弓を引く
	ChangeAnimation( "ev_yumi_1", "ANI_YUMI_HIKU", -1, 1 )	// 弓を引く
	ChangeAnimation( "Katrin", "ANI_EV_YUMI_HIKU", -1, 1 )	// 弓を引く
	ChangeAnimation( "ev_yumi_4", "ANI_YUMI_HIKU", -1, 1 )	// 弓を引く
	if (FLAG[GF_SUBEV_JOIN_FRANZ]) {
		ChangeAnimation( "Franz", "ANI_EV_YUMI_HIKU", -1, 1 )	// 弓を引く
		ChangeAnimation( "ev_yumi_2", "ANI_YUMI_HIKU", -1, 1 )	// 弓を引く
	}
	if (FLAG[GF_SUBEV_JOIN_NIA]) {
		ChangeAnimation( "Nia", "ANI_EV_YUMI_HIKU", -1, 1 )	// 弓を引く
		ChangeAnimation( "ev_yumi_7", "ANI_YUMI_HIKU", -1, 1 )	// 弓を引く
	}
	ChangeAnimation( "Dina", "ANI_EV_YUMI_HIKU", -1, 1 )	// 弓を引く
	ChangeAnimation( "ev_yumi_6", "ANI_YUMI_HIKU", -1, 1 )	// 弓を引く
	ChangeAnimation( "Thanatos", "ANI_WAIT", -1, 1 )

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -410.356f , 1744.173f , 37.341f , 210 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 7.879f , 210 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -8.350f , 210 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 283.839f , 210 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 210 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 4.6f , 210 )		// ロール回転

	Wait(30)
	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		ChangeAnimation( "Miralda", "ANI_EV_YUMI_UTU_S", -1, 1 )	// 弓を放つ
		ChangeAnimation( "ev_yumi_3", "ANI_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	}
	Wait(5)
	Wait(15)
	
	// 投石器C
	PlaySE(SE_M05S291_04, 100, 0, 0, 0, 1.0f, 0)
	ChangeAnimation( "TOUSEKIKI_3", "ANI_ACTION", -1, 1 )
	StopEffect( -2, "TOUSEKIKI_3" , 1 )
	ChrEffect("TOUSEKIKI_3",3529117,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.0f, 1.0f)	// 投石器C
	Wait(10)
	EarthQuake( 0.1f , 0.1f , 20 )	// 縦揺れ幅, 横揺れ幅, 時間

	Wait(30)
	if (FLAG[GF_SUBEV_JOIN_KASHU]) {
		ChangeAnimation( "Kashu", "ANI_EV_YUMI_UTU_S", -1, 1 )	// 弓を放つ
		ChangeAnimation( "ev_yumi_5", "ANI_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	}
	Wait(20)

	// 投石器B
	PlaySE(SE_M05S291_04, 100, 0, 0, 0, 1.0f, 0)
	ChangeAnimation( "TOUSEKIKI_2", "ANI_ACTION", -1, 1 )
	StopEffect( -2, "TOUSEKIKI_2" , 1 )
	ChrEffect("TOUSEKIKI_2",3529117,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.0f, 1.0f)	// 投石器C
	Wait(10)
	EarthQuake( 0.1f , 0.1f , 20 )	// 縦揺れ幅, 横揺れ幅, 時間
	
	Wait(30)
	
	// 投石器A
	PlaySE(SE_M05S291_04, 100, 0, 0, 0, 1.0f, 0)
	ChangeAnimation( "TOUSEKIKI_1", "ANI_ACTION", -1, 1 )
	StopEffect( -2, "TOUSEKIKI_1" , 1 )
	ChrEffect("TOUSEKIKI_1",3529117,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.0f, 1.0f)	// 投石器C
	Wait(10)
	EarthQuake( 0.1f , 0.1f , 20 )	// 縦揺れ幅, 横揺れ幅, 時間
	
	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	// カット7 ----------------------------------------------------------------------------------------
	
	//　　海面に矢や石が次々と降り注ぎ、波紋や水柱を立てる。
	//　　次第に数発がオケアノスに命中していく。
	
	PlaySE(SE_M05S291_05, 100, 0, 0, 0, 1.0f, 0)	//大暴れの波音

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -445.433f , 1801.402f , -3.153f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 7.879f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 12.755f , 0 )	// 基本仰角
	RotateCamera( 0 , 324.647f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 4.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("ev_b007",-397.63f,1822.94f,-17.04f)
	Turn("ev_b007",104.25f,360.0f)
	PitchChr("ev_b007", -93.25f, 0)
	RollChr("ev_b007", 0.00f, 0)

	ResetChrInfoFlag("ev_b007",	INFOFLAG_INVISIBLE)

	// 位置調整・表情・モーション（次カット用）
	SetChrPos("Thanatos", -402.92f, 1755.71f, 35.09f)
	Turn("Thanatos", 147.84f, 360.0f)
	SetChrPos("Dogi", -401.80f, 1756.51f, 35.03f)
	Turn("Dogi", 144.30f, 360.0f)
	Look("Thanatos", 0.0f, -10.0f)	// うつむく
	Look("Dogi", 0.0f, -10.0f)	// うつむく
	
	// 投石器に岩をセット
	StopEffect( 3529117, ALL , 1 )
	ChrEffect("TOUSEKIKI_1",3529114,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.0f, 1.0f)	// 投石器A
	ChrEffect("TOUSEKIKI_2",3529114,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.0f, 1.0f)	// 投石器B
	ChrEffect("TOUSEKIKI_3",3529114,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.0f, 1.0f)	// 投石器C
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -416.759f , 1814.044f , -7.093f , 180 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 7.879f , 180 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 5.307f , 180 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 62.051f , 180 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 180 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -5.4f , 180 )		// ロール回転

	Effect2( 3529120, -432.846f , 1820.070f , -9.428f, 180.00f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 1.0f, 1.0f)	// 岩・矢が着弾
	Effect2( 3529175, -444.0f , 1834.0f , -9.9f, 180.00f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 1.0f, 1.0f)	// 基本波紋	//★井上テスト用マーカー

	ExecuteFunc(98 , "mp6115v1:water_se")
	
	// フェード待ち
	Wait(FADE_NORMAL)

	Wait(20)
	PlaySE(SE_M05S291_01, 50, 0, 0, 0, 1.0f, 0)
	ChangeAnimation( "ev_b007", "ANI_UNI1", -1, 1 )	// ダメージ
	Effect2( 3529180, -445.0f , 1834.0f , -9.9f, 180.00f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 2.0f, 1.0f)	// 基本波紋 //★井上テスト用マーカー
	EarthQuake(0.1f,0.0f,100.0f) //★井上テスト用マーカー	
	Blur(-1,BLUR_TYPE_AFTERIMAGE,0.2f,100) //★井上テスト用マーカー

	Wait(30)

//	//頭左側側水柱
//	Effect(3256030 ,-450.629f , 1834.013f , -10.1f , 0 ,0 , IMPACT_NONE , KNOCK_EFXPOS,0, 2.8f, 0.8f)	//小さい水柱
//	Effect(3256030 , -451.085f , 1833.950f ,-10.1f  , 0 ,0 , IMPACT_NONE , KNOCK_EFXPOS,0, 2.8f, 1.2f)	//小さい水柱
//
//	//頭右側水柱
//	Effect(3256030 , -439.294f , 1838.569f , -10.1f , 0 ,0 , IMPACT_NONE , KNOCK_EFXPOS,0, 2.8f, 1.2f)	//小さい水柱
//
//	//胴体部分水柱
//	Effect(3256030 , -434.502f , 1830.827f ,-10.1f  , 0 ,0 , IMPACT_NONE , KNOCK_EFXPOS,0, 2.8f, 1.2f)	//小さい水柱
//
//	Wait(30)
//
//	//尻尾側
//	Effect(3256030 , -434.502f , 1830.827f ,-10.1f  , 0 ,0 , IMPACT_NONE , KNOCK_EFXPOS,0, 2.8f, 1.2f)	//小さい水柱
//	Effect(3256030 , -421.273f , 1828.995f ,-10.1f  , 0 ,0 , IMPACT_NONE , KNOCK_EFXPOS,0, 2.8f, 1.2f)	//小さい水柱


	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	StopThread(98)
	
	Wait(10)

	// カット8 ----------------------------------------------------------------------------------------
	
	//　　カメラを陸にいるドギとタナトスに戻す。

	//★投石機操作はレーヤ、クイナがしゃがみこんで両サイドから操作するモーション
	//★アリスンが石を置く部分をいじるモーション
	//石を積んだノードをマップに追加してもらって、その前で肩を落としているリヒトとオースティン
	//オースティンは楽器片手に応援している風でも
	
	// クロスフェード
	CrossFade(FADE_CROSS)
 	SetChrWork("Dogi", CWK_DEFAULT_SKIPNODE_OFF, 1)
 	SetChrWork("Thanatos", CWK_DEFAULT_SKIPNODE_OFF, 1)
 	SetChrWork("Aaron", CWK_DEFAULT_SKIPNODE_OFF, 1)
 	SetChrWork("Licht", CWK_DEFAULT_SKIPNODE_OFF, 1)
 	SetChrWork("Katrin", CWK_DEFAULT_SKIPNODE_OFF, 1)
 	SetChrWork("Dina", CWK_DEFAULT_SKIPNODE_OFF, 1)
 	SetChrWork("Ed", CWK_DEFAULT_SKIPNODE_OFF, 1)
 	SetChrWork("Kashu", CWK_DEFAULT_SKIPNODE_OFF, 1)
 	SetChrWork("Alison", CWK_DEFAULT_SKIPNODE_OFF, 1)
 	SetChrWork("Kuina", CWK_DEFAULT_SKIPNODE_OFF, 1)
 	SetChrWork("Franz", CWK_DEFAULT_SKIPNODE_OFF, 1)
 	SetChrWork("Miralda", CWK_DEFAULT_SKIPNODE_OFF, 1)
 	SetChrWork("Reja", CWK_DEFAULT_SKIPNODE_OFF, 1)
 	SetChrWork("Austen", CWK_DEFAULT_SKIPNODE_OFF, 1)
 	SetChrWork("Nia", CWK_DEFAULT_SKIPNODE_OFF, 1)
 	SetChrWork("Silvia", CWK_DEFAULT_SKIPNODE_OFF, 1)
 	SetChrWork("Paro", CWK_DEFAULT_SKIPNODE_OFF, 1)

	
	// カメラ
	MoveCameraAt( 0 , -402.865f , 1756.409f , 36.699f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.440f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.723f , 0 )	// 基本仰角
	RotateCamera( 0 , 167.971f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 15.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	StopEffect( 3529120, ALL , 1 )	// 岩・矢が着弾

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -402.270f , 1757.108f , 36.739f , 180 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.680f , 180 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.719f , 180 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 159.659f , 180 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 180 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -4.0f , 180 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	FadeBGM(70,10)

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始

	ChangeAnimation( "Thanatos", "ANI_EV_RYOTEKOSI_S", -1, 1 )	// 両手腰

	if (FLAG[GF_SUBEV_JOIN_FRANZ]) {
		ChangeAnimation( "Franz", "ANI_EV_YUMI_UTU_S", -1, 1 )	// 弓を放つ
		ChangeAnimation( "ev_yumi_2", "ANI_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	}

	// タナトス
	TalkMes("Thanatos","#4032V#000e#000mようし、いいぞ！","","")
	WaitPrompt()
	WaitCloseWindow()

	// 投石器A
	PlaySE(SE_M05S291_04, 100, 0, 0, 0, 1.0f, 0)
	ChangeAnimation( "TOUSEKIKI_1", "ANI_ACTION", -1, 1 )
	StopEffect( -2, "TOUSEKIKI_1" , 1 )
	ChrEffect("TOUSEKIKI_1",3529117,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.0f, 1.0f)	// 投石器C
	Wait(10)
	EarthQuake( 0.05f , 0.05f , 20 )	// 縦揺れ幅, 横揺れ幅, 時間
	Wait(30)

	ChangeAnimation( "Dina", "ANI_EV_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	ChangeAnimation( "ev_yumi_6", "ANI_YUMI_UTU_S", -1, 1 )	// 弓を放つ

	// うなずきセット
	HeadYes("Dogi" , 1 , 25 )
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_S, 1)
	Wait(15)
//	PlaySE(SE_M05S291_03, 100, 0, 0, 0, 1.0f, 0)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_E, 1)

	if (FLAG[GF_SUBEV_JOIN_NIA]) {
		ChangeAnimation( "Nia", "ANI_EV_YUMI_UTU_S", -1, 1 )	// 弓を放つ
		ChangeAnimation( "ev_yumi_7", "ANI_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	//	PlaySE(SE_M05S291_03, 100, 0, 0, 0, 1.0f, 0)
}

	// ドギ
	TalkMes("Dogi","#3698V#000e#000mああ、このまま攻撃を続けるぜ。","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -402.270f , 1757.108f , 36.959f , 150 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.080f , 150 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 6.167f , 150 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 162.238f , 150 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 150 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 0.3f , 150 )		// ロール回転

	//　　次の瞬間、「オオオォォォ」と不気味な唸り声が
	//　　オケアノスから聞こえてくる。

	EarthQuake( 0.02f , 0.02f , 120 )	// 縦揺れ幅, 横揺れ幅, 時間
	Blur(BLUR_TYPE_EXPAND, 0.2f, 120)	//ブラー

	PlaySE(SE_M05S291_06, 100, 0, 0, 0, 1.0f, 0)	//オケアノス雄叫び
	PlaySE(SE_M05S291_01, 100, 0, 0, 0, 1.0f, 0)

	// ◆仮
//	TalkMes(UNDEF,"#4C#18S◆オケアノス「オオオオオオオオォォォォォ」","","")
//	WaitPrompt()
//	WaitCloseWindow()
	
	
	//　　漂流者たちに「！」エモーション表示。
	
	EmotionEx("Dogi", 0.00f, EMO_EX, 0, 5, 1, 1, 1.3f )	// 「！」
	EmotionEx("Aaron", 0.00f, EMO_EX, 0, 5, 1, 1, 1.3f )	// 「！」
	EmotionEx("Thanatos", 0.00f, EMO_EX, 0, 5, 1, 1, 1.3f )	// 「！」
	EmotionEx("Licht", 0.00f, EMO_EX, 0, 5, 1, 1, 1.3f )	// 「！」
	EmotionEx("Dina", 0.00f, EMO_EX, 0, 5, 1, 1, 1.3f )	// 「！」
	EmotionEx("Katrin", 0.00f, EMO_EX, 0, 5, 1, 1, 1.3f )	// 「！」
	if (FLAG[GF_SUBEV_JOIN_REJA]) {
		EmotionEx("Reja", 0.00f, EMO_EX, 0, 5, 1, 1, 1.3f )	// 「！」
	}
	EmotionEx("Alison", 0.00f, EMO_EX, 0, 5, 1, 1, 1.3f )	// 「！」
	EmotionEx("Ed", 0.00f, EMO_EX, 0, 5, 1, 1, 1.3f )	// 「！」
	if (FLAG[GF_SUBEV_JOIN_NIA]) {
		EmotionEx("Nia", 0.00f, EMO_EX, 0, 5, 1, 1, 1.3f )	// 「！」
	}
	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		EmotionEx("Miralda", 0.00f, EMO_EX, 0, 5, 1, 1, 1.3f )	// 「！」
	}
	if (FLAG[GF_SUBEV_JOIN_FRANZ]) {
		EmotionEx("Franz", 0.00f, EMO_EX, 0, 5, 1, 1, 1.3f )	// 「！」
	}
	EmotionEx("Kuina", 0.00f, EMO_EX, 0, 5, 1, 1, 1.3f )	// 「！」
	if (FLAG[GF_SUBEV_JOIN_KASHU]) {
		EmotionEx("Kashu", 0.00f, EMO_EX, 0, 5, 1, 1, 1.3f )	// 「！」
	}
	ChangeAnimation( "Dogi", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	ChangeAnimation( "Thanatos", "ANI_EV_RYOTEKOSI_E", -1, 1 )	// 両手腰
	Wait(80)
	
	// カット9 ----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_FAST)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	
	// カメラ
	MoveCameraAt( 0 , -386.453f , 1752.300f , 36.323f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.021f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.410f , 0 )	// 基本仰角
	RotateCamera( 0 , 317.028f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , -7.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("Licht", -386.14f, 1752.04f, 35.20f)
	Turn("Licht", 99.25f, 360.0f)
	SetChrPos("Kuina", -385.70f, 1753.08f, 35.19f)
	Turn("Kuina", 85.04f, 360.0f)
	ChangeSubAnimation("Kuina", SUBMOT_EYE, ANI_E_SAD, 1)	// 目
	ChangeAnimation( "Kuina", "ANI_EV_TEMUNE", -1, 1 )	// 手胸当て
	ChangeAnimation( "Licht", "ANI_EV_SUP", -1, 1 )	// 驚く、軽くのけぞる
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -386.425f , 1752.139f , 36.583f , 120 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.301f , 120 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -0.886f , 120 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 304.699f , 120 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 120 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -11.7f , 120 )		// ロール回転
	
	// フェード待ち
	Wait(20)
	
	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち
	
	// リヒト
	TalkMes("Licht","#4317V#071e#000mひっ、い、今のは……？","","")
	WaitPrompt()
	WaitCloseWindow()
	
	Wait(10)

	// カット10 ----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , -400.766f , 1753.844f , 36.923f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 0.822f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 12.847f , 0 )	// 基本仰角
	RotateCamera( 0 , 199.871f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , -4.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -400.441f , 1753.752f , 36.823f , 210 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 0.821f , 210 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 11.992f , 210 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 180.964f , 210 )

	// フェード待ち
	Look("Aaron",6,3)	//顔が襟にめり込むのが目立ったので少し角度浅めにしました(大草)
	Wait(FADE_CROSS)
//	LookSpd("Aaron",0.20,0.20,0.20)	

	// エアラン
	TalkMes("Aaron","#3938V#000e#000mひょっとして断末魔の叫びかァ？","","")
	WaitPrompt()
	WaitCloseWindow()

	// カット11 ----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ停止
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	
	// カメラ
	MoveCameraAt( 0 , -400.362f , 1754.268f , 35.933f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.982f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.067f , 0 )	// 基本仰角
	RotateCamera( 0 , 56.826f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 0.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 配置
	SetChrPos("Licht",-387.41f, 1753.27f, 35.18f)
	Turn("Licht",-53.53f,360.0f)
	SetChrPos("Alison",-401.76f, 1742.38f, 35.13f)
	Turn("Alison",-58.23f,360.0f)
	SetChrPos("Ed",-400.25f, 1742.00f, 35.15f)
	Turn("Ed",-47.57f,360.0f)
	SetChrPos("Dina",-391.56f, 1751.42f, 35.19f)
	Turn("Dina",-51.13f,360.0f)
	if (FLAG[GF_SUBEV_JOIN_AUSTEN]) {
		SetChrPos("Austen",-395.04f, 1749.59f, 35.16f)
		Turn("Austen",-40.47f,360.0f)
	}
	SetChrPos("Kuina",-387.75f, 1754.88f, 35.17f)
	Turn("Kuina",-53.53f,360.0f)
	if (FLAG[GF_SUBEV_JOIN_SILVIA]) {
		SetChrPos("Silvia",-394.31f, 1746.48f, 35.18f)
		Turn("Silvia",-40.46f,360.0f)
	}
	if (FLAG[GF_SUBEV_JOIN_KASHU]) {
		SetChrPos("Kashu",-396.98f, 1752.48f, 35.15f)
		Turn("Kashu",134.77f,360.0f)
	}
	
	ChangeAnimation( "Ed", "ANI_EV_SUP", -1, 1 )	// 驚く、軽くのけぞる
	ChangeAnimation( "Dina", "ANI_EV_SUP", -1, 1 )	// 驚く、軽くのけぞる
	ChangeAnimation( "Alison", "ANI_EV_TEMUNE", -1, 1 )	// 手胸当て
	if (FLAG[GF_SUBEV_JOIN_SILVIA]) {
		ChangeAnimation( "Silvia", "ANI_EV_RYOTEKOSI", -1, 1 )	// 両手腰
	}
	SetParent("ev_yumi_6", "", "")
	SetParent("ev_ya_6", "", "")
	SetChrPos("ev_yumi_6", -100000.0f, 0.0f, 0.0f)
	SetChrPos("ev_ya_6", -100000.0f, 0.0f, 0.0f)

	// 敵
	SetChrPos("ev_m1005_1",-371.17f, 1739.52f, 35.36f)
	Turn("ev_m1005_1",117.01f,360.0f)
	SetChrPos("ev_m1005_2",-386.82f, 1732.59f, 35.30f)
	Turn("ev_m1005_2",170.31f,360.0f)

	SetChrPos("ev_m0151_1",-376.26f, 1751.92f, 35.24f)
	Turn("ev_m0151_1",88.58f,360.0f)
	SetChrPos("ev_m0151_2",-372.34f, 1749.56f, 35.27f)
	Turn("ev_m0151_2",99.24f,360.0f)
	SetChrPos("ev_m0151_3",-378.05f, 1748.30f, 35.26f)
	Turn("ev_m0151_3",102.79f,360.0f)
	SetChrPos("ev_m0151_4",-382.82f, 1738.96f, 35.30f)
	Turn("ev_m0151_4",141.88f,360.0f)
	SetChrPos("ev_m0151_5",-394.14f, 1733.09f, 35.22f)
	Turn("ev_m0151_5",163.19f,360.0f)
	SetChrPos("ev_m0151_6",-390.84f, 1734.42f, 35.25f)
	Turn("ev_m0151_6",-179.04f,360.0f)
	SetChrPos("ev_m0151_7",-398.01f, 1734.60f, 35.17f)
	Turn("ev_m0151_7",-154.17f,360.0f)

	// 動きばらす
	SetMotSpd("ev_m0151_1" ,-1 , 0.9f )	// モーションスピード変更
	SetMotSpd("ev_m0151_3" ,-1 , 0.95f )	// モーションスピード変更
	SetMotSpd("ev_m0151_6" ,-1 , 0.9f )	// モーションスピード変更
	SetMotSpd("ev_m0151_4" ,-1 , 0.95f )	// モーションスピード変更


	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -401.041f , 1755.743f , 36.773f , 180 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.782f , 180 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 3.073f , 180 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 75.447f , 180 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 180 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -1.4f , 180 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)
	
	LookReset("Dogi")
	Turn("Dogi", -41.60f, 10.0f)
	Wait(10)

	// ドギ
	TalkMes("Dogi","#3699V#031e#000m……いや、残念ながら違うみたいだぜ。","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	//　　カメラ引いて、複数の古代種たちが
	//　　ドギたちに接近して囲みつつあるのを見せる。
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	

	PlaySE(SE_M05S291_01, 50, 0, 0, 0, 1.0f, 0)
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -363.207f , 1744.628f , 41.634f , 135 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.942f , 135 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 12.240f , 135 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 84.609f , 135 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 135 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -13.1f , 135 )		// ロール回転

	Blur( BLUR_TYPE_AFTERIMAGE ,0.1f , 180 )	// 残像
	
	Wait(3)
	LookReset("Thanatos")
	Turn("Thanatos", -59.38f, 10.0f)
	Wait(20)

	// 移動
	ExecuteCmd(1, MoveTo, "ev_m1005_1", -376.25f, 1742.67f, 35.30f, 0.1f, 0.60f)
	PlaySE(SE_M05S291_09, 50, 0, 0, 0, 1.0f, 0)
	Wait(15)
	PlaySE(SE_M05S291_09, 50, 0, 0, 0, 1.0f, 0)
	Wait(15)
	PlaySE(SE_M05S291_09, 50, 0, 0, 0, 1.0f, 0)
	Wait(15)
	PlaySE(SE_M05S291_09, 50, 0, 0, 0, 1.0f, 0)
	WaitThread(1)
	
	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	
	Wait(10)
	
	// カット12 ----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , -390.972f , 1747.824f , 36.373f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.962f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.771f , 0 )	// 基本仰角
	RotateCamera( 0 , 25.447f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 3.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	SetChrPos("Dogi", -394.10f, 1751.57f, 35.16f)
	Turn("Dogi", -55.81f, 360.0f)
	SetChrPos("Thanatos", -391.53f, 1748.16f, 35.20f)
	Turn("Thanatos", -55.83f, 360.0f)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	
	Turn("ev_m1005_1", 111.25f, 360.0f)
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -390.974f , 1748.367f , 36.853f , 180 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.962f , 180 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.100f , 180 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 33.473f , 180 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 180 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 3.2f , 180 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_NORMAL)
	
	// 移動
	SetMotSpd("Dogi" ,-1 , 0.7f )	// モーションスピード変更
	ExecuteCmd(1, MoveTo, "Dogi", -391.23f, 1749.40f, 35.20f, 0.1f, 0.15f)
	
	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)
	ChangeAnimation( "Thanatos", "ANI_EV_UDEGUMI_S", -1, 1 )	// 腕組
	
	// タナトス
	TalkMes("Thanatos","#4033V#000e#000mフン、古代種どもか……","","")
	WaitPrompt()
	WaitCloseWindow()

	// ドギ
	TalkMes("Dogi","#3700V#000e#000mヤツが呼びやがったのか？","","")
	WaitPrompt()
	WaitCloseWindow()

	WaitThread(1)
	SetMotSpd("Dogi" ,-1 , 1.0f )	// モーションスピード戻す

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -390.747f , 1749.204f , 36.913f , 120 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.482f , 120 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.359f, 120 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 39.774f , 120 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 120 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 9.8f , 120 )		// ロール回転

	LookChr("Dina", "Dogi")
	
	// ディナ
	TalkMes("Dina","#4384V#051e#000mど、どうするのよ！？","","")
	WaitPrompt()
	WaitCloseWindow()

	Look("Dogi", 30.0f, -5.0f)	// ←（＾＾）
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKR_S,1)

	// ドギ
	TalkMes("Dogi","#3701V#000e#000mみんなはこのまま",
		"オケアノスに攻撃を続けてくれ。","")
	WaitPrompt()
	WaitCloseWindow()
	
	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -390.747f , 1749.204f , 36.953f , 180 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.242f , 180 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.095f, 180 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 79.315f , 180 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 180 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -9.4f , 180 )		// ロール回転
	
	ChangeAnimation( "Thanatos", "ANI_EV_UDEGUMI_E", -1, 1 )	// 腕組
	
	Look("Dogi", 0.0f, 20.0f)	// うつむく
	Wait(5)
	ChangeSubAnimation("Dogi",SUBMOT_EXT1,ANI_E_LOOKR_E,1)
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_CLOSE_S, 1)	// 目
	ChangeSubAnimation("Dogi", SUBMOT_MOUTH, ANI_M_SMILE_S, 1)	// 口
	Wait(20)
	Look("Dogi", 0.0f, 0.0f)	// うつむく戻す
	Wait(10)

	// ドギ
	TalkMes("Dogi","#3702V#012e#080m上等じゃねえか……",
		"俺はこっちのほうが得意なんだぜ。","")
		Wait(50)
		ChangeAnimation( "Dogi", "ANI_EV_YARUKI_S", -1, 1 )	// こぶしたたきつける
		Wait(15)
		EarthQuake( 0.02f , 0.02f , 10 )	// 縦揺れ幅, 横揺れ幅, 時間
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -386.947f , 1745.792f , 36.353f , 120 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.722f , 120 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -18.710f, 120 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 34.054f , 120 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 120 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 16.1f , 120 )		// ロール回転

	//　　前に歩み出てファイティングポーズを取るドギ。

	SetMotSpd("Dogi" ,-1 , 0.7f )	// モーションスピード変更
	ChangeAnimation( "Dogi", "ANI_EV_YUBINARASI", -1, 1 )	// ファイティングポーズ
	Wait(30)
	PlaySE(SE_M05S291_10, 80, 0, 0, 0, 1.0f, 0)
	Wait(50)
	PlaySE(SE_M05S291_10, 80, 0, 0, 0, 1.0f, 0)

	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	Wait(20)

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -386.937f , 1745.672f , 36.353f , 90 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 3.402f , 90 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -10.401f, 90 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 274.591f , 90 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 90 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 7.2f , 90 )		// ロール回転
	
	WaitAnimation2("Dogi", -1, 1, "ANI_EV_YUBINARASI", 0)

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち

	// ドギ
	TalkMes("Dogi","#3703V#031e#000m来い、古代種ども！",
		"このドギ様が相手になってやる！！","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	SetMotSpd("Dogi" ,-1 , 1.0f )	// モーションスピード戻す

	ChangeAnimation( "ev_m1005_1", "ANI_UNI1", -1, 1 )	// 威嚇っぽいの
	Wait(10)
	EarthQuake( 0.01f , 0.01f , 40 )	// 縦揺れ幅, 横揺れ幅, 時間
	Blur(BLUR_TYPE_EXPAND, 0.1f, 40)	//ブラー
	Wait(10)
	PlaySE(SE_M05S291_11, 80, 0, 200, 0, 1.0f, 0)
	Wait(70)

	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	// カット12 ----------------------------------------------------------------------------------------
	
	//　　鞭を手に取って構えるタナトス。
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -389.426f , 1745.624f , 36.713f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.483f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 1.060f , 0 )	// 基本仰角
	RotateCamera( 0 , 359.108f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 1.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("Thanatos", -389.31f, 1745.91f, 35.22f)
	Turn("Thanatos", 8.12f, 360.0f)
	ChangeAnimation( "Dogi", "ANI_EV_SETARM", -1, 1 )	// 戦闘待機
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -389.679f , 1745.299f , 36.153f , 120 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 2.443f , 120 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -10.399f, 120 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 315.563f , 120 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 120 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -14.0f , 120 )		// ロール回転
	
	// フェード待ち
	Wait(FADE_CROSS)

	SetMotSpd("Thanatos" ,-1 , 0.8f )	// モーションスピード変更
	ChangeAnimation( "Thanatos", "ANI_EV_SETARM", -1, 1 )	// 戦闘待機

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち

	PlaySE(SE_M05S291_12, 100, 0, 200, 0, 1.0f, 0)	//	鞭を手に取る

	// タナトス
	TalkMes("Thanatos","#4034V#000e#080mフフ、ワシも助太刀しようじゃないか。","","")
	WaitPrompt()
	WaitCloseWindow()
	
	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了
	
	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	SetMotSpd("Thanatos" ,-1 , 1.0f )	// モーションスピード戻す

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -388.542f , 1745.857f , 36.293f , 90 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.363f , 90 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -9.826f, 90 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 181.488f , 90 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 90 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 2.6f , 90 )		// ロール回転

	Blur( BLUR_TYPE_AFTERIMAGE ,0.2f , 150 )	// 残像

	Wait(30)
	ChangeAnimation( "ev_m1005_2", "ANI_UNI1", -1, 1 )	// 威嚇っぽいの
	Wait(20)
	PlaySE(SE_M05S291_11, 80, 0, 300, 0, 1.0f, 0)
	
	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	// カット13 ----------------------------------------------------------------------------------------

	//　　弓矢と投石器による攻撃が続くのを背景に、
	//　　ドギとタナトスが古代種たちを撃破していく。
	
	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ
	MoveCameraAt( 0 , -379.705f , 1742.540f , 37.117f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 6.683f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -1.834f , 0 )	// 基本仰角
	RotateCamera( 0 , 350.679f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 6.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 位置調整・表情・モーション
	SetChrPos("Dogi", -383.01f, 1745.10f, 35.27f)
	Turn("Dogi", -70.69f, 360.0f)
	SetChrPos("ev_m1005_1", -377.74f, 1744.46f, 35.29f)
	Turn("ev_m1005_1", 111.25f, 360.0f)
//	SetChrPos("ev_m1005_1", -377.73f, 1743.39f, 35.29f)
//	Turn("ev_m1005_1", 118.36f, 360.0f)
	SetChrPos("Thanatos", -387.20f, 1742.25f, 35.25f)
	Turn("Thanatos", 32.99f, 360.0f)
	SetChrPos("ev_m1005_2", -388.90f, 1736.41f, 35.26f)
	Turn("ev_m1005_2", -179.03f, 360.0f)

	SetChrPos("ev_m0151_4", -100000.0f, 0.0f, 0.0f)	// 邪魔なので飛ばす

	LookChr("Dogi", -10 ,7 )
	LookChr("ev_m1005_1", "Dogi")

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -386.445f , 1739.201f , 37.797f , 240 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 6.683f , 240 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -4.412f , 240 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 137.929f , 240 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 240 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -18.3f , 240 )		// ロール回転

	// フェード待ち
	Wait(FADE_NORMAL)
	
	ExecuteFunc( 100 , "mp6115v1:EV_M05S291_TOUSEKI" )
	
	ExecuteFunc( 200 , "mp6115v1:EV_M05S291_Dogi" )
	
	Wait(80)
	ExecuteFunc( 300 , "mp6115v1:EV_M05S291_Thanatos" )
	
	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	
	// カット14 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	StopThread(100)
	StopThread(200)
	StopThread(300)
	
	// カメラ
	MoveCameraAt( 0 , -408.099f , 1751.166f , 36.937f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 4.984f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.382f , 0 )	// 基本仰角
	RotateCamera( 0 , 152.748f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , -15.7f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -398.251f , 1758.888f , 37.217f , 150 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 4.264f , 150 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 2.236f , 150 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 152.747f , 150 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 150 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -15.7f , 150 )		// ロール回転

	// 弓スタンバイ
	ChangeAnimation( "Aaron", "ANI_EV_YUMI_HIKU", -1, 1 )	// 弓を引く
	ChangeAnimation( "ev_yumi_1", "ANI_YUMI_HIKU_S", -1, 1 )	// 弓を引く
	
	ChangeAnimation( "Katrin", "ANI_EV_YUMI_HIKU", -1, 1 )	// 弓を引く
	ChangeAnimation( "ev_yumi_4", "ANI_YUMI_HIKU", -1, 1 )	// 弓を引く

	if (FLAG[GF_SUBEV_JOIN_FRANZ]) {
		ChangeAnimation( "Franz", "ANI_EV_YUMI_HIKU", -1, 1 )	// 弓を引く
		ChangeAnimation( "ev_yumi_2", "ANI_YUMI_HIKU", -1, 1 )	// 弓を引く
	}
	if (FLAG[GF_SUBEV_JOIN_NIA]) {
		ChangeAnimation( "Nia", "ANI_EV_YUMI_HIKU", -1, 1 )	// 弓を引く
		ChangeAnimation( "ev_yumi_7", "ANI_YUMI_HIKU", -1, 1 )	// 弓を引く
	}
	if (FLAG[GF_SUBEV_JOIN_KASHU]) {
		ChangeAnimation( "Kashu", "ANI_EV_YUMI_HIKU", -1, 1 )	// 弓を引く
		ChangeAnimation( "ev_yumi_5", "ANI_YUMI_HIKU", -1, 1 )	// 弓を引く
	}

	// 投石器に石をセット
	ChrEffect("TOUSEKIKI_1",3529114,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.0f, 1.0f)	// 投石器A
	ChrEffect("TOUSEKIKI_2",3529114,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.0f, 1.0f)	// 投石器B

	Wait(30)
	
	if (FLAG[GF_SUBEV_JOIN_NIA]) {
		ChangeAnimation( "Nia", "ANI_EV_YUMI_UTU_S", -1, 1 )	// 弓を放つ
		ChangeAnimation( "ev_yumi_7", "ANI_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	}
	Wait(10)

	// 投石器A
	PlaySE(SE_M05S291_04, 100, 0, 0, 0, 1.0f, 0)
	ChangeAnimation( "TOUSEKIKI_1", "ANI_ACTION", -1, 1 )
	StopEffect( -2, "TOUSEKIKI_1" , 1 )
	ChrEffect("TOUSEKIKI_1",3529117,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.0f, 1.0f)	// 投石器C
	Wait(10)
	EarthQuake( 0.1f , 0.1f , 20 )	// 縦揺れ幅, 横揺れ幅, 時間

	if (FLAG[GF_SUBEV_JOIN_FRANZ]) {
		ChangeAnimation( "Franz", "ANI_EV_YUMI_UTU_S", -1, 1 )	// 弓を放つ
		ChangeAnimation( "ev_yumi_2", "ANI_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	}
	Wait(20)
	ChangeAnimation( "Katrin", "ANI_EV_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	ChangeAnimation( "ev_yumi_4", "ANI_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	Wait(10)

	// 投石器B
	PlaySE(SE_M05S291_04, 100, 0, 0, 0, 1.0f, 0)
	ChangeAnimation( "TOUSEKIKI_2", "ANI_ACTION", -1, 1 )
	ChrEffect("TOUSEKIKI_2",3529117,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.0f, 1.0f)	// 投石器C
	Wait(10)
	EarthQuake( 0.1f , 0.1f , 20 )	// 縦揺れ幅, 横揺れ幅, 時間

	ChangeAnimation( "Aaron", "ANI_EV_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	ChangeAnimation( "ev_yumi_1", "ANI_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	Wait(20)
	if (FLAG[GF_SUBEV_JOIN_KASHU]) {
		ChangeAnimation( "Kashu", "ANI_EV_YUMI_UTU_S", -1, 1 )	// 弓を放つ
		ChangeAnimation( "ev_yumi_5", "ANI_YUMI_UTU_S", -1, 1 )	// 弓を放つ
	}
	Wait(10)

	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)

	// カット15 ----------------------------------------------------------------------------------------

	//　　画面切り替えて海面にはさらに石と矢が降り注ぐ。
	//　　触手で叩き落とそうとするが、さらに攻撃を受け、
	//　　オケアノスは猛るような啼き声をあげて海中に潜っていく。
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -409.369f , 1805.722f , -1.282f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 19.863f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 8.254f , 0 )	// 基本仰角
	RotateCamera( 0 , 57.064f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , -11.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//遠景水面を一時的にOFF
	MapHide("BG2_sea",0)

	// 位置調整・表情・モーション
	SetChrPos("ev_b007",-438.82f,1842.66f,-62.68f)
	Turn("ev_b007",-37.08f,360.0f)
	PitchChr("ev_b007", 7.44f, 0)
	RollChr("ev_b007", 8.88f, 0)

	ChangeAnimation( "Thanatos", "ANI_EV_SETARM", -1, 1 )	// 戦闘待機
	SetChrPos("Thanatos", -389.81f, 1741.62f, 35.23f)
	Turn("Thanatos", -16.75f, 360.0f)
	
	SetChrPos("Aaron", -390.91f, 1748.28f, 35.20f)
	Turn("Aaron", -53.54f, 360.0f)
	ChangeAnimation( "Aaron", "ANI_WAIT", -1, 1 )	// 待機
	SetParent("ev_yumi_1", "", "")
	SetParent("ev_ya_1", "", "")
	SetChrPos("ev_yumi_1", -100000.0f, 0.0f, 0.0f)
	SetChrPos("ev_ya_1", -100000.0f, 0.0f, 0.0f)
	
	// 次カット重いのでいったん飛ばす
	SetChrPos("ev_m0151_1", -100000.0f, 0.0f, 0.0f)
	SetChrPos("ev_m0151_2", -100000.0f, 0.0f, 0.0f)
	SetChrPos("ev_m0151_3", -100000.0f, 0.0f, 0.0f)
	
	Effect2( 3529120, -438.549f , 1832.930f , -9.428f, 180.00f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 1.0f, 1.0f)	// 岩・矢が着弾
	Effect2( 3529175, -444.0f , 1834.0f , -9.9f, 180.00f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 1.0f, 1.0f)	// 基本波紋

	ExecuteFunc(98 , "mp6115v1:water_se")

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -435.428f , 1817.153f , -6.999f , 240 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 19.864f , 240 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 6.535f , 240 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 357.763f , 240 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 240 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 3.8f , 240 )		// ロール回転

	//MoveCameraAt( 0 , -435.428f , 1817.153f , -6.999f , 0 )	// 注視点
	//ChangeCameraDistance( 0 , 19.864f , 0 )		// 基本距離
	//ChangeCameraElevation( 0 , 6.535f , 0 )	// 基本仰角
	//RotateCamera( 0 , 357.763f , 0 )				// 角度
	//ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	//SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	//RollCamera( 0 , 3.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	PlaySE(SE_M05S291_05, 100, 0, 0, 0, 1.0f, 0)
	PlaySE(SE_M05S291_01, 70, 0, 0, 0, 1.0f, 0)

	PlaySE(SE_M05S291_06, 70, 0, 0, 0, 1.0f, 0)

	ChangeAnimation( "ev_b007", "ANI_EV_AQUATIC_DAMAGE", -1, 1 )	// 騒いでいるようなの

	Effect2( 3529180, -445.0f , 1834.0f , -9.9f, 180.00f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 2.0f, 1.0f)	// 基本波紋
	EarthQuake(0.2f,0.0f,100.0f)
	Blur(BLUR_TYPE_AFTERIMAGE,0.2f,100)

//	WaitAnimation2("ev_b007", -1, 1, "ANI_EV_AQUATIC_DAMAGE", 0)
	ExecuteCmd(1, MoveZ , "ev_b007" , -86.79f , 0 , INTERPOLATE_SPHERE  , 350 )


	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	StopThread(98)

	Wait(45)

	// カット16 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -403.886f , 1751.846f , 36.369f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.302f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -0.332f , 0 )	// 基本仰角
	RotateCamera( 0 , 272.245f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 3.8f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	ChangeAnimation( "Katrin", "ANI_WAIT", -1, 1 )	// 待機
	Look("Katrin", 0.0f, -10.0f)	// うつむく
	SetParent("ev_yumi_4", "", "")
	SetParent("ev_ya_4", "", "")
	SetChrPos("ev_yumi_4", -100000.0f, 0.0f, 0.0f)
	SetChrPos("ev_ya_4", -100000.0f, 0.0f, 0.0f)
	
	StopEffect( 3529120, ALL , 1 )	// 岩・矢が着弾
	
	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -403.865f , 1751.588f , 36.549f , 60 )
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.162f , 60 )
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -7.780f , 60 )
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 260.501f , 60 )
	
	Wait(30)
	
	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち
	
	// カトリーン
	TalkMes("Katrin","#4125V#071e#000mオケアノスが消えたわ？","","")
	WaitPrompt()
	WaitCloseWindow()

	// カット17 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)
	// カメラ待ち
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)

	// カメラ
	MoveCameraAt( 0 , -390.127f , 1741.087f , 36.109f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.742f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 0.001f , 0 )	// 基本仰角
	RotateCamera( 0 , 340.059f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , -9.4f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	//遠景水面を戻す
	MapHide("BG2_sea",1)
	
	// 位置調整・表情・モーション
	SetChrPos("Licht", -388.50f, 1753.14f, 35.19f)
	Turn("Licht", -21.55f, 360.0f)
	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		SetChrPos("Miralda", -387.20f, 1754.47f, 35.17f)
		Turn("Miralda", -33.35f, 360.0f)
	}
	SetChrPos("Kuina", -387.82f, 1754.72f, 35.17f)
	Turn("Kuina", -32.21f, 360.0f)
	SetParent("ev_yumi_3", "", "")
	SetParent("ev_ya_3", "", "")
	SetChrPos("ev_yumi_3", -100000.0f, 0.0f, 0.0f)
	SetChrPos("ev_ya_3", -100000.0f, 0.0f, 0.0f)
	if (FLAG[GF_SUBEV_JOIN_MIRALDA]) {
		ChangeAnimation( "Miralda", "ANI_EV_RYOTEKOSI", -1, 1 )	// 両手腰
	}
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -389.862f , 1741.172f , 36.589f , 180 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.261f , 180 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -1.146f , 180 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 352.089f , 180 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 180 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 2.1f , 180 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	// タナトス
	TalkMes("Thanatos","#4035V#000e#000mいや、海中に潜ったんじゃ。",
		"傷ついて住処へ逃げ帰る気じゃな。","")
	WaitPrompt()

	// うなずきセット
	HeadYes("Thanatos" , 1 , 25 )
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_CLOSE_S, 1)

	// タナトス
	TalkMes("Thanatos","#4036V#000mこれでいい……",
		"アドル、あとは頼んだぞ。","")
	WaitPrompt()
	WaitCloseWindow()

	// カット18 ----------------------------------------------------------------------------------------

	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ停止（Aイベント用）
	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)

	// カメラ
	MoveCameraAt( 0 , -390.480f , 1748.001f , 37.029f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.262f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 3.151f , 0 )	// 基本仰角
	RotateCamera( 0 , 26.173f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 2.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -390.480f , 1748.001f , 36.849f , 70 )

	// フェード待ち
	Wait(FADE_CROSS)

	//　　エアランに「！」エモーション
	EmotionEx("Aaron", 0.00f, EMO_EX, 0, 5, 1, 1, 1.0f )	// 「！」
	Wait(40)

	// エアラン
	TalkMes("Aaron","#3939V#030e#000mおい、見ろ！！","","")
	WaitPrompt()
	WaitCloseWindow()

	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了

	// カット19 ----------------------------------------------------------------------------------------

	//　　引いたカメラでさらに古代種たちが押し寄せ、
	//　　漂流者たちを押し包もうとしているのを見せる。
	
	// クロスフェード
	CrossFade(FADE_NORMAL)
	
	// カメラ停止
	StopThread(1000)
	
	// カメラ
	MoveCameraAt( 0 , -395.019f , 1748.366f , 38.525f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 13.021f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , 4.522f , 0 )	// 基本仰角
	RotateCamera( 0 , 241.137f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , -13.1f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// 敵
	SetChrPos("ev_m1005_1",-377.60f, 1742.88f, 35.30f)
	Turn("ev_m1005_1",104.15f,360.0f)
	SetChrPos("ev_m1005_2",-384.28f, 1727.87f, 35.32f)
	Turn("ev_m1005_2",156.10f,360.0f)
	SetChrPos("ev_m1005_3",-396.51f, 1711.31f, 35.19f)
	Turn("ev_m1005_3",177.42f,360.0f)

	SetChrPos("ev_m0151_1",-376.26f, 1751.92f, 35.24f)
	Turn("ev_m0151_1",88.58f,360.0f)
	SetChrPos("ev_m0151_2",-371.19f, 1749.16f, 35.28f)
	Turn("ev_m0151_2",88.58f,360.0f)
	SetChrPos("ev_m0151_3",-378.08f, 1748.05f, 35.26f)
	Turn("ev_m0151_3",102.79f,360.0f)
	SetChrPos("ev_m0151_4",-382.82f, 1738.96f, 35.30f)
	Turn("ev_m0151_4",141.88f,360.0f)
	SetChrPos("ev_m0151_5",-396.48f, 1730.83f, 35.21f)
	Turn("ev_m0151_5",166.74f,360.0f)
	SetChrPos("ev_m0151_6",-391.25f, 1734.20f, 35.25f)
	Turn("ev_m0151_6",-175.49f,360.0f)
	SetChrPos("ev_m0151_7",-401.39f, 1732.68f, 35.15f)
	Turn("ev_m0151_7",-161.28f,360.0f)
	
	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -397.714f , 1747.260f , 38.525f , 180 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 13.021f , 180 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , 7.673f , 180 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 180.117f , 180 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 180 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , -0.8f , 180 )		// ロール回転
	
	Wait(90)
	
	// 移動
	ExecuteCmd(1, MoveTo, "ev_m1005_2", -386.59f, 1733.38f, 35.30f, 0.1f, 0.50)
	Wait(25)
	PlaySE(SE_M05S291_09, 40, 0, 0, 0, 1.0f, 0)
	Wait(15)
	PlaySE(SE_M05S291_09, 40, 0, 0, 0, 1.0f, 0)
	
	ChangeAnimation( "ev_m1005_3", "ANI_STEP_F", -1, 1 )	// フロントステップ
	Wait(15)
	PlaySE(SE_M05S291_09, 40, 0, 0, 0, 1.0f, 0)
	
	// カメラ待ち（Aイベント用）
	WaitThread(1000)
	WaitThread(1001)
	WaitThread(1002)
	WaitThread(1003)
	WaitThread(1004)
	WaitThread(1005)
	
	// カット20 ----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)
	
	// カメラ
	MoveCameraAt( 0 , -388.038f , 1753.166f , 36.605f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 2.120f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.376f , 0 )	// 基本仰角
	RotateCamera( 0 , 344.359f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , 4.9f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。
	
	// 位置調整・表情・モーション
	SetChrPos("Dogi", -388.28f, 1743.10f, 35.24f)
	Turn("Dogi", -102.67f, 360.0f)
	SetChrPos("Thanatos", -389.04f, 1742.50f, 35.23f)
	Turn("Thanatos", 18.78f, 360.0f)
	LookReset("Dogi")
	ChangeSubAnimation("Dogi", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	ChangeSubAnimation("Thanatos", SUBMOT_EYE, ANI_E_WAIT, 1)	// 目
	

	SetStopFlag(STOPFLAG_CINEMA)	// 字幕開始
	Wait(10)	// 字幕待ち
	
	// リヒト
	TalkMes("Licht","#4318V#050e#000mひいっ、か、囲まれてますよ！？","","")
	WaitPrompt()
	WaitCloseWindow()

	// カット21 ----------------------------------------------------------------------------------------
	
	// クロスフェード
	CrossFade(FADE_CROSS)

	// カメラ
	MoveCameraAt( 0 , -389.053f , 1742.409f , 36.553f , 0 )	// 注視点
	ChangeCameraDistance( 0 , 1.701f , 0 )		// 基本距離
	ChangeCameraElevation( 0 , -3.481f , 0 )	// 基本仰角
	RotateCamera( 0 , 306.841f , 0 )				// 角度
	ChangeCameraPers( 0 , 40.000f , 0 )			// 視野角
	SetCameraZPlane( 0.100f , 1600.000f )			// ZPlane
	RollCamera( 0 , -16.6f , 0 )				// ロール回転
	// ResetCameraZPlane()	// イベント終了時に呼び出して下さい。マップ側の設定に戻します。

	// カメラ移動（Aイベント用）
	ExecuteCmd(1000, MoveCameraAt, INTERPOLATE_SPHERE , -387.553f , 1742.628f , 36.693f , 270 )		// 注視点
	ExecuteCmd(1001, ChangeCameraDistance, INTERPOLATE_SPHERE , 1.901f , 270 )		// 基本距離
	ExecuteCmd(1002, ChangeCameraElevation, INTERPOLATE_SPHERE , -2.334f , 270 )		// 基本仰角
	ExecuteCmd(1003, RotateCamera, INTERPOLATE_SPHERE , 72.059f , 270 )		// 角度
	ExecuteCmd(1004, ChangeCameraPers, INTERPOLATE_SPHERE , 40.000f , 270 )		// 視野角
	ExecuteCmd(1005, RollCamera, INTERPOLATE_SPHERE , 20.1f , 270 )		// ロール回転

	// フェード待ち
	Wait(FADE_CROSS)

	HeadNo("Thanatos", 2, 25)	// キャラ, 回数, 速さ
	Wait(10)

	// タナトス
	TalkMes("Thanatos","#4037V#061e#000mやれやれ、そう簡単に",
		"楽をさせてはくれんか……","")
	WaitPrompt()
	WaitCloseWindow()

	// ドギ
	TalkMes("Dogi","#3704V#040e#000m古代種どもを撃破する。",
		"みんな、武器を持ってくれ！！","")
	WaitPrompt()
	WaitCloseWindow()

	SetEnvSEPlayState(-1, 0)	//環境SE全停止

	// フェードアウト
	FadeOut(FADE_BLACK, FADE_NORMAL)
	WaitFade()
	
	ResetStopFlag(STOPFLAG_CINEMA)	// 字幕終了
	
	//終了処理ここから----------------------------------------------------
	CallFunc("mp6115v1:EV_M05S291_ED")
}

function "EV_M05S291_ED"
{
	//終了処理はスキップ禁止
	SetSkipScript("")

	StopThread(1000)
	StopThread(1001)
	StopThread(1002)
	StopThread(1003)
	StopThread(1004)
	StopThread(1005)
	StopThread(100)
	StopThread(200)
	StopThread(300)
	StopThread(1)

	StopEffect(-1,ALL,1)
	Wait(1)

	// エフェクトリリース
	ReleaseEffect("efx_ev05.ite")
	ReleaseEffect("b007.ite")
	ReleaseEffect("m1005.ite")

	//イベント前のキャラ情報を復帰
	RestoreEventState()

	//NowLoading 時の Tips 表示をカット
	SetFlag(TF_LOADING_TIPS_OFF, 1)

	//イベント・ギャラリー中
	if(FLAG[TF_EVSKIP] && FLAG[SF_GALLERY_EVENT])
	{
		FadeBGM(100,15)
		SoundEfx( SEFX_DEFAULT, 15 )
		SetEnvSEPlayState(-1, 0)	//環境SE全停止
		GalleryEvEnd(0)		// イベントギャラリー終了（スクリプトから強制的に抜けていろいろ処理してくれる）
		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}
	// 通常時
	else
	{
		PlayBGM(BGM_BOSS_005, 0)
		SetFlag(SF_NOCHANGEBGM, 1)

		LoadArg("map/mp6370/mp6370.arg")
		EventCue("mp6370:EV_M05S292")

		ResetStopFlag(STOPFLAG_EVENTIMPOSE)
	}
	//終了処理ここまで----------------------------------------------------
}

function "EV_M05S291_TOUSEKI"
{
	while(1) {
		
		Wait(60)
		
		// 投石器C
		PlaySE(SE_M05S291_04, 40, 0, 0, 0, 1.0f, 0)
		ChangeAnimation( "TOUSEKIKI_3", "ANI_ACTION", -1, 1 )
		ChrEffect("TOUSEKIKI_3",3529117,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.0f, 1.0f)	// 投石器C
		Wait(10)
		EarthQuake( 0.05f , 0.05f , 20 )	// 縦揺れ幅, 横揺れ幅, 時間

		Wait(80)

		// 投石器B
		PlaySE(SE_M05S291_04, 40, 0, 0, 0, 1.0f, 0)
		ChangeAnimation( "TOUSEKIKI_2", "ANI_ACTION", -1, 1 )
		ChrEffect("TOUSEKIKI_2",3529117,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.0f, 1.0f)	// 投石器C
		Wait(10)
		EarthQuake( 0.05f , 0.05f , 20 )	// 縦揺れ幅, 横揺れ幅, 時間

		Wait(40)

		// 投石器A
		PlaySE(SE_M05S291_04, 40, 0, 0, 0, 1.0f, 0)
		ChangeAnimation( "TOUSEKIKI_1", "ANI_ACTION", -1, 1 )
		StopEffect( -2, "TOUSEKIKI_1" , 1 )
		ChrEffect("TOUSEKIKI_1",3529117,0.0f,0.0f,0.0f,0,0,IMPACT_NONE , KNOCK_EFXPOS,1.0f,0.0f,0, 1.0f, 1.0f)	// 投石器C
		Wait(10)
		EarthQuake( 0.05f , 0.05f , 20 )	// 縦揺れ幅, 横揺れ幅, 時間
			
	}
	
}

function "EV_M05S291_Dogi"
{
	
	ChangeAnimation( "Dogi", "ANI_EV_ATK1", -1, 1 )	// パンチキック
	Wait(10)

	Effect2( 3529140, -381.410f , 1744.386f , 37.172f, 0.00f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 1.0f, 2.0f)	// ヒット
	PlaySE(SE_M05S291_14, 70, 0, 0, 0, 1.0f, 0)
	Wait(10)
	Wait(10)
	PlaySE(SE_M05S291_14, 70, 0, 0, 0, 1.0f, 0)
	Effect2( 3529150, -382.280f , 1745.523f , 37.652f, 0.00f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 1.0f, 2.5f)	// ヒット

	LookReset("ev_m1005_1")
	ChangeAnimation( "ev_m1005_1", "ANI_KNOCKDOWN_F", -1, 1 )	// ノックダウン
	
}


function "EV_M05S291_Thanatos"
{
	
	ChangeAnimation( "Thanatos", "ANI_EV_ATK", -1, 1 )	// 鞭で攻撃
	PlaySE(SE_M05S291_15, 100, 0, 0, 0, 1.0f, 0)
	Wait(10)
	
	Effect2( 3529160, -389.138f , 1741.218f , 37.905f, 0.00f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 1.0f, 2.0f)	// ヒット
	Wait(10)
	PlaySE(SE_M05S291_15, 100, 0, 0, 0, 1.0f, 0)
	Wait(10)
	Effect2( 3529170, -389.493f , 1740.548f , 36.417f, 0.00f, 0, 0, IMPACT_NONE, KNOCK_EFXPOS, 0, 1.0f, 2.5f)	// ヒット
	Wait(10)
	
	ChangeAnimation( "ev_m1005_2", "ANI_STEP_B", -1, 1 )	// バックステップ
	Wait(10)
	PlaySE(SE_M05S291_09, 100, 0, 0, 0, 1.0f, 0)
}

function "water_se"
{
	Wait(45)
	while(1){
		PlaySE(SE_M05S291_08, 50, 0, 0, 0, 1.0f, 0)
		Wait(30)
		PlaySE(SE_M05S291_13, 30, 0, 0, 0, 1.0f, 0)
		Wait(10)
		PlaySE(SE_M05S291_08, 40, 0, 0, 0, 1.0f, 0)
		Wait(20)
		PlaySE(SE_M05S291_13, 50, 0, 0, 0, 1.0f, 0)
		Wait(15)
	}
}